"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[82122],{149375:(e,t,i)=>{i.d(t,{v:()=>n});i(296540);var o=i(474848);const n=(0,i(340498).wt)("arrowLeftThick",{viewBox:"0 0 16 16",directional:!0,svg:(0,o.jsx)("path",{d:"M1.54004 8.05762C1.54004 8.2627 1.62891 8.46094 1.78613 8.61133L6.29102 13.1162C6.45508 13.2734 6.63965 13.3486 6.82422 13.3486C7.25488 13.3486 7.5625 13.041 7.5625 12.6309C7.5625 12.4189 7.48047 12.2344 7.34375 12.1045L5.8125 10.5527L3.78906 8.70703L5.38867 8.80273H13.7012C14.1455 8.80273 14.46 8.49512 14.46 8.05762C14.46 7.61328 14.1455 7.3125 13.7012 7.3125H5.38867L3.7959 7.4082L5.8125 5.5625L7.34375 4.01074C7.48047 3.87402 7.5625 3.68945 7.5625 3.47754C7.5625 3.06738 7.25488 2.7666 6.82422 2.7666C6.63965 2.7666 6.45508 2.83496 6.27734 3.00586L1.78613 7.50391C1.62891 7.64746 1.54004 7.85254 1.54004 8.05762Z"})})},255824:(e,t,i)=>{i.d(t,{a:()=>l});var o=()=>i(56366);const n=new(i(496506).ComputedStore)((()=>i(263711).g.state.isOpen),{debugName:"IsInPageViewModeStore"});function l(){return(0,o().O$)(n)}},398217:(e,t,i)=>{i.d(t,{Jv:()=>x,Rl:()=>k,mA:()=>S});var o=i(296540),n=()=>i(484714),l=()=>i(56366),r=()=>i(401497),a=()=>i(970013),s=()=>i(743176),c=()=>i(780054),d=()=>i(68465),u=()=>i(159588),p=()=>i(963589),h=i(474848);const g=function(){return(0,h.jsx)(i(464708).A,{color:"purple",style:{marginLeft:6,padding:"1px 4px",display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1},content:(0,h.jsx)(i(959013).sA,{defaultMessage:"AI",id:"database.property.aiAutofillEnabledIndicator"})})};const S=o.memo((function(e){const{propertySchema:t,showIcon:o,showDragIcon:n,hideName:l,badge:a,style:s,iconStyle:d,iconSize:p,dragHandleStyle:g,className:S,labelSizeVariant:x}=e,f=c().A.isMobile?16:14,m=(0,r().IS)((e=>({container:{display:"flex",alignItems:"center",lineHeight:"120%",minWidth:0,fontSize:f,...s},iconWrapper:{display:"grid",justifyContent:"center",alignItems:"center",marginRight:l?void 0:"small"===x||n?4:c().A.isMobile?9:6,...d},dragHandle:{gridColumn:1,gridRow:1,opacity:n?1:0,transition:`opacity ${u().bM}`},itemIcon:{gridColumn:1,gridRow:1,opacity:n?0:1,transition:`opacity ${u().bM}`},dragIcon:{fill:e.icon.secondary}})),[f,l,d,x,n,s]);return(0,h.jsxs)("div",{className:S,style:m.container,children:[o&&(0,h.jsxs)("div",{style:m.iconWrapper,children:[(0,h.jsx)("div",{style:m.itemIcon,children:(0,h.jsx)(k,{propertySchema:t,iconSize:p,iconStyle:d})}),(0,h.jsx)("div",{style:m.dragHandle,children:(0,h.jsx)(i(57232).A,{style:g,iconSize:12,iconStyle:m.dragIcon})})]}),!l&&(0,h.jsx)("div",{style:{...i(284371).RC},children:t.name}),a]})}));function x(e){const{propertySchema:t}=e,i=(0,n().v3)();return(0,l().K8)((()=>(0,d().O0)(i)&&a().$M(t)&&a().om(t)),[i,t])?(0,h.jsx)(g,{}):null}function k(e){const{propertySchema:t,iconSize:i,iconStyle:o}=e,n=(0,r().DP)(),l=(0,p().X)("nds_default_property_noticon"),a=c().A.isMobile?18:16;return(0,h.jsx)(s().zB,{type:t.type,icon:t.icon,size:i||a,theme:n,style:o,isDefaultNoticonEnabled:l})}},525432:(e,t,i)=>{i.d(t,{Bd:()=>a,DN:()=>g,II:()=>m,R8:()=>f,U9:()=>k,VM:()=>x,ZF:()=>p,ZI:()=>d,bf:()=>c,jx:()=>u,wW:()=>S,xO:()=>s});i(16280),i(296540);var o=()=>i(651124),n=()=>i(959013),l=()=>i(712505),r=i(474848);let a=function(e){return e[e.ViewSettings=0]="ViewSettings",e[e.FilterBar=1]="FilterBar",e[e.TopbarFilterPopup=2]="TopbarFilterPopup",e[e.TopbarSortPopup=3]="TopbarSortPopup",e[e.TopbarFollowPopup=4]="TopbarFollowPopup",e[e.MobileSheet=5]="MobileSheet",e}({});const s=480,c=320;function d(e){const{timelineViewTab:t,collectionContextStore:i}=e,n=u({collectionContextStore:i}),l=p({collectionContextStore:i});return"timeline"===n?"timeline"===t?"timeline_properties":l?"timeline_table_properties":void 0:(0,o().u9)(u({collectionContextStore:i}))}function u(e){var t;const{collectionContextStore:i}=e,o=null===(t=i.collectionViewStore())||void 0===t?void 0:t.getType();if(!o)throw new Error("View type was not defined.");return o}function p(e){const{collectionContextStore:t}=e,i=t.normalizedFormatStore.state;return Boolean(i.timeline_show_table)}const h=600;function g(e,t,i){const o=i||0,n=e.settingsStore.state;if(n.open&&!0!==n.hideSettingsPopup)return S(e,t,o)}function S(e,t,i){const o=i||0,n=e.settingsStore.state,r=u({collectionContextStore:e});return n.open&&"form_editor"===r||t||l().default.isSidePeekOpen()||e.isInHomeWidgetStore.state||e.isInlineViewStore.state||o<=h?"popup":"sidebar"}function x(e){let{hasOnlyLinkedDataSources:t,isCollectionViewPageWithContent:i,locked:o}=e;return i?o?(0,r.jsx)(n().sA,{defaultMessage:"Unlock wiki",id:"action.unlockWikiName.name"}):(0,r.jsx)(n().sA,{defaultMessage:"Lock wiki",id:"action.lockWikiName.name"}):t?o?(0,r.jsx)(n().sA,{defaultMessage:"Unlock views",id:"database.viewSettings.mainTab.unlockViews.title"}):(0,r.jsx)(n().sA,{defaultMessage:"Lock views",id:"database.viewSettings.mainTab.lockViews.title"}):o?(0,r.jsx)(n().sA,{defaultMessage:"Unlock database",id:"database.viewSettings.mainTab.unlockDatabase.title"}):(0,r.jsx)(n().sA,{defaultMessage:"Lock database",id:"database.viewSettings.mainTab.lockDatabase.title"})}let k=function(e){return e[e.Source=0]="Source",e[e.Relation=1]="Relation",e}({});const f=6;function m(e){let{currentViewType:t,isPlaceholderExternalCollection:i,collectionContextStore:o,allowedActions:n,settingsHeaderSizeObserver:l}=e;return"page"!==t&&"form_editor"!==t&&(!i&&(!!o.shouldAllowNewItemCreation()&&(!(n&&!n.includes("addItem"))&&!(l&&l.rect.state.width>c))))}},735695:(e,t,i)=>{i.d(t,{Ay:()=>T,iZ:()=>v,vE:()=>w});var o=i(296540),n=()=>i(804773),l=()=>i(401497),r=()=>i(149375),a=()=>i(66913),s=()=>i(959013),c=()=>i(284371),d=()=>i(686526),u=()=>i(704152),p=()=>i(285790),h=()=>i(928600),g=()=>i(480095),S=()=>i(554509),x=()=>i(780054),k=()=>i(722872),f=()=>i(253579),m=()=>i(255824),b=i(474848);const y=(0,s().YK)({back:{defaultMessage:"Back",id:"collectionsSettingsMenu.back"}}),w=290,v=400;function C(e){let{children:t,title:i,desktopTitleType:o,settingsStackLength:n,handleClose:d,handleBackArrowClick:h,hideDesktopHeader:g,hasBackStack:x}=e;const k=(0,m().a)(),f=(0,s().tz)(),w=(0,l().IS)((e=>({hiddenDesktopHeaderDiv:{height:0},nonHiddenDesktopHeaderDiv:{display:"flex",alignItems:k?"top":"center",padding:k?"0px 14px 6px 14px":"14px 16px 6px 16px",height:k?void 0:42},arrowButton:{marginRight:8,marginLeft:-2,height:22},arrowIcon:{width:16,height:16},title:{flexGrow:1,fontWeight:k?c().Wy.medium:c().Wy.semibold,fontSize:k?16:14,lineHeight:k?"24px":void 0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},closeButton:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:e.buttonHoveredBackground,width:18,height:18,flexShrink:0},closeButtonHover:{background:e.buttonPressedBackground},closeIcon:{width:14,fill:e.text.secondary}})),[k]),v=!k;return(0,b.jsxs)(b.Fragment,{children:[g?(0,b.jsx)("div",{style:w.hiddenDesktopHeaderDiv}):(0,b.jsxs)("div",{style:w.nonHiddenDesktopHeaderDiv,children:[(n>1||x)&&(0,b.jsx)(p().A,{icon:r().v,style:w.arrowButton,iconStyle:w.arrowIcon,onClick:h,ariaLabel:f.formatMessage(y.back)}),"sectionHeader"===o?(0,b.jsx)(S().D,{styleName:"UISmall-12px/Medium",colorName:"secondary",customStyles:{flexGrow:1},children:i}):(0,b.jsx)("span",{style:w.title,children:i}),v&&(0,b.jsx)(u().A,{onClick:d,style:w.closeButton,hoveredStyle:w.closeButtonHover,children:(0,a().V)(w.closeIcon)})]}),t]})}function j(e,t){let{children:l,footer:r,header:a,unconstrainedWidth:s,desktopWidth:c,title:u,desktopTitleType:p,collectionSettingsStore:S,fullHeight:y,hideDesktopHeader:v,menuScrollerStyle:j,innerContentWrapperStyle:T,disableScroller:A,handleBackArrowClick:M,hasBackStack:I,handleClose:H}=e;const B=(0,i(175116).Ks)(),D=(0,k().Tf)(),L=(0,m().a)(),{currentTab:W,settingsStackLength:P,hideHeader:R}=(0,i(56366).K8)((()=>{const e=S.state;return{currentTab:(0,i(940371).S)(S),settingsStackLength:e.stack.length,hideHeader:e.hideSettingsHeader}}),[S]),V=(0,o.useCallback)((()=>{var e;M?M():d().yl({collectionSettingsStore:S,keepPreviousRef:"form_editor"===(null==B||null===(e=B.collectionViewStore())||void 0===e?void 0:e.getType())})}),[M,S,B]),_=(0,o.useCallback)((e=>{H?H(e):d().os({collectionSettingsStore:S})}),[H,S]),z=(0,o.useCallback)((e=>{(0,f().rW)(e.target)||(0,f().iX)(e.target)||(0,f().u2)(e.target)||i(263711).g.state.isOpen||_(e)}),[_]);if(!W)return null;let N;if(x().A.isMobile)N={disableScroller:A,menuType:k().gu.Modal,title:u,left:P>1?(0,b.jsx)(g().MobileModalBackButton,{}):void 0,onClickLeft:P>1?V:void 0,scrollerStyle:j,innerRef:t,right:D?void 0:(0,b.jsx)(g().DoneMenuText,{}),onClickRight:D?void 0:_};else{const e=s||c?void 0:L?280:w;N={disableScroller:A,menuType:k().gu.Popup,minWidth:L?280:w,width:c,maxHeight:y?"100%":"80vh",...e&&{maxWidth:e},onClickOutside:z,scrollerStyle:{flexGrow:0,...j},header:!R&&(0,b.jsx)(C,{settingsStackLength:P,handleClose:_,handleBackArrowClick:V,hasBackStack:I,hideDesktopHeader:v,title:u,desktopTitleType:p,children:a}),paddingTop:R?6:0,footer:r,innerRef:t}}const F=(0,b.jsxs)(b.Fragment,{children:[x().A.isMobile&&a,l,x().A.isMobile&&r]});return y?(0,b.jsx)(n().Y,{direction:"vertical",children:(0,b.jsx)(h().A,{...N,children:F})}):(0,b.jsx)(i(297872).A,{capture:!0,allowMobileAutoScroll:!0,allowEsc:!0,render:e=>(0,b.jsx)(n().Y,{direction:"vertical",children:(0,b.jsx)(h().A,{...N,...e,children:(0,b.jsx)("div",{style:T,children:F})})})})}const T=(0,o.forwardRef)(j)}}]);