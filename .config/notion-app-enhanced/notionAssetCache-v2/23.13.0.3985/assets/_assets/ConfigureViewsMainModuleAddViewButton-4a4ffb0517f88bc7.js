(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[88208],{6731:(e,t,o)=>{"use strict";o.d(t,{D:()=>d});o(898992),o(803949);var n=o(296540),i=()=>o(56366),r=()=>o(476158),s=()=>o(388821),a=()=>o(751156),l=()=>o(841696),c=()=>o(765957);function d(e){let{unpersistedInMemoryRecordCache:t}=e;const o=(0,i().K8)((()=>{var e;return null===(e=c().default.state.currentUserStore)||void 0===e?void 0:e.userId}),[]),d=(0,n.useCallback)((e=>{let{perform:n}=e;const i=new(l().Z)({deadlockTimeoutMs:a().DEADLOCK_WARNING_TIMEOUT_MS}),c=n(i),d=s().RecordMap.create();i.stores.forEach((e=>{const t=e.getRecordModel(e.pointer);t&&d.addModel(t)})),(0,r().applyOperationsToRecordMap)({operations:i.operations,recordMap:d,updateOnly:!1});for(const r of d){const{model:e,pointer:n}=r;t.setModelAndRole({pointer:n,userId:o},e,"editor")}return t.emitAll(),{performResult:c,serverCommitResult:Promise.resolve(void 0),transactionId:i.id}}),[t,o]);return(0,n.useMemo)((()=>({createAndCommit:d})),[d])}},63467:(e,t,o)=>{"use strict";o.d(t,{y:()=>d});var n=()=>o(637997),i=()=>o(267419);const r={ko:()=>o.e(2268).then(o.bind(o,224434)),es:()=>o.e(95264).then(o.bind(o,196425)),de:()=>o.e(35390).then(o.bind(o,653703)),fr:()=>o.e(3272).then(o.bind(o,94677)),pt:()=>o.e(27315).then(o.bind(o,766869)),zh:()=>o.e(69945).then(o.bind(o,516814)),ja:()=>o.e(77757).then(o.bind(o,824432)),da:()=>o.e(9423).then(o.bind(o,440761)),fi:()=>o.e(59337).then(o.bind(o,462135)),nb:()=>o.e(2040).then(o.bind(o,937314)),nl:()=>o.e(51106).then(o.bind(o,530897)),sv:()=>o.e(53631).then(o.bind(o,895222)),id:()=>o.e(69945).then(o.bind(o,516814)),th:()=>o.e(69945).then(o.bind(o,516814)),vi:()=>o.e(69945).then(o.bind(o,516814))};let s=!1,a=!1;async function l(e){for(const[o,i]of Object.entries(e.emojiLocaleKeywords)){var t;n().fB[o]={...n().fB[o],keywords:[...i,...(null===(t=n().fB[o])||void 0===t?void 0:t.keywords)||[]]}}await i().A.waitUntilLoaded(),i().A.update((t=>{let{emojiByName:o,...n}=t;return{...n,emojiByName:{...o,...e.emojiByName}}}))}async function c(){if(s)return;const[e]=o(662303).locale.split("-");e in r&&(await l(await r[e]()),s=!0)}const d=(0,o(279900).A)((async()=>{await async function(){a||(await l(await o.e(51872).then(o.bind(o,443716))),a=!0)}(),await c()}))},72645:(e,t,o)=>{"use strict";o.d(t,{b:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("plusMedium",{viewBox:"0 0 16 16",svg:(0,n.jsx)("g",{children:(0,n.jsx)("path",{d:"M2 8a.77.77 0 01.237-.566.762.762 0 01.566-.244h4.394V2.803a.77.77 0 01.237-.566A.773.773 0 018 2c.225 0 .416.079.573.237a.773.773 0 01.237.566V7.19h4.387c.22 0 .409.081.566.244A.773.773 0 0114 8a.781.781 0 01-.237.573.785.785 0 01-.566.23H8.81v4.401a.764.764 0 01-.237.56A.781.781 0 018 14a.773.773 0 01-.566-.237.764.764 0 01-.237-.559V8.803H2.803a.785.785 0 01-.566-.23A.781.781 0 012 8z"})})})},73223:(e,t,o)=>{"use strict";o.r(t),o.d(t,{dismissTutorial:()=>d,resetTutorials:()=>u,tutorialAdvanceToStep:()=>p,tutorialAdvanceToStepAfter:()=>m,tutorialGoToNextStep:()=>l,tutorialGoToPrevStep:()=>c});var n=()=>o(541235),i=()=>o(751156),r=()=>o(755199),s=()=>o(739135),a=()=>o(765957);function l(e,t){var o;const{currentUserSettingsStore:n}=a().default.state;if(!n)return;const i=null===(o=n.getSettings())||void 0===o?void 0:o.tutorials;f({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{r().mJ({userSettingsStore:n,transaction:e,data:{tutorials:{...i,[t]:(0,s().i9)(n,t)}}})},userId:n.id})}function c(e,t){var o;const{currentUserSettingsStore:n}=a().default.state;if(!n)return;const i=null===(o=n.getSettings())||void 0===o?void 0:o.tutorials;f({userAction:"TutorialActions.prevStep",environment:e,perform:e=>{r().mJ({userSettingsStore:n,transaction:e,data:{tutorials:{...i,[t]:(0,s().KD)(n,t)}}})},userId:n.id})}function d(e,t){var o;const{currentUserSettingsStore:i}=a().default.state;if(!i)return;const s=null===(o=i.getSettings())||void 0===o?void 0:o.tutorials;(null==s?void 0:s[t])!==n().YD&&f({userAction:"TutorialActions.dismissTutorial",environment:e,perform:e=>{r().mJ({userSettingsStore:i,transaction:e,data:{tutorials:{...s,[t]:n().YD}}})},userId:i.id})}function u(e){const{currentUserSettingsStore:t}=a().default.state;t&&f({userAction:"TutorialActions.resetTutorialsDebug",environment:e,perform:e=>{r().mJ({userSettingsStore:t,transaction:e,data:{tutorials:{}}})},userId:t.id})}function p(e,t,o){var i;const{currentUserSettingsStore:l}=a().default.state;if(!l||(0,s().x$)(l,t))return;const c=(0,s().gt)(l,t);n().c$[t].steps.findIndex((e=>e.id===c))>=n().c$[t].steps.findIndex((e=>e.id===o))||r().mJ({userSettingsStore:l,transaction:e,data:{tutorials:{...null===(i=l.getSettings())||void 0===i?void 0:i.tutorials,[t]:o}}})}function m(e,t,o){if((0,s().ll)(o))return;const n=(0,s().tb)(t,o);n&&p(e,t,n)}function f(e){return i().createAndCommit({...e,canUndo:!1})}},105819:(e,t,o)=>{"use strict";o.r(t),o.d(t,{iconDefinition:()=>n,pencilLineIcon:()=>i});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.63 4.12 14.99 11.76",svg:(0,o(474848).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},i=(0,o(340498).wt)("pencilLine",n)},112698:(e,t,o)=>{"use strict";o.d(t,{B:()=>g});o(296540);var n=()=>o(484714),i=()=>o(56366),r=()=>o(401497),s=()=>o(959013),a=()=>o(381349),l=()=>o(534177),c=()=>o(284371),d=()=>o(824160),u=()=>o(859428),p=()=>o(962730),m=()=>o(765957),f=()=>o(991249),y=o(474848);function g(e){let{upsell:t,mobileStyle:o,desktopStyle:a,analyticsName:c,onClick:g,disableTooltip:h}=e;const S=(0,r().DP)(),x=(0,n().v3)(),{device:w}=x,b=(0,i().K8)((()=>{const{currentSpaceStore:e}=m().default.state;return null==e?void 0:e.canAdmin()}),[]);if("none"===t.type)return null;if(w.isMobileNative)return null;const C=(()=>{switch(t.product){case"personal":return(0,y.jsx)(s().sA,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"});case"plus":return(0,y.jsx)(s().sA,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"});case"business":return(0,y.jsx)(s().sA,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"});case"enterprise":return(0,y.jsx)(s().sA,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"});case"ai":return(0,y.jsx)(s().sA,{defaultMessage:"AI ↗",id:"upgradeButton.ai.textWithArrow"});case"sites_custom_hostnames":return(0,y.jsx)(s().sA,{defaultMessage:"Custom Hostnames ↗",id:"upgradeButton.sites_custom_hostnames.textWithArrow"});default:t.product,(0,l().HB)(t.product)}})();return w.isMobile||!b?(0,y.jsx)(d().A,{mobileStyle:o,children:C}):(0,y.jsx)(u().A,{delayThreshold:120,disableTooltip:h,placement:p().W.Bottom,renderTooltip:()=>(0,y.jsx)("div",{style:{maxWidth:500},children:(0,y.jsx)(s().sA,{defaultMessage:"Upgrade to use this feature.",id:"premiumFeatureUpgradeButton.upgrade.tooltip"})}),originGap:6,render:e=>(0,y.jsx)(d().A,{desktopStyle:a,innerStyle:v(t.product,S),onClick:e=>function(e,t,o,n,i){f().K(n,{from:t,upsell:o}),i&&i(e)}(e,c,t,x,g),...e,children:C})})}function v(e,t){switch(e){case"plus":case"business":case"enterprise":return{color:t.blueColor,background:"light"===t.mode?a().Ay.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:c().Wy.medium};default:return{}}}},132389:(e,t,o)=>{"use strict";o.d(t,{A:()=>i});o(296540);var n=o(474848);function i(e){const t={display:"inline-block",minWidth:e.size,minHeight:e.size};return"x"===e.axis?t.minHeight=1:"y"===e.axis&&(t.minWidth=1),(0,n.jsx)("div",{style:t})}},173215:(e,t,o)=>{"use strict";o.d(t,{x:()=>l});var n=()=>o(484714),i=()=>o(56366),r=()=>o(401497),s=()=>o(712030),a=()=>o(921855);function l(e){let{textStore:t,parentStore:o,spaceId:l,disabled:c=!1}=e;const d=(0,n().v3)(),u=(0,r().DP)(),p=(0,s().Ol)(),m=(0,i().K8)((()=>d.KatexStore.getKatex()),[d.KatexStore]);return(0,i().K8)((()=>{const e=null==t?void 0:t.getValue();return e&&l&&o?a().S5({environment:d,textValue:{value:e,spaceId:l},parentStore:o,disableHover:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableDateStyleAnnotations:!1,disableSuggestionAnnotations:!1,disableCommentAnnotations:!0,disabled:c,theme:u,disableLinks:c,emojiType:p,katex:m,formulaValueTypes:[]}):null}),[c,p,d,m,o,l,t,u])}},207207:(e,t,o)=>{"use strict";o.d(t,{J:()=>i});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.62 2.62 15.26 15.26",svg:(0,o(474848).jsx)("path",{d:"M8.875 2.625a6.25 6.25 0 1 0 3.955 11.09l3.983 3.982a.625.625 0 1 0 .884-.884l-3.983-3.982a6.25 6.25 0 0 0-4.84-10.205m-5 6.25a5 5 0 1 1 10 0 5 5 0 0 1-10 0"})},i=(0,o(340498).wt)("magnifyingGlass",n)},207583:(e,t,o)=>{"use strict";o.d(t,{F:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("eyeHideInversePadded",{viewBox:"0 0 24 24",svg:(0,n.jsx)("path",{d:"M17.3867 18.1074C17.6055 18.3193 17.9404 18.333 18.1592 18.1074C18.3848 17.875 18.3711 17.5469 18.1592 17.335L6.5791 5.76855C6.37402 5.55664 6.01855 5.5498 5.80664 5.76855C5.60156 5.97363 5.60156 6.3291 5.80664 6.53418L17.3867 18.1074ZM12 6.1582C10.8105 6.1582 9.73047 6.36328 8.72559 6.69141L9.81934 7.78516C10.5098 7.58691 11.2275 7.4707 12 7.4707C16.3682 7.4707 19.8408 11.2715 19.8408 12.0713C19.8408 12.6113 18.7334 14.0059 16.9766 15.1064L17.9883 16.125C20.1348 14.7168 21.3857 12.8779 21.3857 12.0713C21.3857 10.6699 17.6055 6.1582 12 6.1582ZM12 17.9912C13.2646 17.9912 14.4199 17.7725 15.4658 17.4102L14.3789 16.3232C13.6338 16.542 12.8477 16.6787 12 16.6787C7.63184 16.6787 4.15918 13.0283 4.15918 12.0713C4.15918 11.6133 5.32129 10.1299 7.19434 8.98145L6.16211 7.94922C3.92676 9.37109 2.60742 11.251 2.60742 12.0713C2.60742 13.4727 6.46973 17.9912 12 17.9912ZM15.4111 13.3906C15.5889 12.9873 15.6914 12.5361 15.6914 12.0713C15.6914 10.0137 14.0508 8.39355 12 8.39355C11.5283 8.39355 11.084 8.48242 10.6738 8.65332L15.4111 13.3906ZM12 15.7559C12.5332 15.7559 13.0322 15.6328 13.4766 15.4209L8.64355 10.5811C8.4248 11.0322 8.30176 11.5312 8.30176 12.0781C8.30859 14.0811 9.94238 15.7559 12 15.7559Z"})})},222334:(e,t,o)=>{"use strict";o.r(t),o.d(t,{arrowChevronSingleRightIcon:()=>i,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"7.22 3.97 6.66 12.06",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M13.692 10.442a.625.625 0 0 0 0-.884l-5.4-5.4a.625.625 0 1 0-.884.884L12.366 10l-4.958 4.958a.625.625 0 0 0 .884.884z"})},i=(0,o(340498).wt)("arrowChevronSingleRight",n)},259476:(e,t,o)=>{"use strict";o.r(t),o.d(t,{iconDefinition:()=>i,trashSmallIcon:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 16 16",fittedViewBox:"2.5 2.12 11 11.75",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M6.688 6.3a.575.575 0 0 0-.575.575v4.5a.575.575 0 0 0 1.15 0v-4.5a.575.575 0 0 0-.575-.575m2.625 0a.575.575 0 0 0-.575.575v4.5a.575.575 0 0 0 1.15 0v-4.5a.575.575 0 0 0-.575-.575"}),(0,n.jsx)("path",{d:"M6.625 2.125a1.5 1.5 0 0 0-1.5 1.5v.75h-2a.625.625 0 0 0 0 1.25h.528l.29 6.4c.048 1.035.9 1.85 1.936 1.85h4.242a1.94 1.94 0 0 0 1.935-1.85l.291-6.4h.528a.625.625 0 1 0 0-1.25h-2v-.75a1.5 1.5 0 0 0-1.5-1.5zm-.25 1.5a.25.25 0 0 1 .25-.25h2.75a.25.25 0 0 1 .25.25v.75h-3.25zm-1.183 8.344-.288-6.344h6.192l-.288 6.344a.687.687 0 0 1-.687.656H5.879a.687.687 0 0 1-.687-.656"})]})},r=(0,o(340498).wt)("trashSmall",i)},271084:(e,t,o)=>{"use strict";o.d(t,{k:()=>i});o(581454);class n extends(()=>o(757695))().Store{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}getSortedUserIds(){return Object.entries(this.state||{}).sort(((e,t)=>{let[o,n]=e,[i,r]=t;return r-n})).map((e=>{let[t,o]=e;return t}))}}const i=new n;(0,o(604341).exposeDebugValue)("UserSimilarityStore",i)},279900:(e,t,o)=>{"use strict";function n(e){let t,o,n;return async function(){for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t?(n=r,o||(o=t.then((()=>(o=void 0,t=e(...n),t))),o)):(t=e(...r),t)}}o.d(t,{A:()=>n})},301524:(e,t,o)=>{"use strict";o.d(t,{A:()=>M,B:()=>T});o(898992),o(354520),o(672577),o(581454),o(737550),o(296540);var n=()=>o(484714),i=()=>o(236262),r=()=>o(995847),s=()=>o(340498),a=()=>o(959013),l=()=>o(381349),c=()=>o(496603),d=()=>o(436696),u=()=>o(497222),p=()=>o(728611),m=()=>o(722872),f=()=>o(541558),y=()=>o(760217),g=()=>o(439264),v=()=>o(285790),h=()=>o(678553),S=()=>o(8980),x=()=>o(897119),w=()=>o(89924),b=()=>o(859428),C=o(474848);const _=(0,a().YK)({inputPlaceholder:{defaultMessage:"Search for a property…",id:"database.viewSettings.collectionSortMenu.inputPlaceholder"},deleteButtonTooltip:{defaultMessage:"Remove sort rule",id:"database.sortMenu.deleteButtonTooltip"}});const M=function(e){let{schema:t,format:r,sorts:s,showDeleteAll:l,disabled:c,parentStore:p,collectionContextStore:f,onChange:y,onDeleteAll:g}=e;const v=(0,n().v3)(),{device:h}=v,S=!!Object.keys(t).some((e=>!s.find((t=>t.property===e)))),b=l&&s.length>0;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(k,{sorts:s,schema:t,disabled:c,parentStore:p,collectionContextStore:f,onChange:y}),(S||b)&&(0,C.jsxs)(w().A,{children:[S&&(0,C.jsx)(o(406699).Ay,{popupType:h.isMobile?x().nl.SlideUp:x().nl.Popup,renderOrigin:e=>(0,C.jsx)(u().A,{icon:o(617668).plusIcon,isGray:!0,title:(0,C.jsx)(a().sA,{id:"database.viewSettings.sortTab.newSort",defaultMessage:"Add sort"}),...e}),render:e=>{let n;return n=h.isMobile?{menuType:m().gu.ActionSheet}:{menuType:m().gu.Popup,width:280,height:287},(0,C.jsx)(o(928600).A,{...n,children:(0,C.jsx)(o(380468).A,{schema:t,format:r,getProperties:()=>Object.entries(t).filter((e=>{let[t,n]=e;return!s.find((e=>e.property===t))&&(0,o(244149).oH)(n)})).map((e=>{let[t]=e;return t})),onAccept:o=>{!function(e,t,o,n,i,r){var s;if(!e)return;const a=null===(s=o[e])||void 0===s?void 0:s.type,l=[...n,{property:e,direction:"ascending"}];i(l),(0,d().X)({environment:t,action:"create_sort_accept",collectionContextStore:r,property_type:a})}(o,v,t,s,y,f),e.close()},inputPlaceholder:o(972435).A.formatMessage(_.inputPlaceholder)})})}}),b&&(0,C.jsx)(u().A,{icon:i().trashIcon,isRed:!0,isGray:!0,title:(0,C.jsx)(a().sA,{id:"database.viewSettings.sortTab.deleteAllSorts",defaultMessage:"Delete sort"}),onClick:()=>function(e,t,o,n){t([]),null==n||n(),(0,d().X)({environment:e,action:"delete_all_sorts",collectionContextStore:o})}(v,y,f,g)})]})]})};function A(e,t,o,n,i,r){n(i.map(((o,n)=>n===e?t:o))),(0,d().X)({environment:o,collectionContextStore:r,action:"update_sort"})}function P(e,t,o,n,i){o(n.filter(((t,o)=>o!==e))),(0,d().X)({environment:t,action:"delete_sort",collectionContextStore:i})}function I(e){let{index:t,onChange:o,sorts:r,collectionContextStore:s}=e;const c=(0,n().v3)();return(0,C.jsx)(y().A,{title:(0,C.jsx)("div",{style:{color:l().Ay.red},children:(0,C.jsx)(a().sA,{defaultMessage:"Delete",id:"database.viewSettings.sortTab.mobileDeleteButtonTitle"})}),icon:(0,C.jsx)(S().I,{icon:i().trashIcon,color:"redPrimary"}),onClick:()=>P(t,c,o,r,s),focused:!1})}function T(e){let{onDeleteClick:t}=e;const o=(0,a().tz)();return(0,C.jsx)(b().A,{render:e=>(0,C.jsx)(v().A,{ariaLabel:o.formatMessage(_.deleteButtonTooltip),icon:r().xMarkSmallIcon,iconStyle:{width:s().Ev.sm,height:s().Ev.sm},onClick:t,style:{marginRight:-6},...e}),renderTooltip:()=>o.formatMessage(_.deleteButtonTooltip)})}function j(e){let{sort:t,index:o,schema:i,disabled:r,parentStore:s,collectionContextStore:a,onChange:l,sorts:c}=e;const d=(0,n().v3)(),{device:u}=d;return u.isMobile?(0,C.jsxs)(w().A,{children:[(0,C.jsx)(f().Ay,{index:o,sort:t,schema:i,parentStore:s,collectionContextStore:a,onChange:(e,t)=>A(e,t,d,l,c,a)}),!r&&(0,C.jsx)(I,{onChange:l,sorts:c,collectionContextStore:a,index:o})]}):(0,C.jsx)(w().A,{extraTopPadding:!0,desktopStyle:{padding:"8px 0 0 8px",width:"100%"},children:(0,C.jsx)(h().Ay,{showDragHandle:!u.isMobile&&!r,title:(0,C.jsx)("div",{style:{display:"flex",alignItems:"center",flexGrow:1,whiteSpace:"nowrap"},onMouseDown:p().tr,children:(0,C.jsx)(f().Ay,{index:o,sort:t,schema:i,parentStore:s,collectionContextStore:a,onChange:(e,t)=>A(e,t,d,l,c,a)})}),right:!r&&(0,C.jsx)(T,{onDeleteClick:()=>P(o,d,l,c,a)}),rightStyle:{marginRight:19}})})}function k(e){let{sorts:t,schema:o,disabled:i,parentStore:r,collectionContextStore:s,onChange:a}=e;const l=(0,n().v3)(),{device:u}=l;if(u.isMobile)return(0,C.jsx)(C.Fragment,{children:t.map(((e,n)=>(0,C.jsx)(j,{schema:o,disabled:i,parentStore:r,collectionContextStore:s,onChange:a,sorts:t,sort:e,index:n},n)))});{const e=t.map(((e,t)=>t.toString()));return e.length>0?(0,C.jsx)("div",{style:{marginBottom:2},children:(0,C.jsx)(g().Ay,{direction:"vertical",keys:e,renderKey:e=>(0,C.jsx)(j,{schema:o,disabled:i,parentStore:r,collectionContextStore:s,onChange:a,sorts:t,sort:t[parseInt(e)],index:parseInt(e)}),onDrop:e=>function(e,t,o,n,i){o(c().oE(e.map((e=>n[parseInt(e)])))),(0,d().X)({environment:t,action:"reorder_sorts",collectionContextStore:i})}(e,l,a,t,s)})}):null}}},348241:(e,t,o)=>{"use strict";o.d(t,{Q1:()=>s,cJ:()=>r,zi:()=>i});o(16280);var n=o(296540);const i=(0,n.createContext)(null);function r(){const e=(0,n.useContext)(i);if(!e)throw new Error("useFormLayoutEditorContext must be used inside FormLayoutEditorContext.Provider");return(0,n.useMemo)((()=>e),[e])}function s(){return(0,n.useContext)(i)}i.displayName="FormLayoutEditorContext"},364387:function(e){(function(){var t,o,n;n=[],t={},e.exports=o=function(e,o,i){var r,s,a,l,c,d,u,p;if(null==i&&(i=!0),"string"==typeof o){if(2!==o.length)throw{name:"ArgumentException",message:"The format for string options is '<thousands><decimal>' (exactly two characters)"};p=o[0],r=o[1]}else if(Array.isArray(o)){if(2!==o.length)throw{name:"ArgumentException",message:"The format for array options is ['<thousands>','[<decimal>'] (exactly two elements)"};p=o[0],r=o[1]}else p=(null!=o?o.thousands:void 0)||(null!=o?o.group:void 0)||t.thousands,r=(null!=o?o.decimal:void 0)||t.decimal;return null==(c=n[d=""+p+r+i])&&(a=i?3:1,c=n[d]=new RegExp("^\\s*([+-]?(?:(?:\\d{1,3}(?:\\"+p+"\\d{"+a+",3})+)|\\d*))(?:\\"+r+"(\\d*))?\\s*$")),null==(u=e.match(c))||3!==u.length?NaN:(l=u[1].replace(new RegExp("\\"+p,"g"),""),s=u[2],parseFloat(l+"."+s))},e.exports.setOptions=function(e){var o,n;for(o in e)n=e[o],t[o]=n},e.exports.factoryReset=function(){t={thousands:",",decimal:"."}},e.exports.withOptions=function(e,t){return null==t&&(t=!0),function(n){return o(n,e,t)}},e.exports.factoryReset()}).call(this)},406533:(e,t,o)=>{"use strict";o.r(t),o.d(t,{iconDefinition:()=>i,questionMarkCircleIcon:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.26 15.25",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M9.978 7.154c-.804 0-1.333.456-1.438.874a.625.625 0 0 1-1.213-.303c.28-1.121 1.44-1.82 2.65-1.82 1.365 0 2.714.905 2.714 2.298 0 .812-.49 1.477-1.13 1.872l-.755.516a.84.84 0 0 0-.381.677.625.625 0 1 1-1.25 0c0-.688.36-1.318.921-1.706l.003-.002.784-.535.014-.008c.374-.228.544-.537.544-.814 0-.459-.517-1.049-1.463-1.049m.662 6.336a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,n.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},r=(0,o(340498).wt)("questionMarkCircle",i)},435930:(e,t,o)=>{"use strict";o.d(t,{s:()=>s});const n={id:"pageLayoutEditor.property",defaultMessage:"Property",description:"Label for the property section in the page layout editor"},i={id:"pageLayoutEditor.titleWithIcon",defaultMessage:"Heading",description:"Label for the titleWithIcon section in the page layout editor"},r={id:"pageLayoutEditor.collectionView",defaultMessage:"Database View",description:"Label for the form submit button section in the form page layout editor"},s=(0,o(959013).YK)({cover:{id:"pageLayoutEditor.cover",defaultMessage:"Cover"},properties:{id:"pageLayoutEditor.properties",defaultMessage:"Property group"},inlinePageSections:{id:"pageLayoutEditor.inlinePageSections",defaultMessage:"Inline Page Sections"},expandedBacklinks:{id:"pageLayoutEditor.expandedBacklinks",defaultMessage:"Backlinks"},discussions:{id:"pageLayoutEditor.discussions",defaultMessage:"Page Comments"},editor:{id:"pageLayoutEditor.editor",defaultMessage:"Content"},tabs:{id:"pageLayoutEditor.tabs",defaultMessage:"Tabs"},transcript:{id:"pageLayoutEditor.transcript",defaultMessage:"Transcript"},bottomControls:{id:"pageLayoutEditor.bottomControls",defaultMessage:"Bottom Controls"},selectAModulePrompt:{id:"pageLayoutEditor.selectAModuleTitle",defaultMessage:"Select a module to configure"},deleteModuleButton:{id:"pageLayoutEditor.deleteModuleButton",defaultMessage:"Delete"},views:{id:"pageLayoutEditor.views",defaultMessage:"Views"},viewsMain:{id:"pageLayoutEditor.views",defaultMessage:"Views"},relationsGroup:{id:"pageLayoutEditor.relationsGroup",defaultMessage:"Relations group"},formTitle:{id:"pageLayoutEditor.formTitle",defaultMessage:"Form Title"},formQuestion:{id:"pageLayoutEditor.formQuestion",defaultMessage:"Form Question"},formSubmit:{id:"pageLayoutEditor.formSubmit",defaultMessage:"Form Submit"},placeholder:{id:"pageLayoutEditor.placeholder",defaultMessage:"New"},recentActivity:{id:"pageLayoutEditor.recentActivity",defaultMessage:"Recent activity"},collaborators:{id:"pageLayoutEditor.collaborators",defaultMessage:"Top collaborators"},teamspaces:{id:"pageLayoutEditor.teamspaces",defaultMessage:"Teamspaces"},normalizedTitleWithIcon:i,titleWithIcon:i,deleted_property:n,property_number:n,property_title:n,property_person:n,property_file:n,property_text:n,property_checkbox:n,property_url:n,property_email:n,property_phone_number:n,property_created_by:n,property_last_edited_by:n,property_button:n,property_select:n,property_multi_select:n,property_status:n,property_date:n,property_created_time:n,property_last_edited_time:n,property_last_visited_time:n,property_relation:n,property_rollup:n,property_formula:n,property_auto_increment_id:n,property_location:n,property_verification:n,property_place:n,property:n,collectionView:r,collectionViewV2:r})},457190:(e,t,o)=>{"use strict";o.d(t,{v:()=>a});var n=()=>o(835338),i=()=>o(848259),r=()=>o(246826),s=()=>o(751156);function a(e){const{environment:t,key:o,selectedKey:a,following:l,followSettings:c,navigableBlockId:d,userId:u,spaceId:p,from:m}=e;s().createAndCommit({userAction:"UpdateSidebarFollowControl.setFollowing",environment:e.environment,canUndo:!1,perform:t=>{r().vt({environment:e.environment,table:n().Cy,args:{following:l,followSettings:c,navigableBlockId:d,userId:u,spaceId:p},inMemoryRecordCache:e.environment.defaultRecordCache.inMemoryRecordCache,transaction:t})}}),l?i().KN(t,{from:"page_updates"}):i().tm(t,{from:"page_updates"}),a!==o&&i().EV(t,{from:m,navigableBlockId:d,oldSetting:a,newSetting:o})}},477293:(e,t,o)=>{"use strict";o.d(t,{r:()=>r});var n=()=>o(56366),i=()=>o(217429);function r(e){let{disableExposureLogging:t,disableEventTrailLogging:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n().K8)((()=>i().default.getEligibleGroup({experimentId:e,defaultGroup:"control",disableExposureLogging:t,disableEventTrailLogging:o})),[e,t,o])}},518773:(e,t,o)=>{"use strict";o.d(t,{A:()=>r});var n=()=>o(835338),i=()=>o(534177);function r(e,t){switch(e){case"all":return{following:!0,followSettings:{...(0,n().JY)({explicitly_set_by_user:!0}),feed_setting:t}};case"important":return{following:!0,followSettings:{...(0,n().gK)({explicitly_set_by_user:!0}),feed_setting:t}};case"comments":return{following:!0,followSettings:{...(0,n().lx)({explicitly_set_by_user:!0}),feed_setting:t}};case"none":return{following:!1,followSettings:{...(0,n().gU)({explicitly_set_by_user:!0}),feed_setting:t}};default:(0,i().HB)(e)}}},524060:(e,t,o)=>{"use strict";o.d(t,{O:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("parentChildRelation",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{fillRule:"evenodd",d:"M6 6.75a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5m.625 1.171a2.501 2.501 0 1 0-1.25 0V11A3.625 3.625 0 0 0 9 14.625h3.079a2.5 2.5 0 1 0 0-1.25H9A2.375 2.375 0 0 1 6.625 11zM14.5 15.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"})})},541235:(e,t,o)=>{"use strict";o.d(t,{YD:()=>r,c$:()=>n,q_:()=>i});const n={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]}},i="completed",r="dismissed"},541558:(e,t,o)=>{"use strict";o.d(t,{Ay:()=>h,CL:()=>x,bL:()=>S});var n=o(296540),i=()=>o(484714),r=()=>o(244149),s=()=>o(959013),a=()=>o(436696),l=()=>o(755022),c=()=>o(722872),d=()=>o(963589),u=()=>o(760217),p=()=>o(406699),m=()=>o(933117),f=()=>o(150987),y=()=>o(272630),g=()=>o(992510),v=o(474848);const h=function(e){let{schema:t,sort:o,disabled:i,onChange:r,index:s,collectionViewType:a,collectionContextStore:l}=e;const c=t[o.property];return c?(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)(b,{disabled:i,schema:t,sort:o,onChange:r,index:s,collectionViewType:a,collectionContextStore:l,propertySchema:c}),(0,v.jsx)(w,{sort:o,index:s,onChange:r,collectionViewType:a,collectionContextStore:l,disabled:i})]}):null},S={ascending:(0,v.jsx)(s().sA,{defaultMessage:"Ascending",id:"collectionSortMenuRow.sortDirectionSelectMenu.ascending"}),descending:(0,v.jsx)(s().sA,{defaultMessage:"Descending",id:"collectionSortMenuRow.sortDirectionSelectMenu.descending"})},x=(0,s().YK)({menuTitle:{id:"collectionSortMenuRow.sortDirectionSelectMenu.title",defaultMessage:"Sort"},emptyPlaceholder:{id:"collectionSortMenuRow.sortDirectionSelectMenu.placeholder",defaultMessage:"Empty"}});function w(e){let{sort:t,index:o,onChange:n,collectionViewType:p,collectionContextStore:f,disabled:g}=e;const h=(0,d().X)("db_ux_mobile"),{isPhone:w}=(0,i().Y0)(),b=(0,i().v3)(),C=(0,s().tz)(),_=t.direction,M={menuTitle:C.formatMessage(x.menuTitle),items:[...r().FU],getKey:e=>e,selectedItem:_,disabled:g,onSelect:e=>{const i={...t,direction:e};n(o,i),f?(0,a().X)({environment:b,action:"set_sort_direction",sort_direction:e,collectionContextStore:f}):p&&(0,l().D)(b,{view_type:p,action:"set_sort_direction"})},renderItem:e=>(0,v.jsx)(u().A,{title:S[e.value],...e}),renderOrigin:e=>(0,v.jsx)(y().A,{...e,placeholder:C.formatMessage(x.emptyPlaceholder),title:_&&S[_],disabled:g,desktopStyle:{opacity:1}})};return(0,v.jsx)(m().A,{...M,menuTypeOverride:(0,c().PK)(w,h)},"direction")}function b(e){let{propertySchema:t,disabled:o,schema:n,sort:s,onChange:c,index:d,collectionViewType:u,collectionContextStore:m}=e;const y=(0,i().v3)(),{device:h}=y;return(0,v.jsx)(p().Ay,{popupType:h.isMobile?p().z7.SlideUp:p().z7.Popup,renderOrigin:e=>(0,v.jsx)(g().A,{...e,propertySchema:t,disabled:o,textWrapperStyle:{opacity:1}}),render:e=>(0,v.jsx)(f().A,{isRelationProperty:!1,schema:n,onAccept:e=>function(e,t,o,n,i,r,s){n(i,{...o,property:e}),s?(0,a().X)({environment:t,action:"set_sort_property",collectionContextStore:s}):r&&(0,l().D)(t,{view_type:r,action:"set_sort_property"})}(e,y,s,c,d,u,m),onClose:e.close,allowProperty:r().oH}),disabled:o})}},556048:(e,t,o)=>{"use strict";o.d(t,{C8:()=>p,Dz:()=>l,GC:()=>f,GL:()=>y,YY:()=>m,dM:()=>d,h9:()=>c,jX:()=>a,oF:()=>u,uj:()=>s});var n=()=>o(645873);const i={JiraSyncInfoPopup:new(n().O2)("JiraSyncInfoPopup",(async()=>await Promise.all([o.e(75134),o.e(68744)]).then(o.bind(o,408453)))),ImproveJiraSyncPopup:new(n().O2)("ImproveJiraSyncPopup",(async()=>await Promise.all([o.e(75134),o.e(2686)]).then(o.bind(o,484967)))),JiraDCAuthModal:new(n().O2)("JiraDCAuthModal",(async()=>await o.e(28763).then(o.bind(o,992567)))),ExternalImportAndSyncIndicator:new(n().O2)("ExternalImportAndSyncIndicator",(async()=>await o.e(98288).then(o.bind(o,244399)))),JiraSyncedAllProjectsTooltip:new(n().O2)("JiraSyncedAllProjectsTooltip",(async()=>await o.e(21446).then(o.bind(o,470020)))),JiraSyncedAllIssuesTooltip:new(n().O2)("JiraSyncedAllIssuesTooltip",(async()=>await o.e(21446).then(o.bind(o,470020)))),JiraSyncedDatabaseViewsAndFiltersTooltip:new(n().O2)("JiraSyncedDatabaseViewsAndFiltersTooltip",(async()=>await o.e(21446).then(o.bind(o,470020)))),JiraSyncSourceTooltip:new(n().O2)("JiraSyncSourceTooltip",(async()=>await o.e(21446).then(o.bind(o,470020)))),JiraSyncedSettingsToSetupProjectsAndIssuesTooltip:new(n().O2)("JiraSyncedSettingsToSetupProjectsAndIssuesTooltip",(async()=>await o.e(21446).then(o.bind(o,470020))))},r={JiraSyncTeamSpaceModal:new(n().O2)("JiraSyncTeamSpaceModal",(async()=>Promise.all([o.e(75134),o.e(92845),o.e(84468),o.e(5605),o.e(48486),o.e(95794),o.e(13677),o.e(56952),o.e(25497),o.e(74562),o.e(27711),o.e(30291),o.e(12913),o.e(28464),o.e(6463),o.e(50569),o.e(93449),o.e(56188)]).then(o.bind(o,604698))))},s=(0,n()._h)(r.JiraSyncTeamSpaceModal,(e=>e.default)),a=(0,n()._h)(i.JiraSyncedAllProjectsTooltip,(e=>e.JiraSyncedAllProjectsTooltip)),l=(0,n()._h)(i.JiraDCAuthModal,(e=>e.default)),c=(0,n()._h)(i.JiraSyncedAllIssuesTooltip,(e=>e.JiraSyncedAllIssuesTooltip)),d=(0,n()._h)(i.JiraSyncedDatabaseViewsAndFiltersTooltip,(e=>e.JiraSyncedDatabaseViewsAndFiltersTooltip)),u=(0,n()._h)(i.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip,(e=>e.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip)),p=(0,n()._h)(i.JiraSyncSourceTooltip,(e=>e.JiraSyncSourceTooltip)),m=(0,n()._h)(i.JiraSyncInfoPopup,(e=>e.JiraSyncInfoPopup)),f=(0,n()._h)(i.ImproveJiraSyncPopup,(e=>e.ImproveJiraSyncPopup)),y=(0,n()._h)(i.ExternalImportAndSyncIndicator,(e=>e.ExternalImportAndSyncIndicator));(0,o(340498).xh)("jira",{default:{loader:()=>o.e(60677).then(o.bind(o,460677)),size:20},small:{loader:()=>o.e(60677).then(o.bind(o,460677)),size:16},mini:{loader:()=>o.e(60677).then(o.bind(o,460677)),size:14},large:{loader:()=>o.e(60677).then(o.bind(o,460677)),size:24}})},566534:(e,t,o)=>{"use strict";o.d(t,{U:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"4.12 2.37 14.01 15.25",directional:!0,svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M6.25 2.375A2.125 2.125 0 0 0 4.125 4.5v11c0 1.174.951 2.125 2.125 2.125h7.5a2.125 2.125 0 0 0 2.125-2.125v-1.062h-1.25V15.5a.875.875 0 0 1-.875.875h-7.5a.875.875 0 0 1-.875-.875v-11c0-.483.392-.875.875-.875h7.5c.483 0 .875.392.875.875v1.125h1.25V4.5a2.125 2.125 0 0 0-2.125-2.125z"}),(0,n.jsx)("path",{d:"M17.942 9.558a.625.625 0 0 1 0 .884l-2.5 2.5a.625.625 0 1 1-.884-.884l1.408-1.408H10a.625.625 0 1 1 0-1.25h6.016l-1.458-1.458a.625.625 0 1 1 .884-.884z"})]})},r=(0,o(340498).wt)("arrowRightFromRectangle",i)},582684:(e,t,o)=>{"use strict";o.d(t,{C:()=>i});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.24 3.26 15.53 13.47",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M14.075 3.45a.625.625 0 0 0-.884 0l-3.497 3.5a.625.625 0 0 0 .883.884l2.431-2.431v10.705a.625.625 0 0 0 1.25 0V5.402l2.431 2.43a.625.625 0 1 0 .884-.883zM2.427 12.167a.625.625 0 0 1 .884 0l2.43 2.431V3.893a.625.625 0 0 1 1.25 0v10.705l2.431-2.43a.625.625 0 0 1 .884.883L6.81 16.55a.625.625 0 0 1-.884 0l-3.498-3.498a.625.625 0 0 1 0-.884"})},i=(0,o(340498).wt)("arrowUpDown",n)},612900:(e,t,o)=>{"use strict";o.d(t,{u:()=>r});var n=()=>o(645873);const i=new(n().O2)("PulsingWrapper",(async()=>o.e(45248).then(o.bind(o,673962)))),r=(0,n().jQ)(i,(e=>e.PulsingWrapper),{renderLoading:(e,t)=>t.children})},630960:(e,t,o)=>{"use strict";o.d(t,{Jz:()=>l,in:()=>a,yh:()=>s});o(898992),o(354520),o(581454);var n=()=>o(56366),i=()=>o(31503),r=()=>o(534177);const s=(0,o(959013).YK)({unsupportedPublicQuestionType:{defaultMessage:"This question type cannot be used in public forms.",id:"useNewQuestionPropertyMenuItems.invalidPublicQuestionType"},relatedCollectionNotPublic:{defaultMessage:"Only relations to public databases are supported in public forms.",id:"formEditorQuestion.relatedCollectionNotPublic"},editorPlaceholder:{defaultMessage:"Respondent's answer",id:"formEditorQuestion.editorPlaceholder"},viewerEmptyPlaceholder:{defaultMessage:"Your answer",id:"formEditorQuestion.viewerEmptyPlaceholder"},viewerEmptyPlaceholderSelect:{defaultMessage:"Your selection",id:"formEditorQuestion.viewerEmptyPlaceholderSelect"},editorDropdownPlaceholderSelect:{defaultMessage:"Options below will appear in the dropdown",id:"formEditorQuestion.editorDropdownPlaceholder"}});function a(e){let{layoutStore:t,collectionStore:o}=e;const s=(0,n().K8)((()=>o?t.getNormalizedFormQuestionStoresForFormLayout({collectionSchema:o.getSchema()})??[]:[]),[t,o]),a=(0,n().K8)((()=>s.map((e=>{var t;return null===(t=e.getConfig())||void 0===t?void 0:t.propertyId})).filter(r().O9)),[s]);return(0,n().K8)((()=>{if(!o)return[];const e=o.getSchema();if(!t.getModel())return[];return(0,r().WP)(e).map((e=>{let[t,o]=e;if(o&&(0,i().Sg)(o)&&!a.includes(t))return t})).filter(r().O9)}),[o,t,a])}const l=[{key:"unlimited",title:"Unlimited",type:"button"},{key:"1",title:"1",type:"button"},{key:"2",title:"2",type:"button"},{key:"3",title:"3",type:"button"},{key:"4",title:"4",type:"button"},{key:"5",title:"5",type:"button"},{key:"10",title:"10",type:"button"}]},663247:(e,t,o)=>{"use strict";o.r(t),o.d(t,{arrowDiagonalUpRightFillIcon:()=>i,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"4.16 4.17 11.67 11.67",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M15.825 5.05a.875.875 0 0 0-.875-.875H7.313a.875.875 0 1 0 0 1.75h5.524L4.393 14.37c-.32.32-.303.857.039 1.198.341.342.878.36 1.198.039l8.445-8.444v5.524a.875.875 0 1 0 1.75 0z"})},i=(0,o(340498).wt)("arrowDiagonalUpRightFill",n)},701751:(e,t,o)=>{"use strict";o.d(t,{p:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"3.97 1.94 14.91 15.66",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M10.55 12.808a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 1 0 1.1 0z"}),(0,n.jsx)("path",{d:"M15.4 1.95a3.48 3.48 0 0 0-3.48 3.48v1.92H6.4a2.425 2.425 0 0 0-2.425 2.425v5.4A2.425 2.425 0 0 0 6.4 17.6h7.2a2.425 2.425 0 0 0 2.425-2.425v-5.4A2.425 2.425 0 0 0 13.6 7.35h-.43V5.43a2.23 2.23 0 1 1 4.46 0v2.095a.625.625 0 1 0 1.25 0V5.43a3.48 3.48 0 0 0-3.48-3.48M5.225 9.775c0-.649.526-1.175 1.175-1.175h7.2c.649 0 1.175.526 1.175 1.175v5.4c0 .649-.526 1.175-1.175 1.175H6.4a1.175 1.175 0 0 1-1.175-1.175z"})]})},r=(0,o(340498).wt)("lockOpen",i)},706965:(e,t,o)=>{"use strict";o.d(t,{A:()=>v});o(296540);var n=()=>o(56366),i=()=>o(401497),r=()=>o(764880),s=()=>o(310442),a=()=>o(824862),l=()=>o(798880),c=()=>o(959013),d=()=>o(534177),u=()=>o(284371),p=()=>o(43972),m=()=>o(972435),f=()=>o(907514),y=()=>o(646736),g=o(474848);function v(e){const{store:t}=e,o=(0,i().DP)(),v=(0,n().K8)((()=>t.getCreatedTime()),[t]),h=(0,n().K8)((()=>t.getLastEditedTime()),[t]),S=(0,n().K8)((()=>{const e=t.getCreatedByPointer();if(e)return(0,r().xC)({pointer:e,getRecordValue:t.getRecordValue})}),[t]),x=(0,n().K8)((()=>{const e=t.getLastEditedByPointer();if(e)return(0,r().xC)({pointer:e,getRecordValue:t.getRecordValue})}),[t]),w=(0,n().K8)((()=>{const e=t.getSpaceStore();if(!e)return!1;const o=null==S?void 0:S.asActor;if(!o)return!1;const n=o.table;switch(n){case l().oo:return(0,y().dp)(e,o.id).isMember();case a().GP:return(0,y().Ts)(e,o.id).isMember();case s().yj:return!1;default:(0,d().HB)(n)}}),[t,S]),b=v?(0,f().nl)(v,{useCompactFormat:!0,useLowercase:!0}):"",C=h?(0,f().nl)(h,{useLowercase:!0,useCompactFormat:!0}):"";if(!(h?(0,f().nl)(h,{useLowercase:!0,useCompactFormat:!0,roundDownYears:!0}):""))return null;const _={display:"flex",gap:4,color:o.text.contrastSecondary,height:16,fontSize:12},M={size:14,style:{marginRight:2}},A=m().A.getIntl();return(0,g.jsxs)(g.Fragment,{children:[(e=>{let t;if(null!=x&&x.asActor)t=(0,g.jsx)(c().sA,{defaultMessage:"Edited by {editor} {timestamp}",id:"pagePropertiesHeader.editedBy.label",values:{editor:(0,g.jsx)("span",{style:{fontWeight:u().Wy.medium,color:o.text.contrastPrimary},children:(0,g.jsxs)("span",{style:{display:"flex"},children:[!e&&(0,p().w)({actor:x,...M}),(0,r().lR)(A,x)]})}),timestamp:C}});else{if(!C)return;n=C,t=(0,g.jsx)(c().sA,{defaultMessage:"Edited {timestamp}",id:"pagePropertiesHeader.edited.label",values:{timestamp:n}})}var n;return(0,g.jsx)("div",{style:{..._,marginTop:3,marginBottom:3},children:t})})(e.compactFormat),(e=>{let t;if(null!=S&&S.asActor&&w)t=(0,g.jsx)(c().sA,{id:"pagePropertiesHeader.createdBy.label",defaultMessage:"Created by {creator} {timestamp}",values:{creator:(0,g.jsx)("span",{style:{fontWeight:u().Wy.medium,color:o.text.contrastPrimary},children:(0,g.jsxs)("span",{style:{display:"flex"},children:[!e&&(0,p().w)({actor:S,...M}),(0,r().lR)(A,S)]})}),timestamp:b}});else{if(!b)return;t=(0,g.jsx)(c().sA,{id:"pagePropertiesHeader.created.label",defaultMessage:"Created {timestamp}",values:{timestamp:b}})}return(0,g.jsx)("div",{style:{..._,marginBottom:4},children:t})})(e.compactFormat)]})}},710857:(e,t,o)=>{"use strict";o.d(t,{x:()=>i});const n={greeting:!0,tasks:!1,tips:!1,templates:!1,calendar:!1,custom_db:!1,suggested:!0,trending:!0};function i(e){const t=(null==e?void 0:e.getHomeEnabledFeatures())??{};return{...n,...t}}},739135:(e,t,o)=>{"use strict";o.d(t,{KD:()=>c,gt:()=>d,i9:()=>l,ll:()=>s,tb:()=>a,x$:()=>r});var n=()=>o(541235),i=()=>o(496603);function r(e,t){return s(d(e,t))}function s(e){return void 0!==e&&(e===n().q_||e===n().YD)}function a(e,t){if(s(t))return;const o=n().c$[e],i=o.steps.findIndex((e=>e.id===t));return-1===i?o.steps[0].id:i===o.steps.length-1?n().q_:o.steps[i+1].id}function l(e,t){const o=d(e,t);if(o&&!s(o))return a(t,o)}function c(e,t){const o=d(e,t);if(o)return function(e,t){const o=n().c$[e];var r;if(s(t))return null===(r=(0,i().HV)(o.steps))||void 0===r?void 0:r.id;const a=o.steps.findIndex((e=>e.id===t));return-1!==a&&0!==a?o.steps[a-1].id:void 0}(t,o)}function d(e,t){var o;if(!e)return;const i=((null===(o=e.getSettings())||void 0===o?void 0:o.tutorials)||{})[t];return void 0===i?n().c$[t].steps[0].id:i}},748539:(e,t,o)=>{"use strict";o.d(t,{f:()=>n});const n=new(o(645873).O2)("pageCovers",(async()=>{const{pageCovers:e}=await o.e(40198).then(o.bind(o,519737));return e}))},789557:(e,t,o)=>{"use strict";o.d(t,{DZ:()=>k,E3:()=>I,L6:()=>j,QA:()=>A,Tu:()=>P,lV:()=>T});o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520),o(803949);var n=()=>o(908006),i=()=>o(785082),r=()=>o(955825),s=()=>o(496603),a=()=>o(878523),l=()=>o(112873),c=()=>o(722101),d=()=>o(246826),u=()=>o(620689),p=()=>o(255460),m=()=>o(319975),f=()=>o(751156),y=()=>o(892632),g=()=>o(299545),v=()=>o(906537),h=()=>o(630116),S=()=>o(606846),x=()=>o(374026),w=()=>o(807060),b=()=>o(337090),C=()=>o(855821),_=()=>o(741817),M=()=>o(301523);function A(e){var t,o;const{environment:n,store:r,text:s,files:l,transaction:c,discussionLocation:d,property_id:u,blockStore:p}=e,f=g().eK(r);if(!f)return;const{filesToCreate:y,fileStoresToDelete:v}=function(e,t){const o=[],n=new Set;t.forEach((e=>{"local"===e.type?o.push(e.file):n.add(e.id)}));const i=g().dd(e),r=i.filter((e=>e.getAlive()&&!n.has(e.id)));return{filesToCreate:o,fileStoresToDelete:r}}(r,l);j({commentStore:r,fileBlocks:v,transaction:c}),(0,C().t)({commentStore:r,files:y,environment:n,transaction:c});const h=g().gp(r);m().R9({environment:n,store:h,value:s,transaction:c}),(0,M().x)(r,c);const x=null==r||null===(t=r.getParentStore())||void 0===t?void 0:t.getParentStore(),b=i().eR.includes(d),_=null==f||null===(o=f.getParentStore())||void 0===o?void 0:o.getNavigableBlockStore(),{property_type:A,collection_id:P,collection_view_id:I,view_type:T,collection_view_block_id:k}=(0,w().q)(u,p);a().ZM(n,{from:d,comment_id:r.id,discussion_id:f.id,discussion_type:f.getType(),parent_block_id:f.getParentId(),parent_collection_id:null==x?void 0:x.getParentCollectionIdUpToTwoLevels(),...b&&{inbox_session_id:S().Ay.state.sessionId,notification_page_id:null==_?void 0:_.id},property_type:A,collection_id:P,collection_view_id:I,view_type:T,collection_view_block_id:k})}function P(e){var t,o;const{environment:n,commentStore:r,transaction:s,discussionLocation:l}=e,c=g().eK(r);if(!c)return;const u=g().uB(c),p=u.getValue();if(!p)return;j({commentStore:r,fileBlocks:g().dd(r),transaction:s}),d().zv({store:r,transaction:s,data:{alive:!1}}),f().applyOperation({store:u,operation:{pointer:u.pointer,path:u.path,command:"listRemove",args:{id:r.id}},transaction:s}),(0===p.length||1===p.length&&p[0]===r.id)&&(0,_().v)({environment:n,discussionStore:c,transaction:s}),(0,M().x)(r,s);const m=i().eR.includes(l),y=null==c||null===(t=c.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore();a().gN(n,{from:e.discussionLocation,discussion_id:c.id,discussion_type:c.getType(),comment_id:r.id,parent_block_id:c.getParentId(),parent_collection_id:null===(o=c.getParentStore())||void 0===o?void 0:o.getParentCollectionIdUpToTwoLevels(),...m&&{inbox_session_id:S().Ay.state.sessionId,notification_page_id:null==y?void 0:y.id}})}function I(e){var t,o;const{environment:n,commentStore:r,discussionStore:s,transaction:l,discussionLocation:c}=e;d().zv({store:s,data:{resolved:!1},transaction:l});const u=i().eR.includes(c),p=null==s||null===(t=s.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore();a().Jg(n,{comment_id:r.id,discussion_id:s.id,from:e.discussionLocation,parent_block_id:s.getParentId(),parent_collection_id:null===(o=s.getParentStore())||void 0===o?void 0:o.getAssociatedCollectionId(),...u&&{inbox_session_id:S().Ay.state.sessionId,notification_page_id:null==p?void 0:p.id}})}function T(e){var t,o;const{environment:n,discussionStore:r,textValue:l,transaction:c,files:d,property_id:u,blockStore:p}=e,{id:m}=n.currentUser;if(!m)return;const f=y().JC(d);if(s().n4(l,[])&&0===f.length)return;const g=(0,b().G)({discussionStore:r,text:l,files:f,markDiscussionRead:!0,environment:n,transaction:c}),v=i().eR.includes(e.discussionLocation),h=null===(t=r.getParentStore())||void 0===t?void 0:t.getNavigableBlockStore(),{property_type:x,collection_id:C,collection_view_id:_,view_type:M,collection_view_block_id:A}=(0,w().q)(u,p);a().mw(n,{from:e.discussionLocation,comment_id:g.id,discussion_id:r.id,discussion_type:r.getType(),parent_block_id:r.getParentId(),parent_collection_id:null==r||null===(o=r.getParentStore())||void 0===o?void 0:o.getParentCollectionIdUpToTwoLevels(),...v&&{inbox_session_id:S().Ay.state.sessionId,notification_page_id:null==h?void 0:h.id},property_type:x,collection_id:C,collection_view_id:_,view_type:M,collection_view_block_id:A})}function j(e){const{commentStore:t,fileBlocks:o,transaction:n}=e,i=g().eP(t);o.forEach((e=>{d().zv({store:e,data:{alive:!1},transaction:n}),c().TF({parentStore:i,childToRemoveStore:e,transaction:n})}))}async function k(e){var t;let{discussionStore:o,currentBlockStore:i,environment:s,analyticsFrom:a,currentEl:c}=e;if(!i)return null;if(!o.isDefined())return;function d(e){const t=(0,x().S)({discussionId:o.id,blockId:e});if(!t)return;const n=document.getElementsByClassName((0,r().wV)({discussionId:o.id}))[0];return n?u().hT({element:n,environment:s,scrollerContext:t.getScrollerContext(),vertical:{reveal:"top"},horizontal:{reveal:"closest"},animate:!0}):u().pb({environment:s,handle:t,vertical:{reveal:"top"},horizontal:{reveal:"closest"},animate:!0}),t.displaySelectionHalo(750),t}const m=(null===(t=o.getRecordStoreUIParent())||void 0===t?void 0:t.id)??o.getParentId();d(m)||(await p().NH(i,[m]),await n().default.afterNextFlush(),d(m));const f=h().Bv.createChildStore(i,o.getParentPointer()),y=v().get(),g=null==y?void 0:y.commonAncestorContainer,S=!(null!=y&&y.collapsed)&&g&&(c===g||(null==c?void 0:c.contains(g)));l().B4({environment:s,blockStore:f||i,analyticsFrom:a,discussionIds:[o.id],shouldFocusDiscussion:!S,recursivelyLoadAllDiscussions:!1})}},802975:(e,t,o)=>{"use strict";o.d(t,{B:()=>m});o(16280),o(898992),o(354520);var n=()=>o(792071),i=()=>o(37165),r=()=>o(235191),s=()=>o(686526),a=()=>o(751156),l=()=>o(2220),c=()=>o(640868),d=()=>o(630116),u=()=>o(465741),p=()=>o(98205);function m(e){let{environment:t,module:o,sessionId:n,layoutStore:i,collectionSettingsStore:r,isCollectionEmpty:a,collectionContextStore:l,area:c,transaction:d,updateParentModule:u}=e;const m=l.collectionStore();if(!m)throw new Error("Could not find collection store");const y=i.getModules().form_conditional_modules??{},g=(0,p().Yg)({currentModule:o,nestedModules:y,includePlaceholders:!0}).formQuestionDescendants.filter((e=>e.id!==o.id)),v=l.normalizedSchemaStore.state;for(const s of g)f({environment:t,module:s,sessionId:n,layoutStore:i,isCollectionEmpty:a,collectionContextStore:l,collectionStore:m,area:"form_conditional_modules",transaction:d,schema:v,updateParentModule:!1});f({environment:t,module:o,sessionId:n,layoutStore:i,isCollectionEmpty:a,collectionContextStore:l,collectionStore:m,area:c,transaction:d,schema:v,updateParentModule:u}),s().os({collectionSettingsStore:r})}function f(e){let t,{environment:o,module:s,sessionId:p,layoutStore:m,isCollectionEmpty:f,collectionContextStore:y,collectionStore:g,area:v,transaction:h,updateParentModule:S,schema:x}=e;if("formQuestion"===s.type){var w;if(t=d().c7.createChildStore(m,{table:i().lo,id:s.formQuestionId,spaceId:m.getSpaceId()??""}).getPropertyId(),!t)return;const e=null===(w=x[t])||void 0===w?void 0:w.type;f&&e&&"title"!==e&&r().BJ({environment:o,collectionStore:g,schema:x,property:t,transaction:h}),(0,l().u)({environment:o,event:{eventName:"delete_form_question",eventProperties:(0,u().YA)({collectionContextStore:y,propertyId:t,questionId:s.id,parentModuleId:S?s.parentModuleId:void 0,area:v,layoutStore:m})}})}S?(0,c().U)({environment:o,position:{area:v,moduleId:s.id},layoutStore:m,sessionId:p,transaction:h}):a().applyOperation({transaction:h,store:m,operation:n().N4X.deleteModuleInArea({pointer:m.pointer,area:v,moduleId:s.id})})}},809678:(e,t,o)=>{"use strict";var n=o(746518),i=o(437628),r=o(225397),s=o(206469),a=Array;n({target:"Array",proto:!0},{toReversed:function(){return i(r(this),a)}}),s("toReversed")},832857:(e,t,o)=>{"use strict";o.d(t,{FG:()=>v,Is:()=>g,Ix:()=>h,jD:()=>S,lF:()=>y});o(944114),o(898992),o(354520),o(672577),o(581454);var n=()=>o(289915),i=()=>o(792071),r=()=>o(500993),s=()=>o(183558),a=()=>o(534177),l=()=>o(751156),c=()=>o(909470),d=()=>o(978846),u=()=>o(640868),p=()=>o(33218),m=()=>o(217429),f=()=>o(802975);function y(e){const{environment:t,layoutStore:o,currentQuestionModule:n,area:i,property:r,filterValue:a,setModuleSelection:c,sessionId:u}=e;l().createAndCommit({userAction:"FormSelectProperty.handleAddConditionalLogic",environment:t,canUndo:!0,perform:e=>{if(!o.getModel())return;const l=(0,s().Ay)(),m=(0,s().Ay)(),f=function(e){var t,o;switch(e.type){case"select":return{operator:"enum_is",value:{type:"exact",value:null===(t=e.value)||void 0===t?void 0:t.value}};case"multi_select":return{operator:"enum_contains",value:{type:"exact",value:null===(o=e.value)||void 0===o?void 0:o.value}};case"checkbox":return{operator:"checkbox_is",value:{type:"exact",value:e.value}}}}(a);(0,p().UQ)({environment:t,transaction:e,layoutStore:o,position:{area:i,moduleId:n.id},updatedModule:{...n,conditionalGroups:[...n.conditionalGroups??[],{id:l,trigger:{property:r,filter:f},children:[]}]}});const y={id:m,type:"placeholder",parentModuleId:n.id,parentConditionalGroupId:l};(0,d().UQ)({environment:t,transaction:e,layoutStore:o,position:{type:"absolute",area:"form_conditional_modules",parentConditionalGroupId:l,parentModuleId:n.id},module:y,sessionId:u,isPropertyCreation:!1}),c&&c({type:"existing_module",moduleId:m,isDragging:!1})}})}function g(e){var t;const{environment:o,layoutStore:n,module:i,conditionalGroupId:s,newValue:a}=e,c=(0,r().A)(i.id,n.getModules()),d={...i,conditionalGroups:null===(t=i.conditionalGroups)||void 0===t?void 0:t.map((e=>e.id===s?{...e,trigger:{...e.trigger,filter:a}}:e))};l().createAndCommit({userAction:"FormConditionalLogicModuleRenderer.updateTriggerFilter",environment:o,canUndo:!0,perform:e=>{(0,p().UQ)({environment:o,transaction:e,layoutStore:n,position:{area:c.area,moduleId:i.id},updatedModule:d})}})}function v(e){const{environment:t,parentModule:o,groupId:n,layoutStore:r,collectionContextStore:s,isCollectionEmpty:a,sessionId:c}=e,d=r.getModules().form_conditional_modules??{};l().createAndCommit({userAction:"FormConditionalLogicModuleRenderer.deleteConditionalGroup",environment:t,canUndo:!0,perform:e=>{var u,m;const y=null==r?void 0:r.getModel();if(!r||!y)return;const g=null===(u=o.conditionalGroups)||void 0===u?void 0:u.filter((e=>e.id!==n)),v=null===(m=o.conditionalGroups)||void 0===m?void 0:m.find((e=>e.id===n));if(void 0!==v){for(const o of v.children??[]){const n=d[o];n&&("placeholder"!==n.type?(0,f().B)({environment:t,module:n,sessionId:c,transaction:e,layoutStore:r,collectionContextStore:s,collectionSettingsStore:s.settingsStore,isCollectionEmpty:a,area:"form_conditional_modules",updateParentModule:!1}):l().applyOperation({transaction:e,store:r,operation:i().N4X.deleteModuleInArea({pointer:r.pointer,area:"form_conditional_modules",moduleId:o})}))}(0,p().UQ)({environment:t,transaction:e,layoutStore:r,position:{area:Object.keys(d).includes(o.id)?"form_conditional_modules":"form_layout_schema",moduleId:o.id},updatedModule:{...o,conditionalGroups:g}})}}})}function h(e){const{environment:t,layoutStore:o,formQuestionModule:n,sessionId:i}=e;l().createAndCommit({userAction:"FormConditionalLogicModuleRenderer.deleteConditionalGroup",environment:t,canUndo:!0,perform:e=>{(0,u().U)({environment:t,transaction:e,layoutStore:o,position:{area:"form_conditional_modules",moduleId:n.id}}),(0,d().UQ)({environment:t,transaction:e,layoutStore:o,position:{area:"form_layout_schema",type:"area_relative",location:"end_moveable"},module:{...n,parentModuleId:void 0,parentConditionalGroupId:void 0},sessionId:i,isPropertyCreation:!1})}})}function S(e){const{questionModulesToVisit:t,draftSubmissionPageStore:o,collectionSchema:i,nestedQuestionModules:r,intl:s}=e,l=[],d=o.getModel();if(!d)return[];for(const p of t){l.push(p);const e=p.conditionalGroups;if(e)for(const t of e){var u;const e=t.trigger;if(!(0,n().ts)({filter:e.filter,property:e.property,propertyMapping:void 0,context:{schema:i,userId:void 0,userTimeZone:"",userStartOfWeek:0,relativeVariableResult:void 0,currentPageInRelatedCollection:void 0,intl:s,collectionFeatureGates:(0,c().i)()},depth:0})({block:d,getRecordModel:o.getRecordModel,propertyMapping:void 0,resultCache:new Map,regExpCache:new Map,formatDateCache:new Map,experimentService:m().default,formulasModule:void 0}))continue;const p=null===(u=t.children)||void 0===u?void 0:u.map((e=>{const t=r[e];if(t&&"formQuestion"===t.type)return t})).filter(a().O9);if(!p||0===p.length)continue;const f=S({questionModulesToVisit:p,draftSubmissionPageStore:o,collectionSchema:i,nestedQuestionModules:r,intl:s});l.push(...f)}}return l}},835607:(e,t,o)=>{"use strict";o.r(t),o.d(t,{iconDefinition:()=>n,peopleIcon:()=>i});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"0.85 2.79 18.76 14.42",svg:(0,o(474848).jsx)("path",{d:"M11.794 3.936c.57-.71 1.414-1.141 2.456-1.141s1.886.43 2.456 1.14c.558.696.823 1.618.823 2.582s-.265 1.885-.823 2.58c-.57.71-1.414 1.141-2.456 1.141s-1.886-.43-2.456-1.14c-.558-.696-.823-1.618-.823-2.581 0-.964.265-1.886.823-2.581m.975.782c-.341.426-.548 1.052-.548 1.799s.207 1.373.548 1.798c.33.41.813.673 1.481.673s1.152-.262 1.481-.673c.342-.425.548-1.051.548-1.798s-.206-1.373-.548-1.799c-.33-.41-.813-.673-1.48-.673-.669 0-1.152.263-1.482.673M5.75 3.625c-.956 0-1.734.396-2.259 1.05-.513.64-.755 1.484-.755 2.362s.242 1.723.755 2.362c.525.654 1.303 1.05 2.26 1.05s1.733-.396 2.258-1.05c.513-.64.755-1.484.755-2.362s-.242-1.723-.755-2.362c-.525-.654-1.302-1.05-2.259-1.05M3.986 7.037c0-.661.184-1.21.48-1.58.285-.354.702-.582 1.284-.582s1 .228 1.284.582c.297.37.48.919.48 1.58s-.183 1.21-.48 1.58c-.284.354-.701.582-1.284.582-.582 0-1-.228-1.284-.583-.296-.37-.48-.918-.48-1.579m-.948 8.918h4.69c.114.467.337.894.634 1.25H3.038c-.68 0-1.327-.286-1.742-.764-.432-.498-.606-1.209-.265-1.92.823-1.72 2.636-2.896 4.72-2.896 1.128 0 2.178.346 3.034.936a6.6 6.6 0 0 0-.681 1.05 4.1 4.1 0 0 0-2.354-.736c-1.611 0-2.98.908-3.592 2.186-.1.21-.063.393.082.56.161.186.456.334.798.334M14.25 11.21c-2.334 0-4.354 1.36-5.202 3.323-.309.715-.125 1.419.309 1.912.418.476 1.064.76 1.743.76h6.3c.68 0 1.325-.284 1.744-.76.433-.493.617-1.197.308-1.912-.848-1.963-2.868-3.324-5.202-3.324m-4.054 3.818c.645-1.494 2.207-2.569 4.054-2.569s3.409 1.075 4.055 2.57a.52.52 0 0 1-.1.59c-.166.19-.462.336-.805.336h-6.3c-.342 0-.638-.146-.805-.336a.52.52 0 0 1-.1-.59"})},i=(0,o(340498).wt)("people",n)},871202:(e,t,o)=>{"use strict";o.r(t),o.d(t,{hasAccessDefaultFn:()=>h,hasAccessToCode:()=>b,hasAccessToProperty:()=>w,hasReadPermissionsAccess:()=>S,hasSameSpaceAccess:()=>x,testOnly:()=>C});o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520);var n=()=>o(496603),i=()=>o(763824),r=()=>o(973647),s=()=>o(534177),a=()=>o(970013),l=()=>o(247331),c=()=>o(443881),d=()=>o(977345),u=()=>o(501053),p=()=>o(373907);function*m(e){const{collectionPointer:t,context:o,propertyId:n,propertySchema:i,visitedPointers:r,hasAccessFn:s}=e,a=(0,c().G7)({...t,propertyId:n});if(r.has(a))return!0;r.add(a);const l=s({propertySchema:i,spaceId:o.spaceId});return"boolean"==typeof l?l:yield*l}function*f(e){var t,o;const{collectionPointer:i,depth:u,collectionSchema:m,context:f,propertyId:y,propertySchema:g,visitedPointers:h,hasAccessFn:S}=e;if("v2"!==g.version||u>l().FORMULA_MAX_DEPTH)return!1;const x=(0,c().G7)({...i,propertyId:y});if(h.has(x))return!0;if(h.add(x),!(0,s().O9)(null===(t=g.formula2)||void 0===t?void 0:t.code))return!0;const w=(0,p().$t)(null===(o=g.formula2)||void 0===o?void 0:o.code);if(r().Q.isFail(w))return!0;const{spaceId:b}=f,C=(0,c().zm)({formulaTypecheckContextValues:[{kind:l().FormulaContextValueKind.ThisRow,type:{collection:i,type:"block"}}],node:w.value,spaceId:b}),_=(0,n().hS)(C,(e=>(0,c().G7)(e)));if(0===_.length)return!0;const{getRecordModel:M}=yield{collectionBlockProperties:[{blockPointers:[],collectionPointer:i,property:y,schema:m}],recordPointers:_.filter((e=>(0,d().T3)(e)))};for(const n of _)if((0,a().pq)(n)){const e=M(n);if(!(0,s().O9)(e))return!1;const t=n.propertyId,o=e.getSchema(),i=o[t];if(!i)continue;if((0,a().bT)(i)||(0,a().lb)(i)){if(!(yield*v({collectionPointer:n,collectionSchema:o,context:f,depth:u+1,propertyId:t,propertySchema:i,visitedPointers:h,hasAccessFn:S})))return!1}else if((0,a().nC)(i)){if(!(yield*v({collectionPointer:n,collectionSchema:o,context:f,depth:u,propertyId:t,propertySchema:i,visitedPointers:h,hasAccessFn:S})))return!1}}else if(!(0,s().O9)(M(n)))return!1;return!0}function*y(e){const{collectionPointer:t,depth:o,collectionSchema:n,context:i,propertyId:r,propertySchema:s,visitedPointers:d,hasAccessFn:p}=e;if("v2"===s.version||o>l().FORMULA_MAX_DEPTH)return!1;const m=(0,c().G7)({...t,propertyId:r});if(d.has(m))return!0;d.add(m);const f=(0,u().kh)(s.formula);if(0===f.length)return!0;for(const l of f){const e=n[l];if(e)if((0,a().bT)(e)||(0,a().lb)(e)){if(!(yield*v({collectionPointer:t,depth:o+1,collectionSchema:n,context:i,propertyId:l,propertySchema:e,visitedPointers:d,hasAccessFn:p})))return!1}else if((0,a().nC)(e)){if(!(yield*v({collectionPointer:t,collectionSchema:n,context:i,depth:o,propertyId:l,propertySchema:e,visitedPointers:d,hasAccessFn:p})))return!1}}return!0}function*g(e){const{collectionPointer:t,depth:o,collectionSchema:n,context:i,propertyId:r,propertySchema:s,visitedPointers:d,hasAccessFn:u}=e;if(o>l().FORMULA_MAX_DEPTH)return!1;const p=(0,c().G7)({...t,propertyId:r});if(d.has(p))return!0;if(d.add(p),!s.relation_property||!s.target_property)return!0;const m=n[s.relation_property];if(!m||"relation"!==m.type)return!0;const f=u({propertySchema:m,spaceId:i.spaceId});if(!("boolean"==typeof f?f:yield*f))return!1;const y=(0,a().Nv)(m);if(!y)return!0;const{getRecordModel:g}=yield{recordPointers:[y]},h=g(y),S=null==h?void 0:h.getNormalizedSchema();if(s.target_property_type&&S){const e=S[s.target_property];if(e&&s.target_property_type===e.type){if((0,a().lb)(e))return yield*v({collectionPointer:y,collectionSchema:S,context:i,depth:o+1,propertyId:s.target_property,propertySchema:e,visitedPointers:d,hasAccessFn:u});if((0,a().nC)(e))return yield*v({collectionPointer:y,collectionSchema:S,context:i,depth:o,propertyId:s.target_property,propertySchema:e,visitedPointers:d,hasAccessFn:u})}}return!0}function*v(e){const{collectionPointer:t,depth:o,collectionSchema:n,context:i,propertyId:r,propertySchema:s,visitedPointers:l,hasAccessFn:c}=e;return(0,a().nC)(s)?yield*m({collectionPointer:t,context:i,propertyId:r,propertySchema:s,visitedPointers:l,hasAccessFn:c}):(0,a().lb)(s)?"v2"===s.version?yield*f({collectionPointer:t,depth:o,collectionSchema:n,context:i,propertyId:r,propertySchema:s,visitedPointers:l,hasAccessFn:c}):yield*y({collectionPointer:t,depth:o,collectionSchema:n,context:i,propertyId:r,propertySchema:s,visitedPointers:l,hasAccessFn:c}):!(0,a().bT)(s)||(yield*g({collectionPointer:t,depth:o,collectionSchema:n,context:i,propertyId:r,propertySchema:s,visitedPointers:l,hasAccessFn:c}))}function*h(e){const{propertySchema:t,spaceId:o}=e,n=(0,a().Nv)(t);if(!(0,s().O9)(n))return!0;const{getRecordModel:i}=yield{recordPointers:[n]},r=i(n);return(0,s().O9)(r)&&x({spaceId:o,propertySchema:t})}function*S(e){const{propertySchema:t}=e,o=(0,a().Nv)(t);if(!(0,s().O9)(o))return!0;const{getRecordModel:n}=yield{recordPointers:[o]},i=n(o);return(0,s().O9)(i)}function x(e){const{propertySchema:t,spaceId:o}=e;return!(0,a().o2)(o,t)}async function w(e){const{collectionPointer:t,collectionSchema:o,context:n,propertyId:r,hasAccessFn:s}=e,a=o[r];return!a||await async function(e){const{context:t}=e;try{const o=v(e);let n=o.next();for(;!n.done;){const e=t.handleDataRequest(n.value);n=o.next((0,i().yL)(e)?await e:e)}return n.value}catch(o){return!0}}({collectionPointer:t,depth:0,collectionSchema:o,context:n,propertyId:r,propertySchema:a,visitedPointers:new Set,hasAccessFn:s})}function b(e){const{context:t}=e;try{const o=function*(e){const{collectionPointer:t,depth:o,context:i,code:u,visitedPointers:m,hasAccessFn:f}=e,y=(0,p().$t)(u);if(r().Q.isFail(y))return!0;const{spaceId:g}=i,h=i.valueTypes.filter((e=>e.kind!==l().FormulaContextValueKind.ThisRow)),S=(0,c().zm)({formulaTypecheckContextValues:t?[...h,{kind:l().FormulaContextValueKind.ThisRow,type:{collection:t,type:"block"}}]:[],node:y.value,spaceId:g}),x=(0,n().hS)(S,(e=>(0,c().G7)(e)));if(0===x.length)return!0;const{getRecordModel:w}=yield{collectionBlockProperties:[],recordPointers:x.filter((e=>(0,d().T3)(e)))};for(const n of x)if((0,a().pq)(n)){const e=w(n);if(!(0,s().O9)(e))return!1;const t=n.propertyId,r=e.getSchema(),l=r[t];if(!l)continue;if((0,a().bT)(l)||(0,a().lb)(l)){if(!(yield*v({collectionPointer:n,collectionSchema:r,context:i,depth:o+1,propertyId:t,propertySchema:l,visitedPointers:m,hasAccessFn:f})))return!1}else if((0,a().nC)(l)&&!(yield*v({collectionPointer:n,collectionSchema:r,context:i,depth:o,propertyId:t,propertySchema:l,visitedPointers:m,hasAccessFn:f})))return!1}else if(!(0,s().O9)(w(n)))return!1;return!0}(e);let i=o.next();for(;!i.done;){const e=t.handleDataRequest(i.value);i=o.next(e)}return i.value}catch(o){return!0}}const C={hasAccessDefaultFn:h,hasAccessToProperty:w,hasAccessToFormula1Property:y,hasAccessToFormula2Property:f,hasAccessToRelationProperty:m,hasAccessToRollupProperty:g}},922189:(e,t,o)=>{"use strict";o.r(t),o.d(t,{iconDefinition:()=>i,personCircleFillIcon:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.26 15.25",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M10 5.125c-.95 0-1.723.393-2.245 1.044-.51.635-.75 1.474-.75 2.346s.24 1.71.75 2.346c.522.65 1.295 1.044 2.245 1.044s1.723-.394 2.245-1.044c.51-.635.75-1.474.75-2.346s-.24-1.711-.75-2.346c-.522-.65-1.294-1.044-2.245-1.044"}),(0,n.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 0 0-4.087 11.268C6.702 13.495 8.246 12.56 10 12.56s3.298.934 4.087 2.332A6.375 6.375 0 0 0 10 3.626"})]})},r=(0,o(340498).wt)("personCircleFill",i)},937199:(e,t,o)=>{"use strict";o.d(t,{LH:()=>r,Op:()=>i,bi:()=>l,sf:()=>a,v$:()=>s});o(16280);var n=o(296540);const i=(0,n.createContext)(null);function r(){const e=(0,n.useContext)(i);if(!e)throw new Error("usePageLayoutEditorContext must be used inside BaseLayoutEditorContext.Provider");return e}function s(){return(0,n.useContext)(i)}i.displayName="BaseLayoutEditorContext";const a=(0,n.createContext)(null);function l(){const e=(0,n.useContext)(a);if(!e)throw new Error("usePageLayoutEditorContext must be used inside PageLayoutEditorContextProvider");return e}a.displayName="PageLayoutEditorContext"},965134:(e,t,o)=>{"use strict";o.d(t,{i:()=>i});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"0.38 5.51 19.25 8.97",svg:(0,o(474848).jsx)("path",{d:"M8.793 6.767c-.816 0-1.472.465-1.71 1.036a.625.625 0 1 1-1.154-.482C6.38 6.242 7.52 5.517 8.794 5.517c1.618 0 3.068 1.181 3.068 2.786a2.62 2.62 0 0 1-.762 1.835l-3.312 3.095h3.637a.625.625 0 1 1 0 1.25h-5.22a.625.625 0 0 1-.427-1.081l4.453-4.163a1.37 1.37 0 0 0 .381-.936c0-.775-.742-1.536-1.818-1.536m7.576 0c-.868 0-1.508.425-1.724.877a.625.625 0 0 1-1.127-.54c.473-.99 1.629-1.587 2.85-1.587.799 0 1.546.247 2.107.675.56.429.962 1.066.962 1.819s-.401 1.39-.962 1.819l-.036.026q.085.056.165.116c.595.448 1.02 1.114 1.02 1.902s-.425 1.454-1.02 1.903c-.595.448-1.388.706-2.236.706-1.287 0-2.488-.6-3.008-1.6a.625.625 0 1 1 1.108-.577c.252.484.952.927 1.9.927.602 0 1.125-.185 1.484-.455.358-.27.522-.595.522-.904 0-.308-.164-.634-.522-.904-.359-.27-.882-.455-1.484-.455h-.554a.625.625 0 0 1 0-1.25h.44a1 1 0 0 1 .114-.01c.549 0 1.023-.17 1.348-.419.323-.247.47-.544.47-.825s-.147-.579-.47-.826c-.325-.247-.8-.418-1.348-.418M3.731 6.22l.005.078v7.56a.625.625 0 0 1-1.25 0V7.21l-1.182.658a.625.625 0 0 1-.608-1.092L2.806 5.6a.625.625 0 0 1 .925.62"})},i=(0,o(340498).wt)("numbers123",n)},965731:(e,t,o)=>{"use strict";o.r(t),o.d(t,{ConfigureViewsMainModuleAddViewButton:()=>v});o(898992),o(354520),o(581454);var n=o(296540),i=()=>o(484714),r=()=>o(56366),s=()=>o(970013),a=()=>o(959013),l=()=>o(686526),c=()=>o(760217),d=()=>o(939740),u=()=>o(89924),p=()=>o(962730),m=()=>o(377586),f=()=>o(937199),y=o(474848);const g=(0,a().YK)({relatedToDatabase:{defaultMessage:"Related to {database}",id:"pageLayout.configureViews.relatedToDatabase"},linkExistingDatabase:{defaultMessage:"Link existing database",id:"pageLayout.configureViews.linkAnExistingDatabase"}}),v=n.memo((function(e){const{renderOrigin:t,onClose:a}=e,c=(0,i().v3)(),[d,u]=(0,n.useState)(!1),g=(0,n.useRef)(null),{layoutStore:v}=(0,f().LH)(),x=(0,n.useContext)(f().sf),w=null==x?void 0:x.moduleStateByIdStore,b=(0,r().K8)((()=>{var e;const t=v.getModuleByType("viewsMain");if(t)return null==w||null===(e=w.get(t.id))||void 0===e?void 0:e.collectionContextStore}),[v,w]),C=(0,n.useCallback)(((e,t)=>{b&&((0,o(180762).t)({environment:c,collectionContextStore:b,collectionViewId:e.id,isFullScreen:!1,isRootChild:!1,isInPeekRenderer:!1}),l().Ow({collectionContextStore:b,collectionSettingsStore:b.settingsStore,closeOnEscape:!1}))}),[c,b]),_=(0,r().K8)((()=>{var e;const t=null===(e=v.getParentStore())||void 0===e?void 0:e.getModel();if((null==t?void 0:t.table)===o(519831).Vl)return t}),[v]),M=(0,r().K8)((()=>{const e=null==_?void 0:_.getNormalizedSchema();return Object.entries(e??{}).filter((e=>{let[t,n]=e;return(0,o(534177).O9)(n)&&(0,s().nC)(n)&&n.property}))}),[_]),A=(0,n.useCallback)((()=>{u(!1),null==a||a()}),[a]),P=(0,n.useCallback)((()=>{u(!0)}),[u]),I=(0,n.useMemo)((()=>o(757695).Store.createValue({open:!1,stack:[]},{name:"newViewsCreationMenuCollectionSettingsStore"})),[]),T=(0,n.useCallback)((()=>{const e=null==b?void 0:b.viewsModuleContextStore.getViewsModule();e&&l().R8({collectionSettingsStore:I,item:{type:"selectViewsModuleSource",module:e}})}),[null==b?void 0:b.viewsModuleContextStore,I]),j=(0,n.useCallback)((()=>{l().os({collectionSettingsStore:I})}),[I]),k=(0,n.useCallback)((()=>(0,y.jsx)(h,{setIsOpen:u,onClose:a,relations:M,setCurrentViewPointer:C,collectionModel:_,viewsMainModuleCollectionContextStore:b,openViewsCreationPopup:T})),[a,M,C,_,b,T]),B=(0,n.useCallback)((e=>t(e)),[t]);return b&&_?(0,y.jsxs)("div",{ref:g,children:[(0,y.jsx)(o(406699).Ay,{alignmentToOrigin:p().C.Center,popupType:m().n.Popup,onClose:A,onClick:P,open:d,render:k,renderOrigin:B,disablePopup:!0}),(0,y.jsx)(S,{buttonRef:g,viewsMainModuleCollectionContextStore:b,viewsCreationMenuCollectionSettingsStore:I,openViewsCreationPopup:T,closeViewsCreationPopup:j})]}):null})),h=n.memo((function(e){const{setIsOpen:t,onClose:r,relations:l,setCurrentViewPointer:p,collectionModel:m,viewsMainModuleCollectionContextStore:v,openViewsCreationPopup:h}=e,S=(0,i().v3)(),x=(0,o(401497).DP)(),{layoutStore:w,setModuleSelection:b}=(0,f().LH)(),C=(0,n.useMemo)((()=>{if(0!==l.length)return{key:0,items:[],render:e=>(0,y.jsx)(u().A,{...e,title:(0,y.jsx)(a().sA,{...g.relatedToDatabase,values:{database:null==m?void 0:m.getName()}}),children:l.map((e=>{let[t,n]=e;return(0,y.jsx)(c().A,{title:null==n?void 0:n.name,icon:(0,y.jsx)(o(743176).zB,{size:16,theme:x,icon:null==n?void 0:n.icon,type:"relation"}),focused:!1,onClick:()=>{if(!v)return;const{viewsMainModule:e,collectionViewPointer:i}=(0,o(626318).ZX)({environment:S,layoutStore:w,relationPropertyId:(null==n?void 0:n.property)??t,targetCollectionPointer:(0,s().Nv)(n)??(null==m?void 0:m.pointer),viewName:null==n?void 0:n.name,viewIcon:null==n?void 0:n.icon});e&&b({type:"existing_module",moduleId:e.id,isDragging:!1}),i&&(o(908006).default.afterNextFlush((()=>{p(i,null==e?void 0:e.id),null==r||r()})),v&&(0,o(154017).b)({environment:S,view_type:"table",collectionContextStore:v,from:"viewsMain"}))}},t)}))})}}),[v,m,S,w,r,l,p,b,x]),_=(0,n.useMemo)((()=>{const e=l.length>0;return{key:1,items:[],render:t=>(0,y.jsx)(u().A,{...t,topBorder:e,children:(0,y.jsx)(c().A,{title:(0,y.jsx)(a().sA,{...g.linkExistingDatabase}),icon:(0,y.jsx)(o(745266).h,{color:"regular",viewType:"table"}),onClick:()=>{h()},focused:!1},"link_existing_database")})}}),[h,l.length]);return(0,y.jsx)(o(928600).A,{menuType:o(722872).gu.Popup,onClick:()=>t(!1),width:270,paddingBottom:2,children:(0,y.jsx)(d().Ay,{initialFocus:void 0,sections:[C,_].filter((e=>void 0!==e)),type:d().Oh.Vertical})})})),S=n.memo((function(e){var t;const{buttonRef:i,viewsMainModuleCollectionContextStore:s,viewsCreationMenuCollectionSettingsStore:a,closeViewsCreationPopup:l}=e,c=(0,r().K8)((()=>a.state.open),[a]),d=(0,n.useCallback)((()=>{l()}),[l]),u=(0,n.useCallback)((()=>(0,y.jsx)(o(578565)._,{context:o(525432).Bd.TopbarFilterPopup,collectionContextStore:s,collectionSettingsStore:a,hideDesktopHeader:!0})),[a,s]);return(0,y.jsx)(o(897119).Ay,{open:c,trapFocus:!0,popupType:m().n.Popup,render:u,originRect:null===(t=i.current)||void 0===t?void 0:t.getBoundingClientRect(),alignmentToOrigin:p().C.Center,placementToOrigin:p().W.Bottom,enableOutsideClickDismiss:!0,originGap:4,onDismiss:d})}))},980151:(e,t,o)=>{"use strict";o.d(t,{WO:()=>u,_V:()=>p,hK:()=>m});var n=()=>o(869558),i=()=>o(854150),r=()=>o(751156),s=()=>o(108014),a=()=>o(100875),l=()=>o(162674),c=()=>o(710857),d=()=>o(765957);function u(e){const{environment:t,currentSpaceViewStore:o,...n}=e;if(!o.getModel())return;const i=!(0,c().x)(o)[e.feature];r().createAndCommit({userAction:"userHomeActions.toggleHomeFeature",environment:t,canUndo:!0,perform:t=>{r().applyOperation({store:o,operation:{pointer:o.pointer,path:["settings","personal_home","enabled_features"],command:"update",args:{[e.feature]:i}},transaction:t})}}),(0,l().f_)({environment:t,show:i,...n})}function p(e){let{environment:t,option:o,from:n,userAction:i}=e;const s=d().default.state.currentSpaceViewStore;if(!s)return!1;const c=s.getOnAppStartStore().getValue();return r().createAndCommit({userAction:i,environment:t,canUndo:!0,perform:e=>{r().applyOperation({store:s,operation:{pointer:s.pointer,path:["settings","on_app_start"],command:"set",args:o},transaction:e})}}),(0,a().cq)({spaceView:s.getModel(),preference:o}),(0,l().lr)({environment:t,oldValue:c,newValue:o,from:n}),!0}function m(e){const{environment:t,selectedStore:o,currentSpaceViewStore:a,collectionContextStore:c}=e,d=c.collectionViewStore(),u=c.collectionStore(),p=c.collectionViewBlockStore();if(!(u&&d&&p&&a))return;const m=a.getTeamsStores(),f=o.table===i().yK?m.indexOf(o)+1:0,y=o.table===i().yK?o.id:void 0;r().createAndCommit({environment:t,userAction:"PersonalHomeTrendingPanel.setCollectionViewSourceTeamId",canUndo:!0,perform:e=>{r().applyOperation({store:d,operation:{pointer:{id:d.id,table:n().Gy},path:["format","collection_view_source","teamId"],command:"set",args:y},transaction:e}),(0,s().d)({environment:t,collectionViewBlockStore:p,collectionViewStore:d,collectionStore:u,collectionContextStore:c,isFullScreen:!1,isRootChild:!1,isInPeekRenderer:!1,viewsModuleContext:void 0})}}),(0,l().AP)({environment:t,teamId:y,index:f})}}}]);