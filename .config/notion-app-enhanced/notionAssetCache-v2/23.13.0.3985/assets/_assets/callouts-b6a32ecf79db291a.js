"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[74688],{15154:(e,t,n)=>{n.d(t,{G:()=>o,_:()=>r});const r=.7,o=1},51367:(e,t,n)=>{n.d(t,{DL:()=>a,Jb:()=>c,Sq:()=>l,Y5:()=>s,gc:()=>d,wo:()=>u});var r=()=>n(917629),o=()=>n(2220),i=()=>n(217429);function a(e,t){const n=(0,r().h2)(t.callout_key);n&&(t.placement_key=(0,r().t9)(n)),(0,o().u)({environment:e,event:{eventName:"callout_show",eventProperties:t}}),i().default.logEvent("callout_show",t.callout_key)}function s(e,t){const n=(0,r().h2)(t.callout_key);n&&(t.placement_key=(0,r().t9)(n)),(0,o().u)({environment:e,event:{eventName:"callout_click",eventProperties:t}}),i().default.logEvent("callout_click",t.callout_key)}function l(e,t){const n=(0,r().h2)(t.callout_key);n&&(t.placement_key=(0,r().t9)(n)),(0,o().u)({environment:e,event:{eventName:"callout_dismiss",eventProperties:t}}),i().default.logEvent("callout_dismiss",t.callout_key)}function c(e,t){const n=(0,r().h2)(t.callout_key);n&&(t.placement_key=(0,r().t9)(n)),(0,o().u)({environment:e,event:{eventName:"callout_engagement",eventProperties:t}})}function u(e,t){const{eligible_callouts:n,required_arg_timeout:r,required_args_run_duration:i,eligibility_timeouts:a,blocklist:s}=t;(0,o().u)({environment:e,event:{eventName:"callout_coordinator_resolved",eventProperties:{eligible_callouts:n,required_arg_timeout:r,required_args_run_duration:i,eligibility_timeouts:a,blocklist:s}}})}function d(e,t){(0,o().u)({environment:e,event:{eventName:"callout_feature_interaction",eventProperties:t}})}},97065:(e,t,n)=>{n.d(t,{DH:()=>i});var r=()=>n(61844);const o=["trial_from_perf_marketing","onboarding_reverse_trial","mp_reverse_trial","feature_upsell_reverse_trial","admin_trial"];function i(e){return o.includes(e)||r().FN.includes(e)}},240865:(e,t,n)=>{n.d(t,{V:()=>i});var r=()=>n(56366),o=()=>n(765957);function i(e){return(0,r().K8)((()=>{var t;return e?e.getMemberCountFromPublicSpaceData()??void 0:(null===(t=o().default.state.currentSpaceStore)||void 0===t?void 0:t.getMemberCountFromPublicSpaceData())??void 0}),[e])}},512492:(e,t,n)=>{n.r(t),n.d(t,{buildMessages:()=>J,getEligibleStaticMessages:()=>Q,maybeShowMessagesImpl:()=>X,showStartupMessagesImpl:()=>Z});n(944114),n(898992),n(354520),n(581454),n(908872);var r=()=>n(244641),o=()=>n(690495),i=()=>n(917629),a=()=>n(763824),s=()=>n(534177),l=()=>n(765957),c=()=>n(430483),u=()=>n(57605),d=()=>n(217429),_=()=>n(841946),m=()=>n(678894),g=()=>n(668721),p=()=>n(749240),v=()=>n(731741),S=()=>n(449506);var f=()=>n(299487),y=()=>n(51367),b=(n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(672577),n(737550),n(814603),n(147566),n(198721),()=>n(700500)),h=()=>n(402390),P=()=>n(386164),w=()=>n(762433),k=()=>n(166386),I=()=>n(84262),A=()=>n(461946),D=()=>n(979340),U=()=>n(720665),x=()=>n(174636),C=()=>n(780054),E=()=>n(640653),B=()=>n(694926),q=()=>n(578136),M=()=>n(712505),R=()=>n(596513),N=()=>n(679616),T=()=>n(749356),G=()=>n(15154),F=()=>n(807778),O=()=>n(329304),L=()=>n(134217);function V(e){const{currentUserSettingsStore:t,minAccountAgeInDays:r}=e,o=(0,n(680074).iZ)(t);return Number(o)>=r}function z(e){return"unsubscribed_admin"===e.state.type||"unsubscribed_member"===e.state.type}const H={dummy_modal:async e=>Promise.resolve(!1),dummy_modal_2:async e=>Promise.resolve(!1),omnimodal:async e=>{let{}=e;return Promise.resolve(!1)},ai_jira_universal_qna_announcement:async e=>{const{environment:t,currentSpaceStore:n,mainEditorCurrentBlockStore:r,assistantFeatureGateStore:o,currentUserSettingsStore:i}=e,a=await R().t.awaitData(t,{spaceId:n.getSpaceId()}),s=(0,D().rV)((0,w().AI)(a),"plus"),l=(n.getMemberCountFromPublicSpaceData()??1)>1;if(!(r.canRead()&&n.canAdmin()&&s&&l))return!1;if(!V({currentUserSettingsStore:i,minAccountAgeInDays:8}))return!1;if(!o.isAiConnectorEnabled("jira")||!o.isAiEnabled())return!1;try{const e=await S().callApi({eventName:"getJiraAIConnectorAnnouncementEligibility",environment:t,data:{spaceId:n.getSpaceId()}});return"success"===e.type&&e.data.eligibility}catch{return!1}},ai_github_ai_connector_announcement:async e=>Promise.resolve(!1),ai_microsoft_teams_universal_qna_announcement:async e=>Promise.resolve(!1),ai_assistant_announcement:async e=>{const{currentUserSettingsStore:t,mainEditorCurrentBlockStore:n,assistantFeatureGateStore:r}=e,o=t.getSettings();if(!o)return!1;const i=void 0===(null==o?void 0:o.ai_assistant_onboarding_phase);return Promise.resolve(n.canRead()&&V({currentUserSettingsStore:t,minAccountAgeInDays:8})&&i&&r.canSeeAssistantFeaturePromotionalModal())},sidebar_upgrade_nudge:async e=>{const{currentUserSettingsStore:t,billingData:r,currentSpaceStore:o}=e,i=t.getSettings(),a=o.getMemberCountFromPublicSpaceData()??1,s=(0,n(907917).x)({billingData:r,memberCount:a});return Promise.resolve(!(null!=i&&i.dismissed_sidebar_upgrade_nudge||"none"!==s||(0,w().Fq)(r)||1!==a||(0,E().bN)(o)))},ai_limit_nudge:async e=>{var t,n;const{environment:r,currentSpaceStore:o,currentUserSettingsStore:i,assistantFeatureGateStore:a}=e;if(!a.isAiEnabled())return!1;const s=i.getSettings();if(void 0===s)return!1;const l=o.getSpaceId(),c=await(0,O().Bw)(r,{name:"ai_usage",spaceId:l,userId:r.currentUser.id,amount:1}),u=c.limit;if("unlimited"===u.total)return!1;const d=Number(u.current/u.total),_=d>=G().G?Boolean(null===(t=s.addOnLimitNotifications)||void 0===t?void 0:t.disableLimitNotificationInSidebar):Boolean(null===(n=s.addOnLimitNotifications)||void 0===n?void 0:n.disableWarningNotificationInSidebar),m=c.upsell;return"unavailable"!==c.type&&void 0!==m&&!_&&d>=G()._},block_limit_nudge:e=>{const{environment:t,subscriptionDataStore:n,currentSpaceStore:r}=e;return Promise.resolve(z(n)&&n.state&&L().z8(t,n.state,r.id))},post_reverse_trial_sidebar:async e=>{const{environment:t,subscriptionDataStore:r,currentSpaceStore:o}=e;if(!z(r)||!o.canAdmin())return Promise.resolve(!1);const i=o.getSpaceId(),a=await S().callApi({eventName:"getCustomerOffersReceived",environment:t,data:{spaceId:i},headers:(0,P().WS)({cellId:void 0,spaceId:i})});if("failed"===a.type)return Promise.resolve(!1);const s=a.data,l=(0,k().e8)(s,"trial"),c=(0,A().e3)(s),u=l&&!c&&(0,n(97065).DH)(l.offer.campaign);return Promise.resolve(u)},self_serve_business_trial_nudge_d0:async e=>(0,N().eH)("onboardingIntro",e),self_serve_business_trial_nudge_d1:async e=>(0,N().eH)("intro",e),self_serve_business_trial_nudge_d3:async e=>(0,N().eH)("inviteMembers",e),self_serve_business_trial_nudge_d5:async e=>(0,N().eH)("connectWorkspace",e),self_serve_business_trial_nudge_d8:async e=>(0,N().eH)("createTeamspaces",e),self_serve_business_trial_nudge_d11:async e=>(0,N().eH)("verifyPages",e),self_serve_business_trial_nudge_d14:async e=>(0,N().eH)("samlSSO",e),self_serve_business_trial_nudge_d17:async e=>(0,N().eH)("storeRecords",e),self_serve_business_trial_nudge_d20:async e=>(0,N().eH)("notionAi",e),self_serve_business_trial_ending_soon:async e=>{const{environment:t,currentSpaceStore:n}=e,r=n.getSpaceId(),o=await R().t.awaitData(t,{spaceId:r});if(!o)return Promise.resolve(!1);if(!(0,w().TB)(o))return Promise.resolve(!1);const i=(0,w().DS)(o),a=await S().callApi({eventName:"getCustomerOffersReceived",environment:t,data:{spaceId:r},headers:(0,P().WS)({cellId:void 0,spaceId:r})});if("failed"===a.type)return Promise.resolve(!1);const s=(0,A().F$)(a.data);if(!s||!(0,k().rM)(s))return Promise.resolve(!1);const l=(0,k().kd)(s);if(!l)return Promise.resolve(!1);const c=Math.floor(l.startOf("day").diff(i.startOf("day"),"days").days);return Promise.resolve(c>=0&&c<=A().$G)},resurrection_offer_sidebar:async e=>{const{environment:t,subscriptionDataStore:n,currentSpaceStore:r}=e,o=(0,F().vv)(),i=r.getSpaceId();if(!(z(n)&&o&&L().qc&&i))return Promise.resolve(!1);const a=await(0,T().z6)(t,{spaceId:i,offerCampaign:"resurrection_offer"});return a?Promise.resolve((0,k().u6)(a)):Promise.resolve(!1)},onboarding_reverse_trial_sidebar:async e=>{const{environment:t,currentSpaceStore:r}=e,o=await u().A.awaitData(t,{spaceId:r.getSpaceId()}),i=(0,n(753735).uq)(o),a=(0,w().DS)(o);if(!i||!r.canAdmin())return Promise.resolve(!1);const s=r.getSpaceId(),l=await S().callApi({eventName:"getCustomerOffersReceived",environment:t,data:{spaceId:s},headers:(0,P().WS)({cellId:void 0,spaceId:s})});if("success"!==l.type)return Promise.resolve(!1);if((0,A().e3)(l.data))return Promise.resolve(!1);const c=(0,k().e8)(l.data,"trial");if(!c)return Promise.resolve(!1);const d=(0,k().ER)(c,a),_=(0,k().b_)(c.offer).as("days"),m=d>Math.round(_/2);return Promise.resolve(m)},import_data_prompt:async e=>{var t;const{experimentStore:n,currentUserSettingsStore:r}=e;if(Boolean(null===(t=r.getSettings())||void 0===t||null===(t=t.adoption_entry_points)||void 0===t?void 0:t.import_sidebar_announcement))return Promise.resolve(!1);const o=n.getEligibleGroup({experimentId:"adoption_import_push",defaultGroup:"control",disableEventTrailLogging:!1});return Promise.resolve("on"===o)},integration_webhooks:async e=>{let{currentSpaceStore:t,experimentStore:n}=e;return Promise.resolve(t.canAdmin())},student_org_prompt:async e=>{var t,n;const{environment:r,subscriptionDataStore:o,currentUserSettingsStore:i}=e,a=o.state,s=o.state.subscriptionTier,l=void 0!==s&&["student","personal","personal_free","free"].includes(s),c=new Set(["student_club_monthly","student_club_yearly"]),u=(0,E().p3)(),d=L().qc(a)&&(null==a||null===(t=a.customerData)||void 0===t?void 0:t.stripe)&&"plan"in a.customerData.stripe&&c.has(a.customerData.stripe.plan);if(void 0!==(null===(n=i.getSettings())||void 0===n?void 0:n.dismissed_sidebar_student_org_prompt)||!l||d||"multiplayer"===(null==u?void 0:u.collaborativeIntent))return!1;const _=await S().callApi({eventName:"isEmailEducation",environment:r,data:{validationType:"Domain"}});return"failed"!==_.type&&_.data.isEligible},notion_calendar_launch_promo:async e=>{const{environment:t,currentUserSettingsStore:n,mainEditorCurrentBlockStore:r,experimentStore:o,currentSpaceStore:i}=e,a=n.getSettings();if(!a)return!1;const s=a.notion_calendar_launch_modal_phase,l=t.device.isElectron?void 0===s:void 0===s||"connected_notion_calendar"===s,c="msStore"===t.device.desktopTargetPlatform;return Promise.resolve(r.canRead()&&o.checkGate({gateName:"notion_calendar_launch_modal"})&&!(0,E().IL)(i)&&!(0,E().XZ)(i)&&!c&&l)},startup_sidebar_footer:async e=>Promise.resolve(!1),asana_post_import_tour:async e=>{var t,n;const{currentUserSettingsStore:r,mainEditorCurrentBlockStore:o}=e,i=o,a=(null==i?void 0:i.isCollectionView())&&(null===(t=i.getFormat())||void 0===t?void 0:t.is_asana_imported_project)&&!(null!==(n=r.getSettings())&&void 0!==n&&n.seen_asana_post_import_tour);return Promise.resolve(a)},desktop_download_sidebar:async e=>{var t,n,o;const{currentUserSettingsStore:i,environment:a}=e;if("web-desktop"!==a.device.deviceType)return!1;if("control"!==d().default.getEligibleGroup({experimentId:"adoption_promote_desktop_app_download_in_onboarding",defaultGroup:"control",disableExposureLogging:!0}))return!1;if(Boolean((null===(t=i.getSettings())||void 0===t?void 0:t.used_mac_app)||(null===(n=i.getSettings())||void 0===n?void 0:n.used_windows_app)))return!1;const s=null===(o=i.getSettings())||void 0===o?void 0:o.signup_time;if(!s)return!1;const l=r().c9.now().toMillis()-s;return!(l>=7*U().nD)&&Promise.resolve(l<Number(U().pT))},open_in_calendar_tooltip:async e=>{const{currentSpaceStore:t,currentUserSettingsStore:n}=e,r=n.getSettings(),o=(0,E().dT)({env:"production",spaceStore:t});return Promise.resolve(!(o||null!=r&&r.seen_open_in_calendar_tooltip))},ai_google_drive_qna_notification_tooltip:async e=>{const{environment:t,assistantFeatureGateStore:n,currentSpaceStore:r,currentSpaceViewStore:o}=e,i=o.getSettings();if(!i||!n.isAiEnabled()||!n.canUseAiConnectorSearchScope("google-drive")||void 0!==i.ai_google_drive_qna_notification_seen_at)return Promise.resolve(!1);const a=await S().callApi({eventName:"getGoogleDriveRecallStatusForUser",environment:t,data:{spaceId:r.getSpaceId()}});return Promise.resolve("success"===a.type&&"enabled"===a.data.status)},ai_slack_qna_notification_tooltip:async e=>{const{environment:t,currentSpaceStore:r,currentSpaceViewStore:o,assistantFeatureGateStore:i}=e,a=null==o?void 0:o.getSettings(),s=r.getSpaceId();if(!i.isSlackQnaNotificationEnabled()||!i.isAiEnabled()||!a||void 0!==a.ai_slack_qna_notification_seen_at)return Promise.resolve(!1);if(d().default.checkGate({gateName:"ai_connector_unification"})){var l;if("success"===(await(0,n(323714).updateSlackQnAConnectionState)({environment:t,spaceId:s})).status)return Promise.resolve((null===(l=x().R.state.connectedApps)||void 0===l?void 0:l.includes("slack-admin"))&&!x().R.state.inProgress&&x().R.state.isSyncCompleted)}const[c,u]=await Promise.all([S().callApi({eventName:"getConnectedAppsForUniversalQna",environment:t,data:{spaceId:s},headers:(0,P().WS)({spaceId:s})}),S().callApi({eventName:"getSlackBulkIngestionStatus",environment:t,data:{spaceId:s},headers:(0,P().WS)({spaceId:s})})]);return Promise.resolve("success"===c.type&&c.data.connectedApps.includes("slack-admin")&&"success"===u.type&&!u.data.inProgress&&u.data.isSyncCompleted)},ai_slack_qna_embed_tooltip:async e=>{var t;const{environment:n,currentSpaceStore:r,mainEditorCurrentBlockStore:o,assistantFeatureGateStore:i,currentUserSettingsStore:a,experimentStore:s}=e;if(null!==(t=a.getSettings())&&void 0!==t&&t.seen_slack_embed_ai_connector_tooltip)return!1;const l=await R().t.awaitData(n,{spaceId:r.getSpaceId()}),c=(0,D().rV)((0,w().AI)(l),"plus"),u=((0,E().Xz)({environment:n,spaceId:r.id})??1)>1;return!!(o.canRead()&&c&&u)&&(!!V({currentUserSettingsStore:a,minAccountAgeInDays:8})&&(!(!s.checkGate({gateName:"enable_slack_embed_tooltips_actual"})||!i.isAiEnabled())&&Promise.resolve(!0)))},ai_sales_assisted_notification_tooltip:async e=>{const{assistantFeatureGateStore:t,currentUserSettingsStore:r,currentSpaceStore:o,environment:i}=e,a=null==r?void 0:r.getSettings(),s=(0,n(656633).vp)(i,o.id),l="tooltip"!==(null==a?void 0:a.ai_assistant_onboarding_phase)||void 0!==(null==a?void 0:a.ai_assistant_onboarding_phase_last_set_at)&&(0,n(130382).Mn)(a.ai_assistant_onboarding_phase_last_set_at)<1,c=await(0,O().Se)(i,{name:"ai_usage",amount:"unknown",spaceId:null==o?void 0:o.id,userId:i.currentUser.id});return Promise.resolve(t.showAssistantNotionAiCopy()&&t.isAiEnabled()&&s&&void 0===a.ai_sales_assisted_extra_notification_seen_at&&!l&&c)},ai_assistant_origin_element_tooltip:async e=>{const{currentUserSettingsStore:t,mainEditorCurrentBlockStore:r,assistantFeatureGateStore:o}=e;return Promise.resolve(!n(186445).$o.state&&r.canRead()&&o.isQnATooltipsVisible(t))},language_switch_prompt:async e=>{var t,n;const{currentUserSettingsStore:r}=e,o=(null==r||null===(t=r.getSettings())||void 0===t?void 0:t.preferred_locale)||h().q,i=(null==r||null===(n=r.getSettings())||void 0===n?void 0:n.language_switching_prompt_dismissals)||[],a=Boolean((0,h().A_)(o,i));return Promise.resolve(a)},forms_share_form_tooltip:async e=>{var t;const{currentUserSettingsStore:n}=e,r=Boolean(null===(t=n.getSettings())||void 0===t?void 0:t.seen_forms_share_form_tooltip);return Promise.resolve(!r)},forms_add_conditional_logic_tooltip:async e=>{var t;const{currentUserSettingsStore:n}=e,r=Boolean(null===(t=n.getSettings())||void 0===t?void 0:t.seen_forms_add_conditional_logic_tooltip);return Promise.resolve(!r)},customize_slug_tooltip:async e=>{const{currentSpaceStore:t}=e,n=(0,E().oT)(t);return Promise.resolve(n)},collection_add_item_button_tooltip:async e=>{const{mainEditorCurrentBlockStore:t}=e;return Promise.resolve(t.canEdit())},jira_ai_sidebar_reminder:async e=>{const{assistantFeatureGateStore:t}=e,o=function(e){const{messageKey:t,nDays:n}=e,{currentUserSettingsStore:o,currentSpaceViewStore:i}=l().default.state,a=null==o?void 0:o.getSettings(),s=((null==a?void 0:a.callout_dismissal_timestamps)??[]).find((e=>e.name===t)),c=null==i?void 0:i.getSettings(),u=((null==c?void 0:c.callout_dismissal_timestamps)??[]).find((e=>e.name===t)),d=Math.max((null==s?void 0:s.timestamp)??0,(null==u?void 0:u.timestamp)??0);return!!d&&(r().c9.now().toMillis()-d)/864e5>=n}({messageKey:"ai_jira_universal_qna_announcement",nDays:7}),i=t.notYetConnectedToJiraUniversalQnA(n(99254).y.state),a=H.ai_jira_universal_qna_announcement(e);return o&&i&&a},workflow_template_installation:async e=>{const{mainEditorCurrentBlockStore:t}=e;return Promise.resolve(t.canEdit())},organization_onboarding_modal:async e=>{const{environment:t,currentSpaceStore:n}=e,r=(0,D().bp)(n.getSubscriptionTier()),o=n.isReady()&&n.canAdmin();if(!r||!o)return!1;const i=await S().callApi({eventName:"getOrganizationOnboardingInfo",environment:t,data:{spaceId:n.getSpaceId()}});if("success"===i.type){const e=i.data.result.onboardingStatus;return"ineligible"!==e&&"completed"!==e}return!1},posts_onboarding_modal:async e=>{const{environment:t}=e;return Promise.resolve((0,q().D)({isMobileNative:Boolean(t.mobileNative),disableExposureLogging:!0}))},feed_view_onboarding_tooltip:async e=>Promise.resolve((0,q().X)({disableExposureLogging:!0})),feed_view_onboarding_callout:async e=>Promise.resolve(!1),notion_mail_launch_modal:async e=>{const{environment:t,experimentStore:n}=e,r=await(0,B().$)({environment:t}),o="msStore"===t.device.desktopTargetPlatform;return!r&&!o&&n.checkGate({gateName:"notion_mail_launch_modal"})},notion_mail_launch_modal_2:async e=>{const{environment:t,experimentStore:r,currentSpaceStore:o,currentSpaceViewStore:i,currentUserSettingsStore:a,billingData:s}=e,l=Boolean(r.checkGate({gateName:"business_trials_2025"}));let c=!1;if(l&&s&&(0,w().TB)(s)){const e=await(0,N().PT)({environment:t,billingData:s,currentSpaceStore:o});if(e){const t="type"in s&&"admin"===s.type?{...s,type:"admin"}:void 0;c=await(0,N().iO)({billingData:t,businessTrialOffer:e,currentSpaceViewStore:i})}}const u=Boolean(o&&a.id&&(0,n(646736).dp)(o,a.id).isWorkspaceOwner());if(l&&c&&u)return!1;return!(await(0,B().$)({environment:t}))&&r.checkGate({gateName:"notion_mail_launch_modal_2"})},notion_mail_launch_2_callout:async e=>{const{environment:t,experimentStore:n}=e;return!(await(0,B().$)({environment:t}))&&n.checkGate({gateName:"notion_mail_launch_modal_2"})},ai_for_work_announcement_modal:async e=>{const{experimentStore:t,assistantFeatureGateStore:n}=e,r=t.checkGate({gateName:"ai_for_work_modal",disableExposureLogging:!0}),o="aifw"===new URLSearchParams(window.location.search).get("origin");return Promise.resolve(!o&&n.isAiEnabled()&&r)},passkey_nudge_modal:async e=>{var t,n;const{environment:r,experimentStore:o,spaceProfileSettingsStore:i}=e,a=o.checkGate({gateName:"passkey_nudges"})&&!i.state.accountSettings.isSamlEnforced&&i.state.accountSettings.hasPassword&&!i.state.accountSettings.hasPasskeys;return(!r.device.isAndroid||"nativeTab"===(null===(t=r.RouterStore.state.route)||void 0===t?void 0:t.name)&&"settings"===(null===(n=r.RouterStore.state.route)||void 0===n?void 0:n.tab))&&a?Promise.resolve(!0):Promise.resolve(!1)},meeting_notes_prelaunch_modal:async e=>Promise.resolve(!1),collaboration_callout:async e=>{var t;const{currentSpaceStore:r,currentSpaceViewStore:o,currentUserSettingsStore:i,environment:a}=e;if(!r)return!1;const s=1===(r.getMemberCountFromPublicSpaceData()??1)&&0===r.getSpacePages().length&&"personal"===r.getPlanType(),l=((null===(t=o.getPrivatePages(a))||void 0===t?void 0:t.length)??0)>0,{allPagesStores:c}=(0,E().au)({environment:a,spaceViewStore:o,userSettingsStore:i,type:"shared"}).state,u=c.length>0;if(!s||!l||u)return Promise.resolve(!1);const _=await(0,O().Se)(a,{name:"slack_imports_invite",spaceId:null==r?void 0:r.id,userId:a.currentUser.id}),m=await(0,O().Se)(a,{name:"google_imports_invite",spaceId:null==r?void 0:r.id,userId:a.currentUser.id}),g=r.canEditMembership();return(0,n(787766).vC)({canEditPermission:g,isMobile:Boolean(C().A.isMobile),hasAccessToFeature:_||m})&&d().default.checkGate({gateName:"sharing_imports_callout"})?Promise.resolve(!0):Promise.resolve(!1)},public_share_link_tooltip:async e=>{const{experimentStore:t,mainEditorCurrentBlockStore:r}=e;return(0,n(928153).C)({store:r}).disabled||r.pathIsDead()||M().default.isSidePeekOpen()||M().default.isCenterPeekOpen()?Promise.resolve(!1):r.canAdmin()?r.getPermissionItems().find((e=>(0,n(68263).vZ)(e)))?Promise.resolve(!1):t.checkGate({gateName:"sharing_anyone_with_the_link"})?Promise.resolve(!0):Promise.resolve(!1):Promise.resolve(!1)},set_default_landing_page_tooltip:async e=>{var t;const{environment:n,currentSpaceStore:o,currentSpaceViewStore:i,currentUserSettingsStore:a,mainEditorCurrentBlockStore:s}=e;if(C().A.isMobile)return Promise.resolve(!1);if(s.getType()!==b().xd.personalHomePage)return Promise.resolve(!1);const l=null===(t=a.getSettings())||void 0===t?void 0:t.signup_time;if(!l)return!1;return l>=r().c9.utc(2025,4,22).toMillis()||"personal_home"===(0,E().Yi)(n,{space:null==o?void 0:o.getModel(),spaceView:null==i?void 0:i.getModel()})?Promise.resolve(!1):Promise.resolve(!0)},set_default_landing_page_tooltip_v2:async e=>{var t,n;const{mainEditorCurrentBlockStore:r,currentUserSettingsStore:o,currentSpaceViewStore:i}=e;return C().A.isMobile||r.getType()!==b().xd.personalHomePage||null!==(t=o.getSettings())&&void 0!==t&&t.seen_set_home_as_default_tooltip||void 0!==(null==i||null===(n=i.getModel())||void 0===n||null===(n=n.getSettings())||void 0===n?void 0:n.on_app_start)||"on"!==d().default.getEligibleGroup({experimentId:"set_home_as_default",defaultGroup:"control"})?Promise.resolve(!1):Promise.resolve(!0)},search_unified_find_result_tooltip:async e=>{const{environment:t,currentSpaceStore:n,assistantFeatureGateStore:r}=e,o=null==n?void 0:n.id,i=t.currentUser.id;if(!o||!i)return Promise.resolve(!1);if(!r.isDeepFindEnabled())return Promise.resolve(!1);const a=await(0,O().Bw)(t,{name:"ai_usage",spaceId:o,userId:i,amount:1}),s=(0,I().e2)(a);return Promise.resolve(s)},research_mode_chat_history_tooltip:async e=>{const{environment:t,currentSpaceStore:n,assistantFeatureGateStore:r}=e,o=n.getSpaceId(),i=t.currentUser.id;if(!o||!i)return Promise.resolve(!1);if(!r.isResearchModeWelcomePageAiEnabled())return Promise.resolve(!1);if(!r.isResearchModeChatHistoryCalloutEnabled())return Promise.resolve(!1);const a=await(0,O().Bw)(t,{name:"ai_research_mode",spaceId:o,userId:i,amount:1}),s=(0,I().e2)(a);return Promise.resolve(s)},anyone_with_the_link_sidebar_callout:async e=>{const{environment:t,currentUserRootStore:r}=e;if(!r)return Promise.resolve(!1);if(!!(0,n(47373).C4)({userRootStore:r}))return Promise.resolve(!1);return(0,n(311337).y)(t)?Promise.resolve(!0):Promise.resolve(!1)},research_mode_discoverability_tooltip:async e=>{var t;const{environment:n,currentSpaceStore:r,assistantFeatureGateStore:o,aiUsageEligibilityStore:i}=e,a=r.getSpaceId(),s=n.currentUser.id;if(!a||!s)return Promise.resolve(!1);if(!o.isResearchModeDiscoverabilityTooltipEnabled())return Promise.resolve(!1);if(!o.isResearchModeWelcomePageAiEnabled())return Promise.resolve(!1);if(((null===(t=i.state)||void 0===t?void 0:t.researchModeUsage)??0)>0)return Promise.resolve(!1);const l=await(0,O().Bw)(n,{name:"ai_research_mode",spaceId:a,userId:s,amount:1}),c=(0,I().e2)(l);return Promise.resolve(c)},onboarding_workflow_template_callout:async e=>{var t,r,o,i;const{experimentStore:a,currentUserSettingsStore:s}=e;if(Boolean(null===(t=s.getSettings())||void 0===t||null===(t=t.adoption_entry_points)||void 0===t?void 0:t.onboarding_workflow_template_sidebar_announcement))return Promise.resolve(!1);const c=null===(r=s.getSettings())||void 0===r?void 0:r.onboarding_workflow_template_blocks,u=c&&Object.keys(c).length>0&&Object.values(c).some((e=>e.length>0)),d=null===(o=l().AppStoreCurrentSpaceStore.state)||void 0===o?void 0:o.id;if(!d)return Promise.resolve(!1);const _=null==c?void 0:c[d];if(!u||!_)return Promise.resolve(!1);const m=null===(i=s.getSettings())||void 0===i?void 0:i.signup_time;if(!m)return Promise.resolve(!1);if((0,n(113806).e)({signupTime:m,age:"1_day"}))return Promise.resolve(!1);const g=a.getEligibleGroup({experimentId:"adoption_return_workflow_callout",defaultGroup:"control"});return Promise.resolve("sidebar_callout"===g)},referral_announcement:async e=>{const{environment:t,subscriptionDataStore:n,currentSpaceStore:r}=e,o=r.getSpaceId();if(!o)return Promise.resolve(!1);const i=(0,F().D3)();if(!L().qc(n.state)||!i)return Promise.resolve(!1);const a=await(0,T().z6)(t,{spaceId:o,offerCampaign:"referral_50"});return Promise.resolve("referral_50"===(null==a?void 0:a.campaign))}};var W=()=>n(641106);const K=5e3,j=3e4;async function $(e){const t={environment:Promise.resolve(e),currentUserSettingsStore:l().default.waitUntil((()=>{var e;return Boolean(null===(e=l().default.state.currentUserSettingsStore)||void 0===e?void 0:e.isReady())})).then((()=>l().default.state.currentUserSettingsStore)),currentSpaceStore:l().default.waitUntil((()=>{var e;return Boolean(null===(e=l().default.state.currentSpaceStore)||void 0===e?void 0:e.isReady())})).then((()=>l().default.state.currentSpaceStore)),mainEditorCurrentBlockStore:l().default.waitUntil((()=>{var e;return Boolean(null===(e=l().default.state.mainEditorCurrentBlockStore)||void 0===e?void 0:e.isReady())})).then((()=>l().default.state.mainEditorCurrentBlockStore)),currentSpaceViewStore:l().default.waitUntil((()=>{var e;return Boolean(null===(e=l().default.state.currentSpaceViewStore)||void 0===e?void 0:e.isReady())})).then((()=>l().default.state.currentSpaceViewStore)),assistantFeatureGateStore:c().zD.waitUntil((()=>c().zD.getIsInitialized())).then((()=>c().zD)),subscriptionDataStore:p().subscriptionDataStoreInstance.waitUntilLoaded().then((()=>p().subscriptionDataStoreInstance)),experimentStore:d().default.waitUntilStatsigReady().then((()=>d().default)),billingData:l().default.waitUntil((()=>{var e;return Boolean(null===(e=l().default.state.currentSpaceStore)||void 0===e?void 0:e.isReady())})).then((()=>l().default.state.currentSpaceStore)).then((t=>u().A.awaitData(e,{spaceId:t.getSpaceId()}))),spaceProfileSettingsStore:l().default.waitUntil((()=>{var e;return Boolean(null===(e=l().default.state.currentSpaceStore)||void 0===e?void 0:e.isReady())})).then((()=>new(m().A))),currentUserRootStore:l().default.waitUntil((()=>{var e;return Boolean(null===(e=l().default.state.currentUserRootStore)||void 0===e?void 0:e.isReady())})).then((()=>l().default.state.currentUserRootStore)),aiUsageEligibilityStore:g().A.waitUntil((()=>void 0!==g().A.state)).then((()=>g().A))},n={};return Promise.all((0,s().uv)(t).map((e=>async function(e,t,n){const r=await(0,a().nQ)(j,n);return r.timeout?Promise.reject(t):(e[t]=r.result,Promise.resolve(void 0))}(n,e,t[e])))).then((()=>({requiredArgs:n,timeoutKey:void 0})),(e=>({timeoutKey:e,requiredArgs:void 0})))}async function Q(e,t){const n=r().c9.now().toMillis(),{requiredArgs:o,timeoutKey:i}=await $(e),s=r().c9.now().toMillis()-n;if(!o)return{eligibleKeys:[],requiredArgTimeout:i,requiredArgsRunDuration:s};const{candidates:l,timeouts:c}=await async function(e,t){const n=[],r=[];for(const o of t){const{timeout:t,result:i}=await(0,a().nQ)(K,H[o](e));t?n.push(o):i&&r.push(o)}return{candidates:r,timeouts:n}}(o,t);return{eligibleKeys:l,eligibilityTimeouts:c,requiredArgsRunDuration:s}}async function X(e,t,n){await async function(){return new Promise((e=>{Y?e():ee.push(e)}))}();const{eligibleKeys:r,eligibilityTimeouts:o,requiredArgsRunDuration:a,requiredArgTimeout:s}=await Q(e,t);if(s)return{shown:[],requiredArgTimeout:s,requiredArgsRunDuration:a};const l=(0,i().p8)(r),c=[];for(const i of l){const t={id:"",key:i,type:"static",props:{}};f().rG(e,t,n).success&&c.push(i)}return{shown:c,eligibilityTimeouts:o,requiredArgsRunDuration:a}}async function Z(e){const t=i().qd.filter((e=>o().lU[e].show_on_startup));await d().default.waitUntilStatsigReady();const{eligibleKeys:n,eligibilityTimeouts:r,requiredArgTimeout:a,requiredArgsRunDuration:s}=await Q(e,t);if(a)return void y().wo(e,{eligible_callouts:[],required_arg_timeout:a,required_args_run_duration:s,eligibility_timeouts:[]});let l=(0,i().p8)(n);if(d().default.checkGate({gateName:"callouts_omnimodal"})){const e=l.filter((e=>"Modal"===(0,i().t9)(e)&&Boolean((0,W().N)(e))));e.length>1&&(v().A.setConfig("omnimodal",{callouts:e}),l=["omnimodal",...l.filter((e=>"Modal"!==(0,i().t9)(e)))])}const{requiredArgs:c}=await $(e),u=await J({staticMessageKeys:l,environment:e,requiredArgs:c}),_=[];for(const o of u){f().rG(e,o).success&&_.push(o.key)}const m=d().default.getConfigKey("callout_config","callout_blocklist");y().wo(e,{eligible_callouts:_,required_arg_timeout:null,required_args_run_duration:s,eligibility_timeouts:r??[],blocklist:m}),function(){Y=!0;for(const e of ee)e()}()}async function J(e){var t;const{staticMessageKeys:n,environment:r,requiredArgs:o}=e,i=[],{high:a,rest:s}=n.reduce(((e,t)=>(0===_().z[t]?e.high.push(t):e.rest.push(t),e)),{high:[],rest:[]}),{high:l,rest:c}=await async function(e,t){const n=await S().callApi({eventName:"getUnreadInAppMessagesForUser",environment:e,data:{workspaceId:t}});return"failed"===n.type?{high:[],rest:[]}:n.data.messages.reduce(((e,t)=>("highPriority"in t.config&&t.config.highPriority?e.high.push(t):e.rest.push(t),e)),{high:[],rest:[]})}(r,null==o||null===(t=o.currentSpaceStore)||void 0===t?void 0:t.getSpaceId());for(const u of a)i.push({id:"",key:u,type:"static",props:{}});for(const u of l)v().A.setConfig(u.config.key,{message:u}),i.push(u.config);for(const u of s)i.push({id:"",key:u,type:"static",props:{}});for(const u of c)v().A.setConfig(u.config.key,{message:u}),i.push(u.config);return i}let Y=!1;const ee=[]},641106:(e,t,n)=>{n.d(t,{N:()=>i,e:()=>r});function r(e,t){t}const o={dummy_modal:{title:{id:"announcementDigest.dummy_modal.title",defaultMessage:"Dummy Modal",description:"Title for the dummy modal announcement"},caption:{id:"announcementDigest.dummy_modal.caption",defaultMessage:"This is a dummy description of an announcement. Hi.",description:"Caption for the dummy modal announcement"},callToAction:{id:"announcementDigest.dummy_modal.callToAction",defaultMessage:"Do Nothing",description:"Button for the dummy modal announcement that does nothing"},imageUrl:n(148307).A.images.sites.sitesLaunchModalPng},dummy_modal_2:void 0,ai_assistant_announcement:void 0,ai_github_ai_connector_announcement:void 0,ai_jira_universal_qna_announcement:void 0,ai_microsoft_teams_universal_qna_announcement:void 0,notion_calendar_launch_promo:void 0,omnimodal:void 0,organization_onboarding_modal:void 0,posts_onboarding_modal:void 0,notion_mail_launch_modal:void 0,notion_mail_launch_modal_2:void 0,passkey_nudge_modal:void 0,ai_for_work_announcement_modal:void 0,meeting_notes_prelaunch_modal:void 0,referral_announcement:void 0};function i(e){return o[e]}},656633:(e,t,n)=>{n.d(t,{vp:()=>i});var r=()=>n(134217);const o={isSalesAssisted:void 0};function i(e,t){return o.isSalesAssisted??(0,r().e9)(e,t)}(0,n(466103).exposeDebugEnvironmentValue)("getAssistantOnboardingDebugInfo",(e=>()=>{const{currentUserSettingsStore:t,currentSpaceStore:r}=n(765957).default.state,o=null==t?void 0:t.getSettings();if(!o||!r)return;const{ai_qna_intro_onboarding_phase:a,ai_assistant_onboarding_phase:s,ai_assistant_onboarding_phase_last_set_at:l,ai_assistant_tooltips_onboarding_phase:c,ai_sales_assisted_extra_notification_seen_at:u,last_exposed_to_ai_qna_at:d,qna_reminders_shown_at:_}=o;return{isSalesAssisted:i(e,r.id),relevantUserSettings:{ai_qna_intro_onboarding_phase:a,ai_assistant_onboarding_phase:s,ai_assistant_tooltips_onboarding_phase:c,ai_assistant_onboarding_phase_last_set_at:l,ai_sales_assisted_extra_notification_seen_at:u,last_exposed_to_ai_qna_at:d,qna_reminders_shown_at:_}}}))},678894:(e,t,n)=>{n.d(t,{A:()=>i});var r=()=>n(604995);class o extends(()=>n(757695))().Store{getInitialState(){return{uploadingProfilePhoto:!1,name:"",startDayOfWeek:(0,r().Lm)(),accountSettings:{hasPassword:!1,canConfigurePassword:!1,isSamlEnforced:!1,mfaStatus:"loading",numMfaSettings:0,regenerateBackupCodes:!1,hasPasskeys:!1,error:void 0}}}getValueForUser(e,t,n){if(e.isDefined()){const o=e.getFullName(n),i=e.getProfilePhoto(),a=t.getSettings();return{...this.state,uploadingProfilePhoto:!1,profilePhoto:i,name:o||"",startDayOfWeek:void 0===(null==a?void 0:a.start_day_of_week)?(0,r().Lm)():null==a?void 0:a.start_day_of_week}}}}const i=o},787766:(e,t,n)=>{n.d(t,{Hc:()=>c,Io:()=>d,Mg:()=>m,S3:()=>s,X3:()=>l,dE:()=>_,iO:()=>u,vC:()=>g,vG:()=>a});n(944114),n(898992),n(803949);var r=()=>n(401497),o=()=>n(381349),i=()=>n(284371);function a(e){const{focus:t}=e;return(0,r().IS)((e=>({searchBar:{padding:16},inputStyle:{minWidth:60,width:"auto",borderTopLeftRadius:4,borderTopRightRadius:4,fontSize:14,fontWeight:i().Wy.regular},inputOuterStyle:{padding:6,borderRadius:6,height:20,alignItems:"center",minHeight:32,background:e.palette.gray[30],...t&&{background:"none"}}})),[t])}function s(){return(0,r().IS)((e=>({selectAllSectionStyle:{display:"flex",flexDirection:"column",gap:2,padding:"8px 0px 16px 0px"},sectionMenuItem:{padding:"12px 0px 0px 2px",display:"flex",flexDirection:"column",gap:2},dividerStyle:{margin:"0px 16px"},dividerInnerStyle:{borderBottom:`1px solid ${e.stroke.secondary}`},selectAllStyle:{display:"flex",fontSize:14,color:e.text.primary},totalCountsStyle:{paddingLeft:3,fontSize:14,color:e.text.tertiary}})),[])}function l(){return(0,r().IS)((e=>({footerStyle:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:60,padding:"12px 16px 16px 16px",borderTop:`1px solid ${e.stroke.secondary}`}})),[])}function c(){return(0,r().IS)((e=>({labelContainer:{display:"flex",alignItems:"center",color:o().Ay.uiLightBlack,size:14,gap:6},importListButton:{height:28,borderRadius:4,border:void 0,width:"100%"},importListButtonContainer:{padding:"0 6px",alignItems:"center"}})),[])}function u(){return(0,r().IS)((e=>({topContainer:{display:"flex",alignItems:"center",width:"100%",height:40,padding:"0 16px",borderBottom:`1px solid ${e.stroke.secondary}`},sendInviteLabel:{color:e.text.primary,fontSize:14,fontWeight:i().Wy.medium,textAlign:"left",verticalAlign:"top"}})),[])}function d(e,t){return(0,r().IS)((n=>({buttonContainer:{padding:"0 8px",...t},button:{height:32,borderRadius:4,border:`1px solid ${n.stroke.primary}`,...e}})),[e,t])}function _(e){const{filteredImportedContacts:t,inviteTargetsStore:n}=e,r=n.state.inviteTargets.length;return 0!==r&&r===t.length}function m(e){const{filteredImportedContacts:t}=e,n={};return t.forEach(((e,t)=>{const r=e.value.email[0].toUpperCase(),o=/^[A-Za-z]$/.test(r)?r:"#";n[o]||(n[o]=[]),n[o].push(e)})),n}function g(e){const{canEditPermission:t,isMobile:n,hasAccessToFeature:r}=e;return!(n||r||!t)}},907917:(e,t,n)=>{n.d(t,{w:()=>l,x:()=>s});var r=()=>n(762433),o=()=>n(979340),i=()=>n(240865),a=()=>n(324561);function s(e){const{billingData:t,memberCount:n}=e,i=(0,r().AI)(t),a=(0,o().dL)(i),s=(0,o().sP)(i);return a&&n<5?"invite":a?"upgrade":n<5&&!s?"invite":"none"}function l(e){const t=(0,a().f_)({spaceId:e}),n=(0,i().V)()??1;return t?s({billingData:t,memberCount:n}):"none"}},928153:(e,t,n)=>{n.d(t,{C:()=>s});var r=()=>n(534177),o=()=>n(247450),i=()=>n(765957),a=()=>n(108944);function s(e){let{store:t}=e;const n=(0,o().h)({blockId:t.id,setting:"publicAccess"});if((0,r().O9)(n))return n;const s=i().default.state.currentSpaceStore,l=(0,a().Uo)(t);return l?{disabled:Boolean(l.getDisablePublicAccess()),disabledBy:"team"}:!l&&null!=s&&s.getDisablePublicAccess()?{disabled:!0,disabledBy:"space"}:{disabled:!1}}}}]);