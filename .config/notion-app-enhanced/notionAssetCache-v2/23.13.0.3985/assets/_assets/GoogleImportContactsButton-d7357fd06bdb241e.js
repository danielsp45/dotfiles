"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[37398],{97509:(t,n,e)=>{e.r(n),e.d(n,{GoogleImportContactsButton:()=>m});e(898992),e(354520),e(672577);var i=e(296540),o=()=>e(484714),r=()=>e(56366),a=()=>e(617871),l=()=>e(763824),c=()=>e(973647),s=()=>e(278407),d=()=>e(449506),u=()=>e(510683),h=()=>e(493823),g=()=>e(225334),v=()=>e(787766),C=()=>e(765957),p=()=>e(53137),f=e(474848);function m(t){const{onClickAuthenticated:n,buttonLabel:e,inviteOrigin:m,flowId:_,from:y,hideChevronIcon:w,containerStyle:x,buttonStyle:A,loadContacts:I}=t,S=(0,o().v3)(),[b,k]=i.useState(!1),j=(0,r().O$)(C().AppStoreCurrentSpaceStore),L=(0,r().K8)((()=>{const t=null==j?void 0:j.getBotSettingsStore().getValue();return"approved_only"!==(null==t?void 0:t.integration_restrictions)||Boolean((null==t?void 0:t.integration_approval_statuses)&&t.integration_approval_statuses[a().E8])}),[j]),B=(0,r().K8)((()=>p().A.integrations.state.find((t=>t.id===a().E8))),[]),F=(0,r().K8)((()=>p().A.externalAuthentications.state.filter((t=>t.integration_id===a().E8))),[]),M=(0,v().Hc)();return j&&L?(0,f.jsx)("div",{style:x,children:(0,f.jsx)(h().p,{style:A,onClick:async()=>{0===F.length?await async function(t){const{from:e,loadContacts:i}=t,o=S.currentUser.id;if(!B||!j||!o)return;try{var r;k(!0),s().xC(S,{origin:m,from:e,invite_flow_id:_});const t=await u().Jq({environment:S,integration:B,spaceId:j.id,from:e});if(c().Q.isFail(t))return void s().yF(S,{origin:m,from:e,invite_flow_id:_,is_success:!1});const o=null===(r=t.value.externalAuthentication)||void 0===r?void 0:r.parent_id;if(!o)return;s().yF(S,{origin:m,from:e,invite_flow_id:_,is_success:!0}),i&&await Promise.race([d().callApi({eventName:"loadContacts",environment:S,data:{botId:o,spaceId:j.id,integrationId:B.id,importContactType:"google"}}),(0,l().wR)(2e3)]),null==n||n({isAfterImportConnection:!0})}finally{k(!1)}}({from:y,loadContacts:I}):F.length>0&&(null==n||n({isAfterImportConnection:!1}))},children:(0,f.jsxs)("div",{style:M.labelContainer,children:[e,(0,f.jsx)(g().M,{isConnecting:b,isIntegrationAuthenticated:F.length>0,hideChevronIcon:w})]})})}):null}},162402:(t,n,e)=>{e.d(n,{q:()=>o});e(296540);var i=e(474848);const o=(0,e(340498).wt)("circleCheckFilled",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M8 16c4.377 0 8-3.631 8-8 0-4.376-3.631-8-8.008-8C3.624 0 0 3.624 0 8c0 4.369 3.631 8 8 8zm-.886-4.165c-.267 0-.487-.11-.69-.384l-1.97-2.416a.852.852 0 01-.187-.51c0-.352.274-.643.627-.643.228 0 .4.07.596.33l1.592 2.055 3.35-5.38c.148-.236.352-.362.556-.362.345 0 .667.236.667.604 0 .173-.102.353-.196.518l-3.686 5.804c-.165.259-.393.384-.66.384z"})})},225334:(t,n,e)=>{e.d(n,{M:()=>s});e(296540);var i=()=>e(401497),o=()=>e(742117),r=()=>e(162402),a=()=>e(381349),l=()=>e(331542),c=e(474848);function s(t){const{isConnecting:n,isIntegrationAuthenticated:e,hideChevronIcon:s}=t,d=(0,i().IS)((t=>({circleCheck:{height:14,width:14,color:a().Ay.blue,fill:a().Ay.blue},chevron:{height:12,width:12},loadingSpinner:{marginLeft:6}})),[]);return n?(0,c.jsx)(l().A,{legacySize:14,style:d.loadingSpinner}):(0,c.jsxs)(c.Fragment,{children:[e&&(0,r().q)(d.circleCheck),!s&&(0,o().V)(d.chevron)]})}},742117:(t,n,e)=>{e.d(n,{V:()=>o});e(296540);var i=e(474848);const o=(0,e(340498).wt)("chevronRight",{viewBox:"0 0 16 16",directional:!0,svg:(0,i.jsx)("path",{d:"M12.375 8.06445C12.375 7.83203 12.2861 7.63379 12.1084 7.45605L6.77637 2.24023C6.62598 2.08984 6.44141 2.01465 6.22266 2.01465C5.77832 2.01465 5.42285 2.35645 5.42285 2.80078C5.42285 3.01953 5.51172 3.21777 5.66211 3.375L10.4746 8.06445L5.66211 12.7539C5.51855 12.9043 5.42285 13.1025 5.42285 13.3213C5.42285 13.7725 5.77832 14.1143 6.22266 14.1143C6.44141 14.1143 6.62598 14.0391 6.77637 13.8887L12.1084 8.67285C12.293 8.49512 12.375 8.29688 12.375 8.06445Z"})})}}]);