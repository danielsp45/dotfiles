(()=>{var e,t,r={19462:(e,t,r)=>{"use strict";var n=r(969565),a=r(202360),i=r(266699),o=r(356279),s=r(978227),c=r(591181),l=r(655966),u=r(257657).IteratorPrototype,d=r(862529),f=r(409539),h=s("toStringTag"),g="IteratorHelper",p="WrapForValidIterator",v=c.set,w=function(e){var t=c.getterFor(e?p:g);return o(a(u),{next:function(){var r=t(this);if(e)return r.nextHandler();try{var n=r.done?void 0:r.nextHandler();return d(n,r.done)}catch(a){throw r.done=!0,a}},return:function(){var r=t(this),a=r.iterator;if(r.done=!0,e){var i=l(a,"return");return i?n(i,a):d(void 0,!0)}if(r.inner)try{f(r.inner.iterator,"normal")}catch(o){return f(a,"throw",o)}return f(a,"normal"),d(void 0,!0)}})},y=w(!0),m=w(!1);i(m,h,"Iterator Helper"),e.exports=function(e,t){var r=function(r,n){n?(n.iterator=r.iterator,n.next=r.next):n=r,n.type=t?p:g,n.nextHandler=e,n.counter=0,n.done=!1,v(this,n)};return r.prototype=t?y:m,r}},20397:(e,t,r)=>{"use strict";var n=r(497751);e.exports=n("document","documentElement")},142787:(e,t,r)=>{"use strict";var n=r(39297),a=r(194901),i=r(748981),o=r(766119),s=r(612211),c=o("IE_PROTO"),l=Object,u=l.prototype;e.exports=s?l.getPrototypeOf:function(e){var t=i(e);if(n(t,c))return t[c];var r=t.constructor;return a(r)&&t instanceof r?r.prototype:t instanceof l?u:null}},190679:(e,t,r)=>{"use strict";var n=r(401625),a=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw new a("Incorrect invocation")}},202360:(e,t,r)=>{"use strict";var n,a=r(28551),i=r(696801),o=r(188727),s=r(130421),c=r(20397),l=r(404055),u=r(766119),d="prototype",f="script",h=u("IE_PROTO"),g=function(){},p=function(e){return"<"+f+">"+e+"</"+f+">"},v=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},w=function(){try{n=new ActiveXObject("htmlfile")}catch(i){}var e,t,r;w="undefined"!=typeof document?document.domain&&n?v(n):(t=l("iframe"),r="java"+f+":",t.style.display="none",c.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):v(n);for(var a=o.length;a--;)delete w[d][o[a]];return w()};s[h]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(g[d]=a(e),r=new g,g[d]=null,r[h]=e):r=w(),void 0===t?r:i.f(r,t)}},239572:(e,t,r)=>{var n={"./v1":[169038,35535],"./v1.ts":[169038,35535]};function a(e){if(!r.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],a=t[0];return r.e(t[1]).then((()=>r(a)))}a.keys=()=>Object.keys(n),a.id=239572,e.exports=a},257657:(e,t,r)=>{"use strict";var n,a,i,o=r(779039),s=r(194901),c=r(820034),l=r(202360),u=r(142787),d=r(436840),f=r(978227),h=r(996395),g=f("iterator"),p=!1;[].keys&&("next"in(i=[].keys())?(a=u(u(i)))!==Object.prototype&&(n=a):p=!0),!c(n)||o((function(){var e={};return n[g].call(e)!==e}))?n={}:h&&(n=l(n)),s(n[g])||d(n,g,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:p}},301767:e=>{"use strict";e.exports=function(e){return{iterator:e,next:e.next,done:!1}}},354520:(e,t,r)=>{"use strict";var n=r(746518),a=r(969565),i=r(479306),o=r(28551),s=r(301767),c=r(19462),l=r(796319),u=r(996395),d=c((function(){for(var e,t,r=this.iterator,n=this.predicate,i=this.next;;){if(e=o(a(i,r)),this.done=!!e.done)return;if(t=e.value,l(r,n,[t,this.counter++],!0))return t}}));n({target:"Iterator",proto:!0,real:!0,forced:u},{filter:function(e){return o(this),i(e),new d(s(this),{predicate:e})}})},356279:(e,t,r)=>{"use strict";var n=r(436840);e.exports=function(e,t,r){for(var a in t)n(e,a,t[a],r);return e}},409539:(e,t,r)=>{"use strict";var n=r(969565),a=r(28551),i=r(655966);e.exports=function(e,t,r){var o,s;a(e);try{if(!(o=i(e,"return"))){if("throw"===t)throw r;return r}o=n(o,e)}catch(c){s=!0,o=c}if("throw"===t)throw r;if(s)throw o;return a(o),r}},413611:(e,t,r)=>{"use strict";var n=r(746518),a=r(444576),i=r(562106),o=r(743724),s=TypeError,c=Object.defineProperty,l=a.self!==a;try{if(o){var u=Object.getOwnPropertyDescriptor(a,"self");!l&&u&&u.get&&u.enumerable||i(a,"self",{get:function(){return a},set:function(e){if(this!==a)throw new s("Illegal invocation");c(a,"self",{value:e,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else n({global:!0,simple:!0,forced:l},{self:a})}catch(d){}},497040:(e,t,r)=>{"use strict";var n=r(743724),a=r(824913),i=r(406980);e.exports=function(e,t,r){n?a.f(e,t,i(0,r)):e[t]=r}},562106:(e,t,r)=>{"use strict";var n=r(350283),a=r(824913);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),a.f(e,t,r)}},568392:(e,t,r)=>{"use strict";r(16280),r(944114),r(898992),r(354520),r(413611);const n=Symbol("Comlink.proxy"),a=Symbol("Comlink.endpoint"),i=Symbol("Comlink.releaseProxy"),o=Symbol("Comlink.finalizer"),s=Symbol("Comlink.thrown"),c=e=>"object"==typeof e&&null!==e||"function"==typeof e,l={canHandle:e=>c(e)&&e[n],serialize(e){const{port1:t,port2:r}=new MessageChannel;return d(e,t),[r,[r]]},deserialize:e=>(e.start(),function(e,t){const r=new Map;return e.addEventListener("message",(function(e){const{data:t}=e;if(!t||!t.id)return;const n=r.get(t.id);if(n)try{n(t)}finally{r.delete(t.id)}})),w(e,r,[],t)}(e))},u=new Map([["proxy",l],["throw",{canHandle:e=>c(e)&&s in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function d(e,t=globalThis,r=["*"]){t.addEventListener("message",(function a(i){if(!i||!i.data)return;if(!function(e,t){for(const r of e){if(t===r||"*"===r)return!0;if(r instanceof RegExp&&r.test(t))return!0}return!1}(r,i.origin))return void console.warn(`Invalid origin '${i.origin}' for comlink proxy`);const{id:c,type:l,path:u}=Object.assign({path:[]},i.data),h=(i.data.argumentList||[]).map(H);let g;try{const t=u.slice(0,-1).reduce(((e,t)=>e[t]),e),r=u.reduce(((e,t)=>e[t]),e);switch(l){case"GET":g=r;break;case"SET":t[u.slice(-1)[0]]=H(i.data.value),g=!0;break;case"APPLY":g=r.apply(t,h);break;case"CONSTRUCT":g=function(e){return Object.assign(e,{[n]:!0})}(new r(...h));break;case"ENDPOINT":{const{port1:t,port2:r}=new MessageChannel;d(e,r),g=b(t,[t])}break;case"RELEASE":g=void 0;break;default:return}}catch(p){g={value:p,[s]:0}}Promise.resolve(g).catch((e=>({value:e,[s]:0}))).then((r=>{const[n,i]=O(r);t.postMessage(Object.assign(Object.assign({},n),{id:c}),i),"RELEASE"===l&&(t.removeEventListener("message",a),f(t),o in e&&"function"==typeof e[o]&&e[o]())})).catch((e=>{const[r,n]=O({value:new TypeError("Unserializable return value"),[s]:0});t.postMessage(Object.assign(Object.assign({},r),{id:c}),n)}))})),t.start&&t.start()}function f(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function h(e){if(e)throw new Error("Proxy has been released and is not useable")}function g(e){return S(e,new Map,{type:"RELEASE"}).then((()=>{f(e)}))}const p=new WeakMap,v="FinalizationRegistry"in globalThis&&new FinalizationRegistry((e=>{const t=(p.get(e)||0)-1;p.set(e,t),0===t&&g(e)}));function w(e,t,r=[],n=function(){}){let o=!1;const s=new Proxy(n,{get(n,a){if(h(o),a===i)return()=>{!function(e){v&&v.unregister(e)}(s),g(e),t.clear(),o=!0};if("then"===a){if(0===r.length)return{then:()=>s};const n=S(e,t,{type:"GET",path:r.map((e=>e.toString()))}).then(H);return n.then.bind(n)}return w(e,t,[...r,a])},set(n,a,i){h(o);const[s,c]=O(i);return S(e,t,{type:"SET",path:[...r,a].map((e=>e.toString())),value:s},c).then(H)},apply(n,i,s){h(o);const c=r[r.length-1];if(c===a)return S(e,t,{type:"ENDPOINT"}).then(H);if("bind"===c)return w(e,t,r.slice(0,-1));const[l,u]=y(s);return S(e,t,{type:"APPLY",path:r.map((e=>e.toString())),argumentList:l},u).then(H)},construct(n,a){h(o);const[i,s]=y(a);return S(e,t,{type:"CONSTRUCT",path:r.map((e=>e.toString())),argumentList:i},s).then(H)}});return function(e,t){const r=(p.get(t)||0)+1;p.set(t,r),v&&v.register(e,t,e)}(s,e),s}function y(e){const t=e.map(O);return[t.map((e=>e[0])),(r=t.map((e=>e[1])),Array.prototype.concat.apply([],r))];var r}const m=new WeakMap;function b(e,t){return m.set(e,t),e}function O(e){for(const[t,r]of u)if(r.canHandle(e)){const[n,a]=r.serialize(e);return[{type:"HANDLER",name:t,value:n},a]}return[{type:"RAW",value:e},m.get(e)||[]]}function H(e){switch(e.type){case"HANDLER":return u.get(e.name).deserialize(e.value);case"RAW":return e.value}}function S(e,t,r,n){return new Promise((a=>{const i=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");t.set(i,a),e.start&&e.start(),e.postMessage(Object.assign({id:i},r),n)}))}const x="notion-opfs-page-cache";function E(e){performance.mark(`OPFS:PageCacheWorker:${e}`)}function k(e,t,r){return performance.measure(`OPFS:PageCacheWorker:${e}`,`OPFS:PageCacheWorker:${t}`,`OPFS:PageCacheWorker:${r}`)}const j=new class{constructor(e){this.version=1,this.dirName=void 0,this.rootDirPromise=void 0,this.cacheDirHandlePromise=void 0,this.fileHandleCache=new Map,this.maxFileHandleCache=1e4,this.lastAccessedSequence=0,this.abortStatusMap={},this.dirName=x,this.maxFileHandleCache=(null==e?void 0:e.maxFileHandleCache)??this.maxFileHandleCache,this.getCacheDirHandle().catch((e=>{})),this.migrateAll().catch((e=>{})).then((()=>this.cacheFileHandles())).catch((e=>{}))}abort(e,t){this.abortStatusMap[e]&&(this.abortStatusMap[e]={aborted:!0,reason:t})}async readBuffer(e,t){E("readBuffer.start"),t&&(this.abortStatusMap[t]={aborted:!1,reason:void 0});try{const r=await this.abortGuard((()=>this.getFileHandle(e)),t);E("readBuffer.got-handle");const n=await r.getFile();E("readBuffer.got-file");const a=await this.abortGuard((()=>n.arrayBuffer()),t);E("readBuffer.got-buffer");const i=k("readBuffer.get-handle","readBuffer.start","readBuffer.got-handle"),o=k("readBuffer.get-file","readBuffer.got-handle","readBuffer.got-file"),s=k("readBuffer.get-buffer","readBuffer.got-file","readBuffer.got-buffer"),c=k("readBuffer","readBuffer.start","readBuffer.got-buffer");return{buffer:b(a,[a]),metrics:{total:c.duration,getHandle:i.duration,getFile:o.duration,getBuffer:s.duration}}}finally{t&&delete this.abortStatusMap[t]}}async readJSON(e,t){E("readJSON.start"),t&&(this.abortStatusMap[t]={aborted:!1,reason:void 0});try{const r=await this.abortGuard((()=>this.getFileHandle(e)),t);E("readJSON.got-handle");const n=await r.getFile();E("readJSON.got-file");const a=await this.abortGuard((()=>n.text()),t),i=a?a.split(/\n/).filter(Boolean):[];E("readJSON.got-text");const o=JSON.parse(i[0]),s=[];for(let e=1;e<i.length;e++){const t=i[e],r=JSON.parse(t);s.push(r)}E("readJSON.got-json");const c=k("readJSON.get-handle","readJSON.start","readJSON.got-handle"),l=k("readJSON.get-file","readJSON.got-handle","readJSON.got-file"),u=k("readJSON.get-text","readJSON.got-file","readJSON.got-text"),d=k("readJSON.parse-json","readJSON.got-text","readJSON.got-json");return{metadata:o,chunks:s,metrics:{total:k("readJSON","readJSON.start","readJSON.got-json").duration,getHandle:c.duration,getFile:l.duration,getText:u.duration,parseJSON:d.duration}}}finally{t&&delete this.abortStatusMap[t]}}async write(e,t){let r;try{E("write.start");const n=await this.getFileHandle(e,{create:!0});E("write.got-handle");const a=new TextEncoder,i={version:this.version,totalChunks:t.length},o=a.encode(`${JSON.stringify(i)}\n${t.join("\n")}`);E("write.encoded-json"),r=await n.createWritable(),await r.write(o),E("write.wrote-json");const s=k("write.get-handle","write.start","write.got-handle"),c=k("write.encode-json","write.got-handle","write.encoded-json"),l=k("write.write-json","write.encoded-json","write.wrote-json");return{metrics:{total:k("write","write.start","write.wrote-json").duration,getHandle:s.duration,encodeJSON:c.duration,writeJSON:l.duration}}}finally{r&&await r.close()}}async checkIfExists(e){E("checkIfExists.start");try{await this.getFileHandle(e),E("checkIfExists.success");k("checkIfExists","checkIfExists.start","checkIfExists.success");return!0}catch{E("checkIfExists.failure");k("checkIfExists","checkIfExists.start","checkIfExists.failure");return!1}}async delete(e){const t=await this.getCacheDirHandle();await t.removeEntry(e),this.fileHandleCache.delete(e)}async deleteAll(){const e=await this.getCacheDirHandle();for await(const t of e.values())await e.removeEntry(t.name);this.fileHandleCache.clear()}async migrateAll(){const e=await this.getRootDirHandle();let t=this.version;for await(const n of e.values()){if("file"===n.kind){t=0;break}{const e=parseInt(n.name.slice(1));e<t&&(t=e)}}if(t!==this.version)for(let n=t;n<this.version;n++)try{await this.migrate(n)}catch(r){}finally{if(0===n)continue;await e.removeEntry(`v${n}`).catch((e=>{}))}}async abortGuard(e,t){if(t&&this.abortStatusMap[t]&&this.abortStatusMap[t].aborted)throw new Error(this.abortStatusMap[t].reason);return await e()}async getVersionDirHandle(e,t){const r=await this.getRootDirHandle();return 0===e?r:r.getDirectoryHandle(`v${e}`,t)}async getCacheDirHandle(){return this.cacheDirHandlePromise||(this.cacheDirHandlePromise=this.getRootDirHandle().then((e=>e.getDirectoryHandle(`v${this.version}`,{create:!0})))),this.cacheDirHandlePromise}async getRootDirHandle(){return this.rootDirPromise||(this.rootDirPromise=navigator.storage.getDirectory().then((e=>e.getDirectoryHandle(this.dirName,{create:!0})))),this.rootDirPromise}async cacheFileHandles(){E("cacheFileHandles.start");const e=await this.getCacheDirHandle();for await(const[t,r]of e.entries())"file"===r.kind&&this.cacheFileHandle(t,r);E("cacheFileHandles.end");k("cacheFileHandles","cacheFileHandles.start","cacheFileHandles.end")}cacheFileHandle(e,t){if(this.fileHandleCache.set(e,{handle:t,lastAccessed:++this.lastAccessedSequence}),this.fileHandleCache.size>this.maxFileHandleCache){let t=e,r=this.lastAccessedSequence;for(const[e,n]of this.fileHandleCache.entries())n.lastAccessed<r&&(r=n.lastAccessed,t=e);this.fileHandleCache.delete(t)}}async getFileHandle(e,t){E("getFileHandle.start");const r=this.fileHandleCache.get(e);if(r)return r.lastAccessed=++this.lastAccessedSequence,r.handle;const n=await this.getCacheDirHandle(),a=await n.getFileHandle(e,t);this.cacheFileHandle(e,a),E("getFileHandle.end");k("getFileHandle","getFileHandle.start","getFileHandle.end");return a}async migrate(e){if(e>=this.version)throw new Error(`Cannot migrate to a version greater than the current worker version: ${e} >= ${this.version}`);const t=await this.getRootDirHandle();let n;n=0===e?t:await this.getVersionDirHandle(e);const a=e+1,i=await this.getVersionDirHandle(a,{create:!0}),{up:o}=await r(239572)(`./v${a}`);await o({version:e,nextVersion:a,latestVersion:this.version,versionDirHandle:n,nextVersionDirHandle:i,rootHandle:t,worker:this})}};function F(e){e.data.name}"onconnect"in self?self.addEventListener("connect",(e=>{const t=e.ports[0];t.addEventListener("message",F),t.start(),d(j,t)})):(self.addEventListener("message",F),d(j))},612211:(e,t,r)=>{"use strict";var n=r(779039);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},696801:(e,t,r)=>{"use strict";var n=r(743724),a=r(48686),i=r(824913),o=r(28551),s=r(225397),c=r(971072);t.f=n&&!a?Object.defineProperties:function(e,t){o(e);for(var r,n=s(t),a=c(t),l=a.length,u=0;l>u;)i.f(e,r=a[u++],n[r]);return e}},796319:(e,t,r)=>{"use strict";var n=r(28551),a=r(409539);e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(o){a(e,"throw",o)}}},862529:e=>{"use strict";e.exports=function(e,t){return{value:e,done:t}}},898992:(e,t,r)=>{"use strict";var n=r(746518),a=r(444576),i=r(190679),o=r(28551),s=r(194901),c=r(142787),l=r(562106),u=r(497040),d=r(779039),f=r(39297),h=r(978227),g=r(257657).IteratorPrototype,p=r(743724),v=r(996395),w="constructor",y="Iterator",m=h("toStringTag"),b=TypeError,O=a[y],H=v||!s(O)||O.prototype!==g||!d((function(){O({})})),S=function(){if(i(this,g),c(this)===g)throw new b("Abstract class Iterator not directly constructable")},x=function(e,t){p?l(g,e,{configurable:!0,get:function(){return t},set:function(t){if(o(this),this===g)throw new b("You can't redefine this property");f(this,e)?this[e]=t:u(this,e,t)}}):g[e]=t};f(g,m)||x(m,y),!H&&f(g,w)&&g[w]!==Object||x(w,S),S.prototype=g,n({global:!0,constructor:!0,forced:H},{Iterator:S})},971072:(e,t,r)=>{"use strict";var n=r(961828),a=r(188727);e.exports=Object.keys||function(e){return n(e,a)}}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}};return r[e].call(i.exports,i,i.exports,a),i.exports}a.m=r,a.x=()=>{var e=a.O(void 0,[6187],(()=>a(568392)));return e=a.O(e)},e=[],a.O=(t,r,n,i)=>{if(!r){var o=1/0;for(u=0;u<e.length;u++){for(var[r,n,i]=e[u],s=!0,c=0;c<r.length;c++)(!1&i||o>=i)&&Object.keys(a.O).every((e=>a.O[e](r[c])))?r.splice(c--,1):(s=!1,i<o&&(o=i));if(s){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,n,i]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,r)=>(a.f[r](e,t),t)),[])),a.u=e=>6187===e?"6187-5c30b4d4633a7dce.js":"opfs-page-cache-migration-v1-7eb39311d8738732.js",a.miniCssF=e=>{},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.p="/_assets/",(()=>{var e={39047:1};a.f.i=(t,r)=>{e[t]||importScripts(a.p+a.u(t))};var t=globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[],r=t.push.bind(t);t.push=t=>{var[n,i,o]=t;for(var s in i)a.o(i,s)&&(a.m[s]=i[s]);for(o&&o(a);n.length;)e[n.pop()]=1;r(t)}})(),t=a.x,a.x=()=>a.e(6187).then(t);a.x()})();