"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[56952],{856952:(e,t,o)=>{o.d(t,{Ay:()=>f,le:()=>m,sA:()=>h});var n=o(296540),i=()=>o(484714),l=()=>o(56366),r=()=>o(401497),u=()=>o(496603),s=()=>o(780054),a=()=>o(722872),p=()=>o(623580),d=()=>o(545805),c=o(474848);const h="20px";let m=function(e){return e[e.Select=0]="Select",e[e.Person=1]="Person",e[e.Relation=2]="Relation",e[e.FilterValue=3]="FilterValue",e[e.Share=4]="Share",e[e.Group=5]="Group",e[e.Place=6]="Place",e}({});const f=n.forwardRef((function(e,t){const{disabled:n,value:i,message:l,right:r,showClearButton:s,format:a,focus:p,dontShowBorderBottom:h,showBorder:m,style:f,onClick:S,inputAndTokenWrapRightStyle:y,tokens:g,hideInput:x,onRemoveLastToken:k,onKeyDown:v,onChange:b,focusInitial:w,focusAfterAnimation:C,preventScrollOnFocus:B,inputFullWidth:A,inputDivStyle:F,inputStyle:R,rightWrapStyle:W,tokenWrapStyle:I,type:T,placeholder:E,onEmptySubmit:_,onSubmit:j,textarea:M,autoComplete:O,onClearButtonClick:P,inputElementAttributes:K,suppressFocusRing:L,onFocus:G,onBlur:z}=e;return(0,c.jsx)(d().A,{debugName:"TokenInputMenuItem",capture:!n,onLeft:u().D_,onRight:u().D_,onSelectAll:u().D_,onRedo:u().D_,onUndo:u().D_,onToggleBold:u().D_,onToggleItalics:u().D_,onToggleCode:u().D_,onCut:u().D_,onCopy:u().D_,onPaste:u().D_,onKeypress:u().D_,children:(0,c.jsx)(d().A,{debugName:"TokenInputMenuItem",capture:!n&&i.length>0,onDelete:u().D_,onBackspace:u().D_,children:(0,c.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"stretch",flex:1,minWidth:0,gap:l?4:void 0},children:[(0,c.jsx)(D,{ref:t,right:r,showClearButton:s,format:a,focus:p,dontShowBorderBottom:h,disabled:n,showBorder:m,style:f,rightWrapStyle:W,onClick:S,inputAndTokenWrapRightStyle:y,tokens:g,hideInput:x,value:i,onRemoveLastToken:k,onKeyDown:v,onChange:b,focusInitial:w,focusAfterAnimation:C,preventScrollOnFocus:B,inputFullWidth:A,inputDivStyle:F,inputStyle:R,type:T,placeholder:E,onEmptySubmit:_,onSubmit:j,textarea:M,autoComplete:O,onClearButtonClick:P,inputElementAttributes:K,suppressFocusRing:L,onFocus:G,onBlur:z,tokenWrapStyle:I}),l&&(0,c.jsx)(o(125565).A,{isSmall:!0,children:l})]})})})}));function S(e){return e===m.Group}function y(e,t){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",background:t?"none":e.tokenInputMenuItemBackground,cursor:"text",overflow:"hidden",fontSize:14,minHeight:28,padding:4,borderRadius:6}}function g(e,t){return{display:"flex",flexWrap:"wrap",alignItems:"flex-start",flexShrink:0,minHeight:44,borderBottom:`1px solid ${e.regularDividerColor}`,fontSize:t&&s().A.isMobile?17:16,background:e.popoverBackground}}const x={borderRadius:4};function k(e){return{[m.Select]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:x,inputDivDesktopFocusStyle:{}},[m.Person]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:x,inputDivDesktopFocusStyle:{}},[m.Relation]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:x,inputDivDesktopFocusStyle:{}},[m.Group]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:x,inputDivDesktopFocusStyle:{}},[m.FilterValue]:{desktopWrapStyleOverride:{padding:"4px 6px",boxShadow:e.inputBoxShadow,background:e.inputBackground},inputDivDesktopStyle:x,inputDivDesktopFocusStyle:{}},[m.Place]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:x,inputDivDesktopFocusStyle:{}},[m.Share]:{desktopWrapStyleOverride:{},inputDivDesktopStyle:{margin:"0 0 0 2px",borderTopLeftRadius:4,borderTopRightRadius:4},inputDivDesktopFocusStyle:{}}}}function v(e){let{environment:t,theme:n,format:i,focus:r,dontShowBorderBottom:u,disabled:s,showBorder:p,menuContext:d,showFocusRing:c}=e;const h=(0,o(963589).X)("db_ux_chrome");return(0,l().K8)((()=>{const{WindowSizeStore:e}=t,o=k(n)[i];return t.device.isMobile?{...g(n,h),paddingTop:14,paddingBottom:14,paddingLeft:(null==d?void 0:d.menuType)!==a().gu.Popup?e.getSafePaddingLeftCSS(16):16,paddingRight:(null==d?void 0:d.menuType)!==a().gu.Popup?e.getSafePaddingRightCSS(16):16,...u&&{borderBottom:"none"}}:{...y(n,s),...o.desktopWrapStyleOverride,...p&&{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset"},...p&&r&&{boxShadow:"rgba(35, 131, 226, 0.57) 0px 0px 0px 1px inset, rgba(35, 131, 226, 0.35) 0px 0px 0px 2px"},...r&&o.inputDivDesktopFocusStyle,...c&&{boxShadow:n.buttonBlueFocusRing}}}),[s,u,t,r,i,null==d?void 0:d.menuType,p,n,c,h])}const b=n.forwardRef((function(e,t){let{tokens:o,disabled:l,value:u,onRemoveLastToken:s,onKeyDown:a,onChange:d,focus:h,focusInitial:m,focusAfterAnimation:f,preventScrollOnFocus:S,format:y,inputFullWidth:g,inputDivStyle:x,inputStyle:k,type:v,placeholder:b,onEmptySubmit:D,onSubmit:w,textarea:B,autoComplete:A,inputMenuItemStore:F,onFocus:R,onBlur:W,inputElementAttributes:I,suppressFocusRing:T}=e;const E=(0,r().DP)(),_=(0,i().v3)(),j=(0,n.useCallback)((e=>{"Backspace"===e.key&&0===u.length&&s(),a&&a(e)}),[u,s,a]),M=(0,n.useCallback)((e=>{0===u.length&&D&&D(),w&&w(e)}),[u,D,w]),O=(0,n.useCallback)((()=>{F.setState({focused:!1}),null==W||W()}),[F,W]),P=(0,n.useCallback)((()=>{F.setState({focused:!0}),null==R||R()}),[F,R]),K=0===o.length;return(0,c.jsx)(p().A,{disabled:l,format:p().C.Transparent,onKeyDown:j,onChange:d,value:u,focus:h,focusInitial:m,focusAfterAnimation:f,preventScrollOnFocus:S,style:C(y,_,E,g,x),inputStyle:k||{height:_.device.isMobile?24:20},size:1,ref:t,type:v,placeholder:K?b:"",onSubmit:M,onFocus:P,onBlur:O,textarea:B,autoComplete:A,inputElementAttributes:I,suppressFocusRing:T})})),D=n.forwardRef((function(e,t){const{right:u,showClearButton:s,format:p,focus:d,dontShowBorderBottom:h,disabled:m,showBorder:f,style:y,onClick:g,inputAndTokenWrapRightStyle:x,tokenWrapStyle:k,tokens:D,hideInput:C,value:B,onRemoveLastToken:A,onKeyDown:F,onChange:R,focusInitial:W,focusAfterAnimation:I,preventScrollOnFocus:T,inputFullWidth:E,inputDivStyle:_,inputStyle:j,rightWrapStyle:M,type:O,placeholder:P,onEmptySubmit:K,onSubmit:L,textarea:G,autoComplete:z,onClearButtonClick:H,onFocus:V,onBlur:N,inputElementAttributes:J,suppressFocusRing:U}=e,X=(0,r().DP)(),$=(0,i().v3)(),q=(0,n.useContext)(a().xu),[Q,Y]=n.useState(!1),Z=(0,l().uB)(void 0,o(995444).A);(0,o(852507).l)((()=>{(d||W)&&Z.setState({focused:!0})})),(0,n.useEffect)((()=>{T&&Y(!0),void 0!==d&&Z.setState({focused:d})}),[d,Z,T]);const ee=(0,l().K8)((()=>Z.state.focused),[Z]),te=(0,n.useRef)(null),[oe,ne]=(0,o(819121).A)(),ie=(0,o(93583).A)(t,te,oe),le=(0,n.useCallback)((()=>{var e;m||(null===(e=te.current)||void 0===e||e.focus(),null==g||g())}),[m,g,te]),re="combobox"===(null==J?void 0:J.role)&&ne&&!U,ue=v({environment:$,theme:X,format:p,focus:d,dontShowBorderBottom:h,disabled:m,showBorder:f,menuContext:q,showFocusRing:re}),{inputElementAttributes:se,wrapperElementAttributes:ae}=(0,n.useMemo)((()=>{if("combobox"===(null==J?void 0:J.role)){const{role:e,"aria-expanded":t,"aria-haspopup":o,"aria-controls":n,"aria-orientation":i,...l}=J;return{inputElementAttributes:l,wrapperElementAttributes:{role:e,"aria-expanded":t,"aria-haspopup":o,"aria-controls":n,"aria-orientation":i}}}return{inputElementAttributes:J,wrapperElementAttributes:{}}}),[J]);return!$.device.isMobile||u||s?(0,c.jsxs)(o(2143).H,{type:o(756279).A.All,style:{...ue,flexWrap:"nowrap",...y},onClick:le,...ae,children:[(0,c.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,...k,...u||s?x:null},children:[D,!C&&(0,c.jsx)(b,{ref:ie,tokens:D,disabled:m,value:B,onRemoveLastToken:A,onKeyDown:F,onChange:R,focus:d,focusInitial:W,focusAfterAnimation:I,preventScrollOnFocus:Q,format:p,inputFullWidth:E,inputDivStyle:_,inputStyle:j,type:O,placeholder:P,onEmptySubmit:K,onSubmit:L,textarea:G,autoComplete:z,inputMenuItemStore:Z,onFocus:V,onBlur:N,inputElementAttributes:se,suppressFocusRing:U})]}),u||s?(0,c.jsx)("div",{style:{flexShrink:0,...M},children:(0,c.jsx)(w,{showClearButton:s,right:u,onClearButtonClick:H,tokens:D,value:B})}):null]}):(0,c.jsxs)("div",{style:{...ue,flexWrap:"nowrap",...y},onClick:le,tabIndex:-1,role:"none",...ae,children:[(0,c.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",flexGrow:1,minWidth:0,gap:6,overflow:"hidden",marginRight:S(p)?6:0},children:[D,!C&&(0,c.jsx)(b,{ref:ie,tokens:D,disabled:m,value:B,onRemoveLastToken:A,onKeyDown:F,onChange:R,focus:d,focusInitial:W,focusAfterAnimation:I,format:p,inputFullWidth:E,inputDivStyle:_,inputStyle:j,type:O,placeholder:P,onEmptySubmit:K,onSubmit:L,textarea:G,autoComplete:z,inputMenuItemStore:Z,onFocus:V,onBlur:N,inputElementAttributes:se,suppressFocusRing:U})]}),(0,c.jsx)(o(594739).A,{show:ee})]})}));function w(e){let{showClearButton:t,right:n,onClearButtonClick:l,tokens:u,value:s}=e;const a=(0,o(959013).tz)(),p=(0,r().DP)(),d=(0,i().v3)(),{isMobile:h}=d.device;return n?(0,c.jsx)(c.Fragment,{children:n}):t&&(u.length>0||s.length>0)?(0,c.jsx)(o(704152).A,{"aria-label":a.formatMessage({id:"tokenInputMenuItem.clearButton",defaultMessage:"Clear"}),onClick:l,style:{flexShrink:0,flexGrow:0,borderRadius:h?24:20,marginTop:2},children:(0,o(931121).J)({width:h?16:14,height:h?16:14,fill:p.icon.tertiary})}):null}function C(e,t,o,n,i){return{flexGrow:1,flexShrink:1,flexBasis:n?"100%":60,minWidth:60,width:"auto",lineHeight:h,...t.device.isMobile?{margin:"0 8px 0 0"}:k(o)[e].inputDivDesktopStyle,...i}}}}]);