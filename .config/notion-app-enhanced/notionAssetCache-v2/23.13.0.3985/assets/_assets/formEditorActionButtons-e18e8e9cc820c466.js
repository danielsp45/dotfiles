"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[2411,5834,25700,34208,67608,69095],{346:(e,t,n)=>{n.d(t,{MG:()=>m,T1:()=>g,a1:()=>y,dt:()=>h,kg:()=>f,lC:()=>S,n_:()=>v});var i=n(296540),o=()=>n(484714),r=()=>n(56366),a=()=>n(187174),s=()=>n(645873),l=()=>n(941463),d=()=>n(441199),c=()=>n(749687),u=()=>n(737230),p=()=>n(756114);const g=new(s().O2)("PerformanceToolbar",(()=>Promise.all([n.e(16471),n.e(92845),n.e(84468),n.e(48632),n.e(75078),n.e(95168),n.e(36908),n.e(21194),n.e(23930),n.e(61347),n.e(45624)]).then(n.bind(n,462407)))),m=(0,s()._h)(g,(e=>e.PerformanceToolbar)),h=(0,s()._h)(g,(e=>e.PerformanceToolbarSettings));function f(){const e=(0,o().v3)();return(0,r().K8)((()=>(0,p().D)(e,e.RouterStore.state)),[e])}function v(){const e=(0,o().v3)(),t=b("PerformanceToolbarStore"),n=b("isPerformanceToolbarVisible");return(0,r().K8)((()=>!(!t||!n)&&n(e,e.RouterStore.state,t.state)),[n,e,t])}function S(){const e=b("PerformanceToolbarStore");return(0,r().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function y(){const e=(0,o().v3)(),t=b("createPerformanceToolbarMouseListeners"),n=b("PerformanceToolbarStore"),{sidebarExpanded:a,sidebarWidth:s,secondarySidebarExpanded:p,secondarySidebarWidth:g,updateSidebarExpanded:m,updateSidebarWidth:h}=(0,r().K8)((()=>({sidebarExpanded:c().sidebarExpandedStore.state,sidebarWidth:c().sidebarWidthStore.state,secondarySidebarExpanded:d().default.isOpen(),secondarySidebarWidth:l().Ay.getWidth(),updateSidebarExpanded:u().Ay.state.expanded,updateSidebarWidth:u().Ay.state.width})),[]);return(0,i.useEffect)((()=>{if(n&&t)return t(e,(e=>n.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),a,s,p,g,m,h)}),[t,e,n,a,s,p,g,m,h])}function b(e){const t=f(),[{value:n}]=(0,a().Yb)((()=>t?g.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return n}},22039:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});n(296540);var i=()=>n(56366),o=()=>n(959013),r=n(474848);const a=function(e){const{showCompactDesktopHeader:t,collectionContextStore:a}=e,s=(0,n(484714).v3)(),l=(0,i().K8)((()=>a.collectionViewStore()),[a]),d=(0,i().K8)((()=>{const e=a.collectionViewStore();return null==e?void 0:e.getFormat().form_block_pointer}),[a]),c=(0,i().K8)((()=>{if(l&&d)return n(630116).Bv.createChildStore(l,d)}),[d,l]),u=(0,i().K8)((()=>!!c&&c.getIsFormPublic()),[c]),p=(0,n(401497).IS)((e=>({container:{display:"flex",flexDirection:"row",alignItems:"center"},openFormButton:{marginLeft:6,height:28,paddingLeft:10},previewIcon:{width:14,height:14}})),[]),g=!(0,i().O$)(n(227440).e);if(!l||!c)return null;const m=t||g;return(0,r.jsxs)("div",{style:p.container,children:[(0,r.jsx)(n(859428).A,{disableTooltip:!m,renderTooltip:()=>g?(0,r.jsx)(o().sA,{defaultMessage:"Unavailable while offline",id:"collectionViewBlock.formEditorView.previewForm.offline"}):(0,r.jsx)(o().sA,{defaultMessage:"Preview",id:"collectionViewBlock.formEditorView.previewForm"}),render:e=>(0,r.jsxs)(n(864943).A,{...e,size:"lg",style:p.openFormButton,onClick:()=>{(0,n(2220).u)({environment:s,event:{eventName:"preview_form",eventProperties:{form_id:c.id,is_form_public:u}}});const e=(0,n(465741).px)(c,!0);u?n(755636).f({url:e,environment:s}):n(435009).oo({environment:s,url:e})},disabled:g,children:[(0,n(851979).h)(p.previewIcon),t?null:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n(132389).A,{size:6}),(0,r.jsx)(o().sA,{defaultMessage:"Preview",id:"collectionViewBlock.formEditorView.previewForm"})]})]})}),(0,r.jsx)(n(830422).FormShareButton,{formBlockStore:c,showCompactDesktopHeader:t})]})}},29037:(e,t,n)=>{n.r(t),n.d(t,{checkmarkIcon:()=>o,iconDefinition:()=>i});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"3.92 3.91 12.17 12.18",svg:(0,n(474848).jsx)("path",{d:"M15.784 4.002a.625.625 0 0 1 .214.857L9.445 15.784a.625.625 0 0 1-1.01.085l-4.37-5.098a.625.625 0 0 1 .948-.814l3.806 4.44 6.109-10.181a.625.625 0 0 1 .857-.214"})},o=(0,n(340498).wt)("checkmark",i)},59442:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>i,paperPlaneFillIcon:()=>o});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"2.07 2.9 15.08 15.08",svg:(0,n(474848).jsx)("path",{d:"m16.37 2.901-.053.019L2.474 8.277A.625.625 0 0 0 2.4 9.408l4.826 2.638zm-8.366 9.922 2.638 4.827a.625.625 0 0 0 1.13-.074L17.13 3.733l.019-.054z"})},o=(0,n(340498).wt)("paperPlaneFill",i)},63467:(e,t,n)=>{n.d(t,{y:()=>c});var i=()=>n(637997),o=()=>n(267419);const r={ko:()=>n.e(2268).then(n.bind(n,224434)),es:()=>n.e(95264).then(n.bind(n,196425)),de:()=>n.e(35390).then(n.bind(n,653703)),fr:()=>n.e(3272).then(n.bind(n,94677)),pt:()=>n.e(27315).then(n.bind(n,766869)),zh:()=>n.e(69945).then(n.bind(n,516814)),ja:()=>n.e(77757).then(n.bind(n,824432)),da:()=>n.e(9423).then(n.bind(n,440761)),fi:()=>n.e(59337).then(n.bind(n,462135)),nb:()=>n.e(2040).then(n.bind(n,937314)),nl:()=>n.e(51106).then(n.bind(n,530897)),sv:()=>n.e(53631).then(n.bind(n,895222)),id:()=>n.e(69945).then(n.bind(n,516814)),th:()=>n.e(69945).then(n.bind(n,516814)),vi:()=>n.e(69945).then(n.bind(n,516814))};let a=!1,s=!1;async function l(e){for(const[n,o]of Object.entries(e.emojiLocaleKeywords)){var t;i().fB[n]={...i().fB[n],keywords:[...o,...(null===(t=i().fB[n])||void 0===t?void 0:t.keywords)||[]]}}await o().A.waitUntilLoaded(),o().A.update((t=>{let{emojiByName:n,...i}=t;return{...i,emojiByName:{...n,...e.emojiByName}}}))}async function d(){if(a)return;const[e]=n(662303).locale.split("-");e in r&&(await l(await r[e]()),a=!0)}const c=(0,n(279900).A)((async()=>{await async function(){s||(await l(await n.e(51872).then(n.bind(n,443716))),s=!0)}(),await d()}))},73223:(e,t,n)=>{n.r(t),n.d(t,{dismissTutorial:()=>c,resetTutorials:()=>u,tutorialAdvanceToStep:()=>p,tutorialAdvanceToStepAfter:()=>g,tutorialGoToNextStep:()=>l,tutorialGoToPrevStep:()=>d});var i=()=>n(541235),o=()=>n(751156),r=()=>n(755199),a=()=>n(739135),s=()=>n(765957);function l(e,t){var n;const{currentUserSettingsStore:i}=s().default.state;if(!i)return;const o=null===(n=i.getSettings())||void 0===n?void 0:n.tutorials;m({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{r().mJ({userSettingsStore:i,transaction:e,data:{tutorials:{...o,[t]:(0,a().i9)(i,t)}}})},userId:i.id})}function d(e,t){var n;const{currentUserSettingsStore:i}=s().default.state;if(!i)return;const o=null===(n=i.getSettings())||void 0===n?void 0:n.tutorials;m({userAction:"TutorialActions.prevStep",environment:e,perform:e=>{r().mJ({userSettingsStore:i,transaction:e,data:{tutorials:{...o,[t]:(0,a().KD)(i,t)}}})},userId:i.id})}function c(e,t){var n;const{currentUserSettingsStore:o}=s().default.state;if(!o)return;const a=null===(n=o.getSettings())||void 0===n?void 0:n.tutorials;(null==a?void 0:a[t])!==i().YD&&m({userAction:"TutorialActions.dismissTutorial",environment:e,perform:e=>{r().mJ({userSettingsStore:o,transaction:e,data:{tutorials:{...a,[t]:i().YD}}})},userId:o.id})}function u(e){const{currentUserSettingsStore:t}=s().default.state;t&&m({userAction:"TutorialActions.resetTutorialsDebug",environment:e,perform:e=>{r().mJ({userSettingsStore:t,transaction:e,data:{tutorials:{}}})},userId:t.id})}function p(e,t,n){var o;const{currentUserSettingsStore:l}=s().default.state;if(!l||(0,a().x$)(l,t))return;const d=(0,a().gt)(l,t);i().c$[t].steps.findIndex((e=>e.id===d))>=i().c$[t].steps.findIndex((e=>e.id===n))||r().mJ({userSettingsStore:l,transaction:e,data:{tutorials:{...null===(o=l.getSettings())||void 0===o?void 0:o.tutorials,[t]:n}}})}function g(e,t,n){if((0,a().ll)(n))return;const i=(0,a().tb)(t,n);i&&p(e,t,i)}function m(e){return o().createAndCommit({...e,canUndo:!1})}},77279:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});class i extends(()=>n(757695))().Store{getInitialState(){return{discussionIdToExpansionStartPointMap:{}}}}const o=new i},105819:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>i,pencilLineIcon:()=>o});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"2.63 4.12 14.99 11.76",svg:(0,n(474848).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},o=(0,n(340498).wt)("pencilLine",i)},112698:(e,t,n)=>{n.d(t,{B:()=>f});n(296540);var i=()=>n(484714),o=()=>n(56366),r=()=>n(401497),a=()=>n(959013),s=()=>n(381349),l=()=>n(534177),d=()=>n(284371),c=()=>n(824160),u=()=>n(859428),p=()=>n(962730),g=()=>n(765957),m=()=>n(991249),h=n(474848);function f(e){let{upsell:t,mobileStyle:n,desktopStyle:s,analyticsName:d,onClick:f,disableTooltip:S}=e;const y=(0,r().DP)(),b=(0,i().v3)(),{device:x}=b,A=(0,o().K8)((()=>{const{currentSpaceStore:e}=g().default.state;return null==e?void 0:e.canAdmin()}),[]);if("none"===t.type)return null;if(x.isMobileNative)return null;const C=(()=>{switch(t.product){case"personal":return(0,h.jsx)(a().sA,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"});case"plus":return(0,h.jsx)(a().sA,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"});case"business":return(0,h.jsx)(a().sA,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"});case"enterprise":return(0,h.jsx)(a().sA,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"});case"ai":return(0,h.jsx)(a().sA,{defaultMessage:"AI ↗",id:"upgradeButton.ai.textWithArrow"});case"sites_custom_hostnames":return(0,h.jsx)(a().sA,{defaultMessage:"Custom Hostnames ↗",id:"upgradeButton.sites_custom_hostnames.textWithArrow"});default:t.product,(0,l().HB)(t.product)}})();return x.isMobile||!A?(0,h.jsx)(c().A,{mobileStyle:n,children:C}):(0,h.jsx)(u().A,{delayThreshold:120,disableTooltip:S,placement:p().W.Bottom,renderTooltip:()=>(0,h.jsx)("div",{style:{maxWidth:500},children:(0,h.jsx)(a().sA,{defaultMessage:"Upgrade to use this feature.",id:"premiumFeatureUpgradeButton.upgrade.tooltip"})}),originGap:6,render:e=>(0,h.jsx)(c().A,{desktopStyle:s,innerStyle:v(t.product,y),onClick:e=>function(e,t,n,i,o){m().K(i,{from:t,upsell:n}),o&&o(e)}(e,d,t,b,f),...e,children:C})})}function v(e,t){switch(e){case"plus":case"business":case"enterprise":return{color:t.blueColor,background:"light"===t.mode?s().Ay.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:d().Wy.medium};default:return{}}}},115562:(e,t,n)=>{n.d(t,{W:()=>l});n(296540);var i=()=>n(819121),o=()=>n(401497),r=()=>n(955825),a=()=>n(677195),s=n(474848);function l(e){const{selectorSize:t="normal",...n}=e,{disabled:l,checked:d}=n,[c,u]=(0,i().A)(),p=function(e){const{checked:t,disabled:n,isFocusVisible:i,selectorSize:r}=e;return(0,o().IS)((e=>({root:{position:"absolute",display:"flex",width:"large"===r?15:11,height:"large"===r?15:11,margin:1.5,justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"large"===r?2:1,transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${n?e.tint.regular:e.blueColor}`,background:n?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${n?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...i&&{boxShadow:e.buttonBlueFocusRing}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"large"===r?18:void 0,height:"large"===r?18:void 0,...n?{pointerEvents:"none"}:{cursor:"pointer"}},icon:{color:e.text.contrastPrimary,width:"large"===r?12:10,height:"large"===r?12:10,ariaHidden:!0}})),[r,t,n,i])}({checked:d,disabled:l,selectorSize:t,isFocusVisible:u});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{ref:c,type:"checkbox",style:p.input,...n}),(0,s.jsx)("span",{...(0,r().AH)(p.root,l?{}:{pseudoActive:p.active}),children:d&&(0,a().R)(p.icon)})]})}},132389:(e,t,n)=>{n.d(t,{A:()=>o});n(296540);var i=n(474848);function o(e){const t={display:"inline-block",minWidth:e.size,minHeight:e.size};return"x"===e.axis?t.minHeight=1:"y"===e.axis&&(t.minWidth=1),(0,i.jsx)("div",{style:t})}},153861:(e,t,n)=>{n.d(t,{T:()=>o,a:()=>r});var i=()=>n(979340);function o(e){let{upsell:t,intl:n}=e;return"product"===t.type?(0,i().u2)({product:t.product,intl:n}):void 0}function r(e){const{upsell:t,spaceStore:n,salesStatus:o,offer:r,requestState:a}=e;return"unrequested"===a?{status:"eligible_to_request"}:"pending"===a?{status:"request_pending"}:null!=n&&n.canAdmin()?"none"===t.type?{status:"not_eligible"}:"sales_assisted"===o?{status:"sales_assisted"}:(0,i().h0)(t.product)&&"sales_eligible"===o?{status:"sales_eligible"}:"preferred"===t.trialability&&"trial"===(null==r?void 0:r.type)&&r.subscriptionTier===t.product?{status:"eligible_for_trial"}:{status:"eligible_for_upgrade"}:{status:"not_eligible"}}},189048:(e,t,n)=>{n.d(t,{u:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("arrowDownThick",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M7.99316 1.52246C7.40527 1.52246 7.00195 1.93262 7.00195 2.54785V10.1357L7.07031 11.6191L5.69629 10.0332L4.1582 8.50195C3.98047 8.31738 3.74805 8.19434 3.44727 8.19434C2.91406 8.19434 2.51074 8.59082 2.51074 9.15137C2.51074 9.41113 2.61328 9.65039 2.81836 9.8623L7.26172 14.3125C7.44629 14.5039 7.72656 14.6133 7.99316 14.6133C8.2666 14.6133 8.54004 14.5039 8.72461 14.3125L13.1748 9.8623C13.3799 9.65039 13.4824 9.41113 13.4824 9.15137C13.4824 8.59082 13.0791 8.19434 12.5459 8.19434C12.252 8.19434 12.0195 8.31738 11.835 8.50195L10.2969 10.0332L8.92285 11.6191L8.98438 10.1357V2.54785C8.98438 1.93262 8.58789 1.52246 7.99316 1.52246Z"})})},201361:(e,t,n)=>{n.d(t,{P:()=>r});n(296540);var i=n(474848);const o={viewBox:"2.72 1.1 15.56 16.51",svg:e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M7.93132 1.82416C6.22047 1.48199 4.62427 2.79056 4.62427 4.5353C4.62427 5.09457 4.79032 5.61505 5.07582 6.05014H4.29912C3.42927 6.05014 2.72412 6.75529 2.72412 7.62514V9.52514C2.72412 10.1359 3.07175 10.6654 3.57994 10.9267H9.37427V6.05643H10.6243V10.9267H16.4183C16.9265 10.6654 17.2741 10.1359 17.2741 9.52514V7.62514C17.2741 6.75529 16.569 6.05014 15.6991 6.05014H14.9228C15.2082 5.61507 15.3743 5.09461 15.3743 4.53538C15.3743 2.78566 13.7613 1.48542 12.0554 1.82661C11.2118 1.99533 10.4924 2.47592 10.0119 3.13467C9.54306 2.48204 8.83618 2.00513 8.00124 1.83815L7.93132 1.82416ZM9.37427 5.03772V6.05013H7.3891C6.55248 6.05013 5.87427 5.37192 5.87427 4.5353C5.87427 3.57937 6.74882 2.86241 7.68618 3.04989L7.7561 3.06387C8.69699 3.25205 9.37427 4.07819 9.37427 5.03772ZM14.1243 4.53538C14.1243 5.36715 13.4539 6.04235 12.624 6.05014H10.6243V5.08677C10.6243 4.10164 11.3289 3.24667 12.3005 3.05234C13.2428 2.86389 14.1243 3.58444 14.1243 4.53538Z",style:{rotate:"animate"===e?"14deg":"0deg",transformOrigin:"75% center",transition:"rotate 0.548s linear(\n    \t\t\t\t0, 0.007, 0.028 1.8%, 0.113 3.9%, 0.613 12.1%, 0.817 16.2%, 0.894,\n   \t\t\t\t\t0.954 20.4%, 1, 1.031 25.1%, 1.043 26.4%, 1.051, 1.055, 1.056 31.2%,\n    \t\t\t\t1.049 34.9%, 1.012 46.3%, 0.999 54.2%, 0.997 61.9%, 1\n  \t\t\t\t)"}}),(0,i.jsx)("path",{d:"M10.6243 12.1768H16.4133V15.7002C16.4133 16.5701 15.7082 17.2752 14.8383 17.2752H10.6243V12.1768Z"}),(0,i.jsx)("path",{d:"M3.58521 12.1768H9.37427V17.2752H5.1602C4.29036 17.2752 3.58521 16.5701 3.58521 15.7002V12.1768Z"})]})},r=(0,n(882827).p)("presentFillAnimated",o)},207207:(e,t,n)=>{n.d(t,{J:()=>o});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"2.62 2.62 15.26 15.26",svg:(0,n(474848).jsx)("path",{d:"M8.875 2.625a6.25 6.25 0 1 0 3.955 11.09l3.983 3.982a.625.625 0 1 0 .884-.884l-3.983-3.982a6.25 6.25 0 0 0-4.84-10.205m-5 6.25a5 5 0 1 1 10 0 5 5 0 0 1-10 0"})},o=(0,n(340498).wt)("magnifyingGlass",i)},208603:(e,t,n)=>{n.d(t,{i9:()=>s,lP:()=>l,sH:()=>a});var i=n(296540),o=()=>n(401497),r=()=>n(625634);function a(e){let{icon:t,style:n,animationState:i}=e;return"static"===t.type?t.iconFn(n,void 0,void 0,"all"):t.iconFn({style:n,animationState:i})}function s(e,t){return(0,o().IS)((n=>({icon:{fill:n.icon[e.iconColor],...t?{width:r().z[t],height:r().z[t]}:{}}})),[t,e]).icon}function l(){const[e,t]=i.useState("initial");return{animationState:e,animationTriggers:{onMouseEnter:()=>t("animate"),onMouseLeave:()=>t("initial")}}}},240865:(e,t,n)=>{n.d(t,{V:()=>r});var i=()=>n(56366),o=()=>n(765957);function r(e){return(0,i().K8)((()=>{var t;return e?e.getMemberCountFromPublicSpaceData()??void 0:(null===(t=o().default.state.currentSpaceStore)||void 0===t?void 0:t.getMemberCountFromPublicSpaceData())??void 0}),[e])}},243581:(e,t,n)=>{n.d(t,{r:()=>o});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"3.48 3.92 13.04 12.85",svg:(0,n(474848).jsx)("path",{d:"M3.483 4.55c0-.345.28-.625.625-.625h3.5a.625.625 0 1 1 0 1.25H5.617L8.86 8.42A6 6 0 0 1 10 10.007a6 6 0 0 1 1.14-1.588l3.243-3.244h-1.99a.625.625 0 1 1 0-1.25h3.5c.344 0 .624.28.624.625v3.5a.625.625 0 0 1-1.25 0V6.06l-3.243 3.244a4.78 4.78 0 0 0-1.399 3.358v4.108h-1.25v-4.108a4.78 4.78 0 0 0-1.398-3.358L4.733 6.059V8.05a.625.625 0 1 1-1.25 0z"})},o=(0,n(340498).wt)("arrowBranch",i)},247123:(e,t,n)=>{n.d(t,{QU:()=>g,f2:()=>p,r6:()=>m});n(581454),n(296540);var i=()=>n(56366),o=()=>n(401497),r=()=>n(959013),a=()=>n(534177),s=()=>n(756279),l=()=>n(765957),d=()=>n(2143),c=()=>n(921194),u=n(474848);function p(e){const{openState:t}=e,{mainEditorCurrentBlockStore:n,currentSpaceStore:r}=(0,i().K8)((()=>{const{mainEditorCurrentBlockStore:e,currentSpaceStore:t}=l().default.state;return{mainEditorCurrentBlockStore:e,currentSpaceStore:t}}),[]),a=(0,o().IS)((e=>({scroller:{display:"flex",flexDirection:"column",maxHeight:290,border:`1px solid ${e.lightDividerColor}`,borderRadius:6,paddingTop:8,paddingLeft:12,paddingRight:12,paddingBottom:12,marginTop:15,marginBottom:5,marginLeft:-12,marginRight:-12},editContainer:{marginTop:2,marginBottom:2,color:e.text.primary}})),[]);if(!n||!r)return null;const p=Date.now();return(0,u.jsx)(d().H,{type:s().A.Y,style:a.scroller,children:t.permissionChanges.map(((e,t)=>{let[i,o]=e;const s={timestamp:p,space_id:r.id,type:"permission-changed",permission_data:{before:i,after:o}};return(0,u.jsx)("div",{style:a.editContainer,children:(0,u.jsx)(c().A,{rootStore:n,edit:s})},`${i.type}-${t}`)}))})}function g(e){return["remove","restrict"].includes(e.type)?(0,u.jsx)(r().sA,{id:"restrictedPermissionConfirmationModal.actionButton.restrictAccessV2",defaultMessage:"Change and unlink"}):(0,u.jsx)(r().sA,{id:"restrictedPermissionConfirmationModal.actionButton.relink",defaultMessage:"Relink"})}function m(e){switch(e.type){case"remove":case"restrict":return(0,u.jsx)(r().sA,{id:"restrictedPermissionConfirmationModal.remove.descriptionV2",defaultMessage:"Change access and unlink share settings from parent page?"});case"restore":case"restoreTeamPermissions":return(0,u.jsx)(r().sA,{id:"restrictedPermissionConfirmationModal.relink.description",defaultMessage:"Relink share settings?"});default:throw a().HB(e)}}},271084:(e,t,n)=>{n.d(t,{k:()=>o});n(581454);class i extends(()=>n(757695))().Store{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}getSortedUserIds(){return Object.entries(this.state||{}).sort(((e,t)=>{let[n,i]=e,[o,r]=t;return r-i})).map((e=>{let[t,n]=e;return t}))}}const o=new i;(0,n(604341).exposeDebugValue)("UserSimilarityStore",o)},279900:(e,t,n)=>{function i(e){let t,n,i;return async function(){for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t?(i=r,n||(n=t.then((()=>(n=void 0,t=e(...i),t))),n)):(t=e(...r),t)}}n.d(t,{A:()=>i})},295870:(e,t,n)=>{n.d(t,{Jg:()=>l});n(898992),n(672577);var i=()=>n(232802),o=()=>n(762433),r=()=>n(979340),a=()=>n(807778),s=()=>n(920370);function l(e){var t;const{product:n,spaceId:l,userId:d,environment:c,billingData:u,spaceUserStore:p,spaceStore:g}=e;if(!n||!l||!d)return"not_eligible";if((0,o().eh)(u,n))return"product_already_available";const m=(0,i().rU)(n),h=function(e){const{billingData:t,environment:n,spaceUserStore:i,spaceStore:s}=e;if(!s||!i||!t)return!1;const l=(0,a().Gy)(n),d=s.getDisableMemberUpgradeRequests();if(!l)return!1;if(d)return!1;if(!(0,r().jR)((0,o().AI)(t)))return!1;if((0,o().et)(t))return!1;const c=Boolean(i.isMember()&&!i.isWorkspaceOwner());return c}({billingData:u,environment:c,spaceUserStore:p,spaceStore:g});if(!m||!h)return"not_eligible";const f=function(e){let{spaceId:t,environment:n}=e;if(!t)return;return s().L.getData(n,{spaceId:t})}({spaceId:l,environment:c});if(!f)return"not_eligible";const v=null===(t=f[n])||void 0===t?void 0:t.find((e=>e.created_by_id===d));return(null==v?void 0:v.request_status)||"unrequested"}},300451:(e,t,n)=>{n.d(t,{A:()=>o});class i extends(()=>n(757695))().Store{getInitialState(){return{settingOpen:"initial",permissionItem:void 0,from:void 0,sudoModeStore:void 0,location:"",faviconUrl:null,previewImageUrl:null,hideBreadcrumbs:!1,hideSearch:!1,hideWatermark:!1,enableDuplicateAsTemplate:!1,hideShare:!1,customHeaderBlockIds:[],googleAnalyticsId:void 0,theme:void 0,enableQna:!1}}}const o=new i},320865:(e,t,n)=>{n.d(t,{A:()=>o});n(296540);var i=n(474848);const o=function(){return(0,i.jsx)(n(678553).Ay,{title:(0,i.jsx)(n(331542).A,{})})}},380048:(e,t,n)=>{n.d(t,{I:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("chevronLeft",{viewBox:"0 0 16 16",directional:!0,svg:(0,i.jsx)("path",{d:"M3.61816 8.06445C3.61816 8.29688 3.70703 8.49512 3.8916 8.67285L9.22363 13.8887C9.36719 14.0391 9.55859 14.1143 9.77734 14.1143C10.2217 14.1143 10.5703 13.7725 10.5703 13.3213C10.5703 13.1025 10.4814 12.9043 10.3311 12.7539L5.52539 8.06445L10.3311 3.375C10.4814 3.21777 10.5703 3.01953 10.5703 2.80078C10.5703 2.35645 10.2217 2.01465 9.77734 2.01465C9.55859 2.01465 9.36719 2.08984 9.22363 2.24023L3.8916 7.45605C3.70703 7.63379 3.625 7.83203 3.61816 8.06445Z"})})},404520:(e,t,n)=>{n.d(t,{R:()=>j});var i=n(296540),o=()=>n(484714),r=()=>n(56366),a=()=>n(959013),s=()=>n(58293),l=()=>n(324561),d=()=>n(523036),c=()=>n(803025),u=()=>n(341233),p=()=>n(340498),g=()=>n(493823),m=()=>n(208603),h=()=>n(964492),f=()=>n(554509),v=n(474848);function S(e){let{colorName:t,size:n,children:i}=e;const o="small"===n?"UISmall-12px/Semibold":"UIRegular-14px/Semibold";return(0,v.jsx)(f().D,{customStyles:{display:"contents"},colorName:t,styleName:o,children:i})}var y=()=>n(465570);function b(e){var t;const{upgradeStatus:n,handleClick:i,productDisplayName:o,customMessages:r,showPlanName:s}=e,l=(0,a().tz)(),d=(0,h().e)(n),c=null!=r&&r[n]?l.formatMessage(r[n]):d.label.icon({intl:l,productDisplayName:o}),u=(0,m().i9)(d),f=s?e.iconAlignment??"left":"left",{animationState:b,animationTriggers:x}=(0,m().lP)();return(0,v.jsx)(y().T,{tooltipMessage:(null===(t=d.disabledTooltip)||void 0===t?void 0:t.call(d,{intl:l}))??c,children:(0,v.jsx)(g().p,{...x,disabled:Boolean(d.disabledTooltip),size:"xs",iconLeading:"left"===f?e=>(0,m().sH)({icon:d.icon,style:{...e,marginRight:s?4:0},animationState:b}):void 0,iconTrailing:"right"===f?e=>(0,m().sH)({icon:d.icon,style:{...e,marginLeft:2},animationState:b}):void 0,iconStyle:{...u,width:p().Ev.xs,height:p().Ev.xs},onClick:i,children:s&&o?(0,v.jsx)("span",{style:{padding:1},children:(0,v.jsx)(S,{colorName:d.highlightColor,size:"small",children:o})}):null})})}var x=()=>n(864943),A=()=>n(625634);function C(e){var t;const{upgradeStatus:n,handleClick:i,size:o="default",width:r="fill",productDisplayName:s}=e,l=(0,a().tz)(),d=(0,h().e)(n),c=d.label.button({intl:l}),u=Boolean(d.disabledTooltip),p=(0,m().i9)(d,o),{animationState:g,animationTriggers:f}=(0,m().lP)();return(0,v.jsx)(y().T,{tooltipMessage:u?null===(t=d.disabledTooltip)||void 0===t?void 0:t.call(d,{intl:l,productDisplayName:s}):void 0,children:(0,v.jsx)(x().A,{...f,disabled:u,size:A()._[o],iconLeading:e=>(0,m().sH)({icon:d.icon,style:e,animationState:g}),iconStyle:p,style:{width:"fill"===r?"100%":void 0},onClick:i,children:c})})}var w=()=>n(204063);function I(e){var t;const{upgradeStatus:n,handleClick:i,productDisplayName:o}=e,r=(0,a().tz)(),s=(0,h().e)(n),l=s.label.button({intl:r}),d=Boolean(s.disabledTooltip);return(0,v.jsx)(y().T,{tooltipMessage:d?null===(t=s.disabledTooltip)||void 0===t?void 0:t.call(s,{intl:r,productDisplayName:o}):void 0,children:(0,v.jsx)(w().A,{disabled:d,size:A()._.default,onClick:i,children:l})})}function M(e){const{upgradeStatus:t,handleClick:n,customMessages:i,productDisplayName:o,size:r="default"}=e,s=(0,a().tz)(),l="small"===r?"secondary":"primary",d=e.textColor??l,c=(0,h().e)(t),u=(0,m().i9)(c,r),p=null!=i&&i[t]?s.formatMessage(i[t],{highlight:e=>(0,v.jsx)(S,{colorName:c.highlightColor,size:r,children:e})}):c.label.text({intl:s,productDisplayName:o,renderTextHighlight:e=>(0,v.jsx)(S,{colorName:c.highlightColor,size:r,children:e})}),y=Boolean(c.disabledTooltip),{animationState:b,animationTriggers:x}=(0,m().lP)();return(0,v.jsx)(g().p,{disabled:y,...x,size:"small"===r?"xs":"md",iconLeading:e=>(0,m().sH)({icon:c.icon,style:{...e,marginRight:"small"===r?6:8},animationState:b}),iconStyle:u,onClick:n,children:(0,v.jsx)(f().D,{colorName:d,children:p})})}var P=()=>n(153861),k=()=>n(414236);function j(e){let{source:t,upsell:n,featureName:p,...g}=e;const m=(0,a().tz)(),h=(0,s().r)(),f=(0,o().v3)(),S=(0,c().q)(),y=(0,l()._3)({spaceId:null==h?void 0:h.id}),x=(0,d().R)(t),A=(0,r().K8)((()=>{var e;return null===(e=f.currentUser)||void 0===e?void 0:e.id}),[f]),[w,j]=(0,k().h)({upsell:n}),T=(0,r().K8)((()=>(0,P().a)({environment:f,upsell:n,spaceStore:h,salesStatus:S,offer:x,requestState:w})),[h,f,n,S,x,w]),D=i.useCallback((async()=>{const e="product"===n.type?n.product:void 0,{getUpgradeSystemAction:i}=await u().H.upgradeSystemActions.load(),o=i(T);await o({source:t,spaceStore:h,product:e,billingData:y,environment:f,setRequestState:j,userId:A})}),[T,A,t,h,n,y,f,j]),_=(0,P().T)({upsell:n,intl:m});if(!T)return null;switch(g.display){case"button":return(0,v.jsx)(C,{upgradeStatus:T.status,handleClick:D,productDisplayName:_,...g});case"icon":return(0,v.jsx)(b,{upgradeStatus:T.status,handleClick:D,productDisplayName:_,...g});case"text":return(0,v.jsx)(M,{upgradeStatus:T.status,handleClick:D,productDisplayName:_,...g});case"primary":return(0,v.jsx)(I,{upgradeStatus:T.status,handleClick:D,productDisplayName:_,...g})}}},406533:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,questionMarkCircleIcon:()=>r});n(296540);var i=n(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.26 15.25",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M9.978 7.154c-.804 0-1.333.456-1.438.874a.625.625 0 0 1-1.213-.303c.28-1.121 1.44-1.82 2.65-1.82 1.365 0 2.714.905 2.714 2.298 0 .812-.49 1.477-1.13 1.872l-.755.516a.84.84 0 0 0-.381.677.625.625 0 1 1-1.25 0c0-.688.36-1.318.921-1.706l.003-.002.784-.535.014-.008c.374-.228.544-.537.544-.814 0-.459-.517-1.049-1.463-1.049m.662 6.336a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,i.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},r=(0,n(340498).wt)("questionMarkCircle",o)},413267:(e,t,n)=>{n.d(t,{b:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("thinCheck",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M6.385 14.162c.362 0 .642-.15.84-.444L13.652 3.71c.144-.226.205-.417.205-.602 0-.485-.341-.82-.833-.82-.335 0-.54.123-.746.444l-5.926 9.4-3.042-3.903c-.205-.267-.417-.376-.718-.376-.492 0-.848.348-.848.827 0 .212.075.417.253.629l3.541 4.416c.24.3.492.437.848.437z"})})},414236:(e,t,n)=>{n.d(t,{h:()=>c});var i=n(296540),o=()=>n(484714),r=()=>n(56366),a=()=>n(58293),s=()=>n(646736),l=()=>n(324561),d=()=>n(295870);function c(e){const{upsell:t}=e,n=(0,o().v3)(),c=(0,a().r)(),u=(0,s().HI)(),p=null==c?void 0:c.id,g=(0,r().K8)((()=>{var e;return null===(e=n.currentUser)||void 0===e?void 0:e.id}),[n]),m=(0,l().f_)({spaceId:p}),h="product"===(null==t?void 0:t.type)?t.product:void 0,f=(0,r().K8)((()=>(0,d().Jg)({product:h,spaceId:p,userId:g,billingData:m,environment:n,spaceStore:c,spaceUserStore:u})),[h,p,g,m,n,c,u]),[v,S]=(0,i.useState)(f);return[v,S]}},435212:(e,t,n)=>{n.d(t,{Kz:()=>r,Sc:()=>a,as:()=>o});var i=()=>n(2220);function o(e,t){(0,i().u)({environment:e,event:{eventName:"open_customize_site",eventProperties:t}})}function r(e,t){(0,i().u)({environment:e,event:{eventName:"update_site_customization_settings",eventProperties:t}})}function a(e){(0,i().u)({environment:e,event:{eventName:"close_customize_site",eventProperties:{}}})}},454531:(e,t,n)=>{n.d(t,{W:()=>h});var i=()=>n(780054),o=()=>n(972435),r=()=>n(867772),a=()=>n(681810),s=()=>n(901389),l=()=>n(896628),d=()=>n(383594),c=()=>n(675925),u=()=>n(751156),p=()=>n(892632);const g=1500,m=(0,n(959013).YK)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},preparing:{defaultMessage:"Preparing...",id:"pageCover.status.preparing"},downloading:{defaultMessage:"Downloading...",id:"pageCover.status.downloading"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image link…",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function h(e){let{environment:t,intl:n,store:i,rect:o,from:r}=e;d().W(t,{originGap:3,originRect:o,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:n.formatMessage(m.pageCover),onDelete:()=>{!function(e){let{environment:t,store:n}=e;d().I(),u().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{l().PT({store:n,transaction:e})}})}({environment:t,store:i})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:n,position:o}=e;(0,c().o)(t,{action:"edit_cover",block_type:"page",from:r},(e=>{v({environment:t,store:i,url:{originUrl:n},position:o}),e()}))}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:n.formatMessage(m.fileTypeCaption,{idealImageWidth:g}),onUpload:e=>{(0,c().o)(t,{action:"edit_cover",block_type:"page",from:r},(o=>{var r;d().I(),p().QM({environment:t,file:e[0],bucket:"secure",record:(null===(r=i.getCoverStore())||void 0===r?void 0:r.pointer)??i.pointer,isFileBlock:!1,reportRichUploadMetrics:!0,onStart:S,onProgress:y,onComplete:e=>{var n;n={environment:t,store:i,url:{originUrl:e}},f({...n,position:.5})},onError:()=>{s().f1(n.formatMessage(m.uploadFailed))}}),o()}))}},{type:"embed",title:n.formatMessage(m.embedTitle),inputPlaceholder:n.formatMessage(m.embedPlaceholder),caption:n.formatMessage(m.embedCaption),buttonText:n.formatMessage(m.embedSubmit),onChange:e=>{(0,c().o)(t,{action:"edit_cover",block_type:"page",from:r},(n=>{var o;o={environment:t,store:i,url:e},f({...o,position:.5}),d().I(),n()}))}},{type:"unsplash",onChange:e=>{let{url:n,position:o}=e;(0,c().o)(t,{action:"edit_cover",block_type:"page",from:r},(e=>{v({environment:t,store:i,url:{originUrl:n},position:o}),e()}))}}]})}async function f(e){const{environment:t,store:n,url:i,position:s}=e,{serverCommitResult:d}=u().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{l().fg({store:n,url:i,position:s||.5,transaction:e})}});await d,a().A.state.loadingMode===r().vS&&a().A.setState({loadingMode:r().Gi,dataURL:a().A.state.dataURL,uploadProgress:t.device.isMobileNative?void 0:100,progressText:o().A.formatMessage(m.downloading)})}function v(e){f(e),i().A.isMobile&&d().I()}function S(e){const{file:t,name:n,size:i}=e;if(d().I(),a().A.setState({loadingMode:r().Wc,file:t,name:n,size:i}),t.type.indexOf("image")>=0)if(t instanceof File){const e=new FileReader;e.onload=e=>{a().A.state.loadingMode===r().Wc&&a().A.setState({...a().A.state,loadingMode:r().vS,uploadProgress:0,dataURL:e.target.result})},e.readAsDataURL(t)}else a().A.state.loadingMode===r().Wc&&a().A.setState({...a().A.state,loadingMode:r().vS,dataURL:t.dataURL,progressText:o().A.formatMessage(m.preparing)});else a().A.state.loadingMode===r().Wc&&a().A.setState({...a().A.state,loadingMode:r().vS,progressText:o().A.formatMessage(m.preparing)})}function y(e){const{progressPercent:t,progressText:n}=e;a().A.state.loadingMode===r().vS&&a().A.setState({...a().A.state,uploadProgress:t,progressText:n})}},465364:(e,t,n)=>{n.d(t,{$N:()=>T,D5:()=>D,GB:()=>P,M9:()=>I,Pt:()=>j,eW:()=>k,jo:()=>B,v7:()=>M});n(944114),n(898992),n(803949),n(581454);var i=()=>n(244641),o=()=>n(787626),r=()=>n(713998),a=()=>n(597777),s=()=>n(604995),l=()=>n(416504),d=()=>n(519831),c=()=>n(496603),u=()=>n(534177),p=()=>n(299709),g=()=>n(317001),m=()=>n(520861),h=()=>n(878060),f=()=>n(44729),v=()=>n(246826),S=()=>n(319975),y=()=>n(519839),b=()=>n(695625),x=()=>n(397248),A=()=>n(217429),C=()=>n(630116),w=()=>n(747671);function I(e){const{environment:t,droppedStores:n,duplicate:r,calendarBy:c,transaction:u,collectionContextStore:h,duplicateActions:v}=e,S=i().c9.fromMillis(e.startOfDay);let b=!0;for(const i of n){const t=e.collectionStore?e.collectionStore:(0,y().Dj)({store:i,collectionContextStore:h});if(i.getParentTable()===d().Vl||!t){b=!1;break}f().X$({childStore:i,parentStore:t,transaction:u})||(b=!1)}const x=(0,m().T)({environment:t,droppedStores:n,duplicate:r,transaction:u,collectionStore:e.collectionStore,duplicateActions:v});for(const i of x){const n=e.collectionStore?e.collectionStore:(0,y().Dj)({store:i,collectionContextStore:h});if(!n)continue;const r=n.getMappedProperty(c),d=i.getPropertyStore(r),m=(0,o().b)(d.getValue())||s().Ec((0,l().P)()),f=s().kW(m,(0,l().P)()),v=S.toFormat(s().tr);let x;if("date"===f.type||"datetime"===f.type)x={...f,start_date:v};else{const e=s().AA(f,(0,l().P)());if(!e.end)return;const t={...f,start_date:v},n=s().AA(t,(0,l().P)()).start.diff(e.start,"days"),i=e.end.plus(n).toFormat(s().tr);x={...f,start_date:v,end_date:i}}const A=s().kW(x,a().$K(m)||(0,l().P)());(0,g().j)({environment:t,store:i,collectionStore:n,collectionContextStore:h,shouldCoerce:!0,groupsPointer:[],transaction:u,alreadyMovedToCollection:b}),D({environment:t,type:"dateValue",propertyId:r,store:i,transaction:u,dateValue:A}),(0,p().E)({environment:t,collectionContextStore:h,block_id:i.id,property:r,property_type:"date",from:"calendar"})}}function M(e){const{calendarStore:t,direction:n,targetStore:i}=e;t.setState({...t.state,isDragging:!0,targetStore:i,direction:n,temporaryValue:void 0})}function P(e){const{calendarStore:t,x:n,y:r,calendarBy:d}=e,u=t.state;if(u.isDragging){const e=(0,o().b)(u.targetStore.getPropertyStore(d).getValue());if(!e)return;const p=s().kW(e,(0,l().P)()),g=u.temporaryValue||e,m=s().kW(g,(0,l().P)()),h=[];u.dayStoreMap.forEach(((e,t)=>{h.push({store:e,timestamp:t})}));const f=h.find((e=>{let{store:t}=e;const i=b().T.getRectFromStore(t);return Boolean(i&&x().ux(i,n,r))}));let v;if(f){const e=i().c9.fromMillis(f.timestamp),t=e.endOf("day"),n=e.toFormat(s().tr);if(p){const o=s().AA(p,(0,l().P)());if(u.direction===w().Q.Left)if(i().IX.fromDateTimes(e,t).contains(o.start))v=p;else{let e;e="datetimerange"===p.type||"daterange"===p.type?{...p,start_date:n,end_date:p.end_date}:"datetime"===p.type?{type:"datetimerange",start_date:n,start_time:p.start_time,end_date:p.start_date,end_time:p.start_time,time_zone:p.time_zone,reminder:p.reminder}:{type:"daterange",start_date:n,end_date:p.start_date,reminder:p.reminder};const t=s().AA(e,(0,l().P)());v=!o.end&&t.start>o.start||o.end&&t.start>o.end?m:e}else if(o.end?i().IX.fromDateTimes(e,t).contains(o.end):i().IX.fromDateTimes(e,t).contains(o.start))v=p;else{let e;e="date"===p.type?{...p,type:"daterange",end_date:n}:"datetime"===p.type?{...p,type:"datetimerange",end_date:n,end_time:"00:00"}:{...p,end_date:n};const t=s().AA(e,(0,l().P)());v=t.end&&t.end<t.start?m:e}}}if(v&&!c().n4(m,v)){const e=s().kW(v,a().$K(g)||(0,l().P)());t.setState({...u,temporaryValue:e})}}}function k(e){const{environment:t,calendarStore:n,calendarBy:i,transaction:o}=e,r=n.state;r.isDragging&&r.temporaryValue&&(D({type:"dateValue",environment:t,dateValue:r.temporaryValue,propertyId:i,store:r.targetStore,transaction:o}),n.setState({...n.state,isDragging:!1}))}function j(e){const{calendarStore:t}=e,n=t.state;n.isDragging&&t.setState({...n,isDragging:!1})}function T(e){const{environment:t,store:n,collectionStore:o,collectionContextStore:a,startDayOfWeek:d,transaction:c}=e,u=a.dateRangeStartStore.state,p=(0,l().P)(),m=a.normalizedQueryStore.state;if(!m||!m.calendar_by)return;const h=(null==o?void 0:o.getMappedProperty(m.calendar_by))??m.calendar_by,f=s().hp(u,d,p),S=f.startOf("month"),y=f.endOf("month"),b=i().c9.now().startOf("day");let x;return x=i().IX.fromDateTimes(S,y).contains(b)?s().p6(b.valueOf(),p):s().p6(s().iB(u,d,p).valueOf(),p),v().zv({store:n.getPropertiesStore(),data:{[h]:r().m5(x)},transaction:c}),(0,g().j)({environment:t,store:n,collectionStore:o,collectionContextStore:a,shouldCoerce:!0,groupsPointer:[],transaction:c}),n}function D(e){const{environment:t,store:n,propertyId:i,transaction:o}=e;let a;"timestamp"===e.type?a=s().p6(e.timestampMs.valueOf(),(0,l().P)()):"dateValue"===e.type?a=e.dateValue:(0,u().HB)(e);const d=n.getPropertyValue(i);if(a&&function(e){const{propertyId:t,oldDateValue:n,newPersistedDate:i,store:o}=e;if(n||!i||void 0!==i.reminder)return!1;if(!A().default.checkGate({gateName:"adoption_reminder_collection_default"}))return!1;const r=_(t,o);if(void 0===r)return!1;return!0}({propertyId:i,oldDateValue:d,newPersistedDate:a,store:n})){const e=_(i,n);void 0!==e&&(a={...a,reminder:e})}const c=r().m5(a);v().zv({store:n.getPropertiesStore(),data:{[i]:c},transaction:o}),h().O({environment:t,store:n,dateProperty:{id:i,oldValue:d,newValue:c}})}function _(e,t){const n=t.getAssociatedCollectionStore();if(!n)return;const i=n.getSchema();if(!i)return;const o=i[e];return o&&"date"===o.type?o.default_reminder:void 0}function B(e){const{environment:t,collectionStore:n,calendarBy:i,store:o,insertStores:r,collectionContextStore:a,transaction:s}=e,l=o.getPropertyStore(i).getValue();for(const d of r)(0,g().j)({environment:t,store:d,collectionStore:n,collectionContextStore:a,shouldCoerce:!0,groupsPointer:[],transaction:s}),S().R9({environment:t,store:d.getPropertyStore(i),value:l,transaction:s});return r.map((e=>C().Bv.createChildStore(n,e.pointer)))}},465570:(e,t,n)=>{n.d(t,{T:()=>d});var i=n(296540),o=()=>n(554509),r=()=>n(859428),a=()=>n(553965),s=()=>n(962730),l=n(474848);function d(e){let{tooltipMessage:t,children:n,placement:d=s().W.Bottom}=e;return Boolean(t)?(0,l.jsx)(r().A,{placement:d,style:{maxWidth:240,minWidth:160},renderTooltip:()=>(0,l.jsx)(o().D,{styleName:"UISmall-12px/Medium",colorName:"contrastPrimary",children:t}),render:e=>i.cloneElement(n,(0,a().A)(e,n.props)),textWrap:!0}):n}},477293:(e,t,n)=>{n.d(t,{r:()=>r});var i=()=>n(56366),o=()=>n(217429);function r(e){let{disableExposureLogging:t,disableEventTrailLogging:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i().K8)((()=>o().default.getEligibleGroup({experimentId:e,defaultGroup:"control",disableExposureLogging:t,disableEventTrailLogging:n})),[e,t,n])}},500128:(e,t,n)=>{n.d(t,{K:()=>a});n(296540);var i=()=>n(963589),o=()=>n(404520),r=n(474848);function a(e){const{children:t,...n}=e;return(0,i().X)("upgrade_system")?(0,r.jsx)(o().R,{...n}):t}},505108:(e,t,n)=>{n.d(t,{a:()=>g});var i=n(296540),o=()=>n(401497),r=()=>n(534177),a=()=>n(284371),s=()=>n(84817),l=()=>n(819121),d=()=>n(955825),c=n(474848);function u(e){const{disabled:t,checked:n,selectorSize:i}=e,[r,a]=(0,l().A)(),s=function(e){const{checked:t,disabled:n,isFocusVisible:i,selectorSize:r}=e;return(0,o().IS)((e=>({root:{position:"absolute",display:"flex",width:15,height:15,padding:5,margin:1.5,justifyContent:"center",alignItems:"center",gap:8,flexShrink:0,borderRadius:"50%",transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${n?e.tint.regular:e.blueColor}`,background:n?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${n?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...i&&{boxShadow:e.buttonBlueFocusRing}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"small"===r?14:18,height:"small"===r?14:18,...n?{pointerEvents:"none"}:{cursor:"pointer"}}})),[t,n,i,r])}({checked:n,disabled:t,isFocusVisible:a,selectorSize:i});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{ref:r,type:"radio",style:s.input,className:"radio-button",...e}),(0,c.jsx)("span",{...(0,d().AH)("custom-radio-button",s.root,t?{}:{pseudoActive:s.active})})]})}var p=()=>n(554509);const g=i.forwardRef((function(e,t){let{additionalContent:n,description:r,isDisabled:l,isSelected:d,label:u,name:p,onChange:g,width:f="fill",selectorSize:v="normal",selectAlignXAxis:S="left",selectAlignYAxis:y="center",selectType:b="checkbox",style:x,supportText:A,value:C,colorName:w,alignAdditionalContent:I,...M}=e;const P=(0,i.useId)(),k=function(e){const{isSelected:t,isDisabled:n,selectAlignYAxis:i,alignAdditionalContent:r}=e;return(0,o().IS)((e=>{const o=t&&!n?e.blueColor:e.selectorBorderUnselected;return{container:{display:"flex",alignItems:r??"center",gap:12,userSelect:"none",padding:"9px 16px 10px 10px",borderRadius:6,border:`1px solid ${o}`,...!n&&{cursor:"pointer"}},title:{fontWeight:a().Wy.medium,fontSize:14,userSelect:"none",lineHeight:18},additionalContentWrapper:{flexShrink:0},selectorWrapper:{display:"flex",..."top"===i?{marginTop:2}:{}},rightAlignSelectorWrapper:{display:"flex"}}}),[t,n,i,r])}({isSelected:d,isDisabled:l,selectAlignYAxis:y,alignAdditionalContent:I}),j=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===y?"top-left":"center-left",gap:12,width:f,children:[(0,c.jsx)("div",{style:k.selectorWrapper,children:(0,c.jsx)(h,{id:P,selectType:b,name:p,value:C,onChange:g,isSelected:d,selectorSize:v,isDisabled:l,...M})}),(0,c.jsx)(m,{colorName:w,description:r,label:u,selectorSize:v,supportText:A,isDisabled:l})]}),T=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===y?"top-center":"center",gap:12,children:[(0,c.jsx)(m,{colorName:w,description:r,label:u,selectorSize:v,supportText:A,isDisabled:l}),(0,c.jsx)("div",{style:{...k.selectorWrapper,...k.rightAlignSelectorWrapper},children:(0,c.jsx)(h,{id:P,selectType:b,name:p,value:C,onChange:g,selectorSize:v,isSelected:d,isDisabled:l,...M})})]}),D=n?(0,c.jsx)("div",{style:k.additionalContentWrapper,children:n}):null;return(0,c.jsx)("label",{ref:t,style:{...k.container,...x},htmlFor:P,children:"left"===S?(0,c.jsxs)(c.Fragment,{children:[j,D]}):(0,c.jsxs)(c.Fragment,{children:[D,T]})})}));function m(e){const{description:t,label:n,supportText:i,selectorSize:o,isDisabled:a,colorName:l}=e;let d;return"large"===o?d="Page-Content/Text-Block":"normal"===o||void 0===o?d="Body-13px/Medium":"small"===o?d="Body-12px/Regular":(0,r().HB)(o),(0,c.jsxs)(s().Y1,{gap:4,children:[(0,c.jsxs)(s().Y1,{gap:2,children:[(0,c.jsx)(p().D,{styleName:d,colorName:l||(a?"quaternary":"primary"),children:n}),t?(0,c.jsx)(p().D,{styleName:"Caption-12px/Regular",colorName:a?"quaternary":"secondary",children:t}):null]}),i?(0,c.jsx)(p().D,{styleName:"Caption-12px/Medium",colorName:"tertiary",children:i}):null]})}function h(e){const{selectType:t,selectorSize:i="normal",id:a,name:s,value:l,onChange:d,isSelected:p,isDisabled:g,...m}=e,h=(0,o().IS)((()=>({checkboxWrapper:{minWidth:18,display:"flex",justifyContent:"center"}})),[]);switch(t){case"radio":return(0,c.jsx)(u,{id:a,name:s,value:l,onChange:d,checked:p,disabled:g,selectorSize:i,...m});case"checkbox":return(0,c.jsx)("div",{style:h.checkboxWrapper,children:(0,c.jsx)(n(115562).W,{id:a,name:s,value:l,onChange:d,checked:p,disabled:g,selectorSize:i,...m})});case"none":return null;default:(0,r().HB)(t)}}},520861:(e,t,n)=>{n.d(t,{T:()=>o});n(944114),n(898992),n(908872);var i=()=>n(415651);function o(e){const{environment:t,collectionStore:n,duplicate:o,droppedStores:r,transaction:a,duplicateActions:s}=e,{movedStores:l,reparentedStores:d}=r.reduce(((e,t)=>(o||t.getAssociatedCollectionId()!==(null==n?void 0:n.id)?e.reparentedStores.push(t):e.movedStores.push(t),e)),{movedStores:[],reparentedStores:[]});return[...l,...i().MS({environment:t,droppedStores:d,duplicate:o,transaction:a,resolveTemplateVariables:!1,duplicateActions:s})]}},523036:(e,t,n)=>{n.d(t,{R:()=>d});var i=n(296540),o=()=>n(484714),r=()=>n(56366),a=()=>n(640653),s=()=>n(765957),l=()=>n(749356);function d(e){const t=(0,o().v3)(),[n,d]=(0,i.useState)(),{spaceId:c,spaceName:u}=(0,r().K8)((()=>{const e=s().default.state.currentSpaceStore;return e?{spaceId:e.getSpaceId(),spaceName:(0,a().GK)(t,e)}:{spaceId:void 0,spaceName:void 0}}),[t]);return(0,i.useEffect)((()=>{!async function(){if(c){const n=await(0,l().OC)(t,c,e);n&&(d(n),u&&(0,l().Zc)({environment:t,spaceName:u,offerCampaign:n.campaign}))}}()}),[t,c,u,e]),n}},525700:(e,t,n)=>{n.d(t,{Bp:()=>N,DD:()=>E,E9:()=>X,H6:()=>T,HE:()=>D,HY:()=>U,JI:()=>J,Nf:()=>K,P8:()=>Q,V_:()=>$,XL:()=>V,Xz:()=>F,aD:()=>_,aN:()=>q,d7:()=>O,d8:()=>P,j4:()=>Y,n0:()=>G,pu:()=>W,sd:()=>z,uH:()=>L,uY:()=>Z,wl:()=>B,yF:()=>H,zV:()=>j});n(16280),n(944114),n(898992),n(354520),n(581454),n(296540);var i=()=>n(68263),o=()=>n(161479),r=()=>n(101628),a=()=>n(245241),s=()=>n(959013),l=()=>n(496603),d=()=>n(498212),c=()=>n(449506),u=()=>n(496414),p=()=>n(246826),g=()=>n(755636),m=()=>n(436572),h=()=>n(751156),f=()=>n(780054),v=()=>n(594794),S=()=>n(976721),y=()=>n(562800),b=()=>n(40226),x=()=>n(380682),A=()=>n(300451),C=()=>n(676870),w=()=>n(435212),I=n(474848);const M=(0,s().YK)({savingSiteSettings:{id:"siteSettingsActions.publishingSiteSettings.loadingMessage",defaultMessage:"Saving site settings…"}});function P(e){const{environment:t,store:n,type:i,header:a,domainId:s}=e,l=n.getSiteStore();if(l)return l.id;let d=s;var c;d||(d=null===(c=y().Nq(n.getSpaceStore()))||void 0===c?void 0:c.id);const u=(0,v().JH)({environment:t,table:r().Eu,spaceId:(0,o().e)(n.getSpaceId())});h().createAndCommit({userAction:"publishSite.create",environment:t,canUndo:!0,perform:e=>{const o=p().vt({environment:t,table:u.table,args:{id:u.id,type:i,spaceId:u.spaceId,blockId:n.id,domainId:d,currentUserId:t.currentUser.id,header:a??{}},inMemoryRecordCache:t.defaultRecordCache.inMemoryRecordCache,transaction:e});return p().zv({store:n.getFormatStore(),data:{site_id:o.id},transaction:e}),o.id}})}function k(e){const{environment:t,siteRootBlockStore:n,domainId:i}=e;let o=n.getSiteStore();if(o||(P({environment:t,type:"site",store:n,domainId:i}),o=n.getSiteStore()),o)return o}function j(e){const{environment:t,domainId:n,resetWatermark:i}=e,o=k(e);o&&o.isDefined()&&(h().createAndCommit({userAction:"publishSite.updatePublicDomain",environment:t,canUndo:!0,perform:e=>{o.getDomainId()!==n&&h().applyOperation({transaction:e,store:o,operation:o.getModel().ops.updatePublicDomainId({domainId:n,currentUserId:t.currentUser.id})})}}),h().createAndCommit({userAction:"publishSite.resetWatermark",environment:t,canUndo:!0,perform:e=>{if(i){const n=o.getHeader();h().applyOperation({transaction:e,store:o,operation:o.getModel().ops.updateHeader({header:{...n,hideWatermark:!1},currentUserId:t.currentUser.id})})}}}),m().D6({label:(0,I.jsx)(s().sA,{id:"publishSiteSettings.publicDomain.confirmation",defaultMessage:"Successfully updated domain for all pages within this site"})}))}function T(e){const{environment:t,siteRootBlockStore:n,isSearchEngineIndexingEnabled:i}=e,r=k(e);if(!r)return;"form"!==r.getType()&&h().createAndCommit({userAction:"publishSite.updateSeoEnabled",environment:t,canUndo:!0,perform:e=>{r&&r.isDefined()&&i!==r.isSearchEngineIndexingEnabled()&&(h().applyOperation({transaction:e,store:r,operation:r.getModel().ops.updateIsSearchEngineIndexingEnabled({isSearchEngineIndexingEnabled:i,currentUserId:t.currentUser.id})}),i&&e.postSubmitCallbacks.push((async e=>{e||await c().callApi({eventName:"enqueueScanContentTask",environment:t,data:{pagePointer:{id:n.id,table:"block",spaceId:(0,o().e)(n.pointer.spaceId)}}})})))}})}function D(e){const{environment:t,store:n,seoTitle:i,seoDescription:o}=e;h().createAndCommit({userAction:"publishSite.create",environment:t,canUndo:!0,perform:e=>{const r=n.getFormat().seo_title,a=n.getFormat().seo_description;r===i&&a===o||(p().zv({store:n.getFormatStore(),data:{seo_title:i,seo_description:o},transaction:e}),(0,C().NZ)(t,{target_block_id:n.id,new_title:i??null,new_description:o??null}),m().D6({label:(0,I.jsx)(s().sA,{id:"siteSettingsEditor.publishSeoChanges.confirmation",defaultMessage:"Successfully updated the SEO settings"})}))}})}function _(e){A().A.setState({...A().A.state,settingOpen:e})}function B(){A().A.setState({...A().A.state,settingOpen:"initial"})}function N(e){x().A.setState({...x().A.state,siteSettingContentType:e})}function U(e){var t,n,i;const{siteRootBlockStore:o,permissionItem:r,from:a,sudoModeStore:s}=e,l=o.getSiteStore(),d=null==l?void 0:l.getHeader(),c=(null==d||null===(t=d.customItems)||void 0===t?void 0:t.map((e=>e.blockId)))||[];A().A.setState({settingOpen:"initial",permissionItem:r,from:a,sudoModeStore:s,faviconUrl:(null==l?void 0:l.getFaviconUrl())||null,previewImageUrl:(null==l?void 0:l.getPreviewImageUrl())||null,hideBreadcrumbs:null==d?void 0:d.hideBreadcrumbs,hideSearch:null==d?void 0:d.hideSearch,hideShare:null==d?void 0:d.hideShare,hideWatermark:null==d?void 0:d.hideWatermark,enableDuplicateAsTemplate:r.allow_duplicate,customHeaderBlockIds:c,googleAnalyticsId:null==l?void 0:l.getGoogleAnalyticsId(),theme:null==l||null===(n=l.getSettings())||void 0===n?void 0:n.theme,enableQna:null==l||null===(i=l.getSettings())||void 0===i?void 0:i.enableQna})}async function L(e){var t;const{environment:n,store:o,siteRootBlockStore:r}=e,a=k({environment:n,siteRootBlockStore:r}),l=null==a?void 0:a.getType();if(!a||"form"===l)return;const p=A().A.getState(),g={},f=function(e,t){var n,i,o,r,a,s,l,d;const c=R(e.customHeaderBlockIds,null===(n=t.getHeader())||void 0===n?void 0:n.customItems);return e.faviconUrl!==(t.getFaviconUrl()||null)||e.previewImageUrl!==(t.getPreviewImageUrl()||null)||c||e.hideBreadcrumbs!==(null===(i=t.getHeader())||void 0===i?void 0:i.hideBreadcrumbs)||e.hideSearch!==(null===(o=t.getHeader())||void 0===o?void 0:o.hideSearch)||e.hideShare!==(null===(r=t.getHeader())||void 0===r?void 0:r.hideShare)||e.hideWatermark!==(null===(a=t.getHeader())||void 0===a?void 0:a.hideWatermark)||e.googleAnalyticsId!==t.getGoogleAnalyticsId()||e.theme!==(null===(s=t.getSettings())||void 0===s?void 0:s.theme)||e.enableQna!==(null===(l=t.getSettings())||void 0===l?void 0:l.enableQna)||(null===(d=e.permissionItem)||void 0===d?void 0:d.allow_duplicate)!==e.enableDuplicateAsTemplate&&e.permissionItem&&e.from}(p,a);if(!f)return;let v;if(u().m({message:M.savingSiteSettings}),p.enableQna)try{v=await async function(e){var t,n,i,o;const{environment:r,siteStore:a}=e,s=null===(t=a.getSettings())||void 0===t?void 0:t.siteUserId;if(s)return s;if(!((null===(n=a.getDomainStore())||void 0===n?void 0:n.getDomainName())??(null===(i=y().Nq(a.getSpaceStore()))||void 0===i?void 0:i.domain_name)))throw new Error("no domain on site");const l=y().Ix({spaceStore:a.getSpaceStore(),domainId:null===(o=a.getDomainStore())||void 0===o?void 0:o.id}).split(":")[0],u=`${(0,d().S2)(a.id)}@${l}`,p=await c().callApi({eventName:"createEmailUser",environment:r,data:{email:u}});if("failed"===p.type)throw new Error("failed to create qna user");return p.data.userId}({environment:n,siteStore:a})}catch{return u().V(),void m().D6({label:(0,I.jsx)(s().sA,{id:"siteSettingsEditor.publishChanges.failure",defaultMessage:"Something went wrong, please try again later"})})}const{serverCommitResult:b}=h().createAndCommit({userAction:"publishSite.updateSiteSettingsInEditor",environment:n,canUndo:!0,perform:e=>{if(a&&a.isDefined()){var t,i;(a.getFaviconUrl()||null)!==p.faviconUrl&&(h().applyOperation({transaction:e,store:a,operation:a.getModel().ops.updateFaviconUrl({faviconUrl:p.faviconUrl,currentUserId:n.currentUser.id})}),g.favicon=p.faviconUrl);(a.getPreviewImageUrl()||null)!==p.previewImageUrl&&(h().applyOperation({transaction:e,store:a,operation:a.getModel().ops.updatePreviewImageUrl({previewImageUrl:p.previewImageUrl,currentUserId:n.currentUser.id})}),g.preview_image=p.previewImageUrl);const o=a.getHeader();let r=o;const s=R(p.customHeaderBlockIds,null==o?void 0:o.customItems);s&&(r={...r,customItems:s},g.custom_headers=s.map((e=>e.blockId))),(null==o?void 0:o.hideBreadcrumbs)!==p.hideBreadcrumbs&&(r={...r,hideBreadcrumbs:p.hideBreadcrumbs},g.hide_breadcrumbs=p.hideBreadcrumbs),(null==o?void 0:o.hideSearch)!==p.hideSearch&&(r={...r,hideSearch:p.hideSearch},g.hide_search=p.hideSearch),(null==o?void 0:o.hideShare)!==p.hideShare&&(r={...r,hideShare:p.hideShare},g.hide_share=p.hideShare),(null==o?void 0:o.hideWatermark)!==p.hideWatermark&&(r={...r,hideWatermark:p.hideWatermark},g.hide_watermark=p.hideWatermark),r&&o!==r&&h().applyOperation({transaction:e,store:a,operation:a.getModel().ops.updateHeader({header:r,currentUserId:n.currentUser.id})});a.getGoogleAnalyticsId()!==p.googleAnalyticsId&&(h().applyOperation({transaction:e,store:a,operation:a.getModel().ops.updateGoogleAnalyticsId({googleAnalyticsId:p.googleAnalyticsId,currentUserId:n.currentUser.id})}),g.google_analytics_id=p.googleAnalyticsId);(null===(t=a.getSettings())||void 0===t?void 0:t.theme)!==p.theme&&(h().applyOperation({transaction:e,store:a,operation:a.getModel().ops.updateTheme({theme:p.theme,currentUserId:n.currentUser.id})}),g.theme=p.theme);(null===(i=a.getSettings())||void 0===i?void 0:i.enableQna)!==p.enableQna&&(p.enableQna?v&&h().applyOperation({transaction:e,store:a,operation:{pointer:a.pointer,command:"update",path:["settings"],args:{enableQna:p.enableQna,siteUserId:v}}}):h().applyOperation({transaction:e,store:a,operation:{pointer:a.pointer,command:"update",path:["settings"],args:{enableQna:p.enableQna}}}))}}});try{await b}catch{return u().V(),void m().D6({label:(0,I.jsx)(s().sA,{id:"siteSettingsEditor.publishChanges.failure",defaultMessage:"Something went wrong, please try again later"})})}if((null===(t=p.permissionItem)||void 0===t?void 0:t.allow_duplicate)!==p.enableDuplicateAsTemplate&&p.permissionItem&&p.from){const e=(0,i().Yi)(p.from);if(!(await(0,S().Hc)({oldPermissionItem:p.permissionItem,newPermissionItem:{...p.permissionItem,allow_duplicate:p.enableDuplicateAsTemplate},wasInherited:e!==o.id,environment:n,store:o,sudoModeStore:p.sudoModeStore,location:"published_site_settings"})))return u().V(),void m().D6({label:(0,I.jsx)(s().sA,{id:"siteSettingsEditor.publishChanges.failure",defaultMessage:"Something went wrong, please try again later"})});g.enable_duplicate_as_template=p.enableDuplicateAsTemplate}u().V(),(0,w().Kz)(n,{settings_changed:g}),m().D6({label:(0,I.jsx)(s().sA,{id:"siteSettingsEditor.publishChanges.confirmation",defaultMessage:"Changes published"})})}function R(e,t){const n=e.map((e=>({type:"block",blockId:e})));if((t||0!==n.length)&&(!t||!(0,l().n4)(n,t)))return n}function W(e){A().A.setState({...A().A.state,faviconUrl:e})}function H(e){A().A.setState({...A().A.state,previewImageUrl:e})}function E(e){A().A.setState({...A().A.state,hideBreadcrumbs:e})}function V(e){A().A.setState({...A().A.state,hideSearch:e})}function F(e){A().A.setState({...A().A.state,hideWatermark:e})}function z(e){A().A.setState({...A().A.state,hideShare:e})}function O(e){A().A.setState({...A().A.state,enableDuplicateAsTemplate:e})}function q(e){const t=A().A.state.customHeaderBlockIds.concat([e]);A().A.setState({...A().A.state,customHeaderBlockIds:t})}function J(e){const t=A().A.state.customHeaderBlockIds.filter((t=>t!==e));A().A.setState({...A().A.state,customHeaderBlockIds:t})}function K(e){A().A.setState({...A().A.state,googleAnalyticsId:e})}function $(e){A().A.setState({...A().A.state,theme:e})}async function Y(e){const{environment:t,spaceStore:n,query:i,siteRootBlockId:o}=e;if(!n)return;const r=await c().callApi({eventName:"searchPagesInSite",environment:t,data:{query:i,spaceId:n.id,filters:a().N2({isDeletedOnly:!1,navigableBlockContentOnly:!0,excludeTemplates:!0,editedBy:[],ancestors:[o],inTeams:[]}),sort:{field:"relevance"},limit:10}});return"failed"!==r.type?r.data:void 0}async function G(e){const{environment:t,blockStore:n,slug:i}=e,o=await c().callApi({eventName:"updatePublicPageSlug",environment:t,data:{spaceId:n.getSpaceId(),blockId:n.id,slug:i,clientVersion:f().A.version}});if("success"!==o.type)return{error:o};m().D6({label:(0,I.jsx)(s().sA,{id:"customSlugInput.updateSuccess.toast",defaultMessage:"Successfully updated URL for this page"})})}function Q(e){A().A.setState({...A().A.state,enableQna:e})}function Z(e){const{environment:t,store:n,pageVisitSource:i}=e,o=b().R({store:n,pageVisitSource:i});g().f({environment:t,url:o})}function X(e){const{environment:t,siteStore:n,embedSettings:i}=e;h().createAndCommit({userAction:"embedSite.updateEmbedSettings",environment:t,canUndo:!0,perform:e=>{p().zv({store:n.getSettingsStore(),data:{embedSettings:i},transaction:e})}})}},541235:(e,t,n)=>{n.d(t,{YD:()=>r,c$:()=>i,q_:()=>o});const i={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]}},o="completed",r="dismissed"},544862:(e,t,n)=>{n.d(t,{A:()=>C});var i=n(296540),o=()=>n(484714),r=()=>n(56366),a=()=>n(959013),s=()=>n(896628),l=()=>n(454531),d=()=>n(751156),c=()=>n(478726),u=()=>n(227440),p=()=>n(867772),g=()=>n(681810),m=()=>n(608581),h=()=>n(145214),f=()=>n(704152),v=()=>n(807683),S=()=>n(401497),y=()=>n(534177),b=n(474848);function x(e){let{src:t,placeholderSrc:n,placeholderBehavior:o,imageStyle:r,containerStyle:a,onLoadComplete:s,testId:l}=e;const[d,c]=(0,i.useState)(!0);let u;switch(o){case"force-show-placeholder":u=!0;break;case"force-show-src":u=!1;break;case"show-placeholder-if-loading-src":u=!!n&&(d||void 0===t);break;default:(0,y().HB)(o)}const p=(0,S().IS)((()=>{const e={gridColumn:1,gridRow:1};return{container:{display:"grid",...a},srcWrapper:{...u&&{display:"none"},...e},placeholderWrapper:{pointerEvents:"none",...e}}}),[a,u]);(0,i.useEffect)((()=>{void 0!==t&&c(!0)}),[t]);const g=(0,i.useCallback)((e=>{c(!1),null==s||s()}),[s]);return(0,b.jsxs)("div",{style:p.container,children:[(0,b.jsx)(v().Ay,{src:t,onLoad:g,style:r,placeholderStyle:p.srcWrapper,placeholderLoadedStyle:p.srcWrapper,testId:l}),n&&(0,b.jsx)(v().Ay,{src:n,style:r,placeholderStyle:p.placeholderWrapper,placeholderLoadedStyle:p.placeholderWrapper})]})}var A=()=>n(453101);const C=function(e){let{store:t,disabled:a,paddingRight:l,paddingLeft:c,height:u,proxyWidth:m}=e;const h=(0,o().v3)(),f=(0,o().Y0)(),S=(0,r().uB)(void 0,n(454305).A),y=(0,r().K8)((()=>a||"suggest"===n(77246).Uv.getMode(t)||(0,n(600871).aD)(f)),[a,t,f]),A=(0,r().K8)((()=>t.getCover()),[t]),C=(0,r().O$)(g().A),[M,P]=(0,i.useState)(void 0);if(!A)return null;const k=C.loadingMode!==p().pF&&C.loadingMode!==p().Wc;return(0,b.jsx)(n(801678).A,{mouseStore:S,onFlushTemporaryPosition:e=>function(e,t,n){const{imagePosition:i,reset:o}=e;d().createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:n,canUndo:!0,perform:e=>{s().yY({store:t,coverPosition:i,transaction:e}),o()}})}(e,t,h),renderControl:e=>{let{handleRepositionClick:n,handleSavePositionClick:i,handleCancelClick:o,isVisible:r,isRepositioning:a}=e;return(0,b.jsx)(I,{handleRepositionClick:n,handleSavePositionClick:i,handleCancelClick:o,isVisible:r,isRepositioning:a,lastProxiedUrl:M,store:t,disabled:y,paddingRight:l,paddingLeft:c,mouseStore:S})},source:"page",store:t,style:{display:"flex",flexDirection:"column",alignItems:"center",height:u,maxHeight:280,cursor:"default"},preventClickPropagation:!0,render:e=>(0,b.jsxs)(i.Fragment,{children:[(0,b.jsx)(n(360083).A,{url:A.cover,isAuthenticated:!0,permissionRecord:A.pointer,width:m,onFinishedLoadingProxyUrl:P,render:(t,n)=>{const i={width:"100%",height:u,maxHeight:280,objectFit:"cover",opacity:k?.5:1,objectPosition:`center ${100*(1-(e.imagePosition||0))}%`,borderRadius:0},o={width:"100%",height:u,maxHeight:280};return(0,b.jsx)(x,{src:n,placeholderSrc:k?C.dataURL:void 0,placeholderBehavior:k?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:o,imageStyle:i,onLoadComplete:w,testId:"pageCover"})}}),k&&(0,b.jsxs)("div",{style:v().fd,children:[(0,b.jsx)(n(331542).A,{size:"md",style:{marginRight:4}}),(0,b.jsx)("div",{style:{minWidth:30,textAlign:"right"},children:void 0!==C.uploadProgress?(0,b.jsx)(n(773382).A,{percentage:C.uploadProgress}):C.progressText?(0,b.jsx)("span",{children:C.progressText}):null})]})]})})};function w(){g().A.reset()}function I(e){let{isVisible:t,isRepositioning:n,handleCancelClick:s,handleRepositionClick:d,handleSavePositionClick:v,lastProxiedUrl:S,store:y,disabled:x,paddingRight:C,paddingLeft:w,mouseStore:I}=e;const M=(0,o().v3)(),P=(0,a().tz)(),k=(0,i.useCallback)((e=>function(e,t,n,i,o){o.reset();const r=e.target.getBoundingClientRect();l().W({environment:t,intl:n,store:i,rect:r,from:"page_header"})}(e,M,P,y,I)),[M,P,y,I]),j=(0,r().K8)((()=>g().A.state.loadingMode),[]),T=(0,r().K8)((()=>function(e){let t;return t=Boolean(e.isFullWidth())?"100%":c().x6,t}(y)),[y]),{device:D}=M,_=(0,r().O$)(u().e);if(x||j!==p().pF||!_)return null;const{isMobile:B}=D;return(0,b.jsx)(h().A,{animate:{width:T,opacity:t?1:0},style:{position:"absolute",pointerEvents:t?"auto":"none",maxWidth:"100%",top:48},children:(0,b.jsxs)(m().A,{isVisible:t,position:"bottom",style:{marginRight:C,marginLeft:w},children:[!n&&(0,b.jsx)(f().A,{style:{borderRight:B?"none":void 0,...A().k},onClick:k,children:(0,b.jsx)(a().sA,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})}),!n&&!B&&(0,b.jsx)(f().A,{style:{...A().k,borderRight:"none"},onClick:e=>d(e,S),children:(0,b.jsx)(a().sA,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})}),n&&!B&&(0,b.jsx)(f().A,{style:A().k,onClick:v,children:(0,b.jsx)(a().sA,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})}),n&&!B&&(0,b.jsx)(f().A,{style:{...A().k,borderRight:"none"},onClick:s,children:(0,b.jsx)(a().sA,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"})})]})})}},555267:(e,t,n)=>{n.d(t,{A:()=>l});var i=n(296540),o=()=>n(401497),r=()=>n(62856),a=()=>n(331542),s=n(474848);function l(e){let{loadingMessage:t}=e;const n=(0,o().DP)(),l=(0,r().A)(!0,400);return(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l?(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(a().A,{}),t?(0,s.jsx)("div",{style:{marginLeft:8,color:n.text.secondary},children:t}):void 0]}):void 0})}},556048:(e,t,n)=>{n.d(t,{C8:()=>p,Dz:()=>l,GC:()=>m,GL:()=>h,YY:()=>g,dM:()=>c,h9:()=>d,jX:()=>s,oF:()=>u,uj:()=>a});var i=()=>n(645873);const o={JiraSyncInfoPopup:new(i().O2)("JiraSyncInfoPopup",(async()=>await Promise.all([n.e(75134),n.e(68744)]).then(n.bind(n,408453)))),ImproveJiraSyncPopup:new(i().O2)("ImproveJiraSyncPopup",(async()=>await Promise.all([n.e(75134),n.e(2686)]).then(n.bind(n,484967)))),JiraDCAuthModal:new(i().O2)("JiraDCAuthModal",(async()=>await n.e(28763).then(n.bind(n,992567)))),ExternalImportAndSyncIndicator:new(i().O2)("ExternalImportAndSyncIndicator",(async()=>await n.e(98288).then(n.bind(n,244399)))),JiraSyncedAllProjectsTooltip:new(i().O2)("JiraSyncedAllProjectsTooltip",(async()=>await n.e(21446).then(n.bind(n,470020)))),JiraSyncedAllIssuesTooltip:new(i().O2)("JiraSyncedAllIssuesTooltip",(async()=>await n.e(21446).then(n.bind(n,470020)))),JiraSyncedDatabaseViewsAndFiltersTooltip:new(i().O2)("JiraSyncedDatabaseViewsAndFiltersTooltip",(async()=>await n.e(21446).then(n.bind(n,470020)))),JiraSyncSourceTooltip:new(i().O2)("JiraSyncSourceTooltip",(async()=>await n.e(21446).then(n.bind(n,470020)))),JiraSyncedSettingsToSetupProjectsAndIssuesTooltip:new(i().O2)("JiraSyncedSettingsToSetupProjectsAndIssuesTooltip",(async()=>await n.e(21446).then(n.bind(n,470020))))},r={JiraSyncTeamSpaceModal:new(i().O2)("JiraSyncTeamSpaceModal",(async()=>Promise.all([n.e(75134),n.e(92845),n.e(84468),n.e(5605),n.e(48486),n.e(95794),n.e(13677),n.e(56952),n.e(25497),n.e(74562),n.e(27711),n.e(30291),n.e(12913),n.e(28464),n.e(6463),n.e(50569),n.e(93449),n.e(56188)]).then(n.bind(n,604698))))},a=(0,i()._h)(r.JiraSyncTeamSpaceModal,(e=>e.default)),s=(0,i()._h)(o.JiraSyncedAllProjectsTooltip,(e=>e.JiraSyncedAllProjectsTooltip)),l=(0,i()._h)(o.JiraDCAuthModal,(e=>e.default)),d=(0,i()._h)(o.JiraSyncedAllIssuesTooltip,(e=>e.JiraSyncedAllIssuesTooltip)),c=(0,i()._h)(o.JiraSyncedDatabaseViewsAndFiltersTooltip,(e=>e.JiraSyncedDatabaseViewsAndFiltersTooltip)),u=(0,i()._h)(o.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip,(e=>e.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip)),p=(0,i()._h)(o.JiraSyncSourceTooltip,(e=>e.JiraSyncSourceTooltip)),g=(0,i()._h)(o.JiraSyncInfoPopup,(e=>e.JiraSyncInfoPopup)),m=(0,i()._h)(o.ImproveJiraSyncPopup,(e=>e.ImproveJiraSyncPopup)),h=(0,i()._h)(o.ExternalImportAndSyncIndicator,(e=>e.ExternalImportAndSyncIndicator));(0,n(340498).xh)("jira",{default:{loader:()=>n.e(60677).then(n.bind(n,460677)),size:20},small:{loader:()=>n.e(60677).then(n.bind(n,460677)),size:16},mini:{loader:()=>n.e(60677).then(n.bind(n,460677)),size:14},large:{loader:()=>n.e(60677).then(n.bind(n,460677)),size:24}})},567121:(e,t,n)=>{n.d(t,{EG:()=>a,K5:()=>r,RH:()=>o,Yi:()=>s,ls:()=>i});const i=32,o=202,r=1e3,a="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",s="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},578194:(e,t,n)=>{n.d(t,{r:()=>i});const i=(0,n(583835).Dv)("importEvernote")},608581:(e,t,n)=>{n.d(t,{A:()=>u});n(898992),n(354520),n(581454),n(941795);var i=n(296540),o=()=>n(401497),r=()=>n(955825),a=()=>n(284371),s=()=>n(780054),l=()=>n(963575),d=n(474848);function c(e){const{button:t,isLast:n}=e,s=(0,o().IS)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:a().Wy.medium,borderRight:`1px solid ${e.regularDividerColor}`,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor},buttonLast:{borderRight:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return i.cloneElement(t,{...(0,r().AH)(t.props.style,s.button,n&&s.buttonLast),hoveredStyle:(0,r().AH)(s.buttonHovered,n&&s.buttonLast).style,pressedStyle:s.buttonPressed})}const u=function(e){let{children:t,isVisible:u,position:p,style:g}=e;const m=(0,o().IS)((e=>({container:{color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.shadowSM,display:"flex",whiteSpace:"nowrap",borderRadius:l().A.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:s().A.isMobile?"auto":"none",opacity:s().A.isMobile?1:0,fontFamily:a().vc(n(662303).locale).sans,position:"absolute",right:l().A.horizontal.small,bottom:l().A.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:l().A.vertical.small,bottom:void 0}})),[]),h=i.Children.toArray(t).filter(n(534177).O9),f=h.length;return(0,d.jsx)(n(145214).A,{animate:{opacity:u?1:0},...(0,r().AH)(m.container,g,u&&m.containerHover,"top"===p&&m.containerTop),children:h.map(((e,t)=>{const o=t===f-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===n(859428).A&&i.isValidElement(e))return i.cloneElement(e,{render:(t,n)=>{const i=e.props.render(t,n);return(0,d.jsx)(c,{isLast:o,button:i},e.key)}});if(e.type===n(704152).A&&i.isValidElement(e))return(0,d.jsx)(c,{isLast:o,button:e},e.key)}}))})}},612900:(e,t,n)=>{n.d(t,{u:()=>r});var i=()=>n(645873);const o=new(i().O2)("PulsingWrapper",(async()=>n.e(45248).then(n.bind(n,673962)))),r=(0,i().jQ)(o,(e=>e.PulsingWrapper),{renderLoading:(e,t)=>t.children})},625634:(e,t,n)=>{n.d(t,{_:()=>o,z:()=>r});var i=()=>n(340498);const o={small:"md",default:"lg",large:"xl"},r={small:i().Ev.xs,default:i().Ev.sm,large:i().Ev.sm}},676870:(e,t,n)=>{n.d(t,{EN:()=>o,Ex:()=>r,NZ:()=>a,T6:()=>l,i_:()=>s,kW:()=>d});var i=()=>n(2220);function o(e,t){(0,i().u)({environment:e,event:{eventName:"open_publish_modal",eventProperties:t}})}function r(e,t){(0,i().u)({environment:e,event:{eventName:"change_domain",eventProperties:t}})}function a(e,t){(0,i().u)({environment:e,event:{eventName:"update_seo_settings",eventProperties:t}})}function s(e,t){(0,i().u)({environment:e,event:{eventName:"site_set_link_expiration",eventProperties:t}})}function l(e,t){(0,i().u)({environment:e,event:{eventName:"page_unpublish",eventProperties:t}})}function d(e,t){(0,i().u)({environment:e,event:{eventName:"page_publish",eventProperties:t}})}},681810:(e,t,n)=>{n.d(t,{A:()=>i});const i=new(n(867772).Ay)},701751:(e,t,n)=>{n.d(t,{p:()=>r});n(296540);var i=n(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"3.97 1.94 14.91 15.66",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M10.55 12.808a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 1 0 1.1 0z"}),(0,i.jsx)("path",{d:"M15.4 1.95a3.48 3.48 0 0 0-3.48 3.48v1.92H6.4a2.425 2.425 0 0 0-2.425 2.425v5.4A2.425 2.425 0 0 0 6.4 17.6h7.2a2.425 2.425 0 0 0 2.425-2.425v-5.4A2.425 2.425 0 0 0 13.6 7.35h-.43V5.43a2.23 2.23 0 1 1 4.46 0v2.095a.625.625 0 1 0 1.25 0V5.43a3.48 3.48 0 0 0-3.48-3.48M5.225 9.775c0-.649.526-1.175 1.175-1.175h7.2c.649 0 1.175.526 1.175 1.175v5.4c0 .649-.526 1.175-1.175 1.175H6.4a1.175 1.175 0 0 1-1.175-1.175z"})]})},r=(0,n(340498).wt)("lockOpen",o)},735790:(e,t,n)=>{n.d(t,{M:()=>r});n(296540);var i=n(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.25 15.25 11.5",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M3 7.375h6.829a2.501 2.501 0 0 0 4.842 0H17a.625.625 0 1 0 0-1.25h-2.329a2.501 2.501 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25M12.25 5.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5"}),(0,i.jsx)("path",{fillRule:"evenodd",d:"M7.75 15.75a2.5 2.5 0 0 0 2.421-1.875H17a.625.625 0 1 0 0-1.25h-6.829a2.5 2.5 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25h2.329A2.5 2.5 0 0 0 7.75 15.75m0-1.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"})]})},r=(0,n(340498).wt)("sliders",o)},739135:(e,t,n)=>{n.d(t,{KD:()=>d,gt:()=>c,i9:()=>l,ll:()=>a,tb:()=>s,x$:()=>r});var i=()=>n(541235),o=()=>n(496603);function r(e,t){return a(c(e,t))}function a(e){return void 0!==e&&(e===i().q_||e===i().YD)}function s(e,t){if(a(t))return;const n=i().c$[e],o=n.steps.findIndex((e=>e.id===t));return-1===o?n.steps[0].id:o===n.steps.length-1?i().q_:n.steps[o+1].id}function l(e,t){const n=c(e,t);if(n&&!a(n))return s(t,n)}function d(e,t){const n=c(e,t);if(n)return function(e,t){const n=i().c$[e];var r;if(a(t))return null===(r=(0,o().HV)(n.steps))||void 0===r?void 0:r.id;const s=n.steps.findIndex((e=>e.id===t));return-1!==s&&0!==s?n.steps[s-1].id:void 0}(t,n)}function c(e,t){var n;if(!e)return;const o=((null===(n=e.getSettings())||void 0===n?void 0:n.tutorials)||{})[t];return void 0===o?i().c$[t].steps[0].id:o}},742117:(e,t,n)=>{n.d(t,{V:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("chevronRight",{viewBox:"0 0 16 16",directional:!0,svg:(0,i.jsx)("path",{d:"M12.375 8.06445C12.375 7.83203 12.2861 7.63379 12.1084 7.45605L6.77637 2.24023C6.62598 2.08984 6.44141 2.01465 6.22266 2.01465C5.77832 2.01465 5.42285 2.35645 5.42285 2.80078C5.42285 3.01953 5.51172 3.21777 5.66211 3.375L10.4746 8.06445L5.66211 12.7539C5.51855 12.9043 5.42285 13.1025 5.42285 13.3213C5.42285 13.7725 5.77832 14.1143 6.22266 14.1143C6.44141 14.1143 6.62598 14.0391 6.77637 13.8887L12.1084 8.67285C12.293 8.49512 12.375 8.29688 12.375 8.06445Z"})})},747671:(e,t,n)=>{n.d(t,{Q:()=>i,a:()=>o});let i=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e}({});class o extends(()=>n(757695))().Store{getInitialState(){return{dayStoreMap:new Map,isDragging:!1,startingMonth:0}}}},748539:(e,t,n)=>{n.d(t,{f:()=>i});const i=new(n(645873).O2)("pageCovers",(async()=>{const{pageCovers:e}=await n.e(40198).then(n.bind(n,519737));return e}))},756114:(e,t,n)=>{n.d(t,{D:()=>i});function i(e,t){t.route.name;return!1}},788621:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,personCircleIcon:()=>r});n(296540);var i=n(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.26 15.25",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M7.755 6.169C8.277 5.519 9.05 5.125 10 5.125s1.723.393 2.245 1.044c.51.635.75 1.474.75 2.346s-.24 1.71-.75 2.346c-.522.65-1.294 1.044-2.245 1.044-.95 0-1.723-.394-2.245-1.044-.51-.635-.75-1.474-.75-2.346s.24-1.711.75-2.346m.975.782c-.293.365-.475.909-.475 1.564s.182 1.198.475 1.564c.281.35.694.576 1.27.576s.989-.226 1.27-.576c.294-.366.475-.909.475-1.564s-.181-1.199-.475-1.564c-.281-.35-.693-.576-1.27-.576-.576 0-.989.225-1.27.576"}),(0,i.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 0 0-4.087 11.267c.789-1.397 2.333-2.33 4.087-2.33s3.298.933 4.087 2.33A6.375 6.375 0 0 0 10 3.625M13.049 15.6c-.547-1.049-1.697-1.789-3.05-1.789-1.351 0-2.501.74-3.048 1.789a6.35 6.35 0 0 0 3.049.775 6.34 6.34 0 0 0 3.049-.775"})]})},r=(0,n(340498).wt)("personCircle",o)},801678:(e,t,n)=>{n.d(t,{A:()=>m});var i=n(296540),o=()=>n(662303),r=()=>n(56366),a=()=>n(959013),s=()=>n(381349),l=()=>n(496603),d=()=>n(284371),c=()=>n(720665),u=()=>n(145214),p=n(474848);const g={isRepositioning:!1};const m=function(e){const t=(0,i.useRef)(null),o=(0,n(484714).v3)(),[a,s]=(0,i.useState)(g),d=(0,i.useCallback)((()=>{s(g)}),[]),{renderControl:u,onFlushTemporaryPosition:m,style:f,source:v,store:S}=e,{isRepositioning:y,image:b,startDragRenderedPosition:x,startDragImageScreenHeight:A}=a,C=(0,r().K8)((()=>0===n(502438).default.state.stores.length),[]),[w,I]=(0,i.useState)(!1),M=(0,r().uB)(e.mouseStore,n(454305).A),P=(0,r().K8)((()=>M.state.mouseEntered),[M]),k=(0,n(401497).IS)((()=>({dragContainer:{width:"100%",cursor:y?"move":"inherit"},container:{position:"relative",width:"100%",zIndex:1}})),[y]),j=(0,r().K8)((()=>function(e,t,n){return(0,l().Et)(n)?n:function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,l().Et)(e))return e}const n=.5;if(t.isCollectionView()){const e=t.getCollectionStore();if(e){const t=e.getFormat().collection_cover_position;return(0,c().pN)(t)?n:t}}const i=t.getFormat(),o=i.page_cover_position;if((0,l().Et)(o))return o;return n}(e,t)}(v,S,a.temporaryPosition)),[a.temporaryPosition,v,S]);(0,i.useEffect)((()=>{const e=e=>{const n=t.current;n&&!n.contains(e.target)&&y&&m({imagePosition:j,reset:()=>{M.reset(),d()}})};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)}),[j,y,M,m,d]),y&&!C&&d();const T=(0,i.useMemo)((()=>(0,l().nF)((e=>{M.setState({...M.state,mouseEntered:!0})}),100)),[M]),D=(0,i.useMemo)((()=>(0,l().sg)((e=>{M.setState({...M.state,mouseEntered:!1})}),100)),[M]),_=(0,i.useCallback)(((e,t)=>{n(778417).IU({environment:o});const i=new Image;i.onload=()=>{s((e=>({...e,isRepositioning:!0,image:i})))},t&&(i.src=t)}),[o]),B=(0,i.useCallback)((e=>{m({imagePosition:j,reset:()=>{d()}})}),[j,m,d]),N=(0,i.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,n(819121).p)(t)&&I(!0)}),[]),U=(0,i.useCallback)((()=>{I(!0)}),[]),L=(0,i.useCallback)((e=>{if(b&&y){const e=t.current;if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/b.width*b.height;s((e=>({...e,startDragImageScreenHeight:t,startDragRenderedPosition:j})))}}}),[b,j,y]),R=(0,i.useCallback)((e=>{if(y){const t=e.diffY/(A||0)+(x||0);s((e=>({...e,temporaryPosition:(0,l().LI)((0,n(40845).A)(t,0,1),4)})))}}),[y,A,x]),W=(0,i.useCallback)((()=>{s((e=>({...e,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})))}),[]),H=(0,r().K8)((()=>u({handleRepositionClick:_,handleSavePositionClick:B,handleCancelClick:d,isVisible:P||w||y,isRepositioning:y})),[_,B,w,y,P,u,d]),E=(0,n(79043).A)(Boolean(e.preventClickPropagation));return(0,p.jsxs)("div",{ref:t,onFocus:N,onBlur:U,onMouseEnter:T,onMouseMove:T,onMouseLeave:D,...E,...(0,n(955825).AH)(k.container,f),children:[(0,p.jsx)(n(603820).A,{onDraggableDragStart:L,onDraggableDragMove:R,onDraggableDragEnd:W,onDraggableDragCancel:W,disabled:!y,render:t=>(0,p.jsx)("div",{style:k.dragContainer,...t,children:e.render({imagePosition:j,isRepositioning:y})})}),(0,p.jsx)(h,{small:e.small,isRepositioning:y}),H]})};function h(e){let{small:t,isRepositioning:n}=e;if(t)return null;const i={background:s().Ay.blackWithAlpha(.4),borderRadius:4,color:s().Ay.white,fontSize:12,fontFamily:d().vc(o().locale).sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"};return(0,p.jsx)(u().A,{visible:n,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:i,children:(0,p.jsx)(a().sA,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})}},843189:(e,t,n)=>{n.d(t,{E:()=>a});var i=n(296540),o=()=>n(960715),r=n(474848);const a=i.forwardRef(((e,t)=>{let{children:i,color:a,disabled:s,iconLeading:l,iconStyle:d,iconTrailing:c,isLoading:u,shape:p="default",size:g="md",style:m,...h}=e;const f=(0,n(963589).X)("nds_button_gap")||Boolean(c),v=(0,n(401497).IS)((e=>{const t=a?`${a}Primary`:"primary",r=a||"regular",c=a?`${a}Hover`:"primaryHover",h=a?`${a}Pressed`:"primaryPressed";return{button:{...(0,o().qq)({shape:p,size:g,hasIconOnly:Boolean(l)&&!i,isButtonGapEnabled:f}),justifyContent:"center",color:e.text[t],background:e.tint[r],opacity:s||u?.3:1,fontWeight:n(284371).Wy.medium,...m},hovered:{background:s?e.tint[r]:e.tint[c]},pressed:{background:s?e.tint[r]:e.tint[h]},icon:{...(0,o().D3)({size:g,hasIconOnly:!i,isButtonGapEnabled:f}),...d}}}),[i,a,s,l,d,f,u,p,g,m]);return(0,r.jsxs)(n(197190).A,{ref:t,style:v.button,hoveredStyle:v.hovered,pressedStyle:v.pressed,disabled:s||u,...h,children:[u?(0,r.jsx)(n(331542).A,{style:{marginRight:4}}):null,l?l(v.icon):null,i,c?c(v.icon):null]})}));a.displayName="TintButton"},867772:(e,t,n)=>{n.d(t,{Ay:()=>l,Gi:()=>r,Wc:()=>i,pF:()=>a,vS:()=>o});const i="loadingLocalImage",o="uploading",r="downloading",a="loaded";class s extends(()=>n(757695))().Store{getInitialState(){return{loadingMode:a}}}const l=s},882827:(e,t,n)=>{n.d(t,{p:()=>a});n(296540);var i=()=>n(783982),o=()=>n(340498),r=n(474848);function a(e,t){const{viewBox:n,svg:a}=t,s=n??`0 0 ${o().Ev.default} ${o().Ev.default}`;return Object.assign((t=>{let{style:n,className:o,label:l,animationState:d}=t;const c=o?`${e} ${o}`:e;return(0,r.jsx)(i().A,{viewBox:s,className:c,style:n,label:l,children:a(d)})}),{__iconDefinition:{viewBox:s,svg:a("initial")}})}},964492:(e,t,n)=>{n.d(t,{e:()=>c});var i=n(296540),o=()=>n(132855),r=()=>n(59442),a=n(474848);const s={viewBox:"2.37 2.37 15.25 15.26",svg:e=>{const t=(0,n(206267).JW)(),i="all 0.548s linear(\n    \t\t\t\t\t\t0, 0.006, 0.022 2%, 0.091 4.3%, 0.52 14%, 0.624, 0.71 19.3%, 0.784,\n    \t\t\t\t\t\t0.846 24.9%, 0.895 27.9%, 0.934, 0.961 34.4%, 0.98 37.9%, 0.993 42%,\n    \t\t\t\t\t\t1.001 46.8%, 1.004 55.3%, 1\n  \t\t\t\t\t\t)",o={transformOrigin:"bottom center",transition:i},r={translate:"0 -14px",scale:"70%",opacity:0},s={translate:"0 10px",scale:"70%",opacity:0,transformOrigin:"top center",transition:i},l={translate:"0 0",scale:"100%",opacity:1};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:t,children:(0,a.jsx)("rect",{x:"2.5",y:"2.5",width:"15",height:"15",rx:"7.5"})})}),(0,a.jsx)("rect",{x:"2.5",y:"2.5",width:"15",height:"15",rx:"7.5"}),(0,a.jsx)("g",{clipPath:`url(#${t})`,children:(0,a.jsx)("path",{style:{...o,..."animate"===e?r:{}},d:"M13.0419 9.55439C12.7978 9.79847 12.4021 9.79847 12.158 9.55439L10.625 8.02136L10.625 13.4874C10.625 13.8326 10.3452 14.1124 10 14.1124C9.65482 14.1124 9.375 13.8326 9.375 13.4874L9.375 8.02131L7.84192 9.5544C7.59784 9.79847 7.20211 9.79847 6.95804 9.5544C6.71396 9.31032 6.71396 8.91459 6.95803 8.67051L9.55803 6.07051C9.67524 5.9533 9.83421 5.88745 9.99997 5.88745C10.1657 5.88745 10.3247 5.9533 10.4419 6.07051L13.0419 8.67051C13.286 8.91459 13.286 9.31032 13.0419 9.55439Z",fill:"white"})}),(0,a.jsx)("g",{clipPath:`url(#${t})`,children:(0,a.jsx)("path",{style:{...s,..."animate"===e?l:{}},d:"M13.0419 9.55439C12.7978 9.79847 12.4021 9.79847 12.158 9.55439L10.625 8.02136L10.625 13.4874C10.625 13.8326 10.3452 14.1124 10 14.1124C9.65482 14.1124 9.375 13.8326 9.375 13.4874L9.375 8.02131L7.84192 9.5544C7.59784 9.79847 7.20211 9.79847 6.95804 9.5544C6.71396 9.31032 6.71396 8.91459 6.95803 8.67051L9.55803 6.07051C9.67524 5.9533 9.83421 5.88745 9.99997 5.88745C10.1657 5.88745 10.3247 5.9533 10.4419 6.07051L13.0419 8.67051C13.286 8.91459 13.286 9.31032 13.0419 9.55439Z",fill:"white"})})]})}},l=(0,n(882827).p)("arrowInCircleUpAnimated",s);const d={eligible_for_upgrade:{icon:{type:"animated",iconFn:l},iconColor:"uiBluePrimary",highlightColor:"uiBluePrimary",label:{button:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.outlineButton",defaultMessage:"Upgrade now"})},text:e=>{let{intl:t,productDisplayName:n,renderTextHighlight:i}=e;return t.formatMessage({id:"upgrade.text",defaultMessage:"<highlight>Upgrade</highlight> {hasProductDisplayName, select, true {to {productName}} other {for access}}"},{highlight:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i?i(t):t},hasProductDisplayName:Boolean(n),productName:n})},icon:e=>{let{intl:t,productDisplayName:n}=e;return t.formatMessage({id:"upgrade.iconTooltip",defaultMessage:"Upgrade {hasProductDisplayName, select, true {to {productName}} other {}} for access"},{hasProductDisplayName:Boolean(n),productName:n})}}},eligible_for_trial:{icon:{type:"animated",iconFn:n(201361).P},iconColor:"orangePrimary",highlightColor:"orangeSecondary",label:{button:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.trial.button",defaultMessage:"Try for free"})},text:e=>{let{intl:t,renderTextHighlight:n}=e;return t.formatMessage({id:"upgrade.trial.text",defaultMessage:"<highlight>Try</highlight> for free"},{highlight:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n?n(t):t}})},icon:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.trial.iconTooltip",defaultMessage:"Try for free"})}}},sales_eligible:{icon:{type:"static",iconFn:r().paperPlaneFillIcon},iconColor:"secondary",highlightColor:"secondary",label:{button:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.sales.button",defaultMessage:"Contact sales"})},text:e=>{let{intl:t,renderTextHighlight:n}=e;return t.formatMessage({id:"upgrade.sales.text",defaultMessage:"<highlight>Contact sales</highlight> to learn more"},{highlight:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n?n(t):t}})},icon:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.sales.iconTooltip",defaultMessage:"Contact sales to learn more"})}}},sales_assisted:{icon:{type:"static",iconFn:r().paperPlaneFillIcon},iconColor:"secondary",highlightColor:"secondary",label:{button:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.sales.button",defaultMessage:"Contact sales"})},text:e=>{let{intl:t,renderTextHighlight:n}=e;return t.formatMessage({id:"upgrade.sales.text",defaultMessage:"<highlight>Contact sales</highlight> to learn more"},{highlight:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n?n(t):t}})},icon:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.sales.iconTooltip",defaultMessage:"Contact sales to learn more"})}}},eligible_to_request:{icon:{type:"animated",iconFn:l},iconColor:"uiBluePrimary",highlightColor:"uiBluePrimary",label:{button:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.request.button",defaultMessage:"Request"})},text:e=>{let{intl:t,productDisplayName:n,renderTextHighlight:i}=e;return t.formatMessage({id:"upgrade.request.text",defaultMessage:"<highlight>Request</highlight> {hasProductDisplayName, select, true {access to {productName}} other {access}}"},{highlight:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i?i(t):t},hasProductDisplayName:Boolean(n),productName:n})},icon:e=>{let{intl:t,productDisplayName:n}=e;return t.formatMessage({id:"upgrade.request.iconTooltip",defaultMessage:"Request {hasProductDisplayName, select, true {access to {productName}} other {access}}"},{hasProductDisplayName:Boolean(n),productName:n})}}},not_eligible:{icon:{type:"static",iconFn:o().arrowInCircleUpFillIcon},iconColor:"grayPrimary",highlightColor:"grayPrimary",label:{button:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.outlineButton",defaultMessage:"Upgrade now"})},text:e=>{let{intl:t,productDisplayName:n,renderTextHighlight:i}=e;return t.formatMessage({id:"upgrade.text",defaultMessage:"<highlight>Upgrade</highlight> {hasProductDisplayName, select, true {to {productName}} other {for access}}"},{highlight:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i?i(t):t},hasProductDisplayName:Boolean(n),productName:n})},icon:e=>{let{intl:t,productDisplayName:n}=e;return t.formatMessage({id:"upgrade.iconTooltip",defaultMessage:"Upgrade {hasProductDisplayName, select, true {to {productName}} other {}} for access"},{hasProductDisplayName:Boolean(n),productName:n})}},disabledTooltip:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.not.eligible.disabledTooltip",defaultMessage:"You're not eligible to upgrade"})}},request_pending:{icon:{type:"static",iconFn:o().arrowInCircleUpFillIcon},iconColor:"grayPrimary",highlightColor:"grayPrimary",label:{button:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.requestPending.button",defaultMessage:"Pending"})},text:e=>{let{intl:t,productDisplayName:n,renderTextHighlight:i}=e;return t.formatMessage({id:"upgrade.requestPending.text",defaultMessage:"<highlight>Requested</highlight>{space}{hasProductDisplayName, select, true {access to {productName}} other {access}}{space}is{space}<highlight>pending</highlight>"},{highlight:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i?i(t):t},space:(0,a.jsx)(a.Fragment,{children:" "}),hasProductDisplayName:Boolean(n),productName:n})},icon:e=>{let{intl:t,productDisplayName:n}=e;return t.formatMessage({id:"upgrade.requestPending.iconTooltip",defaultMessage:"Requested {hasProductDisplayName, select, true {access to {productName}} other {access}} is pending"},{hasProductDisplayName:Boolean(n),productName:n})}},disabledTooltip:e=>{let{intl:t,productDisplayName:n}=e;return t.formatMessage({id:"upgrade.requestPending.disabledTooltip",defaultMessage:"Requested {hasProductDisplayName, select, true {access to {productName}} other {access}} is pending"},{hasProductDisplayName:Boolean(n),productName:n})}}};function c(e){return i.useMemo((()=>d[e]),[e])}},976721:(e,t,n)=>{n.d(t,{Dw:()=>x,Hc:()=>b,o5:()=>y});n(16280),n(296540);var i=()=>n(857639),o=()=>n(243581),r=()=>n(340498),a=()=>n(273900),s=()=>n(161479),l=()=>n(959013),d=()=>n(496603),c=()=>n(701763),u=()=>n(901389),p=()=>n(579627),g=()=>n(751156),m=()=>n(125565),h=()=>n(247123),f=()=>n(406792),v=()=>n(630116),S=n(474848);async function y(e){let{newRole:t,...n}=e;const i=n.oldPermissionItem,o=(0,d().o8)(i);return o.role=t,await b({newPermissionItem:o,...n})}async function b(e){const{oldPermissionItem:t,newPermissionItem:n,wasInherited:o,environment:r,store:l,sudoModeStore:d,restrictingVisibility:u,fromPermissionWrapper:m,trustedDomainsLoggingData:h}=e;if(!(0,a().nK)(t,n))throw new Error("Permission type mismatch.");const S=!!d&&d.shouldSaveTransactionWithSudoMode(l),y=(0,a().$q)(t.role,n.role);if(o&&y!==n.role||u){return await x({environment:r,useSudoMode:S,store:l,permissionItem:n,fromPermissionWrapper:m,shouldInherit:!0,trustedDomainsLoggingData:h})}return l instanceof v().Bv&&!l.isTopLevel()&&t.role!==n.role&&y!==t.role&&c().MR(r),g().createAndCommit({userAction:"PermissionItem.handlePermissionItemChange",environment:r,canUndo:!0,useSudoMode:S,perform:t=>{const i=f().default.DO_NOT_USE_markLegacy("share_menu.update_page_permission_lag");p().wd({environment:r,store:l,permissionItems:[n],transaction:t,pagePermissionChangeLocation:e.location,metric:i,fromPermissionWrapper:m})}}),"trusted_domain_permission"===n.type&&i().log({level:"warning",from:"shareMenu.handlePermissionItemChange",type:"TrustedDomainPermissionChange",spaceId:(0,s().e)(l.pointer.spaceId),data:{miscDataToConvertToString:{message:"shareMenu.handlePermissionItemChange updating trusted domain permission",blockId:l.id,oldPermissionItem:t,newPermissionItem:n,trustedDomainsLoggingData:h}}}),!0}async function x(e){const{environment:t,useSudoMode:n,store:i,permissionItem:a,fromPermissionWrapper:s,shouldInherit:d,trustedDomainsLoggingData:c}=e,f="none"===(null==a?void 0:a.role)?{type:"remove",permissionItem:a}:{type:"restrict"};return!!("user_permission"===(null==a?void 0:a.type)&&(null==a?void 0:a.user_id)===t.currentUser.id||(await u().Gh({message:(0,h().r6)(f),description:(0,S.jsx)(m().A,{isSmall:!0,isMultiline:!0,children:(0,S.jsx)(l().sA,{id:"restrictedPermissionConfirmationModal.footer.whisperTextV2",defaultMessage:"Changing this will unlink this page from its parent, so it will no longer inherit share settings. Admins can still restore settings on unlinked pages."})}),acceptLabel:(0,h().QU)(f),icon:(0,o().r)({height:r().Ev.xl,width:r().Ev.xl})})).accept)&&(g().createAndCommit({userAction:"PermissionItem.onAccept",environment:t,canUndo:!0,useSudoMode:n,perform:e=>{p().wW({environment:t,store:i,permissionItem:a,shouldInherit:d,transaction:e,fromPermissionWrapper:s,trustedDomainsLoggingData:c})}}),!0)}},990402:(e,t,n)=>{n.d(t,{m:()=>o});var i=()=>n(46986);function o(e){return("workflow"===e.getType()||e.isCollectionView()&&e.getWorkflowStore())&&e.canEdit()&&!e.isSystemBlock()&&(0,i().re)()}}}]);