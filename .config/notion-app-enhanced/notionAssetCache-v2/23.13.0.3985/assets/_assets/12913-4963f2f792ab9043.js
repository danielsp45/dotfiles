"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[12913],{112698:(e,s,o)=>{o.d(s,{B:()=>g});o(296540);var i=()=>o(484714),r=()=>o(56366),t=()=>o(401497),n=()=>o(959013),l=()=>o(381349),a=()=>o(534177),d=()=>o(284371),c=()=>o(824160),u=()=>o(859428),p=()=>o(962730),m=()=>o(765957),b=()=>o(991249),f=o(474848);function g(e){let{upsell:s,mobileStyle:o,desktopStyle:l,analyticsName:d,onClick:g,disableTooltip:y}=e;const v=(0,t().DP)(),x=(0,i().v3)(),{device:A}=x,S=(0,r().K8)((()=>{const{currentSpaceStore:e}=m().default.state;return null==e?void 0:e.canAdmin()}),[]);if("none"===s.type)return null;if(A.isMobileNative)return null;const M=(()=>{switch(s.product){case"personal":return(0,f.jsx)(n().sA,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"});case"plus":return(0,f.jsx)(n().sA,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"});case"business":return(0,f.jsx)(n().sA,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"});case"enterprise":return(0,f.jsx)(n().sA,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"});case"ai":return(0,f.jsx)(n().sA,{defaultMessage:"AI ↗",id:"upgradeButton.ai.textWithArrow"});case"sites_custom_hostnames":return(0,f.jsx)(n().sA,{defaultMessage:"Custom Hostnames ↗",id:"upgradeButton.sites_custom_hostnames.textWithArrow"});default:s.product,(0,a().HB)(s.product)}})();return A.isMobile||!S?(0,f.jsx)(c().A,{mobileStyle:o,children:M}):(0,f.jsx)(u().A,{delayThreshold:120,disableTooltip:y,placement:p().W.Bottom,renderTooltip:()=>(0,f.jsx)("div",{style:{maxWidth:500},children:(0,f.jsx)(n().sA,{defaultMessage:"Upgrade to use this feature.",id:"premiumFeatureUpgradeButton.upgrade.tooltip"})}),originGap:6,render:e=>(0,f.jsx)(c().A,{desktopStyle:l,innerStyle:h(s.product,v),onClick:e=>function(e,s,o,i,r){b().K(i,{from:s,upsell:o}),r&&r(e)}(e,d,s,x,g),...e,children:M})})}function h(e,s){switch(e){case"plus":case"business":case"enterprise":return{color:s.blueColor,background:"light"===s.mode?l().Ay.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:d().Wy.medium};default:return{}}}},747788:(e,s,o)=>{o.d(s,{R:()=>v,Y:()=>y});o(296540);var i=()=>o(484714),r=()=>o(401497),t=()=>o(883234),n=()=>o(568625),l=()=>o(236262),a=()=>o(273900),d=()=>o(433847),c=()=>o(946064),u=()=>o(96689),p=()=>o(959013),m=()=>o(381349),b=()=>o(534177),f=()=>o(963589),g=()=>o(493823),h=o(474848);function y(e){let{type:s,role:o,events:l,disabled:a,buttonStyle:d,buttonContents:c,icon:u,table:m,isCurrentUser:b,from:y}=e;const{isMobile:x}=(0,i().Y0)(),A=(0,r().IS)((e=>({button:{...d},icon:{width:10,marginLeft:4,fill:e.icon.tertiary},label:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},iconContainer:{fill:e.icon.secondary,padding:2}})),[d]),S=u||!a&&t()._,M="shareMenu"===y,_=(0,f().X)("sharing_anyone_with_the_link");return x&&M?a?null:(0,h.jsx)(g().p,{...l,disabled:a,style:A.iconContainer,children:(0,n().L)({height:24,width:24})}):(0,h.jsxs)(g().p,{id:void 0,...l,disabled:a,style:A.button,children:[c||(0,h.jsx)("span",{className:"notranslate",style:A.label,children:(0,h.jsx)(p().sA,{...v({type:s,role:o,table:m,isRemovable:!1,isCurrentUser:b,isPublicShareLink:_}).label})}),S&&S(A.icon)]})}function v(e){let{type:s,role:o,table:i,isRemovable:r,isCurrentUser:t,isPublicShareLink:n}=e;if("access"===o)return{label:d().Sf.variousAccessLabel};if("limited"===o)return{label:d().Sf.limitedAccessLabel};if((0,a().II)(o))return(0,d().sK)(o,i);switch(o){case"editor":return i===u().NX||i===c().y7?{label:d().Sf.workspaceOwnerLabel,caption:d().Sf.workspaceOwnerCaption}:{label:d().Sf.fullAccessLabel,caption:d().Sf.fullAccessCaptionV2};case"membership_admin":return i===u().NX||i===c().y7?{label:d().Sf.membershipAdminLabel,caption:d().Sf.membershipAdminCaption}:{label:d().Sf.canEditLabel,caption:d().Sf.canEditCaptionV2};case"read_and_write":return i===u().NX||i===c().y7?{label:d().Sf.memberLabel,caption:d().Sf.memberCaption}:{label:d().Sf.canEditLabel,caption:d().Sf.canEditCaptionV2};case"content_only_editor":return{label:d().Sf.canEditContentLabel,caption:d().Sf.canEditContentCaption};case"reader":return{label:d().Sf.canReadLabel,caption:void 0};case"comment_only":return{label:d().Sf.canCommentLabel,caption:d().Sf.canCommentCaptionV2};case"none":if("public_permission"===s)return n?{label:r?d().Sf.publicShareLinkRemoveLabel:d().Sf.publicShareLinkNoAccessLabel,hideSelectionCheckIcon:r}:{label:d().Sf.unpublishPageLabelV2,caption:d().Sf.unpublishPageCaption};if(r){if(i===u().NX||i===c().y7)return t?{label:d().Sf.leaveWorkspaceLabel,style:{color:m().Ay.red}}:{label:d().Sf.removeFromWorkspaceLabel,style:{color:m().Ay.red}};{const e="collection_property_permission"===s;return{label:e?d().Sf.removePermissionRuleLabel:d().Sf.removeWorkspaceLabel,style:{color:m().Ay.red},icon:e?(0,l().trashIcon)({height:20,width:20,marginRight:4}):void 0}}}return{label:d().Sf.noAccessLabel,style:{color:m().Ay.red}};default:(0,b().HB)(o)}}},912913:(e,s,o)=>{o.d(s,{Ay:()=>G});o(944114),o(898992),o(354520),o(672577),o(430670),o(581454),o(296540);var i=()=>o(484714),r=()=>o(56366),t=()=>o(401497),n=()=>o(148307),l=()=>o(273900),a=()=>o(68263),d=()=>o(519831),c=()=>o(946064),u=()=>o(96689),p=()=>o(959013),m=()=>o(534177),b=()=>o(701763),f=()=>o(901389),g=()=>o(780054),h=()=>o(38337),y=()=>o(972435),v=()=>o(722872),x=()=>o(553965),A=()=>o(731320),S=()=>o(836251),M=()=>o(47170),_=()=>o(928074),k=()=>o(962730),w=()=>o(765957),j=()=>o(991249),C=()=>o(859428),P=()=>o(112698),R=o(474848);function B(e){const s=(0,i().v3)(),{render:o,upsell:r,analyticsName:t,renderUpgradeTooltip:n,onUpgradeClick:l,alwaysAllowClick:a,tooltipPlacement:d,upgradeButtonDesktopStyle:c,upgradeButtonMobileStyle:u}=e;let p,{onClick:m,renderTooltip:b}=e;return r&&"product"===r.type&&(p=(0,R.jsx)(P().B,{upsell:r,analyticsName:t,desktopStyle:{display:"inline-block",pointerEvents:"none",...c},mobileStyle:{display:"inline-block",pointerEvents:"none",...u}}),a||(m=e=>{j().K(s,{from:t,upsell:r}),l&&l(e)},b=n)),(0,R.jsx)(C().A,{renderTooltip:b||(()=>null),render:e=>o((0,x().A)(e,{onClick:m}),p),disableTooltip:!b,placement:d})}var I=()=>o(807778),L=()=>o(329304),U=()=>o(134217),T=()=>o(10984),W=()=>o(760217),O=()=>o(406699),N=()=>o(928600),F=()=>o(939740),E=()=>o(824160),K=()=>o(89924),D=()=>o(125565),X=()=>o(719147),V=()=>o(747788),H=()=>o(103448);const Y=(0,p().YK)({fullAccessTeamGuestsDisabledMessage:{id:"permissionRoleSelect.teamGuestPermissionItem.disabledPermissionitem.tooltip",defaultMessage:"Teamspace guests can’t have full access."}});const G=function(e){let{isUserPermission:s,type:n,table:b,role:f,isInvite:g,availableRoleItems:x,roleItemOverrides:S,blockType:M,onClick:_,onClose:k,origin:w,isMenuItem:j,isRemovableOverride:C,disabled:P,buttonContents:B,buttonPopupStore:I,buttonStyle:L,placementToOrigin:U,alignmentToOrigin:T,upgradeButtonName:E,onUpgradeButtonClick:X,onChange:H,onRemoveMemberClick:G,onRemoveSelfClick:$,header:z,footer:Z,showPermissionOverrideWarning:ee,from:se}=e;const oe=(0,i().v3)(),ie=(0,r().uB)(I,o(463830).A),{device:re}=oe,te=Boolean(s),ne=(0,o(963589).X)("sharing_anyone_with_the_link"),le=(0,r().K8)((()=>function(e){let{type:s,table:o,role:i,isInvite:r,availableRoleItems:t,roleItemOverrides:n,blockType:l,isPublicShareLink:p}=e;if(t&&t.length>0)return t;if("trusted_domain_permission"===s)return[{role:"reader"},{role:"none"}];if("collection_property_permission"===s)return[{role:"editor"},{role:"read_and_write"},{role:"comment_only"},{role:"reader"},{role:"none"}];if(o===d().Vl)return[{role:"editor"},{role:"read_and_write"},{role:"content_only_editor"},{role:"comment_only"},{role:"reader"},{role:"none"}];if(o===c().y7){let e=a().Gb.map((e=>({role:e})));return r&&(e=e.filter((e=>"none"!==e.role))),e}const m=[];"explicit_team_guest_permission"===s?m.push({role:"editor",disabledInfo:{isDisabled:!0,disabledMessage:y().A.formatMessage(Y.fullAccessTeamGuestsDisabledMessage)}}):"bot_permission"!==s&&"public_permission"!==s&&m.push({role:"editor"});"space"===o&&(0,A().Qu)()&&m.push({role:"membership_admin"});m.push({role:"read_and_write"}),"collection_view"!==l&&"collection_view_page"!==l||"bot_permission"===s&&"content_only_editor"!==i||"public_permission"===s||m.push({role:"content_only_editor"});o!==u().NX&&("bot_permission"!==s&&m.push({role:"comment_only"}),"bot_permission"===s&&"reader"!==i||m.push({role:"reader"}));r||m.push({role:"none"});if(!n)return m;return m.map((e=>{const s=n.find((s=>s.role===e.role));return s||e}))}({type:n,table:b,role:f,isInvite:g,availableRoleItems:x,roleItemOverrides:S,blockType:M,isPublicShareLink:ne})),[n,b,f,g,x,S,M,ne]),ae="shareMenu"===se,de=(0,r().K8)((()=>re.isMobile&&ae),[re,ae]),ce=(0,r().K8)((()=>ie.state.open),[ie]),ue=(0,t().IS)((e=>({buttonPopupSheet:{borderTopLeftRadius:12,borderTopRightRadius:12,overflow:"hidden",paddingBottom:10,background:e.surface.wash},menuList:{width:"100%",margin:"0 auto"},sectionMenuItem:{overflow:"hidden",background:e.buttonBackground,borderRadius:12,marginLeft:16,marginRight:16,marginBottom:16,borderWidth:1,borderStyle:"solid",borderColor:e.stroke.secondary,padding:void 0},scrollerStyle:{background:e.surface.wash},header:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:e.surface.wash,paddingTop:12,paddingBottom:20},headerLabel:{fontSize:16,fontWeight:o(284371).Wy.semibold,marginBottom:12},headerContent:{width:"100%"}})),[]);return(0,R.jsx)(O().Ay,{style:de?ue.buttonPopupSheet:void 0,onClick:e=>{e.preventDefault(),e.stopPropagation(),_&&_()},onClose:k,popupType:re.isMobile?O().z7.SlideUp:O().z7.Popup,buttonPopupStore:ie,open:ce,renderOrigin:e=>w||(j?(0,R.jsx)(W().A,{...e,title:(0,R.jsx)(p().sA,{...(0,V().R)({type:n,role:f,table:b,isRemovable:!1,isCurrentUser:te,isPublicShareLink:ne}).label}),focused:!1,showExtensionArrow:!0}):(0,R.jsx)(V().Y,{type:n,role:f,events:e,disabled:P,buttonContents:B,buttonStyle:L,table:b,isCurrentUser:te,from:se})),placementToOrigin:U||o(700250).UV.Bottom,alignmentToOrigin:T,render:e=>{let i,r;if((0,l().II)(f))i=[{key:"mixed_role_section",render:e=>(0,R.jsx)(K().A,{...e,topBorder:!1}),items:[{key:"mixed_role_description",render:()=>(0,R.jsx)(o(192421).F,{role:f}),action:()=>{}}]},{key:"bot_capabilities_warning",render:e=>(0,R.jsx)(K().A,{...e,topBorder:!0}),items:[{key:"warning_details",render:e=>(0,R.jsx)(o(678553).Ay,{...e,shouldWrapCaption:!0,caption:"Integration permissions cannot be changed on a page. You can manage integrations in settings."}),action:()=>{}}]},{key:"remove_bot",render:e=>(0,R.jsx)(K().A,{...e,topBorder:!0}),items:[{key:"none",render:e=>(0,R.jsx)(Q,{from:se,role:f,upgradeButtonName:E,onUpgradeButtonClick:X,focused:e.focused,props:e,availableRole:{role:"none"},isCurrentUser:Boolean(s),isRemovableOverride:C,table:b,type:n,isFromShareMenu:ae,isPublicShareLinkEnabled:ne}),action:()=>{q("none",b,f,n,E,oe,le,ne,H,X,s,G,$),e.close()}}]}];else if(i=[{key:"roles",render:e=>(0,R.jsx)(K().A,{...e,topBorder:0!==e.index,style:de?ue.sectionMenuItem:void 0}),items:le.flatMap((o=>{const i={key:o.role,render:e=>(0,R.jsx)(Q,{from:se,role:f,upgradeButtonName:E,onUpgradeButtonClick:X,focused:e.focused,props:e,availableRole:o,isCurrentUser:Boolean(s),isRemovableOverride:C,table:b,type:n,isFromShareMenu:ae,isPublicShareLinkEnabled:ne}),action:()=>{q(o.role,b,f,n,E,oe,le,ne,H,X,s,G,$),e.close()}};return ae&&"none"===o.role?[]:[o.prefixItem,i].filter(m().O9)}))}],ae){const o=le.find((e=>"none"===e.role));(null==o?void 0:o.prefixItem)&&!re.isMobile&&i.push({key:"prefix-item",render:e=>(0,R.jsx)(K().A,{...e,topBorder:!0,style:de?ue.sectionMenuItem:void 0}),items:[null==o?void 0:o.prefixItem].filter(m().O9)});const r=le.filter((e=>"none"===e.role));r.length>0&&i.push({key:"none-role",render:e=>(0,R.jsx)(K().A,{...e,topBorder:!(re.isMobile&&ae),style:de?ue.sectionMenuItem:void 0}),items:r.flatMap((o=>{const i={key:o.role,render:e=>(0,R.jsx)(Q,{from:se,role:f,upgradeButtonName:E,onUpgradeButtonClick:X,focused:e.focused,props:e,availableRole:o,isCurrentUser:Boolean(s),isRemovableOverride:C,table:b,type:n,isFromShareMenu:ae,isPublicShareLinkEnabled:ne}),action:()=>{q(o.role,b,f,n,E,oe,le,ne,H,X,s,G,$),e.close()}};return re.isMobile?[o.prefixItem,i].filter(m().O9):[i].filter(m().O9)}))})}return r=re.isMobile?{menuType:v().gu.Modal,title:(0,R.jsx)(p().sA,{id:"userPermissionsMenu.mobile.title",defaultMessage:"Select role"}),right:(0,R.jsx)(p().sA,{id:"userPermissionsMenu.mobile.doneButton.label",defaultMessage:"Done"}),onClickRight:e.close}:{menuType:v().gu.Popup,width:264},de?(0,R.jsx)(N().A,{scrollerStyle:ue.scrollerStyle,menuType:v().gu.Popup,height:"50vh",maxWidth:"100%",className:h().yw8,header:(0,R.jsxs)("div",{style:ue.header,children:[(0,R.jsx)(D().A,{style:ue.headerLabel,children:(0,R.jsx)(p().sA,{defaultMessage:"Change access",id:"PermissionRoleSelect.Header.ChangeAccess"})}),(0,R.jsx)("div",{style:ue.headerContent,children:z})]}),footer:(0,R.jsx)(R.Fragment,{children:Z}),children:(0,R.jsx)(F().Ay,{type:F().Oh.Vertical,initialFocus:void 0,sections:i,style:ue.menuList})}):(0,R.jsx)(N().A,{className:h().yw8,header:z,footer:(0,R.jsxs)(R.Fragment,{children:[Z,ee&&(0,R.jsx)(J,{})]}),...r,children:(0,R.jsx)(F().Ay,{type:F().Oh.Vertical,initialFocus:void 0,sections:i})})}})};function $(e,s,o,i){if(!i&&s!==c().y7){if((s===u().NX?a().NB(e):a().p2(e)&&!a().Km(e))&&"public_permission"!==o&&"bot_permission"!==o)return s===u().NX?(0,R.jsx)(H().A,{imageURL:n().A.images.tooltips.upsells.spaceReadAndWritePng,imageWidth:240,imageHeight:100,caption:(0,R.jsx)(p().sA,{defaultMessage:"Members cannot change workspace settings or invite new members.",id:"permissionRoleSelect.spaceReadAndWriteUpgradeTooltip.caption"}),title:(0,R.jsx)(p().sA,{defaultMessage:"Upgrade to add non-admin members",id:"permissionRoleSelect.spaceReadAndWriteUpgradeTooltip.title"})}):(0,R.jsx)(H().A,{imageURL:n().A.images.tooltips.upsells.userReadAndWritePng,imageWidth:240,imageHeight:100,caption:(0,R.jsx)(p().sA,{defaultMessage:"Users with edit access can edit a page but not share it with others.",id:"permissionRoleSelect.userReadAndWriteUpgradeTooltip.caption"}),title:(0,R.jsx)(p().sA,{defaultMessage:"Upgrade to add editors",id:"permissionRoleSelect.userReadAndWriteUpgradeTooltip.title"})})}return!1}function z(e,s){if(void 0!==s)return s;switch(e){case"user_permission":case"bot_permission":case"group_permission":case"collection_property_permission":return!0;case"space_permission":case"space_owner_permission":case"explicit_team_permission":case"team_permission":case"team_owner_permission":case"explicit_team_owner_permission":case"explicit_team_guest_permission":case"public_permission":case"trusted_domain_permission":case"exclusive_user_permission":return!1;default:(0,m().HB)(e)}}async function q(e,s,o,i,r,t,n,a,d,m,h,y,v){var x,A;const M=(0,_().u)();if(o===e)return;const k=()=>{d&&d(e)};b().Uo({newRole:e,availableRoles:n});const C=await(0,L().Se)(t,{name:"block_read_and_write_role",spaceId:null===(x=w().default.state.currentSpaceStore)||void 0===x?void 0:x.id,userId:null===(A=w().default.state.currentUserStore)||void 0===A?void 0:A.id});if($(e,s,i,C)&&!g().A.isAdminMode)j().K(t,{from:r,upsell:{type:"product",product:U().Si(t)||"plus",limit:{type:"none"},trialability:"none"}}),m&&m();else if(function(e,s,o){return o&&(0,l().$q)(s,e)===s&&"none"===e}(e,o,h))v?v():f().ui({showCancel:!0,keepFocus:!1,message:s===u().NX||s===c().y7?(0,R.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.removeSelfFromWorkspace.confirmationMessage",defaultMessage:"Are you sure you want to remove your own access? You will lose access to the workspace, and any private pages will be lost."}):(0,R.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.removeSelfFromPage.confirmationMessage",defaultMessage:"Are you sure you want to remove your own access?"}),items:[{label:(0,R.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.removeSelfButton.label",defaultMessage:"Remove"}),color:"red",onAccept:k}]});else if(function(e,s,o){return o&&(0,l().$q)(s,e)===s}(e,o,h))f().ui({showCancel:!0,keepFocus:!1,message:(0,R.jsx)(p().sA,{id:"userPermissionsMenu.downgradePermissionsModal.downgradeSelfFromWorkspaceOrPage.confirmationMessage",defaultMessage:"Are you sure you want to downgrade your own access?"}),items:[{label:(0,R.jsx)(p().sA,{id:"userPermissionsMenu.downgradePermissionsModal.downgradeSelfButton.label",defaultMessage:"Downgrade"}),color:"red",onAccept:k}]});else if(function(e,s){return(s===u().NX||s===c().y7)&&"none"===e}(e,s))if(y)y();else{await async function(e){const{message:s}=e;return new Promise((e=>{f().ui({showCancel:!0,keepFocus:!1,handleCancel:()=>e(!1),message:s,items:[{label:(0,R.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.removeUserButton.label",defaultMessage:"Remove"}),color:"red",onAccept:()=>e(!0)}]})}))}({message:(P=!0,P&&(0,T().OX)()?(0,R.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromWorkspace.enterprise.confirmationMessage",defaultMessage:"If you remove this member, they will lose workspace access. After their removal, you may transfer their private pages to another member. <transferpagelink>Learn more</transferpagelink>.",values:{transferpagelink:e=>(0,R.jsx)(X().A,{href:(0,S().xS)("guides.transferContent"),external:!0,children:e})}}):P?(0,R.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromWorkspace.confirmationMessage",defaultMessage:"Are you sure you want to remove this person? They will lose access to the workspace, and any private pages will be lost."}):(0,R.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.removeUserFromPage.confirmationMessage",defaultMessage:"Are you sure you want to remove this person?"}))})&&k()}else if(function(e,s){return"public_permission"===e&&"none"===s}(i,e)&&M&&!a){await async function(){return new Promise((e=>{f().ui({showCancel:!0,keepFocus:!1,handleCancel:()=>e(!1),description:(0,R.jsx)(p().sA,{id:"permissionRoleSelect.unpublishConfirmation.description",defaultMessage:"Removing access will unpublish this page from the web."}),message:(0,R.jsx)(p().sA,{id:"permissionRoleSelect.unpublishConfirmation.message",defaultMessage:"Are you sure you want to remove access?"}),items:[{label:(0,R.jsx)(p().sA,{id:"userPermissionsMenu.removePermissionsModal.unpublishAction.label",defaultMessage:"Remove access"}),color:"red",onAccept:()=>e(!0)}]})}))}()&&k()}else k();var P}function Q(e){const{availableRole:s,isCurrentUser:o,role:n,table:l,type:a,isRemovableOverride:d,upgradeButtonName:c,onUpgradeButtonClick:u,isFromShareMenu:m,isPublicShareLinkEnabled:b,from:f}=e,{label:g,caption:h,hideSelectionCheckIcon:y,icon:v}=(0,V().R)({type:a,role:s.role,table:l,isRemovable:z(a,d),isCurrentUser:o,isPublicShareLink:b}),A=(0,t().DP)(),S=(0,i().v3)(),_=(0,M().O)(),j=(0,r().K8)((()=>{var e;return null===(e=S.currentUser)||void 0===e?void 0:e.id}),[S]),{device:P}=S,{onClick:U,key:T,...O}=e.props,N=s.disabledInfo,F=P.isMobile&&m,K=(0,L()._X)({name:"block_read_and_write_role",spaceId:_,userId:j}),D=(0,r().K8)((()=>$(s.role,l,a,"available"===(null==K?void 0:K.type))),[s,l,a,K]),X=(0,r().K8)((()=>S.device.isMobile&&!I().S$()),[S]),H=Boolean(D),Y=(0,r().K8)((()=>{var e;return null===(e=w().default.getState().currentSpaceStore)||void 0===e?void 0:e.canAdmin()}),[]),G=H&&(!Y||X),q=(0,t().IS)((e=>{const s={backgroundColor:e.surface.elevated,paddingTop:12,paddingBottom:12,borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:e.stroke.secondary};return{buttonMenuItem:{...s},redButtonMenuItem:{...s,color:e.text.uiRedPrimary},disabledButtonMenuItem:{...s,color:e.text.tertiary}}}),[]);return P.isMobileNative&&H?null:N&&N.isDisabled?(0,R.jsx)(C().A,{delayThreshold:0,renderTooltip:e=>(0,R.jsx)("div",{...e,children:N.disabledMessage}),placement:k().W.Right,textWrap:!0,render:o=>(0,R.jsx)(W().A,{style:F?q.disabledButtonMenuItem:void 0,...o,focused:e.focused,disabled:!0,disabledFeedback:!0,isChecked:n===s.role&&!y,title:(0,R.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,R.jsx)("div",{style:{...e.style,marginRight:D?6:0},children:(0,R.jsx)(p().sA,{...g})})}),caption:h&&(0,R.jsx)("span",{style:{color:A.text.secondary},children:(0,R.jsx)(p().sA,{...h})}),shouldWrapCaption:!0})}):(0,R.jsx)(B,{upsell:H&&("unavailable"===(null==K?void 0:K.type)?K.upsell:void 0),analyticsName:c,renderUpgradeTooltip:()=>D,tooltipPlacement:k().W.Left,onClick:U,onUpgradeClick:u,render:(o,i)=>{const{focused:r,...t}=(0,x().A)(O,o);return(0,R.jsx)(W().A,{...t,style:F?"none"===s.role?q.redButtonMenuItem:q.buttonMenuItem:void 0,focused:r||e.focused,isChecked:n===s.role&&!y,title:(0,R.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,R.jsxs)("div",{style:{...e.style,marginRight:D?6:0,display:"flex",alignItems:"center"},children:[v,(0,R.jsx)(p().sA,{...g})]}),i,e.availableRole.tag&&(0,R.jsx)(E().A,{desktopStyle:{marginLeft:7},children:e.availableRole.tag})]}),caption:h&&(0,R.jsx)("span",{style:{color:A.text.secondary},children:(0,R.jsx)(p().sA,{...h})}),shouldWrapCaption:!0,disabled:G,isRedOnHover:(m||"spaceSettings"===f)&&!G&&"none"===s.role})}})}function J(){const e=(0,t().DP)(),s=(0,i().v3)(),{device:o}=s;return(0,R.jsx)(D().A,{style:{padding:12,backgroundColor:e.sidebarSecondaryBackground,boxShadow:`0 -1px 0 ${e.regularDividerColor}`,marginTop:o.isMobile?28:1},isMultiline:!0,isSmall:!0,children:(0,R.jsx)(p().sA,{id:"permissionRoleSelect.overrideMessage.caption",defaultMessage:"You’ll override permissions from the parent page if you change this role."})})}}}]);