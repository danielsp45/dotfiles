"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[96316],{271282:e=>{var t=Object.keys,n=function(e,t,n,r){var i=function(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e};return"#"+i(t)+i(n)+i(r)};e.exports=function(e,r){var i,a,o,l,s=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,u=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,c=/\s*([^:]+):\s*([^;]+);?/g,f=/\s+$/,d={},p="\ufeff";for(e=e||{},r&&(o=r.getValidStyles(),l=r.getInvalidStyles()),a="\\\" \\' \\; \\: ; : \ufeff".split(" "),i=0;i<a.length;i++)d[a[i]]=p+i,d[p+i]=a[i];return{toHex:function(e){return e.replace(s,n)},parse:function(t){var r,a,o,l,h,m,g,v,b={},y=e.url_converter,w=e.url_converter_scope||this,x=function(e,t,n){var r,a,o,l;if((r=b[e+"-top"+t])&&(a=b[e+"-right"+t])&&(o=b[e+"-bottom"+t])&&(l=b[e+"-left"+t])){var s=[r,a,o,l];for(i=s.length-1;i--&&s[i]===s[i+1];);i>-1&&n||(b[e+t]=-1===i?s[0]:s.join(" "),delete b[e+"-top"+t],delete b[e+"-right"+t],delete b[e+"-bottom"+t],delete b[e+"-left"+t])}},_=function(e){var t,n=b[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return b[e]=n[0],!0}},C=function(e){return l=!0,d[e]},k=function(e,t){return l&&(e=e.replace(/\uFEFF[0-9]/g,(function(e){return d[e]}))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},E=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},A=function(e){return e.replace(/\\[0-9a-f]+/gi,E)},O=function(t,n,r,i,a,o){if(a=a||o)return"'"+(a=k(a)).replace(/\'/g,"\\'")+"'";if(n=k(n||r||i),!e.allow_script_urls){var l=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(l))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(l))return""}return y&&(n=y.call(w,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,C).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(e){return e.replace(/[;:]/g,C)}));r=c.exec(t);)if(c.lastIndex=r.index+r[0].length,a=r[1].replace(f,"").toLowerCase(),o=r[2].replace(f,""),a&&o){if(a=A(a),o=A(o),-1!==a.indexOf(p)||-1!==a.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===a||/expression\s*\(|\/\*|\*\//.test(o)))continue;"font-weight"===a&&"700"===o?o="bold":"color"!==a&&"background-color"!==a||(o=o.toLowerCase()),o=(o=o.replace(s,n)).replace(u,O),b[a]=l?k(o,!0):o}x("border","",!0),x("border","-width"),x("border","-color"),x("border","-style"),x("padding",""),x("margin",""),h="border",g="border-style",v="border-color",_(m="border-width")&&_(g)&&_(v)&&(b[h]=b[m]+" "+b[g]+" "+b[v],delete b[m],delete b[g],delete b[v]),"medium none"===b.border&&delete b.border,"none"===b["border-image"]&&delete b["border-image"]}return b},serialize:function(e,n){var r="",i=function(t){var n,i,a,l;if(n=o[t])for(i=0,a=n.length;i<a;i++)t=n[i],(l=e[t])&&(r+=(r.length>0?" ":"")+t+": "+l+";")};return n&&o?(i("*"),i(n)):function(e,n){for(var r=t(e),i=0,a=r.length;i<a;i++){var o=r[i];n(e[o],o)}}(e,(function(e,t){!e||l&&!function(e,t){var n=l["*"];return!(n&&n[e]||(n=l[t])&&n[e])}(t,n)||(r+=(r.length>0?" ":"")+t+": "+e+";")})),r}}}},756990:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n,r,i,a,o,l,s,u,c,f=function(){},d=function(e){return function(){return e}},p=d(!1),h=d(!0),m=function(){return g},g=(n=function(e){return e.isNone()},{fold:function(e,t){return e()},is:p,isSome:p,isNone:h,getOr:i=function(e){return e},getOrThunk:r=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:d(null),getOrUndefined:d(void 0),or:i,orThunk:r,map:m,each:f,bind:m,exists:p,forall:h,filter:m,equals:n,equals_:n,toArray:function(){return[]},toString:d("none()")}),v=function(e){var t=d(e),n=function(){return i},r=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:h,isNone:p,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return v(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?i:g},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(p,(function(t){return n(e,t)}))}};return i},b={some:v,none:m,from:function(e){return null==e?g:v(e)}},y=function(e,t){for(var n=0,r=e.length;n<r;n++){t(e[n],n)}},w=function(e,t){return function(e,t,n){for(var r=0,i=e.length;r<i;r++){var a=e[r];if(t(a,r))return b.some(a);if(n(a,r))break}return b.none()}(e,t,p)},x=" ",_=Object.keys,C=Object.hasOwnProperty,k=function(e,t){for(var n=_(e),r=0,i=n.length;r<i;r++){var a=n[r];t(e[a],a)}},E=function(e,t){return A(e,t)?b.from(e[t]):b.none()},A=function(e,t){return C.call(e,t)},O=function(e,t,n,r){var i=function(e){return(e=parseInt(e,10).toString(16)).length>1?e:"0"+e};return"#"+i(t)+i(n)+i(r)},S=function(e,t){var n,r,i,a,o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,l=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,u=/\s+$/,c={},f="\ufeff";for(e=e||{},t&&(i=t.getValidStyles(),a=t.getInvalidStyles()),r="\\\" \\' \\; \\: ; : \ufeff".split(" "),n=0;n<r.length;n++)c[r[n]]=f+n,c[f+n]=r[n];return{toHex:function(e){return e.replace(o,O)},parse:function(t){var r,i,a,d,p,h,m,g,v={},b=e.url_converter,y=e.url_converter_scope||this,w=function(e,t,r){var i,a,o,l;if((i=v[e+"-top"+t])&&(a=v[e+"-right"+t])&&(o=v[e+"-bottom"+t])&&(l=v[e+"-left"+t])){var s=[i,a,o,l];for(n=s.length-1;n--&&s[n]===s[n+1];);n>-1&&r||(v[e+t]=-1===n?s[0]:s.join(" "),delete v[e+"-top"+t],delete v[e+"-right"+t],delete v[e+"-bottom"+t],delete v[e+"-left"+t])}},x=function(e){var t,n=v[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return v[e]=n[0],!0}},_=function(e){return d=!0,c[e]},C=function(e,t){return d&&(e=e.replace(/\uFEFF[0-9]/g,(function(e){return c[e]}))),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},k=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},E=function(e){return e.replace(/\\[0-9a-f]+/gi,k)},A=function(t,n,r,i,a,o){if(a=a||o)return"'"+(a=C(a)).replace(/\'/g,"\\'")+"'";if(n=C(n||r||i),!e.allow_script_urls){var l=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(l))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(l))return""}return b&&(n=b.call(y,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,_).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(e){return e.replace(/[;:]/g,_)}));r=s.exec(t);)if(s.lastIndex=r.index+r[0].length,i=r[1].replace(u,"").toLowerCase(),a=r[2].replace(u,""),i&&a){if(i=E(i),a=E(a),-1!==i.indexOf(f)||-1!==i.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===i||/expression\s*\(|\/\*|\*\//.test(a)))continue;"font-weight"===i&&"700"===a?a="bold":"color"!==i&&"background-color"!==i||(a=a.toLowerCase()),a=(a=a.replace(o,O)).replace(l,A),v[i]=d?C(a,!0):a}w("border","",!0),w("border","-width"),w("border","-color"),w("border","-style"),w("padding",""),w("margin",""),p="border",m="border-style",g="border-color",x(h="border-width")&&x(m)&&x(g)&&(v[p]=v[h]+" "+v[m]+" "+v[g],delete v[h],delete v[m],delete v[g]),"medium none"===v.border&&delete v.border,"none"===v["border-image"]&&delete v["border-image"]}return v},serialize:function(e,t){var n="",r=function(t){var r,a,o,l;if(r=i[t])for(a=0,o=r.length;a<o;a++)t=r[a],(l=e[t])&&(n+=(n.length>0?" ":"")+t+": "+l+";")};return t&&i?(r("*"),r(t)):k(e,(function(e,r){!e||a&&!function(e,t){var n=a["*"];return!(n&&n[e]||(n=a[t])&&n[e])}(r,t)||(n+=(n.length>0?" ":"")+r+": "+e+";")})),n}}},j=window.Blob,F=window.URL,I=window.document,R=window.navigator,q=window.window,P=window.setTimeout,z=window.setImmediate,D=(window.console,window.atob),T=function(){return L(0,0)},L=function(e,t){return{major:e,minor:t}},N={nu:L,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?T():function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return L(r(1),r(2))}(e,n)},unknown:T},$="Edge",V="Chrome",B="Opera",M="Firefox",W="Safari",U=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:r($),isChrome:r(V),isIE:r("IE"),isOpera:r(B),isFirefox:r(M),isSafari:r(W)}},X={unknown:function(){return U({current:void 0,version:N.unknown()})},nu:U,edge:d($),chrome:d(V),ie:d("IE"),opera:d(B),firefox:d(M),safari:d(W)},Z="Windows",H="Android",Y="Linux",G="Solaris",K="FreeBSD",Q="ChromeOS",J=function(e){var t=e.current,n=e.version,r=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:r(Z),isiOS:r("iOS"),isAndroid:r(H),isOSX:r("OSX"),isLinux:r(Y),isSolaris:r(G),isFreeBSD:r(K),isChromeOS:r(Q)}},ee={unknown:function(){return J({current:void 0,version:N.unknown()})},nu:J,windows:d(Z),ios:d("iOS"),android:d(H),linux:d(Y),osx:d("OSX"),solaris:d(G),freebsd:d(K),chromeos:d(Q)},te=function(e,t){var n=String(t).toLowerCase();return w(e,(function(e){return e.search(n)}))},ne=function(e,t){return te(e,t).map((function(e){var n=N.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},re=function(e,t){return te(e,t).map((function(e){var n=N.detect(e.versionRegexes,t);return{current:e.name,version:n}}))},ie=function(e,t){return-1!==e.indexOf(t)},ae=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,oe=function(e){return function(t){return ie(t,e)}},le=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return ie(e,"edge/")&&ie(e,"chrome")&&ie(e,"safari")&&ie(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ae],search:function(e){return ie(e,"chrome")&&!ie(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return ie(e,"msie")||ie(e,"trident")}},{name:"Opera",versionRegexes:[ae,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:oe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:oe("firefox")},{name:"Safari",versionRegexes:[ae,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(ie(e,"safari")||ie(e,"mobile/"))&&ie(e,"applewebkit")}}],se=[{name:"Windows",search:oe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return ie(e,"iphone")||ie(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:oe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:oe("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:oe("linux"),versionRegexes:[]},{name:"Solaris",search:oe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:oe("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:oe("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],ue={browsers:d(le),oses:d(se)},ce=function(e,t){var n=ue.browsers(),r=ue.oses(),i=ne(n,e).fold(X.unknown,X.nu),a=re(r,e).fold(ee.unknown,ee.nu),o=function(e,t,n,r){var i=e.isiOS()&&!0===/ipad/i.test(n),a=e.isiOS()&&!i,o=e.isiOS()||e.isAndroid(),l=o||r("(pointer:coarse)"),s=i||!a&&o&&r("(min-device-width:768px)"),u=a||o&&!s,c=t.isSafari()&&e.isiOS()&&!1===/safari/i.test(n),f=!u&&!s&&!c;return{isiPad:d(i),isiPhone:d(a),isTablet:d(s),isPhone:d(u),isTouch:d(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:d(c),isDesktop:d(f)}}(a,i,e,t);return{browser:i,os:a,deviceType:o}},fe=function(e){return q.matchMedia(e).matches},de=(a=function(){return ce(R.userAgent,fe)},l=!1,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return l||(l=!0,o=a.apply(null,e)),o}),pe=R.userAgent,he=de(),me=he.browser,ge=he.os,ve=he.deviceType,be=(/WebKit/.test(pe)&&me.isEdge(),"FormData"in q&&"FileReader"in q&&"URL"in q&&F.createObjectURL,pe.indexOf("Windows Phone"),me.isOpera(),!(!me.isIE()&&!me.isEdge())&&me.version.major,me.isFirefox(),ge.isOSX()||ge.isiOS(),ve.isiPad()||ve.isiPhone(),ge.isAndroid(),"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"),ye=(q.getSelection,me.isIE()&&I.documentMode,me.isIE(),ve.isDesktop(),me.current,me.version,me.isChrome,me.isEdge,me.isFirefox,me.isIE,me.isOpera,me.isSafari,ge.current,ge.version,ge.isAndroid,ge.isChromeOS,ge.isFreeBSD,ge.isiOS,ge.isLinux,ge.isOSX,ge.isSolaris,ge.isWindows,ve.isDesktop,ve.isiPad,ve.isiPhone,ve.isPhone,ve.isTablet,ve.isTouch,ve.isWebView,Array.isArray),we=function(e,t,n){var r,i;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,i=e.length;r<i;r++)if(!1===t.call(n,e[r],r,e))return 0}else for(r in e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))return 0;return 1},xe=function(e,t){var n=[];return we(e,(function(r,i){n.push(t(r,i,e))})),n},_e=/^\s*|\s*$/g,Ce=function(e){return null==e?"":(""+e).replace(_e,"")},ke=function(e,t){return t?!("array"!==t||!ye(e))||typeof e===t:void 0!==e},Ee=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),we(e,(function(e,i){if(!1===t.call(r,e,i,n))return!1;Ee(e,t,n,r)})))},Ae={trim:Ce,isArray:ye,is:ke,toArray:function(e){var t,n,r=e;if(!ye(e))for(r=[],t=0,n=e.length;t<n;t++)r[t]=e[t];return r},makeMap:function(e,t,n){var r;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},each:we,map:xe,grep:function(e,t){var n=[];return we(e,(function(r,i){t&&!t(r,i,e)||n.push(r)})),n},inArray:function(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var i=t[r];for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];void 0!==o&&(e[a]=o)}}return e},create:function(e,t,n){var r,i,a,o,l,s=this,u=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),a=e[3].match(/(^|\.)(\w+)$/i)[2],!(i=s.createNS(e[3].replace(/\.\w+$/,""),n))[a]){if("static"===e[2])return i[a]=t,void(this.onCreate&&this.onCreate(e[2],e[3],i[a]));t[a]||(t[a]=function(){},u=1),i[a]=t[a],s.extend(i[a].prototype,t),e[5]&&(r=s.resolve(e[5]).prototype,o=e[5].match(/\.(\w+)$/i)[1],l=i[a],i[a]=u?function(){return r[o].apply(this,arguments)}:function(){return this.parent=r[o],l.apply(this,arguments)},i[a].prototype[a]=i[a],s.each(r,(function(e,t){i[a].prototype[t]=r[t]})),s.each(t,(function(e,t){r[t]?i[a].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==a&&(i[a].prototype[t]=e)}))),s.each(t.static,(function(e,t){i[a][t]=e}))}},walk:Ee,createNS:function(e,t){var n,r;for(t=t||q,e=e.split("."),n=0;n<e.length;n++)t[r=e[n]]||(t[r]={}),t=t[r];return t},resolve:function(e,t){var n,r;for(t=t||q,n=0,r=(e=e.split(".")).length;n<r&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||ke(e,"array")?e:xe(e.split(t||","),Ce)},_addCacheSuffix:function(e){return e}},Oe=function(e,t,n){e.addNodeFilter("font",(function(e){y(e,(function(e){var r=t.parse(e.attr("style")),i=e.attr("color"),a=e.attr("face"),o=e.attr("size");i&&(r.color=i),a&&(r["font-family"]=a),o&&(r["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(r)),function(e,t){y(t,(function(t){e.attr(t,null)}))}(e,["color","face","size"])}))}))},Se=function(e,t){var n=S();t.convert_fonts_to_spans&&Oe(e,n,Ae.explode(t.font_size_legacy_values)),function(e,t){e.addNodeFilter("strike",(function(e){y(e,(function(e){var n=t.parse(e.attr("style"));n["text-decoration"]="line-through",e.name="span",e.attr("style",t.serialize(n))}))}))}(e,n)},je=/^[ \t\r\n]*$/,Fe={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Ie=function(e,t,n){var r=n?"lastChild":"firstChild",i=n?"prev":"next";if(e[r])return e[r];if(e!==t){var a=e[i];if(a)return a;for(var o=e.parent;o&&o!==t;o=o.parent)if(a=o[i])return a}},Re=function(e){if(!je.test(e.value))return!1;var t=e.parent;return!t||"span"===t.name&&!t.attr("style")||!/^[ ]+$/.test(e.value)},qe=function(e){var t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t},Pe=function(){function e(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r=new e(t,Fe[t]||1);return n&&k(n,(function(e,t){r.attr(t,e)})),r},e.prototype.replace=function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},e.prototype.attr=function(e,t){var n,r=this;if("string"!=typeof e)return null!=e&&k(e,(function(e,t){r.attr(t,e)})),r;if(n=r.attributes){if(void 0!==t){if(null===t){if(e in n.map){delete n.map[e];for(var i=n.length;i--;)if(n[i].name===e)return n.splice(i,1),r}return r}if(e in n.map){for(i=n.length;i--;)if(n[i].name===e){n[i].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}return n.map[e]}},e.prototype.clone=function(){var t,n=this,r=new e(n.name,n.type);if(t=n.attributes){var i=[];i.map={};for(var a=0,o=t.length;a<o;a++){var l=t[a];"id"!==l.name&&(i[i.length]={name:l.name,value:l.value},i.map[l.name]=l.value)}r.attributes=i}return r.value=n.value,r.shortEnded=n.shortEnded,r},e.prototype.wrap=function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},e.prototype.unwrap=function(){for(var e=this,t=e.firstChild;t;){var n=t.next;e.insert(t,e,!0),t=n}e.remove()},e.prototype.remove=function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},e.prototype.append=function(e){var t=this;e.parent&&e.remove();var n=t.lastChild;return n?(n.next=e,e.prev=n,t.lastChild=e):t.lastChild=t.firstChild=e,e.parent=t,e},e.prototype.insert=function(e,t,n){e.parent&&e.remove();var r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},e.prototype.getAll=function(e){for(var t=[],n=this.firstChild;n;n=Ie(n,this))n.name===e&&t.push(n);return t},e.prototype.empty=function(){var e=this;if(e.firstChild){for(var t=[],n=e.firstChild;n;n=Ie(n,e))t.push(n);for(var r=t.length;r--;){(n=t[r]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}}return e.firstChild=e.lastChild=null,e},e.prototype.isEmpty=function(e,t,n){void 0===t&&(t={});var r=this,i=r.firstChild;if(qe(r))return!1;if(i)do{if(1===i.type){if(i.attr("data-mce-bogus"))continue;if(e[i.name])return!1;if(qe(i))return!1}if(8===i.type)return!1;if(3===i.type&&!Re(i))return!1;if(3===i.type&&i.parent&&t[i.parent.name]&&je.test(i.value))return!1;if(n&&n(i))return!1}while(i=Ie(i,r));return!0},e.prototype.walk=function(e){return Ie(this,null,e)},e}(),ze=(window.Promise?window.Promise:function(){function e(e,t){return function(){e.apply(t,arguments)}}var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],u(t,e(a,this),e(o,this))},r=n.immediateFn||"function"==typeof z&&z||function(e){P(e,1)};function i(e){var t=this;null!==this._state?r((function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(i){return void e.reject(i)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)})):this._deferreds.push(e)}function a(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void u(e(n,t),e(a,this),e(o,this))}this._state=!0,this._value=t,l.call(this)}catch(r){o.call(this,r)}}function o(e){this._state=!1,this._value=e,l.call(this)}function l(){for(var e=0,t=this._deferreds.length;e<t;e++)i.call(this,this._deferreds[e]);this._deferreds=null}function s(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function u(e,t,n){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,n(e))}))}catch(i){if(r)return;r=!0,n(i)}}n.prototype.catch=function(e){return this.then(null,e)},n.prototype.then=function(e,t){var r=this;return new n((function(n,a){i.call(r,new s(e,t,n,a))}))},n.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&t(arguments[0])?arguments[0]:arguments);return new n((function(t,n){if(0===e.length)return t([]);var r=e.length;function i(a,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var l=o.then;if("function"==typeof l)return void l.call(o,(function(e){i(a,e)}),n)}e[a]=o,0==--r&&t(e)}catch(s){n(s)}}for(var a=0;a<e.length;a++)i(a,e[a])}))},n.resolve=function(e){return e&&"object"==typeof e&&e.constructor===n?e:new n((function(t){t(e)}))},n.reject=function(e){return new n((function(t,n){n(e)}))},n.race=function(e){return new n((function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)}))}}(),0),De=0,Te=function(e){for(var t,n=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,r=[],i={},a=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++De+String(t)}("img"),o=0,l=0;t=n.exec(e);){var s=t[0],u=a+"_"+l++;i[u]=s,o<t.index&&r.push(e.substr(o,t.index-o)),r.push(u),o=t.index+s.length}return 0===o?{prefix:a,uris:i,html:e}:(o<e.length&&r.push(e.substr(o)),{prefix:a,uris:i,html:r.join("")})},Le=function(e,t){return e.replace(new RegExp(t.prefix+"_[0-9]+","g"),(function(e){return E(t.uris,e).getOr(e)}))},Ne=function(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new Pe("br",1)).shortEnded=!0:r.empty().append(new Pe("#text",3)).value=x},$e=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},Ve=function(e,t,n,r){return r.isEmpty(t,n,(function(t){return function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty}(e,t)}))},Be=function(e,t){var n=t.blob_cache,r=function(e){var t,r,i=e.attr("src");i!==be&&(t=i,r=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(t),r?b.some({type:r[1],data:decodeURIComponent(r[2])}):b.none()).bind((function(e){var t=e.type,r=e.data;return b.from(n.getByData(r,t)).orThunk((function(){return function(e,t){var n;try{n=D(t)}catch(a){return b.none()}for(var r=new Uint8Array(n.length),i=0;i<r.length;i++)r[i]=n.charCodeAt(i);return b.some(new j([r],{type:e}))}(t,r).map((function(e){var t,i=n.create((t||"blobid")+ze++,e,r);return n.add(i),i}))}))})).each((function(t){e.attr("src",t.blobUri())}))};n&&e.addAttributeFilter("src",(function(e){return y(e,r)}))},Me=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:d(e)}},We=function(e,t){var n=(t||I).createElement(e);return Me(n)},Ue=Ae.makeMap,Xe=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ze=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,He=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Ye={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};u={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},c={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var Ge=function(e,t){var n,r,i,a={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),u[r]||(i="&"+e[n+1]+";",a[r]=i,a[i]=r);return a}};s=Ge("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var Ke=function(e,t){return e.replace(t?Xe:Ze,(function(e){return u[e]||e}))},Qe=function(e,t){return e.replace(t?Xe:Ze,(function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":u[e]||"&#"+e.charCodeAt(0)+";"}))},Je=function(e,t,n){return n=n||s,e.replace(t?Xe:Ze,(function(e){return u[e]||n[e]||e}))},et=function(e,t){var n=Ge(t)||s,r=Ue(e.replace(/\+/g,","));return r.named&&r.numeric?function(e,t){return e.replace(t?Xe:Ze,(function(e){return void 0!==u[e]?u[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"}))}:r.named?t?function(e,t){return Je(e,t,n)}:Je:r.numeric?Qe:Ke},tt=function(e){return e.replace(He,(function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Ye[t]||String.fromCharCode(t):c[e]||s[e]||function(e){var t;return(t=We("div").dom()).innerHTML=e,t.textContent||t.innerText||e}(e)}))},nt={},rt={},it=Ae.makeMap,at=Ae.each,ot=Ae.extend,lt=Ae.explode,st=Ae.inArray,ut=function(e,t){return(e=Ae.trim(e))?e.split(t||" "):[]},ct=function(e){var t,n,r,i,a,o,l={},s=function(e,n,r){var i,a,o,s=function(e,t){var n,r,i={};for(n=0,r=e.length;n<r;n++)i[e[n]]=t||{};return i};for(n=n||"","string"==typeof(r=r||[])&&(r=ut(r)),i=(e=ut(e)).length;i--;)o={attributes:s(a=ut([t,n].join(" "))),attributesOrder:a,children:s(r,rt)},l[e[i]]=o},u=function(e,t){var n,r,i,a;for(n=(e=ut(e)).length,t=ut(t);n--;)for(r=l[e[n]],i=0,a=t.length;i<a;i++)r.attributes[t[i]]={},r.attributesOrder.push(t[i])};return nt[e]?nt[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",r=[r,o="acronym applet basefont big font strike tt"].join(" "),at(ut(o),(function(e){s(e,"",r)})),n=[n,a="center dir isindex noframes"].join(" "),i=[n,r].join(" "),at(ut(a),(function(e){s(e,"",i)}))),i=i||[n,r].join(" "),s("html","manifest","head body"),s("head","","base command link meta noscript script style title"),s("title hr noscript br"),s("base","href target"),s("link","href rel media hreflang type sizes hreflang"),s("meta","name http-equiv content charset"),s("style","media type scoped"),s("script","src async defer type charset"),s("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",i),s("address dt dd div caption","",i),s("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),s("blockquote","cite",i),s("ol","reversed start type","li"),s("ul","","li"),s("li","value",i),s("dl","","dt dd"),s("a","href target rel media hreflang type",r),s("q","cite",r),s("ins del","cite datetime",i),s("img","src sizes srcset alt usemap ismap width height"),s("iframe","src name width height",i),s("embed","src type width height"),s("object","data type typemustmatch name usemap form width height",[i,"param"].join(" ")),s("param","name value"),s("map","name",[i,"area"].join(" ")),s("area","alt coords shape href target rel media hreflang type"),s("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),s("colgroup","span","col"),s("col","span"),s("tbody thead tfoot","","tr"),s("tr","","td th"),s("td","colspan rowspan headers",i),s("th","colspan rowspan headers scope abbr",i),s("form","accept-charset action autocomplete enctype method name novalidate target",i),s("fieldset","disabled form name",[i,"legend"].join(" ")),s("label","form for",r),s("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),s("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?i:r),s("select","disabled form multiple name required size","option optgroup"),s("optgroup","disabled label","option"),s("option","disabled label selected value"),s("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),s("menu","type label",[i,"li"].join(" ")),s("noscript","",i),"html4"!==e&&(s("wbr"),s("ruby","",[r,"rt rp"].join(" ")),s("figcaption","",i),s("mark rt rp summary bdi","",r),s("canvas","width height",i),s("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[i,"track source"].join(" ")),s("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[i,"track source"].join(" ")),s("picture","","img source"),s("source","src srcset type media sizes"),s("track","kind src srclang label default"),s("datalist","",[r,"option"].join(" ")),s("article section nav aside main header footer","",i),s("hgroup","","h1 h2 h3 h4 h5 h6"),s("figure","",[i,"figcaption"].join(" ")),s("time","datetime",r),s("dialog","open",i),s("command","type label icon disabled checked radiogroup command"),s("output","for form name",r),s("progress","value max",r),s("meter","value min max low high optimum",r),s("details","open",[i,"summary"].join(" ")),s("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(u("script","language xml:space"),u("style","xml:space"),u("object","declare classid code codebase codetype archive standby align border hspace vspace"),u("embed","align name hspace vspace"),u("param","valuetype type"),u("a","charset name rev shape coords"),u("br","clear"),u("applet","codebase archive code object alt name width height align hspace vspace"),u("img","name longdesc align border hspace vspace"),u("iframe","longdesc frameborder marginwidth marginheight scrolling align"),u("font basefont","size color face"),u("input","usemap align"),u("select"),u("textarea"),u("h1 h2 h3 h4 h5 h6 div p legend caption","align"),u("ul","type compact"),u("li","type"),u("ol dl menu dir","compact"),u("pre","width xml:space"),u("hr","align noshade size width"),u("isindex","prompt"),u("table","summary width frame rules cellspacing cellpadding align bgcolor"),u("col","width align char charoff valign"),u("colgroup","width align char charoff valign"),u("thead","align char charoff valign"),u("tr","align char charoff valign bgcolor"),u("th","axis align char charoff valign nowrap bgcolor width height"),u("form","accept"),u("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),u("tfoot","align char charoff valign"),u("tbody","align char charoff valign"),u("area","nohref"),u("body","background bgcolor text link vlink alink")),"html4"!==e&&(u("input button select textarea","autofocus"),u("input textarea","placeholder"),u("a","download"),u("link script img","crossorigin"),u("img","loading"),u("iframe","sandbox seamless allowfullscreen loading")),at(ut("a form meter progress dfn"),(function(e){l[e]&&delete l[e].children[e]})),delete l.caption.children.table,delete l.script,nt[e]=l,l)},ft=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),at(e,(function(e,r){n[r]=n[r.toUpperCase()]="map"===t?it(e,/[, ]/):lt(e,/[, ]/)}))),n};function dt(e){var t,n,r,i,a,o,l,s,u,c,f,d,p,h={},m={},g=[],v={},b={},y=function(t,n,r){var i=e[t];return i?i=it(i,/[, ]/,it(i.toUpperCase(),/[, ]/)):(i=nt[t])||(i=it(n," ",it(n.toUpperCase()," ")),i=ot(i,r),nt[t]=i),i};r=ct((e=e||{}).schema),!1===e.verify_html&&(e.valid_elements="*[*]"),t=ft(e.valid_styles),n=ft(e.invalid_styles,"map"),s=ft(e.valid_classes,"map"),i=y("whitespace_elements","pre script noscript style textarea video audio iframe object code"),a=y("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),o=y("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),l=y("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),c=y("non_empty_elements","td th iframe video audio object script pre code",o),f=y("move_caret_before_on_enter_elements","table",c),d=y("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),u=y("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",d),p=y("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),at((e.special||"script noscript noframes noembed title style textarea xmp").split(" "),(function(e){b[e]=new RegExp("</"+e+"[^>]*>","gi")}));var w=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},x=function(e){var t,n,r,i,a,o,l,s,u,c,f,d,p,m,v,b,y,x,_=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,C=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,E=/[*?+]/;if(e)for(e=ut(e,","),h["@"]&&(b=h["@"].attributes,y=h["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(a=_.exec(e[t])){if(m=a[1],u=a[2],v=a[3],s=a[5],o={attributes:d={},attributesOrder:p=[]},"#"===m&&(o.paddEmpty=!0),"-"===m&&(o.removeEmpty=!0),"!"===a[4]&&(o.removeEmptyAttrs=!0),b&&(k(b,(function(e,t){d[t]=e})),p.push.apply(p,y)),s)for(r=0,i=(s=ut(s,"|")).length;r<i;r++)if(a=C.exec(s[r])){if(l={},f=a[1],c=a[2].replace(/[\\:]:/g,":"),m=a[3],x=a[4],"!"===f&&(o.attributesRequired=o.attributesRequired||[],o.attributesRequired.push(c),l.required=!0),"-"===f){delete d[c],p.splice(st(p,c),1);continue}m&&("="===m&&(o.attributesDefault=o.attributesDefault||[],o.attributesDefault.push({name:c,value:x}),l.defaultValue=x),":"===m&&(o.attributesForced=o.attributesForced||[],o.attributesForced.push({name:c,value:x}),l.forcedValue=x),"<"===m&&(l.validValues=it(x,"?"))),E.test(c)?(o.attributePatterns=o.attributePatterns||[],l.pattern=w(c),o.attributePatterns.push(l)):(d[c]||p.push(c),d[c]=l)}b||"@"!==u||(b=d,y=p),v&&(o.outputName=u,h[v]=o),E.test(u)?(o.pattern=w(u),g.push(o)):h[u]=o}},_=function(e){h={},g=[],x(e),at(r,(function(e,t){m[t]=e.children}))},C=function(e){var t=/^(~)?(.+)$/;e&&(nt.text_block_elements=nt.block_elements=null,at(ut(e,","),(function(e){var n=t.exec(e),r="~"===n[1],i=r?"span":"div",a=n[2];if(m[a]=m[i],v[a]=i,r||(u[a.toUpperCase()]={},u[a]={}),!h[a]){var o=h[i];delete(o=ot({},o)).removeEmptyAttrs,delete o.removeEmpty,h[a]=o}at(m,(function(e,t){e[i]&&(m[t]=e=ot({},m[t]),e[a]=e[i])}))})))},E=function(t){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;nt[e.schema]=null,t&&at(ut(t,","),(function(e){var t,r,i=n.exec(e);i&&(r=i[1],t=r?m[i[2]]:m[i[2]]={"#comment":{}},t=m[i[2]],at(ut(i[3],"|"),(function(e){"-"===r?delete t[e]:t[e]={}})))}))},A=function(e){var t,n=h[e];if(n)return n;for(t=g.length;t--;)if((n=g[t]).pattern.test(e))return n};e.valid_elements?_(e.valid_elements):(at(r,(function(e,t){h[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},m[t]=e.children})),"html5"!==e.schema&&at(ut("strong/b em/i"),(function(e){e=ut(e,"/"),h[e[1]].outputName=e[0]})),at(ut("ol ul sub sup blockquote span font a table tbody tr strong em b i"),(function(e){h[e]&&(h[e].removeEmpty=!0)})),at(ut("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(e){h[e].paddEmpty=!0})),at(ut("span"),(function(e){h[e].removeEmptyAttrs=!0}))),C(e.custom_elements),E(e.valid_children),x(e.extended_valid_elements),E("+ol[ul|ol],+ul[ul|ol]"),at({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(e,t){h[t]&&(h[t].parentsRequired=ut(e))})),e.invalid_elements&&at(lt(e.invalid_elements),(function(e){h[e]&&delete h[e]})),A("span")||x("span[!data-mce-type|*]");return{children:m,elements:h,getValidStyles:function(){return t},getValidClasses:function(){return s},getBlockElements:function(){return u},getInvalidStyles:function(){return n},getShortEndedElements:function(){return o},getTextBlockElements:function(){return d},getTextInlineElements:function(){return p},getBoolAttrs:function(){return l},getElementRule:A,getSelfClosingElements:function(){return a},getNonEmptyElements:function(){return c},getMoveCaretBeforeOnEnterElements:function(){return f},getWhiteSpaceElements:function(){return i},getSpecialElements:function(){return b},isValidChild:function(e,t){var n=m[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:function(e,t){var n,r,i=A(e);if(i){if(!t)return!0;if(i.attributes[t])return!0;if(n=i.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},getCustomElements:function(){return v},addValidElements:x,setValidElements:_,addCustomElements:C,addValidChildren:E}}var pt=function(e,t,n){var r,i,a,o,l=1;for(o=e.getShortEndedElements(),(a=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=r=n;i=a.exec(t);){if(r=a.lastIndex,"/"===i[1])l--;else if(!i[1]){if(i[2]in o)continue;l++}if(0===l)break}return r},ht=function(e,t){var n=e.exec(t);if(n){var r=n[1],i=n[2];return"string"==typeof r&&"data-mce-bogus"===r.toLowerCase()?i:null}return null};function mt(e,t){void 0===t&&(t=dt());var n=function(){};!1!==(e=e||{}).fix_self_closing&&(e.fix_self_closing=!0);var r=e.comment?e.comment:n,i=e.cdata?e.cdata:n,a=e.text?e.text:n,o=e.start?e.start:n,l=e.end?e.end:n,s=e.pi?e.pi:n,u=e.doctype?e.doctype:n,c=function(n,c){void 0===c&&(c="html");var f,d,p,h,m,g,v,b,y,w,x,_,C,k,A,O,S,j,F,I,R,q,P,z,D,T,L,N,$,V=n.html,B=0,M=[],W=0,U=tt,X=Ae.makeMap("src,href,data,background,formaction,poster,xlink:href"),Z=/((java|vb)script|mhtml):/i,H="html"===c?0:1,Y=function(e){var t,n;for(t=M.length;t--&&M[t].name!==e;);if(t>=0){for(n=M.length-1;n>=t;n--)(e=M[n]).valid&&l(e.name);M.length=t}},G=function(e,t){return a(Le(e,n),t)},K=function(t){""!==t&&(">"===t.charAt(0)&&(t=" "+t),e.allow_conditional_comments||"[if"!==t.substr(0,3).toLowerCase()||(t=" "+t),r(Le(t,n)))},Q=function(e,t){var n=e||"",r=!function(e,t,n){return""===t||e.length>=t.length&&e.substr(n,n+t.length)===t}(n,"--",0),i=function(e,t,n){void 0===n&&(n=0);var r=e.toLowerCase();if(-1!==r.indexOf("[if ",n)&&function(e,t){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(t))}(r,n)){var i=r.indexOf("[endif]",n);return r.indexOf(">",i)}if(t){var a=r.indexOf(">",n);return-1!==a?a:r.length}var o=/--!?>/;o.lastIndex=n;var l=o.exec(e);return l?l.index+l[0].length:r.length}(V,r,t);return e=V.substr(t,i-t),K(r?n+e:e),i+1},J=function(t,r,i,a,o){var l,s;if(i=function(e){return E(n.uris,e).getOr(e)}((r=r.toLowerCase())in x?r:U(i||a||o||"")),C&&!b&&!1===function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")}(r)){if(!(l=j[r])&&F){for(s=F.length;s--&&!(l=F[s]).pattern.test(r););-1===s&&(l=null)}if(!l)return;if(l.validValues&&!(i in l.validValues))return}if(X[r]&&!e.allow_script_urls){var u=i.replace(/[\s\u0000-\u001F]+/g,"");try{u=decodeURIComponent(u)}catch(c){u=unescape(u)}if(Z.test(u))return;if(function(e,t){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?!1===e.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t))}(e,u))return}b&&(r in X||0===r.indexOf("on"))||(h.map[r]=i,h.push({name:r,value:i}))};for(D=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),T=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,w=t.getShortEndedElements(),z=e.self_closing_elements||t.getSelfClosingElements(),x=t.getBoolAttrs(),C=e.validate,y=e.remove_internals,$=e.fix_self_closing,L=t.getSpecialElements(),P=V+">";f=D.exec(P);){var ee=f[0];if(B<f.index&&G(U(V.substr(B,f.index-B))),d=f[7])":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),Y(d);else if(d=f[8]){if(f.index+ee.length>V.length){G(U(V.substr(f.index))),B=f.index+ee.length;continue}":"===(d=d.toLowerCase()).charAt(0)&&(d=d.substr(1)),_=d in w,$&&z[d]&&M.length>0&&M[M.length-1].name===d&&Y(d);var te=ht(T,f[9]);if(null!==te){if("all"===te){B=pt(t,V,D.lastIndex),D.lastIndex=B;continue}A=!1}if(!C||(k=t.getElementRule(d))){if(A=!0,C&&(j=k.attributes,F=k.attributePatterns),(S=f[9])?((b=-1!==S.indexOf("data-mce-type"))&&y&&(A=!1),(h=[]).map={},S.replace(T,J)):(h=[]).map={},C&&!b){if(I=k.attributesRequired,R=k.attributesDefault,q=k.attributesForced,k.removeEmptyAttrs&&!h.length&&(A=!1),q)for(m=q.length;m--;)v=(O=q[m]).name,"{$uid}"===(N=O.value)&&(N="mce_"+W++),h.map[v]=N,h.push({name:v,value:N});if(R)for(m=R.length;m--;)(v=(O=R[m]).name)in h.map||("{$uid}"===(N=O.value)&&(N="mce_"+W++),h.map[v]=N,h.push({name:v,value:N}));if(I){for(m=I.length;m--&&!(I[m]in h.map););-1===m&&(A=!1)}if(O=h.map["data-mce-bogus"]){if("all"===O){B=pt(t,V,D.lastIndex),D.lastIndex=B;continue}A=!1}}A&&o(d,h,_)}else A=!1;if(p=L[d]){p.lastIndex=B=f.index+ee.length,(f=p.exec(V))?(A&&(g=V.substr(B,f.index-B)),B=f.index+f[0].length):(g=V.substr(B),B=V.length),A&&(g.length>0&&G(g,!0),l(d)),D.lastIndex=B;continue}_||(S&&S.indexOf("/")===S.length-1?A&&l(d):M.push({name:d,valid:A}))}else if(d=f[1])K(d);else if(d=f[2]){if(!(1===H||e.preserve_cdata||M.length>0&&t.isValidChild(M[M.length-1].name,"#cdata"))){B=Q("",f.index+2),D.lastIndex=B;continue}i(d)}else if(d=f[3])u(d);else{if((d=f[4])||"<!"===ee){B=Q(d,f.index+ee.length),D.lastIndex=B;continue}if(d=f[5]){if(1!==H){B=Q("?",f.index+2),D.lastIndex=B;continue}s(d,f[6])}}B=f.index+ee.length}for(B<V.length&&G(U(V.substr(B))),m=M.length-1;m>=0;m--)(d=M[m]).valid&&l(d.name)};return{parse:function(e,t){void 0===t&&(t="html"),c(Te(e),t)}}}!function(e){e.findEndTag=pt}(mt||(mt={}));var gt=mt,vt=Ae.makeMap,bt=Ae.each,yt=Ae.explode,wt=Ae.extend,xt=function(e,t){void 0===t&&(t=dt());var n={},r=[],i={},a={};(e=e||{}).validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var o=function(e){var t,o,l;(o=e.name)in n&&((l=i[o])?l.push(e):i[o]=[e]),t=r.length;for(;t--;)(o=r[t].name)in e.attributes.map&&((l=a[o])?l.push(e):a[o]=[e]);return e},l={schema:t,addAttributeFilter:function(e,t){bt(yt(e),(function(e){var n;for(n=0;n<r.length;n++)if(r[n].name===e)return void r[n].callbacks.push(t);r.push({name:e,callbacks:[t]})}))},getAttributeFilters:function(){return[].concat(r)},addNodeFilter:function(e,t){bt(yt(e),(function(e){var r=n[e];r||(n[e]=r=[]),r.push(t)}))},getNodeFilters:function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},filterNode:o,parse:function(l,s){var u,c,f,d,p,h,m,g,v,b,y,w=[];s=s||{},i={},a={},v=wt(vt("script,style,head,html,body,title,meta,param"),t.getBlockElements());var _=t.getNonEmptyElements(),C=t.children,k=e.validate,E=function(e){return!1===e?"":!0===e?"p":e}("forced_root_block"in s?s.forced_root_block:e.forced_root_block),A=t.getWhiteSpaceElements(),O=/^[ \t\r\n]+/,S=/[ \t\r\n]+$/,j=/[ \t\r\n]+/g,F=/^[ \t\r\n]+$/;b=A.hasOwnProperty(s.context)||A.hasOwnProperty(e.root_name);var I=function(e,t){var r,a=new Pe(e,t);return e in n&&((r=i[e])?r.push(a):i[e]=[a]),a},R=function(e){var n,r,i,a,o=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if((i=n.value.replace(S,"")).length>0)return void(n.value=i);if(r=n.next){if(3===r.type&&r.value.length){n=n.prev;continue}if(!o[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}a=n.prev,n.remove(),n=a}};u=gt({validate:k,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(t.getSelfClosingElements()),cdata:function(e){y.append(I("#cdata",4)).value=e},text:function(e,t){var n;b||(e=e.replace(j," "),function(e,t){return e&&(t[e.name]||"br"===e.name)}(y.lastChild,v)&&(e=e.replace(O,""))),0!==e.length&&((n=I("#text",3)).raw=!!t,y.append(n).value=e)},comment:function(e){y.append(I("#comment",8)).value=e},pi:function(e,t){y.append(I(e,7)).value=t,R(y)},doctype:function(e){y.append(I("#doctype",10)).value=e,R(y)},start:function(e,n,i){var o,l,s,u,c;if(s=k?t.getElementRule(e):{}){for((o=I(s.outputName||e,1)).attributes=n,o.shortEnded=i,y.append(o),(c=C[y.name])&&C[o.name]&&!c[o.name]&&w.push(o),l=r.length;l--;)(u=r[l].name)in n.map&&((m=a[u])?m.push(o):a[u]=[o]);v[e]&&R(o),i||(y=o),!b&&A[e]&&(b=!0)}},end:function(n){var r,i,a,o,l;if(i=k?t.getElementRule(n):{}){if(v[n]&&!b){if((r=y.firstChild)&&3===r.type)if((a=r.value.replace(O,"")).length>0)r.value=a,r=r.next;else for(o=r.next,r.remove(),r=o;r&&3===r.type;)a=r.value,o=r.next,(0===a.length||F.test(a))&&(r.remove(),r=o),r=o;if((r=y.lastChild)&&3===r.type)if((a=r.value.replace(S,"")).length>0)r.value=a,r=r.prev;else for(o=r.prev,r.remove(),r=o;r&&3===r.type;)a=r.value,o=r.prev,(0===a.length||F.test(a))&&(r.remove(),r=o),r=o}if(b&&A[n]&&(b=!1),i.removeEmpty&&Ve(t,_,A,y))return l=y.parent,v[y.name]?y.empty().remove():y.unwrap(),void(y=l);i.paddEmpty&&(function(e){return $e(e,"#text")&&e.firstChild.value===x}(y)||Ve(t,_,A,y))&&Ne(e,s,v,y),y=y.parent}}},t);var q=y=new Pe(s.context||e.root_name,11);if(u.parse(l,s.format),k&&w.length&&(s.context?s.invalid=!0:function(e){var n,r,i,a,l,s,u,c,f,d,p,h,m,g,v,b;for(h=vt("tr,td,th,tbody,thead,tfoot,table"),d=t.getNonEmptyElements(),p=t.getWhiteSpaceElements(),m=t.getTextBlockElements(),g=t.getSpecialElements(),n=0;n<e.length;n++)if((r=e[n]).parent&&!r.fixed)if(m[r.name]&&"li"===r.parent.name){for(v=r.next;v&&m[v.name];)v.name="li",v.fixed=!0,r.parent.insert(v,r.parent),v=v.next;r.unwrap(r)}else{for(a=[r],i=r.parent;i&&!t.isValidChild(i.name,r.name)&&!h[i.name];i=i.parent)a.push(i);if(i&&a.length>1){for(a.reverse(),l=s=o(a[0].clone()),f=0;f<a.length-1;f++){for(t.isValidChild(s.name,a[f].name)?(u=o(a[f].clone()),s.append(u)):u=s,c=a[f].firstChild;c&&c!==a[f+1];)b=c.next,u.append(c),c=b;s=u}Ve(t,d,p,l)?i.insert(r,a[0],!0):(i.insert(l,a[0],!0),i.insert(r,l)),i=a[0],(Ve(t,d,p,i)||$e(i,"br"))&&i.empty().remove()}else if(r.parent){if("li"===r.name){if((v=r.prev)&&("ul"===v.name||"ul"===v.name)){v.append(r);continue}if((v=r.next)&&("ul"===v.name||"ul"===v.name)){v.insert(r,v.firstChild,!0);continue}r.wrap(o(new Pe("ul",1)));continue}t.isValidChild(r.parent.name,"div")&&t.isValidChild("div",r.name)?r.wrap(o(new Pe("div",1))):g[r.name]?r.empty().remove():r.unwrap()}}}(w)),E&&("body"===q.name||s.isRootContent)&&function(){var n,r,i=q.firstChild,a=function(e){e&&((i=e.firstChild)&&3===i.type&&(i.value=i.value.replace(O,"")),(i=e.lastChild)&&3===i.type&&(i.value=i.value.replace(S,"")))};if(t.isValidChild(q.name,E.toLowerCase())){for(;i;)n=i.next,3===i.type||1===i.type&&"p"!==i.name&&!v[i.name]&&!i.attr("data-mce-type")?(r||((r=I(E,1)).attr(e.forced_root_block_attrs),q.insert(r,i)),r.append(i)):(a(r),r=null),i=n;a(r)}}(),!s.invalid){for(g in i)if(i.hasOwnProperty(g)){for(m=n[g],p=(c=i[g]).length;p--;)c[p].parent||c.splice(p,1);for(f=0,d=m.length;f<d;f++)m[f](c,g,s)}for(f=0,d=r.length;f<d;f++)if((m=r[f]).name in a){for(p=(c=a[m.name]).length;p--;)c[p].parent||c.splice(p,1);for(p=0,h=m.callbacks.length;p<h;p++)m.callbacks[p](c,m.name,s)}}return q}};return function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",(function(e,r,i){var a,o,l,s,u,c,f,d,p=e.length,h=Ae.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),g=n.getNonEmptyElements();for(h.body=1,a=0;a<p;a++)if(l=(o=e[a]).parent,h[o.parent.name]&&o===l.lastChild){for(u=o.prev;u;){if("span"!==(c=u.name)||"bookmark"!==u.attr("data-mce-type")){if("br"!==c)break;if("br"===c){o=null;break}}u=u.prev}o&&(o.remove(),Ve(n,m,g,l)&&(f=n.getElementRule(l.name))&&(f.removeEmpty?l.remove():f.paddEmpty&&Ne(t,i,h,l)))}else{for(s=o;l&&l.firstChild===s&&l.lastChild===s&&(s=l,!h[l.name]);)l=l.parent;s===l&&!0!==t.padd_empty_with_br&&((d=new Pe("#text",3)).value=x,o.replace(d))}})),e.addAttributeFilter("href",(function(e){var n,r,i=e.length;if(!t.allow_unsafe_link_target)for(;i--;){var a=e[i];"a"===a.name&&"_blank"===a.attr("target")&&a.attr("rel",(r=void 0,r=(n=a.attr("rel"))?Ae.trim(n):"",/\b(noopener)\b/g.test(r)?r:function(e){return e.split(" ").filter((function(e){return e.length>0})).concat(["noopener"]).sort().join(" ")}(r)))}})),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",(function(e){for(var t,n,r,i,a=e.length;a--;)if("a"===(i=e[a]).name&&i.firstChild&&!i.attr("href")){r=i.parent,t=i.lastChild;do{n=t.prev,r.insert(t,i),t=n}while(t)}})),t.fix_list_elements&&e.addNodeFilter("ul,ol",(function(e){for(var t,n,r=e.length;r--;)if("ul"===(n=(t=e[r]).parent).name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var i=new Pe("li",1);i.attr("style","list-style-type: none"),t.wrap(i)}})),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",(function(e){for(var t,r,i,a,o,l,s,u=e.length,c=n.getValidClasses();u--;){for(r=(t=e[u]).attr("class").split(" "),o="",i=0;i<r.length;i++)a=r[i],s=!1,(l=c["*"])&&l[a]&&(s=!0),l=c[t.name],!s&&l&&l[a]&&(s=!0),s&&(o&&(o+=" "),o+=a);o.length||(o=null),t.attr("class",o)}})),Be(e,t)}(l,e),function(e,t){t.inline_styles&&Se(e,t)}(l,e),l},_t=Ae.makeMap,Ct=function(e,t){void 0===t&&(t=dt());var n=function(e){var t,n,r,i,a,o=[];return t=(e=e||{}).indent,n=_t(e.indent_before||""),r=_t(e.indent_after||""),i=et(e.entity_encoding||"raw",e.entities),a="html"===e.element_format,{start:function(e,l,s){var u,c,f,d;if(t&&n[e]&&o.length>0&&(d=o[o.length-1]).length>0&&"\n"!==d&&o.push("\n"),o.push("<",e),l)for(u=0,c=l.length;u<c;u++)f=l[u],o.push(" ",f.name,'="',i(f.value,!0),'"');o[o.length]=!s||a?">":" />",s&&t&&r[e]&&o.length>0&&(d=o[o.length-1]).length>0&&"\n"!==d&&o.push("\n")},end:function(e){var n;o.push("</",e,">"),t&&r[e]&&o.length>0&&(n=o[o.length-1]).length>0&&"\n"!==n&&o.push("\n")},text:function(e,t){e.length>0&&(o[o.length]=t?e:i(e))},cdata:function(e){o.push("<![CDATA[",e,"]]>")},comment:function(e){o.push("\x3c!--",e,"--\x3e")},pi:function(e,n){n?o.push("<?",e," ",i(n),"?>"):o.push("<?",e,"?>"),t&&o.push("\n")},doctype:function(e){o.push("<!DOCTYPE",e,">",t?"\n":"")},reset:function(){o.length=0},getContent:function(){return o.join("").replace(/\n$/,"")}}}(e);(e=e||{}).validate=!("validate"in e)||e.validate;return{serialize:function(r){var i,a;a=e.validate,i={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)do{o(e)}while(e=e.next)}},n.reset();var o=function(e){var r,l,s,u,c,f,d,p,h,m=i[e.type];if(m)m(e);else{if(r=e.name,l=e.shortEnded,s=e.attributes,a&&s&&s.length>1&&((f=[]).map={},h=t.getElementRule(e.name))){for(d=0,p=h.attributesOrder.length;d<p;d++)(u=h.attributesOrder[d])in s.map&&(c=s.map[u],f.map[u]=c,f.push({name:u,value:c}));for(d=0,p=s.length;d<p;d++)(u=s[d].name)in f.map||(c=s.map[u],f.map[u]=c,f.push({name:u,value:c}));s=f}if(n.start(e.name,s,l),!l){if(e=e.firstChild)do{o(e)}while(e=e.next);n.end(r)}}};return 1!==r.type||e.inner?i[11](r):o(r),n.getContent()}}},kt=function(e){return e.getParam("paste_retain_style_properties")};function Et(e){var t,n;return n=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],e=e.replace(/^[\u00a0 ]+/,""),Ae.each(n,(function(n){if(n.test(e))return t=!0,!1})),t}function At(e){var t,n,r=1;function i(e){var t="";if(3===e.type)return e.value;if(e=e.firstChild)do{t+=i(e)}while(e=e.next);return t}function a(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do{if(!a(e,t))return!1}while(e=e.next);return!0}function o(e){if(e._listIgnore)e.remove();else if(e=e.firstChild)do{o(e)}while(e=e.next)}function l(e,i,l){var s=e._listLevel||r;s!==r&&(s<r?t&&(t=t.parent.parent):(n=t,t=null)),t&&t.name===i?t.append(e):(n=n||t,t=new Pe(i,1),l>1&&t.attr("start",""+l),e.wrap(t)),e.name="li",s>r&&n&&n.lastChild.append(t),r=s,o(e),a(e,/^\u00a0+/),a(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),a(e,/^\u00a0+/)}for(var s=[],u=e.firstChild;null!=u;)if(s.push(u),null!==(u=u.walk()))for(;void 0!==u&&u.parent!==e;)u=u.walk();for(var c=0;c<s.length;c++)if("p"===(e=s[c]).name&&e.firstChild){var f=i(e);if(/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(f)){l(e,"ul");continue}if(Et(f)){var d=/([0-9]+)\./.exec(f),p=1;d&&(p=parseInt(d[1],10)),l(e,"ol",p);continue}if(e._listLevel){l(e,"ul",1);continue}t=null}else n=t,t=null}function Ot(e,t,n,r){var i,a={},o=e.dom.parseStyle(r);return Ae.each(o,(function(o,l){switch(l){case"mso-list":(i=/\w+ \w+([0-9]+)/i.exec(r))&&(n._listLevel=parseInt(i[1],10)),/Ignore/i.test(o)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":l="text-align";break;case"vert-align":l="vertical-align";break;case"font-color":case"mso-foreground":l="color";break;case"mso-background":case"mso-highlight":l="background";break;case"font-weight":case"font-style":return void("normal"!==o&&(a[l]=o));case"mso-element":if(/^(comment|comment-list)$/i.test(o))return void n.remove()}0!==l.indexOf("mso-comment")?0!==l.indexOf("mso-")&&("all"===kt(e)||t&&t[l])&&(a[l]=o):n.remove()})),/(bold)/i.test(a["font-weight"])&&(delete a["font-weight"],n.wrap(new Pe("b",1))),/(italic)/i.test(a["font-style"])&&(delete a["font-style"],n.wrap(new Pe("i",1))),(a=e.dom.serializeStyle(a,n.name))||null}var St=function(e,t){var n,r;(n=kt(e))&&(r=Ae.makeMap(n.split(/[, ]/))),t=function(e,t){return Ae.each(t,(function(t){e=t.constructor===RegExp?e.replace(t,""):e.replace(t[0],t[1])})),e}(t,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,x],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(x):""}]]);var i=function(e){return e.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")}(e),a=dt({valid_elements:i,valid_children:"-li[p]"});Ae.each(a.elements,(function(e){e.attributes.class||(e.attributes.class={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))}));var o=xt({},a);o.addAttributeFilter("style",(function(t){for(var n,i=t.length;i--;)(n=t[i]).attr("style",Ot(e,r,n,n.attr("style"))),"span"===n.name&&n.parent&&!n.attributes.length&&n.unwrap()})),o.addAttributeFilter("class",(function(e){for(var t,n,r=e.length;r--;)n=(t=e[r]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)})),o.addNodeFilter("del",(function(e){for(var t=e.length;t--;)e[t].remove()})),o.addNodeFilter("a",(function(e){for(var t,n,r,i=e.length;i--;)if(n=(t=e[i]).attr("href"),r=t.attr("name"),n&&-1!==n.indexOf("#_msocom_"))t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1])&&(n="#"+n),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:n,name:r})}else t.unwrap()}));var l=o.parse(t);return function(e){return e.getParam("paste_convert_word_fake_lists",!0)}(e)&&At(l),t=Ct({validate:e.settings.validate},a).serialize(l)};t.isWordContent=function(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)},t.preProcess=function(e,t){return function(e){return e.getParam("paste_enable_default_filters",!0)}(e)?St(e,t):t}},818640:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=()=>n(756990);var a=(0,((r=n(271282))&&r.__esModule?r:{default:r}).default)(),o={settings:{},dom:{parseStyle:a.parse,serializeStyle:a.serialize},getParam:function(e,t){return t}};var l=function(e){return(0,i().isWordContent)(e)?(0,i().preProcess)(o,e):e};t.default=l}}]);