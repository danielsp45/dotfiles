"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[42690],{742690:(o,e,n)=>{n.r(e);n(16280),n(944114);var t=()=>n(886564);const r={create:"Creating transaction",cancel:"Cancelling transaction",commitEmpty:"Ignoring empty transaction",commit:"Committing transaction"},s={err_no_multiselection:"Unable to get multi-selection for operation",err_no_store_position:"Unable to get store position for operation",err_no_source_block_store:"Unable to find source block store",err_no_target_block_store:"Unable to find target block store"},a=new WeakMap,l={onApplyOperation(o){let{operation:e,store:t}=o;const r=e.args,s=[];if(e.path.length&&s.push(`@ ${e.path.join(".")}`),("set"===e.command||"update"===e.command)&&(0,n(534177).Gv)(r)&&!Array.isArray(r)){const o=Object.keys(r),e=3,n=o.slice(0,e).join(", ");o.length<=e?s.push(`{${n}}`):s.push(`{${n}, and ${o.length-e} more}`)}console.groupCollapsed(`%c  Applying operation %c${e.command}%c on %c${t.pointer.table}%c ${s.join(" ")}`,"font-weight: normal","font-weight: normal; color: blue","font-weight: normal","font-weight: normal; color: green","font-weight: normal"),console.log(e),console.log(t),console.trace(),console.groupEnd()},onTransactionEvent(o,e){const n=e.getUserActionForAnalyticsPurposesOnly(),t=r[o];console.groupCollapsed(`${t} ${n}`),console.log(e),console.trace(),console.groupEnd()},onSaveTransactions(o,e){const n=e.length,t=o.length!==n,r=t?` (squashed from ${o.length} transactions)`:"",s=`${n} transaction${n>1?"s":""}`;console.groupCollapsed(`Sending ${s} to server${r}`),t?(console.log("Unsquashed transactions:",o),console.log("Squashed transactions:",e)):console.log(e),console.groupEnd();const a=performance.now();return o=>{if("success"===o.type){const o=Math.ceil(performance.now()-a);console.log(`${s}${r} accepted by server after ${o} ms`)}else{var e;const n=`HTTP ${o.status}, ${JSON.stringify(null===(e=o.body)||void 0===e?void 0:e.debugMessage)}`;console.groupCollapsed(`%cFailed to send ${s} to server${r} (${n})`,"color: red"),console.log(o),console.groupEnd()}}},rememberStackTrace(o){const{stack:e}=new Error;if(e)for(const n of o)a.set(n,e)},logInvertedTextOperationError(o){let{invertedOperation:e,maybeRemappedInvertedOperation:n,errorCode:t,transaction:r}=o;console.groupCollapsed(`%c  Error %c${t}%c applying inverted text operation %c${e.command}%c from transaction "${r.getUserActionForAnalyticsPurposesOnly()}"`,"font-weight: normal","font-weight: normal; color: red","font-weight: normal","font-weight: normal; color: blue","font-weight: normal"),console.log(`Error description: ${s[t]}`),e===n?console.log("Inverted operation:",e):(console.log("Original inverted operation:",e),console.log("Remapped inverted operation:",n));const l=a.get(e);l&&console.log("Stack trace at creation of inverted operation:",l),console.trace(),console.groupEnd()}};n(604341).exposeDebugValue("toggleTransactionDebugging",(()=>{const o=!t().A.provider;t().A.provider=o?l:void 0,console.log(`Transaction debugging is now ${o?"enabled (you don't need to reload the page--doing that will disable it!)":"disabled"}.`)})),t().A.provider&&(console.log("Installing new transaction debug provider."),t().A.provider=l)}}]);