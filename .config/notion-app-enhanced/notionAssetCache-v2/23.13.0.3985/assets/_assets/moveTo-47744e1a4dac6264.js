"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[2411,5053,5834,9150,28464,34208,67608,76983,78984,82122,84358],{346:(e,t,o)=>{o.d(t,{MG:()=>m,T1:()=>g,a1:()=>y,dt:()=>v,kg:()=>f,lC:()=>S,n_:()=>h});var n=o(296540),r=()=>o(484714),i=()=>o(56366),a=()=>o(187174),s=()=>o(645873),l=()=>o(941463),d=()=>o(441199),c=()=>o(749687),u=()=>o(737230),p=()=>o(756114);const g=new(s().O2)("PerformanceToolbar",(()=>Promise.all([o.e(16471),o.e(92845),o.e(84468),o.e(48632),o.e(75078),o.e(95168),o.e(36908),o.e(21194),o.e(23930),o.e(61347),o.e(45624)]).then(o.bind(o,462407)))),m=(0,s()._h)(g,(e=>e.PerformanceToolbar)),v=(0,s()._h)(g,(e=>e.PerformanceToolbarSettings));function f(){const e=(0,r().v3)();return(0,i().K8)((()=>(0,p().D)(e,e.RouterStore.state)),[e])}function h(){const e=(0,r().v3)(),t=b("PerformanceToolbarStore"),o=b("isPerformanceToolbarVisible");return(0,i().K8)((()=>!(!t||!o)&&o(e,e.RouterStore.state,t.state)),[o,e,t])}function S(){const e=b("PerformanceToolbarStore");return(0,i().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function y(){const e=(0,r().v3)(),t=b("createPerformanceToolbarMouseListeners"),o=b("PerformanceToolbarStore"),{sidebarExpanded:a,sidebarWidth:s,secondarySidebarExpanded:p,secondarySidebarWidth:g,updateSidebarExpanded:m,updateSidebarWidth:v}=(0,i().K8)((()=>({sidebarExpanded:c().sidebarExpandedStore.state,sidebarWidth:c().sidebarWidthStore.state,secondarySidebarExpanded:d().default.isOpen(),secondarySidebarWidth:l().Ay.getWidth(),updateSidebarExpanded:u().Ay.state.expanded,updateSidebarWidth:u().Ay.state.width})),[]);return(0,n.useEffect)((()=>{if(o&&t)return t(e,(e=>o.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),a,s,p,g,m,v)}),[t,e,o,a,s,p,g,m,v])}function b(e){const t=f(),[{value:o}]=(0,a().Yb)((()=>t?g.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return o}},29037:(e,t,o)=>{o.r(t),o.d(t,{checkmarkIcon:()=>r,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.92 3.91 12.17 12.18",svg:(0,o(474848).jsx)("path",{d:"M15.784 4.002a.625.625 0 0 1 .214.857L9.445 15.784a.625.625 0 0 1-1.01.085l-4.37-5.098a.625.625 0 0 1 .948-.814l3.806 4.44 6.109-10.181a.625.625 0 0 1 .857-.214"})},r=(0,o(340498).wt)("checkmark",n)},59400:(e,t,o)=>{o.d(t,{nR:()=>c,m$:()=>s,m4:()=>l,Dy:()=>d,FZ:()=>p});o(296540);var n=()=>o(645873),r=o(474848);function i(e){const{shouldShowSpinner:t,collectionSettingsProps:n}=e;return(0,r.jsx)(o(735695).Ay,{collectionSettingsStore:n.collectionSettingsStore,fullHeight:n.fullHeight,hideDesktopHeader:n.hideDesktopHeader,children:t&&(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",overflow:"hidden",paddingBottom:20},children:(0,r.jsx)(o(331542).A,{})})})}const a=new(n().O2)("collectionSettings",(()=>Promise.all([o.e(75134),o.e(16471),o.e(58550),o.e(44711),o.e(53321),o.e(90825),o.e(96346),o.e(55373),o.e(37353),o.e(29151),o.e(78191),o.e(62475),o.e(3151),o.e(98629),o.e(92845),o.e(84468),o.e(5605),o.e(48486),o.e(95794),o.e(13677),o.e(56952),o.e(48632),o.e(75078),o.e(25497),o.e(74562),o.e(27711),o.e(4422),o.e(11341),o.e(46414),o.e(95168),o.e(28271),o.e(34877),o.e(36908),o.e(17254),o.e(84185),o.e(32421),o.e(15315),o.e(24587),o.e(78708),o.e(43777),o.e(74752),o.e(91194),o.e(81197),o.e(98659),o.e(20502),o.e(6266),o.e(8184),o.e(83884),o.e(65881),o.e(99809),o.e(93282),o.e(43678),o.e(15019),o.e(90978),o.e(3910),o.e(77213),o.e(6912),o.e(30291),o.e(19930),o.e(58102),o.e(26483),o.e(6463),o.e(40925),o.e(282),o.e(61349),o.e(62573),o.e(1440),o.e(63996),o.e(66559),o.e(35986),o.e(92924),o.e(64819),o.e(97339),o.e(55717),o.e(63797),o.e(21367),o.e(22686),o.e(99108)]).then(o.bind(o,409198)))),s=(0,n()._h)(a,(e=>e.CollectionSettings),{renderLoading:(e,t)=>(0,r.jsx)(i,{shouldShowSpinner:e,collectionSettingsProps:t})}),l=(0,n()._h)(a,(e=>e.CollectionSettingsButtonOptions)),d=(0,n()._h)(a,(e=>e.CollectionSettingsPropertyTypeMenuItem)),c=(0,n()._h)(a,(e=>e.CollectionEditButtonAutomationOption)),u=new(n().O2)("TableHeaderPropertyCreationMenu",(()=>Promise.all([o.e(75134),o.e(16471),o.e(58550),o.e(44711),o.e(53321),o.e(90825),o.e(96346),o.e(55373),o.e(37353),o.e(29151),o.e(78191),o.e(92845),o.e(84468),o.e(5605),o.e(48486),o.e(95794),o.e(13677),o.e(56952),o.e(48632),o.e(75078),o.e(25497),o.e(74562),o.e(27711),o.e(4422),o.e(11341),o.e(46414),o.e(95168),o.e(28271),o.e(34877),o.e(36908),o.e(17254),o.e(84185),o.e(32421),o.e(15315),o.e(24587),o.e(78708),o.e(43777),o.e(74752),o.e(91194),o.e(81197),o.e(98659),o.e(20502),o.e(6266),o.e(8184),o.e(83884),o.e(65881),o.e(99809),o.e(93282),o.e(43678),o.e(15019),o.e(90978),o.e(3910),o.e(77213),o.e(61349),o.e(35986),o.e(43935)]).then(o.bind(o,908800)))),p=(0,n()._h)(u,(e=>e.TableHeaderPropertyCreationMenu))},63467:(e,t,o)=>{o.d(t,{y:()=>c});var n=()=>o(637997),r=()=>o(267419);const i={ko:()=>o.e(2268).then(o.bind(o,224434)),es:()=>o.e(95264).then(o.bind(o,196425)),de:()=>o.e(35390).then(o.bind(o,653703)),fr:()=>o.e(3272).then(o.bind(o,94677)),pt:()=>o.e(27315).then(o.bind(o,766869)),zh:()=>o.e(69945).then(o.bind(o,516814)),ja:()=>o.e(77757).then(o.bind(o,824432)),da:()=>o.e(9423).then(o.bind(o,440761)),fi:()=>o.e(59337).then(o.bind(o,462135)),nb:()=>o.e(2040).then(o.bind(o,937314)),nl:()=>o.e(51106).then(o.bind(o,530897)),sv:()=>o.e(53631).then(o.bind(o,895222)),id:()=>o.e(69945).then(o.bind(o,516814)),th:()=>o.e(69945).then(o.bind(o,516814)),vi:()=>o.e(69945).then(o.bind(o,516814))};let a=!1,s=!1;async function l(e){for(const[o,r]of Object.entries(e.emojiLocaleKeywords)){var t;n().fB[o]={...n().fB[o],keywords:[...r,...(null===(t=n().fB[o])||void 0===t?void 0:t.keywords)||[]]}}await r().A.waitUntilLoaded(),r().A.update((t=>{let{emojiByName:o,...n}=t;return{...n,emojiByName:{...o,...e.emojiByName}}}))}async function d(){if(a)return;const[e]=o(662303).locale.split("-");e in i&&(await l(await i[e]()),a=!0)}const c=(0,o(279900).A)((async()=>{await async function(){s||(await l(await o.e(51872).then(o.bind(o,443716))),s=!0)}(),await d()}))},69447:(e,t,o)=>{o.d(t,{Lq:()=>n,WK:()=>i,nh:()=>r});const n=40,r=48,i=60},73223:(e,t,o)=>{o.r(t),o.d(t,{dismissTutorial:()=>c,resetTutorials:()=>u,tutorialAdvanceToStep:()=>p,tutorialAdvanceToStepAfter:()=>g,tutorialGoToNextStep:()=>l,tutorialGoToPrevStep:()=>d});var n=()=>o(541235),r=()=>o(751156),i=()=>o(755199),a=()=>o(739135),s=()=>o(765957);function l(e,t){var o;const{currentUserSettingsStore:n}=s().default.state;if(!n)return;const r=null===(o=n.getSettings())||void 0===o?void 0:o.tutorials;m({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{i().mJ({userSettingsStore:n,transaction:e,data:{tutorials:{...r,[t]:(0,a().i9)(n,t)}}})},userId:n.id})}function d(e,t){var o;const{currentUserSettingsStore:n}=s().default.state;if(!n)return;const r=null===(o=n.getSettings())||void 0===o?void 0:o.tutorials;m({userAction:"TutorialActions.prevStep",environment:e,perform:e=>{i().mJ({userSettingsStore:n,transaction:e,data:{tutorials:{...r,[t]:(0,a().KD)(n,t)}}})},userId:n.id})}function c(e,t){var o;const{currentUserSettingsStore:r}=s().default.state;if(!r)return;const a=null===(o=r.getSettings())||void 0===o?void 0:o.tutorials;(null==a?void 0:a[t])!==n().YD&&m({userAction:"TutorialActions.dismissTutorial",environment:e,perform:e=>{i().mJ({userSettingsStore:r,transaction:e,data:{tutorials:{...a,[t]:n().YD}}})},userId:r.id})}function u(e){const{currentUserSettingsStore:t}=s().default.state;t&&m({userAction:"TutorialActions.resetTutorialsDebug",environment:e,perform:e=>{i().mJ({userSettingsStore:t,transaction:e,data:{tutorials:{}}})},userId:t.id})}function p(e,t,o){var r;const{currentUserSettingsStore:l}=s().default.state;if(!l||(0,a().x$)(l,t))return;const d=(0,a().gt)(l,t);n().c$[t].steps.findIndex((e=>e.id===d))>=n().c$[t].steps.findIndex((e=>e.id===o))||i().mJ({userSettingsStore:l,transaction:e,data:{tutorials:{...null===(r=l.getSettings())||void 0===r?void 0:r.tutorials,[t]:o}}})}function g(e,t,o){if((0,a().ll)(o))return;const n=(0,a().tb)(t,o);n&&p(e,t,n)}function m(e){return r().createAndCommit({...e,canUndo:!1})}},77279:(e,t,o)=>{o.r(t),o.d(t,{default:()=>r});class n extends(()=>o(757695))().Store{getInitialState(){return{discussionIdToExpansionStartPointMap:{}}}}const r=new n},97059:(e,t,o)=>{o.d(t,{W:()=>v,w:()=>m});o(944114);var n=()=>o(585515),r=()=>o(577449),i=()=>o(161479),a=()=>o(545285),s=()=>o(763824),l=()=>o(780054),d=()=>o(870618),c=()=>o(670631),u=()=>o(227440),p=()=>o(217429),g=()=>o(540758);async function m(e){const{environment:t}=e;return(await s().lX(Object.keys(c().A.state.offlinePages||{}),100,(e=>async function(e){const{environment:t,pageId:o}=e,s={page:{id:o,spaceId:(0,i().e)(void 0)},baseUrl:l().A.domainBaseUrl,publicDomainName:l().A.publicDomainName,shouldTraverseToggleBlocks:!0,limit:1/0,cursor:{stack:[]},verticalColumns:!1},c=[];return await n().T(s,r().h.sideEffect((e=>((0,a().u)(e)&&c.push(e.id),Promise.resolve())),r().h.fromMonomorphicFunctionUnsafe((async e=>{const o=await d().h7({environment:t,pointer:e,useInMemoryCacheOnly:!1,skipAccessWrites:!0});return null==o?void 0:o.model})))),c}({environment:t,pageId:e})))).flat()}function v(e,t){return!u().A.state.online&&(e.device.isElectron||e.device.isMobileNative)&&p().default.checkGate({gateName:"download_for_offline"})&&!(0,g().Bd)(t)}},105819:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,pencilLineIcon:()=>r});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.63 4.12 14.99 11.76",svg:(0,o(474848).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},r=(0,o(340498).wt)("pencilLine",n)},115562:(e,t,o)=>{o.d(t,{W:()=>l});o(296540);var n=()=>o(819121),r=()=>o(401497),i=()=>o(955825),a=()=>o(677195),s=o(474848);function l(e){const{selectorSize:t="normal",...o}=e,{disabled:l,checked:d}=o,[c,u]=(0,n().A)(),p=function(e){const{checked:t,disabled:o,isFocusVisible:n,selectorSize:i}=e;return(0,r().IS)((e=>({root:{position:"absolute",display:"flex",width:"large"===i?15:11,height:"large"===i?15:11,margin:1.5,justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"large"===i?2:1,transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${o?e.tint.regular:e.blueColor}`,background:o?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${o?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...n&&{boxShadow:e.buttonBlueFocusRing}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"large"===i?18:void 0,height:"large"===i?18:void 0,...o?{pointerEvents:"none"}:{cursor:"pointer"}},icon:{color:e.text.contrastPrimary,width:"large"===i?12:10,height:"large"===i?12:10,ariaHidden:!0}})),[i,t,o,n])}({checked:d,disabled:l,selectorSize:t,isFocusVisible:u});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{ref:c,type:"checkbox",style:p.input,...o}),(0,s.jsx)("span",{...(0,i().AH)(p.root,l?{}:{pseudoActive:p.active}),children:d&&(0,a().R)(p.icon)})]})}},124749:(e,t,o)=>{o.d(t,{$:()=>i});var n=()=>o(56366);const r=new(o(496506).ComputedStore)((()=>o(765957).default.state.currentUserStore),{debugName:"AppStoreCurrentUserStore"});function i(){return(0,n().O$)(r)}},132389:(e,t,o)=>{o.d(t,{A:()=>r});o(296540);var n=o(474848);function r(e){const t={display:"inline-block",minWidth:e.size,minHeight:e.size};return"x"===e.axis?t.minHeight=1:"y"===e.axis&&(t.minWidth=1),(0,n.jsx)("div",{style:t})}},132855:(e,t,o)=>{o.r(t),o.d(t,{arrowInCircleUpFillIcon:()=>r,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,o(474848).jsx)("path",{d:"M10 17.625a7.625 7.625 0 1 0 0-15.25 7.625 7.625 0 0 0 0 15.25m3.042-8.07a.625.625 0 0 1-.884 0L10.625 8.02v5.466a.625.625 0 1 1-1.25 0V8.021L7.842 9.554a.625.625 0 1 1-.884-.883l2.6-2.6a.625.625 0 0 1 .884 0l2.6 2.6a.625.625 0 0 1 0 .883"})},r=(0,o(340498).wt)("arrowInCircleUpFill",n)},142662:(e,t,o)=>{o.d(t,{Xy:()=>$,du:()=>N,n5:()=>q});o(581454),o(296540);var n=()=>o(484714),r=()=>o(56366),i=()=>o(401497),a=()=>o(668725),s=()=>o(381138),l=()=>o(693954),d=()=>o(959013),c=()=>o(496603),u=()=>o(284371),p=()=>o(895876),g=()=>o(493823),m=()=>o(760217),v=()=>o(802790),f=()=>o(805751),h=()=>o(419357),S=()=>o(545805),y=()=>o(187485),b=()=>o(331542),x=()=>o(928600),A=()=>o(187820),k=()=>o(89924),w=()=>o(933117),C=()=>o(125565),P=()=>o(780054),M=()=>o(722872),T=()=>o(372657),B=()=>o(836251),j=()=>o(640653),I=()=>o(62856),R=()=>o(765957),L=()=>o(832820),D=()=>o(970585),_=()=>o(845566),O=()=>o(188669),H=()=>o(265665),V=()=>o(258805),W=()=>o(478495),E=()=>o(828048),z=o(474848);function N(e){const{targetBlocks:t,isCreateIn:o,onAccept:i,isAddTo:a,isTurnIntoPage:s,autocompleteQuery:l,onAutocompleteQueryChange:c,onMouseEnter:u,onCancel:p,desktopWidth:g,forceShowPrivatePageOption:m=!1,isLoading:v,allTargetsAreNavigable:h,autocompleteComponent:y}=e,b=(0,r().uB)(void 0,D().A),A=(0,r().uB)(void 0,_().A),w=(0,r().K8)((()=>(0,V().R3)()),[]),C=(0,r().K8)((()=>O().Ay.state.isOpen),[]),P=(0,n().WS)(),B=(0,r().K8)((()=>T().n6()),[]);if(!a&&!o&&!C)return null;let j,I;j=w?P?(0,z.jsx)($,{autocompleteQuery:l,onAutocompleteQueryChange:c,isAddTo:a,isTurnIntoPage:s,moveToSpaceMenuStore:A,menuListStore:b,isLoading:v}):(0,z.jsx)(k().A,{isInput:!0,children:(0,z.jsx)($,{autocompleteQuery:l,onAutocompleteQueryChange:c,isAddTo:a,isTurnIntoPage:s,moveToSpaceMenuStore:A,menuListStore:b,isLoading:v})}):void 0,I=P?{onMouseEnter:u,menuType:M().gu.Modal,title:s?(0,z.jsx)(d().sA,{defaultMessage:"Add to another page",id:"moveBlockMenu.mobileNewPageInj.label"}):a?(0,z.jsx)(d().sA,{defaultMessage:"Add new page in",id:"moveBlockMenu.mobileAddTo.label"}):(0,z.jsx)(d().sA,{defaultMessage:"Move to",id:"moveBlockMenu.mobileMoveTo.label"}),right:(0,z.jsx)(d().sA,{defaultMessage:"Done",id:"moveBlockMenu.rightDoneButton.label"}),onClickRight:p,header:j}:{onMouseEnter:u,menuType:M().gu.Popup,width:g,header:j};const R=!Boolean(l)&&!P||B&&!Boolean(l);return(0,z.jsxs)(f().A,{debugName:"MoveToOrCreateMenu",capture:!0,allowMenuList:!0,allowEsc:!0,allowLeft:!0,allowTabUntab:!1,allowUndo:!1,children:[(0,z.jsx)(S().A,{debugName:"MoveToOrCreateMenu",capture:!0,onEsc:p}),(0,z.jsx)(x().A,{...I,onClick:e=>{e.stopPropagation()},footer:(0,z.jsx)(q,{isCreateIn:o,isAddTo:a,moveToSpaceMenuStore:A,allTargetsAreNavigable:h}),children:R?(0,z.jsx)(U,{onAccept:i,targets:t,moveToSpaceMenuStore:A,menuListStore:b,allTargetsAreNavigable:h,forceShowPrivatePageOption:m}):y})]})}function K(e){return{width:10,marginLeft:4,fill:e.icon.tertiary}}function F(e){var t;return!!e&&e.getChosenSpaceId()!==(null===(t=R().default.state.currentSpaceStore)||void 0===t?void 0:t.id)}function U(e){let{onAccept:t,targets:o,moveToSpaceMenuStore:i,menuListStore:a,allTargetsAreNavigable:s,forceShowPrivatePageOption:l}=e;const d=(0,n().v3)(),c=(0,r().K8)((()=>(0,V().wc)(i)),[i]),u=(0,r().K8)((()=>(0,V().NA)(i)),[i]),p=(0,r().K8)((()=>T().n6()),[]),g=(0,r().K8)((()=>(0,j().IL)(c)),[c]);if(!u||!c)return null;const m=!s||g;return p?(0,z.jsx)(E().C,{spaceStore:c,spaceViewStore:u,onAccept:e=>(0,V().nG)(e,t,d),targets:o,menuListStore:a,moveToPagesOnly:m,forceShowPrivatePageOption:l,maxMenuItems:5}):(0,z.jsx)(W().Cr,{spaceStore:c,spaceViewStore:u,onAccept:t,targets:o,moveToPagesOnly:m,forceShowPrivatePageOption:l})}function q(e){let{isCreateIn:t,isAddTo:o,moveToSpaceMenuStore:s,allTargetsAreNavigable:l}=e;const u=(0,d().tz)(),p=(0,i().DP)(),f=(0,n().v3)(),{currentUserRootStore:h,currentSpaceStore:S}=(0,r().K8)((()=>{const{currentUserRootStore:e,currentSpaceStore:t}=R().default.state;return{currentUserRootStore:e,currentSpaceStore:t}}),[]),y=(0,r().K8)((()=>s.getChosenSpaceStore()),[s]),b=(0,r().K8)((()=>l&&!(null!=S&&S.getDisableMoveToSpace())&&!t&&!o),[l,S,t,o]),x=(0,r().K8)((()=>null==h?void 0:h.getSpaceViewStores()),[h]),k=(0,r().K8)((()=>c().hS(c().oE(null==x?void 0:x.map((e=>{const t=e.getSpaceStore();return!(0,j().IL)(t)&&t}))),(e=>e.id))),[x]);if(!h||!y||!S)return null;if(!b)return null;const C={menuTitle:u.formatMessage({defaultMessage:"Workspaces",id:"moveBlockMenu.spaceSwitcher.menuTitle"}),items:k,selectedItem:y,onSelect:e=>{s.setState({chosenSpaceId:e.id})},getKey:e=>e.id,renderItem:e=>(0,z.jsx)(m().A,{...e,isChecked:e.value.id===y.id,title:(0,j().GK)(f,e.value),icon:(0,z.jsx)(A().B6,{icon:(0,j().c2)(f,e.value),isEmptyPage:!1,size:20,disabled:!0,title:(0,j().GK)(f,e.value)})}),renderOrigin:e=>(0,z.jsxs)(g().p,{size:"sm",style:{fontWeight:"normal",fontSize:12,flexShrink:1},...e,children:[(0,z.jsx)(A().B6,{disabled:!0,icon:y.getIcon(),iconRecordCategory:"workspace",isEmptyPage:!1,size:16,title:y.getName(),style:{marginRight:4}}),(0,z.jsx)(H().j,{children:(0,j().GK)(f,y)}),(0,a().b)(K(p))]}),width:150};return(0,z.jsxs)("div",{children:[(0,z.jsx)(v().A,{size:1}),(0,z.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",padding:"4px"},children:(0,z.jsx)(w().A,{...C},"space-switcher")})]})}function $(e){let{isLoading:t,autocompleteQuery:o,onAutocompleteQueryChange:n,isDataSource:a,isAddTo:c,isTurnIntoPage:g,moveToSpaceMenuStore:m,menuListStore:v}=e;const f=(0,d().tz)(),S=(0,i().DP)(),x=(0,r().K8)((()=>T().n6()&&O().Ay.state.isOpen&&"typed"===O().Ay.state.variant&&!L().c.state),[]),A=(0,r().K8)((()=>function(e){let{intl:t,isDataSource:o,isAddTo:n,isTurnIntoPage:r,moveToSpaceMenuStore:i}=e;if(o)return t.formatMessage({defaultMessage:"Move data source to…",id:"moveToMenuRenderer.moveDataSourceTo.label"});if(F(i))return t.formatMessage({defaultMessage:"Duplicate page…",id:"moveToMenuRenderer.duplicateToSpace.label"});if(T().n6()){const e=O().Ay.getDatabaseType();if(T().Hc()){const o=(0,p().$O)(e);return t.formatMessage({defaultMessage:"Move {typedItemName} to…",id:"moveToMenuRenderer.moveTo.typedLabel"},{typedItemName:o})}{const o=(0,p().$O)(e);return t.formatMessage({defaultMessage:"Search for a {typedItemName} database…",id:"moveToMenuRenderer.createIn.typedLabel"},{typedItemName:o})}}return r?t.formatMessage({defaultMessage:"Search page to add in…",id:"moveToMenuRenderer.addNewPageIn.label"}):n?t.formatMessage({defaultMessage:"Search page to add to…",id:"moveToMenuRenderer.addTo.label"}):t.formatMessage({defaultMessage:"Move page to…",id:"moveToMenuRenderer.moveTo.teamLabel"})}({intl:f,isDataSource:a,isAddTo:c,isTurnIntoPage:g,moveToSpaceMenuStore:m})),[f,a,c,g,m]),k=(0,r().K8)((()=>F(m)),[m]),w=(0,I().A)(t,400,0);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(h().Ay,{onCancel:()=>{O().Ay.state.isOpen&&O().Ay.setState({...O().Ay.state,isOpen:!1})},preventCaptureArrowShortcuts:!o,disabled:x,focus:!P().A.isMobile||void 0,focusAfterAnimation:!0,value:o,onChange:e=>{n(e.target.value),v.setState({...v.state,focus:{section:0,indexLocal:0,indexGlobal:0,footerFocused:!1}})},placeholder:A,inputLeft:(0,z.jsx)(h().Zf,{icon:s().q}),inputRight:w&&(0,z.jsx)(b().A,{style:{marginRight:2}}),style:{marginBottom:-2}}),k?(0,z.jsxs)(C().A,{isMultiline:!0,isSecondaryColor:!1,style:{background:S.palette.gray[30],marginTop:12,marginLeft:12,marginRight:12,padding:8,borderRadius:6},children:[(0,l().Q)({fill:S.palette.orange[400],width:14,height:14,marginRight:4,alignSelf:"center",display:"inline-block",verticalAlign:"text-bottom"}),(0,z.jsx)("span",{children:(0,z.jsx)(d().sA,{id:"moveBlockMenu.duplicateToSpace.message",defaultMessage:"You can only duplicate pages into another workspace — not move them."})}),(0,z.jsx)(y().A,{href:(0,B().xS)("guides.duplicateToSpace"),style:{color:S.palette.gray[500],fontWeight:u().Wy.semibold,marginTop:4},children:(0,z.jsx)(d().sA,{id:"moveBlockMenu.duplicateToSpace.learnMoreLink",defaultMessage:"Learn more"})})]}):void 0]})}},149375:(e,t,o)=>{o.d(t,{v:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("arrowLeftThick",{viewBox:"0 0 16 16",directional:!0,svg:(0,n.jsx)("path",{d:"M1.54004 8.05762C1.54004 8.2627 1.62891 8.46094 1.78613 8.61133L6.29102 13.1162C6.45508 13.2734 6.63965 13.3486 6.82422 13.3486C7.25488 13.3486 7.5625 13.041 7.5625 12.6309C7.5625 12.4189 7.48047 12.2344 7.34375 12.1045L5.8125 10.5527L3.78906 8.70703L5.38867 8.80273H13.7012C14.1455 8.80273 14.46 8.49512 14.46 8.05762C14.46 7.61328 14.1455 7.3125 13.7012 7.3125H5.38867L3.7959 7.4082L5.8125 5.5625L7.34375 4.01074C7.48047 3.87402 7.5625 3.68945 7.5625 3.47754C7.5625 3.06738 7.25488 2.7666 6.82422 2.7666C6.63965 2.7666 6.45508 2.83496 6.27734 3.00586L1.78613 7.50391C1.62891 7.64746 1.54004 7.85254 1.54004 8.05762Z"})})},173019:(e,t,o)=>{o.d(t,{r:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("pencil",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.926 13.307H14.11c.183 0 .34-.066.472-.199a.644.644 0 00.198-.471.652.652 0 00-.198-.479.644.644 0 00-.472-.198H5.272l-1.346 1.347zm-.704-.636l7.683-7.684-1.312-1.319-7.69 7.684-.67 1.606c-.037.1-.017.191.06.273.083.082.174.105.274.069l1.655-.63zm8.34-8.326l.738-.732c.182-.187.278-.376.287-.567.009-.192-.068-.374-.232-.547l-.267-.267c-.169-.168-.351-.246-.547-.232-.196.014-.385.11-.567.287l-.739.732 1.327 1.326z"})})},175116:(e,t,o)=>{o.d(t,{ET:()=>l,Ks:()=>d,RI:()=>s,p2:()=>a});o(16280);var n=o(296540);const r="collectionContextStore",i=(0,o(446943).C)({displayName:r,legacyContextKey:r,modernContextDefaultValue:void 0}),a=i.context,s=i.Provider;function l(){const e=n.useContext(a);if(void 0===e)throw new Error(`No context provided: ${r}`);return e}function d(){return n.useContext(a)}},199734:(e,t,o)=>{o.d(t,{U:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("collectionSearch",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M0 6.35938C0 9.86719 2.85156 12.7188 6.35938 12.7188C7.66406 12.7188 8.85938 12.3203 9.85938 11.6406L13.4531 15.2344C13.6719 15.4609 13.9766 15.5625 14.2812 15.5625C14.9453 15.5625 15.4219 15.0625 15.4219 14.4141C15.4219 14.1016 15.3125 13.8125 15.1016 13.5938L11.5312 10.0156C12.2734 8.99219 12.7188 7.72656 12.7188 6.35938C12.7188 2.85156 9.86719 0 6.35938 0C2.85156 0 0 2.85156 0 6.35938ZM1.65625 6.35938C1.65625 3.76562 3.75781 1.65625 6.35938 1.65625C8.95312 1.65625 11.0625 3.76562 11.0625 6.35938C11.0625 8.95312 8.95312 11.0625 6.35938 11.0625C3.75781 11.0625 1.65625 8.95312 1.65625 6.35938Z"})})},207207:(e,t,o)=>{o.d(t,{J:()=>r});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.62 2.62 15.26 15.26",svg:(0,o(474848).jsx)("path",{d:"M8.875 2.625a6.25 6.25 0 1 0 3.955 11.09l3.983 3.982a.625.625 0 1 0 .884-.884l-3.983-3.982a6.25 6.25 0 0 0-4.84-10.205m-5 6.25a5 5 0 1 1 10 0 5 5 0 0 1-10 0"})},r=(0,o(340498).wt)("magnifyingGlass",n)},240865:(e,t,o)=>{o.d(t,{V:()=>i});var n=()=>o(56366),r=()=>o(765957);function i(e){return(0,n().K8)((()=>{var t;return e?e.getMemberCountFromPublicSpaceData()??void 0:(null===(t=r().default.state.currentSpaceStore)||void 0===t?void 0:t.getMemberCountFromPublicSpaceData())??void 0}),[e])}},255824:(e,t,o)=>{o.d(t,{a:()=>i});var n=()=>o(56366);const r=new(o(496506).ComputedStore)((()=>o(263711).g.state.isOpen),{debugName:"IsInPageViewModeStore"});function i(){return(0,n().O$)(r)}},256863:(e,t,o)=>{o.d(t,{A:()=>a});o(296540);var n=()=>o(56366),r=()=>o(824862),i=o(474848);const a=function(e){const{botValue:t,botStore:a,showActiveDot:s,style:l,size:d}=e,c=(0,o(959013).tz)(),u=(0,n().K8)((()=>{if(a){const e=a.getIcon();if(e)return{pointer:{table:r().GP,id:a.id,spaceId:a.getSpaceId()},icon:e}}else if(null!=t&&t.icon)return{pointer:{table:r().GP,id:t.id,spaceId:t.space_id},icon:t.icon}}),[a,t]),p=(0,n().K8)((()=>(null==a?void 0:a.getDisplayName(c))??(0,o(799288).Hg)(t)),[a,t,c]),{activeDotStyle:g}=(0,o(401497).IS)((e=>({activeDotStyle:{height:10,width:10,backgroundColor:e.palette.green[400],border:"2px solid white",borderRadius:"50%",position:"absolute",left:11,top:11}})),[]);return(0,i.jsxs)("div",{style:l,children:[(0,i.jsx)(o(187820).B6,{icon:u,title:p,size:d||18,disabled:!0,isEmptyPage:!1,useInvertedColors:!0}),s?(0,i.jsx)("div",{style:g}):void 0]})}},271084:(e,t,o)=>{o.d(t,{k:()=>r});o(581454);class n extends(()=>o(757695))().Store{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}getSortedUserIds(){return Object.entries(this.state||{}).sort(((e,t)=>{let[o,n]=e,[r,i]=t;return i-n})).map((e=>{let[t,o]=e;return t}))}}const r=new n;(0,o(604341).exposeDebugValue)("UserSimilarityStore",r)},279900:(e,t,o)=>{function n(e){let t,o,n;return async function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t?(n=i,o||(o=t.then((()=>(o=void 0,t=e(...n),t))),o)):(t=e(...i),t)}}o.d(t,{A:()=>n})},320865:(e,t,o)=>{o.d(t,{A:()=>r});o(296540);var n=o(474848);const r=function(){return(0,n.jsx)(o(678553).Ay,{title:(0,n.jsx)(o(331542).A,{})})}},380048:(e,t,o)=>{o.d(t,{I:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("chevronLeft",{viewBox:"0 0 16 16",directional:!0,svg:(0,n.jsx)("path",{d:"M3.61816 8.06445C3.61816 8.29688 3.70703 8.49512 3.8916 8.67285L9.22363 13.8887C9.36719 14.0391 9.55859 14.1143 9.77734 14.1143C10.2217 14.1143 10.5703 13.7725 10.5703 13.3213C10.5703 13.1025 10.4814 12.9043 10.3311 12.7539L5.52539 8.06445L10.3311 3.375C10.4814 3.21777 10.5703 3.01953 10.5703 2.80078C10.5703 2.35645 10.2217 2.01465 9.77734 2.01465C9.55859 2.01465 9.36719 2.08984 9.22363 2.24023L3.8916 7.45605C3.70703 7.63379 3.625 7.83203 3.61816 8.06445Z"})})},381138:(e,t,o)=>{o.d(t,{q:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("search",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"})})},398217:(e,t,o)=>{o.d(t,{Jv:()=>f,Rl:()=>h,mA:()=>v});var n=o(296540),r=()=>o(484714),i=()=>o(56366),a=()=>o(401497),s=()=>o(970013),l=()=>o(743176),d=()=>o(780054),c=()=>o(68465),u=()=>o(159588),p=()=>o(963589),g=o(474848);const m=function(){return(0,g.jsx)(o(464708).A,{color:"purple",style:{marginLeft:6,padding:"1px 4px",display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1},content:(0,g.jsx)(o(959013).sA,{defaultMessage:"AI",id:"database.property.aiAutofillEnabledIndicator"})})};const v=n.memo((function(e){const{propertySchema:t,showIcon:n,showDragIcon:r,hideName:i,badge:s,style:l,iconStyle:c,iconSize:p,dragHandleStyle:m,className:v,labelSizeVariant:f}=e,S=d().A.isMobile?16:14,y=(0,a().IS)((e=>({container:{display:"flex",alignItems:"center",lineHeight:"120%",minWidth:0,fontSize:S,...l},iconWrapper:{display:"grid",justifyContent:"center",alignItems:"center",marginRight:i?void 0:"small"===f||r?4:d().A.isMobile?9:6,...c},dragHandle:{gridColumn:1,gridRow:1,opacity:r?1:0,transition:`opacity ${u().bM}`},itemIcon:{gridColumn:1,gridRow:1,opacity:r?0:1,transition:`opacity ${u().bM}`},dragIcon:{fill:e.icon.secondary}})),[S,i,c,f,r,l]);return(0,g.jsxs)("div",{className:v,style:y.container,children:[n&&(0,g.jsxs)("div",{style:y.iconWrapper,children:[(0,g.jsx)("div",{style:y.itemIcon,children:(0,g.jsx)(h,{propertySchema:t,iconSize:p,iconStyle:c})}),(0,g.jsx)("div",{style:y.dragHandle,children:(0,g.jsx)(o(57232).A,{style:m,iconSize:12,iconStyle:y.dragIcon})})]}),!i&&(0,g.jsx)("div",{style:{...o(284371).RC},children:t.name}),s]})}));function f(e){const{propertySchema:t}=e,o=(0,r().v3)();return(0,i().K8)((()=>(0,c().O0)(o)&&s().$M(t)&&s().om(t)),[o,t])?(0,g.jsx)(m,{}):null}function h(e){const{propertySchema:t,iconSize:o,iconStyle:n}=e,r=(0,a().DP)(),i=(0,p().X)("nds_default_property_noticon"),s=d().A.isMobile?18:16;return(0,g.jsx)(l().zB,{type:t.type,icon:t.icon,size:o||s,theme:r,style:n,isDefaultNoticonEnabled:i})}},406533:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>r,questionMarkCircleIcon:()=>i});o(296540);var n=o(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.26 15.25",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M9.978 7.154c-.804 0-1.333.456-1.438.874a.625.625 0 0 1-1.213-.303c.28-1.121 1.44-1.82 2.65-1.82 1.365 0 2.714.905 2.714 2.298 0 .812-.49 1.477-1.13 1.872l-.755.516a.84.84 0 0 0-.381.677.625.625 0 1 1-1.25 0c0-.688.36-1.318.921-1.706l.003-.002.784-.535.014-.008c.374-.228.544-.537.544-.814 0-.459-.517-1.049-1.463-1.049m.662 6.336a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,n.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},i=(0,o(340498).wt)("questionMarkCircle",r)},413267:(e,t,o)=>{o.d(t,{b:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("thinCheck",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M6.385 14.162c.362 0 .642-.15.84-.444L13.652 3.71c.144-.226.205-.417.205-.602 0-.485-.341-.82-.833-.82-.335 0-.54.123-.746.444l-5.926 9.4-3.042-3.903c-.205-.267-.417-.376-.718-.376-.492 0-.848.348-.848.827 0 .212.075.417.253.629l3.541 4.416c.24.3.492.437.848.437z"})})},430102:(e,t,o)=>{o.d(t,{I:()=>u});var n=o(296540),r=()=>o(401497),i=()=>o(854705),a=()=>o(381349),s=()=>o(704152),l=()=>o(960715),d=()=>o(859428),c=o(474848);const u=n.memo(n.forwardRef((function(e,t){const{style:o,color:n,title:i,onClick:a,onDropdownClick:s,mainButtonTooltip:d,dropdownTooltip:u,iconLeading:m,iconStyle:v,mainButtonStyle:f,isLoading:h,className:S,disabled:y,disableDropdown:b,size:x,variant:A="solid"}=e,k=(0,r().IS)((e=>{const t=(0,l().qq)({size:x,isButtonGapEnabled:!1});return{wrap:{position:"relative",display:"inline-flex",flexShrink:0,borderRadius:6,overflow:"hidden",height:t.height,...o},border:{position:"absolute",pointerEvents:"none",border:"outline"===A?`1px solid ${e.outlineButtonBorder}`:void 0,borderRadius:t.borderRadius,top:0,left:0,right:0,bottom:0}}}),[x,A,o]);return(0,c.jsxs)("div",{style:k.wrap,className:S,children:[(0,c.jsx)(p,{ref:t,color:n,disabled:y,icon:m,iconStyle:v,isLoading:h,mainButtonStyle:f,mainButtonTooltip:d,onClick:a,title:i,variant:A}),(0,c.jsx)(g,{ref:t,color:n,disabled:b,dropdownTooltip:u,isLoading:h,onDropdownClick:s,variant:A}),(0,c.jsx)("div",{style:k.border})]})}))),p=n.memo(n.forwardRef((function(e,t){const{mainButtonTooltip:n,onClick:i,disabled:u,isLoading:p,icon:g,title:v,color:f,variant:h,mainButtonStyle:S,iconStyle:y,size:b}=e,x=(0,r().IS)((e=>{const t=(0,l().qq)({size:b,isButtonGapEnabled:!1}),n={background:m(f,h,{outline:void 0,solid:{blue:a().Ay.blue,black:a().Ay.frontBlackButtonBackground,orange:e.palette.orange["dark"===e.mode?100:50]}}),color:m(f,h,{outline:{blue:e.text.uiBluePrimary,black:e.text.primary,orange:e.text.orangeSecondary},solid:{blue:a().Ay.white,black:a().Ay.white,orange:e.palette.orange["dark"===e.mode?600:400]}})};return{mainButton:{display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderTopLeftRadius:6,borderBottomLeftRadius:6,paddingLeft:t.paddingLeft,paddingRight:t.paddingRight,fontSize:t.fontSize,fontWeight:o(284371).Wy.medium,...n,...S},icon:{width:12,marginRight:6,fill:m(f,h,{outline:n.color,solid:{blue:a().Ay.white,black:a().Ay.white,orange:e.palette.orange[400]}}),...y},buttonHoveredStyle:{background:m(f,h,{outline:{blue:e.tint.uiBlueHover,black:e.tint.primaryHover,orange:e.tint.uiRedHover},solid:{blue:e.blueButtonHoveredBackground,black:a().Ay.frontBlackButtonBackgroundHovered,orange:e.palette.orange["dark"===e.mode?200:100]}})},buttonPressedStyle:{background:m(f,h,{outline:{blue:e.tint.uiBluePressed,black:e.tint.primaryPressed,orange:e.tint.uiRedPressed},solid:{blue:e.blueButtonPressedBackground,black:a().Ay.frontBlackButtonBackgroundPressed,orange:e.palette.orange["dark"===e.mode?300:200]}})}}}),[f,y,S,b,h]);return n?(0,c.jsx)(d().A,{renderTooltip:()=>n,render:e=>(0,c.jsxs)(s().A,{ref:t,style:x.mainButton,onClick:i,disabled:u,disabledFeedback:!0,hoveredStyle:x.buttonHoveredStyle,pressedStyle:x.buttonPressedStyle,...e,children:[g?g(x.icon):null,v]})}):(0,c.jsxs)(s().A,{ref:t,style:x.mainButton,onClick:i,disabled:u||p,disabledFeedback:!0,hoveredStyle:x.buttonHoveredStyle,pressedStyle:x.buttonPressedStyle,children:[p?(0,c.jsx)(o(331542).A,{style:{marginRight:4}}):null,g?g(x.icon):null,v]})}))),g=n.memo(n.forwardRef((function(e,t){const{disableDropdown:u,disabled:p,dropdownTooltip:g,onDropdownClick:v,isLoading:f,size:h,color:S,variant:y}=e,{isMobile:b}=(0,o(484714).Y0)(),x=(0,r().IS)((e=>{const t=(0,l().qq)({size:h,isButtonGapEnabled:!1}),n={background:m(S,y,{outline:void 0,solid:{blue:a().Ay.blue,black:a().Ay.frontBlackButtonBackground,orange:e.palette.orange["dark"===e.mode?100:50]}}),color:m(S,y,{outline:{blue:e.text.uiBluePrimary,black:e.text.primary,orange:e.text.orangeSecondary},solid:{blue:a().Ay.white,black:a().Ay.white,orange:e.palette.orange["dark"===e.mode?600:400]}})};return{dropdownButton:{display:"flex",alignItems:"center",justifyContent:"center",width:b?28:24,alignSelf:"stretch",borderTopRightRadius:t.borderRadius,borderBottomRightRadius:t.borderRadius,boxShadow:"outline"===y||"blue"===S||"black"===S?`inset 1px 0 0 ${e.darkDividerColor}`:"orange"===S?`${e.palette.orange["dark"===e.mode?200:100]} 1px 0 0 inset`:(0,o(534177).HB)(S),...n},dropdownButtonIcon:{width:o(340498).Ev.sm,marginTop:2,fill:m(S,y,{outline:n.color,solid:{blue:a().Ay.white,black:a().Ay.white,orange:e.palette.orange["dark"===e.mode?500:400]}})},buttonHoveredStyle:{background:m(S,y,{outline:{blue:e.tint.uiBlueHover,black:e.tint.primaryHover,orange:e.tint.uiRedHover},solid:{blue:e.blueButtonHoveredBackground,black:a().Ay.frontBlackButtonBackgroundHovered,orange:e.palette.orange["dark"===e.mode?200:100]}})},buttonPressedStyle:{background:m(S,y,{outline:{blue:e.tint.uiBluePressed,black:e.tint.primaryPressed,orange:e.tint.uiRedPressed},solid:{blue:e.blueButtonPressedBackground,black:a().Ay.frontBlackButtonBackgroundPressed,orange:e.palette.orange["dark"===e.mode?300:200]}})}}}),[S,b,h,y]),A=(0,n.useCallback)((e=>(0,c.jsx)(s().A,{ref:t,style:x.dropdownButton,onClick:v,disabledFeedback:!0,hoveredStyle:x.buttonHoveredStyle,pressedStyle:x.buttonPressedStyle,...e,children:(0,i().arrowChevronSingleDownFillSmallIcon)(x.dropdownButtonIcon)})),[v,t,x.buttonHoveredStyle,x.buttonPressedStyle,x.dropdownButton,x.dropdownButtonIcon]),k=(0,n.useCallback)((()=>g),[g]);return u||p?null:g?(0,c.jsx)(d().A,{renderTooltip:k,render:A}):(0,c.jsx)(s().A,{ref:t,style:x.dropdownButton,onClick:v,disabledFeedback:!0,hoveredStyle:x.buttonHoveredStyle,pressedStyle:x.buttonPressedStyle,disabled:f,children:(0,i().arrowChevronSingleDownFillSmallIcon)(x.dropdownButtonIcon)})})));function m(e,t,o){return"object"!=typeof o[t]?o[t]:o[t][e]}},454531:(e,t,o)=>{o.d(t,{W:()=>v});var n=()=>o(780054),r=()=>o(972435),i=()=>o(867772),a=()=>o(681810),s=()=>o(901389),l=()=>o(896628),d=()=>o(383594),c=()=>o(675925),u=()=>o(751156),p=()=>o(892632);const g=1500,m=(0,o(959013).YK)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},preparing:{defaultMessage:"Preparing...",id:"pageCover.status.preparing"},downloading:{defaultMessage:"Downloading...",id:"pageCover.status.downloading"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image link…",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function v(e){let{environment:t,intl:o,store:n,rect:r,from:i}=e;d().W(t,{originGap:3,originRect:r,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:o.formatMessage(m.pageCover),onDelete:()=>{!function(e){let{environment:t,store:o}=e;d().I(),u().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{l().PT({store:o,transaction:e})}})}({environment:t,store:n})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:o,position:r}=e;(0,c().o)(t,{action:"edit_cover",block_type:"page",from:i},(e=>{h({environment:t,store:n,url:{originUrl:o},position:r}),e()}))}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:o.formatMessage(m.fileTypeCaption,{idealImageWidth:g}),onUpload:e=>{(0,c().o)(t,{action:"edit_cover",block_type:"page",from:i},(r=>{var i;d().I(),p().QM({environment:t,file:e[0],bucket:"secure",record:(null===(i=n.getCoverStore())||void 0===i?void 0:i.pointer)??n.pointer,isFileBlock:!1,reportRichUploadMetrics:!0,onStart:S,onProgress:y,onComplete:e=>{var o;o={environment:t,store:n,url:{originUrl:e}},f({...o,position:.5})},onError:()=>{s().f1(o.formatMessage(m.uploadFailed))}}),r()}))}},{type:"embed",title:o.formatMessage(m.embedTitle),inputPlaceholder:o.formatMessage(m.embedPlaceholder),caption:o.formatMessage(m.embedCaption),buttonText:o.formatMessage(m.embedSubmit),onChange:e=>{(0,c().o)(t,{action:"edit_cover",block_type:"page",from:i},(o=>{var r;r={environment:t,store:n,url:e},f({...r,position:.5}),d().I(),o()}))}},{type:"unsplash",onChange:e=>{let{url:o,position:r}=e;(0,c().o)(t,{action:"edit_cover",block_type:"page",from:i},(e=>{h({environment:t,store:n,url:{originUrl:o},position:r}),e()}))}}]})}async function f(e){const{environment:t,store:o,url:n,position:s}=e,{serverCommitResult:d}=u().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{l().fg({store:o,url:n,position:s||.5,transaction:e})}});await d,a().A.state.loadingMode===i().vS&&a().A.setState({loadingMode:i().Gi,dataURL:a().A.state.dataURL,uploadProgress:t.device.isMobileNative?void 0:100,progressText:r().A.formatMessage(m.downloading)})}function h(e){f(e),n().A.isMobile&&d().I()}function S(e){const{file:t,name:o,size:n}=e;if(d().I(),a().A.setState({loadingMode:i().Wc,file:t,name:o,size:n}),t.type.indexOf("image")>=0)if(t instanceof File){const e=new FileReader;e.onload=e=>{a().A.state.loadingMode===i().Wc&&a().A.setState({...a().A.state,loadingMode:i().vS,uploadProgress:0,dataURL:e.target.result})},e.readAsDataURL(t)}else a().A.state.loadingMode===i().Wc&&a().A.setState({...a().A.state,loadingMode:i().vS,dataURL:t.dataURL,progressText:r().A.formatMessage(m.preparing)});else a().A.state.loadingMode===i().Wc&&a().A.setState({...a().A.state,loadingMode:i().vS,progressText:r().A.formatMessage(m.preparing)})}function y(e){const{progressPercent:t,progressText:o}=e;a().A.state.loadingMode===i().vS&&a().A.setState({...a().A.state,uploadProgress:t,progressText:o})}},458366:(e,t,o)=>{o.d(t,{B2:()=>B,F1:()=>w,Kc:()=>A,NN:()=>T,UY:()=>x,br:()=>M,lA:()=>C,lh:()=>k,pi:()=>S,w_:()=>b,zP:()=>y});o(898992),o(737550);var n=()=>o(584262),r=()=>o(443239),i=()=>o(970013),a=()=>o(713998),s=()=>o(882262),l=()=>o(415566),d=()=>o(177256),c=()=>o(72135),u=()=>o(919709),p=()=>o(496603),g=()=>o(534177),m=()=>o(939768),v=()=>o(720665),f=()=>o(492414),h=()=>o(972435);function S(e){return Boolean(e.state.isOpen&&e.state.collectionsBulkActionsToolbarStore)}function y(e){switch(e){case"table":return"table";case"board":return"board";case"list":return"list";case"gallery":return"gallery";case"feed":return"feed";case"relation":case"relation_section":return"relation_section";case"timeline":return"timeline";case"calendar":return"calendar";case"page":return"page_properties";case"compact_page":return"compact_page";case"mini":return"mini_peek";case"form_editor":case"form_viewer":case"property_module":return"property_module";default:(0,g().HB)(e)}}function b(e){return{backgroundImage:`linear-gradient(\n\t\tto right,\n\t\t${e.darkDividerColor} 0%,\n\t\t${e.darkDividerColor} 100%\n\t)`,backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% 1px"}}function x(e){const{store:t,property:o,propertySchema:r}=e,i=null==r?void 0:r.type;if("title"===i)return(0,f().Ay)({store:t,fullyQualified:!1,pageVisitSource:n().y8.LinkInPage});{const e=t.getPropertyValue(o);return a().UY(i,e)}}function A(e){let t=(0,u().k4p)(e);if(!t||""===t.trim()||t.trim().includes(" "))return{domain:void 0,restOfUrl:void 0};t=t.trim();let o=m().qg(t),n=o.host;if(o.protocol&&n||(o=m().qg(`http://${t}`),n=o.host),!n)return{domain:void 0,restOfUrl:void 0};n&&(n=n.replace(/^www./i,""));const r=t.toLowerCase().indexOf(n.toLowerCase());if(-1===r)return{domain:void 0,restOfUrl:void 0};n=t.slice(r,r+n.length);return{domain:n,restOfUrl:t.slice(r+n.length)}}function k(e){const{numberValue:t,numberFormat:o,numberShowAs:n}=e;if(!(p().yr(t)||v().pN(t)||"bar"!==(null==n?void 0:n.type)&&"ring"!==(null==n?void 0:n.type))){const e=h().A.getIntl();return"percent"===o?c().ZV(t,"percent",e):`${t} / ${n.maxValue}`}}function w(e){const{property:t,collectionStore:o}=e,n=o.isSyncedCollection();return Boolean(n)&&(0,r().u)(t)}function C(e,t){switch(e){case"side_peek":return{icon:d().A,tooltip:h().A.formatMessage(P.openInSidePeekTooltip),caption:t?"":h().A.formatMessage(P.openAsPageTitle)};case"center_peek":return{icon:l().q,tooltip:h().A.formatMessage(P.openInCenterPeekTooltip),caption:t?"":h().A.formatMessage(P.openAsPageTitle)};case"full_page":return{icon:s().m,tooltip:h().A.formatMessage(P.openAsPageTooltip),caption:t?"":h().A.formatMessage(P.openAsPageTitle)};default:(0,g().HB)(e)}}const P=(0,o(959013).YK)({openAsPageTitle:{defaultMessage:"Open",id:"database.actionButton.openAsPageTitle"},openAsPageTooltip:{defaultMessage:"Open as page",id:"database.actionButton.openAsPageTooltip"},openInCenterPeekTooltip:{defaultMessage:"Open in center peek",id:"database.actionButton.openInCenterPeekTooltip"},openInSidePeekTooltip:{defaultMessage:"Open in side peek",id:"database.actionButton.openInSidePeekTooltip"}});function M(e){const{store:t,additionalStores:o,collectionContextStore:n}=e,r=t.getAssociatedCollectionStore();return!("collectionTypedView"!==(null==n?void 0:n.contextType)||!r)&&o.some((e=>{var t;return(null===(t=e.getAssociatedCollectionStore())||void 0===t?void 0:t.id)!==r.id}))}function T(e){return"form_editor"===e||"form_viewer"===e}function B(e){return Boolean(e&&!i().dA.includes(e.type))}},465364:(e,t,o)=>{o.d(t,{$N:()=>j,D5:()=>I,GB:()=>M,M9:()=>C,Pt:()=>B,eW:()=>T,jo:()=>L,v7:()=>P});o(944114),o(898992),o(803949),o(581454);var n=()=>o(244641),r=()=>o(787626),i=()=>o(713998),a=()=>o(597777),s=()=>o(604995),l=()=>o(416504),d=()=>o(519831),c=()=>o(496603),u=()=>o(534177),p=()=>o(299709),g=()=>o(317001),m=()=>o(520861),v=()=>o(878060),f=()=>o(44729),h=()=>o(246826),S=()=>o(319975),y=()=>o(519839),b=()=>o(695625),x=()=>o(397248),A=()=>o(217429),k=()=>o(630116),w=()=>o(747671);function C(e){const{environment:t,droppedStores:o,duplicate:i,calendarBy:c,transaction:u,collectionContextStore:v,duplicateActions:h}=e,S=n().c9.fromMillis(e.startOfDay);let b=!0;for(const n of o){const t=e.collectionStore?e.collectionStore:(0,y().Dj)({store:n,collectionContextStore:v});if(n.getParentTable()===d().Vl||!t){b=!1;break}f().X$({childStore:n,parentStore:t,transaction:u})||(b=!1)}const x=(0,m().T)({environment:t,droppedStores:o,duplicate:i,transaction:u,collectionStore:e.collectionStore,duplicateActions:h});for(const n of x){const o=e.collectionStore?e.collectionStore:(0,y().Dj)({store:n,collectionContextStore:v});if(!o)continue;const i=o.getMappedProperty(c),d=n.getPropertyStore(i),m=(0,r().b)(d.getValue())||s().Ec((0,l().P)()),f=s().kW(m,(0,l().P)()),h=S.toFormat(s().tr);let x;if("date"===f.type||"datetime"===f.type)x={...f,start_date:h};else{const e=s().AA(f,(0,l().P)());if(!e.end)return;const t={...f,start_date:h},o=s().AA(t,(0,l().P)()).start.diff(e.start,"days"),n=e.end.plus(o).toFormat(s().tr);x={...f,start_date:h,end_date:n}}const A=s().kW(x,a().$K(m)||(0,l().P)());(0,g().j)({environment:t,store:n,collectionStore:o,collectionContextStore:v,shouldCoerce:!0,groupsPointer:[],transaction:u,alreadyMovedToCollection:b}),I({environment:t,type:"dateValue",propertyId:i,store:n,transaction:u,dateValue:A}),(0,p().E)({environment:t,collectionContextStore:v,block_id:n.id,property:i,property_type:"date",from:"calendar"})}}function P(e){const{calendarStore:t,direction:o,targetStore:n}=e;t.setState({...t.state,isDragging:!0,targetStore:n,direction:o,temporaryValue:void 0})}function M(e){const{calendarStore:t,x:o,y:i,calendarBy:d}=e,u=t.state;if(u.isDragging){const e=(0,r().b)(u.targetStore.getPropertyStore(d).getValue());if(!e)return;const p=s().kW(e,(0,l().P)()),g=u.temporaryValue||e,m=s().kW(g,(0,l().P)()),v=[];u.dayStoreMap.forEach(((e,t)=>{v.push({store:e,timestamp:t})}));const f=v.find((e=>{let{store:t}=e;const n=b().T.getRectFromStore(t);return Boolean(n&&x().ux(n,o,i))}));let h;if(f){const e=n().c9.fromMillis(f.timestamp),t=e.endOf("day"),o=e.toFormat(s().tr);if(p){const r=s().AA(p,(0,l().P)());if(u.direction===w().Q.Left)if(n().IX.fromDateTimes(e,t).contains(r.start))h=p;else{let e;e="datetimerange"===p.type||"daterange"===p.type?{...p,start_date:o,end_date:p.end_date}:"datetime"===p.type?{type:"datetimerange",start_date:o,start_time:p.start_time,end_date:p.start_date,end_time:p.start_time,time_zone:p.time_zone,reminder:p.reminder}:{type:"daterange",start_date:o,end_date:p.start_date,reminder:p.reminder};const t=s().AA(e,(0,l().P)());h=!r.end&&t.start>r.start||r.end&&t.start>r.end?m:e}else if(r.end?n().IX.fromDateTimes(e,t).contains(r.end):n().IX.fromDateTimes(e,t).contains(r.start))h=p;else{let e;e="date"===p.type?{...p,type:"daterange",end_date:o}:"datetime"===p.type?{...p,type:"datetimerange",end_date:o,end_time:"00:00"}:{...p,end_date:o};const t=s().AA(e,(0,l().P)());h=t.end&&t.end<t.start?m:e}}}if(h&&!c().n4(m,h)){const e=s().kW(h,a().$K(g)||(0,l().P)());t.setState({...u,temporaryValue:e})}}}function T(e){const{environment:t,calendarStore:o,calendarBy:n,transaction:r}=e,i=o.state;i.isDragging&&i.temporaryValue&&(I({type:"dateValue",environment:t,dateValue:i.temporaryValue,propertyId:n,store:i.targetStore,transaction:r}),o.setState({...o.state,isDragging:!1}))}function B(e){const{calendarStore:t}=e,o=t.state;o.isDragging&&t.setState({...o,isDragging:!1})}function j(e){const{environment:t,store:o,collectionStore:r,collectionContextStore:a,startDayOfWeek:d,transaction:c}=e,u=a.dateRangeStartStore.state,p=(0,l().P)(),m=a.normalizedQueryStore.state;if(!m||!m.calendar_by)return;const v=(null==r?void 0:r.getMappedProperty(m.calendar_by))??m.calendar_by,f=s().hp(u,d,p),S=f.startOf("month"),y=f.endOf("month"),b=n().c9.now().startOf("day");let x;return x=n().IX.fromDateTimes(S,y).contains(b)?s().p6(b.valueOf(),p):s().p6(s().iB(u,d,p).valueOf(),p),h().zv({store:o.getPropertiesStore(),data:{[v]:i().m5(x)},transaction:c}),(0,g().j)({environment:t,store:o,collectionStore:r,collectionContextStore:a,shouldCoerce:!0,groupsPointer:[],transaction:c}),o}function I(e){const{environment:t,store:o,propertyId:n,transaction:r}=e;let a;"timestamp"===e.type?a=s().p6(e.timestampMs.valueOf(),(0,l().P)()):"dateValue"===e.type?a=e.dateValue:(0,u().HB)(e);const d=o.getPropertyValue(n);if(a&&function(e){const{propertyId:t,oldDateValue:o,newPersistedDate:n,store:r}=e;if(o||!n||void 0!==n.reminder)return!1;if(!A().default.checkGate({gateName:"adoption_reminder_collection_default"}))return!1;const i=R(t,r);if(void 0===i)return!1;return!0}({propertyId:n,oldDateValue:d,newPersistedDate:a,store:o})){const e=R(n,o);void 0!==e&&(a={...a,reminder:e})}const c=i().m5(a);h().zv({store:o.getPropertiesStore(),data:{[n]:c},transaction:r}),v().O({environment:t,store:o,dateProperty:{id:n,oldValue:d,newValue:c}})}function R(e,t){const o=t.getAssociatedCollectionStore();if(!o)return;const n=o.getSchema();if(!n)return;const r=n[e];return r&&"date"===r.type?r.default_reminder:void 0}function L(e){const{environment:t,collectionStore:o,calendarBy:n,store:r,insertStores:i,collectionContextStore:a,transaction:s}=e,l=r.getPropertyStore(n).getValue();for(const d of i)(0,g().j)({environment:t,store:d,collectionStore:o,collectionContextStore:a,shouldCoerce:!0,groupsPointer:[],transaction:s}),S().R9({environment:t,store:d.getPropertyStore(n),value:l,transaction:s});return i.map((e=>k().Bv.createChildStore(o,e.pointer)))}},477293:(e,t,o)=>{o.d(t,{r:()=>i});var n=()=>o(56366),r=()=>o(217429);function i(e){let{disableExposureLogging:t,disableEventTrailLogging:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n().K8)((()=>r().default.getEligibleGroup({experimentId:e,defaultGroup:"control",disableExposureLogging:t,disableEventTrailLogging:o})),[e,t,o])}},497222:(e,t,o)=>{o.d(t,{A:()=>g});o(296540);var n=()=>o(804773),r=()=>o(401497),i=()=>o(906380),a=()=>o(30626),s=()=>o(284371),l=()=>o(760217),d=()=>o(8980),c=()=>o(612900),u=()=>o(700251),p=o(474848);function g(e){const{icon:t,iconStyle:o,title:g,caption:m,right:v,rightStyle:f,isRed:h,isGray:S,isOrange:y,onClick:b,onMouseDown:x,onMouseEnter:A,onMouseLeave:k,disabled:w,showChevron:C,chevronStyle:P,rotateChevron:M,showDragHandle:T,focused:B,textWrapperStyle:j,shouldWrapCaption:I,desktopIconStyle:R,buttonStyle:L,desktopTitleStyle:D,source:_,menuListItemProps:O,isPulsing:H}=e,V=(0,u().y$)(),W=(0,r().IS)((e=>({style:{...(e=>S?{color:e.text.secondary,fill:e.icon.secondary}:y?{color:e.icon.orangePrimary,fill:e.icon.orangePrimary}:{color:e.text.primary,fill:e.icon.primary})(e),opacity:w?.4:void 0,...L},leftIconStyle:{width:V,height:V,...t===a()._&&{height:3},...o},rightStyle:{display:"flex",alignItems:"center",color:w?e.text.primary:e.text.tertiary,fill:w?e.icon.primary:e.icon.tertiary,flexShrink:0,...f},rightChevronStyle:{marginLeft:"tableHeaderMenu"===_?0:6,transition:"transform 200ms ease-in-out",...M&&{transform:"rotate(90deg)"},...P}})),[S,y,w,o,t,P,f,L,V,M,_]),{itemRef:E,isTabbable:z,onKeyDown:N,onFocus:K}=(0,n().e)(),F=(0,p.jsx)(l().A,{ref:E,icon:null==t?void 0:t(W.leftIconStyle),focused:B||!1,disabled:w,title:g,caption:m,shouldWrapCaption:I,desktopTitleStyle:{flexGrow:1,flexShrink:1,...D},onKeyDown:N,onFocus:K,disallowTabbing:!z,showDragHandle:T,buttonStyle:W.style,rightStyle:W.rightStyle,isRedOnHover:h,ignoreLocalHoverState:!!w||void 0,right:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{...s().RC,display:"flex"},children:v}),!w&&C?(0,p.jsx)(d().I,{icon:i().arrowChevronSingleRightSmallIcon,size:"sm",color:"tableHeaderMenu"===_?"secondary":"tertiary",style:W.rightChevronStyle}):null]}),onClick:b,onMouseDown:x,onMouseEnter:A,onMouseLeave:k,textWrapperStyle:j,desktopIconStyle:R,...O});return H?(0,p.jsx)(c().u,{borderRadius:6,shape:"square",children:F}):F}},505108:(e,t,o)=>{o.d(t,{a:()=>g});var n=o(296540),r=()=>o(401497),i=()=>o(534177),a=()=>o(284371),s=()=>o(84817),l=()=>o(819121),d=()=>o(955825),c=o(474848);function u(e){const{disabled:t,checked:o,selectorSize:n}=e,[i,a]=(0,l().A)(),s=function(e){const{checked:t,disabled:o,isFocusVisible:n,selectorSize:i}=e;return(0,r().IS)((e=>({root:{position:"absolute",display:"flex",width:15,height:15,padding:5,margin:1.5,justifyContent:"center",alignItems:"center",gap:8,flexShrink:0,borderRadius:"50%",transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${o?e.tint.regular:e.blueColor}`,background:o?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${o?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...n&&{boxShadow:e.buttonBlueFocusRing}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"small"===i?14:18,height:"small"===i?14:18,...o?{pointerEvents:"none"}:{cursor:"pointer"}}})),[t,o,n,i])}({checked:o,disabled:t,isFocusVisible:a,selectorSize:n});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{ref:i,type:"radio",style:s.input,className:"radio-button",...e}),(0,c.jsx)("span",{...(0,d().AH)("custom-radio-button",s.root,t?{}:{pseudoActive:s.active})})]})}var p=()=>o(554509);const g=n.forwardRef((function(e,t){let{additionalContent:o,description:i,isDisabled:l,isSelected:d,label:u,name:p,onChange:g,width:f="fill",selectorSize:h="normal",selectAlignXAxis:S="left",selectAlignYAxis:y="center",selectType:b="checkbox",style:x,supportText:A,value:k,colorName:w,alignAdditionalContent:C,...P}=e;const M=(0,n.useId)(),T=function(e){const{isSelected:t,isDisabled:o,selectAlignYAxis:n,alignAdditionalContent:i}=e;return(0,r().IS)((e=>{const r=t&&!o?e.blueColor:e.selectorBorderUnselected;return{container:{display:"flex",alignItems:i??"center",gap:12,userSelect:"none",padding:"9px 16px 10px 10px",borderRadius:6,border:`1px solid ${r}`,...!o&&{cursor:"pointer"}},title:{fontWeight:a().Wy.medium,fontSize:14,userSelect:"none",lineHeight:18},additionalContentWrapper:{flexShrink:0},selectorWrapper:{display:"flex",..."top"===n?{marginTop:2}:{}},rightAlignSelectorWrapper:{display:"flex"}}}),[t,o,n,i])}({isSelected:d,isDisabled:l,selectAlignYAxis:y,alignAdditionalContent:C}),B=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===y?"top-left":"center-left",gap:12,width:f,children:[(0,c.jsx)("div",{style:T.selectorWrapper,children:(0,c.jsx)(v,{id:M,selectType:b,name:p,value:k,onChange:g,isSelected:d,selectorSize:h,isDisabled:l,...P})}),(0,c.jsx)(m,{colorName:w,description:i,label:u,selectorSize:h,supportText:A,isDisabled:l})]}),j=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===y?"top-center":"center",gap:12,children:[(0,c.jsx)(m,{colorName:w,description:i,label:u,selectorSize:h,supportText:A,isDisabled:l}),(0,c.jsx)("div",{style:{...T.selectorWrapper,...T.rightAlignSelectorWrapper},children:(0,c.jsx)(v,{id:M,selectType:b,name:p,value:k,onChange:g,selectorSize:h,isSelected:d,isDisabled:l,...P})})]}),I=o?(0,c.jsx)("div",{style:T.additionalContentWrapper,children:o}):null;return(0,c.jsx)("label",{ref:t,style:{...T.container,...x},htmlFor:M,children:"left"===S?(0,c.jsxs)(c.Fragment,{children:[B,I]}):(0,c.jsxs)(c.Fragment,{children:[I,j]})})}));function m(e){const{description:t,label:o,supportText:n,selectorSize:r,isDisabled:a,colorName:l}=e;let d;return"large"===r?d="Page-Content/Text-Block":"normal"===r||void 0===r?d="Body-13px/Medium":"small"===r?d="Body-12px/Regular":(0,i().HB)(r),(0,c.jsxs)(s().Y1,{gap:4,children:[(0,c.jsxs)(s().Y1,{gap:2,children:[(0,c.jsx)(p().D,{styleName:d,colorName:l||(a?"quaternary":"primary"),children:o}),t?(0,c.jsx)(p().D,{styleName:"Caption-12px/Regular",colorName:a?"quaternary":"secondary",children:t}):null]}),n?(0,c.jsx)(p().D,{styleName:"Caption-12px/Medium",colorName:"tertiary",children:n}):null]})}function v(e){const{selectType:t,selectorSize:n="normal",id:a,name:s,value:l,onChange:d,isSelected:p,isDisabled:g,...m}=e,v=(0,r().IS)((()=>({checkboxWrapper:{minWidth:18,display:"flex",justifyContent:"center"}})),[]);switch(t){case"radio":return(0,c.jsx)(u,{id:a,name:s,value:l,onChange:d,checked:p,disabled:g,selectorSize:n,...m});case"checkbox":return(0,c.jsx)("div",{style:v.checkboxWrapper,children:(0,c.jsx)(o(115562).W,{id:a,name:s,value:l,onChange:d,checked:p,disabled:g,selectorSize:n,...m})});case"none":return null;default:(0,i().HB)(t)}}},520861:(e,t,o)=>{o.d(t,{T:()=>r});o(944114),o(898992),o(908872);var n=()=>o(415651);function r(e){const{environment:t,collectionStore:o,duplicate:r,droppedStores:i,transaction:a,duplicateActions:s}=e,{movedStores:l,reparentedStores:d}=i.reduce(((e,t)=>(r||t.getAssociatedCollectionId()!==(null==o?void 0:o.id)?e.reparentedStores.push(t):e.movedStores.push(t),e)),{movedStores:[],reparentedStores:[]});return[...l,...n().MS({environment:t,droppedStores:d,duplicate:r,transaction:a,resolveTemplateVariables:!1,duplicateActions:s})]}},525432:(e,t,o)=>{o.d(t,{Bd:()=>s,DN:()=>m,II:()=>y,R8:()=>S,U9:()=>h,VM:()=>f,ZF:()=>p,ZI:()=>c,bf:()=>d,jx:()=>u,wW:()=>v,xO:()=>l});o(16280),o(296540);var n=()=>o(651124),r=()=>o(959013),i=()=>o(712505),a=o(474848);let s=function(e){return e[e.ViewSettings=0]="ViewSettings",e[e.FilterBar=1]="FilterBar",e[e.TopbarFilterPopup=2]="TopbarFilterPopup",e[e.TopbarSortPopup=3]="TopbarSortPopup",e[e.TopbarFollowPopup=4]="TopbarFollowPopup",e[e.MobileSheet=5]="MobileSheet",e}({});const l=480,d=320;function c(e){const{timelineViewTab:t,collectionContextStore:o}=e,r=u({collectionContextStore:o}),i=p({collectionContextStore:o});return"timeline"===r?"timeline"===t?"timeline_properties":i?"timeline_table_properties":void 0:(0,n().u9)(u({collectionContextStore:o}))}function u(e){var t;const{collectionContextStore:o}=e,n=null===(t=o.collectionViewStore())||void 0===t?void 0:t.getType();if(!n)throw new Error("View type was not defined.");return n}function p(e){const{collectionContextStore:t}=e,o=t.normalizedFormatStore.state;return Boolean(o.timeline_show_table)}const g=600;function m(e,t,o){const n=o||0,r=e.settingsStore.state;if(r.open&&!0!==r.hideSettingsPopup)return v(e,t,n)}function v(e,t,o){const n=o||0,r=e.settingsStore.state,a=u({collectionContextStore:e});return r.open&&"form_editor"===a||t||i().default.isSidePeekOpen()||e.isInHomeWidgetStore.state||e.isInlineViewStore.state||n<=g?"popup":"sidebar"}function f(e){let{hasOnlyLinkedDataSources:t,isCollectionViewPageWithContent:o,locked:n}=e;return o?n?(0,a.jsx)(r().sA,{defaultMessage:"Unlock wiki",id:"action.unlockWikiName.name"}):(0,a.jsx)(r().sA,{defaultMessage:"Lock wiki",id:"action.lockWikiName.name"}):t?n?(0,a.jsx)(r().sA,{defaultMessage:"Unlock views",id:"database.viewSettings.mainTab.unlockViews.title"}):(0,a.jsx)(r().sA,{defaultMessage:"Lock views",id:"database.viewSettings.mainTab.lockViews.title"}):n?(0,a.jsx)(r().sA,{defaultMessage:"Unlock database",id:"database.viewSettings.mainTab.unlockDatabase.title"}):(0,a.jsx)(r().sA,{defaultMessage:"Lock database",id:"database.viewSettings.mainTab.lockDatabase.title"})}let h=function(e){return e[e.Source=0]="Source",e[e.Relation=1]="Relation",e}({});const S=6;function y(e){let{currentViewType:t,isPlaceholderExternalCollection:o,collectionContextStore:n,allowedActions:r,settingsHeaderSizeObserver:i}=e;return"page"!==t&&"form_editor"!==t&&(!o&&(!!n.shouldAllowNewItemCreation()&&(!(r&&!r.includes("addItem"))&&!(i&&i.rect.state.width>d))))}},541235:(e,t,o)=>{o.d(t,{YD:()=>i,c$:()=>n,q_:()=>r});const n={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]}},r="completed",i="dismissed"},544862:(e,t,o)=>{o.d(t,{A:()=>k});var n=o(296540),r=()=>o(484714),i=()=>o(56366),a=()=>o(959013),s=()=>o(896628),l=()=>o(454531),d=()=>o(751156),c=()=>o(478726),u=()=>o(227440),p=()=>o(867772),g=()=>o(681810),m=()=>o(608581),v=()=>o(145214),f=()=>o(704152),h=()=>o(807683),S=()=>o(401497),y=()=>o(534177),b=o(474848);function x(e){let{src:t,placeholderSrc:o,placeholderBehavior:r,imageStyle:i,containerStyle:a,onLoadComplete:s,testId:l}=e;const[d,c]=(0,n.useState)(!0);let u;switch(r){case"force-show-placeholder":u=!0;break;case"force-show-src":u=!1;break;case"show-placeholder-if-loading-src":u=!!o&&(d||void 0===t);break;default:(0,y().HB)(r)}const p=(0,S().IS)((()=>{const e={gridColumn:1,gridRow:1};return{container:{display:"grid",...a},srcWrapper:{...u&&{display:"none"},...e},placeholderWrapper:{pointerEvents:"none",...e}}}),[a,u]);(0,n.useEffect)((()=>{void 0!==t&&c(!0)}),[t]);const g=(0,n.useCallback)((e=>{c(!1),null==s||s()}),[s]);return(0,b.jsxs)("div",{style:p.container,children:[(0,b.jsx)(h().Ay,{src:t,onLoad:g,style:i,placeholderStyle:p.srcWrapper,placeholderLoadedStyle:p.srcWrapper,testId:l}),o&&(0,b.jsx)(h().Ay,{src:o,style:i,placeholderStyle:p.placeholderWrapper,placeholderLoadedStyle:p.placeholderWrapper})]})}var A=()=>o(453101);const k=function(e){let{store:t,disabled:a,paddingRight:l,paddingLeft:c,height:u,proxyWidth:m}=e;const v=(0,r().v3)(),f=(0,r().Y0)(),S=(0,i().uB)(void 0,o(454305).A),y=(0,i().K8)((()=>a||"suggest"===o(77246).Uv.getMode(t)||(0,o(600871).aD)(f)),[a,t,f]),A=(0,i().K8)((()=>t.getCover()),[t]),k=(0,i().O$)(g().A),[P,M]=(0,n.useState)(void 0);if(!A)return null;const T=k.loadingMode!==p().pF&&k.loadingMode!==p().Wc;return(0,b.jsx)(o(801678).A,{mouseStore:S,onFlushTemporaryPosition:e=>function(e,t,o){const{imagePosition:n,reset:r}=e;d().createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:o,canUndo:!0,perform:e=>{s().yY({store:t,coverPosition:n,transaction:e}),r()}})}(e,t,v),renderControl:e=>{let{handleRepositionClick:o,handleSavePositionClick:n,handleCancelClick:r,isVisible:i,isRepositioning:a}=e;return(0,b.jsx)(C,{handleRepositionClick:o,handleSavePositionClick:n,handleCancelClick:r,isVisible:i,isRepositioning:a,lastProxiedUrl:P,store:t,disabled:y,paddingRight:l,paddingLeft:c,mouseStore:S})},source:"page",store:t,style:{display:"flex",flexDirection:"column",alignItems:"center",height:u,maxHeight:280,cursor:"default"},preventClickPropagation:!0,render:e=>(0,b.jsxs)(n.Fragment,{children:[(0,b.jsx)(o(360083).A,{url:A.cover,isAuthenticated:!0,permissionRecord:A.pointer,width:m,onFinishedLoadingProxyUrl:M,render:(t,o)=>{const n={width:"100%",height:u,maxHeight:280,objectFit:"cover",opacity:T?.5:1,objectPosition:`center ${100*(1-(e.imagePosition||0))}%`,borderRadius:0},r={width:"100%",height:u,maxHeight:280};return(0,b.jsx)(x,{src:o,placeholderSrc:T?k.dataURL:void 0,placeholderBehavior:T?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:r,imageStyle:n,onLoadComplete:w,testId:"pageCover"})}}),T&&(0,b.jsxs)("div",{style:h().fd,children:[(0,b.jsx)(o(331542).A,{size:"md",style:{marginRight:4}}),(0,b.jsx)("div",{style:{minWidth:30,textAlign:"right"},children:void 0!==k.uploadProgress?(0,b.jsx)(o(773382).A,{percentage:k.uploadProgress}):k.progressText?(0,b.jsx)("span",{children:k.progressText}):null})]})]})})};function w(){g().A.reset()}function C(e){let{isVisible:t,isRepositioning:o,handleCancelClick:s,handleRepositionClick:d,handleSavePositionClick:h,lastProxiedUrl:S,store:y,disabled:x,paddingRight:k,paddingLeft:w,mouseStore:C}=e;const P=(0,r().v3)(),M=(0,a().tz)(),T=(0,n.useCallback)((e=>function(e,t,o,n,r){r.reset();const i=e.target.getBoundingClientRect();l().W({environment:t,intl:o,store:n,rect:i,from:"page_header"})}(e,P,M,y,C)),[P,M,y,C]),B=(0,i().K8)((()=>g().A.state.loadingMode),[]),j=(0,i().K8)((()=>function(e){let t;return t=Boolean(e.isFullWidth())?"100%":c().x6,t}(y)),[y]),{device:I}=P,R=(0,i().O$)(u().e);if(x||B!==p().pF||!R)return null;const{isMobile:L}=I;return(0,b.jsx)(v().A,{animate:{width:j,opacity:t?1:0},style:{position:"absolute",pointerEvents:t?"auto":"none",maxWidth:"100%",top:48},children:(0,b.jsxs)(m().A,{isVisible:t,position:"bottom",style:{marginRight:k,marginLeft:w},children:[!o&&(0,b.jsx)(f().A,{style:{borderRight:L?"none":void 0,...A().k},onClick:T,children:(0,b.jsx)(a().sA,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})}),!o&&!L&&(0,b.jsx)(f().A,{style:{...A().k,borderRight:"none"},onClick:e=>d(e,S),children:(0,b.jsx)(a().sA,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})}),o&&!L&&(0,b.jsx)(f().A,{style:A().k,onClick:h,children:(0,b.jsx)(a().sA,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})}),o&&!L&&(0,b.jsx)(f().A,{style:{...A().k,borderRight:"none"},onClick:s,children:(0,b.jsx)(a().sA,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"})})]})})}},551619:(e,t,o)=>{o.d(t,{Hy:()=>I,NV:()=>B,O9:()=>L,Rg:()=>R,Sm:()=>_,dK:()=>O,f7:()=>D,l8:()=>H,n$:()=>V,no:()=>W,sx:()=>j});var n=()=>o(402014),r=()=>o(484714),i=()=>o(792485),a=()=>o(56366),s=()=>o(700500),l=()=>o(651124),d=()=>o(519831),c=()=>o(620689),u=()=>o(591197),p=()=>o(835066),g=()=>o(780054),m=()=>o(964345),v=()=>o(68465),f=()=>o(504836),h=()=>o(478726),S=()=>o(747100),y=()=>o(963589),b=()=>o(665579),x=()=>o(765957),A=()=>o(525569),k=()=>o(217429),w=()=>o(375447),C=()=>o(66496),P=()=>o(548821),M=()=>o(712505),T=()=>o(302022);function B(e){(0,n().SQ)({event:e,context:n().y$.EditorMouseDown,callback:()=>{}})}function j(e){(0,n().SQ)({event:e,context:n().y$.Click,callback:()=>{}})}function I(e){return(0,a().K8)((()=>Boolean(T().A.state.pageMap[e.id])||C().A.state.pages.has(e.id)),[e.id])}function R(e,t){const o=(0,r().v3)(),n=(0,i().S)(),s=I(e),l=(0,a().K8)((()=>{var o,n;return t===P().Rr.Frame?Boolean(null===(o=x().default.state.currentLoadingContainerStore)||void 0===o?void 0:o.state.ready):t===P().Rr.PeekView&&M().default.state.open?Boolean(null===(n=M().default.state.loadingContainerStore)||void 0===n?void 0:n.state.ready):t===P().Rr.CollectionPageView||t===P().Rr.CollectionPageViewFullScreen?e.isReady():void 0}),[t,e]),d=D(e);return(0,a().K8)((()=>{if(!l)return!1;const t=o.currentUser.isLoggedIn(),r=n&&n.publicEditModeStore.state;return Boolean(e&&e.isDefined()&&!e.isNonEditableState()&&e.canEdit()&&!e.hasContent()&&t&&(!(null!=r&&r.hasPublicPermission)||"edit"===(null==r?void 0:r.permission))&&!s&&!d&&(!(0,v().ZE)(r)||"completionPopup"!==A().default.state.type))}),[o.currentUser,d,l,n,s,e])}function L(e,t){const o=(0,r().v3)(),n=(0,i().S)(),{isTablet:s}=(0,r().Y0)(),l=(0,y().X)("tablet_refresh_template_pills_gate");return(0,a().K8)((()=>{if(t===P().Rr.SitePreview)return!1;if(g().A.isMobile&&(!s||!l))return!1;if(!o.currentUser.isLoggedIn())return!1;const r=n&&n.publicEditModeStore.state;if(null!=r&&r.hasPublicPermission&&"edit"!==(null==r?void 0:r.permission))return!1;if(e.getContentLength()>1)return!1;if(!e.canEdit()||e.isNonEditableState())return!1;const i=e.getContentStores()[0];if(i&&!i.isEmptyTextBlock())return!1;if(e.getAssociatedCollectionStore())return!1;const a=m().gZ.state,d=m().Di.state;if(a&&e.id===d)return!1;return!((0,h().L5)(t)?u().VY.state:u().u3.state)}),[o,n,e,t,s,l])}function D(e){return(0,a().K8)((()=>{if(e.isCollectionView()){const t=e.getCollectionStoreIfSingleSource();return!!t&&t.isSyncedCollection()}return e.isType(s().xd.externalObjectInstancePage)}),[e])}function _(e){return(0,a().K8)((()=>{if(!(0,f().vL)())return!1;const t=e.getParentStore();if((null==t?void 0:t.table)===d().Vl){return!!t.getFormatStore().getKeyStore("external_collection_type").getValue()}return!1}),[e])}function O(e){return(0,a().K8)((()=>{if(!(0,f().pB)())return!1;var t;return!!e.isCollectionView()&&((null===(t=e.getCollectionStore())||void 0===t?void 0:t.getFormatStore().getKeyStore("external_collection_type").getValue())??!1)}),[e])}function H(e){return(0,a().K8)((()=>{if(!k().default.checkGate({gateName:"csvimport_faster_navigate_to_page_enabled"}))return!1;var t;return!!e.isCollectionView()&&(null===(t=e.getCollectionStore())||void 0===t?void 0:t.getFormatStore().getKeyStore("static_import_collection_type").getValue())===l().IE.CsvImport}),[e])}function V(e){const t=(0,r().v3)(),{device:o,WindowSizeStore:n}=t,i=(0,a().K8)((()=>{const e=n.state.height,o=g().A.isMobile&&w().Ay.state.open?e:0;return c().C6(t)+o}),[t,n]);return(0,a().K8)((()=>"home-phone"===e?b().q3:o.isTablet?380:o.isIOS?Math.max(350,i):g().A.isMobile?400:"side-peek"===e||"center-peek"===e?S().ln:"home"===e?b().wH:"30vh"),[o,i,e])}function W(e){const t=(0,r().v3)(),o=(0,a().K8)((()=>(0,p().dC)(t,e)),[t,e]);return(0,a().K8)((()=>o&&!e.isFullWidth()?(0,p().Zy)(t,(0,S().cq)(e),(0,S().RX)(e)):0),[t,o,e])}},555267:(e,t,o)=>{o.d(t,{A:()=>l});var n=o(296540),r=()=>o(401497),i=()=>o(62856),a=()=>o(331542),s=o(474848);function l(e){let{loadingMessage:t}=e;const o=(0,r().DP)(),l=(0,i().A)(!0,400);return(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l?(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(a().A,{}),t?(0,s.jsx)("div",{style:{marginLeft:8,color:o.text.secondary},children:t}):void 0]}):void 0})}},567121:(e,t,o)=>{o.d(t,{EG:()=>a,K5:()=>i,RH:()=>r,Yi:()=>s,ls:()=>n});const n=32,r=202,i=1e3,a="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",s="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},572748:(e,t,o)=>{o.d(t,{t:()=>m});o(581454);var n=()=>o(484714),r=()=>o(56366),i=()=>o(401497),a=()=>o(187174),s=()=>o(959013),l=()=>o(524539),d=()=>o(372657),c=()=>o(810703),u=()=>o(765957),p=()=>o(845566),g=()=>o(258805);function m(e){let{allTargetsAreNavigable:t,forceShowPrivatePageOption:o,isAddTo:m,isCreateIn:v,isTurnIntoPage:f,onAccept:h,parentBlockId:S,query:y,searchResults:b,targets:x}=e;const A=(0,s().tz)(),k=(0,i().DP)(),w=(0,n().v3)(),C=(0,r().uB)(void 0,p().A),P=(0,r().O$)(u().AppStoreCurrentSpaceStore),M=(0,r().K8)((()=>(0,g().wc)(C)),[C]),[T]=(0,a().Yb)((async()=>M?await(0,c().pw)({spaceStore:M,currentUserId:w.currentUser.id}):void 0),[M,w.currentUser.id]),[B]=(0,a().Yb)((async()=>!y&&M?await l()._P(M,M.id):void 0),[y,M]),{blockResults:j,topLevelBlockResults:I,templateResults:R,recentPageResults:L}=(0,r().K8)((()=>{if(!M)return{blockResults:[],topLevelBlockResults:[],templateResults:[],recentPageResults:[]};const e=b.results.map((e=>({blockId:e.id,collectionId:e.collectionId})));return(0,g()._B)({chosenSpaceStore:M,environment:w,isCreateIn:v,query:y,recentPageIds:B.value,searchResults:e,targets:x})}),[M,w,v,y,B.value,b.results,x],{useDeepEqual:!0}),D=(0,r().K8)((()=>d().n6()),[]),[_]=(0,a().Yb)((async()=>{if(D&&M&&T.value)return await(0,g().N$)({chosenSpaceStore:M,savedQuickAddParent:T.value,query:y,blockResults:j,recentPageResults:L},w,v,h,x,m,C,t)}),[D,M,T.value,y,j,L,w,v,h,x,m,C,t]);return(0,r().K8)((()=>D?_.value??[]:M&&P&&T.value?v?(0,g().wU)({allTargetsAreNavigable:t,blockResults:j,chosenSpaceStore:M,environment:w,isAddTo:m,isCreateIn:v,isTurnIntoPage:f,moveToSpaceMenuStore:C,onAccept:h,parentBlockId:S,query:y,recentPageResults:L,targets:x,templateResults:R,topLevelBlockResults:I}):(0,g().OC)({allTargetsAreNavigable:t,blockResults:j,chosenSpaceStore:M,environment:w,forceShowPrivatePageOption:o,intl:A,isAddTo:m,isCreateIn:v,moveToSpaceMenuStore:C,onAccept:h,query:y,recentPageResults:L,savedQuickAddParent:T.value,targets:x,theme:k}):[]),[t,j,M,P,w,o,A,m,v,f,C,h,S,y,L,T.value,D,x,R,k,I,_.value])}},578194:(e,t,o)=>{o.d(t,{r:()=>n});const n=(0,o(583835).Dv)("importEvernote")},587989:(e,t,o)=>{o.d(t,{b:()=>h,c:()=>S});o(898992),o(672577);var n=o(296540),r=()=>o(56366),i=()=>o(959013),a=()=>o(251126),s=()=>o(939740),l=()=>o(64e3),d=()=>o(89924),c=()=>o(361330),u=()=>o(188669),p=()=>o(284371),g=o(474848);function m(e){let{loading:t,menuListItemProps:n}=e;const r=(0,o(484714).v3)(),{isMobile:a}=r.device,s=(0,o(401497).IS)((e=>({button:{display:"flex",flexDirection:"row",alignItems:"center",color:e.text.tertiary,...a?{fontSize:p().J.UIRegular.mobile,lineHeight:p().K_.UIRegular.mobile,padding:4}:{fontSize:p().J.UIRegular.desktop,lineHeight:p().K_.UIRegular.desktop,margin:"0px 4px 4px",padding:4,borderRadius:4}},icon:{width:14,height:14,marginRight:8,marginLeft:8,fill:e.icon.tertiary},loadingSpinner:{marginLeft:8}})),[a]);return(0,g.jsxs)(o(704152).A,{style:s.button,...n,children:[(0,o(158359).P)(s.icon),(0,g.jsx)(i().sA,{defaultMessage:"Load more",id:"moveToMenu.loadMoreButtonTitle"}),t?(0,g.jsx)(o(331542).A,{size:"sm",style:s.loadingSpinner}):void 0]})}const v=n.memo(m),f=1e3;function h(e){let{query:t,spaceId:o,menuListStore:i,requestStore:s,getAutocompleteItems:l}=e;const d=(0,r().K8)((()=>s.state.loading),[s]),p=(0,r().K8)((()=>u().Ay.state.isOpen&&u().Ay.state.canLoadMore),[]),m=(0,n.useCallback)((async()=>{!u().Ay.state.isOpen||u().Ay.state.queryLimit>=f||(u().Ay.setState({...u().Ay.state,queryLimit:u().Ay.state.queryLimit+20}),await s.refresh())}),[s]);return(0,g.jsx)(a().A,{request:{query:t,spaceId:o},render:(e,o)=>(0,g.jsx)(S,{sections:o,error:e,menuListStore:i,initialFocus:Boolean(t)?0:void 0,loading:d,canLoadMore:p,onLoadMore:m}),requestStore:s,debounce:c().tu,performRequest:l})}function S(e){let{sections:t,error:o,menuListStore:r,initialFocus:a,onLoadMore:c,canLoadMore:u,loading:p}=e;const m=(0,n.useMemo)((()=>u&&(null==t?void 0:t.find((e=>"pages"===e.key)))),[u,t]);if(o)return(0,g.jsx)(d().A,{children:(0,g.jsx)(l().A,{title:(0,g.jsx)(i().sA,{defaultMessage:"Something went wrong.",id:"moveBlockMenu.errorOnMove.label"})})});if(t&&0===t.length)return(0,g.jsx)(d().A,{children:(0,g.jsx)(l().A,{title:(0,g.jsx)(i().sA,{defaultMessage:"No results",id:"moveBlockMenu.noResults.label"})})});const f=[...t||[],...m?[{key:"moveTo load more section",render:e=>(0,g.jsx)(d().A,{disableDesktopPadding:!0,...e}),items:[{key:"moveTo load more button",render:e=>(0,g.jsx)(v,{menuListItemProps:e,loading:p}),action:c}]}]:[]];return(0,g.jsx)("div",{children:(0,g.jsx)(s().Ay,{type:s().Oh.Vertical,initialFocus:a,sections:f,store:r})})}},591197:(e,t,o)=>{o.d(t,{VY:()=>s,ZJ:()=>i,u3:()=>a});var n=()=>o(496506);class r extends(()=>o(757695))().Store{getInitialState(){return{popupRenderedInPage:!1,popupRenderedInPeekView:!1}}}const i=new r,a=new(n().ComputedStore)((()=>!1!==i.state.popupRenderedInPage),{debugName:"AssistantWriterRenderedInPageStore"}),s=new(n().ComputedStore)((()=>!1!==i.state.popupRenderedInPeekView),{debugName:"AssistantWriterRenderedInPeekViewStore"})},608581:(e,t,o)=>{o.d(t,{A:()=>u});o(898992),o(354520),o(581454),o(941795);var n=o(296540),r=()=>o(401497),i=()=>o(955825),a=()=>o(284371),s=()=>o(780054),l=()=>o(963575),d=o(474848);function c(e){const{button:t,isLast:o}=e,s=(0,r().IS)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:a().Wy.medium,borderRight:`1px solid ${e.regularDividerColor}`,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor},buttonLast:{borderRight:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return n.cloneElement(t,{...(0,i().AH)(t.props.style,s.button,o&&s.buttonLast),hoveredStyle:(0,i().AH)(s.buttonHovered,o&&s.buttonLast).style,pressedStyle:s.buttonPressed})}const u=function(e){let{children:t,isVisible:u,position:p,style:g}=e;const m=(0,r().IS)((e=>({container:{color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.shadowSM,display:"flex",whiteSpace:"nowrap",borderRadius:l().A.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:s().A.isMobile?"auto":"none",opacity:s().A.isMobile?1:0,fontFamily:a().vc(o(662303).locale).sans,position:"absolute",right:l().A.horizontal.small,bottom:l().A.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:l().A.vertical.small,bottom:void 0}})),[]),v=n.Children.toArray(t).filter(o(534177).O9),f=v.length;return(0,d.jsx)(o(145214).A,{animate:{opacity:u?1:0},...(0,i().AH)(m.container,g,u&&m.containerHover,"top"===p&&m.containerTop),children:v.map(((e,t)=>{const r=t===f-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===o(859428).A&&n.isValidElement(e))return n.cloneElement(e,{render:(t,o)=>{const n=e.props.render(t,o);return(0,d.jsx)(c,{isLast:r,button:n},e.key)}});if(e.type===o(704152).A&&n.isValidElement(e))return(0,d.jsx)(c,{isLast:r,button:e},e.key)}}))})}},610101:(e,t,o)=>{o.d(t,{A:()=>r});class n extends(()=>o(757695))().Store{getInitialState(){return!1}}const r=new n},612900:(e,t,o)=>{o.d(t,{u:()=>i});var n=()=>o(645873);const r=new(n().O2)("PulsingWrapper",(async()=>o.e(45248).then(o.bind(o,673962)))),i=(0,n().jQ)(r,(e=>e.PulsingWrapper),{renderLoading:(e,t)=>t.children})},665579:(e,t,o)=>{o.d(t,{$L:()=>s,BZ:()=>c,EC:()=>m,EI:()=>b,E_:()=>P,Ed:()=>p,Fq:()=>h,Lu:()=>A,Mk:()=>g,O0:()=>C,UO:()=>M,V$:()=>w,VQ:()=>v,Xx:()=>x,Xy:()=>d,YS:()=>f,_g:()=>y,dd:()=>u,pW:()=>l,q3:()=>a,wH:()=>i});var n=()=>o(496603),r=()=>o(534177);const i=160,a=40,s=24,l=20,d=600,c=270,u=405,p=480,g=500,m=void 0,v=16,f=10,h=8,S=(o(69447).nh,{backdropFilter:"blur(48px)",WebkitBackdropFilter:"blur(48px)"}),y=4;function b(e){return{icon:e.icon.secondary,text:e.text.secondary}}function x(e){return{width:48,height:48,fill:e.icon.tertiary}}function A(e){let{theme:t,isPhone:o}=e;return o?t.personalHomeBackgroundPhone:t.surface.page}const k=1;function w(e){let{isPhone:t,theme:o}=e;return{zIndex:1,position:"relative",display:"flex",flexDirection:"column",borderRadius:12,background:o.home.tile.background,boxShadow:P({isPhone:t,theme:o}),...S}}function C(e){let{mode:t}=e;switch(t){case"dark":return 0;case"light":return k;default:return(0,r().ub)(t),0}}function P(e){let{isPhone:t,theme:o,borderOnly:r}=e;if("dark"===o.mode)return"unset";o.mode;const i=C({mode:o.mode});return(0,n().oE)([r||t?void 0:"0 12px 32px rgba(0, 0, 0, 0.02)",`0 0 0 ${i}px rgba(0, 0, 0, 0.05)`]).join(", ")}function M(e){const{isPhone:t,theme:o,borderOnly:n}=e;return{unhoveredBoxShadow:P({isPhone:t,theme:o,borderOnly:n}),hoveredBoxShadow:"light"===o.mode?["0 12px 32px rgba(0, 0, 0, 0.03)","0 0 0 1px rgba(0, 0, 0, 0.085)"].join(", "):o.homeShadow.card.hovered}}},677195:(e,t,o)=>{o.d(t,{R:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("verificationCheck",{viewBox:"0 0 6 7",svg:(0,n.jsx)("path",{d:"M2.84245 6.11619C2.71116 6.30644 2.53392 6.40156 2.31072 6.40156C2.20131 6.40156 2.10066 6.37881 2.00875 6.33332C1.92123 6.28782 1.83589 6.21545 1.75274 6.11619L0.150985 4.25515C0.0503282 4.12694 0 3.99874 0 3.87053C0 3.73406 0.04814 3.61826 0.14442 3.52314C0.245077 3.42388 0.365427 3.37425 0.50547 3.37425C0.597374 3.37425 0.680525 3.39286 0.754923 3.43008C0.833698 3.46317 0.912473 3.52934 0.991247 3.6286L2.28446 5.21049L5.00875 1.07896C5.13129 0.892857 5.28446 0.799805 5.46827 0.799805C5.60394 0.799805 5.72648 0.841161 5.83589 0.923874C5.9453 1.00659 6 1.11618 6 1.25266C6 1.32297 5.98249 1.39327 5.94748 1.46358C5.91685 1.52975 5.88184 1.59178 5.84245 1.64968L2.84245 6.11619Z"})})},681810:(e,t,o)=>{o.d(t,{A:()=>n});const n=new(o(867772).Ay)},701751:(e,t,o)=>{o.d(t,{p:()=>i});o(296540);var n=o(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"3.97 1.94 14.91 15.66",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M10.55 12.808a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 1 0 1.1 0z"}),(0,n.jsx)("path",{d:"M15.4 1.95a3.48 3.48 0 0 0-3.48 3.48v1.92H6.4a2.425 2.425 0 0 0-2.425 2.425v5.4A2.425 2.425 0 0 0 6.4 17.6h7.2a2.425 2.425 0 0 0 2.425-2.425v-5.4A2.425 2.425 0 0 0 13.6 7.35h-.43V5.43a2.23 2.23 0 1 1 4.46 0v2.095a.625.625 0 1 0 1.25 0V5.43a3.48 3.48 0 0 0-3.48-3.48M5.225 9.775c0-.649.526-1.175 1.175-1.175h7.2c.649 0 1.175.526 1.175 1.175v5.4c0 .649-.526 1.175-1.175 1.175H6.4a1.175 1.175 0 0 1-1.175-1.175z"})]})},i=(0,o(340498).wt)("lockOpen",r)},735695:(e,t,o)=>{o.d(t,{Ay:()=>P,iZ:()=>k,vE:()=>A});var n=o(296540),r=()=>o(804773),i=()=>o(401497),a=()=>o(149375),s=()=>o(66913),l=()=>o(959013),d=()=>o(284371),c=()=>o(686526),u=()=>o(704152),p=()=>o(285790),g=()=>o(928600),m=()=>o(480095),v=()=>o(554509),f=()=>o(780054),h=()=>o(722872),S=()=>o(253579),y=()=>o(255824),b=o(474848);const x=(0,l().YK)({back:{defaultMessage:"Back",id:"collectionsSettingsMenu.back"}}),A=290,k=400;function w(e){let{children:t,title:o,desktopTitleType:n,settingsStackLength:r,handleClose:c,handleBackArrowClick:g,hideDesktopHeader:m,hasBackStack:f}=e;const h=(0,y().a)(),S=(0,l().tz)(),A=(0,i().IS)((e=>({hiddenDesktopHeaderDiv:{height:0},nonHiddenDesktopHeaderDiv:{display:"flex",alignItems:h?"top":"center",padding:h?"0px 14px 6px 14px":"14px 16px 6px 16px",height:h?void 0:42},arrowButton:{marginRight:8,marginLeft:-2,height:22},arrowIcon:{width:16,height:16},title:{flexGrow:1,fontWeight:h?d().Wy.medium:d().Wy.semibold,fontSize:h?16:14,lineHeight:h?"24px":void 0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},closeButton:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:e.buttonHoveredBackground,width:18,height:18,flexShrink:0},closeButtonHover:{background:e.buttonPressedBackground},closeIcon:{width:14,fill:e.text.secondary}})),[h]),k=!h;return(0,b.jsxs)(b.Fragment,{children:[m?(0,b.jsx)("div",{style:A.hiddenDesktopHeaderDiv}):(0,b.jsxs)("div",{style:A.nonHiddenDesktopHeaderDiv,children:[(r>1||f)&&(0,b.jsx)(p().A,{icon:a().v,style:A.arrowButton,iconStyle:A.arrowIcon,onClick:g,ariaLabel:S.formatMessage(x.back)}),"sectionHeader"===n?(0,b.jsx)(v().D,{styleName:"UISmall-12px/Medium",colorName:"secondary",customStyles:{flexGrow:1},children:o}):(0,b.jsx)("span",{style:A.title,children:o}),k&&(0,b.jsx)(u().A,{onClick:c,style:A.closeButton,hoveredStyle:A.closeButtonHover,children:(0,s().V)(A.closeIcon)})]}),t]})}function C(e,t){let{children:i,footer:a,header:s,unconstrainedWidth:l,desktopWidth:d,title:u,desktopTitleType:p,collectionSettingsStore:v,fullHeight:x,hideDesktopHeader:k,menuScrollerStyle:C,innerContentWrapperStyle:P,disableScroller:M,handleBackArrowClick:T,hasBackStack:B,handleClose:j}=e;const I=(0,o(175116).Ks)(),R=(0,h().Tf)(),L=(0,y().a)(),{currentTab:D,settingsStackLength:_,hideHeader:O}=(0,o(56366).K8)((()=>{const e=v.state;return{currentTab:(0,o(940371).S)(v),settingsStackLength:e.stack.length,hideHeader:e.hideSettingsHeader}}),[v]),H=(0,n.useCallback)((()=>{var e;T?T():c().yl({collectionSettingsStore:v,keepPreviousRef:"form_editor"===(null==I||null===(e=I.collectionViewStore())||void 0===e?void 0:e.getType())})}),[T,v,I]),V=(0,n.useCallback)((e=>{j?j(e):c().os({collectionSettingsStore:v})}),[j,v]),W=(0,n.useCallback)((e=>{(0,S().rW)(e.target)||(0,S().iX)(e.target)||(0,S().u2)(e.target)||o(263711).g.state.isOpen||V(e)}),[V]);if(!D)return null;let E;if(f().A.isMobile)E={disableScroller:M,menuType:h().gu.Modal,title:u,left:_>1?(0,b.jsx)(m().MobileModalBackButton,{}):void 0,onClickLeft:_>1?H:void 0,scrollerStyle:C,innerRef:t,right:R?void 0:(0,b.jsx)(m().DoneMenuText,{}),onClickRight:R?void 0:V};else{const e=l||d?void 0:L?280:A;E={disableScroller:M,menuType:h().gu.Popup,minWidth:L?280:A,width:d,maxHeight:x?"100%":"80vh",...e&&{maxWidth:e},onClickOutside:W,scrollerStyle:{flexGrow:0,...C},header:!O&&(0,b.jsx)(w,{settingsStackLength:_,handleClose:V,handleBackArrowClick:H,hasBackStack:B,hideDesktopHeader:k,title:u,desktopTitleType:p,children:s}),paddingTop:O?6:0,footer:a,innerRef:t}}const z=(0,b.jsxs)(b.Fragment,{children:[f().A.isMobile&&s,i,f().A.isMobile&&a]});return x?(0,b.jsx)(r().Y,{direction:"vertical",children:(0,b.jsx)(g().A,{...E,children:z})}):(0,b.jsx)(o(297872).A,{capture:!0,allowMobileAutoScroll:!0,allowEsc:!0,render:e=>(0,b.jsx)(r().Y,{direction:"vertical",children:(0,b.jsx)(g().A,{...E,...e,children:(0,b.jsx)("div",{style:P,children:z})})})})}const P=(0,n.forwardRef)(C)},735790:(e,t,o)=>{o.d(t,{M:()=>i});o(296540);var n=o(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.25 15.25 11.5",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M3 7.375h6.829a2.501 2.501 0 0 0 4.842 0H17a.625.625 0 1 0 0-1.25h-2.329a2.501 2.501 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25M12.25 5.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M7.75 15.75a2.5 2.5 0 0 0 2.421-1.875H17a.625.625 0 1 0 0-1.25h-6.829a2.5 2.5 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25h2.329A2.5 2.5 0 0 0 7.75 15.75m0-1.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"})]})},i=(0,o(340498).wt)("sliders",r)},739135:(e,t,o)=>{o.d(t,{KD:()=>d,gt:()=>c,i9:()=>l,ll:()=>a,tb:()=>s,x$:()=>i});var n=()=>o(541235),r=()=>o(496603);function i(e,t){return a(c(e,t))}function a(e){return void 0!==e&&(e===n().q_||e===n().YD)}function s(e,t){if(a(t))return;const o=n().c$[e],r=o.steps.findIndex((e=>e.id===t));return-1===r?o.steps[0].id:r===o.steps.length-1?n().q_:o.steps[r+1].id}function l(e,t){const o=c(e,t);if(o&&!a(o))return s(t,o)}function d(e,t){const o=c(e,t);if(o)return function(e,t){const o=n().c$[e];var i;if(a(t))return null===(i=(0,r().HV)(o.steps))||void 0===i?void 0:i.id;const s=o.steps.findIndex((e=>e.id===t));return-1!==s&&0!==s?o.steps[s-1].id:void 0}(t,o)}function c(e,t){var o;if(!e)return;const r=((null===(o=e.getSettings())||void 0===o?void 0:o.tutorials)||{})[t];return void 0===r?n().c$[t].steps[0].id:r}},742117:(e,t,o)=>{o.d(t,{V:()=>r});o(296540);var n=o(474848);const r=(0,o(340498).wt)("chevronRight",{viewBox:"0 0 16 16",directional:!0,svg:(0,n.jsx)("path",{d:"M12.375 8.06445C12.375 7.83203 12.2861 7.63379 12.1084 7.45605L6.77637 2.24023C6.62598 2.08984 6.44141 2.01465 6.22266 2.01465C5.77832 2.01465 5.42285 2.35645 5.42285 2.80078C5.42285 3.01953 5.51172 3.21777 5.66211 3.375L10.4746 8.06445L5.66211 12.7539C5.51855 12.9043 5.42285 13.1025 5.42285 13.3213C5.42285 13.7725 5.77832 14.1143 6.22266 14.1143C6.44141 14.1143 6.62598 14.0391 6.77637 13.8887L12.1084 8.67285C12.293 8.49512 12.375 8.29688 12.375 8.06445Z"})})},747671:(e,t,o)=>{o.d(t,{Q:()=>n,a:()=>r});let n=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e}({});class r extends(()=>o(757695))().Store{getInitialState(){return{dayStoreMap:new Map,isDragging:!1,startingMonth:0}}}},748539:(e,t,o)=>{o.d(t,{f:()=>n});const n=new(o(645873).O2)("pageCovers",(async()=>{const{pageCovers:e}=await o.e(40198).then(o.bind(o,519737));return e}))},756114:(e,t,o)=>{o.d(t,{D:()=>n});function n(e,t){t.route.name;return!1}},801678:(e,t,o)=>{o.d(t,{A:()=>m});var n=o(296540),r=()=>o(662303),i=()=>o(56366),a=()=>o(959013),s=()=>o(381349),l=()=>o(496603),d=()=>o(284371),c=()=>o(720665),u=()=>o(145214),p=o(474848);const g={isRepositioning:!1};const m=function(e){const t=(0,n.useRef)(null),r=(0,o(484714).v3)(),[a,s]=(0,n.useState)(g),d=(0,n.useCallback)((()=>{s(g)}),[]),{renderControl:u,onFlushTemporaryPosition:m,style:f,source:h,store:S}=e,{isRepositioning:y,image:b,startDragRenderedPosition:x,startDragImageScreenHeight:A}=a,k=(0,i().K8)((()=>0===o(502438).default.state.stores.length),[]),[w,C]=(0,n.useState)(!1),P=(0,i().uB)(e.mouseStore,o(454305).A),M=(0,i().K8)((()=>P.state.mouseEntered),[P]),T=(0,o(401497).IS)((()=>({dragContainer:{width:"100%",cursor:y?"move":"inherit"},container:{position:"relative",width:"100%",zIndex:1}})),[y]),B=(0,i().K8)((()=>function(e,t,o){return(0,l().Et)(o)?o:function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,l().Et)(e))return e}const o=.5;if(t.isCollectionView()){const e=t.getCollectionStore();if(e){const t=e.getFormat().collection_cover_position;return(0,c().pN)(t)?o:t}}const n=t.getFormat(),r=n.page_cover_position;if((0,l().Et)(r))return r;return o}(e,t)}(h,S,a.temporaryPosition)),[a.temporaryPosition,h,S]);(0,n.useEffect)((()=>{const e=e=>{const o=t.current;o&&!o.contains(e.target)&&y&&m({imagePosition:B,reset:()=>{P.reset(),d()}})};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)}),[B,y,P,m,d]),y&&!k&&d();const j=(0,n.useMemo)((()=>(0,l().nF)((e=>{P.setState({...P.state,mouseEntered:!0})}),100)),[P]),I=(0,n.useMemo)((()=>(0,l().sg)((e=>{P.setState({...P.state,mouseEntered:!1})}),100)),[P]),R=(0,n.useCallback)(((e,t)=>{o(778417).IU({environment:r});const n=new Image;n.onload=()=>{s((e=>({...e,isRepositioning:!0,image:n})))},t&&(n.src=t)}),[r]),L=(0,n.useCallback)((e=>{m({imagePosition:B,reset:()=>{d()}})}),[B,m,d]),D=(0,n.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,o(819121).p)(t)&&C(!0)}),[]),_=(0,n.useCallback)((()=>{C(!0)}),[]),O=(0,n.useCallback)((e=>{if(b&&y){const e=t.current;if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/b.width*b.height;s((e=>({...e,startDragImageScreenHeight:t,startDragRenderedPosition:B})))}}}),[b,B,y]),H=(0,n.useCallback)((e=>{if(y){const t=e.diffY/(A||0)+(x||0);s((e=>({...e,temporaryPosition:(0,l().LI)((0,o(40845).A)(t,0,1),4)})))}}),[y,A,x]),V=(0,n.useCallback)((()=>{s((e=>({...e,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})))}),[]),W=(0,i().K8)((()=>u({handleRepositionClick:R,handleSavePositionClick:L,handleCancelClick:d,isVisible:M||w||y,isRepositioning:y})),[R,L,w,y,M,u,d]),E=(0,o(79043).A)(Boolean(e.preventClickPropagation));return(0,p.jsxs)("div",{ref:t,onFocus:D,onBlur:_,onMouseEnter:j,onMouseMove:j,onMouseLeave:I,...E,...(0,o(955825).AH)(T.container,f),children:[(0,p.jsx)(o(603820).A,{onDraggableDragStart:O,onDraggableDragMove:H,onDraggableDragEnd:V,onDraggableDragCancel:V,disabled:!y,render:t=>(0,p.jsx)("div",{style:T.dragContainer,...t,children:e.render({imagePosition:B,isRepositioning:y})})}),(0,p.jsx)(v,{small:e.small,isRepositioning:y}),W]})};function v(e){let{small:t,isRepositioning:o}=e;if(t)return null;const n={background:s().Ay.blackWithAlpha(.4),borderRadius:4,color:s().Ay.white,fontSize:12,fontFamily:d().vc(r().locale).sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"};return(0,p.jsx)(u().A,{visible:o,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:n,children:(0,p.jsx)(a().sA,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})}},843189:(e,t,o)=>{o.d(t,{E:()=>a});var n=o(296540),r=()=>o(960715),i=o(474848);const a=n.forwardRef(((e,t)=>{let{children:n,color:a,disabled:s,iconLeading:l,iconStyle:d,iconTrailing:c,isLoading:u,shape:p="default",size:g="md",style:m,...v}=e;const f=(0,o(963589).X)("nds_button_gap")||Boolean(c),h=(0,o(401497).IS)((e=>{const t=a?`${a}Primary`:"primary",i=a||"regular",c=a?`${a}Hover`:"primaryHover",v=a?`${a}Pressed`:"primaryPressed";return{button:{...(0,r().qq)({shape:p,size:g,hasIconOnly:Boolean(l)&&!n,isButtonGapEnabled:f}),justifyContent:"center",color:e.text[t],background:e.tint[i],opacity:s||u?.3:1,fontWeight:o(284371).Wy.medium,...m},hovered:{background:s?e.tint[i]:e.tint[c]},pressed:{background:s?e.tint[i]:e.tint[v]},icon:{...(0,r().D3)({size:g,hasIconOnly:!n,isButtonGapEnabled:f}),...d}}}),[n,a,s,l,d,f,u,p,g,m]);return(0,i.jsxs)(o(197190).A,{ref:t,style:h.button,hoveredStyle:h.hovered,pressedStyle:h.pressed,disabled:s||u,...v,children:[u?(0,i.jsx)(o(331542).A,{style:{marginRight:4}}):null,l?l(h.icon):null,n,c?c(h.icon):null]})}));a.displayName="TintButton"},845566:(e,t,o)=>{o.d(t,{A:()=>i});o(898992),o(672577);var n=()=>o(765957);class r extends(()=>o(757695))().Store{getInitialState(){return{chosenSpaceId:void 0}}getChosenSpaceId(){const{chosenSpaceId:e}=this.state,{currentSpaceStore:t}=n().default.state;return e||(null==t?void 0:t.id)}getChosenSpaceStore(){var e;return null===(e=this.getChosenSpaceViewStore())||void 0===e?void 0:e.getSpaceStore()}getChosenSpaceViewStore(){const{chosenSpaceId:e}=this.state,{currentSpaceViewStore:t,currentUserRootStore:o}=n().default.state;if(!e&&t)return t;if(e&&o){return o.getSpaceViewStores().find((t=>t.getSpaceId()===e))}}}const i=r},854705:(e,t,o)=>{o.r(t),o.d(t,{arrowChevronSingleDownFillSmallIcon:()=>r,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"2.94 5.31 10.15 5.84",svg:(0,o(474848).jsx)("path",{d:"M7.47 10.93a.75.75 0 0 0 1.06 0l4.32-4.32a.75.75 0 1 0-1.06-1.06L8 9.34 4.21 5.55a.75.75 0 0 0-1.06 1.06z"})},r=(0,o(340498).wt)("arrowChevronSingleDownFillSmall",n)},867772:(e,t,o)=>{o.d(t,{Ay:()=>l,Gi:()=>i,Wc:()=>n,pF:()=>a,vS:()=>r});const n="loadingLocalImage",r="uploading",i="downloading",a="loaded";class s extends(()=>o(757695))().Store{getInitialState(){return{loadingMode:a}}}const l=s},869818:(e,t,o)=>{o.r(t),o.d(t,{MoveOrDuplicateProgress:()=>W().A,MoveToMenuRenderer:()=>H,MoveToOrCreateMenu:()=>n().v,MoveToSnackbarButtons:()=>V().F});var n=()=>o(963248),r=(o(581454),o(296540)),i=()=>o(484714),a=()=>o(56366),s=()=>o(95313),l=()=>o(750660),d=()=>o(521358),c=()=>o(897119),u=()=>o(780054),p=()=>o(776894),g=()=>o(691298),m=()=>o(962730),v=()=>o(377586),f=()=>o(188669),h=()=>o(245241),S=()=>o(959013),y=()=>o(805751),b=()=>o(545805),x=()=>o(928600),A=()=>o(89924),k=()=>o(722872),w=()=>o(640653),C=()=>o(135599),P=()=>o(970585),M=()=>o(845566),T=()=>o(572748),B=()=>o(587989),j=()=>o(258805),I=()=>o(478495),R=()=>o(142662),L=o(474848);function D(e){const{autocompleteQuery:t,desktopWidth:o,onAccept:n,onAutocompleteQueryChange:s,onCancel:l,onMouseEnter:d}=e,c=(0,i().WS)(),u=(0,a().uB)(void 0,P().A),p=(0,a().uB)(void 0,M().A),g=(0,a().K8)((()=>(0,j().wc)(p)),[p]),m=(0,a().K8)((()=>(0,j().NA)(p)),[p]),v=(0,a().K8)((()=>(0,w().IL)(g)),[g]),D=(0,a().K8)((()=>(0,j().L2)(f().Ay.state)),[]),_=(0,C().W)({type:h().Vz.BlocksInSpace,query:t,limit:D,source:"move_to_menu",filters:{requireEditPermissions:!1,excludeTemplates:!1},options:{disable:!1,overrideSpaceStore:g}}),O=(0,r.useMemo)((()=>[]),[]),H=(0,T().t)({allTargetsAreNavigable:!1,forceShowPrivatePageOption:!1,isAddTo:!1,isCreateIn:!1,isTurnIntoPage:!1,onAccept:n,parentBlockId:void 0,query:t,searchResults:_,targets:O}),V=(0,a().K8)((()=>(0,j().R3)()),[]),W=(0,r.useMemo)((()=>{if(V)return c?(0,L.jsx)(R().Xy,{autocompleteQuery:t,onAutocompleteQueryChange:s,isDataSource:!0,moveToSpaceMenuStore:p,menuListStore:u,isLoading:_.isResultsLoading}):(0,L.jsx)(A().A,{isInput:!0,children:(0,L.jsx)(R().Xy,{autocompleteQuery:t,onAutocompleteQueryChange:s,isDataSource:!0,moveToSpaceMenuStore:p,menuListStore:u,isLoading:_.isResultsLoading})})}),[V,c,t,s,u,p,_.isResultsLoading]),E=(0,r.useMemo)((()=>c?{onMouseEnter:d,menuType:k().gu.Modal,title:(0,L.jsx)(S().sA,{defaultMessage:"Move to",id:"moveBlockMenu.mobileMoveTo.label"}),right:(0,L.jsx)(S().sA,{defaultMessage:"Done",id:"moveBlockMenu.rightDoneButton.label"}),onClickRight:l,header:W}:{onMouseEnter:d,menuType:k().gu.Popup,width:o,header:W}),[c,d,l,W,o]);return m&&g?(0,L.jsxs)(y().A,{debugName:"DataSourceMoveToMenu",capture:!0,allowMenuList:!0,allowEsc:!0,allowLeft:!0,allowTabUntab:!1,allowUndo:!1,children:[(0,L.jsx)(b().A,{debugName:"DataSourceMoveToMenu",capture:!0,onEsc:l}),(0,L.jsx)(x().A,{...E,footer:(0,L.jsx)(R().n5,{isCreateIn:!1,isAddTo:!1,moveToSpaceMenuStore:p,allTargetsAreNavigable:!1}),children:t||c?(0,L.jsx)(B().c,{sections:H,error:void 0,menuListStore:u,initialFocus:t?0:void 0,loading:_.isResultsLoading,canLoadMore:_.hasMoreResults,onLoadMore:()=>{var e;return null===(e=_.fetchAdditionalServerResultsOnChange)||void 0===e?void 0:e.call(_,D)}}):(0,L.jsx)(I().Cr,{spaceStore:g,spaceViewStore:m,onAccept:n,targets:[],moveToPagesOnly:v,forceShowPrivatePageOption:!1})})]}):null}function _(){const e=(0,i().v3)(),t=(0,a().K8)((()=>{const e=f().Ay.state;if(e.isOpen&&e.targetBlocks)return{autocompleteQuery:e.autocompleteQuery,targetBlocks:e.targetBlocks,isAddTo:e.isAddTo,isOpen:e.isOpen,forceShowPrivatePageOption:Boolean(e.forceShowPrivatePageOption)}}),[]),o=u().A.isMobile,r=Boolean(null==t?void 0:t.isOpen);if((0,g().A)({shouldPreserveTextSelection:r,shouldPreserveBlockSelection:!1,shouldRestoreSelection:r&&!o}),void 0===t||!t.isOpen)return null;const c=()=>{if(f().Ay.state.isOpen&&f().Ay.state.targetBlocks){const{flowId:t,targetBlocks:o,moveToContext:n}=f().Ay.state;s().X3(e,{from:n,render_type:"web",target_block_ids:o.map((e=>e.id)),flowId:t})}l().VN({environment:e,clearSelection:!0})},{autocompleteQuery:m,targetBlocks:v,isAddTo:h}=t;return(0,L.jsx)(n().v,{autocompleteQuery:m,targetBlocks:v,onAutocompleteQueryChange:t=>{if(f().Ay.state.isOpen){f().Ay.setState({...f().Ay.state,queryLimit:p().p1,autocompleteQuery:t});const{flowId:o,moveToContext:n}=f().Ay.state;s().cn(e,{flowId:o,from:n})}},onAccept:async t=>{if(!f().Ay.state.isOpen||!f().Ay.state.targetBlocks)return;const o=f().Ay.state.targetBlocks,n=await(0,p().OY)({environment:e,blocks:o,from:"moveTo",moveToArgs:{moveToValue:t,destination:(0,p().sZ)(t)}});if(!n.confirmed)return void c();for(const i of o){const t=await d().rW({environment:e,block:i,action:"move"});"user_canceled"===t?c():t.length>1&&f().Ay.state.isOpen&&f().Ay.setState({...f().Ay.state,targetBlocks:t})}if(f().Ay.state.isOpen){const{flowId:o,targetBlocks:n,moveToContext:r,openedTimeMs:i,autocompleteQuery:a}=f().Ay.state,l="space-private-pages"===t.type?-1:n.findIndex((e=>e.id===t.id));s().uU(e,{from:r,render_type:"web",type:t.type,target_block_ids:n.map((e=>e.id)),time_to_select_ms:Date.now()-i,selected_item_index:l,query_length:a.length,flowId:o})}const{shouldClearPagePermissions:r}=n;(async t=>{let{value:o,shouldClearPagePermissions:n}=t;await l().BS({environment:e,value:o,useSudoMode:f().Ay.state.isOpen&&f().Ay.state.useSudoMode,renderType:"web",shouldClearPagePermissions:n})})({value:t,shouldClearPagePermissions:r})},onCancel:c,desktopWidth:330,isAddTo:h,isCreateIn:!1,forceShowPrivatePageOption:t.forceShowPrivatePageOption})}function O(){const e=(0,i().v3)(),t=(0,a().O$)(f().Ay),o=(0,r.useCallback)((()=>{if(t.isOpen){const{flowId:o,moveToContext:n}=t;s().X3(e,{from:n,render_type:"web",target_block_ids:[],flowId:o})}l().VN({environment:e,clearSelection:!0})}),[e,t]),n=(0,r.useCallback)((async n=>{if(!t.isOpen||!t.targetCollectionStore)return;const r=await(0,p().OY)({environment:e,blocks:[],from:"moveTo",moveToArgs:{moveToValue:n,destination:(0,p().sZ)(n)}});if(r.confirmed){if(t.isOpen){const{flowId:o,moveToContext:r,openedTimeMs:i,autocompleteQuery:a}=t;s().uU(e,{from:r,render_type:"web",type:n.type,target_block_ids:[],time_to_select_ms:Date.now()-i,selected_item_index:0,query_length:a.length,flowId:o})}l().BS({environment:e,value:n,useSudoMode:t.isOpen&&t.useSudoMode,renderType:"web",shouldClearPagePermissions:r.shouldClearPagePermissions})}else o()}),[e,t,o]),d=(0,r.useCallback)((o=>{t.isOpen&&(f().Ay.setState({...t,queryLimit:p().p1,autocompleteQuery:o}),s().cn(e,{flowId:t.flowId,from:t.moveToContext}))}),[e,t]);return void 0!==t&&t.isOpen&&t.targetCollectionStore?(0,L.jsx)(D,{autocompleteQuery:t.autocompleteQuery,targetCollectionStore:t.targetCollectionStore,onAutocompleteQueryChange:d,onAccept:n,onCancel:o,desktopWidth:330}):null}function H(){const e=(0,i().v3)(),t=(0,i().WS)(),o=(0,a().K8)((()=>{const e=f().Ay.state;if(e.isOpen)return{renderType:e.renderType,isOpen:e.isOpen,rect:e.rect,variant:e.variant}}),[]),n=(0,r.useCallback)((()=>"dataSource"===(null==o?void 0:o.variant)?(0,L.jsx)(O,{}):(0,L.jsx)(_,{})),[o]);return(0,L.jsx)(c().Ay,{popupType:t?v().n.SlideUp:v().n.Popup,alignmentToOrigin:m().C.Start,open:void 0!==o&&"mobileNative"!==o.renderType&&o.isOpen,render:n,originRect:null==o?void 0:o.rect,onDismiss:()=>{if(f().Ay.state.isOpen){const{flowId:t,targetBlocks:o,moveToContext:n}=f().Ay.state;s().X3(e,{from:n,render_type:"web",target_block_ids:(null==o?void 0:o.map((e=>e.id)))||[],flowId:t})}l().VN({environment:e,clearSelection:!0})},trapFocus:!0})}H.displayName="MoveToMenuRenderer";var V=()=>o(554060),W=()=>o(575650)},882262:(e,t,o)=>{o.d(t,{m:()=>r});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.23 3.23 13.54 13.53",svg:(0,o(474848).jsx)("path",{d:"M4.485 8.86V5.369l4.073 4.073a.625.625 0 0 0 .884-.884L5.369 4.485h3.49a.625.625 0 1 0 0-1.25h-5a.625.625 0 0 0-.624.625v5a.625.625 0 0 0 1.25 0m10.146 6.655-4.07-4.07a.625.625 0 0 1 .884-.884l4.07 4.07V11.14a.625.625 0 1 1 1.25 0v5c0 .345-.28.625-.625.625h-5a.625.625 0 1 1 0-1.25z"})},r=(0,o(340498).wt)("arrowExpandDiagonal",n)},937199:(e,t,o)=>{o.d(t,{LH:()=>i,Op:()=>r,bi:()=>l,sf:()=>s,v$:()=>a});o(16280);var n=o(296540);const r=(0,n.createContext)(null);function i(){const e=(0,n.useContext)(r);if(!e)throw new Error("usePageLayoutEditorContext must be used inside BaseLayoutEditorContext.Provider");return e}function a(){return(0,n.useContext)(r)}r.displayName="BaseLayoutEditorContext";const s=(0,n.createContext)(null);function l(){const e=(0,n.useContext)(s);if(!e)throw new Error("usePageLayoutEditorContext must be used inside PageLayoutEditorContextProvider");return e}s.displayName="PageLayoutEditorContext"},963248:(e,t,o)=>{o.d(t,{v:()=>k});o(898992),o(823215);var n=o(296540),r=()=>o(484714),i=()=>o(56366),a=()=>o(401497),s=()=>o(245241),l=()=>o(959013),d=()=>o(372657),c=()=>o(810703),u=()=>o(135599),p=()=>o(963589),g=()=>o(765957),m=()=>o(970585),v=()=>o(845566),f=()=>o(188669),h=()=>o(40851),S=()=>o(572748),y=()=>o(587989),b=()=>o(258805),x=()=>o(142662),A=o(474848);function k(e){return(0,p().X)("move_to_menu_use_search_results_hook")?(0,A.jsx)(C,{...e}):(0,A.jsx)(w,{...e})}function w(e){const{targetBlocks:t,isCreateIn:o,onAccept:s,isAddTo:u,isTurnIntoPage:p,parentBlockId:f,autocompleteQuery:S,forceShowPrivatePageOption:k=!1}=e,w=(0,l().tz)(),C=(0,a().DP)(),P=(0,r().v3)(),M=(0,i().uB)(void 0,m().A),T=(0,i().uB)(void 0,h().A),B=(0,i().uB)(void 0,v().A),j=(0,i().K8)((()=>t.length>0&&t.every((e=>e.isNavigableBlock()))),[t]),I=(0,n.useCallback)((e=>async function(e,t,o,n,r,i,a,s,l,u,p,m,v){const{currentUserRootStore:f,currentSpaceStore:h}=g().default.state,{query:S}=e,y=p.getChosenSpaceStore();if(!f||!y||!h)return[];const x=(0,c().pw)({spaceStore:y,currentUserId:t.currentUser.id}),{blockResults:A,topLevelBlockResults:k,templateResults:w,recentPageResults:C}=await(0,b().aE)(y,S,n,r,t,h),P=await x;if(d().n6())return await(0,b().N$)({chosenSpaceStore:y,savedQuickAddParent:P,query:S,blockResults:A,recentPageResults:C},t,r,i,n,a,p,m);if(r)return(0,b().wU)({allTargetsAreNavigable:m,blockResults:A,chosenSpaceStore:y,environment:t,isAddTo:a,isCreateIn:r,isTurnIntoPage:s,moveToSpaceMenuStore:p,onAccept:i,parentBlockId:l,query:S,recentPageResults:C,targets:n,templateResults:w,topLevelBlockResults:k});return(0,b().OC)({allTargetsAreNavigable:m,blockResults:A,chosenSpaceStore:y,environment:t,forceShowPrivatePageOption:v,intl:u,isAddTo:a,isCreateIn:r,moveToSpaceMenuStore:p,onAccept:i,query:S,recentPageResults:C,savedQuickAddParent:P,targets:n,theme:o})}(e,P,C,t,o,s,u,p,f,w,B,j,k)),[P,C,t,o,s,u,p,f,w,B,j,k]),R=(0,i().K8)((()=>{var e;return null===(e=(0,b().wc)(B))||void 0===e?void 0:e.id}),[B]),L=(0,i().K8)((()=>!T.state.ready&&S.length>0),[T,S]);return(0,A.jsx)(x().du,{...e,isLoading:L,allTargetsAreNavigable:j,autocompleteComponent:(0,A.jsx)(y().b,{query:S,spaceId:R,menuListStore:M,requestStore:T,getAutocompleteItems:I})})}function C(e){const{autocompleteQuery:t,forceShowPrivatePageOption:o=!1,isAddTo:n,isCreateIn:r,isTurnIntoPage:a,onAccept:l,parentBlockId:d,targetBlocks:c}=e,p=(0,i().uB)(void 0,m().A),g=(0,i().uB)(void 0,v().A),h=(0,i().K8)((()=>(0,b().wc)(g)),[g]),k=(0,i().K8)((()=>c.length>0&&c.every((e=>e.isNavigableBlock()))),[c]),w=(0,i().K8)((()=>(0,b().L2)(f().Ay.state)),[]),C=(0,u().W)({type:s().Vz.BlocksInSpace,query:t,limit:w,source:"move_to_menu",filters:{requireEditPermissions:!1,excludeTemplates:!1},options:{disable:!1,overrideSpaceStore:h}}),P=(0,S().t)({allTargetsAreNavigable:k,forceShowPrivatePageOption:o,isAddTo:n,isCreateIn:r,isTurnIntoPage:a,onAccept:l,parentBlockId:d,query:t,searchResults:C,targets:c});return(0,A.jsx)(x().du,{...e,isLoading:C.isResultsLoading,allTargetsAreNavigable:k,autocompleteComponent:(0,A.jsx)(y().c,{sections:P,error:void 0,menuListStore:p,initialFocus:t?0:void 0,loading:C.isResultsLoading,canLoadMore:C.hasMoreResults,onLoadMore:()=>{var e;return null===(e=C.fetchAdditionalServerResultsOnChange)||void 0===e?void 0:e.call(C,w)}})})}},990402:(e,t,o)=>{o.d(t,{m:()=>r});var n=()=>o(46986);function r(e){return("workflow"===e.getType()||e.isCollectionView()&&e.getWorkflowStore())&&e.canEdit()&&!e.isSystemBlock()&&(0,n().re)()}}}]);