"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[2411,5834,25700,34208,46204],{346:(e,t,n)=>{n.d(t,{MG:()=>g,T1:()=>m,a1:()=>y,dt:()=>h,kg:()=>f,lC:()=>S,n_:()=>v});var i=n(296540),r=()=>n(484714),o=()=>n(56366),a=()=>n(187174),s=()=>n(645873),l=()=>n(941463),d=()=>n(441199),c=()=>n(749687),u=()=>n(737230),p=()=>n(756114);const m=new(s().O2)("PerformanceToolbar",(()=>Promise.all([n.e(16471),n.e(92845),n.e(84468),n.e(48632),n.e(75078),n.e(95168),n.e(36908),n.e(21194),n.e(23930),n.e(61347),n.e(45624)]).then(n.bind(n,462407)))),g=(0,s()._h)(m,(e=>e.PerformanceToolbar)),h=(0,s()._h)(m,(e=>e.PerformanceToolbarSettings));function f(){const e=(0,r().v3)();return(0,o().K8)((()=>(0,p().D)(e,e.RouterStore.state)),[e])}function v(){const e=(0,r().v3)(),t=b("PerformanceToolbarStore"),n=b("isPerformanceToolbarVisible");return(0,o().K8)((()=>!(!t||!n)&&n(e,e.RouterStore.state,t.state)),[n,e,t])}function S(){const e=b("PerformanceToolbarStore");return(0,o().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function y(){const e=(0,r().v3)(),t=b("createPerformanceToolbarMouseListeners"),n=b("PerformanceToolbarStore"),{sidebarExpanded:a,sidebarWidth:s,secondarySidebarExpanded:p,secondarySidebarWidth:m,updateSidebarExpanded:g,updateSidebarWidth:h}=(0,o().K8)((()=>({sidebarExpanded:c().sidebarExpandedStore.state,sidebarWidth:c().sidebarWidthStore.state,secondarySidebarExpanded:d().default.isOpen(),secondarySidebarWidth:l().Ay.getWidth(),updateSidebarExpanded:u().Ay.state.expanded,updateSidebarWidth:u().Ay.state.width})),[]);return(0,i.useEffect)((()=>{if(n&&t)return t(e,(e=>n.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),a,s,p,m,g,h)}),[t,e,n,a,s,p,m,g,h])}function b(e){const t=f(),[{value:n}]=(0,a().Yb)((()=>t?m.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return n}},59442:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>i,paperPlaneFillIcon:()=>r});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"2.07 2.9 15.08 15.08",svg:(0,n(474848).jsx)("path",{d:"m16.37 2.901-.053.019L2.474 8.277A.625.625 0 0 0 2.4 9.408l4.826 2.638zm-8.366 9.922 2.638 4.827a.625.625 0 0 0 1.13-.074L17.13 3.733l.019-.054z"})},r=(0,n(340498).wt)("paperPlaneFill",i)},73223:(e,t,n)=>{n.r(t),n.d(t,{dismissTutorial:()=>c,resetTutorials:()=>u,tutorialAdvanceToStep:()=>p,tutorialAdvanceToStepAfter:()=>m,tutorialGoToNextStep:()=>l,tutorialGoToPrevStep:()=>d});var i=()=>n(541235),r=()=>n(751156),o=()=>n(755199),a=()=>n(739135),s=()=>n(765957);function l(e,t){var n;const{currentUserSettingsStore:i}=s().default.state;if(!i)return;const r=null===(n=i.getSettings())||void 0===n?void 0:n.tutorials;g({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{o().mJ({userSettingsStore:i,transaction:e,data:{tutorials:{...r,[t]:(0,a().i9)(i,t)}}})},userId:i.id})}function d(e,t){var n;const{currentUserSettingsStore:i}=s().default.state;if(!i)return;const r=null===(n=i.getSettings())||void 0===n?void 0:n.tutorials;g({userAction:"TutorialActions.prevStep",environment:e,perform:e=>{o().mJ({userSettingsStore:i,transaction:e,data:{tutorials:{...r,[t]:(0,a().KD)(i,t)}}})},userId:i.id})}function c(e,t){var n;const{currentUserSettingsStore:r}=s().default.state;if(!r)return;const a=null===(n=r.getSettings())||void 0===n?void 0:n.tutorials;(null==a?void 0:a[t])!==i().YD&&g({userAction:"TutorialActions.dismissTutorial",environment:e,perform:e=>{o().mJ({userSettingsStore:r,transaction:e,data:{tutorials:{...a,[t]:i().YD}}})},userId:r.id})}function u(e){const{currentUserSettingsStore:t}=s().default.state;t&&g({userAction:"TutorialActions.resetTutorialsDebug",environment:e,perform:e=>{o().mJ({userSettingsStore:t,transaction:e,data:{tutorials:{}}})},userId:t.id})}function p(e,t,n){var r;const{currentUserSettingsStore:l}=s().default.state;if(!l||(0,a().x$)(l,t))return;const d=(0,a().gt)(l,t);i().c$[t].steps.findIndex((e=>e.id===d))>=i().c$[t].steps.findIndex((e=>e.id===n))||o().mJ({userSettingsStore:l,transaction:e,data:{tutorials:{...null===(r=l.getSettings())||void 0===r?void 0:r.tutorials,[t]:n}}})}function m(e,t,n){if((0,a().ll)(n))return;const i=(0,a().tb)(t,n);i&&p(e,t,i)}function g(e){return r().createAndCommit({...e,canUndo:!1})}},77279:(e,t,n)=>{n.r(t),n.d(t,{default:()=>r});class i extends(()=>n(757695))().Store{getInitialState(){return{discussionIdToExpansionStartPointMap:{}}}}const r=new i},112698:(e,t,n)=>{n.d(t,{B:()=>f});n(296540);var i=()=>n(484714),r=()=>n(56366),o=()=>n(401497),a=()=>n(959013),s=()=>n(381349),l=()=>n(534177),d=()=>n(284371),c=()=>n(824160),u=()=>n(859428),p=()=>n(962730),m=()=>n(765957),g=()=>n(991249),h=n(474848);function f(e){let{upsell:t,mobileStyle:n,desktopStyle:s,analyticsName:d,onClick:f,disableTooltip:S}=e;const y=(0,o().DP)(),b=(0,i().v3)(),{device:x}=b,C=(0,r().K8)((()=>{const{currentSpaceStore:e}=m().default.state;return null==e?void 0:e.canAdmin()}),[]);if("none"===t.type)return null;if(x.isMobileNative)return null;const A=(()=>{switch(t.product){case"personal":return(0,h.jsx)(a().sA,{defaultMessage:"Personal Pro",id:"upgradeButton.personal.text"});case"plus":return(0,h.jsx)(a().sA,{defaultMessage:"Plus ↗",id:"upgradeButton.plus.textWithArrow"});case"business":return(0,h.jsx)(a().sA,{defaultMessage:"Business ↗",id:"upgradeButton.business.textWithArrow"});case"enterprise":return(0,h.jsx)(a().sA,{defaultMessage:"Enterprise ↗",id:"upgradeButton.enterprise.textWithArrow"});case"ai":return(0,h.jsx)(a().sA,{defaultMessage:"AI ↗",id:"upgradeButton.ai.textWithArrow"});case"sites_custom_hostnames":return(0,h.jsx)(a().sA,{defaultMessage:"Custom Hostnames ↗",id:"upgradeButton.sites_custom_hostnames.textWithArrow"});default:t.product,(0,l().HB)(t.product)}})();return x.isMobile||!C?(0,h.jsx)(c().A,{mobileStyle:n,children:A}):(0,h.jsx)(u().A,{delayThreshold:120,disableTooltip:S,placement:p().W.Bottom,renderTooltip:()=>(0,h.jsx)("div",{style:{maxWidth:500},children:(0,h.jsx)(a().sA,{defaultMessage:"Upgrade to use this feature.",id:"premiumFeatureUpgradeButton.upgrade.tooltip"})}),originGap:6,render:e=>(0,h.jsx)(c().A,{desktopStyle:s,innerStyle:v(t.product,y),onClick:e=>function(e,t,n,i,r){g().K(i,{from:t,upsell:n}),r&&r(e)}(e,d,t,b,f),...e,children:A})})}function v(e,t){switch(e){case"plus":case"business":case"enterprise":return{color:t.blueColor,background:"light"===t.mode?s().Ay.diffBackground:"rgba(35, 131, 226, 0.2)",fontWeight:d().Wy.medium};default:return{}}}},115562:(e,t,n)=>{n.d(t,{W:()=>l});n(296540);var i=()=>n(819121),r=()=>n(401497),o=()=>n(955825),a=()=>n(677195),s=n(474848);function l(e){const{selectorSize:t="normal",...n}=e,{disabled:l,checked:d}=n,[c,u]=(0,i().A)(),p=function(e){const{checked:t,disabled:n,isFocusVisible:i,selectorSize:o}=e;return(0,r().IS)((e=>({root:{position:"absolute",display:"flex",width:"large"===o?15:11,height:"large"===o?15:11,margin:1.5,justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"large"===o?2:1,transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${n?e.tint.regular:e.blueColor}`,background:n?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${n?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...i&&{boxShadow:e.buttonBlueFocusRing}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"large"===o?18:void 0,height:"large"===o?18:void 0,...n?{pointerEvents:"none"}:{cursor:"pointer"}},icon:{color:e.text.contrastPrimary,width:"large"===o?12:10,height:"large"===o?12:10,ariaHidden:!0}})),[o,t,n,i])}({checked:d,disabled:l,selectorSize:t,isFocusVisible:u});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{ref:c,type:"checkbox",style:p.input,...n}),(0,s.jsx)("span",{...(0,o().AH)(p.root,l?{}:{pseudoActive:p.active}),children:d&&(0,a().R)(p.icon)})]})}},153861:(e,t,n)=>{n.d(t,{T:()=>r,a:()=>o});var i=()=>n(979340);function r(e){let{upsell:t,intl:n}=e;return"product"===t.type?(0,i().u2)({product:t.product,intl:n}):void 0}function o(e){const{upsell:t,spaceStore:n,salesStatus:r,offer:o,requestState:a}=e;return"unrequested"===a?{status:"eligible_to_request"}:"pending"===a?{status:"request_pending"}:null!=n&&n.canAdmin()?"none"===t.type?{status:"not_eligible"}:"sales_assisted"===r?{status:"sales_assisted"}:(0,i().h0)(t.product)&&"sales_eligible"===r?{status:"sales_eligible"}:"preferred"===t.trialability&&"trial"===(null==o?void 0:o.type)&&o.subscriptionTier===t.product?{status:"eligible_for_trial"}:{status:"eligible_for_upgrade"}:{status:"not_eligible"}}},189048:(e,t,n)=>{n.d(t,{u:()=>r});n(296540);var i=n(474848);const r=(0,n(340498).wt)("arrowDownThick",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M7.99316 1.52246C7.40527 1.52246 7.00195 1.93262 7.00195 2.54785V10.1357L7.07031 11.6191L5.69629 10.0332L4.1582 8.50195C3.98047 8.31738 3.74805 8.19434 3.44727 8.19434C2.91406 8.19434 2.51074 8.59082 2.51074 9.15137C2.51074 9.41113 2.61328 9.65039 2.81836 9.8623L7.26172 14.3125C7.44629 14.5039 7.72656 14.6133 7.99316 14.6133C8.2666 14.6133 8.54004 14.5039 8.72461 14.3125L13.1748 9.8623C13.3799 9.65039 13.4824 9.41113 13.4824 9.15137C13.4824 8.59082 13.0791 8.19434 12.5459 8.19434C12.252 8.19434 12.0195 8.31738 11.835 8.50195L10.2969 10.0332L8.92285 11.6191L8.98438 10.1357V2.54785C8.98438 1.93262 8.58789 1.52246 7.99316 1.52246Z"})})},201361:(e,t,n)=>{n.d(t,{P:()=>o});n(296540);var i=n(474848);const r={viewBox:"2.72 1.1 15.56 16.51",svg:e=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M7.93132 1.82416C6.22047 1.48199 4.62427 2.79056 4.62427 4.5353C4.62427 5.09457 4.79032 5.61505 5.07582 6.05014H4.29912C3.42927 6.05014 2.72412 6.75529 2.72412 7.62514V9.52514C2.72412 10.1359 3.07175 10.6654 3.57994 10.9267H9.37427V6.05643H10.6243V10.9267H16.4183C16.9265 10.6654 17.2741 10.1359 17.2741 9.52514V7.62514C17.2741 6.75529 16.569 6.05014 15.6991 6.05014H14.9228C15.2082 5.61507 15.3743 5.09461 15.3743 4.53538C15.3743 2.78566 13.7613 1.48542 12.0554 1.82661C11.2118 1.99533 10.4924 2.47592 10.0119 3.13467C9.54306 2.48204 8.83618 2.00513 8.00124 1.83815L7.93132 1.82416ZM9.37427 5.03772V6.05013H7.3891C6.55248 6.05013 5.87427 5.37192 5.87427 4.5353C5.87427 3.57937 6.74882 2.86241 7.68618 3.04989L7.7561 3.06387C8.69699 3.25205 9.37427 4.07819 9.37427 5.03772ZM14.1243 4.53538C14.1243 5.36715 13.4539 6.04235 12.624 6.05014H10.6243V5.08677C10.6243 4.10164 11.3289 3.24667 12.3005 3.05234C13.2428 2.86389 14.1243 3.58444 14.1243 4.53538Z",style:{rotate:"animate"===e?"14deg":"0deg",transformOrigin:"75% center",transition:"rotate 0.548s linear(\n    \t\t\t\t0, 0.007, 0.028 1.8%, 0.113 3.9%, 0.613 12.1%, 0.817 16.2%, 0.894,\n   \t\t\t\t\t0.954 20.4%, 1, 1.031 25.1%, 1.043 26.4%, 1.051, 1.055, 1.056 31.2%,\n    \t\t\t\t1.049 34.9%, 1.012 46.3%, 0.999 54.2%, 0.997 61.9%, 1\n  \t\t\t\t)"}}),(0,i.jsx)("path",{d:"M10.6243 12.1768H16.4133V15.7002C16.4133 16.5701 15.7082 17.2752 14.8383 17.2752H10.6243V12.1768Z"}),(0,i.jsx)("path",{d:"M3.58521 12.1768H9.37427V17.2752H5.1602C4.29036 17.2752 3.58521 16.5701 3.58521 15.7002V12.1768Z"})]})},o=(0,n(882827).p)("presentFillAnimated",r)},208603:(e,t,n)=>{n.d(t,{i9:()=>s,lP:()=>l,sH:()=>a});var i=n(296540),r=()=>n(401497),o=()=>n(625634);function a(e){let{icon:t,style:n,animationState:i}=e;return"static"===t.type?t.iconFn(n,void 0,void 0,"all"):t.iconFn({style:n,animationState:i})}function s(e,t){return(0,r().IS)((n=>({icon:{fill:n.icon[e.iconColor],...t?{width:o().z[t],height:o().z[t]}:{}}})),[t,e]).icon}function l(){const[e,t]=i.useState("initial");return{animationState:e,animationTriggers:{onMouseEnter:()=>t("animate"),onMouseLeave:()=>t("initial")}}}},243581:(e,t,n)=>{n.d(t,{r:()=>r});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"3.48 3.92 13.04 12.85",svg:(0,n(474848).jsx)("path",{d:"M3.483 4.55c0-.345.28-.625.625-.625h3.5a.625.625 0 1 1 0 1.25H5.617L8.86 8.42A6 6 0 0 1 10 10.007a6 6 0 0 1 1.14-1.588l3.243-3.244h-1.99a.625.625 0 1 1 0-1.25h3.5c.344 0 .624.28.624.625v3.5a.625.625 0 0 1-1.25 0V6.06l-3.243 3.244a4.78 4.78 0 0 0-1.399 3.358v4.108h-1.25v-4.108a4.78 4.78 0 0 0-1.398-3.358L4.733 6.059V8.05a.625.625 0 1 1-1.25 0z"})},r=(0,n(340498).wt)("arrowBranch",i)},247123:(e,t,n)=>{n.d(t,{QU:()=>m,f2:()=>p,r6:()=>g});n(581454),n(296540);var i=()=>n(56366),r=()=>n(401497),o=()=>n(959013),a=()=>n(534177),s=()=>n(756279),l=()=>n(765957),d=()=>n(2143),c=()=>n(921194),u=n(474848);function p(e){const{openState:t}=e,{mainEditorCurrentBlockStore:n,currentSpaceStore:o}=(0,i().K8)((()=>{const{mainEditorCurrentBlockStore:e,currentSpaceStore:t}=l().default.state;return{mainEditorCurrentBlockStore:e,currentSpaceStore:t}}),[]),a=(0,r().IS)((e=>({scroller:{display:"flex",flexDirection:"column",maxHeight:290,border:`1px solid ${e.lightDividerColor}`,borderRadius:6,paddingTop:8,paddingLeft:12,paddingRight:12,paddingBottom:12,marginTop:15,marginBottom:5,marginLeft:-12,marginRight:-12},editContainer:{marginTop:2,marginBottom:2,color:e.text.primary}})),[]);if(!n||!o)return null;const p=Date.now();return(0,u.jsx)(d().H,{type:s().A.Y,style:a.scroller,children:t.permissionChanges.map(((e,t)=>{let[i,r]=e;const s={timestamp:p,space_id:o.id,type:"permission-changed",permission_data:{before:i,after:r}};return(0,u.jsx)("div",{style:a.editContainer,children:(0,u.jsx)(c().A,{rootStore:n,edit:s})},`${i.type}-${t}`)}))})}function m(e){return["remove","restrict"].includes(e.type)?(0,u.jsx)(o().sA,{id:"restrictedPermissionConfirmationModal.actionButton.restrictAccessV2",defaultMessage:"Change and unlink"}):(0,u.jsx)(o().sA,{id:"restrictedPermissionConfirmationModal.actionButton.relink",defaultMessage:"Relink"})}function g(e){switch(e.type){case"remove":case"restrict":return(0,u.jsx)(o().sA,{id:"restrictedPermissionConfirmationModal.remove.descriptionV2",defaultMessage:"Change access and unlink share settings from parent page?"});case"restore":case"restoreTeamPermissions":return(0,u.jsx)(o().sA,{id:"restrictedPermissionConfirmationModal.relink.description",defaultMessage:"Relink share settings?"});default:throw a().HB(e)}}},295870:(e,t,n)=>{n.d(t,{Jg:()=>l});n(898992),n(672577);var i=()=>n(232802),r=()=>n(762433),o=()=>n(979340),a=()=>n(807778),s=()=>n(920370);function l(e){var t;const{product:n,spaceId:l,userId:d,environment:c,billingData:u,spaceUserStore:p,spaceStore:m}=e;if(!n||!l||!d)return"not_eligible";if((0,r().eh)(u,n))return"product_already_available";const g=(0,i().rU)(n),h=function(e){const{billingData:t,environment:n,spaceUserStore:i,spaceStore:s}=e;if(!s||!i||!t)return!1;const l=(0,a().Gy)(n),d=s.getDisableMemberUpgradeRequests();if(!l)return!1;if(d)return!1;if(!(0,o().jR)((0,r().AI)(t)))return!1;if((0,r().et)(t))return!1;const c=Boolean(i.isMember()&&!i.isWorkspaceOwner());return c}({billingData:u,environment:c,spaceUserStore:p,spaceStore:m});if(!g||!h)return"not_eligible";const f=function(e){let{spaceId:t,environment:n}=e;if(!t)return;return s().L.getData(n,{spaceId:t})}({spaceId:l,environment:c});if(!f)return"not_eligible";const v=null===(t=f[n])||void 0===t?void 0:t.find((e=>e.created_by_id===d));return(null==v?void 0:v.request_status)||"unrequested"}},300451:(e,t,n)=>{n.d(t,{A:()=>r});class i extends(()=>n(757695))().Store{getInitialState(){return{settingOpen:"initial",permissionItem:void 0,from:void 0,sudoModeStore:void 0,location:"",faviconUrl:null,previewImageUrl:null,hideBreadcrumbs:!1,hideSearch:!1,hideWatermark:!1,enableDuplicateAsTemplate:!1,hideShare:!1,customHeaderBlockIds:[],googleAnalyticsId:void 0,theme:void 0,enableQna:!1}}}const r=new i},320865:(e,t,n)=>{n.d(t,{A:()=>r});n(296540);var i=n(474848);const r=function(){return(0,i.jsx)(n(678553).Ay,{title:(0,i.jsx)(n(331542).A,{})})}},380048:(e,t,n)=>{n.d(t,{I:()=>r});n(296540);var i=n(474848);const r=(0,n(340498).wt)("chevronLeft",{viewBox:"0 0 16 16",directional:!0,svg:(0,i.jsx)("path",{d:"M3.61816 8.06445C3.61816 8.29688 3.70703 8.49512 3.8916 8.67285L9.22363 13.8887C9.36719 14.0391 9.55859 14.1143 9.77734 14.1143C10.2217 14.1143 10.5703 13.7725 10.5703 13.3213C10.5703 13.1025 10.4814 12.9043 10.3311 12.7539L5.52539 8.06445L10.3311 3.375C10.4814 3.21777 10.5703 3.01953 10.5703 2.80078C10.5703 2.35645 10.2217 2.01465 9.77734 2.01465C9.55859 2.01465 9.36719 2.08984 9.22363 2.24023L3.8916 7.45605C3.70703 7.63379 3.625 7.83203 3.61816 8.06445Z"})})},404520:(e,t,n)=>{n.d(t,{R:()=>D});var i=n(296540),r=()=>n(484714),o=()=>n(56366),a=()=>n(959013),s=()=>n(58293),l=()=>n(324561),d=()=>n(523036),c=()=>n(803025),u=()=>n(341233),p=()=>n(340498),m=()=>n(493823),g=()=>n(208603),h=()=>n(964492),f=()=>n(554509),v=n(474848);function S(e){let{colorName:t,size:n,children:i}=e;const r="small"===n?"UISmall-12px/Semibold":"UIRegular-14px/Semibold";return(0,v.jsx)(f().D,{customStyles:{display:"contents"},colorName:t,styleName:r,children:i})}var y=()=>n(465570);function b(e){var t;const{upgradeStatus:n,handleClick:i,productDisplayName:r,customMessages:o,showPlanName:s}=e,l=(0,a().tz)(),d=(0,h().e)(n),c=null!=o&&o[n]?l.formatMessage(o[n]):d.label.icon({intl:l,productDisplayName:r}),u=(0,g().i9)(d),f=s?e.iconAlignment??"left":"left",{animationState:b,animationTriggers:x}=(0,g().lP)();return(0,v.jsx)(y().T,{tooltipMessage:(null===(t=d.disabledTooltip)||void 0===t?void 0:t.call(d,{intl:l}))??c,children:(0,v.jsx)(m().p,{...x,disabled:Boolean(d.disabledTooltip),size:"xs",iconLeading:"left"===f?e=>(0,g().sH)({icon:d.icon,style:{...e,marginRight:s?4:0},animationState:b}):void 0,iconTrailing:"right"===f?e=>(0,g().sH)({icon:d.icon,style:{...e,marginLeft:2},animationState:b}):void 0,iconStyle:{...u,width:p().Ev.xs,height:p().Ev.xs},onClick:i,children:s&&r?(0,v.jsx)("span",{style:{padding:1},children:(0,v.jsx)(S,{colorName:d.highlightColor,size:"small",children:r})}):null})})}var x=()=>n(864943),C=()=>n(625634);function A(e){var t;const{upgradeStatus:n,handleClick:i,size:r="default",width:o="fill",productDisplayName:s}=e,l=(0,a().tz)(),d=(0,h().e)(n),c=d.label.button({intl:l}),u=Boolean(d.disabledTooltip),p=(0,g().i9)(d,r),{animationState:m,animationTriggers:f}=(0,g().lP)();return(0,v.jsx)(y().T,{tooltipMessage:u?null===(t=d.disabledTooltip)||void 0===t?void 0:t.call(d,{intl:l,productDisplayName:s}):void 0,children:(0,v.jsx)(x().A,{...f,disabled:u,size:C()._[r],iconLeading:e=>(0,g().sH)({icon:d.icon,style:e,animationState:m}),iconStyle:p,style:{width:"fill"===o?"100%":void 0},onClick:i,children:c})})}var I=()=>n(204063);function w(e){var t;const{upgradeStatus:n,handleClick:i,productDisplayName:r}=e,o=(0,a().tz)(),s=(0,h().e)(n),l=s.label.button({intl:o}),d=Boolean(s.disabledTooltip);return(0,v.jsx)(y().T,{tooltipMessage:d?null===(t=s.disabledTooltip)||void 0===t?void 0:t.call(s,{intl:o,productDisplayName:r}):void 0,children:(0,v.jsx)(I().A,{disabled:d,size:C()._.default,onClick:i,children:l})})}function P(e){const{upgradeStatus:t,handleClick:n,customMessages:i,productDisplayName:r,size:o="default"}=e,s=(0,a().tz)(),l="small"===o?"secondary":"primary",d=e.textColor??l,c=(0,h().e)(t),u=(0,g().i9)(c,o),p=null!=i&&i[t]?s.formatMessage(i[t],{highlight:e=>(0,v.jsx)(S,{colorName:c.highlightColor,size:o,children:e})}):c.label.text({intl:s,productDisplayName:r,renderTextHighlight:e=>(0,v.jsx)(S,{colorName:c.highlightColor,size:o,children:e})}),y=Boolean(c.disabledTooltip),{animationState:b,animationTriggers:x}=(0,g().lP)();return(0,v.jsx)(m().p,{disabled:y,...x,size:"small"===o?"xs":"md",iconLeading:e=>(0,g().sH)({icon:c.icon,style:{...e,marginRight:"small"===o?6:8},animationState:b}),iconStyle:u,onClick:n,children:(0,v.jsx)(f().D,{colorName:d,children:p})})}var M=()=>n(153861),_=()=>n(414236);function D(e){let{source:t,upsell:n,featureName:p,...m}=e;const g=(0,a().tz)(),h=(0,s().r)(),f=(0,r().v3)(),S=(0,c().q)(),y=(0,l()._3)({spaceId:null==h?void 0:h.id}),x=(0,d().R)(t),C=(0,o().K8)((()=>{var e;return null===(e=f.currentUser)||void 0===e?void 0:e.id}),[f]),[I,D]=(0,_().h)({upsell:n}),k=(0,o().K8)((()=>(0,M().a)({environment:f,upsell:n,spaceStore:h,salesStatus:S,offer:x,requestState:I})),[h,f,n,S,x,I]),j=i.useCallback((async()=>{const e="product"===n.type?n.product:void 0,{getUpgradeSystemAction:i}=await u().H.upgradeSystemActions.load(),r=i(k);await r({source:t,spaceStore:h,product:e,billingData:y,environment:f,setRequestState:D,userId:C})}),[k,C,t,h,n,y,f,D]),T=(0,M().T)({upsell:n,intl:g});if(!k)return null;switch(m.display){case"button":return(0,v.jsx)(A,{upgradeStatus:k.status,handleClick:j,productDisplayName:T,...m});case"icon":return(0,v.jsx)(b,{upgradeStatus:k.status,handleClick:j,productDisplayName:T,...m});case"text":return(0,v.jsx)(P,{upgradeStatus:k.status,handleClick:j,productDisplayName:T,...m});case"primary":return(0,v.jsx)(w,{upgradeStatus:k.status,handleClick:j,productDisplayName:T,...m})}}},414236:(e,t,n)=>{n.d(t,{h:()=>c});var i=n(296540),r=()=>n(484714),o=()=>n(56366),a=()=>n(58293),s=()=>n(646736),l=()=>n(324561),d=()=>n(295870);function c(e){const{upsell:t}=e,n=(0,r().v3)(),c=(0,a().r)(),u=(0,s().HI)(),p=null==c?void 0:c.id,m=(0,o().K8)((()=>{var e;return null===(e=n.currentUser)||void 0===e?void 0:e.id}),[n]),g=(0,l().f_)({spaceId:p}),h="product"===(null==t?void 0:t.type)?t.product:void 0,f=(0,o().K8)((()=>(0,d().Jg)({product:h,spaceId:p,userId:m,billingData:g,environment:n,spaceStore:c,spaceUserStore:u})),[h,p,m,g,n,c,u]),[v,S]=(0,i.useState)(f);return[v,S]}},435212:(e,t,n)=>{n.d(t,{Kz:()=>o,Sc:()=>a,as:()=>r});var i=()=>n(2220);function r(e,t){(0,i().u)({environment:e,event:{eventName:"open_customize_site",eventProperties:t}})}function o(e,t){(0,i().u)({environment:e,event:{eventName:"update_site_customization_settings",eventProperties:t}})}function a(e){(0,i().u)({environment:e,event:{eventName:"close_customize_site",eventProperties:{}}})}},465364:(e,t,n)=>{n.d(t,{$N:()=>k,D5:()=>j,GB:()=>M,M9:()=>w,Pt:()=>D,eW:()=>_,jo:()=>B,v7:()=>P});n(944114),n(898992),n(803949),n(581454);var i=()=>n(244641),r=()=>n(787626),o=()=>n(713998),a=()=>n(597777),s=()=>n(604995),l=()=>n(416504),d=()=>n(519831),c=()=>n(496603),u=()=>n(534177),p=()=>n(299709),m=()=>n(317001),g=()=>n(520861),h=()=>n(878060),f=()=>n(44729),v=()=>n(246826),S=()=>n(319975),y=()=>n(519839),b=()=>n(695625),x=()=>n(397248),C=()=>n(217429),A=()=>n(630116),I=()=>n(747671);function w(e){const{environment:t,droppedStores:n,duplicate:o,calendarBy:c,transaction:u,collectionContextStore:h,duplicateActions:v}=e,S=i().c9.fromMillis(e.startOfDay);let b=!0;for(const i of n){const t=e.collectionStore?e.collectionStore:(0,y().Dj)({store:i,collectionContextStore:h});if(i.getParentTable()===d().Vl||!t){b=!1;break}f().X$({childStore:i,parentStore:t,transaction:u})||(b=!1)}const x=(0,g().T)({environment:t,droppedStores:n,duplicate:o,transaction:u,collectionStore:e.collectionStore,duplicateActions:v});for(const i of x){const n=e.collectionStore?e.collectionStore:(0,y().Dj)({store:i,collectionContextStore:h});if(!n)continue;const o=n.getMappedProperty(c),d=i.getPropertyStore(o),g=(0,r().b)(d.getValue())||s().Ec((0,l().P)()),f=s().kW(g,(0,l().P)()),v=S.toFormat(s().tr);let x;if("date"===f.type||"datetime"===f.type)x={...f,start_date:v};else{const e=s().AA(f,(0,l().P)());if(!e.end)return;const t={...f,start_date:v},n=s().AA(t,(0,l().P)()).start.diff(e.start,"days"),i=e.end.plus(n).toFormat(s().tr);x={...f,start_date:v,end_date:i}}const C=s().kW(x,a().$K(g)||(0,l().P)());(0,m().j)({environment:t,store:i,collectionStore:n,collectionContextStore:h,shouldCoerce:!0,groupsPointer:[],transaction:u,alreadyMovedToCollection:b}),j({environment:t,type:"dateValue",propertyId:o,store:i,transaction:u,dateValue:C}),(0,p().E)({environment:t,collectionContextStore:h,block_id:i.id,property:o,property_type:"date",from:"calendar"})}}function P(e){const{calendarStore:t,direction:n,targetStore:i}=e;t.setState({...t.state,isDragging:!0,targetStore:i,direction:n,temporaryValue:void 0})}function M(e){const{calendarStore:t,x:n,y:o,calendarBy:d}=e,u=t.state;if(u.isDragging){const e=(0,r().b)(u.targetStore.getPropertyStore(d).getValue());if(!e)return;const p=s().kW(e,(0,l().P)()),m=u.temporaryValue||e,g=s().kW(m,(0,l().P)()),h=[];u.dayStoreMap.forEach(((e,t)=>{h.push({store:e,timestamp:t})}));const f=h.find((e=>{let{store:t}=e;const i=b().T.getRectFromStore(t);return Boolean(i&&x().ux(i,n,o))}));let v;if(f){const e=i().c9.fromMillis(f.timestamp),t=e.endOf("day"),n=e.toFormat(s().tr);if(p){const r=s().AA(p,(0,l().P)());if(u.direction===I().Q.Left)if(i().IX.fromDateTimes(e,t).contains(r.start))v=p;else{let e;e="datetimerange"===p.type||"daterange"===p.type?{...p,start_date:n,end_date:p.end_date}:"datetime"===p.type?{type:"datetimerange",start_date:n,start_time:p.start_time,end_date:p.start_date,end_time:p.start_time,time_zone:p.time_zone,reminder:p.reminder}:{type:"daterange",start_date:n,end_date:p.start_date,reminder:p.reminder};const t=s().AA(e,(0,l().P)());v=!r.end&&t.start>r.start||r.end&&t.start>r.end?g:e}else if(r.end?i().IX.fromDateTimes(e,t).contains(r.end):i().IX.fromDateTimes(e,t).contains(r.start))v=p;else{let e;e="date"===p.type?{...p,type:"daterange",end_date:n}:"datetime"===p.type?{...p,type:"datetimerange",end_date:n,end_time:"00:00"}:{...p,end_date:n};const t=s().AA(e,(0,l().P)());v=t.end&&t.end<t.start?g:e}}}if(v&&!c().n4(g,v)){const e=s().kW(v,a().$K(m)||(0,l().P)());t.setState({...u,temporaryValue:e})}}}function _(e){const{environment:t,calendarStore:n,calendarBy:i,transaction:r}=e,o=n.state;o.isDragging&&o.temporaryValue&&(j({type:"dateValue",environment:t,dateValue:o.temporaryValue,propertyId:i,store:o.targetStore,transaction:r}),n.setState({...n.state,isDragging:!1}))}function D(e){const{calendarStore:t}=e,n=t.state;n.isDragging&&t.setState({...n,isDragging:!1})}function k(e){const{environment:t,store:n,collectionStore:r,collectionContextStore:a,startDayOfWeek:d,transaction:c}=e,u=a.dateRangeStartStore.state,p=(0,l().P)(),g=a.normalizedQueryStore.state;if(!g||!g.calendar_by)return;const h=(null==r?void 0:r.getMappedProperty(g.calendar_by))??g.calendar_by,f=s().hp(u,d,p),S=f.startOf("month"),y=f.endOf("month"),b=i().c9.now().startOf("day");let x;return x=i().IX.fromDateTimes(S,y).contains(b)?s().p6(b.valueOf(),p):s().p6(s().iB(u,d,p).valueOf(),p),v().zv({store:n.getPropertiesStore(),data:{[h]:o().m5(x)},transaction:c}),(0,m().j)({environment:t,store:n,collectionStore:r,collectionContextStore:a,shouldCoerce:!0,groupsPointer:[],transaction:c}),n}function j(e){const{environment:t,store:n,propertyId:i,transaction:r}=e;let a;"timestamp"===e.type?a=s().p6(e.timestampMs.valueOf(),(0,l().P)()):"dateValue"===e.type?a=e.dateValue:(0,u().HB)(e);const d=n.getPropertyValue(i);if(a&&function(e){const{propertyId:t,oldDateValue:n,newPersistedDate:i,store:r}=e;if(n||!i||void 0!==i.reminder)return!1;if(!C().default.checkGate({gateName:"adoption_reminder_collection_default"}))return!1;const o=T(t,r);if(void 0===o)return!1;return!0}({propertyId:i,oldDateValue:d,newPersistedDate:a,store:n})){const e=T(i,n);void 0!==e&&(a={...a,reminder:e})}const c=o().m5(a);v().zv({store:n.getPropertiesStore(),data:{[i]:c},transaction:r}),h().O({environment:t,store:n,dateProperty:{id:i,oldValue:d,newValue:c}})}function T(e,t){const n=t.getAssociatedCollectionStore();if(!n)return;const i=n.getSchema();if(!i)return;const r=i[e];return r&&"date"===r.type?r.default_reminder:void 0}function B(e){const{environment:t,collectionStore:n,calendarBy:i,store:r,insertStores:o,collectionContextStore:a,transaction:s}=e,l=r.getPropertyStore(i).getValue();for(const d of o)(0,m().j)({environment:t,store:d,collectionStore:n,collectionContextStore:a,shouldCoerce:!0,groupsPointer:[],transaction:s}),S().R9({environment:t,store:d.getPropertyStore(i),value:l,transaction:s});return o.map((e=>A().Bv.createChildStore(n,e.pointer)))}},465570:(e,t,n)=>{n.d(t,{T:()=>d});var i=n(296540),r=()=>n(554509),o=()=>n(859428),a=()=>n(553965),s=()=>n(962730),l=n(474848);function d(e){let{tooltipMessage:t,children:n,placement:d=s().W.Bottom}=e;return Boolean(t)?(0,l.jsx)(o().A,{placement:d,style:{maxWidth:240,minWidth:160},renderTooltip:()=>(0,l.jsx)(r().D,{styleName:"UISmall-12px/Medium",colorName:"contrastPrimary",children:t}),render:e=>i.cloneElement(n,(0,a().A)(e,n.props)),textWrap:!0}):n}},500128:(e,t,n)=>{n.d(t,{K:()=>a});n(296540);var i=()=>n(963589),r=()=>n(404520),o=n(474848);function a(e){const{children:t,...n}=e;return(0,i().X)("upgrade_system")?(0,o.jsx)(r().R,{...n}):t}},505108:(e,t,n)=>{n.d(t,{a:()=>m});var i=n(296540),r=()=>n(401497),o=()=>n(534177),a=()=>n(284371),s=()=>n(84817),l=()=>n(819121),d=()=>n(955825),c=n(474848);function u(e){const{disabled:t,checked:n,selectorSize:i}=e,[o,a]=(0,l().A)(),s=function(e){const{checked:t,disabled:n,isFocusVisible:i,selectorSize:o}=e;return(0,r().IS)((e=>({root:{position:"absolute",display:"flex",width:15,height:15,padding:5,margin:1.5,justifyContent:"center",alignItems:"center",gap:8,flexShrink:0,borderRadius:"50%",transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${n?e.tint.regular:e.blueColor}`,background:n?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${n?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...i&&{boxShadow:e.buttonBlueFocusRing}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"small"===o?14:18,height:"small"===o?14:18,...n?{pointerEvents:"none"}:{cursor:"pointer"}}})),[t,n,i,o])}({checked:n,disabled:t,isFocusVisible:a,selectorSize:i});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{ref:o,type:"radio",style:s.input,className:"radio-button",...e}),(0,c.jsx)("span",{...(0,d().AH)("custom-radio-button",s.root,t?{}:{pseudoActive:s.active})})]})}var p=()=>n(554509);const m=i.forwardRef((function(e,t){let{additionalContent:n,description:o,isDisabled:l,isSelected:d,label:u,name:p,onChange:m,width:f="fill",selectorSize:v="normal",selectAlignXAxis:S="left",selectAlignYAxis:y="center",selectType:b="checkbox",style:x,supportText:C,value:A,colorName:I,alignAdditionalContent:w,...P}=e;const M=(0,i.useId)(),_=function(e){const{isSelected:t,isDisabled:n,selectAlignYAxis:i,alignAdditionalContent:o}=e;return(0,r().IS)((e=>{const r=t&&!n?e.blueColor:e.selectorBorderUnselected;return{container:{display:"flex",alignItems:o??"center",gap:12,userSelect:"none",padding:"9px 16px 10px 10px",borderRadius:6,border:`1px solid ${r}`,...!n&&{cursor:"pointer"}},title:{fontWeight:a().Wy.medium,fontSize:14,userSelect:"none",lineHeight:18},additionalContentWrapper:{flexShrink:0},selectorWrapper:{display:"flex",..."top"===i?{marginTop:2}:{}},rightAlignSelectorWrapper:{display:"flex"}}}),[t,n,i,o])}({isSelected:d,isDisabled:l,selectAlignYAxis:y,alignAdditionalContent:w}),D=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===y?"top-left":"center-left",gap:12,width:f,children:[(0,c.jsx)("div",{style:_.selectorWrapper,children:(0,c.jsx)(h,{id:M,selectType:b,name:p,value:A,onChange:m,isSelected:d,selectorSize:v,isDisabled:l,...P})}),(0,c.jsx)(g,{colorName:I,description:o,label:u,selectorSize:v,supportText:C,isDisabled:l})]}),k=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===y?"top-center":"center",gap:12,children:[(0,c.jsx)(g,{colorName:I,description:o,label:u,selectorSize:v,supportText:C,isDisabled:l}),(0,c.jsx)("div",{style:{..._.selectorWrapper,..._.rightAlignSelectorWrapper},children:(0,c.jsx)(h,{id:M,selectType:b,name:p,value:A,onChange:m,selectorSize:v,isSelected:d,isDisabled:l,...P})})]}),j=n?(0,c.jsx)("div",{style:_.additionalContentWrapper,children:n}):null;return(0,c.jsx)("label",{ref:t,style:{..._.container,...x},htmlFor:M,children:"left"===S?(0,c.jsxs)(c.Fragment,{children:[D,j]}):(0,c.jsxs)(c.Fragment,{children:[j,k]})})}));function g(e){const{description:t,label:n,supportText:i,selectorSize:r,isDisabled:a,colorName:l}=e;let d;return"large"===r?d="Page-Content/Text-Block":"normal"===r||void 0===r?d="Body-13px/Medium":"small"===r?d="Body-12px/Regular":(0,o().HB)(r),(0,c.jsxs)(s().Y1,{gap:4,children:[(0,c.jsxs)(s().Y1,{gap:2,children:[(0,c.jsx)(p().D,{styleName:d,colorName:l||(a?"quaternary":"primary"),children:n}),t?(0,c.jsx)(p().D,{styleName:"Caption-12px/Regular",colorName:a?"quaternary":"secondary",children:t}):null]}),i?(0,c.jsx)(p().D,{styleName:"Caption-12px/Medium",colorName:"tertiary",children:i}):null]})}function h(e){const{selectType:t,selectorSize:i="normal",id:a,name:s,value:l,onChange:d,isSelected:p,isDisabled:m,...g}=e,h=(0,r().IS)((()=>({checkboxWrapper:{minWidth:18,display:"flex",justifyContent:"center"}})),[]);switch(t){case"radio":return(0,c.jsx)(u,{id:a,name:s,value:l,onChange:d,checked:p,disabled:m,selectorSize:i,...g});case"checkbox":return(0,c.jsx)("div",{style:h.checkboxWrapper,children:(0,c.jsx)(n(115562).W,{id:a,name:s,value:l,onChange:d,checked:p,disabled:m,selectorSize:i,...g})});case"none":return null;default:(0,o().HB)(t)}}},520861:(e,t,n)=>{n.d(t,{T:()=>r});n(944114),n(898992),n(908872);var i=()=>n(415651);function r(e){const{environment:t,collectionStore:n,duplicate:r,droppedStores:o,transaction:a,duplicateActions:s}=e,{movedStores:l,reparentedStores:d}=o.reduce(((e,t)=>(r||t.getAssociatedCollectionId()!==(null==n?void 0:n.id)?e.reparentedStores.push(t):e.movedStores.push(t),e)),{movedStores:[],reparentedStores:[]});return[...l,...i().MS({environment:t,droppedStores:d,duplicate:r,transaction:a,resolveTemplateVariables:!1,duplicateActions:s})]}},523036:(e,t,n)=>{n.d(t,{R:()=>d});var i=n(296540),r=()=>n(484714),o=()=>n(56366),a=()=>n(640653),s=()=>n(765957),l=()=>n(749356);function d(e){const t=(0,r().v3)(),[n,d]=(0,i.useState)(),{spaceId:c,spaceName:u}=(0,o().K8)((()=>{const e=s().default.state.currentSpaceStore;return e?{spaceId:e.getSpaceId(),spaceName:(0,a().GK)(t,e)}:{spaceId:void 0,spaceName:void 0}}),[t]);return(0,i.useEffect)((()=>{!async function(){if(c){const n=await(0,l().OC)(t,c,e);n&&(d(n),u&&(0,l().Zc)({environment:t,spaceName:u,offerCampaign:n.campaign}))}}()}),[t,c,u,e]),n}},525700:(e,t,n)=>{n.d(t,{Bp:()=>N,DD:()=>z,E9:()=>X,H6:()=>k,HE:()=>j,HY:()=>U,JI:()=>$,Nf:()=>K,P8:()=>Z,V_:()=>Q,XL:()=>R,Xz:()=>V,aD:()=>T,aN:()=>O,d7:()=>q,d8:()=>M,j4:()=>Y,n0:()=>G,pu:()=>L,sd:()=>F,uH:()=>H,uY:()=>J,wl:()=>B,yF:()=>E,zV:()=>D});n(16280),n(944114),n(898992),n(354520),n(581454),n(296540);var i=()=>n(68263),r=()=>n(161479),o=()=>n(101628),a=()=>n(245241),s=()=>n(959013),l=()=>n(496603),d=()=>n(498212),c=()=>n(449506),u=()=>n(496414),p=()=>n(246826),m=()=>n(755636),g=()=>n(436572),h=()=>n(751156),f=()=>n(780054),v=()=>n(594794),S=()=>n(976721),y=()=>n(562800),b=()=>n(40226),x=()=>n(380682),C=()=>n(300451),A=()=>n(676870),I=()=>n(435212),w=n(474848);const P=(0,s().YK)({savingSiteSettings:{id:"siteSettingsActions.publishingSiteSettings.loadingMessage",defaultMessage:"Saving site settings…"}});function M(e){const{environment:t,store:n,type:i,header:a,domainId:s}=e,l=n.getSiteStore();if(l)return l.id;let d=s;var c;d||(d=null===(c=y().Nq(n.getSpaceStore()))||void 0===c?void 0:c.id);const u=(0,v().JH)({environment:t,table:o().Eu,spaceId:(0,r().e)(n.getSpaceId())});h().createAndCommit({userAction:"publishSite.create",environment:t,canUndo:!0,perform:e=>{const r=p().vt({environment:t,table:u.table,args:{id:u.id,type:i,spaceId:u.spaceId,blockId:n.id,domainId:d,currentUserId:t.currentUser.id,header:a??{}},inMemoryRecordCache:t.defaultRecordCache.inMemoryRecordCache,transaction:e});return p().zv({store:n.getFormatStore(),data:{site_id:r.id},transaction:e}),r.id}})}function _(e){const{environment:t,siteRootBlockStore:n,domainId:i}=e;let r=n.getSiteStore();if(r||(M({environment:t,type:"site",store:n,domainId:i}),r=n.getSiteStore()),r)return r}function D(e){const{environment:t,domainId:n,resetWatermark:i}=e,r=_(e);r&&r.isDefined()&&(h().createAndCommit({userAction:"publishSite.updatePublicDomain",environment:t,canUndo:!0,perform:e=>{r.getDomainId()!==n&&h().applyOperation({transaction:e,store:r,operation:r.getModel().ops.updatePublicDomainId({domainId:n,currentUserId:t.currentUser.id})})}}),h().createAndCommit({userAction:"publishSite.resetWatermark",environment:t,canUndo:!0,perform:e=>{if(i){const n=r.getHeader();h().applyOperation({transaction:e,store:r,operation:r.getModel().ops.updateHeader({header:{...n,hideWatermark:!1},currentUserId:t.currentUser.id})})}}}),g().D6({label:(0,w.jsx)(s().sA,{id:"publishSiteSettings.publicDomain.confirmation",defaultMessage:"Successfully updated domain for all pages within this site"})}))}function k(e){const{environment:t,siteRootBlockStore:n,isSearchEngineIndexingEnabled:i}=e,o=_(e);if(!o)return;"form"!==o.getType()&&h().createAndCommit({userAction:"publishSite.updateSeoEnabled",environment:t,canUndo:!0,perform:e=>{o&&o.isDefined()&&i!==o.isSearchEngineIndexingEnabled()&&(h().applyOperation({transaction:e,store:o,operation:o.getModel().ops.updateIsSearchEngineIndexingEnabled({isSearchEngineIndexingEnabled:i,currentUserId:t.currentUser.id})}),i&&e.postSubmitCallbacks.push((async e=>{e||await c().callApi({eventName:"enqueueScanContentTask",environment:t,data:{pagePointer:{id:n.id,table:"block",spaceId:(0,r().e)(n.pointer.spaceId)}}})})))}})}function j(e){const{environment:t,store:n,seoTitle:i,seoDescription:r}=e;h().createAndCommit({userAction:"publishSite.create",environment:t,canUndo:!0,perform:e=>{const o=n.getFormat().seo_title,a=n.getFormat().seo_description;o===i&&a===r||(p().zv({store:n.getFormatStore(),data:{seo_title:i,seo_description:r},transaction:e}),(0,A().NZ)(t,{target_block_id:n.id,new_title:i??null,new_description:r??null}),g().D6({label:(0,w.jsx)(s().sA,{id:"siteSettingsEditor.publishSeoChanges.confirmation",defaultMessage:"Successfully updated the SEO settings"})}))}})}function T(e){C().A.setState({...C().A.state,settingOpen:e})}function B(){C().A.setState({...C().A.state,settingOpen:"initial"})}function N(e){x().A.setState({...x().A.state,siteSettingContentType:e})}function U(e){var t,n,i;const{siteRootBlockStore:r,permissionItem:o,from:a,sudoModeStore:s}=e,l=r.getSiteStore(),d=null==l?void 0:l.getHeader(),c=(null==d||null===(t=d.customItems)||void 0===t?void 0:t.map((e=>e.blockId)))||[];C().A.setState({settingOpen:"initial",permissionItem:o,from:a,sudoModeStore:s,faviconUrl:(null==l?void 0:l.getFaviconUrl())||null,previewImageUrl:(null==l?void 0:l.getPreviewImageUrl())||null,hideBreadcrumbs:null==d?void 0:d.hideBreadcrumbs,hideSearch:null==d?void 0:d.hideSearch,hideShare:null==d?void 0:d.hideShare,hideWatermark:null==d?void 0:d.hideWatermark,enableDuplicateAsTemplate:o.allow_duplicate,customHeaderBlockIds:c,googleAnalyticsId:null==l?void 0:l.getGoogleAnalyticsId(),theme:null==l||null===(n=l.getSettings())||void 0===n?void 0:n.theme,enableQna:null==l||null===(i=l.getSettings())||void 0===i?void 0:i.enableQna})}async function H(e){var t;const{environment:n,store:r,siteRootBlockStore:o}=e,a=_({environment:n,siteRootBlockStore:o}),l=null==a?void 0:a.getType();if(!a||"form"===l)return;const p=C().A.getState(),m={},f=function(e,t){var n,i,r,o,a,s,l,d;const c=W(e.customHeaderBlockIds,null===(n=t.getHeader())||void 0===n?void 0:n.customItems);return e.faviconUrl!==(t.getFaviconUrl()||null)||e.previewImageUrl!==(t.getPreviewImageUrl()||null)||c||e.hideBreadcrumbs!==(null===(i=t.getHeader())||void 0===i?void 0:i.hideBreadcrumbs)||e.hideSearch!==(null===(r=t.getHeader())||void 0===r?void 0:r.hideSearch)||e.hideShare!==(null===(o=t.getHeader())||void 0===o?void 0:o.hideShare)||e.hideWatermark!==(null===(a=t.getHeader())||void 0===a?void 0:a.hideWatermark)||e.googleAnalyticsId!==t.getGoogleAnalyticsId()||e.theme!==(null===(s=t.getSettings())||void 0===s?void 0:s.theme)||e.enableQna!==(null===(l=t.getSettings())||void 0===l?void 0:l.enableQna)||(null===(d=e.permissionItem)||void 0===d?void 0:d.allow_duplicate)!==e.enableDuplicateAsTemplate&&e.permissionItem&&e.from}(p,a);if(!f)return;let v;if(u().m({message:P.savingSiteSettings}),p.enableQna)try{v=await async function(e){var t,n,i,r;const{environment:o,siteStore:a}=e,s=null===(t=a.getSettings())||void 0===t?void 0:t.siteUserId;if(s)return s;if(!((null===(n=a.getDomainStore())||void 0===n?void 0:n.getDomainName())??(null===(i=y().Nq(a.getSpaceStore()))||void 0===i?void 0:i.domain_name)))throw new Error("no domain on site");const l=y().Ix({spaceStore:a.getSpaceStore(),domainId:null===(r=a.getDomainStore())||void 0===r?void 0:r.id}).split(":")[0],u=`${(0,d().S2)(a.id)}@${l}`,p=await c().callApi({eventName:"createEmailUser",environment:o,data:{email:u}});if("failed"===p.type)throw new Error("failed to create qna user");return p.data.userId}({environment:n,siteStore:a})}catch{return u().V(),void g().D6({label:(0,w.jsx)(s().sA,{id:"siteSettingsEditor.publishChanges.failure",defaultMessage:"Something went wrong, please try again later"})})}const{serverCommitResult:b}=h().createAndCommit({userAction:"publishSite.updateSiteSettingsInEditor",environment:n,canUndo:!0,perform:e=>{if(a&&a.isDefined()){var t,i;(a.getFaviconUrl()||null)!==p.faviconUrl&&(h().applyOperation({transaction:e,store:a,operation:a.getModel().ops.updateFaviconUrl({faviconUrl:p.faviconUrl,currentUserId:n.currentUser.id})}),m.favicon=p.faviconUrl);(a.getPreviewImageUrl()||null)!==p.previewImageUrl&&(h().applyOperation({transaction:e,store:a,operation:a.getModel().ops.updatePreviewImageUrl({previewImageUrl:p.previewImageUrl,currentUserId:n.currentUser.id})}),m.preview_image=p.previewImageUrl);const r=a.getHeader();let o=r;const s=W(p.customHeaderBlockIds,null==r?void 0:r.customItems);s&&(o={...o,customItems:s},m.custom_headers=s.map((e=>e.blockId))),(null==r?void 0:r.hideBreadcrumbs)!==p.hideBreadcrumbs&&(o={...o,hideBreadcrumbs:p.hideBreadcrumbs},m.hide_breadcrumbs=p.hideBreadcrumbs),(null==r?void 0:r.hideSearch)!==p.hideSearch&&(o={...o,hideSearch:p.hideSearch},m.hide_search=p.hideSearch),(null==r?void 0:r.hideShare)!==p.hideShare&&(o={...o,hideShare:p.hideShare},m.hide_share=p.hideShare),(null==r?void 0:r.hideWatermark)!==p.hideWatermark&&(o={...o,hideWatermark:p.hideWatermark},m.hide_watermark=p.hideWatermark),o&&r!==o&&h().applyOperation({transaction:e,store:a,operation:a.getModel().ops.updateHeader({header:o,currentUserId:n.currentUser.id})});a.getGoogleAnalyticsId()!==p.googleAnalyticsId&&(h().applyOperation({transaction:e,store:a,operation:a.getModel().ops.updateGoogleAnalyticsId({googleAnalyticsId:p.googleAnalyticsId,currentUserId:n.currentUser.id})}),m.google_analytics_id=p.googleAnalyticsId);(null===(t=a.getSettings())||void 0===t?void 0:t.theme)!==p.theme&&(h().applyOperation({transaction:e,store:a,operation:a.getModel().ops.updateTheme({theme:p.theme,currentUserId:n.currentUser.id})}),m.theme=p.theme);(null===(i=a.getSettings())||void 0===i?void 0:i.enableQna)!==p.enableQna&&(p.enableQna?v&&h().applyOperation({transaction:e,store:a,operation:{pointer:a.pointer,command:"update",path:["settings"],args:{enableQna:p.enableQna,siteUserId:v}}}):h().applyOperation({transaction:e,store:a,operation:{pointer:a.pointer,command:"update",path:["settings"],args:{enableQna:p.enableQna}}}))}}});try{await b}catch{return u().V(),void g().D6({label:(0,w.jsx)(s().sA,{id:"siteSettingsEditor.publishChanges.failure",defaultMessage:"Something went wrong, please try again later"})})}if((null===(t=p.permissionItem)||void 0===t?void 0:t.allow_duplicate)!==p.enableDuplicateAsTemplate&&p.permissionItem&&p.from){const e=(0,i().Yi)(p.from);if(!(await(0,S().Hc)({oldPermissionItem:p.permissionItem,newPermissionItem:{...p.permissionItem,allow_duplicate:p.enableDuplicateAsTemplate},wasInherited:e!==r.id,environment:n,store:r,sudoModeStore:p.sudoModeStore,location:"published_site_settings"})))return u().V(),void g().D6({label:(0,w.jsx)(s().sA,{id:"siteSettingsEditor.publishChanges.failure",defaultMessage:"Something went wrong, please try again later"})});m.enable_duplicate_as_template=p.enableDuplicateAsTemplate}u().V(),(0,I().Kz)(n,{settings_changed:m}),g().D6({label:(0,w.jsx)(s().sA,{id:"siteSettingsEditor.publishChanges.confirmation",defaultMessage:"Changes published"})})}function W(e,t){const n=e.map((e=>({type:"block",blockId:e})));if((t||0!==n.length)&&(!t||!(0,l().n4)(n,t)))return n}function L(e){C().A.setState({...C().A.state,faviconUrl:e})}function E(e){C().A.setState({...C().A.state,previewImageUrl:e})}function z(e){C().A.setState({...C().A.state,hideBreadcrumbs:e})}function R(e){C().A.setState({...C().A.state,hideSearch:e})}function V(e){C().A.setState({...C().A.state,hideWatermark:e})}function F(e){C().A.setState({...C().A.state,hideShare:e})}function q(e){C().A.setState({...C().A.state,enableDuplicateAsTemplate:e})}function O(e){const t=C().A.state.customHeaderBlockIds.concat([e]);C().A.setState({...C().A.state,customHeaderBlockIds:t})}function $(e){const t=C().A.state.customHeaderBlockIds.filter((t=>t!==e));C().A.setState({...C().A.state,customHeaderBlockIds:t})}function K(e){C().A.setState({...C().A.state,googleAnalyticsId:e})}function Q(e){C().A.setState({...C().A.state,theme:e})}async function Y(e){const{environment:t,spaceStore:n,query:i,siteRootBlockId:r}=e;if(!n)return;const o=await c().callApi({eventName:"searchPagesInSite",environment:t,data:{query:i,spaceId:n.id,filters:a().N2({isDeletedOnly:!1,navigableBlockContentOnly:!0,excludeTemplates:!0,editedBy:[],ancestors:[r],inTeams:[]}),sort:{field:"relevance"},limit:10}});return"failed"!==o.type?o.data:void 0}async function G(e){const{environment:t,blockStore:n,slug:i}=e,r=await c().callApi({eventName:"updatePublicPageSlug",environment:t,data:{spaceId:n.getSpaceId(),blockId:n.id,slug:i,clientVersion:f().A.version}});if("success"!==r.type)return{error:r};g().D6({label:(0,w.jsx)(s().sA,{id:"customSlugInput.updateSuccess.toast",defaultMessage:"Successfully updated URL for this page"})})}function Z(e){C().A.setState({...C().A.state,enableQna:e})}function J(e){const{environment:t,store:n,pageVisitSource:i}=e,r=b().R({store:n,pageVisitSource:i});m().f({environment:t,url:r})}function X(e){const{environment:t,siteStore:n,embedSettings:i}=e;h().createAndCommit({userAction:"embedSite.updateEmbedSettings",environment:t,canUndo:!0,perform:e=>{p().zv({store:n.getSettingsStore(),data:{embedSettings:i},transaction:e})}})}},541235:(e,t,n)=>{n.d(t,{YD:()=>o,c$:()=>i,q_:()=>r});const i={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]}},r="completed",o="dismissed"},555267:(e,t,n)=>{n.d(t,{A:()=>l});var i=n(296540),r=()=>n(401497),o=()=>n(62856),a=()=>n(331542),s=n(474848);function l(e){let{loadingMessage:t}=e;const n=(0,r().DP)(),l=(0,o().A)(!0,400);return(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l?(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(a().A,{}),t?(0,s.jsx)("div",{style:{marginLeft:8,color:n.text.secondary},children:t}):void 0]}):void 0})}},567121:(e,t,n)=>{n.d(t,{EG:()=>a,K5:()=>o,RH:()=>r,Yi:()=>s,ls:()=>i});const i=32,r=202,o=1e3,a="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",s="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},578194:(e,t,n)=>{n.d(t,{r:()=>i});const i=(0,n(583835).Dv)("importEvernote")},625634:(e,t,n)=>{n.d(t,{_:()=>r,z:()=>o});var i=()=>n(340498);const r={small:"md",default:"lg",large:"xl"},o={small:i().Ev.xs,default:i().Ev.sm,large:i().Ev.sm}},676870:(e,t,n)=>{n.d(t,{EN:()=>r,Ex:()=>o,NZ:()=>a,T6:()=>l,i_:()=>s,kW:()=>d});var i=()=>n(2220);function r(e,t){(0,i().u)({environment:e,event:{eventName:"open_publish_modal",eventProperties:t}})}function o(e,t){(0,i().u)({environment:e,event:{eventName:"change_domain",eventProperties:t}})}function a(e,t){(0,i().u)({environment:e,event:{eventName:"update_seo_settings",eventProperties:t}})}function s(e,t){(0,i().u)({environment:e,event:{eventName:"site_set_link_expiration",eventProperties:t}})}function l(e,t){(0,i().u)({environment:e,event:{eventName:"page_unpublish",eventProperties:t}})}function d(e,t){(0,i().u)({environment:e,event:{eventName:"page_publish",eventProperties:t}})}},677195:(e,t,n)=>{n.d(t,{R:()=>r});n(296540);var i=n(474848);const r=(0,n(340498).wt)("verificationCheck",{viewBox:"0 0 6 7",svg:(0,i.jsx)("path",{d:"M2.84245 6.11619C2.71116 6.30644 2.53392 6.40156 2.31072 6.40156C2.20131 6.40156 2.10066 6.37881 2.00875 6.33332C1.92123 6.28782 1.83589 6.21545 1.75274 6.11619L0.150985 4.25515C0.0503282 4.12694 0 3.99874 0 3.87053C0 3.73406 0.04814 3.61826 0.14442 3.52314C0.245077 3.42388 0.365427 3.37425 0.50547 3.37425C0.597374 3.37425 0.680525 3.39286 0.754923 3.43008C0.833698 3.46317 0.912473 3.52934 0.991247 3.6286L2.28446 5.21049L5.00875 1.07896C5.13129 0.892857 5.28446 0.799805 5.46827 0.799805C5.60394 0.799805 5.72648 0.841161 5.83589 0.923874C5.9453 1.00659 6 1.11618 6 1.25266C6 1.32297 5.98249 1.39327 5.94748 1.46358C5.91685 1.52975 5.88184 1.59178 5.84245 1.64968L2.84245 6.11619Z"})})},735790:(e,t,n)=>{n.d(t,{M:()=>o});n(296540);var i=n(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.25 15.25 11.5",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M3 7.375h6.829a2.501 2.501 0 0 0 4.842 0H17a.625.625 0 1 0 0-1.25h-2.329a2.501 2.501 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25M12.25 5.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5"}),(0,i.jsx)("path",{fillRule:"evenodd",d:"M7.75 15.75a2.5 2.5 0 0 0 2.421-1.875H17a.625.625 0 1 0 0-1.25h-6.829a2.5 2.5 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25h2.329A2.5 2.5 0 0 0 7.75 15.75m0-1.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"})]})},o=(0,n(340498).wt)("sliders",r)},739135:(e,t,n)=>{n.d(t,{KD:()=>d,gt:()=>c,i9:()=>l,ll:()=>a,tb:()=>s,x$:()=>o});var i=()=>n(541235),r=()=>n(496603);function o(e,t){return a(c(e,t))}function a(e){return void 0!==e&&(e===i().q_||e===i().YD)}function s(e,t){if(a(t))return;const n=i().c$[e],r=n.steps.findIndex((e=>e.id===t));return-1===r?n.steps[0].id:r===n.steps.length-1?i().q_:n.steps[r+1].id}function l(e,t){const n=c(e,t);if(n&&!a(n))return s(t,n)}function d(e,t){const n=c(e,t);if(n)return function(e,t){const n=i().c$[e];var o;if(a(t))return null===(o=(0,r().HV)(n.steps))||void 0===o?void 0:o.id;const s=n.steps.findIndex((e=>e.id===t));return-1!==s&&0!==s?n.steps[s-1].id:void 0}(t,n)}function c(e,t){var n;if(!e)return;const r=((null===(n=e.getSettings())||void 0===n?void 0:n.tutorials)||{})[t];return void 0===r?i().c$[t].steps[0].id:r}},742117:(e,t,n)=>{n.d(t,{V:()=>r});n(296540);var i=n(474848);const r=(0,n(340498).wt)("chevronRight",{viewBox:"0 0 16 16",directional:!0,svg:(0,i.jsx)("path",{d:"M12.375 8.06445C12.375 7.83203 12.2861 7.63379 12.1084 7.45605L6.77637 2.24023C6.62598 2.08984 6.44141 2.01465 6.22266 2.01465C5.77832 2.01465 5.42285 2.35645 5.42285 2.80078C5.42285 3.01953 5.51172 3.21777 5.66211 3.375L10.4746 8.06445L5.66211 12.7539C5.51855 12.9043 5.42285 13.1025 5.42285 13.3213C5.42285 13.7725 5.77832 14.1143 6.22266 14.1143C6.44141 14.1143 6.62598 14.0391 6.77637 13.8887L12.1084 8.67285C12.293 8.49512 12.375 8.29688 12.375 8.06445Z"})})},747671:(e,t,n)=>{n.d(t,{Q:()=>i,a:()=>r});let i=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e}({});class r extends(()=>n(757695))().Store{getInitialState(){return{dayStoreMap:new Map,isDragging:!1,startingMonth:0}}}},756114:(e,t,n)=>{n.d(t,{D:()=>i});function i(e,t){t.route.name;return!1}},843189:(e,t,n)=>{n.d(t,{E:()=>a});var i=n(296540),r=()=>n(960715),o=n(474848);const a=i.forwardRef(((e,t)=>{let{children:i,color:a,disabled:s,iconLeading:l,iconStyle:d,iconTrailing:c,isLoading:u,shape:p="default",size:m="md",style:g,...h}=e;const f=(0,n(963589).X)("nds_button_gap")||Boolean(c),v=(0,n(401497).IS)((e=>{const t=a?`${a}Primary`:"primary",o=a||"regular",c=a?`${a}Hover`:"primaryHover",h=a?`${a}Pressed`:"primaryPressed";return{button:{...(0,r().qq)({shape:p,size:m,hasIconOnly:Boolean(l)&&!i,isButtonGapEnabled:f}),justifyContent:"center",color:e.text[t],background:e.tint[o],opacity:s||u?.3:1,fontWeight:n(284371).Wy.medium,...g},hovered:{background:s?e.tint[o]:e.tint[c]},pressed:{background:s?e.tint[o]:e.tint[h]},icon:{...(0,r().D3)({size:m,hasIconOnly:!i,isButtonGapEnabled:f}),...d}}}),[i,a,s,l,d,f,u,p,m,g]);return(0,o.jsxs)(n(197190).A,{ref:t,style:v.button,hoveredStyle:v.hovered,pressedStyle:v.pressed,disabled:s||u,...h,children:[u?(0,o.jsx)(n(331542).A,{style:{marginRight:4}}):null,l?l(v.icon):null,i,c?c(v.icon):null]})}));a.displayName="TintButton"},882827:(e,t,n)=>{n.d(t,{p:()=>a});n(296540);var i=()=>n(783982),r=()=>n(340498),o=n(474848);function a(e,t){const{viewBox:n,svg:a}=t,s=n??`0 0 ${r().Ev.default} ${r().Ev.default}`;return Object.assign((t=>{let{style:n,className:r,label:l,animationState:d}=t;const c=r?`${e} ${r}`:e;return(0,o.jsx)(i().A,{viewBox:s,className:c,style:n,label:l,children:a(d)})}),{__iconDefinition:{viewBox:s,svg:a("initial")}})}},964492:(e,t,n)=>{n.d(t,{e:()=>c});var i=n(296540),r=()=>n(132855),o=()=>n(59442),a=n(474848);const s={viewBox:"2.37 2.37 15.25 15.26",svg:e=>{const t=(0,n(206267).JW)(),i="all 0.548s linear(\n    \t\t\t\t\t\t0, 0.006, 0.022 2%, 0.091 4.3%, 0.52 14%, 0.624, 0.71 19.3%, 0.784,\n    \t\t\t\t\t\t0.846 24.9%, 0.895 27.9%, 0.934, 0.961 34.4%, 0.98 37.9%, 0.993 42%,\n    \t\t\t\t\t\t1.001 46.8%, 1.004 55.3%, 1\n  \t\t\t\t\t\t)",r={transformOrigin:"bottom center",transition:i},o={translate:"0 -14px",scale:"70%",opacity:0},s={translate:"0 10px",scale:"70%",opacity:0,transformOrigin:"top center",transition:i},l={translate:"0 0",scale:"100%",opacity:1};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:t,children:(0,a.jsx)("rect",{x:"2.5",y:"2.5",width:"15",height:"15",rx:"7.5"})})}),(0,a.jsx)("rect",{x:"2.5",y:"2.5",width:"15",height:"15",rx:"7.5"}),(0,a.jsx)("g",{clipPath:`url(#${t})`,children:(0,a.jsx)("path",{style:{...r,..."animate"===e?o:{}},d:"M13.0419 9.55439C12.7978 9.79847 12.4021 9.79847 12.158 9.55439L10.625 8.02136L10.625 13.4874C10.625 13.8326 10.3452 14.1124 10 14.1124C9.65482 14.1124 9.375 13.8326 9.375 13.4874L9.375 8.02131L7.84192 9.5544C7.59784 9.79847 7.20211 9.79847 6.95804 9.5544C6.71396 9.31032 6.71396 8.91459 6.95803 8.67051L9.55803 6.07051C9.67524 5.9533 9.83421 5.88745 9.99997 5.88745C10.1657 5.88745 10.3247 5.9533 10.4419 6.07051L13.0419 8.67051C13.286 8.91459 13.286 9.31032 13.0419 9.55439Z",fill:"white"})}),(0,a.jsx)("g",{clipPath:`url(#${t})`,children:(0,a.jsx)("path",{style:{...s,..."animate"===e?l:{}},d:"M13.0419 9.55439C12.7978 9.79847 12.4021 9.79847 12.158 9.55439L10.625 8.02136L10.625 13.4874C10.625 13.8326 10.3452 14.1124 10 14.1124C9.65482 14.1124 9.375 13.8326 9.375 13.4874L9.375 8.02131L7.84192 9.5544C7.59784 9.79847 7.20211 9.79847 6.95804 9.5544C6.71396 9.31032 6.71396 8.91459 6.95803 8.67051L9.55803 6.07051C9.67524 5.9533 9.83421 5.88745 9.99997 5.88745C10.1657 5.88745 10.3247 5.9533 10.4419 6.07051L13.0419 8.67051C13.286 8.91459 13.286 9.31032 13.0419 9.55439Z",fill:"white"})})]})}},l=(0,n(882827).p)("arrowInCircleUpAnimated",s);const d={eligible_for_upgrade:{icon:{type:"animated",iconFn:l},iconColor:"uiBluePrimary",highlightColor:"uiBluePrimary",label:{button:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.outlineButton",defaultMessage:"Upgrade now"})},text:e=>{let{intl:t,productDisplayName:n,renderTextHighlight:i}=e;return t.formatMessage({id:"upgrade.text",defaultMessage:"<highlight>Upgrade</highlight> {hasProductDisplayName, select, true {to {productName}} other {for access}}"},{highlight:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i?i(t):t},hasProductDisplayName:Boolean(n),productName:n})},icon:e=>{let{intl:t,productDisplayName:n}=e;return t.formatMessage({id:"upgrade.iconTooltip",defaultMessage:"Upgrade {hasProductDisplayName, select, true {to {productName}} other {}} for access"},{hasProductDisplayName:Boolean(n),productName:n})}}},eligible_for_trial:{icon:{type:"animated",iconFn:n(201361).P},iconColor:"orangePrimary",highlightColor:"orangeSecondary",label:{button:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.trial.button",defaultMessage:"Try for free"})},text:e=>{let{intl:t,renderTextHighlight:n}=e;return t.formatMessage({id:"upgrade.trial.text",defaultMessage:"<highlight>Try</highlight> for free"},{highlight:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n?n(t):t}})},icon:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.trial.iconTooltip",defaultMessage:"Try for free"})}}},sales_eligible:{icon:{type:"static",iconFn:o().paperPlaneFillIcon},iconColor:"secondary",highlightColor:"secondary",label:{button:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.sales.button",defaultMessage:"Contact sales"})},text:e=>{let{intl:t,renderTextHighlight:n}=e;return t.formatMessage({id:"upgrade.sales.text",defaultMessage:"<highlight>Contact sales</highlight> to learn more"},{highlight:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n?n(t):t}})},icon:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.sales.iconTooltip",defaultMessage:"Contact sales to learn more"})}}},sales_assisted:{icon:{type:"static",iconFn:o().paperPlaneFillIcon},iconColor:"secondary",highlightColor:"secondary",label:{button:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.sales.button",defaultMessage:"Contact sales"})},text:e=>{let{intl:t,renderTextHighlight:n}=e;return t.formatMessage({id:"upgrade.sales.text",defaultMessage:"<highlight>Contact sales</highlight> to learn more"},{highlight:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n?n(t):t}})},icon:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.sales.iconTooltip",defaultMessage:"Contact sales to learn more"})}}},eligible_to_request:{icon:{type:"animated",iconFn:l},iconColor:"uiBluePrimary",highlightColor:"uiBluePrimary",label:{button:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.request.button",defaultMessage:"Request"})},text:e=>{let{intl:t,productDisplayName:n,renderTextHighlight:i}=e;return t.formatMessage({id:"upgrade.request.text",defaultMessage:"<highlight>Request</highlight> {hasProductDisplayName, select, true {access to {productName}} other {access}}"},{highlight:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i?i(t):t},hasProductDisplayName:Boolean(n),productName:n})},icon:e=>{let{intl:t,productDisplayName:n}=e;return t.formatMessage({id:"upgrade.request.iconTooltip",defaultMessage:"Request {hasProductDisplayName, select, true {access to {productName}} other {access}}"},{hasProductDisplayName:Boolean(n),productName:n})}}},not_eligible:{icon:{type:"static",iconFn:r().arrowInCircleUpFillIcon},iconColor:"grayPrimary",highlightColor:"grayPrimary",label:{button:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.outlineButton",defaultMessage:"Upgrade now"})},text:e=>{let{intl:t,productDisplayName:n,renderTextHighlight:i}=e;return t.formatMessage({id:"upgrade.text",defaultMessage:"<highlight>Upgrade</highlight> {hasProductDisplayName, select, true {to {productName}} other {for access}}"},{highlight:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i?i(t):t},hasProductDisplayName:Boolean(n),productName:n})},icon:e=>{let{intl:t,productDisplayName:n}=e;return t.formatMessage({id:"upgrade.iconTooltip",defaultMessage:"Upgrade {hasProductDisplayName, select, true {to {productName}} other {}} for access"},{hasProductDisplayName:Boolean(n),productName:n})}},disabledTooltip:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.not.eligible.disabledTooltip",defaultMessage:"You're not eligible to upgrade"})}},request_pending:{icon:{type:"static",iconFn:r().arrowInCircleUpFillIcon},iconColor:"grayPrimary",highlightColor:"grayPrimary",label:{button:e=>{let{intl:t}=e;return t.formatMessage({id:"upgrade.requestPending.button",defaultMessage:"Pending"})},text:e=>{let{intl:t,productDisplayName:n,renderTextHighlight:i}=e;return t.formatMessage({id:"upgrade.requestPending.text",defaultMessage:"<highlight>Requested</highlight>{space}{hasProductDisplayName, select, true {access to {productName}} other {access}}{space}is{space}<highlight>pending</highlight>"},{highlight:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i?i(t):t},space:(0,a.jsx)(a.Fragment,{children:" "}),hasProductDisplayName:Boolean(n),productName:n})},icon:e=>{let{intl:t,productDisplayName:n}=e;return t.formatMessage({id:"upgrade.requestPending.iconTooltip",defaultMessage:"Requested {hasProductDisplayName, select, true {access to {productName}} other {access}} is pending"},{hasProductDisplayName:Boolean(n),productName:n})}},disabledTooltip:e=>{let{intl:t,productDisplayName:n}=e;return t.formatMessage({id:"upgrade.requestPending.disabledTooltip",defaultMessage:"Requested {hasProductDisplayName, select, true {access to {productName}} other {access}} is pending"},{hasProductDisplayName:Boolean(n),productName:n})}}};function c(e){return i.useMemo((()=>d[e]),[e])}},976721:(e,t,n)=>{n.d(t,{Dw:()=>x,Hc:()=>b,o5:()=>y});n(16280),n(296540);var i=()=>n(857639),r=()=>n(243581),o=()=>n(340498),a=()=>n(273900),s=()=>n(161479),l=()=>n(959013),d=()=>n(496603),c=()=>n(701763),u=()=>n(901389),p=()=>n(579627),m=()=>n(751156),g=()=>n(125565),h=()=>n(247123),f=()=>n(406792),v=()=>n(630116),S=n(474848);async function y(e){let{newRole:t,...n}=e;const i=n.oldPermissionItem,r=(0,d().o8)(i);return r.role=t,await b({newPermissionItem:r,...n})}async function b(e){const{oldPermissionItem:t,newPermissionItem:n,wasInherited:r,environment:o,store:l,sudoModeStore:d,restrictingVisibility:u,fromPermissionWrapper:g,trustedDomainsLoggingData:h}=e;if(!(0,a().nK)(t,n))throw new Error("Permission type mismatch.");const S=!!d&&d.shouldSaveTransactionWithSudoMode(l),y=(0,a().$q)(t.role,n.role);if(r&&y!==n.role||u){return await x({environment:o,useSudoMode:S,store:l,permissionItem:n,fromPermissionWrapper:g,shouldInherit:!0,trustedDomainsLoggingData:h})}return l instanceof v().Bv&&!l.isTopLevel()&&t.role!==n.role&&y!==t.role&&c().MR(o),m().createAndCommit({userAction:"PermissionItem.handlePermissionItemChange",environment:o,canUndo:!0,useSudoMode:S,perform:t=>{const i=f().default.DO_NOT_USE_markLegacy("share_menu.update_page_permission_lag");p().wd({environment:o,store:l,permissionItems:[n],transaction:t,pagePermissionChangeLocation:e.location,metric:i,fromPermissionWrapper:g})}}),"trusted_domain_permission"===n.type&&i().log({level:"warning",from:"shareMenu.handlePermissionItemChange",type:"TrustedDomainPermissionChange",spaceId:(0,s().e)(l.pointer.spaceId),data:{miscDataToConvertToString:{message:"shareMenu.handlePermissionItemChange updating trusted domain permission",blockId:l.id,oldPermissionItem:t,newPermissionItem:n,trustedDomainsLoggingData:h}}}),!0}async function x(e){const{environment:t,useSudoMode:n,store:i,permissionItem:a,fromPermissionWrapper:s,shouldInherit:d,trustedDomainsLoggingData:c}=e,f="none"===(null==a?void 0:a.role)?{type:"remove",permissionItem:a}:{type:"restrict"};return!!("user_permission"===(null==a?void 0:a.type)&&(null==a?void 0:a.user_id)===t.currentUser.id||(await u().Gh({message:(0,h().r6)(f),description:(0,S.jsx)(g().A,{isSmall:!0,isMultiline:!0,children:(0,S.jsx)(l().sA,{id:"restrictedPermissionConfirmationModal.footer.whisperTextV2",defaultMessage:"Changing this will unlink this page from its parent, so it will no longer inherit share settings. Admins can still restore settings on unlinked pages."})}),acceptLabel:(0,h().QU)(f),icon:(0,r().r)({height:o().Ev.xl,width:o().Ev.xl})})).accept)&&(m().createAndCommit({userAction:"PermissionItem.onAccept",environment:t,canUndo:!0,useSudoMode:n,perform:e=>{p().wW({environment:t,store:i,permissionItem:a,shouldInherit:d,transaction:e,fromPermissionWrapper:s,trustedDomainsLoggingData:c})}}),!0)}}}]);