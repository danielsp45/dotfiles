"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[83965],{270643:(e,s,t)=>{t.r(s),t.d(s,{GuestUpsellModal:()=>I});var o=t(296540),a=()=>t(484714),i=()=>t(56366),r=()=>t(401497),n=()=>t(148307),l=()=>t(101209),d=()=>t(925907),c=()=>t(178901),u=()=>t(959013),p=()=>t(534177),g=()=>t(134696),m=()=>t(449506),h=()=>t(436572),x=()=>t(581495),j=()=>t(47373),y=()=>t(765957),b=()=>t(159026),f=()=>t(551694),M=()=>t(84817),_=()=>t(493823),A=()=>t(297872),v=()=>t(805751),S=()=>t(623580),q=()=>t(554509),w=()=>t(204063),C=()=>t(107683),k=()=>t(125565),R=()=>t(369251),G=t(474848);function I(e){const{open:s,stage:t}=(0,i().O$)(f().A),r=(0,a().v3)(),n=(0,i().O$)(y().AppStoreCurrentSpaceStore),l=(0,i().K8)((()=>y().default.state.currentUserRootStore),[]),d=(0,i().K8)((()=>(0,j().i3)({environment:r,spaceStore:n,userRootStore:l})),[r,n,l]),c=(0,o.useCallback)((()=>{switch(t){case"landing":return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(M().Y1,{padding:24,children:[(0,G.jsx)(T,{}),(0,G.jsx)(U,{})]}),d?(0,G.jsx)(D,{}):(0,G.jsx)(z,{})]});case"membership_request":return(0,G.jsx)("div",{style:{padding:"15px 10px"},children:(0,G.jsx)(R().k,{onDismiss:()=>{f().A.close()}})});default:(0,p().HB)(t)}}),[t,d]);return(0,G.jsx)(C().s,{isOpen:s,onClosed:()=>{f().A.close()},render:()=>(0,G.jsx)(A().A,{capture:!0,allowEsc:!0,render:()=>(0,G.jsxs)(x().eh.Provider,{value:()=>f().A.close(),children:[(0,G.jsx)(x().Rz,{}),c()]})})})}function T(){const e=(0,r().IS)((e=>({title:{display:"flex",marginTop:24,marginBottom:24}})),[]);return(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)("img",{src:n().A.images.thinkItMakeItCloudDarkPng,style:{width:334,height:205,margin:"auto"}}),(0,G.jsx)(q().D,{styleName:"UITitle-26px/Bold",customStyles:e.title,children:(0,G.jsx)(u().sA,{defaultMessage:"Experience Notion as a workspace member",id:"GuestUpsellModal.header.title"})})]})}function U(){const e=(0,r().IS)((e=>({icon:{width:20,height:20,fill:e.text.uiBluePrimary,marginRight:16},secondaryText:{color:e.text.secondary}})),[]);return(0,G.jsxs)(M().Y1,{direction:"vertical",gap:20,children:[(0,G.jsxs)(M().Y1,{direction:"horizontal",children:[(0,c().j)(e.icon),(0,G.jsx)(q().D,{styleName:"UIRegular-14px/Medium",customStyles:{marginTop:2},children:(0,G.jsx)(u().sA,{defaultMessage:"Create and organize <secondary>projects, notes, and to-dos</secondary>",id:"GuestUpsellModal.body.point1",values:{secondary:s=>(0,G.jsx)("span",{style:e.secondaryText,children:s})}})})]}),(0,G.jsxs)(M().Y1,{direction:"horizontal",children:[(0,d().n)(e.icon),(0,G.jsx)(q().D,{styleName:"UIRegular-14px/Medium",customStyles:{marginTop:2},children:(0,G.jsx)(u().sA,{defaultMessage:"Stay in the loop <secondary>with access to all pages across this workspace</secondary>",id:"GuestUpsellModal.body.point2",values:{secondary:s=>(0,G.jsx)("span",{style:e.secondaryText,children:s})}})})]}),(0,G.jsxs)(M().Y1,{direction:"horizontal",children:[(0,l().v)(e.icon),(0,G.jsx)(q().D,{styleName:"UIRegular-14px/Medium",customStyles:{marginTop:2},children:(0,G.jsx)(u().sA,{defaultMessage:"Supercharge work <secondary>with the latest Notion features</secondary>",id:"GuestUpsellModal.body.point3",values:{secondary:s=>(0,G.jsx)("span",{style:e.secondaryText,children:s})}})})]})]})}function z(){const e=(0,r().IS)((e=>({footerWrapper:{borderTop:`1px solid ${e.tableLightDividerColor}`,padding:16},continueCopy:{fontSize:14}})),[]);return(0,G.jsxs)(M().Y1,{direction:"horizontal",style:e.footerWrapper,children:[(0,G.jsx)(M().Y1,{align:"center-left",style:e.continueCopy,children:(0,G.jsx)(_().p,{isGray:!0,onClick:()=>{f().A.close()},children:(0,G.jsx)(u().sA,{defaultMessage:"Continue as guest",id:"GuestUpsellModal.footer.continue"})})}),(0,G.jsx)(M().Y1,{align:"center-right",children:(0,G.jsx)(w().A,{color:"black",size:"xl",onClick:()=>f().A.setState({open:!0,stage:"membership_request"}),children:(0,G.jsx)(u().sA,{defaultMessage:"Request access",id:"GuestUpsellModal.footer.requestAccess"})})})]})}function D(){const e=(0,u().tz)(),s=(0,a().v3)(),t=(0,i().O$)(y().AppStoreCurrentSpaceStore),[n,l]=(0,o.useState)(""),d=(0,r().IS)((e=>({footerWrapper:{borderTop:`1px solid ${e.tableLightDividerColor}`,padding:16},continueCopy:{fontSize:14},input:{marginBottom:16},messageInputLabel:{marginBottom:8}})),[]),c=(0,o.useCallback)((()=>{const{currentUser:e}=s;e&&e.id&&t&&(g().RH(s,{invite_flow_id:void 0,user_count:1,new_user_count:1,is_bot:!1,space_role:"read_and_write",invite_message_length:n.length,invite_space_role_selection:b().NJ.request_workspace_member,from:"guest_upsell_modal_v2"}),m().callApi({eventName:"requestAccess",environment:s,data:{type:"actor-to-space",forActorId:e.id,spaceId:t.id,message:n,attributes:{origin_id:t.id,origin_type:"sidebar_guest_request",origin_table:"space",add_permissions_on_approval:!1}}}).then((e=>{"success"===e.type&&h().D6({label:(0,G.jsx)(u().sA,{id:"guestMembershipRequestModal.confirmationToast.successMessage",defaultMessage:"Sent membership request."})})})),l(""),f().A.close())}),[s,t,n]);return(0,G.jsxs)("div",{style:d.footerWrapper,children:[(0,G.jsx)(k().A,{isSecondaryColor:!0,style:d.messageInputLabel,children:(0,G.jsx)(u().sA,{id:"GuestUpsellModal.requestMessage.label",defaultMessage:"Add a message"})}),(0,G.jsx)(v().A,{debugName:"GuestMembershipRequestModal",capture:!0,allowEsc:!0,children:(0,G.jsx)(S().A,{style:d.input,textarea:!0,value:n,placeholder:e.formatMessage({id:"GuestMembershipRequestModal.message.placeholder",defaultMessage:"Reason (optional)"}),onChange:e=>{l(e.target.value)}})}),(0,G.jsxs)(M().Y1,{direction:"horizontal",children:[(0,G.jsx)(M().Y1,{align:"center-left",style:d.continueCopy,children:(0,G.jsx)(_().p,{isGray:!0,onClick:()=>{f().A.close()},children:(0,G.jsx)(u().sA,{defaultMessage:"Continue as guest",id:"GuestUpsellModal.footer.continue"})})}),(0,G.jsx)(M().Y1,{align:"center-right",children:(0,G.jsx)(w().A,{color:"black",size:"xl",onClick:c,children:(0,G.jsx)(u().sA,{defaultMessage:"Request access",id:"GuestUpsellModal.footer.requestAccess"})})})]})]})}},369251:(e,s,t)=>{t.d(s,{A:()=>M,k:()=>f});var o=t(296540),a=()=>t(484714),i=()=>t(56366),r=()=>t(401497),n=()=>t(959013),l=()=>t(284371),d=()=>t(134696),c=()=>t(449506),u=()=>t(436572),p=()=>t(640653),g=()=>t(765957),m=()=>t(159026),h=()=>t(805751),x=()=>t(623580),j=()=>t(864943),y=()=>t(204063),b=t(474848);function f(e){const s=(0,a().v3)(),{onDismiss:t}=e,[f,M]=(0,o.useState)(""),_=(0,n().tz)(),A=(0,r().IS)((()=>({container:{padding:20,width:350,paddingBottom:15},title:{fontWeight:l().Wy.medium,marginBottom:10},input:{width:"100%",padding:"8px 12px",marginTop:10,marginBottom:10},button:{width:"100%",marginTop:10}})),[]),{currentSpaceStore:v}=(0,i().K8)((()=>({currentSpaceStore:g().default.state.currentSpaceStore})),[]),S=(0,i().K8)((()=>v?(0,p().GK)(s,v):"workspace"),[s,v]);return(0,b.jsxs)("div",{style:A.container,children:[(0,b.jsx)("div",{style:A.title,children:(0,b.jsx)(n().sA,{id:"GuestMembershipRequestModal.title",defaultMessage:"Request membership to {workspaceName}",values:{workspaceName:S}})}),(0,b.jsxs)(h().A,{debugName:"GuestMembershipRequestModal",capture:!0,allowEsc:!0,children:[(0,b.jsx)(x().A,{style:A.input,textarea:!0,value:f,placeholder:_.formatMessage({id:"GuestMembershipRequestModal.message.placeholder",defaultMessage:"Reason (optional)"}),onChange:e=>{M(e.target.value)}}),(0,b.jsx)(y().A,{size:"lg",style:A.button,onClick:()=>{const{currentUser:e}=s;e&&e.id&&v&&(d().RH(s,{invite_flow_id:void 0,user_count:1,new_user_count:1,is_bot:!1,space_role:"read_and_write",invite_message_length:f.length,invite_space_role_selection:m().NJ.request_workspace_member,from:"sidebar_guest_request"}),c().callApi({eventName:"requestAccess",environment:s,data:{type:"actor-to-space",forActorId:e.id,spaceId:v.id,message:f,attributes:{origin_id:v.id,origin_type:"sidebar_guest_request",origin_table:"space",add_permissions_on_approval:!1}}}).catch((()=>{u().D6({label:(0,b.jsx)(n().sA,{id:"guestMembershipRequestModal.confirmationToast.errorMessage",defaultMessage:"Failed to send membership request."})})})).finally((()=>{u().D6({label:(0,b.jsx)(n().sA,{id:"guestMembershipRequestModal.confirmationToast.successMessage",defaultMessage:"Sent membership request."})})})),M(""),t())},children:(0,b.jsx)(n().sA,{id:"GuestMembershipRequestModal.sendRequest.button",defaultMessage:"Send request"})}),(0,b.jsx)(j().A,{size:"lg",style:A.button,onClick:()=>{M(""),t()},children:(0,b.jsx)(n().sA,{id:"GuestMembershipRequestModal.cancel.button",defaultMessage:"Cancel"})})]})]})}const M=function(e){const s=(0,a().v3)(),[i,n]=(0,o.useState)(!1),{origin:l}=e,d=(0,r().IS)((()=>({modalStyle:{alignSelf:"center",overflow:"visible",top:0,width:350}})),[]);return(0,b.jsx)(t(433876).A,{modalStyle:d.modalStyle,open:i,origin:(0,b.jsx)("div",{onClick:()=>{t(701763).cK(s),n(!0)},children:l}),onDismiss:()=>n(!1),renderContent:()=>(0,b.jsx)(f,{onDismiss:()=>n(!1)})})}}}]);