"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[61349],{346:(e,t,o)=>{o.d(t,{MG:()=>g,T1:()=>m,a1:()=>y,dt:()=>f,kg:()=>S,lC:()=>x,n_:()=>h});var n=o(296540),i=()=>o(484714),r=()=>o(56366),l=()=>o(187174),a=()=>o(645873),c=()=>o(941463),s=()=>o(441199),d=()=>o(749687),p=()=>o(737230),u=()=>o(756114);const m=new(a().O2)("PerformanceToolbar",(()=>Promise.all([o.e(16471),o.e(92845),o.e(84468),o.e(48632),o.e(75078),o.e(95168),o.e(36908),o.e(21194),o.e(23930),o.e(61347),o.e(45624)]).then(o.bind(o,462407)))),g=(0,a()._h)(m,(e=>e.PerformanceToolbar)),f=(0,a()._h)(m,(e=>e.PerformanceToolbarSettings));function S(){const e=(0,i().v3)();return(0,r().K8)((()=>(0,u().D)(e,e.RouterStore.state)),[e])}function h(){const e=(0,i().v3)(),t=b("PerformanceToolbarStore"),o=b("isPerformanceToolbarVisible");return(0,r().K8)((()=>!(!t||!o)&&o(e,e.RouterStore.state,t.state)),[o,e,t])}function x(){const e=b("PerformanceToolbarStore");return(0,r().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function y(){const e=(0,i().v3)(),t=b("createPerformanceToolbarMouseListeners"),o=b("PerformanceToolbarStore"),{sidebarExpanded:l,sidebarWidth:a,secondarySidebarExpanded:u,secondarySidebarWidth:m,updateSidebarExpanded:g,updateSidebarWidth:f}=(0,r().K8)((()=>({sidebarExpanded:d().sidebarExpandedStore.state,sidebarWidth:d().sidebarWidthStore.state,secondarySidebarExpanded:s().default.isOpen(),secondarySidebarWidth:c().Ay.getWidth(),updateSidebarExpanded:p().Ay.state.expanded,updateSidebarWidth:p().Ay.state.width})),[]);return(0,n.useEffect)((()=>{if(o&&t)return t(e,(e=>o.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),l,a,u,m,g,f)}),[t,e,o,l,a,u,m,g,f])}function b(e){const t=S(),[{value:o}]=(0,l().Yb)((()=>t?m.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return o}},29037:(e,t,o)=>{o.r(t),o.d(t,{checkmarkIcon:()=>i,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.92 3.91 12.17 12.18",svg:(0,o(474848).jsx)("path",{d:"M15.784 4.002a.625.625 0 0 1 .214.857L9.445 15.784a.625.625 0 0 1-1.01.085l-4.37-5.098a.625.625 0 0 1 .948-.814l3.806 4.44 6.109-10.181a.625.625 0 0 1 .857-.214"})},i=(0,o(340498).wt)("checkmark",n)},35091:(e,t,o)=>{o.d(t,{A:()=>i});o(296540);var n=o(474848);const i=function(e){let{switcherProps:t,...i}=e;return(0,n.jsx)(o(497222).A,{right:(0,n.jsx)(o(946548).A,{onClick:i.onClick,disabled:i.disabled,...t}),...i})}},44750:(e,t,o)=>{o.d(t,{Z:()=>C,p:()=>A});o(16280),o(581454),o(296540);var n=()=>o(484714),i=()=>o(56366),r=()=>o(401497),l=()=>o(663077),a=()=>o(970013),c=()=>o(534177),s=()=>o(686526),d=()=>o(751156),p=()=>o(2220),u=()=>o(736982),m=()=>o(403905),g=()=>o(972435),f=()=>o(317053),S=()=>o(101926),h=()=>o(513349),x=()=>o(922952),y=()=>o(913454),b=()=>o(204067),v=()=>o(272752),w=()=>o(362941),k=()=>o(960127),I=()=>o(342288),T=()=>o(621767),j=o(474848);function C(e){let{environment:t,template:o,isInSuggestedSection:n,collectionContextStore:i}=e;return{key:o.templateId,action:()=>{if(n)A({environment:t,template:o,collectionContextStore:i,suggestedFeatureAnalytics:void 0});else{const{collectionStore:e,collectionViewStore:n,collectionSettingsStore:r}=(0,v().i)(i);(0,h().UD)({template:o,environment:t,collectionStore:e,collectionViewStore:n,collectionSettingsStore:r,collectionContextStore:i})}},render:e=>(0,j.jsx)(W,{buttonMenuItemProps:e,template:o,isInSuggestedSection:n})}}function A(e){let{environment:t,collectionContextStore:o,template:n,suggestedFeatureAnalytics:i}=e;const r=o.collectionStore();if(!r)throw new Error("collectionStore not found");const a=r.getWorkflowTemplateId();i&&(0,p().u)({environment:t,event:{eventName:"suggested_feature_template_clicked",eventProperties:{origin:i.origin,selected_index:i.selectedIndex,template_ids_shown:i.shownTemplateIds,template_id_clicked:n.templateId,collection_template_id:a}}});const c=o.settingsStore;if((0,k().isWorkflowTemplateWithConfirmStep)(n))s().a2({collectionSettingsStore:c,item:{type:"confirmAddTemplate",template:n}});else if((0,l().Sz)(n)){const{relatedCollectionTemplateId:e}=n;!function(e){var t;let{environment:o,template:n,collectionStore:i,relatedCollectionTemplateId:r}=e;const l=null===(t=i.getParentBlockStore())||void 0===t?void 0:t.getParentStore();if(!l)throw new Error(`parentStore not found for ${i.id}`);if(!(0,x().u)(l))throw new Error(`Incorrect parent store: ${l.table} ${l.id}`);const a=y().globalWorkflowTemplates.fromIdOfType({templateId:r,type:"collection"});(0,f().openSelectedTemplateOnboardingModalForInAppFlows)({environment:o,template:a,origin:"suggested_feature_template",parentStore:l,navigateToOnFinish:"skip",relationInfos:[{type:"source",collectionStore:i,relationPropertyTemplate:n}],aiPrompt:void 0})}({environment:t,template:n,collectionStore:r,relatedCollectionTemplateId:e})}else d().createAndCommit({userAction:"FeatureTemplateMenuItem.addFeatureTemplateToTarget",environment:t,canUndo:!0,perform:e=>{S().ai({environment:t,transaction:e,collectionStore:r,template:n,logger:new(y().WorkflowTemplateLogger),origin:"suggested_feature"}),i&&(0,p().u)({environment:t,event:{eventName:"suggested_feature_template_added",eventProperties:{origin:i.origin,template_id_added:n.templateId,collection_template_id:a}}});const l=o.collectionViewStore();l&&h().UD({template:n,environment:t,collectionStore:r,collectionViewStore:l,collectionSettingsStore:c,collectionContextStore:o})}})}function W(e){let{buttonMenuItemProps:t,template:o,isInSuggestedSection:l}=e;const s=(0,r().IS)((e=>({iconContainer:{height:28,width:28,display:"flex",alignItems:"center",justifyContent:"center"},icon:{fill:e.icon.primary}})),[]),{collectionStore:d}=(0,v().V)(),p=(0,n().v3)(),f=(0,i().K8)((()=>(0,b().NU)({environment:p,collectionStore:d,templateId:o.templateId})),[p,d,o.templateId]),S=(0,i().K8)((()=>function(e){let{template:t,collectionStore:o}=e;const{type:n}=t;switch(n){case"property":const{value:e}=t;if((0,a().DQ)(e)){const n=function(e){let{templateId:t,propertyTemplateSchema:o,collectionStore:n}=e;const i=(0,b().S1)({collectionStore:n,templateId:t,instancePointerType:"property"});if(!i)return o.options??[];const r=n.getSchema()[i.id];if(!r||!(0,a().DQ)(r))return[];return r.options??[]}({templateId:t.templateId,propertyTemplateSchema:e,collectionStore:o}).map((e=>e.value));return(0,y().getWorkflowTemplateItemsCaption)(n)}return;case"collection_view":return`${g().A.formatMessage(m().X[t.value.type])} view`;case"compound":return;default:(0,c().HB)(n)}}({template:o,collectionStore:d})),[o,d]),h=(0,y().getWorkflowTemplateName)(o);return l?(0,j.jsx)(u().I,{buttonMenuItemProps:t,title:h,icon:(0,j.jsx)(T().n,{template:o}),right:(0,j.jsx)(I().z,{isAdded:f})}):(0,j.jsx)(u().I,{buttonMenuItemProps:t,title:h,caption:S,icon:(0,j.jsx)("div",{style:s.iconContainer,children:(0,j.jsx)(T().z,{template:o,iconStyle:s.icon})}),right:(0,j.jsx)(w()._,{})})}},77279:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});class n extends(()=>o(757695))().Store{getInitialState(){return{discussionIdToExpansionStartPointMap:{}}}}const i=new n},115562:(e,t,o)=>{o.d(t,{W:()=>c});o(296540);var n=()=>o(819121),i=()=>o(401497),r=()=>o(955825),l=()=>o(677195),a=o(474848);function c(e){const{selectorSize:t="normal",...o}=e,{disabled:c,checked:s}=o,[d,p]=(0,n().A)(),u=function(e){const{checked:t,disabled:o,isFocusVisible:n,selectorSize:r}=e;return(0,i().IS)((e=>({root:{position:"absolute",display:"flex",width:"large"===r?15:11,height:"large"===r?15:11,margin:1.5,justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"large"===r?2:1,transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${o?e.tint.regular:e.blueColor}`,background:o?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${o?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...n&&{boxShadow:e.buttonBlueFocusRing}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"large"===r?18:void 0,height:"large"===r?18:void 0,...o?{pointerEvents:"none"}:{cursor:"pointer"}},icon:{color:e.text.contrastPrimary,width:"large"===r?12:10,height:"large"===r?12:10,ariaHidden:!0}})),[r,t,o,n])}({checked:s,disabled:c,selectorSize:t,isFocusVisible:p});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("input",{ref:d,type:"checkbox",style:u.input,...o}),(0,a.jsx)("span",{...(0,r().AH)(u.root,c?{}:{pseudoActive:u.active}),children:s&&(0,l().R)(u.icon)})]})}},200277:(e,t,o)=>{o.d(t,{$:()=>u,N:()=>d});o(944114),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(354520),o(430670),o(581454);var n=()=>o(536095),i=()=>o(663077),r=()=>o(496603),l=()=>o(534177),a=()=>o(299545),c=()=>o(913454),s=()=>o(204067);function d(e,t){const o=(0,s().Xg)(e,t),n=new Set(function(e){const t=e.getParentBlockStore();if(null==t||!t.isDefined())return[];return(null==t?void 0:t.getCollectionViewStores().map((e=>e.getName())).filter(l().O9))??[]}(t));return function(e){const t=new Set(e.map((e=>e.templateId))),o=[];for(const n of e)o.push(...p(n).filter((e=>!t.has(e))).map((e=>c().globalWorkflowTemplates.fromId(e))).filter(i().bz).filter((e=>!(0,i().Sz)(e))));return o}(o).filter((e=>"collection_view"!==e.type||!n.has(e.value.name??"")))}function p(e){return"compound"===e.type||"collection"===e.type?e.value.templateItems.filter((e=>"optionalDefaultOn"===e.optionality||"optionalDefaultOff"===e.optionality)).map((e=>e.pointer)):[]}function u(e){let{persona:t,parentStore:o}=e;const i=t?(0,n().Qf)({persona:t}):[],l=c().globalWorkflowTemplates.allOfType({templateIds:i??[],type:"collection"}),s=r().hS(function(e){let{collectionTemplates:t,parentStore:o}=e;if(!o)return t;if((0,a().Yu)(o))return t;const n=(0,a().$R)(o)?o.getTeamPageStores():o.getContentStores(),i=new Set((0,r().oE)(n.flatMap((e=>e.getOwnedAndLinkedCollectionStores().map((e=>e.getWorkflowTemplateId()))??[])))),l=[],c=[];for(const r of t)i.has(r.templateId)?l.push(r):c.push(r);return[...c,...l]}({collectionTemplates:[...l,...c().globalWorkflowTemplates.allOfType({templateIds:(0,n().dj)(),type:"collection"})],parentStore:o}),(e=>e.templateId));return s}},272752:(e,t,o)=>{o.d(t,{V:()=>l,i:()=>a});var n=()=>o(56366),i=()=>o(220719),r=()=>o(175116);function l(){const e=(0,r().ET)(),{collectionStore:t,collectionViewStore:o,collectionSettingsStore:i}=(0,n().K8)((()=>a(e)),[e]);return{collectionStore:t,collectionViewStore:o,collectionSettingsStore:i,collectionContextStore:e}}function a(e){return{collectionStore:(0,i().o9)(e.collectionStore(),"collectionStore not found"),collectionViewStore:(0,i().o9)(e.collectionViewStore(),"collectionViewStore not found"),collectionSettingsStore:e.settingsStore}}},342288:(e,t,o)=>{o.d(t,{z:()=>a});o(296540);var n=()=>o(401497),i=()=>o(831310),r=()=>o(464699),l=o(474848);function a(e){let{isAdded:t}=e;const o=(0,n().IS)((e=>({circle:{height:24,width:24,borderRadius:50,display:"flex",alignItems:"center",justifyContent:"center",background:t?"dark"===e.mode?e.palette.blue[100]:e.palette.blue[50]:e.lightGrayButtonBackground},plusIcon:{height:15,width:15,fill:e.icon.secondary},checkIcon:{height:12,width:12,fill:e.blueColor}})),[t]);return(0,l.jsx)("div",{style:o.circle,children:t?(0,i().o)(o.checkIcon):(0,r().b)(o.plusIcon)})}},362941:(e,t,o)=>{o.d(t,{_:()=>l});o(296540);var n=()=>o(401497),i=()=>o(742117),r=o(474848);function l(){const e=(0,n().IS)((e=>({icon:{width:12,fill:e.icon.tertiary,marginLeft:6,transition:"transform 200ms ease-in-out"}})),[]);return(0,r.jsx)(r.Fragment,{children:(0,i().V)(e.icon)})}},505108:(e,t,o)=>{o.d(t,{a:()=>m});var n=o(296540),i=()=>o(401497),r=()=>o(534177),l=()=>o(284371),a=()=>o(84817),c=()=>o(819121),s=()=>o(955825),d=o(474848);function p(e){const{disabled:t,checked:o,selectorSize:n}=e,[r,l]=(0,c().A)(),a=function(e){const{checked:t,disabled:o,isFocusVisible:n,selectorSize:r}=e;return(0,i().IS)((e=>({root:{position:"absolute",display:"flex",width:15,height:15,padding:5,margin:1.5,justifyContent:"center",alignItems:"center",gap:8,flexShrink:0,borderRadius:"50%",transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${o?e.tint.regular:e.blueColor}`,background:o?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${o?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...n&&{boxShadow:e.buttonBlueFocusRing}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"small"===r?14:18,height:"small"===r?14:18,...o?{pointerEvents:"none"}:{cursor:"pointer"}}})),[t,o,n,r])}({checked:o,disabled:t,isFocusVisible:l,selectorSize:n});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("input",{ref:r,type:"radio",style:a.input,className:"radio-button",...e}),(0,d.jsx)("span",{...(0,s().AH)("custom-radio-button",a.root,t?{}:{pseudoActive:a.active})})]})}var u=()=>o(554509);const m=n.forwardRef((function(e,t){let{additionalContent:o,description:r,isDisabled:c,isSelected:s,label:p,name:u,onChange:m,width:S="fill",selectorSize:h="normal",selectAlignXAxis:x="left",selectAlignYAxis:y="center",selectType:b="checkbox",style:v,supportText:w,value:k,colorName:I,alignAdditionalContent:T,...j}=e;const C=(0,n.useId)(),A=function(e){const{isSelected:t,isDisabled:o,selectAlignYAxis:n,alignAdditionalContent:r}=e;return(0,i().IS)((e=>{const i=t&&!o?e.blueColor:e.selectorBorderUnselected;return{container:{display:"flex",alignItems:r??"center",gap:12,userSelect:"none",padding:"9px 16px 10px 10px",borderRadius:6,border:`1px solid ${i}`,...!o&&{cursor:"pointer"}},title:{fontWeight:l().Wy.medium,fontSize:14,userSelect:"none",lineHeight:18},additionalContentWrapper:{flexShrink:0},selectorWrapper:{display:"flex",..."top"===n?{marginTop:2}:{}},rightAlignSelectorWrapper:{display:"flex"}}}),[t,o,n,r])}({isSelected:s,isDisabled:c,selectAlignYAxis:y,alignAdditionalContent:T}),W=(0,d.jsxs)(a().Y1,{direction:"horizontal",align:"top"===y?"top-left":"center-left",gap:12,width:S,children:[(0,d.jsx)("div",{style:A.selectorWrapper,children:(0,d.jsx)(f,{id:C,selectType:b,name:u,value:k,onChange:m,isSelected:s,selectorSize:h,isDisabled:c,...j})}),(0,d.jsx)(g,{colorName:I,description:r,label:p,selectorSize:h,supportText:w,isDisabled:c})]}),P=(0,d.jsxs)(a().Y1,{direction:"horizontal",align:"top"===y?"top-center":"center",gap:12,children:[(0,d.jsx)(g,{colorName:I,description:r,label:p,selectorSize:h,supportText:w,isDisabled:c}),(0,d.jsx)("div",{style:{...A.selectorWrapper,...A.rightAlignSelectorWrapper},children:(0,d.jsx)(f,{id:C,selectType:b,name:u,value:k,onChange:m,selectorSize:h,isSelected:s,isDisabled:c,...j})})]}),_=o?(0,d.jsx)("div",{style:A.additionalContentWrapper,children:o}):null;return(0,d.jsx)("label",{ref:t,style:{...A.container,...v},htmlFor:C,children:"left"===x?(0,d.jsxs)(d.Fragment,{children:[W,_]}):(0,d.jsxs)(d.Fragment,{children:[_,P]})})}));function g(e){const{description:t,label:o,supportText:n,selectorSize:i,isDisabled:l,colorName:c}=e;let s;return"large"===i?s="Page-Content/Text-Block":"normal"===i||void 0===i?s="Body-13px/Medium":"small"===i?s="Body-12px/Regular":(0,r().HB)(i),(0,d.jsxs)(a().Y1,{gap:4,children:[(0,d.jsxs)(a().Y1,{gap:2,children:[(0,d.jsx)(u().D,{styleName:s,colorName:c||(l?"quaternary":"primary"),children:o}),t?(0,d.jsx)(u().D,{styleName:"Caption-12px/Regular",colorName:l?"quaternary":"secondary",children:t}):null]}),n?(0,d.jsx)(u().D,{styleName:"Caption-12px/Medium",colorName:"tertiary",children:n}):null]})}function f(e){const{selectType:t,selectorSize:n="normal",id:l,name:a,value:c,onChange:s,isSelected:u,isDisabled:m,...g}=e,f=(0,i().IS)((()=>({checkboxWrapper:{minWidth:18,display:"flex",justifyContent:"center"}})),[]);switch(t){case"radio":return(0,d.jsx)(p,{id:l,name:a,value:c,onChange:s,checked:u,disabled:m,selectorSize:n,...g});case"checkbox":return(0,d.jsx)("div",{style:f.checkboxWrapper,children:(0,d.jsx)(o(115562).W,{id:l,name:a,value:c,onChange:s,checked:u,disabled:m,selectorSize:n,...g})});case"none":return null;default:(0,r().HB)(t)}}},513349:(e,t,o)=>{o.d(t,{Sj:()=>c,UD:()=>a});o(16280);var n=()=>o(686526),i=()=>o(180762),r=()=>o(204067);const l={property:function(e){let{template:t,collectionStore:i,collectionViewStore:l,collectionSettingsStore:a}=e;const c=(0,r().S1)({collectionStore:i,templateId:t.templateId,instancePointerType:"property"});if(!c)throw new Error(`No property instance found for property template ${t.templateId}`);const s=l.getType();n().a2({collectionSettingsStore:a,item:{type:"property",property:c.id,formatKey:s?o(651124).u9(s):void 0}})},collection_view:function(e){let{template:t,environment:o,collectionStore:n,collectionContextStore:i}=e;const l=(0,r().S1)({collectionStore:n,templateId:t.templateId,instancePointerType:"collection_view"});if(!l)throw new Error(`No collection view instance found for property template ${t.templateId}`);c({environment:o,collectionContextStore:i,collectionViewId:l.id})},compound:function(e){}};function a(e){l[e.template.type](e)}function c(e){var t;let{environment:o,collectionContextStore:r,collectionViewId:l}=e;(null===(t=r.collectionViewStore())||void 0===t?void 0:t.id)!==l&&(0,i().t)({environment:o,collectionContextStore:r,collectionViewId:l,isFullScreen:r.isFullScreenStore.state,isRootChild:r.isRootChildStore.state,isInPeekRenderer:r.isInPeekRendererStore.state}),n().a2({collectionSettingsStore:r.settingsStore,item:{type:"main"}})}},555267:(e,t,o)=>{o.d(t,{A:()=>c});var n=o(296540),i=()=>o(401497),r=()=>o(62856),l=()=>o(331542),a=o(474848);function c(e){let{loadingMessage:t}=e;const o=(0,i().DP)(),c=(0,r().A)(!0,400);return(0,a.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:c?(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(l().A,{}),t?(0,a.jsx)("div",{style:{marginLeft:8,color:o.text.secondary},children:t}):void 0]}):void 0})}},567121:(e,t,o)=>{o.d(t,{EG:()=>l,K5:()=>r,RH:()=>i,Yi:()=>a,ls:()=>n});const n=32,i=202,r=1e3,l="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",a="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},578194:(e,t,o)=>{o.d(t,{r:()=>n});const n=(0,o(583835).Dv)("importEvernote")},736982:(e,t,o)=>{o.d(t,{I:()=>d,h:()=>s});o(296540);var n=()=>o(484714),i=()=>o(401497),r=()=>o(284371),l=()=>o(760217),a=()=>o(115512),c=o(474848);function s(e){let{environment:t}=e;return{padding:t.device.isMobile?"12px 2px":"6px",alignItems:"center"}}function d(e){let{buttonMenuItemProps:t,title:o,caption:d,icon:p,onClick:u,right:m,isDisabled:g}=e;const f=(0,n().v3)(),S=(0,i().IS)((e=>({menuItem:{display:"flex",...s({environment:f}),opacity:g?.4:void 0},title:{fontSize:(0,a().ny)(f,"UIRegular"),...r().RC},caption:{fontSize:(0,a().ny)(f,"UISmall"),overflow:"hidden",color:e.text.secondary,whiteSpace:"nowrap",textOverflow:"ellipsis"}})),[f,g]),h={};return u&&(h.onClick=u),(0,c.jsx)(l().A,{...t,style:S.menuItem,disabled:g,title:(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{style:S.title,children:o}),d&&(0,c.jsx)("div",{style:S.caption,children:d})]}),icon:p,right:m,...h})}},756114:(e,t,o)=>{o.d(t,{D:()=>n});function n(e,t){t.route.name;return!1}},843189:(e,t,o)=>{o.d(t,{E:()=>l});var n=o(296540),i=()=>o(960715),r=o(474848);const l=n.forwardRef(((e,t)=>{let{children:n,color:l,disabled:a,iconLeading:c,iconStyle:s,iconTrailing:d,isLoading:p,shape:u="default",size:m="md",style:g,...f}=e;const S=(0,o(963589).X)("nds_button_gap")||Boolean(d),h=(0,o(401497).IS)((e=>{const t=l?`${l}Primary`:"primary",r=l||"regular",d=l?`${l}Hover`:"primaryHover",f=l?`${l}Pressed`:"primaryPressed";return{button:{...(0,i().qq)({shape:u,size:m,hasIconOnly:Boolean(c)&&!n,isButtonGapEnabled:S}),justifyContent:"center",color:e.text[t],background:e.tint[r],opacity:a||p?.3:1,fontWeight:o(284371).Wy.medium,...g},hovered:{background:a?e.tint[r]:e.tint[d]},pressed:{background:a?e.tint[r]:e.tint[f]},icon:{...(0,i().D3)({size:m,hasIconOnly:!n,isButtonGapEnabled:S}),...s}}}),[n,l,a,c,s,S,p,u,m,g]);return(0,r.jsxs)(o(197190).A,{ref:t,style:h.button,hoveredStyle:h.hovered,pressedStyle:h.pressed,disabled:a||p,...f,children:[p?(0,r.jsx)(o(331542).A,{style:{marginRight:4}}):null,c?c(h.icon):null,n,d?d(h.icon):null]})}));l.displayName="TintButton"},960127:(e,t,o)=>{o.r(t),o.d(t,{WorkflowSettingsConfirmAddTemplate:()=>C,isWorkflowTemplateWithConfirmStep:()=>P});o(16280);var n=o(296540),i=()=>o(484714),r=()=>o(401497),l=()=>o(663077),a=()=>o(959013),c=()=>o(496603),s=()=>o(686526),d=()=>o(751156),p=()=>o(2220),u=()=>o(735695),m=()=>o(35091),g=()=>o(678553),f=()=>o(204063),S=()=>o(89924),h=()=>o(175116),x=()=>o(101926),y=()=>o(513349),b=()=>o(913454),v=(o(581454),()=>o(784892)),w=()=>o(399762),k=o(474848);function I(e){let{template:t,style:o}=e;const n=(0,r().IS)((e=>({container:{...o,padding:12,border:`1px solid ${e.regularDividerColor}`,borderRadius:6}})),[o]),i=function(e){if((0,l().Xq)(e,"property")&&(0,l().Io)(e)){const{options:t=[]}=e.value;if(0===t.length)return;return(0,k.jsx)(T,{options:t})}}(t);return i?(0,k.jsx)("div",{style:n.container,children:i}):null}function T(e){let{options:t}=e;const o=(0,r().IS)((()=>({container:{display:"flex",flexDirection:"column",gap:8}})),[]);return(0,k.jsx)("div",{style:o.container,children:t.map((e=>(0,k.jsx)("div",{children:(0,k.jsx)(w().O,{format:v().NY.Medium,isSingle:!0,value:e.value,color:e.color,showRemoveButton:!1})},e.id)))})}var j=()=>o(621767);function C(e){let{template:t,collectionSettingsStore:o}=e;const[l,c]=(0,n.useState)("sample"===t.propertyOptionsType),{device:{isMobile:s}}=(0,i().v3)(),d=(0,r().IS)((e=>{const t={display:"flex",flexDirection:"column",minHeight:0};return{shrinkableHeight:t,noShrink:{flexShrink:0},featurePreviewWrapper:{...t,width:"-webkit-fill-available"},featurePreviewBody:{...t,gap:16,...s?{margin:"16px 0"}:{margin:0}},featurePreview:{...t,overflow:"auto"},addButtonContainer:{...s?{margin:"12px 0"}:{marginBottom:6}}}}),[s]),p=(0,b().getWorkflowTemplateName)(t);return(0,k.jsxs)(u().Ay,{collectionSettingsStore:o,title:(0,k.jsx)(a().sA,{id:"workflowTemplateSettings.confirmAddTemplate.title",defaultMessage:"Turn on {templateName}",values:{templateName:p}}),disableScroller:!0,menuScrollerStyle:d.shrinkableHeight,innerContentWrapperStyle:d.shrinkableHeight,children:[(0,k.jsx)(S().A,{style:d.shrinkableHeight,children:(0,k.jsx)(g().Ay,{style:d.shrinkableHeight,textWrapperStyle:d.featurePreviewWrapper,bodyStyle:d.featurePreviewBody,body:(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(A,{template:t,style:d.noShrink}),(0,k.jsx)(I,{template:t,style:d.featurePreview})]})})}),(0,k.jsx)(S().A,{style:d.noShrink,children:t.value.options&&t.value.options.length>0&&(0,k.jsx)(m().A,{title:(0,k.jsx)(a().sA,{id:"workflowTemplateSettings.confirmAddTemplate.propertyOptionsToggle",defaultMessage:"Set my own options"}),switcherProps:{on:l,disallowTabbing:!0},onClick:()=>{c(!l)}})}),(0,k.jsx)(S().A,{style:d.noShrink,children:(0,k.jsx)(g().Ay,{body:(0,k.jsx)(W,{template:t,startEmpty:l}),bodyStyle:d.addButtonContainer})})]})}function A(e){let{template:t,style:o}=e;const n=(0,i().Y0)(),a=(0,r().IS)((()=>({container:{...o,display:"flex",alignItems:"center",gap:12},textWrapper:{lineHeight:n.isMobile?"20px":"18px"},title:{fontSize:n.isMobile?16:13},caption:{fontSize:n.isMobile?14:12,overflow:"hidden",color:"gray",whiteSpace:"nowrap",textOverflow:"ellipsis"}})),[n,o]),c=(0,b().getWorkflowTemplateName)(t),s=(0,l().Uy)(t);return(0,k.jsxs)("div",{style:a.container,children:[(0,k.jsx)(j().n,{template:t,backgroundSize:32}),(0,k.jsxs)("div",{style:a.textWrapper,children:[(0,k.jsx)("div",{style:a.title,children:c}),s&&(0,k.jsx)("div",{style:a.caption,children:s})]})]})}function W(e){let{template:t,startEmpty:o}=e;const n=(0,r().IS)((()=>({button:{width:"100%"}})),[]),l=(0,i().v3)(),u=(0,h().ET)(),m=(0,b().getWorkflowTemplateName)(t),g=c().mg(t);return o&&delete g.value.options,(0,k.jsx)(f().A,{style:n.button,size:"lg",onClick:()=>{d().createAndCommit({userAction:"WorkflowSettingsConfirmAddTemplate.addFeatureTemplateToTarget",environment:l,canUndo:!0,perform:e=>{const o=u.collectionStore();if(!o)throw new Error("collectionStore not found");x().ai({environment:l,transaction:e,collectionStore:o,template:g,logger:new(b().WorkflowTemplateLogger),origin:"suggested_feature"});const n=u.settingsStore;s().yl({collectionSettingsStore:n});const i=o.getWorkflowTemplateId();(0,p().u)({environment:l,event:{eventName:"suggested_feature_template_added",eventProperties:{origin:"suggested_properties",template_id_added:t.templateId,collection_template_id:i}}});const r=u.collectionViewStore();r&&(0,y().UD)({template:t,environment:l,collectionStore:o,collectionViewStore:r,collectionSettingsStore:n,collectionContextStore:u})}})},children:(0,k.jsx)(a().sA,{id:"workflowTemplateSettings.confirmAddTemplate.button",defaultMessage:"Add {templateName}",values:{templateName:m}})})}function P(e){return"property"===e.type&&("select"===e.value.type||"multi_select"===e.value.type)}}}]);