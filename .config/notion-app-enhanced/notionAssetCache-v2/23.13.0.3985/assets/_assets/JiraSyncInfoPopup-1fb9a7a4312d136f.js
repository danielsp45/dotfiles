"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[68744],{408453:(e,t,o)=>{o.r(t),o.d(t,{JiraSyncInfoPopup:()=>j});var i=o(296540),n=()=>o(484714),s=()=>o(56366),r=()=>o(543906),a=()=>o(651124),l=()=>o(831098),c=()=>o(959013),u=()=>o(812182),p=()=>o(751156),d=()=>o(755199),C=()=>o(504836),S=()=>o(765957),y=()=>o(666803);const f="jira_sync_info_toast",_=(0,c().YK)({titleWhenProject:{id:"jiraSyncInfoPopup.titleForProjectsCollectionView",defaultMessage:"Keep track of projects in Jira"},titleWhenIssues:{id:"jiraSyncInfoPopup.titleForTasksCollectionView",defaultMessage:"Keep track of issues in Jira"},descriptionWhenProject:{id:"jiraSyncInfoPopup.descriptionForProjectsCollectionView",defaultMessage:"Notion makes it easy to preview Jira content, so you can keep track of projects and collaborate more easily"},descriptionWhenIssues:{id:"jiraSyncInfoPopup.descriptionForIssuesCollectionsView",defaultMessage:"Notion makes it easy to preview Jira content, so you can keep track of issues and collaborate more easily"}});function j(e){const t=(0,n().v3)(),o=(0,c().tz)(),{isMobile:j}=(0,n().Y0)(),{blockStore:g}=e,{inAppCalloutStore:m,currentUserSettingsStore:v}=(0,s().K8)((()=>({inAppCalloutStore:S().default.state.inAppCalloutStore,currentUserSettingsStore:S().default.state.currentUserSettingsStore})),[]),h=(0,s().K8)((()=>m.getCalloutVisibility("jira_sync_info_popup").canShow),[m]),{isProjectCollectionView:w,isSetupComplete:P,isJiraSyncedCollection:V}=(0,s().K8)((()=>{if(g.isCollectionView()){var e,t;const o=null===(e=g.getCollectionStore())||void 0===e?void 0:e.getFormat(),i=(null==o?void 0:o.external_collection_type)===a().uO.Jira,n=Boolean(null==o||null===(t=o.sync_state)||void 0===t?void 0:t.last_synced_at);return{isProjectCollectionView:"notion://projects_collection"===(null==o?void 0:o.app_config_uri),isSetupComplete:n,isJiraSyncedCollection:i}}return{isProjectCollectionView:!1,isSetupComplete:!1,isJiraSyncedCollection:!1}}),[g]),k=(0,s().K8)((()=>{var e;const t=null==v||null===(e=v.getSettingsStore())||void 0===e?void 0:e.getValue();if(!t)return!0;const o=t.jira_sync_onboarding_tour_state;return Boolean(o&&"notSeen"!==o)}),[v]),b=(0,s().K8)((()=>(0,C().Sd)()),[])&&V&&P&&!k&&h&&!j,I=(0,i.useMemo)((()=>function(e){const{isProjectCollectionView:t,intl:o,onDismiss:i}=e,n=t?_.titleWhenProject:_.titleWhenIssues,s=t?_.descriptionWhenProject:_.descriptionWhenIssues;return{presentationType:"persistent",id:f,title:o.formatMessage(n),icon:l().y,message:o.formatMessage(s),actions:{primary:{title:o.formatMessage({id:"jiraSyncInfoPopup.primaryButton",defaultMessage:"Take the tour"}),onAction:()=>{y().Ay.setState({...y().Ay.state,showOnboardingTour:!0}),i(),u().UW(f)}}},onDismiss:i}}({isProjectCollectionView:w,intl:o,onDismiss:()=>{m.updateCalloutStatus({calloutId:"jira_sync_info_popup",visible:!1}),v&&p().createAndCommit({userAction:"JiraSyncInfoPopup.handleDismiss",environment:t,canUndo:!0,perform:e=>{d().mJ({transaction:e,userSettingsStore:v,data:{jira_sync_onboarding_tour_state:"completed"}})}})}})),[v,t,m,o,w]);return(0,r().A)((()=>{m.updateCalloutStatus({calloutId:"jira_sync_info_popup",visible:!0}),u().HK(I)}),b),null}},831098:(e,t,o)=>{o.d(t,{y:()=>n});o(296540);var i=o(474848);const n=(0,o(340498).wt)("jira",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M16.8784 2.5H9.65698C9.65698 4.3 11.1141 5.75714 12.9141 5.75714H14.2427V7.04288C14.2427 8.84288 15.6998 10.3 17.4998 10.3V3.12143C17.4998 2.77857 17.2212 2.5 16.8784 2.5Z M13.3001 6.10001H6.07861C6.07861 7.9 7.53574 9.35713 9.33574 9.35713H10.6643V10.6429C10.6643 12.4429 12.1215 13.9 13.9215 13.9V6.72144C13.9215 6.37856 13.6429 6.10001 13.3001 6.10001Z M9.72144 9.70001H2.5C2.5 11.5 3.95714 12.9571 5.75714 12.9571H7.08569V14.2429C7.08569 16.0429 8.54287 17.5 10.3429 17.5V10.3214C10.3429 9.97857 10.0643 9.70001 9.72144 9.70001Z"})})}}]);