"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[56892],{51367:(e,t,n)=>{n.d(t,{DL:()=>a,Jb:()=>c,Sq:()=>l,Y5:()=>s,gc:()=>d,wo:()=>u});var o=()=>n(917629),i=()=>n(2220),r=()=>n(217429);function a(e,t){const n=(0,o().h2)(t.callout_key);n&&(t.placement_key=(0,o().t9)(n)),(0,i().u)({environment:e,event:{eventName:"callout_show",eventProperties:t}}),r().default.logEvent("callout_show",t.callout_key)}function s(e,t){const n=(0,o().h2)(t.callout_key);n&&(t.placement_key=(0,o().t9)(n)),(0,i().u)({environment:e,event:{eventName:"callout_click",eventProperties:t}}),r().default.logEvent("callout_click",t.callout_key)}function l(e,t){const n=(0,o().h2)(t.callout_key);n&&(t.placement_key=(0,o().t9)(n)),(0,i().u)({environment:e,event:{eventName:"callout_dismiss",eventProperties:t}}),r().default.logEvent("callout_dismiss",t.callout_key)}function c(e,t){const n=(0,o().h2)(t.callout_key);n&&(t.placement_key=(0,o().t9)(n)),(0,i().u)({environment:e,event:{eventName:"callout_engagement",eventProperties:t}})}function u(e,t){const{eligible_callouts:n,required_arg_timeout:o,required_args_run_duration:r,eligibility_timeouts:a,blocklist:s}=t;(0,i().u)({environment:e,event:{eventName:"callout_coordinator_resolved",eventProperties:{eligible_callouts:n,required_arg_timeout:o,required_args_run_duration:r,eligibility_timeouts:a,blocklist:s}}})}function d(e,t){(0,i().u)({environment:e,event:{eventName:"callout_feature_interaction",eventProperties:t}})}},147294:(e,t,n)=>{n.d(t,{Ee:()=>y,oG:()=>p});n(296540);var o=()=>n(56366),i=()=>n(401497),r=()=>n(959013),a=()=>n(963589),s=()=>n(765957),l=()=>n(464708),c=n(474848);const u={define_variables_automation_action:{launchDateMs:17277408e5,expiryDateMs:1738368e6},passkey_setting:{launchDateMs:1729101727e3,expiryDateMs:1738432882e3},http_request_automation_action:{launchDateMs:173324302e4,expiryDateMs:1738368e6},publish_site_settings_embed_page:{launchDateMs:1736208e6,expiryDateMs:1743984e6},generalized_recurrence_automations:{launchDateMs:17365536e5,expiryDateMs:17460576e5},ai_page_translation_topbar_more_action:{launchDateMs:1740451280830,expiryDateMs:17434656e5},verification:{launchDateMs:1740096e6,expiryDateMs:174375e7},notion_ai_workspace_settings:{launchDateMs:17424288e5,expiryDateMs:17550432e5},notion_mail_launch_modal:{launchDateMs:17446752e5,expiryDateMs:17525376e5},notion_mail_launch_modal_2:{launchDateMs:17446752e5,expiryDateMs:17578944e5},ui_doc_example:{launchDateMs:19249056e5,expiryDateMs:19249056e5},collection_property_permissions:{launchDateMs:17433792e5,expiryDateMs:17671392e5},salesforce_sync_unfurling_option:{launchDateMs:17443296e5,expiryDateMs:17538336e5},personal_home_sidebar_item:{launchDateMs:17470944e5,expiryDateMs:175392e7},feed_collection_view:{launchDateMs:17471808e5,expiryDateMs:17591904e5}};function d(e){let{style:t}=e;const n=(0,i().IS)((()=>({badge:{letterSpacing:0,whiteSpace:"nowrap",width:"fit-content",...t}})),[t]);return(0,c.jsx)(l().A,{color:"blue",style:n.badge,content:(0,c.jsx)(r().sA,{id:"newBadgeComponent.label",defaultMessage:"New"})})}function p(e){return(0,o().K8)((()=>{const{launchDateMs:t,expiryDateMs:n}=u[e],{currentUserSettingsStore:o}=s().default.state;if(o&&o.isReady()){var i;const e=null===(i=o.getSettings())||void 0===i?void 0:i.signup_time;if(e&&e>t)return!1}return Date.now()<=n}),[e])}function g(e){let{style:t,newBadgeKey:n}=e;return p(n)?(0,c.jsx)(d,{style:t}):null}function m(e){let{style:t,newBadgeKey:n}=e;return(0,a().X)(n)?(0,c.jsx)(d,{style:t}):null}function y(e){return e.didUserEngage?null:"feature_gate"===e.keyType?(0,c.jsx)(m,{...e}):(0,c.jsx)(g,{...e})}},154017:(e,t,n)=>{n.d(t,{b:()=>a});var o=()=>n(476492),i=()=>n(679924);var r=()=>n(504066);function a(e){const{environment:t,collectionContextStore:n,view_type:a,view_config_uri:s,from:l,...c}=e;!function(e,t){(0,i().v)(e,"create_view",t)}(t,{...(0,o().sl)(n)||{},...c,view_type:a,view_config_uri:s,from:l}),(0,r().f)({collectionContextStore:n,action:"create_view",from:l,property_type:void 0})}},338477:(e,t,n)=>{n.d(t,{G:()=>s,m:()=>l});var o=()=>n(449506),i=()=>n(751156),r=()=>n(755199),a=()=>n(765957);function s(e){const{environment:t,transaction:n}=e,{currentUserSettingsStore:o}=a().default.state;if(!o)return;const s=e=>{r().mJ({userSettingsStore:o,transaction:e,data:{feed_view_new_button_clicked_at:Date.now()}})};n?s(n):i().createAndCommit({environment:t,userAction:"feedActions.markFeedViewNewButtonClicked",canUndo:!1,cellTarget:"main",perform:e=>s(e)})}function l(e){return o().callApi({eventName:"createFeedViewOnboardingPage",environment:e.environment,data:{spaceId:e.spaceId}})}},432229:(e,t,n)=>{n.d(t,{P:()=>S});n(581454),n(296540);var o=()=>n(560198),i=()=>n(401497),r=()=>n(995847),a=()=>n(84817),s=()=>n(704152),l=()=>n(493823),c=()=>n(864943),u=()=>n(8980),d=()=>n(460292),p=()=>n(554509),g=n(474848);function m(e){const t=(0,i().IS)((e=>({background:{position:"absolute",top:8,right:8,width:24,height:24,borderRadius:"100%",background:e.surface.contrast},button:{width:"100%",height:"100%",borderRadius:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:"transparent"},hovered:{background:e.buttonHoveredBackground},pressed:{background:e.buttonPressedBackground}})),[]);return(0,g.jsx)("div",{style:t.background,children:(0,g.jsx)(s().A,{onClick:e.onClick,style:t.button,hoveredStyle:t.hovered,pressedStyle:t.pressed,children:(0,g.jsx)(u().I,{icon:r().xMarkSmallIcon,size:"sm",color:"primary"})})})}function y(e){const{text:t,onClick:n}=e,o=(0,i().IS)((e=>({button:{height:28,padding:"0 8px",borderRadius:6,borderWidth:1,borderColor:e.stroke.primary,borderStyle:"solid"}})),[]);return(0,g.jsx)(c().A,{size:"lg",onClick:n,style:o.button,children:(0,g.jsx)(p().D,{styleName:"UISmall-12px/Medium",colorName:"primary",children:t})})}function _(e){const{text:t,onClick:n}=e;return(0,g.jsx)(l().p,{onClick:n,children:(0,g.jsx)(p().D,{styleName:"UISmall-12px/Medium",colorName:"secondary",children:t})})}function b(e){const{text:t,onClick:n}=e,o=(0,i().IS)((()=>({button:{height:28,padding:"4px 8px"}})),[]);return(0,g.jsx)(c().A,{size:"lg",onClick:n,style:o.button,children:(0,g.jsx)(p().D,{styleName:"UISmall-12px/Medium",colorName:"primary",children:t})})}function h(e){const{button:t}=e;return(0,g.jsx)(b,{...t})}function f(e){const{primary:t,secondary:n}=e;return(0,g.jsxs)(a().Y1,{direction:"horizontal",gap:8,align:"center-left",children:[(0,g.jsx)(y,{...t}),n?(0,g.jsx)(_,{...n}):void 0]})}function x(e){const{primary:t}=e;return(0,g.jsx)(a().Y1,{direction:"horizontal",gap:8,align:"center-right",children:(0,g.jsx)(y,{...t})})}function v(e){const{numDots:t,activeDot:n}=e,o=(0,i().IS)((e=>({dot:{width:6,height:6,borderRadius:"100%",background:e.icon.quaternary},active:{background:e.icon.primary}})),[]),r=new Array(t).fill(0).map(((e,t)=>{const i=t===n?{...o.dot,...o.active}:o.dot;return(0,g.jsx)("div",{style:i},t)}));return(0,g.jsx)(a().Y1,{direction:"horizontal",gap:8,children:r})}function k(e){const{button:t,numStages:n,stage:o}=e;return(0,g.jsxs)(a().Y1,{direction:"horizontal",gap:"auto",align:"center",children:[(0,g.jsx)(v,{numDots:n,activeDot:o}),(0,g.jsx)(y,{...t})]})}function w(e){const{alt:t,src:n,type:o}=e,r=(0,i().IS)((()=>({media:{width:"100%",height:"auto",borderRadius:2}})),[]);return"image"===o?(0,g.jsx)("img",{src:n,style:r.media,alt:t}):(0,g.jsx)("video",{title:t,src:n,style:r.media,autoPlay:!0,playsInline:!0,muted:!0,loop:!0,controls:!1})}function j(e){const{onDismiss:t,buttonsProps:n,icon:o,title:r,media:s,body:l,badge:c}=e,u=(0,i().IS)((e=>({card:{borderWidth:1,borderColor:e.stroke.secondary,borderStyle:"solid",background:e.surface.contrast,backdropFilter:"blur(15px)",WebkitBackdropFilter:"blur(15px)",padding:12,width:280},title:{paddingRight:24},icon:{paddingBottom:2}})),[]);let y,_,b,v,j;if(n)switch(n.type){case"carousel":y=(0,g.jsx)(k,{...n});break;case"full-width":y=(0,g.jsx)(h,{...n});break;case"left-aligned":y=(0,g.jsx)(f,{...n});break;case"right-aligned":y=(0,g.jsx)(x,{...n})}return o&&(_=(0,g.jsx)(d().Q,{iconGroup:o,variantName:"small",colorName:"primary",style:u.icon})),r&&(b=(0,g.jsx)("div",{style:u.title,children:(0,g.jsxs)(p().D,{styleName:"UISmall-12px/Semibold",colorName:"contrastPrimary",children:[r,c]})})),l&&(v=(0,g.jsx)(p().D,{styleName:"UISmall-12px/Regular",colorName:"primary",children:l})),s&&(j=(0,g.jsx)(w,{...s})),(0,g.jsxs)(a().Y1,{style:u.card,borderRadius:8,gap:8,children:[(0,g.jsxs)(a().Y1,{gap:2,children:[_,b,v]}),j,y,(0,g.jsx)(m,{onClick:t})]})}function S(e){return(0,g.jsx)(o().wX,{mode:"dark",children:(0,g.jsx)(j,{...e})})}},612900:(e,t,n)=>{n.d(t,{u:()=>r});var o=()=>n(645873);const i=new(o().O2)("PulsingWrapper",(async()=>n.e(45248).then(n.bind(n,673962)))),r=(0,o().jQ)(i,(e=>e.PulsingWrapper),{renderLoading:(e,t)=>t.children})},964826:(e,t,n)=>{n.r(t),n.d(t,{FeedViewOnboardingTooltip:()=>M,useMaybeAcquireTooltipLock:()=>D});n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520),n(737550);var o=n(296540),i=()=>n(484714),r=()=>n(56366),a=()=>n(401497);const s=(0,n(340498).xh)("newspaper",{default:{loader:()=>n.e(70938).then(n.bind(n,925695))},small:{loader:()=>n.e(70938).then(n.bind(n,610041))},fill:{loader:()=>n.e(70938).then(n.bind(n,715771))},fillSmall:{loader:()=>n.e(70938).then(n.bind(n,644626))}},["feed","inbox","updates","subscribe","subscription"]);var l=()=>n(959013),c=()=>n(154017),u=()=>n(751156),d=()=>n(423938),p=()=>n(897119),g=()=>n(735824),m=()=>n(299487),y=()=>n(51367),_=()=>n(338477),b=()=>n(962730),h=()=>n(765957),f=()=>n(432229),x=()=>n(147294),v=()=>n(612900),k=n(474848);const w=(0,l().YK)({title:{defaultMessage:"Feed View",id:"FeedViewOnboardingTooltip.title"},body:{defaultMessage:"Display your pages in a scrollable feed for easier sharing and reading.",id:"FeedViewOnboardingTooltip.body"},button:{defaultMessage:"Try it out",id:"FeedViewOnboardingTooltip.button"}});class j extends(()=>n(757695))().Store{getInitialState(){return{settingsButtons:new Set}}register(e){this.setState({settingsButtons:new Set([...this.getState().settingsButtons,e])})}unregister(e){this.setState({settingsButtons:new Set([...this.getState().settingsButtons].filter((t=>t!==e)))})}hasLock(e){const t=Array.from(this.getState().settingsButtons);return 0===t.length?(this.register(e),!0):t.some((t=>t===e))&&e===t[0]}}const S=new j;function D(e){(0,o.useEffect)((()=>(S.register(e),()=>{S.unregister(e)})),[e]);return(0,r().K8)((()=>S.hasLock(e)),[e])}function M(e){let{collectionContextStore:t,children:n}=e;const j=(0,i().v3)(),S=(0,l().tz)(),M=o.useRef(null),[C,B]=(0,o.useState)(!1),I=D(M);(0,o.useEffect)((()=>{const e=M.current;if(!e)return;const t=new IntersectionObserver((e=>{let[t]=e;B(t.isIntersecting)}));return t.observe(e),()=>{t.disconnect()}}),[I]);const N=o.useCallback((()=>M.current),[]),T=(0,g().r)({getElement:N}),P=Boolean(T)&&C;(0,o.useEffect)((()=>{P&&(0,y().DL)(j,{callout_key:"feed_view_onboarding_tooltip",placement_key:"Tooltip"})}),[j,P]);const A=(0,o.useCallback)((()=>{(0,y().Sq)(j,{callout_key:"feed_view_onboarding_tooltip",placement_key:"Tooltip",dismiss_type:"tooltip_dismiss"}),(0,m().a)(j,"feed_view_onboarding_tooltip")}),[j]),E=(0,r().K8)((()=>{var e;return Boolean(null===(e=h().default.state.currentUserSettingsStore)||void 0===e?void 0:e.hasClickedNewFeedButton())}),[]),F=(0,o.useCallback)((()=>{E||(0,_().G)({environment:j}),u().createAndCommit({userAction:"CollectionViewTabBar.createGenericViewType",environment:j,canUndo:!0,perform:e=>{(0,d().Z)({environment:j,collectionContextStore:t,newViewType:"feed",transaction:e})}}),(0,c().b)({environment:j,collectionContextStore:t,view_type:"feed",from:"feed_view_onboarding_tooltip"}),(0,y().Y5)(j,{callout_key:"feed_view_onboarding_tooltip",placement_key:"Tooltip",click_type:"primary_cta"}),A()}),[t,j,A,E]),R=(0,a().IS)((e=>({buttonWrapper:{position:"relative"},buttonHalo:{position:"absolute",top:-1,left:1},buttonHaloPlaceholder:T?{width:T.width,height:T.height+2}:{},badge:{display:"inline-block",backgroundColor:e.tint.uiBlue}})),[T]);if("feed"===(0,r().K8)((()=>t.getViewType()),[t])||!I)return n;const U=Boolean(T)&&C;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{style:R.buttonWrapper,children:[(0,k.jsx)("div",{style:R.buttonHalo,children:(0,k.jsx)(v().u,{shape:"square",borderRadius:6,children:(0,k.jsx)("div",{style:R.buttonHaloPlaceholder})})}),(0,k.jsx)("div",{role:"button",tabIndex:0,ref:M,onClick:F,children:n})]}),(0,k.jsx)(p().Ay,{popupType:p().nl.Popup,open:U,originRect:T,placementToOrigin:b().W.Bottom,alignmentToOrigin:b().C.End,originGap:6,preventCaptureEsc:!0,preventPointerEvents:!1,enableOutsideClickDismiss:!1,trapFocus:!1,disableContentScroll:!1,disableMouseCapture:!0,render:()=>(0,k.jsx)(f().P,{title:S.formatMessage(w.title),body:S.formatMessage(w.body),icon:s,buttonsProps:{type:"full-width",button:{text:S.formatMessage(w.button),onClick:F}},onDismiss:A,badge:(0,k.jsx)(x().Ee,{keyType:"date",newBadgeKey:"feed_collection_view",didUserEngage:!1,style:R.badge})})})]})}},995847:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,xMarkSmallIcon:()=>i});n(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"3.17 3.17 9.66 9.66",svg:(0,n(474848).jsx)("path",{d:"M12.642 3.358a.625.625 0 0 0-.884 0L8 7.116 4.242 3.358a.625.625 0 1 0-.884.884L7.116 8l-3.758 3.758a.625.625 0 0 0 .884.884L8 8.884l3.758 3.758a.625.625 0 1 0 .884-.884L8.884 8l3.758-3.758a.625.625 0 0 0 0-.884"})},i=(0,n(340498).wt)("xMarkSmall",o)}}]);