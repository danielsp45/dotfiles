"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[22114,98942],{6208:(e,t,n)=>{n.d(t,{L:()=>d,y:()=>l});var o=()=>n(56366),a=()=>n(798880),i=()=>n(959013),s=()=>n(765957),r=()=>n(630116);function l(e){const t=(0,i().tz)();return(0,o().K8)((()=>{const{currentSpaceStore:n}=s().default.state;if(!n||!e)return;return r().LU.createChildStore(n,{table:a().oo,id:e}).getDisplayName(t)}),[t,e])}function d(){const e=(0,i().tz)();return(0,o().K8)((()=>{const{currentUserStore:t}=s().default.state,n=null!=t&&t.isDefined()?t.getModel():void 0;return n?n.getDisplayName(e):void 0}),[e])}},15144:(e,t,n)=>{n.d(t,{R:()=>s});n(296540);var o=()=>n(959013),a=()=>n(554509),i=n(474848);function s(e){let{error:t,id:n}=e;return t?(0,i.jsx)(a().D,{id:n,styleName:"UISmall-12px/Regular",colorName:"uiRedPrimary",children:"object"==typeof t?(0,i.jsx)(o().sA,{...t}):t}):null}},15936:(e,t,n)=>{n.d(t,{g:()=>i});n(296540);var o=n(474848);const a={viewBox:"0 0 20 20",fittedViewBox:"3.07 2.17 13.85 15.65",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M12.876 7.978a.625.625 0 1 0-1.072-.643L9.25 11.59 7.815 9.916a.625.625 0 0 0-.95.814l2 2.333a.625.625 0 0 0 1.01-.085z"}),(0,o.jsx)("path",{d:"M10.28 2.241a.63.63 0 0 0-.56 0l-1.89.945a7.5 7.5 0 0 1-3.342.789H3.7a.625.625 0 0 0-.625.625v6.933a5.13 5.13 0 0 0 3.106 4.71l3.573 1.532a.63.63 0 0 0 .492 0l3.573-1.532a5.13 5.13 0 0 0 3.106-4.71V4.6a.625.625 0 0 0-.625-.625h-.788c-1.16 0-2.305-.27-3.343-.79zM8.39 4.304 10 3.499l1.61.805a8.7 8.7 0 0 0 3.902.921h.163v6.308c0 1.55-.924 2.95-2.349 3.562L10 16.52l-3.326-1.425a3.88 3.88 0 0 1-2.349-3.562V5.225h.163c1.354 0 2.69-.315 3.902-.921"})]})},i=(0,n(340498).wt)("checkmarkShield",a)},36870:(e,t,n)=>{n.d(t,{mR:()=>i,tD:()=>s});var o=()=>n(491598);const a=["enterprise_three_months","enterprise_annual","business_three_months","business_annual","team_three_months","team_annual","ai_fifty_percent_downgrade"],i=["resurrection_offer","personal","new_year_2025","lic_25","lic_50","ai_fifty_percent_upgrade","biz_upgrade_2025_8","biz_upgrade_2025_10",...a,"linkedin_perk_2025_july","referral_50"];function s(e,t){if("coupon"===(null==e?void 0:e.type)&&(0,o().MN)(e.campaign,t))return e}},66460:(e,t,n)=>{n.d(t,{W:()=>h,e:()=>v});n(16280);var o=()=>n(244641),a=(n(296540),()=>n(857639)),i=()=>n(762433),s=()=>n(323063),r=()=>n(959013),l=()=>n(252105),d=()=>n(901389),u=()=>n(765957),c=()=>n(57605),g=()=>n(224701),p=()=>n(779795),m=()=>n(807778),f=()=>n(134217),y=()=>n(981046),b=n(474848);async function v(e){var t,n;const{environment:v,stripe:h,elements:x,trialData:S,trialDays:w,product:j,sessionId:C,customerAddress:A,vatId:k,isCheckoutAddressFormExperimentEnabled:I}=e;if(!x||!h)return void a().log({level:"error",from:"trialUpsellActions",type:"StripeError",error:{miscDataString:"Stripe elements not initialized when user tried to upgrade"}});const{error:M}=await x.submit();if(M)return void l().$X(v,{error:"could not submit form",error_type:"payment_method"});const T=await h.createPaymentMethod({elements:x});if(T.error)return void l().$X(v,{error:T.error.message,error_type:"payment_method"});if(!T.paymentMethod)return void l().$X(v,{error:"could not create token",error_type:"payment_method"});const _={type:"paymentMethodId",value:T.paymentMethod.id},P=u().default.state.currentSpaceStore;if(!P)return;const N=P.id,B=await p().p_({environment:v,spaceId:N}),R=await c().A.awaitData(v,{spaceId:N});if(!R)throw new Error("Billing data not loaded");const D=(0,i().lQ)(R),z=y().A.state.selectedCurrencyCode??"USD",O=(0,s().vk)(B,{interval:"month",product:j,currency:z}),W=(0,m().Le)(),E=(0,s().vH)(D,{price:O,quantity:1},{isMay13PackagingChangesEnabled:W}),L=o().c9.now().plus({days:w});return await async function(e){const{environment:t,spaceStore:n,paymentData:o,desiredState:a,stripe:i,trialData:s,sessionId:u,customerAddress:p,vatId:m}=e,y=await c().A.awaitData(t,{spaceId:n.id});try{const e=await g().nV({environment:t,sessionId:u,spaceStore:n,desiredState:a,paymentData:o,from:"onboarding",trialData:s,billingEmail:(0,f().cs)(y),customerName:p.name,businessName:p.businessName,addressCity:p.city,addressState:p.state,addressZip:p.zipCode,addressCountry:p.country,addressLine1:p.addressLine1,addressLine2:p.addressLine2,vatId:m}),l=e.paymentIntentClientSecret,c=e.paymentIntentStatus?e.paymentIntentStatus:void 0;if(l&&"requires_action"===c){const{error:e}=await i.handleNextAction({clientSecret:l});e&&(await g().nV({environment:t,spaceStore:n,from:"subscription_upgrade_onboarding_failed_payment",desiredState:{items:[],trialEnd:void 0}}),d().f1((0,b.jsx)(r().sA,{id:"subscription.upgrade.payment_failed",defaultMessage:"Your payment could not be processed. Please provide an alternate payment method or you will lose access to Notion."})))}return"success"}catch{return void l().AF(t)}}({environment:v,spaceStore:P,desiredState:{...E,trialEnd:L},paymentData:_,stripe:h,trialData:S,customerAddress:I?A:{name:A.name,businessName:A.businessName,zipCode:(null===(t=T.paymentMethod.billing_details.address)||void 0===t?void 0:t.postal_code)||"",country:(null===(n=T.paymentMethod.billing_details.address)||void 0===n?void 0:n.country)||""},vatId:I?k:void 0,sessionId:C})}const h=(0,n(496603).sg)(v,1e3,{leading:!0,trailing:!1})},81465:(e,t,n)=>{n.d(t,{z:()=>A});var o=n(296540),a=()=>n(84817),i=()=>n(780054),s=()=>n(807778),r=()=>n(624119),l=()=>n(484714),d=()=>n(852507),u=()=>n(56366),c=()=>n(959013),g=()=>n(252105),p=()=>n(710149),m=()=>n(765957),f=()=>n(506090),y=()=>n(960389),b=()=>n(414402),v=()=>n(471725),h=n(474848);function x(e){const{modalId:t,style:n}=e,o=(0,u().O$)(v().D),a=(0,l().v3)();(0,d().w)((()=>{v().D.setState(!0)}));const i={defaultValues:{billingDetails:(0,u().K8)((()=>{const e=m().default.state.currentUserStore;return{email:null==e?void 0:e.getEmail(),name:null==e?void 0:e.getName()}}),[])},terms:{card:"never"}};return(0,h.jsxs)(y().iy,{title:o?(0,h.jsx)(b().y,{labelOnly:!0}):(0,h.jsx)(c().sA,{id:"subscriptions.checkout.paymentMethod.title",defaultMessage:"Payment method"}),style:n,children:[o?(0,h.jsx)(S,{}):null,(0,h.jsx)(r().PaymentElement,{options:i,onChange:e=>{g().C3(a,{event:e,modal_id:t}),f().A.update((e=>{if(!e.open)return e;const{paymentData:t,...n}=e;return n}))},onReady:()=>v().D.setState(!1)})]})}function S(){return(0,h.jsxs)(a().Y1,{gap:12,children:[(0,h.jsxs)(a().Y1,{direction:"horizontal",gap:12,children:[(0,h.jsx)(p().A,{style:{width:"50%",height:60,borderRadius:6}}),(0,h.jsx)(p().A,{style:{width:"50%",height:60,borderRadius:6}})]}),(0,h.jsx)(b().y,{}),(0,h.jsx)(b().y,{}),(0,h.jsx)(b().y,{}),(0,h.jsx)(b().y,{})]})}var w=()=>n(520071);function j(e){const{customerAddress:t,vatId:n,onChangeFormData:o,errors:i,modalId:s}=e,r=(0,u().O$)(v().D),d=(0,c().tz)(),g=(0,l().v3)();return(0,h.jsxs)(a().Y1,{gap:12,children:[(0,h.jsxs)(a().Y1,{gap:12,direction:"horizontal",children:[(0,h.jsx)(y().uz,{id:"name",value:t.name,errorMessage:null==i?void 0:i.customerAddress,isLoading:r,onChange:e=>{s&&C({environment:g,addressType:"name",addressUpdate:e.target.value,modal_id:s}),o({vatId:n,customerAddress:{...t,name:e.target.value}})},label:d.formatMessage({defaultMessage:"Name",id:"billingDetails.name"}),placeholder:d.formatMessage({defaultMessage:"Ada Lovelace",id:"billingDetails.name.placeholder"})}),(0,h.jsx)(y().uz,{id:"businessName",value:t.businessName,isLoading:r,onChange:e=>{s&&C({environment:g,addressType:"businessName",addressUpdate:e.target.value,modal_id:s}),o({vatId:n,customerAddress:{...t,businessName:e.target.value}})},label:d.formatMessage({defaultMessage:"Business name (optional)",id:"billingDetails.businessName"}),placeholder:d.formatMessage({defaultMessage:"Acme Inc.",id:"billingDetails.businessName.placeholder"})})]}),void 0!==n?(0,h.jsx)(y().uz,{id:"vatId",value:n,isLoading:r,onChange:e=>o({vatId:e.target.value}),label:d.formatMessage({defaultMessage:"VAT/GST number (optional)",id:"billingDetails.vatNumber"}),placeholder:"123456789"}):null]})}const C=(0,n(496603).sg)((e=>{let{environment:t,addressType:n,addressUpdate:o,modal_id:a}=e;g().Jq(t,{addressType:n,addressUpdate:o,modal_id:a})}),1e3);function A(e){let{onChange:t,customerAddress:n,sessionId:r,vatId:l,validationErrors:d,gap:u=14,style:c,children:g}=e;const p=i().A.isMobile,m=(0,s().aD)(),f=(0,o.useMemo)((()=>{if(m)return(0,h.jsx)(w().c,{customerAddress:n,vatId:l,onChange:t,modalId:r});const{name:e,businessName:o}=n;return(0,h.jsx)(j,{customerAddress:{name:e,businessName:o},vatId:l,onChangeFormData:e=>{var o,a;t({customerAddress:{...n,name:(null===(o=e.customerAddress)||void 0===o?void 0:o.name)??"",businessName:(null===(a=e.customerAddress)||void 0===a?void 0:a.businessName)??""},vatId:e.vatId})},errors:d,modalId:r})}),[n,m,t,r,d,l]);return(0,h.jsxs)(a().Y1,{gap:u,padding:p&&m?4:0,style:c,children:[f,(0,h.jsx)(x,{modalId:r}),g]})}},89244:(e,t,n)=>{n.d(t,{A:()=>y,i:()=>f});n(296540);var o=()=>n(56366),a=()=>n(994310),i=()=>n(959013),s=()=>n(278768),r=()=>n(449506),l=()=>n(901389),d=()=>n(874913),u=()=>n(589994),c=()=>n(404141),g=()=>n(554509),p=()=>n(843878),m=n(474848);async function f(e){let{locale:t,environment:n,origin:o}=e;s().wG(n,{locale:t,origin:o});const i=await r().callApi({eventName:"setlocale",environment:n,data:{locale:t}});"success"===i.type?(a().A.set("preferredLocale",t),await u().transactionQueue.drain(),n.device.isElectron?d().refreshAll({includeFocusedWindow:!0}):window.location.reload(!0)):l().Qg(i)}const y=function(e){const t=(0,n(484714).v3)(),a=(0,n(722872).Tf)(),{device:s,WindowSizeStore:r}=t,l=(0,o().K8)((()=>r.state.paddingLeftCSS),[r]),d=(0,o().K8)((()=>r.state.paddingRightCSS),[r]),u=(0,o().K8)((()=>c().A.state.highlightedSetting===c().r.LanguageSetting),[]),y=(0,n(141966).H)(s.isMobile,a),b=(0,n(401497).IS)((e=>({container:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"auto",height:"auto",paddingLeft:s.isMobile?l:0,paddingRight:s.isMobile?d:0,...u?{backgroundColor:e.buttonHoveredBackground,marginLeft:-1*(0,p().AL)(s.isMobile),marginRight:-1*(0,p().AL)(s.isMobile),paddingLeft:(0,p().AL)(s.isMobile),paddingRight:(0,p().AL)(s.isMobile),marginTop:-1*y,marginBottom:y+5,paddingTop:y/2,paddingBottom:y/2}:{}}})),[s.isMobile,y,l,d,u]);return(0,m.jsx)("div",{style:b.container,children:(0,m.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",width:"100%"},children:[(0,m.jsxs)(n(84817).Y1,{direction:"vertical",gap:6,children:[(0,m.jsx)(g().D,{id:"languageRegionSettings.language.label",styleName:"UIRegular-14px/Regular",colorName:"primary",children:(0,m.jsx)(i().sA,{id:"languageRegionSettings.language.label",defaultMessage:"Language"})}),(0,m.jsx)(g().D,{id:"languageSettings.languageSwitcher.subtitle",styleName:"UIMedium-13px/Regular",colorName:"secondary",children:(0,m.jsx)(i().sA,{id:"languageSettings.languageSwitcher.subtitle",defaultMessage:"Change the language used in the user interface."})})]}),(0,m.jsx)(n(850369).A,{confirm:!0,onChange:e=>f({locale:e,environment:t,origin:"languageSettings"}),currentLocale:e.locale,origin:"languageSettings"})]})})}},108405:(e,t,n)=>{n.d(t,{JM:()=>U,Oi:()=>K,yN:()=>F});n(898992),n(823215);var o=n(296540),a=()=>n(662303),i=()=>n(484714),s=()=>n(56366),r=()=>n(401497),l=()=>n(380048),d=()=>n(742117),u=()=>n(480388),c=()=>n(427704),g=()=>n(677338),p=()=>n(959013),m=()=>n(763824),f=()=>n(284371),y=()=>n(435009),b=()=>n(278589),v=()=>n(899086),h=()=>n(555267),x=()=>n(145214),S=()=>n(493823),w=()=>n(527606),j=()=>n(204063),C=()=>n(2143),A=()=>n(903659),k=()=>n(850369),I=()=>n(89244),M=()=>n(682497),T=()=>n(38337),_=()=>n(47373),P=()=>n(575301),N=()=>n(962730),B=()=>n(756279),R=()=>n(765957),D=()=>n(217429),z=()=>n(480599),O=()=>n(176864),W=()=>n(59424),E=()=>n(235921),L=n(474848);const F=[],q={profile:T().PvQ,mobile_profile:T().PvQ,team_onboarding_persona_survey:T().oCP,mobile_team_onboarding_persona_survey:T().oCP,onboarding_workspace_choose:T().yuM,mobile_onboarding_workspace_choose:T().yuM,onboarding_plan_type_choose:T().fM9,mobile_onboarding_plan_type_choose:T().fM9,team_onboarding_workspace_create:T().bry,mobile_team_onboarding_workspace_create:T().bry,team_onboarding_invite:T().kXO,mobile_team_onboarding_invite:T().kXO,team_onboarding_timed_trial_offer:T().myD,team_onboarding_timed_trial_checkout:T().myD,onboarding_collaborative_intent_choose:T().DJ9,mobile_onboarding_collaborative_intent_choose:T().DJ9};function U(){var e,t,n;const u=(0,i().v3)();(0,o.useEffect)((()=>{const{currentUserStore:e}=R().default.state,t=g().Td();g().Ti();const n=null==e?void 0:e.getOnboardingCompleted(),o=null==e?void 0:e.getMobileOnboardingCompleted();t&&(!u.device.isMobile&&n||u.device.isMobile&&o)?y().oo({environment:u,url:c().JZ.root,redirect:!0}):u.device.isMobileNative&&D().default.checkGate({gateName:"mobile_skip_onboarding_timeout"})||(0,m().wR)(3e3).then((()=>{"undefined"===E().A.getState().flowName&&y().oo({environment:u,url:c().JZ.root,redirect:!0})}))}),[u]),(0,o.useEffect)((()=>{var e;null===(e=u.mobileNative)||void 0===e||e.markTransitionReady({environment:u,type:"onboarding"})}),[u]);const x=(0,s().K8)((()=>E().A.state),[]),w=(0,s().K8)((()=>(0,W().getStageName)({flowName:x.flowName,stageIndex:x.currentStageIndex,environment:u})),[x,u]),j=O().contextualizedOnboardingStageByStageName[w],C=(0,s().K8)((()=>null==j?void 0:j.renderStage(x)),[j,x]),T=(0,s().K8)((()=>{var e;return null==j||null===(e=j.renderRightContent)||void 0===e?void 0:e.call(j,x)}),[j,x]),_=F.includes(x.flowName),P=(0,s().K8)((()=>0===x.currentStageIndex||!(null!=j&&j.isBackEnabled(x,u))),[x,u,j]),B=(0,s().K8)((()=>{var e;return(null==j||null===(e=j.shouldHideDesktopBottomContent)||void 0===e?void 0:e.call(j,x,u))??!1}),[j,x,u]),U=(0,s().K8)((()=>{var e;return(null==j||null===(e=j.disableBottomContent)||void 0===e?void 0:e.call(j,x))??!1}),[j,x]),K=function(e,t,n,o,a,i){return(0,r().IS)((s=>({errorPage:{width:"100vw",height:"100%",position:"relative",display:"flex",flex:1,background:s.contentBackground},container:{background:s.surface.wash,height:"100%",width:"100%",overflowX:"scroll"},topBar:{top:a?36:18,left:a?0:18,display:"flex",alignItems:"center",position:"absolute",zIndex:2,justifyContent:"space-between",width:"100%"},topBarLeft:{display:"flex",alignItems:"center",gap:12},previousStageButton:{height:36,width:36,display:"flex",alignItems:"center",verticalAlign:"middle",color:n?s.icon.tertiary:s.icon.secondary,borderRadius:"50%",cursor:n?"not-allowed":"pointer"},stageContainer:{display:"flex",flexDirection:"row",height:"100%",minHeight:"800px",alignItems:"center",justifyContent:"center",paddingBottom:32},leftContentContainer:{width:t?"50%":"100%",display:"flex",alignItems:"center",justifyContent:"center"},leftContent:{paddingLeft:t?64:0,display:"flex",flexDirection:"column",alignItems:o===N().C.Center?"center":o===N().C.Start?"flex-start":"flex-end"},assistantFace:{borderRadius:"100%",width:(0,b().N)("medium"),boxShadow:s.shadowSM,marginBottom:14},header:{display:"flex",flexDirection:"column",fontWeight:f().Wy.regular,marginLeft:void 0,marginRight:void 0,textAlign:"left",width:406,...o===N().C.Center&&!t&&{width:void 0,textAlign:"center"}},subtitle:{color:s.text.tertiary,fontWeight:f().Wy.medium,fontSize:22,...e&&{fontSize:14,color:s.text.secondary,fontWeight:f().Wy.regular,marginTop:6}},contentAboveContinue:{alignSelf:"center"},contentUnderContinue:{alignSelf:"center"},skipButton:{marginTop:12,display:"flex",alignItems:"center",justifyContent:"center"},rightContentContainer:{width:"50%",display:"flex",alignItems:"center",justifyContent:"center"},footer:{position:"absolute",left:"50%",bottom:48,transform:"translateX(-50%)",textAlign:"center",width:"auto"},bottomContent:{display:"flex",flexDirection:"column",transition:"opacity 0.5s",opacity:i?0:1,width:"100%",alignItems:"center",...i&&{pointerEvents:"none"}}})),[e,t,n,o,a,i])}(_,Boolean(T),P,(null==j?void 0:j.alignment)??N().C.Start,u.device.isElectron,B),Q=(0,s().K8)((()=>{var e;return null==j||null===(e=j.shouldShowSkipButton)||void 0===e?void 0:e.call(j,x,u)}),[j,x,u]),$=(0,s().K8)((()=>(null==j?void 0:j.shouldShowDesktopSkipButtonInTopBar)??!1),[j]),Y=(0,s().K8)((()=>(0,W().getStages)({flowName:x.flowName,environment:u})),[x,u]),Z=(0,s().K8)((()=>{const e=D().default.getEligibleGroup({experimentId:"onboarding_mobile_earlier_progress_bar",defaultGroup:"control"});if(!e||"control"===e)return x.currentStageIndex===Y.length-1;return Y.slice(x.currentStageIndex+1).every((t=>{const n=O().contextualizedOnboardingStageByStageName[t];return!!n.estimateWillSkip&&n.estimateWillSkip(x,u,"assume_work"===e?"team":"personal")}))||x.currentStageIndex===Y.length-1}),[x,u,Y]),X=(0,s().K8)((()=>null==j?void 0:j.getTitle(x,u)),[j,x,u]),ee=(0,s().K8)((()=>{var e;return null==j||null===(e=j.getSubTitle)||void 0===e?void 0:e.call(j,x,u)}),[j,u,x]),te=(0,s().K8)((()=>{var e;return null==j||null===(e=j.renderContentAboveContinueButton)||void 0===e?void 0:e.call(j,x,u)}),[j,x,u]),ne=(0,s().K8)((()=>(0,W().shouldShowProgressIndicatorOnStage)(x,!1,u)&&"on"===D().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control",disableExposureLogging:!0})),[u,x]);if("undefined"===x.flowName)return(0,L.jsx)(h().A,{loadingMessage:(0,L.jsx)(p().sA,{defaultMessage:"Getting set up...",id:"onboarding.loadingMessage"})});if(x.isInvalidRedirect){const{onboardingData:e}=x;return(0,L.jsx)(A().A,{style:K.errorPage,children:(0,L.jsx)(M().o,{route:{name:"onboarding"},publicPageData:{pageId:null==e?void 0:e.redirectPageId,spaceId:null==e?void 0:e.redirectSpaceId,spaceName:null==e?void 0:e.redirectSpaceName,publicAccessRole:"none",canRequestAccess:null==e?void 0:e.canRequestAccessToRedirectPage}})})}if(!j)return null;if(u.device.isMobile)return(0,L.jsx)(G,{onboardingState:x,isBackDisabled:P,title:X,subtitle:ee,currentStage:j,onLastStage:Z});const oe=!u.device.isMobile&&"education_flow"!==x.flowName&&x.isFirstTimeOnboarding,ae="performance_marketing_term_onboarding"===x.flowName,ie=q[w];return(0,L.jsxs)("div",{style:K.container,className:ie,children:[ne&&(0,L.jsx)(J,{}),(0,L.jsxs)("div",{style:K.topBar,children:[(0,L.jsxs)("div",{style:K.topBarLeft,children:[(0,L.jsx)(S().p,{disabled:P,style:K.previousStageButton,onClick:()=>{var e,t;null!==(e=j.shouldDisableDefaultOnBack)&&void 0!==e&&e.call(j,u,x)?null===(t=j.onBack)||void 0===t||t.call(j,u,x):(0,z().handleDesktopBackButtonClick)({environment:u,currentStage:j,onboardingState:x})},children:(0,l().I)({height:16})}),oe&&(0,L.jsx)(k().A,{confirm:!0,onChange:e=>(0,I().i)({locale:e,environment:u,origin:w}),origin:w,currentLocale:a().locale})]}),Q&&$&&(0,L.jsxs)(S().p,{style:{...K.skipButton,marginTop:0,marginRight:36},isGray:!0,onClick:async()=>await(0,z().skipStage)({environment:u,onboardingState:x}),children:[(0,L.jsx)(p().sA,{defaultMessage:"Skip",id:"contextualizedOnboarding.skipButton.label"}),(0,d().V)({height:12,width:12,marginLeft:4})]})]}),(0,L.jsxs)("div",{style:{...K.stageContainer,...j.stageStyles},children:[(0,L.jsx)("div",{style:K.leftContentContainer,children:(0,L.jsxs)("div",{style:K.leftContent,children:[_&&(0,L.jsx)("div",{style:K.assistantFace,children:(0,L.jsx)(v().w,{sizeVariant:"medium"})}),(0,L.jsx)(V,{title:X,subtitle:ee,headerStyles:{...K.header,...j.headerStyles,paddingBottom:ae?0:32},subtitleStyles:K.subtitle}),C,U?null:(0,L.jsxs)("div",{style:K.bottomContent,children:[(0,L.jsx)("div",{style:K.contentAboveContinue,children:te}),(null===(e=j.getDesktopContinueButtonOverride)||void 0===e?void 0:e.call(j))??(0,L.jsx)(H,{currentStage:j,onLastStage:Z}),(0,L.jsx)("div",{style:K.contentUnderContinue,children:null===(t=j.renderContentUnderContinueButton)||void 0===t?void 0:t.call(j,x,u)}),Q&&(0,L.jsx)(S().p,{style:{...K.skipButton,...j.skipButtonStyles},isGray:!0,onClick:async()=>await(0,z().skipStage)({environment:u,onboardingState:x}),children:(0,L.jsx)(p().sA,{defaultMessage:"Skip",id:"contextualizedOnboarding.skipButton.label"})})]},j.stageName)]})}),T&&(0,L.jsx)("div",{style:K.rightContentContainer,children:T})]}),(0,L.jsx)("div",{style:{...K.footer,...j.footerStyles},children:null===(n=j.renderFooter)||void 0===n?void 0:n.call(j,x,u)})]})}function V(e){let{title:t,subtitle:n,headerStyles:o,subtitleStyles:i}=e;const s=(0,r().IS)((e=>({header:{position:"relative",textAlign:"center",paddingTop:0,paddingBottom:32,marginLeft:"auto",marginRight:"auto",maxWidth:520},title:{fontWeight:f().Wy.semibold,fontFamily:f().xf({locale:a().locale}),lineHeight:1.3,color:e.text.primary,fontSize:22},subtitle:{fontSize:18,lineHeight:1.3,paddingTop:2,color:e.text.secondary,fontWeight:f().Wy.regular}})),[]);return(0,L.jsx)("div",{style:{...s.header,...o},children:(0,L.jsxs)("div",{children:[(0,L.jsx)("div",{style:s.title,children:t}),n&&(0,L.jsx)("div",{style:{...s.subtitle,...i},children:n})]})})}function H(e){let{currentStage:t,onLastStage:n}=e;const o=(0,i().v3)(),a=(0,s().K8)((()=>E().A.state),[]),l=(0,r().DP)(),d=(0,s().K8)((()=>{var e;return null===(e=t.getContinueButtonStyles)||void 0===e?void 0:e.call(t,l)}),[t,l]),u=(0,r().IS)((e=>({continueButton:{marginTop:128,width:406,height:36,borderRadius:6,fontSize:14,fontWeight:f().Wy.semibold,color:e.text.contrastPrimary,...d}})),[d]),c=(0,s().K8)((()=>{var e;return null==t||null===(e=t.getContinueButtonLabel)||void 0===e?void 0:e.call(t,a)}),[t,a]),g=(0,s().K8)((()=>t.isContinueEnabled(a,o)),[t,a,o]);return(0,L.jsx)(j().A,{style:{...u.continueButton},size:"lg",disabled:!g,onClick:async()=>await(0,z().goToNextStage)({environment:o,onboardingState:a}),children:c??(n?(0,L.jsx)(p().sA,{defaultMessage:"Finish",id:"contextualizedOnboarding.finishButton.label"}):(0,L.jsx)(p().sA,{defaultMessage:"Continue",id:"contextualizedOnboarding.continueButton.label"}))})}function K(e){const{isPromoteMobileAppRequiredToDownload:t}=e;return(0,r().IS)((e=>({title:{fontSize:22,fontFamily:f().xf({locale:a().locale}),textAlign:"left",marginBottom:24,lineHeight:1.28,fontWeight:590},subtitle:{fontWeight:"normal",fontSize:16,color:e.text.secondary,paddingRight:16,wordBreak:"break-word",textAlign:"left",marginBottom:12,lineHeight:1.28,paddingLeft:0},title2:{fontFamily:f().xf({locale:a().locale}),color:e.text.primary,fontSize:22,fontWeight:590,textAlign:"left",lineHeight:1.28},subtitle2:{color:t?e.text.secondary:e.text.primary,fontSize:t?22:17,fontWeight:t?590:"normal",textAlign:"left",lineHeight:1.28,marginTop:t?0:8,wordBreak:"break-word"},mobileWrapStyle:{maxWidth:360,fontSize:16,marginLeft:"auto",marginRight:"auto",paddingBottom:32},continueButton:{marginTop:8,width:"100%",height:48,borderRadius:12,fontSize:17,fontWeight:f().Wy.semibold,color:e.text.contrastPrimary}})),[t])}function G(e){var t,n;let{onboardingState:a,isBackDisabled:d,title:c,subtitle:g,currentStage:m,onLastStage:f}=e;const y=(0,r().DP)(),b=(0,i().v3)(),{device:v,WindowSizeStore:h}=b,x=(0,s().K8)((()=>h.state.height),[h]),A=(0,s().K8)((()=>"control"!==(0,_().DV)({environment:b})),[b]),k=(0,s().K8)((()=>"mobile_promote_app_download"===a.flowName&&"required_to_download"===(0,_().el)({environment:b})),[b,a.flowName]),I=K({isPromoteMobileAppRequiredToDownload:k}),M=(0,s().K8)((()=>window.innerHeight<u().M&&v.isMobile),[v.isMobile]),T=(0,P().o_)(),N=(0,o.useRef)(null),R=(0,o.useCallback)((()=>{const e=N.current;if(e){const t=e.getNode();t&&t.scrollTo({top:T})}}),[T]);(0,o.useEffect)((()=>{R()}),[R]);const O=(0,s().K8)((()=>function(e,t,n,o){const{WindowSizeStore:a}=e;return{width:"100%",height:o,paddingTop:n?a.getSafePaddingTopCSS(0):a.getSafePaddingTopCSS(24),paddingLeft:a.getSafePaddingLeftCSS(16),paddingRight:a.getSafePaddingRightCSS(16),paddingBottom:a.getSafePaddingBottomCSS(64),background:t.surface.wash}}(b,y,A,x-(T>100?T:0))),[b,y,x,T,A]),E=(0,s().K8)((()=>function(e,t){return{display:"inline-block",textAlign:"center",width:`calc(100vw - ${t.getSafePaddingLeftCSS(16)} - ${t.getSafePaddingRightCSS(16)})`,maxWidth:360,margin:"0 auto",background:e.surface.wash}}(y,h)),[y,h]),F=(0,s().K8)((()=>m.renderStage(a)),[m,a]),q=(0,s().K8)((()=>{var e;return null===(e=m.renderContentAboveContinueButton)||void 0===e?void 0:e.call(m,a,b)}),[m,a,b]),U=(0,s().K8)((()=>{var e;return null===(e=m.renderContentUnderContinueButton)||void 0===e?void 0:e.call(m,a,b)}),[m,a,b]),V=(0,s().K8)((()=>{var e;return null===(e=m.shouldHideMobileBottomContent)||void 0===e?void 0:e.call(m,a)}),[m,a]),H=(0,s().K8)((()=>m.isContinueEnabled(a,b)),[m,a,b]),G=(0,s().K8)((()=>{var e;return null===(e=m.shouldShowSkipButton)||void 0===e?void 0:e.call(m,a,b)}),[m,a,b]),Q=(0,s().K8)((()=>{var e;return Boolean(null==m||null===(e=m.shouldHideBackButton)||void 0===e?void 0:e.call(m,b))}),[b,m]),$=(0,s().K8)((()=>{const e=D().default.getEligibleGroup({experimentId:"onboarding_mobile_earlier_progress_bar",defaultGroup:"control"});return(0,W().shouldShowProgressIndicatorOnStage)(a,e&&"control"!==e,b)&&"on"===D().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control",disableExposureLogging:!0})}),[b,a]),Y=(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Q?void 0:(0,L.jsx)(S().p,{disabled:"mobile_team_onboarding_invite"===m.stageName,style:{borderRadius:"100%",height:36,width:36,background:y.tint.regular,display:"flex",alignItems:"center",verticalAlign:"middle",marginBottom:16},onClick:async()=>await(0,z().handleMobileBackButtonClick)({isBackDisabled:d,environment:b,currentStage:m,onboardingState:a}),children:(0,l().I)({height:16,color:d?y.icon.tertiary:y.icon.secondary})}),G&&(0,L.jsx)(S().p,{isGray:!0,onClick:async()=>await(0,z().skipStage)({environment:b,onboardingState:a}),children:(0,L.jsx)(p().sA,{defaultMessage:"Skip",id:"contextualizedOnboarding.skipButton.label"})})]}),(0,L.jsxs)("div",{style:I.mobileWrapStyle,children:[$&&(0,L.jsx)(J,{}),A||k?(0,L.jsxs)("div",{style:{paddingTop:12,paddingBottom:k?40:0},children:[(0,L.jsx)("div",{style:I.title2,children:c}),g&&(0,L.jsx)("div",{style:I.subtitle2,children:g})]}):(0,L.jsxs)("div",{children:[g&&(0,L.jsx)("div",{style:{...I.subtitle,...m.headerStyles},children:g}),(0,L.jsx)("div",{style:{...I.title,...M&&{fontSize:28,marginBottom:16},...m.headerStyles},children:c})]}),F]})]});return(0,L.jsxs)(w().k,{debugName:"ContextualizedOnboardingMobileScroller",enable:!0,shortcuts:{backbutton:()=>{(0,z().handleMobileBackButtonClick)({isBackDisabled:d,environment:b,currentStage:m,onboardingState:a})}},children:[m.shouldHideScroller?(0,L.jsx)("div",{style:O,children:Y}):(0,L.jsx)(C().H,{type:B().A.Y,style:O,ref:N,children:Y}),(0,L.jsx)("div",{style:{transition:"opacity 0.5s",opacity:V?0:1,...V&&{pointerEvents:"none"}},children:(0,L.jsx)("div",{style:{position:"absolute",bottom:0,paddingBottom:T+8,width:"100%",boxShadow:`0px -20px 20px 20px ${y.surface.wash}`,background:y.surface.wash},children:(0,L.jsx)("div",{style:{display:"inline-block",textAlign:"center",width:"100%",margin:"0 auto",background:y.surface.wash,...m.footerStyles},children:(0,L.jsxs)("div",{style:E,children:[q,(null===(t=m.getMobileContinueButtonOverride)||void 0===t?void 0:t.call(m))??(0,L.jsx)(j().A,{style:I.continueButton,size:"lg",onClick:async()=>await(0,z().goToNextStage)({environment:b,onboardingState:a}),disabled:!H,children:(null===(n=m.getContinueButtonLabel)||void 0===n?void 0:n.call(m,a))??A?f?(0,L.jsx)(p().sA,{defaultMessage:"Get started",id:"contextualizedOnboarding.getStartedButton.label"}):(0,L.jsx)(p().sA,{defaultMessage:"Next",id:"contextualizedOnboarding.nextButton.label"}):f?(0,L.jsx)(p().sA,{defaultMessage:"Finish",id:"contextualizedOnboarding.finishButton.label"}):(0,L.jsx)(p().sA,{defaultMessage:"Continue",id:"contextualizedOnboarding.continueButton.label"})}),U]})})})})]})}function J(){const e=(0,i().v3)().device.isMobile,t=(0,s().K8)((()=>E().A.state.progressBarPercentage),[]),n=(0,r().IS)((n=>({progressBarOuter:{width:"100%",height:4,background:n.tint.regular,borderRadius:100,...e?{marginBottom:24}:{top:0,left:0,position:"absolute"}},progressBarFilled:{width:`${t}%`,height:4,background:n.text.primary,borderRadius:100,transition:"width 0.5s",...!e&&{top:0,left:0,position:"absolute"}}})),[e,t]);return void 0===t?null:(0,L.jsx)(x().A,{initial:{opacity:0},animate:{opacity:1},config:{duration:400,timingFunction:"ease-in"},style:{zIndex:4},children:(0,L.jsx)("div",{style:n.progressBarOuter,children:(0,L.jsx)("div",{style:n.progressBarFilled})})})}},108414:(e,t,n)=>{n.d(t,{A:()=>a});class o extends(()=>n(757695))().Store{getInitialState(){return{open:!1}}}const a=new o},112799:(e,t,n)=>{n.d(t,{a:()=>d,E:()=>l});n(16280);var o=n(296540),a=()=>n(484714),i=(n(898992),n(672577),()=>n(427704));i().GJ.downloadMac,i().GJ.downloadMacUniversal,i().GJ.downloadMacIntel,i().GJ.downloadMacAppleSilicon,i().GJ.downloadWindows,i().GJ.downloadWindowsArm;const s=[{route:i().GJ.downloadMac,architecture:"universal",operatingSystem:"mac",target:"macUniversal"},{route:i().GJ.downloadMacIntel,architecture:"x86",operatingSystem:"mac",target:"mac"},{route:i().GJ.downloadMacUniversal,architecture:"universal",operatingSystem:"mac",target:"macUniversal"},{route:i().GJ.downloadMacAppleSilicon,architecture:"arm",operatingSystem:"mac",target:"macArm64"},{route:i().GJ.downloadWindows,architecture:"x86",operatingSystem:"windows",target:"windows"},{route:i().GJ.downloadWindowsArm,architecture:"arm",operatingSystem:"windows",target:"windowsArm64"}];function r(e,t){const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=e.toLowerCase();if(t.startsWith("arm"))return"arm";if(t.startsWith("x86")||"intel"===t)return"x86";return null}(e);if(!n||!("mac"===t||"windows"===t))return null;const o=s.find((e=>e.architecture===n&&e.operatingSystem===t));return(null==o?void 0:o.route)||null}function l(){const e=(0,o.useRef)(null),t=(0,a().Y0)();return(0,o.useEffect)((()=>{d(t).then((t=>{e.current=t??null})).catch((e=>{throw new Error(e)}))}),[t]),e}async function d(e){var t;if(!("userAgentData"in navigator))return e.isMac?i().GJ.downloadMacUniversal:i().GJ.downloadWindows;const n=navigator.userAgentData,o=await(null==n||null===(t=n.getHighEntropyValues)||void 0===t?void 0:t.call(n,["architecture"])),a=r(null==o?void 0:o.architecture,e.os);return a||null}},140612:(e,t,n)=>{n.d(t,{w:()=>a});var o=()=>n(2220);function a(e,t){const{spaceId:n,pageId:a,joinSpaceMethod:i}=t;(0,o().u)({environment:e,event:{eventName:"trusted_domain_banner_cta_clicked",eventProperties:{spaceId:n,pageId:a,joinSpaceMethod:i}}})}},158469:(e,t,n)=>{n.d(t,{f:()=>i});n(296540);var o=n(474848);const a={viewBox:"0 0 20 20",fittedViewBox:"2.62 2.62 15.26 15.26",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M8.387 5.933c.115-.523.861-.523.976 0l.202.918a1.75 1.75 0 0 0 1.334 1.334l.918.202c.523.115.523.861 0 .976l-.918.202a1.75 1.75 0 0 0-1.334 1.334l-.202.918c-.115.523-.861.523-.976 0l-.202-.918a1.75 1.75 0 0 0-1.334-1.334l-.918-.202c-.523-.115-.523-.861 0-.976l.918-.202a1.75 1.75 0 0 0 1.334-1.334z"}),(0,o.jsx)("path",{d:"M8.875 2.625a6.25 6.25 0 1 0 3.955 11.09l3.983 3.982a.625.625 0 1 0 .884-.884l-3.983-3.982a6.25 6.25 0 0 0-4.84-10.205m-5 6.25a5 5 0 1 1 10 0 5 5 0 0 1-10 0"})]})},i=(0,n(340498).wt)("sparkleMagnifyingGlass",a)},176864:(e,t,n)=>{n.r(t),n.d(t,{contextualizedOnboardingStageByStageName:()=>ws});n(16280);var o=n(296540),a=()=>n(449412),i=()=>n(285518),s=()=>n(144114),r=()=>n(765957),l=()=>n(217429),d=(n(581454),()=>n(484714)),u=()=>n(56366),c=()=>n(401497),g=()=>n(148307),p=()=>n(529099),m=()=>n(425940),f=()=>n(42583),y=()=>n(959013),b=()=>n(319625),v=()=>n(796756),h=()=>n(633457),x=()=>n(2220),S=()=>n(493823),w=()=>n(8980),j=()=>n(554509),C=()=>n(204063),A=()=>n(478184),k=()=>n(645200),I=()=>n(26388),M=()=>n(480599),T=()=>n(59424),_=()=>n(235921),P=n(474848);const N=(0,y().YK)({accessFromNotion:{id:"onboardingCalendarSignup.accessFromNotion",defaultMessage:"Access your schedule from anywhere in Notion"},manageTasks:{id:"onboardingCalendarSignup.manageTasks",defaultMessage:"Manage Notion tasks and projects in Calendar"},transcribeMeetings:{id:"onboardingCalendarSignup.transcribeMeetings",defaultMessage:"Transcribe and summarize conversations with AI"}}),B=["accessFromNotion","manageTasks","transcribeMeetings"];function R(){const e=(0,y().tz)(),t=(0,d().v3)(),i=(0,n(479490).A)("(min-width: 1080px)"),[s,R]=(0,o.useState)(Object.fromEntries(B.map((e=>[e,!1])))),{benefitList:D,setCalendarStageBenefitPresented:z,calendarStageBenefitPresented:O,benefitDefinitions:W}=function(){const e=(0,d().v3)(),[t,n]=(0,o.useState)("accessFromNotion"),a=(0,u().K8)((()=>e.ThemeStore.state.mode),[e.ThemeStore]),i=g().A.images.connectedApps.onboarding[a],s={accessFromNotion:{icon:f().D,text:N.accessFromNotion,asset:(0,A().L)(i.calendarUpcomingEvents["3XWebp"]),srcSet:(0,A().j)(i.calendarUpcomingEvents)},manageTasks:{icon:m().a,text:N.manageTasks,asset:(0,A().L)(i.calendarDayGrid["3XWebp"]),srcSet:(0,A().j)(i.calendarDayGrid)},transcribeMeetings:{icon:p().aiFaceIcon,text:N.transcribeMeetings,asset:(0,A().L)(i.calendarMeetingNote["3XWebp"]),srcSet:(0,A().j)(i.calendarMeetingNote)}};return{benefitDefinitions:s,benefitList:B.map((e=>({...s[e],key:e}))),setCalendarStageBenefitPresented:function(t){n(t),(0,x().u)({environment:e,event:{eventName:"calendar_onboarding_benefit_hover",eventProperties:{benefit_key:t}}})},calendarStageBenefitPresented:t}}(),E=(0,c().IS)((e=>({container:{display:"flex",flexDirection:"row",alignItems:"center",gap:100},leftContainer:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:32,flexBasis:"100%",flexGrow:1,flexShrink:1},leftContainerContent:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:32,width:450},rightContainer:{flexBasis:"100%",flexGrow:1,flexShrink:1,gap:32},headerContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:4,alignSelf:"stretch"},logo:{width:48,height:48,aspectRatio:1,marginBottom:16},benefitListContainer:{display:"flex",flexDirection:"column",width:"100%",alignItems:"flex-start",gap:12,borderRadius:12,...i&&{padding:6,background:e.tint.regular,gap:2}},benefitListItem:{display:"flex",flexDirection:"row",alignItems:"flex-start",gap:8,flexShrink:0,alignSelf:"stretch",borderRadius:8,...i&&{padding:10,cursor:"pointer",border:"1px solid transparent"}},benefitListSelectedItem:i?{background:e.surface.elevated,boxShadow:e.shadowSM}:{},ctaContainer:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:8,width:"100%"},continueButton:{display:"flex",height:34,width:"100%",padding:"8px 12px",justifyContent:"center",alignItems:"center",gap:6,alignSelf:"stretch"},skipButton:{display:"flex",height:34,width:"100%",padding:"8px 12px",justifyContent:"center",alignItems:"center",gap:6,alignSelf:"stretch"}})),[i]),L=s[O]?n(425946).M:W[O].asset,F=s[O]?void 0:W[O].srcSet;return(0,P.jsxs)("div",{style:E.container,children:[(0,P.jsx)("div",{style:E.leftContainer,children:(0,P.jsxs)("div",{style:E.leftContainerContent,children:[(0,P.jsxs)("div",{style:E.headerContainer,children:[(0,P.jsx)("img",{src:g().A.images.externalIntegrations.notionCalendarIconPng,alt:"Calendar",style:E.logo}),(0,P.jsx)(j().D,{styleName:"UITitle-22px/Semibold",colorName:"primary",children:(0,P.jsx)(y().sA,{defaultMessage:"Notion is best paired with Calendar",id:"onboardingCalendarSignup.title"})}),(0,P.jsx)(j().D,{styleName:"UITitle-22px/Semibold",colorName:"lightGrayTertiary",children:(0,P.jsx)(y().sA,{defaultMessage:"Bring your work and life together with a seamlessly integrated calendar",id:"onboardingCalendarSignup.subtitle"})})]}),(0,P.jsx)("div",{style:E.benefitListContainer,children:D.map((e=>(0,P.jsxs)("div",{style:e.key===O?{...E.benefitListItem,...E.benefitListSelectedItem}:E.benefitListItem,onMouseEnter:()=>z(e.key),role:"button",tabIndex:0,children:[(0,P.jsx)(w().I,{icon:e.icon,size:20,color:i?e.key===O?"primary":"secondary":"primary"}),(0,P.jsx)(j().D,{styleName:"UIRegular-14px/Medium",colorName:i?e.key===O?"primary":"secondary":"primary",children:(0,P.jsx)(y().sA,{...e.text})})]},e.key)))}),(0,P.jsxs)("div",{style:E.ctaContainer,children:[(0,P.jsx)(C().A,{style:E.continueButton,size:"lg",onClick:()=>{!async function(e){var t,n;const o=null===(t=r().default.state.currentUserStore)||void 0===t?void 0:t.getEmail();if(!o)return a().Fg(new Error("No email for calendar signup"),{tags:{source:"notionCalendar.calendarOnboarding"}}),void(await(0,M().goToNextStage)({environment:e,onboardingState:_().A.state}));(0,x().u)({environment:e,event:{eventName:"calendar_onboarding_continue_click",eventProperties:{}}}),l().default.logEvent("calendar_onboarding_continue_click");const i=await(0,k().II)({environment:e,email:o});if(!i)return(0,x().u)({environment:e,event:{eventName:"calendar_onboarding_auth_popup_closed",eventProperties:{}}}),l().default.logEvent("calendar_onboarding_auth_popup_closed"),void(await(0,M().goToNextStage)({environment:e,onboardingState:_().A.state}));try{v().H1(e,(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:_().A.state,environment:e})),await _().A.completeOnboarding(e,"create")}catch(d){I().handleOnboardingError(e,(0,b().A)(d))}const s=null===(n=r().default.state.currentSpaceViewStore)||void 0===n?void 0:n.getSpaceId();if(!s)return void a().Fg(new Error("No spaceId found for calendar signup "),{tags:{source:"notionCalendar.calendarOnboarding"}});await(0,k().Qz)({environment:e,code:i.code,encryptedToken:i.encryptedToken,spaceId:s}),h().oX({environment:e})}(t)},children:(0,P.jsx)(y().sA,{defaultMessage:"Continue",id:"contextualizedOnboarding.continueButton.label"})}),(0,P.jsx)(S().p,{style:E.skipButton,isGray:!0,onClick:()=>{(0,M().skipStage)({environment:t,onboardingState:_().A.state})},children:(0,P.jsx)(y().sA,{defaultMessage:"Skip for now",id:"CalendarSignup.skipButton.label"})})]})]})}),i&&(0,P.jsx)("div",{style:E.rightContainer,children:(0,P.jsx)("img",{alt:e.formatMessage(W[O].text),srcSet:F,src:L,onError:()=>R((e=>({...e,[O]:!0})))})})]})}const D={stageName:"onboarding_calendar_signup",shouldSkip(e){var t;if(!e.planTypeAndSurveyInfo)return a().Fg(new Error("No plan type present when evaluating calendar signup stage"),{tags:{source:"notionCalendar.calendarOnboarding"}}),!0;if("team"===e.planTypeAndSurveyInfo.planType)return!0;return!(!(0,i().R)(r().default.state.currentUserRootStore)||(0,s().up)(n(607859).default.state))||(!(n(133234).A.isGoogle()||null!==(t=r().default.state.currentUserStore)&&void 0!==t&&null!==(t=t.getEmail())&&void 0!==t&&t.endsWith("@gmail.com"))||!sessionStorage.getItem("__DEBUG__FORCE_CALENDAR_ONBOARDING_STAGE")&&"on"!==l().default.getEligibleGroup({experimentId:"calendar_onboarding_stage",defaultGroup:"control"}))},getTitle:()=>null,getSubTitle:()=>null,isContinueEnabled:()=>!0,disableBottomContent:()=>!0,isBackEnabled:()=>!0,renderStage:()=>(0,P.jsx)(R,{})};n(898992),n(354520);var z=()=>n(534177),O=()=>n(854672),W=()=>n(864943);const E={notes:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.notes",defaultMessage:"Notes"}),iconName:"official-document"},clubs:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.clubs",defaultMessage:"Clubs"}),iconName:"people"},groupProjects:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.groupProjects",defaultMessage:"Group projects"}),iconName:"meeting"},budget:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.budget",defaultMessage:"Budget"}),iconName:"calculator"},habitTracker:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.habitTracker",defaultMessage:"Habit tracker"}),iconName:"checklist"},travel:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.travel",defaultMessage:"Travel"}),iconName:"airplane"},journal:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.journal",defaultMessage:"Journal"}),iconName:"book"}},L={notes:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.classNotes",defaultMessage:"Class notes"}),iconName:"official-document"},jobApplications:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.jobApplications",defaultMessage:"Job application"}),iconName:"briefcase"},clubs:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.clubs",defaultMessage:"Clubs"}),iconName:"people"},groupProjects:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.groupProjects",defaultMessage:"Group projects"}),iconName:"meeting"},research:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.research",defaultMessage:"Research"}),iconName:"microscope"},budget:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.budget",defaultMessage:"Budget"}),iconName:"calculator"},habitTracker:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.habitTracker",defaultMessage:"Habit tracker"}),iconName:"checklist"},travel:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.travel",defaultMessage:"Travel"}),iconName:"airplane"},journal:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.journal",defaultMessage:"Journal"}),iconName:"book"}},F={notes:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.classNotes",defaultMessage:"Class notes"}),iconName:"official-document"},jobApplications:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.jobApplication",defaultMessage:"Job application"}),iconName:"briefcase"},clubs:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.clubs",defaultMessage:"Clubs"}),iconName:"people"},groupProjects:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.groupProjects",defaultMessage:"Group projects"}),iconName:"meeting"},research:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.research",defaultMessage:"Research"}),iconName:"microscope"},habitTracker:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.habitTracker",defaultMessage:"Habit tracker"}),iconName:"checklist"},travel:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.travel",defaultMessage:"Travel"}),iconName:"airplane"},journal:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.journal",defaultMessage:"Journal"}),iconName:"book"}},q={jobApplications:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.jobApplication",defaultMessage:"Job application"}),iconName:"briefcase"},lessonPlans:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.lessonPlans",defaultMessage:"Lesson plans"}),iconName:"book"},classroomManagement:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.classroomManagement",defaultMessage:"Classroom management"}),iconName:"apple"},research:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.research",defaultMessage:"Research"}),iconName:"microscope"},budget:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.budget",defaultMessage:"Budget"}),iconName:"calculator"},habitTracker:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.habitTracker",defaultMessage:"Habit tracker"}),iconName:"checklist"},travel:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.travel",defaultMessage:"Travel"}),iconName:"airplane"},journal:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.journal",defaultMessage:"Journal"}),iconName:"book"}},U={jobApplications:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.jobApplication",defaultMessage:"Job application"}),iconName:"briefcase"},projectManagement:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.projectManagement",defaultMessage:"Project management"}),iconName:"list"},websiteBuilding:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.websiteBuilding",defaultMessage:"Website building"}),iconName:"computer"},budget:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.budget",defaultMessage:"Budget"}),iconName:"calculator"},habitTracker:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.habitTracker",defaultMessage:"Habit tracker"}),iconName:"checklist"},travel:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.travel",defaultMessage:"Travel"}),iconName:"airplane"},journal:{title:(0,P.jsx)(y().sA,{id:"ContextualizedOnboardingSurvey.category.question.journal",defaultMessage:"Journal"}),iconName:"book"}};function V(e){var t;if(!(0,T().isEducationFlowState)(e))return L;const{educationRole:n,educationLevel:o}=(null==e||null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses)??{};if(!n||!o)throw new Error("educationRole and educationLevel should be defined!");switch(n){case"student":switch(o){case"k-12":return E;case"graduate":return F;case"undergraduate":return L;default:return(0,z().HB)(o)}case"faculty member":return q;case"staff member":return U;case"other":throw new Error("Should not reach this component if educationRole is other!");default:return(0,z().HB)(n)}}function H(e){const{categoryName:t,iconName:n,onboardingState:o,title:a}=e,i=(0,u().K8)((()=>{var e;return"education_flow"===o.flowName?(null===(e=o.planTypeAndSurveyInfo)||void 0===e||null===(e=e.surveyResponses)||void 0===e?void 0:e.categories)??[]:[]}),[o]),s=(0,u().K8)((()=>i.includes(t)||!1),[t,i]),r=`/icons/${n}_${s?"gray":"lightgray"}.svg`,l=function(e){return(0,c().IS)((t=>({icon:{marginRight:8,color:e?t.icon.primary:t.icon.secondary},button:{alignItems:"center",width:"auto",height:40,borderRadius:8,margin:"6px 8px 6px 0px",borderColor:t.stroke.primary,color:t.text.secondary,paddingLeft:8,paddingRight:12,...e&&{color:t.text.primary,background:t.surface.elevated,borderColor:t.stroke.uiBluePrimary,outline:`1px solid ${t.stroke.uiBluePrimary}`}},categoryTitle:{flex:1,color:e?t.text.primary:t.text.secondary,overflowWrap:"break-word",whiteSpace:"normal"}})),[e])}(s);return(0,P.jsx)(W().A,{size:"lg",iconLeading:()=>(0,P.jsx)(O().A,{type:"notion_icon",size:24,icon:r,largeIcon:!0,style:l.icon}),style:l.button,onClick:()=>function(e,t){if("education_flow"===t.flowName){var n;const o=(null===(n=t.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.categories)||[],a=o.includes(e)?o.filter((t=>t!==e)):[...o,e];_().A.update((e=>{var t;return{...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses,categories:a}}}}))}}(t,o),children:(0,P.jsx)("div",{style:l.categoryTitle,children:a})})}function K(e){let{children:t}=e;return(0,P.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px",maxWidth:"406px"},children:t})}function G(){const e=(0,c().IS)((e=>({imageContainer:{position:"fixed",bottom:"0px",right:"0px",width:"40vw",height:"auto"}})),[]);return(0,P.jsx)("div",{children:(0,P.jsx)("img",{src:g().A.images.onboarding.categoryPickerSmallPng,alt:"Category Picker Right Image",style:e.imageContainer})})}const J=function(){const e=(0,u().O$)(_().A);let t=0;var n;return"education_flow"===e.flowName&&(t=(null===(n=e.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n||null===(n=n.categories)||void 0===n?void 0:n.length)??0),(0,P.jsxs)("div",{children:[(0,P.jsxs)("span",{style:{color:"gray",fontSize:"small"},children:[t," ","Selected"]}),(0,P.jsx)(K,{children:Object.entries(V(e)).map((t=>{let[n,o]=t;if(o)return(0,P.jsx)(H,{iconName:o.iconName,onboardingState:e,title:o.title,categoryName:n},n)}))})]})},Q={stageName:"education_category_picker",shouldSkip:()=>!1,getTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"What's on your mind?",id:"contextualizedOnboarding.educationCategoryPicker.title"}),getSubTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"Select as many as you want",id:"contextualizedOnboarding.educationCategoryPicker.subtitle"}),isContinueEnabled:e=>!0,isBackEnabled:e=>!0,renderStage:()=>(0,P.jsx)(J,{}),renderRightContent:()=>(0,P.jsx)(G,{})};var $=()=>n(962730),Y=()=>n(484392),Z=()=>n(872931),X=()=>n(125565),ee=()=>n(715862),te=()=>n(582676),ne=()=>n(381349),oe=()=>n(760217),ae=()=>n(933117);const ie="other",se={exec:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.exec",defaultMessage:"Executive (C-level / VP)"}),dept_lead:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.dept_lead",defaultMessage:"Department lead"}),team_manager:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.team_manager",defaultMessage:"Team manager"}),member:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.member",defaultMessage:"Team member"}),solo:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.solo",defaultMessage:"Solo-preneur / Freelancer"}),personal:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.roleQuestion.personal",defaultMessage:"Using Notion just for myself"})},re={creative:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.creative",defaultMessage:"Creative"}),founder_or_ceo:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.founderCeo",defaultMessage:"Founder / CEO"}),internal_communication:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.internalCommunication",defaultMessage:"Internal Communication"}),eng:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.eng",defaultMessage:"Engineering"}),product_design:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.productDesign",defaultMessage:"Product Design"}),project_or_program_management:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.projectProgramMgmt",defaultMessage:"Project / Program Management"}),product:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.question.product",defaultMessage:"Product Management"}),marketing:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.marketing",defaultMessage:"Marketing"}),sales:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.sales",defaultMessage:"Sales"}),support:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.support",defaultMessage:"Customer Service"}),finance:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.finance",defaultMessage:"Finance"}),hr:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.hr",defaultMessage:"Human Resources"}),it_admin:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.itAdmin",defaultMessage:"IT Admin"}),knowledge_management:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.knowledgeManagement",defaultMessage:"Knowledge Management"}),operations:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.operations",defaultMessage:"Operations"}),educator:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.educator",defaultMessage:"Educator"}),other:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.otherWorkType",defaultMessage:"Other"}),student:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.workQuestion.student",defaultMessage:"Student"})},le={docs:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.docs",defaultMessage:"Collaborate with others in docs"}),wikis:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.wikis",defaultMessage:"Create a knowledge base / wiki"}),notes:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.notes",defaultMessage:"Write notes"}),project:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.project",defaultMessage:"Manage projects"}),goals:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.goals",defaultMessage:"Track company goals and OKRs"}),ai:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.question.ai",defaultMessage:"Create and find content with AI"}),other:(0,P.jsx)(y().sA,{id:"PersonaCollectionModalQuestionSelect.useQuestion.otherUseType",defaultMessage:"Other"})},de={"1_10":(0,P.jsx)(y().sA,{id:"OnboardingSurvey.companySize.question.1_10",defaultMessage:"1-10"}),"10_49":(0,P.jsx)(y().sA,{id:"OnboardingSurvey.companySize.question.10_49",defaultMessage:"10-50"}),"50_99":(0,P.jsx)(y().sA,{id:"OnboardingSurvey.companySize.question.50_99",defaultMessage:"50-100"}),"100_299":(0,P.jsx)(y().sA,{id:"OnboardingSurvey.companySize.question.100_299",defaultMessage:"100-300"}),"300_999":(0,P.jsx)(y().sA,{id:"OnboardingSurvey.companySize.question.300_999",defaultMessage:"300-1000"}),"1000_5000":(0,P.jsx)(y().sA,{id:"OnboardingSurvey.companySize.question.1000_5000",defaultMessage:"1000-5000"}),"5000+":(0,P.jsx)(y().sA,{id:"OnboardingSurvey.companySize.question.5000+",defaultMessage:"5000+"})},ue={student:(0,P.jsx)(y().sA,{id:"OnboardingEducationSurvey.educationRole.question.student",defaultMessage:"Student"}),"faculty member":(0,P.jsx)(y().sA,{id:"OnboardingEducationSurvey.educationRole.question.facultyMember",defaultMessage:"Faculty member"}),"staff member":(0,P.jsx)(y().sA,{id:"OnboardingEducationSurvey.educationRole.question.staffMember",defaultMessage:"Staff member"}),other:(0,P.jsx)(y().sA,{id:"OnboardingEducationSurvey.educationRole.question.otherEducationRole",defaultMessage:"I'm not using Notion for education"})};const ce=(0,y().j4)((function(e){let{question:t,questionType:n,title:o,randomizeSelectionOrder:a,className:i,width:s,placeholder:r,disabled:l,onSelect:u,invalid:g,styles:p,focus:m}=e;const f=(0,c().DP)(),b=(0,d().v3)(),{device:v}=b;let h={};"role"===n&&(h=se),"work"===n&&(h=re),"use"===n&&(h=le),"companySize"===n&&(h=de),"educationRole"===n&&(h=ue);const x={menuTitle:o,items:ge(h,a,b.currentUser.id),width:s||300,disabled:l||!1,getKey:e=>e,selectedItem:n,originGap:4,onSelect:e=>{u(e)},renderItem:e=>(0,P.jsx)(oe().A,{title:h[e.key],...e,className:`${i}-${e.key}`}),renderOrigin:e=>(0,P.jsxs)(W().A,{...e,size:"lg",style:{...pe(b,f),...g&&{border:`1px solid ${ne().Ay.red}`},...p},className:i,focused:m,children:[(0,P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,P.jsx)(X().A,{isMobile:v.isMobile,isSecondaryColor:!Boolean(t),style:v.isMobile?{fontSize:15}:{},children:t?h[t]:r||(0,P.jsx)(y().sA,{defaultMessage:"Select response",id:"PersonaCollectionModal.selectQuestion.label"})})}),(0,ee().e)({width:10,fill:f.icon.tertiary})]})};return(0,P.jsx)(ae().A,{...x},"persona")}));function ge(e,t,n){const o=Object.keys(e);if(!t)return o;const a=(0,te().Nx)(n);return o.filter((e=>e!==ie)).sort((()=>a()-.5)).concat(o.filter((e=>e===ie)))}function pe(e,t){const{device:n}=e;return{height:n.isMobile?40:32,padding:"2px 10px",display:"flex",alignItems:"center",justifyContent:"space-between",borderRadius:n.isMobile?10:6,border:0,transition:"box-shadow 0.3s ease",boxShadow:`0 0 0 1px ${t.outlineButtonBorder}`,background:t.surface.wash}}var me=()=>n(284371);const fe={fontSize:12,color:ne().Ay.mediumTextColor,fontWeight:me().Wy.medium,lineHeight:"135%",marginTop:20,marginBottom:4};function ye(e){return(0,c().IS)((t=>({wrapper:{display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",fontSize:14,lineHeight:1.2,border:`1px solid ${t.stroke.lightGraySecondary}`,width:"100%",paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,height:"auto",marginBottom:12,borderRadius:12,background:e?t.surface.elevated:t.tint.regular},workspaceName:{fontWeight:500,fontSize:16,whiteSpace:"normal",overflowWrap:"break-word",color:e?t.text.primary:t.text.secondary},textContainer:{display:"flex",flexDirection:"column",justifyContent:"start",marginLeft:"10px",maxWidth:"200px"},workspaceInformation:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},content:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%"},card:{display:"flex",flexDirection:"column",justifyContent:"start",width:"100%",alignItems:"center"},memberCountLabel:{color:t.text.secondary,marginTop:2,fontWeight:400,fontSize:12},sectionLabel:{fontSize:12,color:t.text.secondary,paddingLeft:2,fontWeight:me().Wy.bold,display:"flex",alignItems:"center",gap:4},helpIcon:{height:16,width:16,color:t.icon.secondary}})),[e])}function be(e){var t;let{onboardingState:n}=e;return(0,P.jsx)(ce,{questionType:"educationRole",title:(0,P.jsx)(y().sA,{defaultMessage:"What's your role at your educational institution?",id:"onboardingEducationPersonaSurvey.educationRole.label"}),randomizeSelectionOrder:!1,question:null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.educationRole,invalid:!1,onSelect:e=>{!function(e,t){var n;_().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses,educationRole:t}}})}(n,e)}})}function ve(){return(0,c().IS)((e=>({button:{alignItems:"center",width:"auto",height:40,borderRadius:8,margin:"6px 8px 6px 0px",borderColor:e.stroke.primary,color:e.text.secondary,paddingLeft:12,paddingRight:12},selectedButton:{color:e.text.primary,background:e.surface.elevated,borderColor:e.stroke.uiBluePrimary,outline:`1px solid ${e.stroke.uiBluePrimary}`},itemTitle:{flex:1,overflowWrap:"break-word",whiteSpace:"normal",textAlign:"center"},questionLabel:{...fe,marginTop:25,marginBottom:8}})),[])}function he(e){let{onboardingState:t}=e;const n=ve();return(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{style:n.questionLabel,children:(0,P.jsx)(X().A,{isSmall:!0,children:(0,P.jsx)(y().sA,{defaultMessage:"What level do you study, teach, or support?",id:"onboardingEducationPersonaSurvey.educationLevelQuestion.label"})})}),(0,P.jsx)("div",{style:{display:"flex",justifyContent:"left",marginTop:"0px"},children:Z().tR.map((e=>{var o;const a=(null===(o=t.planTypeAndSurveyInfo)||void 0===o||null===(o=o.surveyResponses)||void 0===o?void 0:o.educationLevel)===e;return(0,P.jsx)(W().A,{size:"lg",onClick:()=>function(e,t){var n,o;const a=(null===(n=e.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.educationLevel)===t?void 0:t;_().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,planType:"school",surveyResponses:{...null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses,educationLevel:a}}})}(t,e),style:{...n.button,...a?n.selectedButton:{}},children:(0,P.jsx)("span",{style:n.itemTitle,children:(0,Y().A)(e)})},e)}))}),(0,P.jsx)("div",{style:n.questionLabel,children:(0,P.jsx)(X().A,{isSmall:!0,children:(0,P.jsx)(y().sA,{defaultMessage:"Have you used Notion before?",id:"onboardingEducationPersonaSurvey.notionFreqQuestion.label"})})}),(0,P.jsx)("div",{style:{display:"flex",justifyContent:"left",marginTop:"0px"},children:Z().$u.map((e=>{var o;const a=(null===(o=t.planTypeAndSurveyInfo)||void 0===o||null===(o=o.surveyResponses)||void 0===o?void 0:o.notionUseFrequency)===e;return(0,P.jsx)(W().A,{size:"lg",onClick:()=>function(e,t){var n,o;const a=(null===(n=e.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.notionUseFrequency)===t?void 0:t;_().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses,notionUseFrequency:a}}})}(t,e),style:{...n.button,...a?n.selectedButton:{}},children:(0,P.jsx)("span",{style:n.itemTitle,children:(0,Y().A)(e)})},e)}))})]})}const xe=function(){var e,t;const n=(0,u().O$)(_().A),o=ve();return(0,P.jsxs)("div",{style:{width:300},children:[(0,P.jsx)("div",{style:o.questionLabel,children:(0,P.jsx)(X().A,{isSmall:!0,children:(0,P.jsx)(y().sA,{defaultMessage:"What's your role at your educational institution?",id:"OnboardingEducationPersonaSurvey.educationRoleQuestion.label"})})}),(0,P.jsx)(be,{onboardingState:n}),(null===(e=n.planTypeAndSurveyInfo)||void 0===e||null===(e=e.surveyResponses)||void 0===e?void 0:e.educationRole)&&(a=null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.educationRole,!("other"===a))&&(0,P.jsx)(he,{onboardingState:n})]});var a},Se={stageName:"education_persona_survey",shouldSkip:()=>!1,alignment:$().C.Center,getTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"Welcome to Notion for education",id:"contextualizedOnboarding.educationPersonaSurveyStage.title"}),getSubTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"Tell us about yourself",id:"contextualizedOnboarding.educationPersonaSurveyStage.subtitle"}),onContinue(e,t){var n,o,a;const{educationLevel:i,educationRole:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};v().jS(e,{selection:{userPersona:"student",useCases:[],educationLevel:i,educationRole:s},action:"submit",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})}),null===(a=_().A.state.planTypeAndSurveyInfo)||void 0===a||null===(a=a.surveyResponses)||void 0===a||a.educationRole},isContinueEnabled(e){var t,n,o,a;return"other"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.educationRole)||Boolean(null===(n=e.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.educationRole)&&Boolean(null===(o=e.planTypeAndSurveyInfo)||void 0===o||null===(o=o.surveyResponses)||void 0===o?void 0:o.educationLevel)&&Boolean(null===(a=e.planTypeAndSurveyInfo)||void 0===a||null===(a=a.surveyResponses)||void 0===a?void 0:a.notionUseFrequency)},isBackEnabled:e=>0!==e.joinableSpaces.length,renderStage:()=>(0,P.jsx)(xe,{}),getContinueButtonStyles:()=>({width:300,alignSelf:"center",marginTop:70})};n(672577);var we=()=>n(133033),je=()=>n(426116),Ce=()=>n(859428),Ae=()=>n(842599),ke=()=>n(382055),Ie=()=>n(780054);const Me=(0,y().YK)({disabledSpaceCreationTooltipWithEmailDomain:{id:"contextualizedOnboarding.createSpaceButton.disabledSpaceCreationTooltipWithEmailDomain",defaultMessage:"Workspace creation has been disabled by your organization, {emailDomain}. Please join an existing workspace."},disabledSpaceCreationTooltip:{id:"contextualizedOnboarding.createSpaceButton.disableSpaceCreationTooltip",defaultMessage:"Workspace creation has been disabled by your organization. Please join an existing workspace."}});function Te(e){let{onboardingState:t}=e;const n=(0,y().tz)(),{onboardingData:a,flowName:s,currentStageIndex:l}=t;if(!a)throw new Error("onboardingData is not available");const c=(0,d().v3)(),g=(0,u().K8)((()=>a.userStore.getEmail()),[a.userStore]),p=a.canUserCreateSpace;(0,o.useEffect)((()=>{ke().FX(c,{can_user_create_space:p,is_new_user:0===(0,i().R)(r().default.state.currentUserRootStore),has_joinable_spaces:!0,onboarding_stage:(0,T().getStageName)({flowName:s,stageIndex:l,environment:c})})}),[c,p,s,l]);const m=g?(0,Ae().zN)(g):void 0;return p?(0,P.jsx)(_e,{onboardingState:t,canUserCreateSpace:p}):(0,P.jsx)(Ce().A,{delayThreshold:0,renderTooltip:()=>m?n.formatMessage(Me.disabledSpaceCreationTooltipWithEmailDomain,{emailDomain:m}):n.formatMessage(Me.disabledSpaceCreationTooltip),render:e=>(0,P.jsx)(_e,{onboardingState:t,canUserCreateSpace:p,tooltipEvents:e})})}function _e(e){const t=(0,d().v3)(),n=Ie().A.isMobile,{canUserCreateSpace:o,tooltipEvents:a,onboardingState:i}=e;return(0,P.jsx)(C().A,{style:{marginTop:4,display:"flex",borderRadius:n?12:8,fontSize:n?17:14,height:n?48:36,fontWeight:me().Wy.semibold,marginBottom:n?0:24},size:"lg",onClick:async()=>await(0,M().goToNextStage)({environment:t,onboardingState:i}),disabled:!o,...a,children:(0,P.jsx)(y().sA,{defaultMessage:"Create workspace",id:"contextualizedOnboarding.createSpaceButton.label"})})}var Pe=()=>n(96689),Ne=()=>n(704152),Be=()=>n(187820);function Re(e){let{result:t,eligible:n,onClick:o}=e;const a=ye(n);return(0,P.jsx)(Ne().A,{disabled:!n,style:a.wrapper,hoveredStyle:{background:"rgba(55, 53, 47, 0.03)"},pressedStyle:{background:"rgba(55, 53, 47, 0.06)"},onClick:o,children:(0,P.jsx)(De,{result:t,eligible:n})})}function De(e){let{result:t,eligible:n}=e;const o=ye(n);return(0,P.jsx)("div",{style:o.card,children:(0,P.jsxs)("div",{style:o.content,children:[(0,P.jsxs)("div",{style:o.workspaceInformation,children:[(0,P.jsx)(Be().B6,{disabled:!0,bucket:"public",icon:Oe(t),iconRecordCategory:"workspace",isEmptyPage:!1,title:t.name,size:32,style:{borderRadius:6,fontSize:me().J.UISmall.desktop,fontWeight:me().Wy.light},iconBoxStyles:{borderRadius:6},placeholderStyle:{fontWeight:500}}),(0,P.jsxs)("div",{style:o.textContainer,children:[(0,P.jsx)("div",{style:o.workspaceName,children:(0,P.jsx)(y().sA,{defaultMessage:"{workspaceName}",id:"workspaceEligibility.eligibleWorkspaceButton.label",values:{workspaceName:t.name}})}),(0,P.jsx)("div",{style:o.memberCountLabel,children:(0,P.jsx)(y().sA,{defaultMessage:"{memberCount, plural, one {{memberCount} member} other {{memberCount} members}}",id:"workspaceEligibility.eligibleWorkspaceButton.memberCount.label",values:{memberCount:t.totalMemberCount||1}})})]})]}),n&&(0,P.jsx)(ze,{})]})})}function ze(e){let{}=e;const t=(0,c().IS)((e=>({label:{marginTop:8,marginRight:8,color:e.text.uiBluePrimary}})),[]);return(0,P.jsx)("div",{children:(0,P.jsx)("span",{style:t.label,children:(0,P.jsx)(y().sA,{defaultMessage:"Select",id:"offerEligibilityWorkspaceChoose.selectWorkspaceButton.label"})})})}function Oe(e){if(e.id&&e.icon)return{pointer:{table:Pe().NX,id:e.id},icon:e.icon}}function We(e){let{onboardingState:t}=e;const{onboardingData:n}=t;if(!n)throw new Error("onboardingData is not available");if("partner_program_onboarding_flow"!==t.flowName)throw new Error("Offer eligibility is only for partner program onboarding flows");const{eligibleWorkspaces:o,ineligibleWorkspaces:a}=t;return(0,P.jsxs)("div",{style:{width:406,alignSelf:"center",marginTop:20},children:[(0,P.jsxs)("div",{style:{marginBottom:24},children:[(0,P.jsx)(Ee,{workspacesWithEligibility:o,eligible:!0}),(0,P.jsx)(Ee,{workspacesWithEligibility:a,eligible:!1})]}),(0,P.jsx)(Te,{onboardingState:t})]})}function Ee(e){let{workspacesWithEligibility:t,eligible:n}=e;const a=ye(n),i=(0,d().v3)(),s=(0,o.useCallback)((async e=>{await async function(e){const{environment:t,spaceId:n}=e;if("partner_program_onboarding_flow"!==_().A.state.flowName)throw new Error("Offer eligibility is only for partner program onboarding flows");_().A.setState({..._().A.state,selectedEligibleWorkspaceId:n});const{currentUserRootStore:o}=r().default.state;if(!o)throw new Error("currentUserRootStore is not available at offer eligibility workspace choose stage");const a=o.getSpaceViewStores().find((e=>{var t;return(null===(t=e.getSpaceStore())||void 0===t?void 0:t.id)===n}));if(!a)throw new Error(`No space view store found for space ID for redeeming offer: ${n}`);await je().yV({environment:t,spaceViewStore:a,isNewlyCreatedSpace:!1,leavingSpace:!1}),await _().A.goToNextStage(t)}({environment:i,spaceId:e})}),[i]);return 0===t.length?null:(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{style:{marginBottom:8},children:(0,P.jsx)("div",{style:a.sectionLabel,children:n?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(y().sA,{defaultMessage:"Eligible workspaces",id:"offerEligibilityWorkspaceChoose.eligibleWorkspaces.label"}),(0,P.jsx)(Ce().A,{renderTooltip:()=>(0,P.jsx)(y().sA,{defaultMessage:"Your free workspaces with one member only",id:"offerEligibilityWorkspaceChoose.eligibleWorkspaces.helpIcon.description"}),render:e=>(0,P.jsx)("div",{...e,children:(0,we().$)(a.helpIcon)}),placement:$().W.Top,alignment:$().C.Center})]}):(0,P.jsx)(y().sA,{defaultMessage:"Ineligible workspaces",id:"offerEligibilityWorkspaceChoose.ineligibleWorkspaces.label"})})}),t.map(((e,t)=>(0,P.jsx)(Re,{result:e,eligible:n,onClick:async()=>{await s(e.id)}},e.id)))]})}const Le={stageName:"offer_eligibility_workspace_choose",shouldSkip:e=>"partner_program_onboarding_flow"!==e.flowName||0===e.eligibleWorkspaces.length&&0===e.ineligibleWorkspaces.length,getTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"Select or create a workspace",id:"offerEligibilityWorkspaceChoose.stage.title"}),getSubTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"Your offer will be applied only to that workspace",id:"offerEligibilityWorkspaceChoose.stage.subtitle"}),isContinueEnabled:()=>!0,isBackEnabled:()=>!0,stageStyles:{flexDirection:"column",marginTop:100,justifyContent:"start"},renderStage:e=>(0,P.jsx)(We,{onboardingState:e}),onContinue(e,t){if("partner_program_onboarding_flow"!==t.flowName)throw new Error("Offer eligibility is only for partner program onboarding flows");const n={...t,selectedEligibleWorkspaceId:void 0};_().A.setState(n),v().Fv(e,(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:n,environment:e,spaceJoinOrCreate:"create"}))},alignment:$().C.Center,headerStyles:{textAlign:"center"},getDesktopContinueButtonOverride:()=>(0,P.jsx)("div",{})};var Fe=()=>n(47373);n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698);const qe={todos:{title:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.category.question.todos",defaultMessage:"To-do list"}),iconName:"list"},projectsTasks:{title:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.category.question.projectsTasks",defaultMessage:"Project tracking"}),iconName:"checklist"},habitWellness:{title:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.category.question.habitWellness",defaultMessage:"Habit tracking"}),iconName:"checkmark-line"},budgetPersonalFinance:{title:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.category.question.budgetPersonalFinance",defaultMessage:"Personal finance"}),iconName:"currency-coin"},travel:{title:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.category.question.travel",defaultMessage:"Travel"}),iconName:"airplane"},hobbies:{title:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.category.question.hobbies",defaultMessage:"Hobbies"}),iconName:"baseball"},careerBuilding:{title:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.category.question.careerBuilding",defaultMessage:"Career building"}),iconName:"briefcase"},foodNutrition:{title:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.category.question.foodNutrition",defaultMessage:"Food & nutrition"}),iconName:"apple"},websiteBuildingForLife:{title:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.category.question.websiteBuildingForLife",defaultMessage:"Site or blog"}),iconName:"laptop"},entertainment:{title:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.category.question.entertainment",defaultMessage:"Books and media"}),iconName:"tv"}},Ue={planner:{title:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.category.question.planner",defaultMessage:"Planner"}),iconName:"calendar"},notes:{title:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.category.question.notes",defaultMessage:"Notes"}),iconName:"official-document"},research:{title:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.category.question.research",defaultMessage:"Research"}),iconName:"graduate"},clubs:{title:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.category.question.clubs",defaultMessage:"Clubs and organizations"}),iconName:"people"},teachingLessonPlans:{title:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.category.question.teachingLessonPlans",defaultMessage:"Lesson plans"}),iconName:"bookmark"},teachingClassroomManagement:{title:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.category.question.teachingClassroomManagement",defaultMessage:"Classroom management"}),iconName:"apple"},websiteBuildingForSchool:{title:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.category.question.websiteBuildingForSchool",defaultMessage:"Site or blog"}),iconName:"laptop"},internshipApplications:{title:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.category.question.internshipApplications",defaultMessage:"Job applications"}),iconName:"binoculars"},groupProjects:{title:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.category.question.groupProjects",defaultMessage:"Group projects"}),iconName:"meeting"}};function Ve(){const e=(0,u().K8)((()=>_().A.state),[]);return(0,P.jsx)(Ge,{onboardingState:e,isMobile:!1})}function He(){const e=(0,u().K8)((()=>_().A.state),[]);return(0,P.jsx)(Ge,{onboardingState:e,isMobile:!0})}function Ke(e){let{onboardingState:t}=e;const n=(0,c().DP)(),o=(0,d().v3)(),{device:a}=o;return(0,P.jsx)(S().p,{size:"lg",onClick:async()=>await async function(e,t){var n;const{userPersona:o,userRole:a,useCases:i}=(null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};await(0,M().skipStage)({environment:t,onboardingState:e,skipStageAnalytic:()=>{var n;v().jS(t,{selection:{userPersona:o,userRole:a,useCases:i??[]},action:"skip",plan_selection:null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.planType,...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:e,environment:t})})}})}(t,o),style:{width:"100%",justifyContent:"center",color:n.text.tertiary,marginTop:8,height:a.isMobile?44:32},children:(0,P.jsx)(y().sA,{defaultMessage:"Skip for now",id:"onboardingSurvey.cancelButton.labelV2"})})}function Ge(e){var t,n;const{onboardingState:o,isMobile:a}=e,i=(0,d().v3)(),s=(0,te().Nx)(i.currentUser.id),{planSelection:r,categories:l}=(0,u().K8)((()=>{var e,t;return{planSelection:null===(e=o.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType,categories:(null===(t=o.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.categories)??[]}}),[null===(t=o.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType,null===(n=o.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.categories]),c=("school"===r?Object.entries(Ue):Object.entries(qe)).sort((()=>s()-.5)),g=(0,u().K8)((()=>"school"===r?l.filter((e=>Z().gb.includes(e))).length:l.filter((e=>Z()._N.includes(e))).length),[l,r]);return a?(0,P.jsx)("div",{style:{marginBottom:32,marginTop:12},children:(0,P.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"},children:c.map((e=>{let[t,n]=e;return(0,P.jsx)(Qe,{iconName:n.iconName,onboardingState:o,title:n.title,categoryName:t,isMobile:a},t)}))})}):(0,P.jsx)("div",{style:{display:"flex"},children:(0,P.jsxs)("div",{style:{width:406,alignSelf:"center"},children:[(0,P.jsx)(X().A,{style:{fontSize:12,fontWeight:me().Wy.semibold,color:"#888783"},children:(0,P.jsx)(y().sA,{defaultMessage:"{selected_number} selected",id:"onboardingSurvey.categoryPicker.selected.label",values:{selected_number:g}})}),(0,P.jsx)("div",{style:{display:"flex",flexWrap:"wrap",boxSizing:"border-box"},children:c.map((e=>{let[t,n]=e;return(0,P.jsx)(Qe,{iconName:n.iconName,onboardingState:o,title:n.title,categoryName:t,isMobile:a},t)}))})]})})}function Je(){const e=(0,c().IS)((e=>({rightFigureStyle:{justifyContent:"flex-end",alignItems:"flex-end",display:"flex",background:e.surface.wash,position:"absolute",bottom:0},titleStyle:{color:e.text.primary,fontSize:22,fontWeight:me().Wy.semibold,marginLeft:8,textAlign:"left"},subtitleStyle:{padding:0,margin:0,fontSize:22,fontWeight:me().Wy.semibold,marginLeft:8,marginBottom:30,textAlign:"left",color:e.text.primary},largeWindowStyle:{height:"85%",width:"auto",objectFit:"cover",objectPosition:"left",maxHeight:"100%",maxWidth:"100%",overflow:"hidden"},smallerWindowStyle:{maxHeight:"85%",maxWidth:"85%"}})),[]),t=window.innerWidth>1600,n="dark"===(0,c().eP)();return(0,P.jsx)("div",{style:e.rightFigureStyle,children:(0,P.jsx)("img",{src:t?n?g().A.images.onboarding.categoryPickerLargeDarkmodePng:g().A.images.onboarding.categoryPickerLargeLightmodePng:g().A.images.onboarding.categoryPickerSmallPng,style:t?e.largeWindowStyle:e.smallerWindowStyle})})}function Qe(e){var t;const{categoryName:n,iconName:o,onboardingState:a,title:i,isMobile:s}=e,r=(0,d().v3)(),l=(0,u().K8)((()=>{var e;const{categories:t}=(null===(e=a.planTypeAndSurveyInfo)||void 0===e?void 0:e.surveyResponses)??{};return(t??[]).includes(n)}),[n,null===(t=a.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses]),g=`/icons/${o}_${l?"gray":"lightgray"}.svg`,p=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,c().IS)((n=>({icon:{marginRight:8,color:e?n.icon.primary:n.icon.secondary,...t&&{position:"absolute",left:16,top:16,margin:0}},button:{height:t?104:40,borderRadius:t?12:8,margin:"6px 8px 6px 0px",borderColor:n.stroke.primary,color:n.text.secondary,paddingLeft:12,paddingRight:16,...e&&{color:n.text.primary,background:n.surface.elevated,borderColor:n.stroke.uiBluePrimary,outline:`1px solid ${n.stroke.uiBluePrimary}`},...t&&{position:"relative",margin:8}},categoryTitle:{...t&&{position:"absolute",bottom:12,left:16,overflowWrap:"break-word",whiteSpace:"normal",fontSize:16,fontWeight:me().Wy.regular,color:e?n.text.primary:n.text.secondary,width:"calc(100% - 24px)"}}})),[e,t])}(l,s);return(0,P.jsx)(W().A,{size:"lg",iconLeading:()=>(0,P.jsx)(O().A,{type:"notion_icon",size:24,icon:g,largeIcon:!0,style:p.icon}),style:p.button,onClick:()=>function(e,t,n){var o,a;const{categories:i}=(null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses)??{},s=new Set(i??[]);s.has(n)?s.delete(n):s.add(n),_().A.setState({...t,planTypeAndSurveyInfo:{...t.planTypeAndSurveyInfo,surveyResponses:{...null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.surveyResponses,categories:Array.from(s)}}}),v().JE(e,{...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e}),categories:Array.from(s)})}(r,a,n),children:(0,P.jsx)("div",{style:p.categoryTitle,children:i})})}var $e=()=>n(496603),Ye=()=>n(616385),Ze=()=>n(913454),Xe=()=>n(536095),et=()=>n(669647),tt=()=>n(313127),nt=()=>n(115512);const ot={docs:{title:(0,P.jsx)(y().sA,{id:"teamOnboarding.useCase.docs.title",defaultMessage:"Docs"}),description:(0,P.jsx)(y().sA,{id:"teamOnboarding.useCase.docs.description",defaultMessage:"Create and collaborate on documents"}),icon:n(967980).Q},wikis:{title:(0,P.jsx)(y().sA,{id:"teamOnboarding.useCase.wikis.title",defaultMessage:"Wikis"}),description:(0,P.jsx)(y().sA,{id:"teamOnboarding.useCase.wikis.description",defaultMessage:"Build a central hub for your team's knowledge"}),icon:n(844596).C},notes:{title:(0,P.jsx)(y().sA,{id:"teamOnboarding.useCase.notes.title",defaultMessage:"Meetings"}),description:(0,P.jsx)(y().sA,{id:"teamOnboarding.useCase.notes.description",defaultMessage:"Take and organize your meeting notes and ideas"}),icon:n(18690).a},project:{title:(0,P.jsx)(y().sA,{id:"teamOnboarding.useCase.project.title",defaultMessage:"Projects"}),description:(0,P.jsx)(y().sA,{id:"teamOnboarding.useCase.project.description",defaultMessage:"Plan, track, and manage projects and tasks"}),icon:n(112710).a},goals:{title:(0,P.jsx)(y().sA,{id:"teamOnboarding.useCase.goals.title",defaultMessage:"Goals"}),description:(0,P.jsx)(y().sA,{id:"teamOnboarding.useCase.goals.description",defaultMessage:"Set and track goals and milestones"}),icon:n(310600).M},ai:{title:(0,P.jsx)(y().sA,{id:"teamOnboarding.useCase.ai.title",defaultMessage:"Notion AI"}),description:(0,P.jsx)(y().sA,{id:"teamOnboarding.useCase.ai.description",defaultMessage:"Use AI to help write, brainstorm, and analyze"}),icon:n(654601).X},other:{title:(0,P.jsx)(y().sA,{id:"teamOnboarding.useCase.other.title",defaultMessage:"Other"}),description:(0,P.jsx)(y().sA,{id:"teamOnboarding.useCase.other.description",defaultMessage:"Use Notion for something else"}),icon:n(426388).S}},at=["project","goals","docs","wikis","notes","ai"],it=6;function st(){var e,t;const n=(0,d().v3)(),a=(0,u().K8)((()=>_().A.state),[]),i=(0,c().IS)((e=>({wrapper:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:12}})),[]),s=(0,u().K8)((()=>(0,T().isWorkflowTemplatesEnabledForOnboarding)(n)),[n]),r=(0,u().K8)((()=>{var e;return function(e){let{persona:t}=e,n=[];(0,z().Xk)(et().hx,t)&&(n=(0,Xe().Qf)({persona:t}));return $e().hS([...n,...at],(e=>{if(ut(e))return e;const t=Ze().globalWorkflowTemplates.fromIdOfType({type:"collection",templateId:e});return t.category?Ze().useCaseByCollectionTemplateCategory[t.category]:e})).slice(0,it)}({persona:null===(e=a.planTypeAndSurveyInfo)||void 0===e||null===(e=e.surveyResponses)||void 0===e?void 0:e.userPersona})}),[null===(e=a.planTypeAndSurveyInfo)||void 0===e||null===(e=e.surveyResponses)||void 0===e?void 0:e.userPersona]);(0,o.useEffect)((()=>{_().A.update((e=>{var t;return{...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses,useCases:[]}},selectedWorkflowTemplateIds:[]}}))}),[r]);const l=(0,u().K8)((()=>{var e;return(null===(e=a.planTypeAndSurveyInfo)||void 0===e||null===(e=e.surveyResponses)||void 0===e?void 0:e.useCases)??[]}),[null===(t=a.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.useCases]),g=(0,u().K8)((()=>a.selectedWorkflowTemplateIds??[]),[a.selectedWorkflowTemplateIds]);return(0,P.jsx)("div",{style:i.wrapper,children:r.map((e=>ut(e)?(0,P.jsx)(rt,{useCase:e,isSelected:l.includes(e),onSelectUseCaseItem:()=>{_().A.update((t=>{var n,o;const a=(null===(n=t.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.useCases)??[];let i=[];return i=a.includes(e)?a.filter((t=>t!==e)):[...a,e],{...t,planTypeAndSurveyInfo:{...t.planTypeAndSurveyInfo,surveyResponses:{...null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses,useCases:i}}}}))},shouldUseWorkflowTemplateMetadata:s&&"wikis"!==e},e):(0,P.jsx)(lt,{workflowTemplateId:e,isSelected:g.includes(e),onSelect:()=>{_().A.update((t=>{const n=t.selectedWorkflowTemplateIds??[];let o=[];return o=n.includes(e)?n.filter((t=>t!==e)):[...n,e],{...t,selectedWorkflowTemplateIds:o}}))}},e)))})}function rt(e){let{useCase:t,isSelected:n,onSelectUseCaseItem:o,shouldUseWorkflowTemplateMetadata:a}=e;const i=ot[t],s=(0,c().IS)((e=>({icon:{height:20,width:20}})),[]),{name:r,icon:l,description:d}=(0,u().K8)((()=>{if(a){const e=(0,Ye().getWorkflowTemplateForUseCase)(t);if(e){const t=Ze().globalWorkflowTemplates.fromIdOfType({type:"collection",templateId:e});return{name:t.value.targetCollection.name,icon:(0,P.jsx)("img",{src:t.value.targetCollection.icon,alt:t.value.targetCollection.name,style:s.icon}),description:t.description}}}return{name:i.title,icon:i.icon(s.icon),description:i.description}}),[i,a,s.icon,t]);return(0,P.jsx)(dt,{title:r,description:d,icon:l,isSelected:n,onSelect:o})}function lt(e){let{workflowTemplateId:t,isSelected:n,onSelect:o}=e;const a=(0,u().K8)((()=>Ze().globalWorkflowTemplates.fromIdOfType({type:"collection",templateId:t})),[t]),i=a.description,{name:s,icon:r}=a.value.targetCollection,l=(0,c().IS)((e=>({icon:{height:20,width:20,color:e.text.primary}})),[]);return(0,P.jsx)(dt,{title:s,description:i,icon:(0,P.jsx)("img",{src:r,alt:s,style:l.icon}),isSelected:n,onSelect:o})}function dt(e){let{title:t,description:n,icon:o,isSelected:a,onSelect:i}=e;const s=(0,d().v3)().device.isMobile,r=(0,c().IS)((e=>({button:{display:"flex",flexDirection:"column",position:"relative",gap:6,width:180,padding:16,borderRadius:12,paddingBottom:12,cursor:"pointer",...a&&{background:e.palette.uiBlue[75]},...s&&{width:170}},borderContainer:{position:"absolute",top:0,left:0,right:0,bottom:0,borderRadius:12,border:`1px solid ${e.stroke.secondary}`,...a&&{border:`2px solid ${e.stroke.uiBluePrimary}`}},toggleButtonHoveredStyle:{opacity:1},toggleButtonPressedStyle:{opacity:1},title:{...(0,nt().pA)(2)},description:{height:32,whiteSpace:"normal",width:150,...(0,nt().pA)(2),textOverflow:"ellipsis",...s&&{fontSize:11.5}},tooltip:{width:240},tooltipText:{whiteSpace:"normal"}})),[s,a]);return(0,P.jsx)(Ce().A,{style:r.tooltip,disableTooltip:"string"==typeof n&&n.length<48&&"string"==typeof t&&t.length<48,renderTooltip:()=>(0,P.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:4,width:"100%"},children:[(0,P.jsx)(j().D,{style:r.tooltipText,styleName:"UIRegular-14px/Medium",children:t}),(0,P.jsx)(j().D,{style:r.tooltipText,styleName:"UISmall-12px/Regular",colorName:"secondary",children:n})]}),render:e=>(0,P.jsxs)(Ne().A,{style:r.button,hoveredStyle:r.toggleButtonHoveredStyle,pressedStyle:r.toggleButtonPressedStyle,onClick:()=>i(),...e,children:[(0,P.jsx)("div",{style:r.borderContainer}),o,(0,P.jsx)(X().A,{isMultiline:!0,style:r.title,children:t}),(0,P.jsx)(X().A,{isSecondaryColor:!0,isSmall:!0,style:r.description,children:n})]})})}function ut(e){return(0,z().Xk)(tt().BQ,e)}const ct=(0,y().YK)({spaceNamePlaceHolder:{defaultMessage:"Acme Inc.",id:"workspaceIconAndNamePreview.workspaceName.placeholder"},spaceNameHint:{defaultMessage:"Your workspace",id:"workspaceIconAndNamePreview.workspaceName.placeholderHint"}});function gt(){const e=(0,y().tz)(),t=(0,u().O$)(_().A),n=t.spaceName,o=t.spaceIcon?{pointer:{table:"space",id:"undefined"},icon:t.spaceIcon}:void 0,a=e.formatMessage(ct.spaceNamePlaceHolder),i=e.formatMessage(ct.spaceNameHint),s=(0,c().IS)((e=>({container:{display:"flex",flexDirection:"row",alignItems:"center",paddingLeft:4,paddingRight:4,paddingBottom:4,wordBreak:"break-word",animationName:"fadeIn",animationDuration:"0.7s",animationFillmode:"forwards",animationTimingFunction:"ease-in","@keyframes fadeIn":{"0%":{opacity:0},"100%":{opacity:1}}},recordIconContainer:{marginRight:10},recordIconBox:{borderRadius:8,background:e.tint.regular},recordIconPlaceholder:{lineHeight:"32px",letterSpacing:.208,color:e.text.tertiary,height:"auto",fontSize:16,fontWeight:510}})),[]);return(0,P.jsxs)("div",{style:s.container,children:[(0,P.jsx)("div",{style:s.recordIconContainer,children:(0,P.jsx)(Be().B6,{bucket:"public",disabled:!0,icon:o,isEmptyPage:!1,title:t.spaceName||a,size:32,iconLoggingData:{recordTable:"space",source:"workspace_icon_and_name_preview"},iconBoxStyles:s.recordIconBox,placeholderStyle:s.recordIconPlaceholder})}),(0,P.jsx)(X().A,{isMultiline:!0,isSecondaryColor:!0,children:n||i})]})}function pt(e){let{selectedUseCases:t,selectedWorkflowTemplateIds:n,selectedCategories:o,shouldZoomInOnWorkspaceNameAndIconPreview:a,shouldHideTeamSpacesSection:i,bodyContent:s}=e;const r=(0,d().v3)(),l=(0,y().tz)(),g=(0,c().IS)((e=>({wrapper:{display:"flex",flex:1,overflow:"hidden",zIndex:2,position:"relative",maxWidth:1100,marginRight:-8,transition:"transform 0.3s linear",transformOrigin:"top left",...a&&{transform:"scale(1.2)"}},preview:{display:"flex",flex:1,border:`1px solid ${e.stroke.primary}`,borderRadius:12,backgroundColor:e.surface.wash,width:1200,height:600,...a&&{transition:"opacity 0.3s ease-out",opacity:.7}},sidebar:{width:180,height:400,backgroundColor:e.surface.wash,marginTop:16,padding:8,color:e.text.secondary},pageContent:{padding:"20px 0 20px 20px",display:"flex",flexDirection:"column",flex:1,height:"100%",backgroundColor:e.surface.elevated,borderRadius:"0px 12px 12px 0px",overflowX:"scroll",overflowY:"hidden",minWidth:"calc(600px - 180px)"}})),[a]);t=t.filter((e=>"ai"!==e));const p=l.formatMessage({id:"onboarding.appPreview.placeholderPrivateSectionName",defaultMessage:"Private"}),m=l.formatMessage({id:"onboarding.appPreview.placeholderTeamspacesSectionName",defaultMessage:"Teamspaces"}),f=(0,u().K8)((()=>(0,T().isWorkflowTemplatesEnabledForOnboarding)(r)),[r]),b=[...n??[],...f?(0,Ye().getWorkflowTemplatesForUseCases)(t):[]],v=f?t.includes("wikis")?["wikis"]:[]:t;return(0,P.jsx)("div",{style:g.wrapper,children:(0,P.jsxs)("div",{style:g.preview,children:[(0,P.jsxs)("div",{style:g.sidebar,children:[a?(0,P.jsx)(gt,{}):(0,P.jsx)(bt,{numRows:1}),(0,P.jsx)(bt,{numRows:2}),Boolean(i)?null:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(yt,{title:m,indentPixels:-8,isSmall:!0,icon:null,shouldZoomInOnWorkspaceNameAndIconPreview:a}),(0,P.jsx)(bt,{numRows:1}),v.length>0||b.length>0?(0,P.jsxs)(P.Fragment,{children:[b.map((e=>(0,P.jsx)(ft,{templateId:e,shouldZoomInOnWorkspaceNameAndIconPreview:a},e))),v.map((e=>(0,P.jsx)(yt,{icon:ot[e].icon({height:12,width:12}),title:ot[e].title,indentPixels:8,shouldZoomInOnWorkspaceNameAndIconPreview:a,shouldFadeInRow:!0},e)))]}):(0,P.jsx)(bt,{numRows:2})]}),(0,P.jsx)(yt,{title:p,indentPixels:-8,isSmall:!0,icon:null,shouldZoomInOnWorkspaceNameAndIconPreview:a}),(0,P.jsx)(bt,{numRows:1}),(0,P.jsx)(mt,{selectedCategories:o}),(0,P.jsx)(bt,{numRows:2})]}),(0,P.jsx)("div",{style:g.pageContent,children:(0,P.jsx)(vt,{children:s})})]})})}function mt(e){const{selectedCategories:t}=e,n=(0,u().K8)((()=>{var e;return null===(e=_().A.state.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType}),[]);return(0,P.jsx)(P.Fragment,{children:t.map((e=>{const t="school"===n?$e().Jt(Ue,e):"personal"===n?$e().Jt(qe,e):void 0;if(!t)return;const o=`/icons/${t.iconName}_gray.svg`;return(0,P.jsx)(yt,{title:t.title,iconPath:o,icon:(0,P.jsx)("img",{src:o,alt:"icon"}),indentPixels:8,shouldFadeInRow:!0,useImageBox:!0},e)}))})}function ft(e){let{templateId:t,shouldZoomInOnWorkspaceNameAndIconPreview:n}=e;const o=(0,u().K8)((()=>Ze().globalWorkflowTemplates.fromIdOfType({type:"collection",templateId:t})),[t]),a=(0,c().IS)((()=>({icon:{height:15,width:15}})),[]),{icon:i,name:s}=o.value.targetCollection;return(0,P.jsx)(yt,{icon:(0,P.jsx)("img",{src:i,style:a.icon}),title:s,indentPixels:8,shouldZoomInOnWorkspaceNameAndIconPreview:n,shouldFadeInRow:!0},t)}function yt(e){let{icon:t,iconPath:n,title:o,indentPixels:a,isSmall:i,shouldZoomInOnWorkspaceNameAndIconPreview:s,shouldFadeInRow:r,useImageBox:l}=e;const d=(0,c().IS)((e=>({sidebarRow:{height:30,paddingTop:4,paddingBottom:4,paddingLeft:8+(a??0),paddingRight:8,display:"flex",alignItems:"center",justifyContent:"flex-start",...s&&{opacity:.4,transition:"opacity 1s ease-out"},...r&&{animationName:"fadeIn",animationDuration:"0.3s",animationFillmode:"forwards",animationTimingFunction:"ease-in","@keyframes fadeIn":{"0%":{opacity:0},"100%":{opacity:1}}}},sidebarIcon:{},sidebarTitle:{width:"100%",marginLeft:8,fontSize:i?12:14,fontWeight:i?me().Wy.regular:me().Wy.medium,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}})),[a,i,s,r]),u=l&&n?(0,P.jsx)(O().A,{type:"notion_icon",size:15,icon:n,largeIcon:!1}):t;return(0,P.jsxs)("div",{style:d.sidebarRow,children:[(0,P.jsx)("div",{style:d.sidebarIcon,children:u}),(0,P.jsx)("div",{style:d.sidebarTitle,children:o})]})}function bt(e){let{numRows:t=3}=e;const n=(0,c().IS)((e=>({skeletonPageIcon:{width:12,height:12,borderRadius:"50%",background:e.cardPressedBackground},skeletonPageTitle:{background:e.cardPressedBackground,borderRadius:12,height:12}})),[]),o=["60%","25%","75%"].map(((e,t)=>(0,P.jsx)(yt,{icon:(0,P.jsx)("div",{style:n.skeletonPageIcon}),title:(0,P.jsx)("div",{style:{...n.skeletonPageTitle,width:e}})},t))).slice(0,t);return(0,P.jsx)("div",{children:o})}function vt(e){const t=(0,c().IS)((e=>({smallPlaceholder:{borderRadius:12,background:e.cardPressedBackground,height:12,width:40},circlePlaceholder:{borderRadius:12,background:e.cardPressedBackground,height:12,width:12},largePlaceholder:{background:e.cardPressedBackground,borderRadius:12,height:12,width:120},pagePreviewHead:{display:"flex",justifyContent:"space-between"},pagePreviewBody:{height:"100%",display:"flex",flexDirection:"column",gap:16,position:"relative"}})),[]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{style:t.pagePreviewHead,children:[(0,P.jsxs)("div",{style:{display:"flex",gap:16},children:[(0,P.jsx)("div",{style:t.circlePlaceholder}),(0,P.jsx)("div",{style:t.largePlaceholder})]}),(0,P.jsxs)("div",{style:{display:"flex",gap:12,marginRight:24},children:[(0,P.jsx)("div",{style:t.smallPlaceholder}),(0,P.jsx)("div",{style:t.smallPlaceholder}),(0,P.jsx)("div",{style:t.smallPlaceholder})]})]}),(0,P.jsx)("div",{style:t.pagePreviewBody,children:e.children})]})}const ht={stageName:"onboarding_category_survey",shouldSkip(e){if("partner_program_onboarding_flow"===e.flowName&&Boolean(e.selectedEligibleWorkspaceId))return!0;const t=e.planTypeAndSurveyInfo;return"team"===(null==t?void 0:t.planType)},getTitle:(e,t)=>(0,P.jsx)("div",{style:{width:406,textAlign:"left"},children:(0,P.jsx)(y().sA,{defaultMessage:"Whats on your mind?",id:"onboardingSurvey.categoryPicker.title.desktop"})}),getSubTitle:(e,t)=>(0,P.jsx)(y().sA,{defaultMessage:"Select as many as you want.",id:"onboardingSurvey.categoryPicker.subtitle.mobile"}),isContinueEnabled:e=>!0,isBackEnabled:e=>!0,async onContinue(e,t){var n,o,a;const{userPersona:i,userRole:s,useCases:r}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};v().jS(e,{selection:{userPersona:i,userRole:s,useCases:r??[]},action:"submit",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})});("multiplayer"===(null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.collaborativeIntent)||"partner_program_onboarding_flow"===t.flowName)&&await(0,I().createSpaceAndSetSpaceId)({onboardingState:t,environment:e})},onBack(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};v().jS(e,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"back",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},renderContentUnderContinueButton:(e,t)=>(0,P.jsx)(Ke,{onboardingState:e}),renderStage:()=>(0,P.jsx)(Ve,{}),renderRightContent(e){if((0,Fe().ml)()){var t;const n=(null===(t=e.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.categories)||[];return(0,P.jsx)(pt,{selectedUseCases:[],selectedWorkflowTemplateIds:[],selectedCategories:n,shouldHideTeamSpacesSection:!0})}return(0,P.jsx)(Je,{})},shouldShowSkipButton:()=>!1,getContinueButtonLabel:()=>(0,P.jsx)(y().sA,{defaultMessage:"Continue",id:"contextualizedOnboarding.continueButton.label"})},xt={stageName:"mobile_onboarding_category_survey",shouldSkip:T().shouldSkipStageTeamOnly,estimateWillSkip:T().estimateWillSkipTeamOnly,getTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"Select as many as you want.",id:"onboardingSurvey.categoryPicker.subtitle.mobile"}),getSubTitle:(e,t)=>(0,P.jsx)(y().sA,{defaultMessage:"What are some areas of interest?",id:"onboardingSurvey.categoryPicker.title.mobile"}),headerStyles:{fontSize:22,fontFamily:me().xf({locale:n(662303).locale}),textAlign:"left",lineHeight:1.28,fontWeight:590,color:"none",marginBottom:8},isContinueEnabled(e){var t;return Boolean(null==e||null===(t=e.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t||null===(t=t.categories)||void 0===t?void 0:t.length)},shouldHideMobileBottomContent(e){var t;return!(null!=e&&null!==(t=e.planTypeAndSurveyInfo)&&void 0!==t&&null!==(t=t.surveyResponses)&&void 0!==t&&null!==(t=t.categories)&&void 0!==t&&t.length)},isBackEnabled:e=>!0,async onContinue(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};v().jS(e,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"submit",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})}),await(0,I().createSpaceAndSetSpaceId)({onboardingState:t,environment:e})},onBack(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};v().jS(e,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"back",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},renderStage:()=>(0,P.jsx)(He,{}),shouldShowSkipButton:()=>!0};var St=()=>n(857639),wt=()=>n(38337);function jt(){var e;const t=(0,u().O$)(_().A),n=null===(e=t.planTypeAndSurveyInfo)||void 0===e?void 0:e.collaborativeIntent;return(0,P.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:28},children:(0,P.jsx)(Ct,{onboardingState:t,collaborativeIntent:n})})}function Ct(e){var t;const{collaborativeIntent:n,onboardingState:o,isSmallMobileScreen:a}=e,i=(0,d().v3)(),s=function(e,t){return[{collaborativeIntent:"multiplayer",illustrationPath:e?g().A.images.onboarding.multiplayerIntentDarkmodePng:g().A.images.onboarding.multiplayerIntentLightmodePng,getTitle:()=>"team"===t?(0,P.jsx)(y().sA,{defaultMessage:"With my team",id:"onboardingCollaborativeIntentChoose.multiplayer.title.team"}):(0,P.jsx)(y().sA,{defaultMessage:"With others",id:"onboardingCollaborativeIntentChoose.multiplayer.title"}),getSubtitle:()=>{switch(t){case"team":return(0,P.jsx)(y().sA,{defaultMessage:"Track projects, company goals, meeting notes",id:"onboardingCollaborativeIntentChoose.multiplayer.subtitle.team"});case"personal":return(0,P.jsx)(y().sA,{defaultMessage:"Plan travel, household chores, group activities",id:"onboardingCollaborativeIntentChoose.multiplayer.subtitle.personal"});case"school":return(0,P.jsx)(y().sA,{defaultMessage:"Manage clubs, group projects, side projects",id:"onboardingCollaborativeIntentChoose.multiplayer.subtitle.school"});default:throw new Error("Unknown plan type")}}},{collaborativeIntent:"singleplayer",illustrationPath:e?g().A.images.onboarding.singleplayerIntentDarkmodePng:g().A.images.onboarding.singleplayerIntentLightmodePng,getTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"On my own",id:"onboardingCollaborativeIntentChoose.singleplayer.title"}),getSubtitle:()=>{switch(t){case"team":return(0,P.jsx)(y().sA,{defaultMessage:"Manage personal tasks, write docs, stay organized",id:"onboardingCollaborativeIntentChoose.singleplayer.subtitle.team"});case"personal":return(0,P.jsx)(y().sA,{defaultMessage:"Manage expenses, track hobbies, stay organized",id:"onboardingCollaborativeIntentChoose.singleplayer.subtitle.personal"});case"school":return(0,P.jsx)(y().sA,{defaultMessage:"Track assignments, apply to jobs, stay organized",id:"onboardingCollaborativeIntentChoose.singleplayer.subtitle.school"});default:throw new Error("Unknown plan type")}}}]}("dark"===(0,c().eP)(),null===(t=o.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType),r=!n;return(0,P.jsx)("div",{style:kt(i),children:s.map(((e,t)=>(0,P.jsx)(At,{selectedCollaborativeIntent:n,buttonClassName:wt().OX4,isSmallMobileScreen:a,handleCollaborativeIntentSelect:e=>{const t=function(e){const{onboardingState:t,surveyResponse:n}=e,o={...t,planTypeAndSurveyInfo:{...t.planTypeAndSurveyInfo,collaborativeIntent:n}};return _().A.setState(o),o}({onboardingState:o,surveyResponse:e});r&&(0,M().goToNextStage)({environment:i,onboardingState:t})},...e},t)))})}function At(e){const{handleCollaborativeIntentSelect:t,selectedCollaborativeIntent:n,collaborativeIntent:o,illustrationPath:a,buttonClassName:i,getTitle:s,getSubtitle:r,isSmallMobileScreen:l}=e,u=(0,d().v3)(),g=function(e){const{isMobile:t,isSelected:n}=e;return(0,c().IS)((e=>({toggleButtonStyle:{alignItems:"center",justifyContent:"center",whiteSpace:"normal",borderRadius:12,fontSize:14,lineHeight:1.2,position:"relative",transition:"all 200ms ease",display:"flex",flexDirection:t?"row":"column",padding:20,marginTop:20,boxShadow:`${e.outlineButtonBorder} 0 0 0 1px, rgba(167, 167, 167, 0.25) 0px 1px 2px`,...n?{boxShadow:`${ne().Ay.blue} 0 0 0 2px, rgba(182, 182, 182, 0.25) 0px 8px 12px`}:{opacity:.7},height:100,...t&&{minHeight:110},...!t&&{width:172,height:200,textAlign:"center",margin:"0px 10px"}},toggleButtonHoveredStyle:{opacity:1},toggleButtonPressedStyle:{opacity:1},buttonIllustrationWrapperStyle:{marginTop:8,height:60,width:90,...t&&{textAlign:"center",width:85,height:57,marginRight:8}},buttonHeadingStyle:{fontWeight:me().Wy.medium,fontSize:t?16:14,marginTop:t?10:17,color:e.text.primary},buttonSubheadingStyle:{color:e.text.secondary,fontWeight:me().Wy.regular,fontSize:14,lineHeight:1.4,transition:"all 200ms ease",marginTop:4,marginBottom:8,display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:3,overflow:"hidden"},imageWrapStyle:{position:"absolute",bottom:-40,left:89}})),[t,n])}({isMobile:u.device.isMobile,isSelected:o===n,isSmallMobileScreen:l});return(0,P.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,P.jsxs)(Ne().A,{style:g.toggleButtonStyle,hoveredStyle:g.toggleButtonHoveredStyle,pressedStyle:g.toggleButtonPressedStyle,onClick:()=>t(o),className:i,children:[(0,P.jsx)("div",{style:g.buttonIllustrationWrapperStyle,children:(0,P.jsx)("img",{src:a,style:{height:"100%",...u.device.isMobile?{height:48}:{}}})}),(0,P.jsxs)("main",{children:[(0,P.jsx)("header",{style:g.buttonHeadingStyle,children:s()}),(0,P.jsx)("p",{style:g.buttonSubheadingStyle,children:r()})]})]})})}function kt(e){return{...e.device.isMobile?{marginTop:0,marginBottom:32}:{marginTop:"10px",marginBottom:"32px"},display:e.device.isMobile?void 0:"inline-flex",width:"100%",justifyContent:"center"}}var It=()=>n(73332);function Mt(e){let{onboardingState:t}=e;const n=(0,c().DP)(),o=(0,d().v3)(),{device:a}=o,i=(0,u().K8)((()=>{var e,n;if(t.onboardingData)return s().qg({userStore:null===(e=t.onboardingData)||void 0===e?void 0:e.userStore,isUserDomainJoinable:null===(n=t.onboardingData)||void 0===n?void 0:n.isUserDomainJoinable})}),[t]);return Boolean(i)?(0,P.jsxs)("div",{style:{...s().ZP,display:"flex",...a.isMobile?{textAlign:"left",justifyContent:"center"}:{alignItems:"center"},...a.isMobile?{marginBottom:16}:{marginTop:16}},children:[(0,P.jsx)("div",{style:{marginRight:10,paddingLeft:6,paddingTop:a.isMobile?2:1},children:(0,P.jsx)(It().T,{checked:Boolean(t.optInAutoJoin),onClick:()=>{_().A.setState({...t,optInAutoJoin:!t.optInAutoJoin})},size:16,style:{borderRadius:2}})}),(0,P.jsx)("div",{onClick:()=>{_().A.setState({...t,optInAutoJoin:!t.optInAutoJoin})},style:{...s().pk(n),fontSize:12},role:"presentation",children:a.isMobile?(0,P.jsx)(y().sA,{defaultMessage:"Anyone with an email at {emailDomain} can join",id:"contextualizedOnboarding.emailDomainAutoJoinCheckbox.mobile.label",values:{emailDomain:i}}):(0,P.jsx)(y().sA,{defaultMessage:"Anyone with a @{emailDomain} email can join your workspace",id:"contextualizedOnboarding.emailDomainAutoJoinCheckbox.label",values:{emailDomain:i}})})]}):null}const Tt={stageName:"onboarding_collaborative_intent_choose",shouldSkip:e=>!("partner_program_onboarding_flow"!==e.flowName||!Boolean(e.selectedEligibleWorkspaceId)),getTitle(e){var t;return"team"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)?(0,P.jsx)(y().sA,{defaultMessage:"Welcome to Notion for work",id:"onboardingCollaborativeIntentChoose.step.team.title"}):(0,P.jsx)(y().sA,{defaultMessage:"How do you want to use Notion?",id:"onboardingCollaborativeIntentChoose.step.title"})},getSubTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"This helps customize your experience",id:"onboardingCollaborativeIntentChoose.step.subtitle"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)},async onContinue(e,t){var n;"performance_marketing_term_onboarding"!==t.flowName||t.spaceId||await(0,I().createSpaceAndSetSpaceId)({onboardingState:t,environment:e});void 0!==(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.collaborativeIntent)||St().log({level:"error",from:"OnboardingWorkspaceCollaborativeIntentChoose",type:"unexpectedValue",error:{message:"Unexpected Value: onboardingState.collaborativeIntent is undefined."}})},getContinueButtonStyles:()=>({width:300,height:36,marginTop:64}),isBackEnabled:e=>!0,renderStage:()=>(0,P.jsx)(jt,{}),shouldHideDesktopBottomContent(e){const t=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=t&&t.collaborativeIntent)},renderContentAboveContinueButton(e){var t;if("multiplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent))return(0,P.jsx)(Mt,{onboardingState:e})},headerStyles:{textAlign:"center"},alignment:$().C.Center},_t={stageName:"mobile_onboarding_collaborative_intent_choose",shouldSkip:()=>!1,getTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"How do you want to use Notion?",id:"onboardingCollaborativeIntentChoose.mobile.step.title"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)},onContinue(e,t){var n;void 0!==(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.collaborativeIntent)||St().log({level:"error",from:"OnboardingWorkspaceCollaborativeIntentChoose",type:"unexpectedValue",error:{message:"Unexpected Value: onboardingState.collaborativeIntent is undefined."}})},getContinueButtonStyles:()=>({width:300,height:36,marginTop:64}),isBackEnabled:e=>!0,renderStage:()=>(0,P.jsx)(jt,{}),renderContentAboveContinueButton(e){var t;if("multiplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent))return(0,P.jsx)(Mt,{onboardingState:e})},headerStyles:{textAlign:"center"},alignment:$().C.Center};var Pt=()=>n(340498);const Nt={viewBox:"0 0 16 16",fittedViewBox:"0.09 2.44 15.88 10.87",svg:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("path",{d:"M14.841 3.68a2.995 2.995 0 0 0-4.109 1.03l-4.227 7.06a.625.625 0 0 0 .436.938l3.673.595a.625.625 0 0 0 .2-1.234l-2.764-.448 3.755-6.269a1.746 1.746 0 0 1 3.004.015.625.625 0 1 0 1.08-.63 3 3 0 0 0-1.048-1.058"}),(0,P.jsx)("path",{d:"M12.456 7.984a.848.848 0 1 0 .271-1.675.848.848 0 0 0-.271 1.675M6.292 3.203a2.997 2.997 0 0 1 4.261.272.625.625 0 0 1-.945.818 1.747 1.747 0 0 0-2.483-.159.625.625 0 1 1-.833-.931m1.692 4.056a.848.848 0 1 0 .271-1.675.848.848 0 0 0-.271 1.675M.72 8.708h6.161l-.749 1.25H.72a.625.625 0 1 1 0-1.25m0-2.666h5.59l-.015.084c-.067.415.01.82.194 1.166H.72a.625.625 0 1 1 0-1.25m4.588 5.333H.72a.625.625 0 1 0 0 1.25h4.523c-.122-.412-.1-.853.065-1.25m-.212-6.75a1.87 1.87 0 0 1-.24-1.25H.72a.625.625 0 0 0 0 1.25z"})]})},Bt=(0,Pt().wt)("aiDescriptionSmall",Nt),Rt={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.25",svg:(0,P.jsx)("path",{d:"M9.501 2.391a8 8 0 0 1 .998 0 .625.625 0 0 1-.081 1.247 7 7 0 0 0-.836 0 .625.625 0 0 1-.08-1.247m3.034 1.053a.625.625 0 0 1 .838-.284q.45.222.863.5a.625.625 0 0 1-.695 1.038 6 6 0 0 0-.722-.417.625.625 0 0 1-.284-.837m-5.072 0a.625.625 0 0 1-.284.837q-.375.185-.722.417a.625.625 0 0 1-.695-1.038q.414-.278.863-.5a.625.625 0 0 1 .838.284m8.009 2.147a.625.625 0 0 1 .867.172q.278.414.5.863a.625.625 0 0 1-1.12.554 6 6 0 0 0-.418-.722.625.625 0 0 1 .171-.867m-10.946 0c.287.192.363.58.171.867q-.232.346-.417.722a.625.625 0 1 1-1.12-.554q.221-.45.499-.863a.625.625 0 0 1 .867-.172m12.418 3.327a.625.625 0 0 1 .664.583 8 8 0 0 1 0 .998.625.625 0 0 1-1.248-.081 6 6 0 0 0 0-.836.625.625 0 0 1 .584-.664m-13.89 0c.345.022.606.32.583.664a7 7 0 0 0 0 .836.625.625 0 0 1-1.247.08 8 8 0 0 1 0-.997.625.625 0 0 1 .664-.583m13.501 3.618c.31.153.437.528.284.838q-.222.45-.5.863a.625.625 0 1 1-1.038-.695q.231-.346.417-.722a.625.625 0 0 1 .837-.284m-13.112 0a.625.625 0 0 1 .837.284q.185.375.417.722a.625.625 0 0 1-1.038.695 8 8 0 0 1-.5-.864.625.625 0 0 1 .284-.837m2.147 2.937a.625.625 0 0 1 .867-.171q.346.231.722.417a.625.625 0 1 1-.554 1.12 8 8 0 0 1-.863-.499.625.625 0 0 1-.172-.867m8.818 0a.625.625 0 0 1-.172.867 8 8 0 0 1-.864.5.625.625 0 0 1-.553-1.12q.375-.187.722-.418a.625.625 0 0 1 .867.171m-5.491 1.472a.625.625 0 0 1 .664-.584 6 6 0 0 0 .836 0 .625.625 0 0 1 .08 1.248 8 8 0 0 1-.997 0 .625.625 0 0 1-.583-.664"})},Dt=(0,Pt().wt)("circleDotted",Rt);const zt={viewBox:"0 0 16 16",fittedViewBox:"1.69 3.37 12.61 9.25",directional:!0,svg:(0,P.jsx)("path",{d:"M2.32 3.375a.625.625 0 1 0 0 1.25h11.36a.625.625 0 0 0 0-1.25zm0 2.667a.625.625 0 1 0 0 1.25h7.566a.625.625 0 0 0 0-1.25zm0 2.666a.625.625 0 0 0 0 1.25h11.36a.625.625 0 0 0 0-1.25zm0 2.667a.625.625 0 1 0 0 1.25h7.566a.625.625 0 1 0 0-1.25z"})},Ot=(0,Pt().wt)("textAlignLeftSmall",zt);var Wt=()=>n(84817),Et=()=>n(112799);const Lt=(0,y().YK)({moreReliablePerformance:{id:"onboarding.desktopDownloadPromotion.moreReliablePerformance",defaultMessage:"More reliable performance"},aiMeetingNotes:{id:"onboarding.desktopDownloadPromotion.aiMeetingNotes",defaultMessage:"AI Meeting Notes"},distractionFreeWorkflows:{id:"onboarding.desktopDownloadPromotion.distractionFreeWorkflows",defaultMessage:"Distraction free workflows"},paperAirplaneWithDotsAlt:{id:"onboarding.desktopDownloadPromotion.paperAirplaneWithDots",defaultMessage:"Paper airplane with dots"},mapWithDestinationAlt:{id:"onboarding.desktopDownloadPromotion.mapWithDestination",defaultMessage:"Map with destination"},notionLogoAlt:{id:"onboarding.desktopDownloadPromotion.notionLogo",defaultMessage:"Notion logo"},continueButtonLabel:{id:"onboarding.desktopDownloadStage.continueButtonLabel",defaultMessage:"Install desktop app"},notionLogoLabel:{id:"onboarding.desktopDownloadPromotion.notionLogoLabel",defaultMessage:"Notion logo"}});function Ft(e){let{}=e;const t=(0,c().IS)((e=>({container:{},listContainer:{display:"flex",marginTop:20},list:{display:"flex",flexDirection:"column",gap:10,listStyleType:"none",padding:0,margin:0},listItem:{display:"flex",alignItems:"center",gap:10,color:e.text.secondary}})),[]);return(0,P.jsxs)(Wt().Y1,{direction:"vertical",style:t.container,children:[(0,P.jsx)(qt,{}),(0,P.jsx)("div",{style:t.listContainer,children:(0,P.jsxs)("ul",{style:t.list,children:[(0,P.jsxs)(j().D,{as:"li",style:t.listItem,styleName:"UIRegular-14px/Regular",colorName:"secondary",children:[(0,P.jsx)(w().I,{icon:n(200582).m,color:"secondary"}),(0,P.jsx)(y().sA,{...Lt.moreReliablePerformance})]}),(0,P.jsxs)(j().D,{as:"li",style:t.listItem,styleName:"UIRegular-14px/Regular",colorName:"secondary",children:[(0,P.jsx)(w().I,{icon:n(90244).O,color:"secondary"}),(0,P.jsx)(y().sA,{...Lt.aiMeetingNotes})]}),(0,P.jsxs)(j().D,{as:"li",colorName:"secondary",style:t.listItem,styleName:"UIRegular-14px/Regular",children:[(0,P.jsx)(w().I,{icon:Dt,color:"secondary"}),(0,P.jsx)(y().sA,{...Lt.distractionFreeWorkflows})]})]})})]})}function qt(){const e=(0,y().tz)(),t=(0,c().IS)((()=>({imageGroupContainer:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:120,margin:"40px 0 60px 0",gap:16},imageBackground:{width:"100%",height:"100%",maxWidth:290,display:"flex",justifyContent:"center",alignItems:"center"},foregroundContainer:{position:"absolute",height:100,width:100,backgroundColor:"white",boxShadow:"0px 17.91px 35.82px -5.97px rgba(0, 0, 0, 0.24), 0px 2.99px 8.96px -0.75px rgba(0, 0, 0, 0.14)",borderRadius:9,display:"flex",justifyContent:"center",alignItems:"center"},logo:{height:50,width:50},imageLeft:{width:130},imageRight:{width:130,marginLeft:16}})),[]);return(0,P.jsxs)("div",{style:t.imageGroupContainer,children:[(0,P.jsxs)("div",{style:t.imageBackground,children:[(0,P.jsx)("img",{src:g().A.images.onboarding.mapJourneyDestinationPng,alt:e.formatMessage(Lt.paperAirplaneWithDotsAlt),style:t.imageLeft}),(0,P.jsx)("img",{src:g().A.images.onboarding.emailSentPng,alt:e.formatMessage(Lt.mapWithDestinationAlt),style:t.imageRight})]}),(0,P.jsx)("div",{style:t.foregroundContainer,children:(0,P.jsx)("img",{src:g().A.images.logo642XPng,alt:e.formatMessage(Lt.notionLogoAlt),style:t.logo})})]})}function Ut(){const e=(0,d().v3)(),t=(0,u().O$)(_().A),a=(0,Et().E)(),i=(0,c().IS)((e=>({button:{marginTop:90,width:406,height:36,borderRadius:6,fontSize:14,fontWeight:me().Wy.semibold,color:e.text.contrastPrimary}})),[]),s=(0,o.useCallback)((async()=>{let o=a.current;o||(o=await(0,Et().a)(e.device)),o&&(n(435009).oo({environment:e,url:o,openInNew:"tab"}),await(0,M().goToNextStage)({environment:e,onboardingState:t}))}),[e,t,a]);return(0,P.jsx)(C().A,{size:"lg",onClick:s,style:i.button,children:(0,P.jsx)(y().sA,{...Lt.continueButtonLabel})})}function Vt(){const e=(0,y().tz)(),t=(0,c().IS)((e=>({transcriptContainer:{border:"1px solid",borderColor:e.stroke.secondary,borderRadius:"16px",margin:"40px auto",paddingBottom:20,maxWidth:600},transcriptMenu:{padding:20,display:"flex",alignItems:"center"},button:{flex:"none",display:"flex",padding:"6px 8px",alignItems:"center",justifyContent:"center",gap:4},transcriptButton:{borderRadius:34,backgroundColor:e.fill.graySecondary},stopButton:{borderRadius:6,backgroundColor:e.fill.uiRedSecondary},wavelength:{flex:1,height:22,display:"flex",justifyContent:"center",margin:"0 16px",overflow:"hidden"},transcript:{margin:"0 8px",padding:"0 18px"},loadingBar:{width:100,height:12,borderRadius:100,backgroundColor:e.fill.graySecondary},loadingBarContainer:{marginTop:20,display:"flex",gap:12,flexDirection:"column"},dot:{width:10,height:10,borderRadius:"50%",backgroundColor:"black"},desktopAppIconContainer:{position:"absolute",bottom:0,left:0,display:"flex",alignItems:"center",gap:12,flexDirection:"column"},desktopAppIcon:{height:60,width:60}})),[]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{style:t.transcriptContainer,children:[(0,P.jsxs)("div",{style:t.transcriptMenu,children:[(0,P.jsxs)("div",{style:{...t.button,...t.transcriptButton},children:[(0,P.jsx)(w().I,{size:"sm",icon:Bt,color:"primary"}),(0,P.jsx)(j().D,{styleName:"UIMini-10px/Regular",colorName:"primary",children:(0,P.jsx)(y().sA,{id:"aiForWorkModal.meetingNotes.hero.menu.Summary",defaultMessage:"Summary"})})]}),(0,P.jsxs)("div",{style:t.button,children:[(0,P.jsx)(w().I,{size:"sm",icon:Ot,color:"secondary"}),(0,P.jsx)(j().D,{styleName:"UIMini-10px/Regular",colorName:"secondary",children:(0,P.jsx)(y().sA,{id:"aiForWorkModal.meetingNotes.hero.menu.notes",defaultMessage:"Notes"})})]}),(0,P.jsxs)("div",{style:{...t.button},children:[(0,P.jsx)(w().I,{size:"sm",icon:n(702661).m,color:"secondary"}),(0,P.jsx)(j().D,{styleName:"UIMini-10px/Regular",colorName:"secondary",children:(0,P.jsx)(y().sA,{id:"aiForWorkModal.meetingNotes.hero.menu.transcript",defaultMessage:"Transcript"})})]}),(0,P.jsx)("div",{style:t.wavelength,children:(0,P.jsx)(n(353132)._,{signals:[0,0,0,0,.4,.4,.4,.6,.8,1,.8,.5,.5,.3,0,0,0,0,0,0,.3,.5,.8,.5,0]})}),(0,P.jsxs)("div",{style:{...t.button,...t.stopButton},children:[(0,P.jsx)(w().I,{icon:n(831081).U,size:"sm",color:"uiRedPrimary"}),(0,P.jsx)(j().D,{styleName:"UIMini-10px/Medium",colorName:"uiRedPrimary",children:(0,P.jsx)(y().sA,{id:"aiForWorkModal.meetingNotes.hero.menu.stop",defaultMessage:"Stop"})})]})]}),(0,P.jsxs)("div",{style:t.transcript,children:[(0,P.jsx)(j().D,{styleName:"UIRegular-14px/Medium",colorName:"primary",children:(0,P.jsx)(y().sA,{id:"downloadpreview.hero.title",defaultMessage:"Meeting Notes @Today"})}),(0,P.jsxs)("div",{style:t.loadingBarContainer,children:[(0,P.jsx)("div",{style:{...t.loadingBar,width:"265px"}}),(0,P.jsx)("div",{style:{...t.loadingBar,width:"460px"}}),(0,P.jsx)("div",{style:{...t.loadingBar,width:"460px"}}),(0,P.jsx)("div",{style:{...t.loadingBar,width:"460px"}}),(0,P.jsx)("div",{style:{...t.loadingBar,width:"460px"}})]})]})]}),(0,P.jsxs)("div",{style:t.desktopAppIconContainer,children:[(0,P.jsx)("img",{src:g().A.images.notionLogoPng,alt:e.formatMessage(Lt.notionLogoLabel),style:t.desktopAppIcon}),(0,P.jsx)("div",{style:t.dot})]})]})}const Ht={stageName:"desktop_onboarding_promote_app_download",shouldSkip:(e,t)=>!0,getTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Notion is 50% faster with the desktop app",id:"onboarding.desktopDownloadStage.title"}),getSubTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Plus access app-exclusive features",id:"onboarding.desktopDownloadStage.subtitle"}),isContinueEnabled:e=>!0,isBackEnabled:(e,t)=>!0,shouldShowSkipButton:(e,t)=>!0,getDesktopContinueButtonOverride:()=>(0,P.jsx)(Ut,{}),renderRightContent(e){var t;const n=e.planTypeAndSurveyInfo,o=(null==n||null===(t=n.surveyResponses)||void 0===t?void 0:t.useCases)??[],a=e.selectedWorkflowTemplateIds??[];return(0,P.jsx)(pt,{selectedWorkflowTemplateIds:a,selectedUseCases:o,selectedCategories:[],bodyContent:(0,P.jsx)(Vt,{})})},renderStage:()=>(0,P.jsx)(Ft,{}),getContinueButtonStyles:()=>({marginTop:70}),headerStyles:{width:void 0},alignment:$().C.Center};async function Kt(e,t){if(!e.planTypeAndSurveyInfo)return a().Fg(new Error("No plan type present when evaluating calendar signup stage"),{tags:{source:"onboarding.desktopDownloadStage"}}),!0;return!!(await(0,n(778450).e)(t))}const Gt={...Ht,stageName:"desktop_onboarding_promote_app_download",async shouldSkip(e,t){var n;return!!(await Kt(e,t))||("team"===(null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.planType)||"control"===(0,Fe().k8)({environment:t}))}},Jt={...Ht,stageName:"team_desktop_onboarding_promote_app_download",async shouldSkip(e,t){var n,o;return!!(await Kt(e,t))||("personal"===(null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.planType)||"school"===(null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType)||"control"===(0,Fe().k8)({environment:t}))}};var Qt=()=>n(427704),$t=()=>n(843189);const Yt=function(e){let{format:t,style:n,children:o}=e;return"Iphone"===t?(0,P.jsx)(Zt,{style:n,children:o}):"IphoneX"===t?(0,P.jsx)(Xt,{style:n,children:o}):(0,P.jsx)(en,{style:n,children:o})};function Zt(e){let{style:t,children:n}=e;return(0,P.jsxs)("div",{style:{boxShadow:`0 12px 30px ${ne().Ay.blackWithAlpha(.25)}`,background:ne().Ay.frontMobilePhoneBackground,overflow:"hidden",position:"relative",width:"100%",borderRadius:"15%/7%",...t},children:[(0,P.jsx)("div",{style:{width:"100%",height:0,paddingBottom:"202.5%",backgroundImage:`url(${g().A.images.chromeMobileIphonePng})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),(0,P.jsx)("div",{style:{position:"absolute",top:0,left:"6.66667%",width:"86.66666667%",marginTop:"24%"},children:n})]})}function Xt(e){let{style:t,children:n}=e;return(0,P.jsxs)("div",{style:{position:"relative",transform:"translateZ(0)",width:"100%",filter:"drop-shadow(rgba(15, 15, 15, 0.2) 0px 6px 12px)",...t},children:[(0,P.jsx)("img",{src:g().A.images.devices.iphoneXFramePng,style:{width:"100%",display:"block",position:"relative",zIndex:2}}),(0,P.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",background:ne().Ay.white,transform:"translate(-50%, -50%)",width:"84.5%",height:"95%"},children:n})]})}function en(e){let{style:t,children:n}=e;return(0,P.jsxs)("div",{style:{boxShadow:`0 12px 30px ${ne().Ay.blackWithAlpha(.25)}`,background:ne().Ay.frontMobilePhoneBackground,overflow:"hidden",position:"relative",width:"100%",borderRadius:"15%/7%",...t},children:[(0,P.jsx)("div",{style:{width:"100%",height:0,paddingBottom:"205.73012939%",backgroundImage:`url(${g().A.images.chromeMobileAndroidPng})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundPosition:"center"}}),(0,P.jsx)("div",{style:{position:"absolute",top:0,left:"4.1589648799%",width:"91.5785582255%",marginTop:"20.60998152%"},children:n})]})}var tn=()=>n(108405);function nn(e){let{androidImage:t,iosImage:n,visual:o}=e;const a=(0,d().v3)(),i=(0,c().IS)((e=>({title:{color:e.text.secondary,marginBottom:6},subtitle:{color:e.text.primary,fontWeight:me().Wy.semibold},preview:{width:"100%",marginTop:28,marginBottom:0,maxWidth:320,marginLeft:"auto",marginRight:"auto"}})),[]),{device:s}=a;return(0,P.jsx)("div",{children:(0,P.jsx)(Yt,{format:s.isAndroid?"Android":"IphoneX",style:i.preview,children:o??(0,P.jsx)("img",{src:s.isAndroid?t:n,style:{width:"100%"}})})})}function on(){return(0,P.jsx)(nn,{iosImage:g().A.tutorial.iosDragAndDropGif,androidImage:g().A.images.onboarding.mobileHeroAndroidGif})}function an(){return(0,P.jsx)(nn,{iosImage:g().A.tutorial.iosSidebarGif,androidImage:g().A.tutorial.androidSidebarPng})}function sn(){return(0,P.jsx)(nn,{iosImage:g().A.tutorial.iosNotionWebClipperGif,androidImage:g().A.tutorial.mobileShareSheetAndroidPng})}function rn(){const e=(0,c().IS)((e=>({mobileChrome:{width:"100%",marginTop:28,marginBottom:0,maxWidth:320,marginLeft:"auto",marginRight:"auto"},errorPage:{paddingTop:200,width:"100vw",height:"100%",position:"relative",display:"flex",flex:1,background:e.contentBackground},mobileDesktopVisual:{width:"100%",boxShadow:e.shadowMD,borderRadius:4}})),[]);return(0,P.jsx)(nn,{visual:(0,P.jsxs)("div",{style:{marginTop:32,position:"relative"},children:[(0,P.jsxs)("div",{style:{position:"relative",top:0,left:0,width:"70%"},children:[(0,P.jsx)(X().A,{isSmall:!0,style:{marginBottom:12},children:(0,P.jsx)(y().sA,{defaultMessage:"Browser",id:"useCasemobileDesktopStep.browser.label"})}),(0,P.jsx)("img",{src:g().A.tutorial.mobileSyncSafariPng,style:e.mobileDesktopVisual})]}),(0,P.jsxs)("div",{style:{position:"absolute",top:0,left:"30%",width:"70%"},children:[(0,P.jsx)(X().A,{isSmall:!0,style:{marginBottom:12},children:(0,P.jsx)(y().sA,{defaultMessage:"Mac & Windows App",id:"useCasemobileDesktopStep.desktopApp.label"})}),(0,P.jsx)("img",{src:g().A.tutorial.mobileSyncMacPng,style:e.mobileDesktopVisual})]})]})})}function ln(){return(0,P.jsx)(nn,{iosImage:g().A.images.onboarding.mobileHeroGif,androidImage:g().A.images.onboarding.mobileHeroGif})}function dn(){const e=(0,c().DP)();return(0,P.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,P.jsx)("img",{src:g().A.images.onboarding.mobileAppViewPng,alt:"Mobile app view",style:{width:300,border:`1px solid ${e.stroke.secondary}`,boxShadow:"0px 14px 28px -6px #0000001A",borderRadius:40}})})}function un(){const e=(0,d().v3)(),t=(0,c().DP)(),n=(0,u().O$)(_().A);return(0,P.jsx)($t().E,{style:{marginTop:8,width:"100%",height:48,borderRadius:12,fontSize:17,fontWeight:me().Wy.semibold,color:t.text.primary,backgroundColor:t.tint.regular,boxShadow:"none"},size:"lg",onClick:async()=>await(0,M().goToNextStage)({environment:e,onboardingState:n}),disabled:!1,children:(0,P.jsx)(y().sA,{defaultMessage:"Take me to Notion",id:"contextualizedOnboarding.mobileAppDownloadStep.continue"})})}function cn(){const e=(0,d().v3)(),t=(0,c().DP)(),n=(0,u().O$)(_().A);return(0,P.jsx)($t().E,{style:{marginTop:8,width:"100%",height:48,borderRadius:12,fontSize:17,fontWeight:me().Wy.semibold,color:t.text.primary,backgroundColor:t.tint.regular,boxShadow:"none"},size:"lg",onClick:async()=>await(0,M().goToNextStage)({environment:e,onboardingState:n}),disabled:!1,children:(0,P.jsx)(y().sA,{defaultMessage:"Skip for now",id:"contextualizedOnboarding.mobileAppDownloadStep.skipToOnboarding"})})}function gn(){const e=(0,d().v3)(),t=e.device,o=(0,tn().Oi)({}),a=(0,u().O$)(_().A);return(0,P.jsx)("a",{onClick:async()=>{v().u$(e,(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:a,environment:e})),await(0,M().goToNextStage)({environment:e,onboardingState:a})},href:t.isIOS?Qt().JZ.appStore:Qt().JZ.playStore,style:{textDecoration:"none",width:"100%",marginTop:16},target:"_blank",children:(0,P.jsxs)(C().A,{style:o.continueButton,size:"lg",onClick:async()=>await(0,M().goToNextStage)({environment:e,onboardingState:a}),children:[t.isIOS?(0,n(711901).L)({fill:"currentColor",width:16,height:16,marginRight:6}):(0,n(925846).q)({fill:"currentColor",width:16,height:16,marginRight:6}),(0,P.jsx)(y().sA,{defaultMessage:"Download the app",id:"contextualizedOnboarding.downloadTheAppButton.label"})]})})}function pn(e){let{androidSrc:t,iosSrc:n,style:o}=e;const{isAndroid:a}=(0,d().Y0)(),i=(0,d().v3)(),s=(0,u().K8)((()=>i.ThemeStore.state.mode),[i]),r=g().A.tutorial[s][a?t:n];return(0,P.jsx)("div",{style:{width:"100%",overflow:"hidden",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,P.jsx)("img",{src:r,style:o,alt:"Tutorial gif"})})}function mn(){return(0,P.jsx)(pn,{androidSrc:"androidOrganizeGif",iosSrc:"iosOrganizeGif",style:{width:"150%",margin:"-5% -25%"}})}function fn(){return(0,P.jsx)(pn,{androidSrc:"androidCreateGif",iosSrc:"iosCreateGif",style:{width:"150%",margin:"-5% -25%"}})}function yn(){return(0,P.jsx)(pn,{androidSrc:"shareGif",iosSrc:"shareGif",style:{width:"150%",margin:"-5% -25%"}})}function bn(){return(0,P.jsx)(pn,{androidSrc:"devicesGif",iosSrc:"devicesGif",style:{width:"110%",margin:"0 -5%"}})}function vn(){return(0,P.jsx)(pn,{androidSrc:"androidCustomizationGif",iosSrc:"iosCustomizationGif",style:{width:"110%",margin:"10% -5%"}})}function hn(){return(0,P.jsx)(pn,{androidSrc:"androidFilingGif",iosSrc:"iosFilingGif",style:{width:"110%",margin:"10% -5%"}})}function xn(){return(0,P.jsx)(pn,{androidSrc:"sideswipeGif",iosSrc:"sideswipeGif",style:{width:"110%",margin:"10% -5%"}})}const Sn={headerStyles:{fontSize:16},getSubTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Some essential tips",id:"useCasemobileTutorialStep.title"})},wn={shouldSkip:()=>!1,isContinueEnabled:()=>!0,isBackEnabled:()=>!0,shouldShowSkipButton:()=>!1,shouldHideScroller:()=>!0},jn={stageName:"mobile_onboarding_editor",shouldSkip:(e,t)=>!t.device.isMobile,getTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Touch and hold to reorder any content.",id:"useCasemobileEditorStep.descriptionV2"}),isContinueEnabled:()=>!0,isBackEnabled(e){const t=e.planTypeAndSurveyInfo;return"team"===(null==t?void 0:t.planType)},renderStage:()=>(0,P.jsx)(on,{}),...Sn},Cn={stageName:"mobile_onboarding_sidebar",shouldSkip:(e,t)=>!t.device.isMobile,getTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"The sidebar menu keeps things organized. Youll find all of your pages here.",id:"useCasemobileEditorSidebarStep.titleV2"}),isContinueEnabled:()=>!0,isBackEnabled:e=>!0,renderStage:()=>(0,P.jsx)(an,{}),...Sn};function An(e,t){return!t.device.isMobileNative}const kn={stageName:"mobile_onboarding_web_clipper",shouldSkip:An,estimateWillSkip:An,getTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"<boldtext>Save web pages or local files into Notion.</boldtext>",id:"useCasemobileWebClipperStep.title",values:{boldtext:e=>(0,P.jsx)("b",{children:e})}}),getSubTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Just tap the share button and pick a page or a database to save to.",id:"useCasewebClipperStep.description"}),isContinueEnabled:()=>!0,isBackEnabled:e=>!0,renderStage:()=>(0,P.jsx)(sn,{}),...Sn};function In(e,t){return!t.device.isMobile||!(null!=t&&t.device.isMobileNative)}const Mn={stageName:"mobile_onboarding_desktop",shouldSkip:In,estimateWillSkip:In,getTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Notion also works on Mac, Windows, and in the browser! Everything will stay in sync across your devices",id:"useCasemobileDesktopStep.titleV2",values:{boldtext:e=>(0,P.jsx)("b",{children:e})}}),isContinueEnabled:()=>!0,isBackEnabled:e=>!0,renderStage:()=>(0,P.jsx)(rn,{}),headerStyles:{fontSize:16}};function Tn(e,t){return t.device.isMobileNative||"control"!==(0,Fe().el)({environment:t})}const _n={stageName:"mobile_onboarding_app_download",shouldSkip:Tn,estimateWillSkip:Tn,getTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Discover the latest features and enjoy a seamless, supercharged experience on the go with the mobile app",id:"mobileAppDownloadStep.subTitleV2"}),isContinueEnabled:()=>!0,isBackEnabled:e=>!0,renderStage:()=>(0,P.jsx)(ln,{}),headerStyles:{fontSize:16,lineHeight:void 0},getMobileContinueButtonOverride:()=>(0,P.jsx)(gn,{}),renderContentAboveContinueButton:()=>(0,P.jsx)(un,{})},Pn={stageName:"mobile_onboarding_promote_app_download",shouldSkip(e,t){const n=0===(0,i().R)(r().default.state.currentUserRootStore);return t.device.isMobileNative||!n||"control"===(0,Fe().el)({environment:t})},getTitle:(e,t)=>"required_to_download"===(0,Fe().el)({environment:t})?(0,P.jsx)(y().sA,{defaultMessage:"Thanks for signing up!",id:"mobilePromoteAppDownloadStep.title.requiredToDownload"}):(0,P.jsx)(y().sA,{defaultMessage:"Download the app for the best experience with Notion.",id:"mobilePromoteAppDownloadStep.title.optionalToDownload"}),getSubTitle(e,t){if("required_to_download"===(0,Fe().el)({environment:t}))return(0,P.jsx)(y().sA,{defaultMessage:"Download the app for the best experience with Notion.",id:"mobilePromoteAppDownloadStep.subtitle"})},isContinueEnabled:()=>!0,shouldHideBackButton:e=>"required_to_download"===(0,Fe().el)({environment:e}),isBackEnabled:(e,t)=>"required_to_download"!==(0,Fe().el)({environment:t}),renderStage:()=>(0,P.jsx)(dn,{}),headerStyles:{fontSize:22,lineHeight:void 0},getMobileContinueButtonOverride:()=>(0,P.jsx)(gn,{}),renderContentAboveContinueButton(e,t){if("optional_to_download"===(0,Fe().el)({environment:t}))return(0,P.jsx)(cn,{})}},Nn={...wn,stageName:"mobile_onboarding_home",getTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Keep your thoughts organized",id:"useCaseMobileHomeStep.title"}),getSubTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Use the home tab to organize your pages.",id:"useCaseMobileHomeStep.description"}),isBackEnabled(e){const t=e.planTypeAndSurveyInfo;return"team"===(null==t?void 0:t.planType)},renderStage:()=>(0,P.jsx)(mn,{})},Bn={...wn,stageName:"mobile_onboarding_creation",getTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Create notes, tasks and more",id:"useCaseMobileEditorV2Step.title"}),getSubTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Use Notion blocks to create anything, big or small.",id:"useCaseMobileEditorV2Step.description"}),renderStage:()=>(0,P.jsx)(fn,{})},Rn={...wn,stageName:"mobile_onboarding_share",getTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Share content into Notion",id:"useCaseMobileShareStep.title"}),getSubTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Share articles, photos, and more directly into your Notion pages.",id:"useCaseMobileShareStep.description"}),renderStage:()=>(0,P.jsx)(yn,{})},Dn={...wn,stageName:"mobile_onboarding_multi_platform",getTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Work across devices",id:"useCaseMobileMultiPlatformStep.title"}),getSubTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Download Notion on your phone, tablet, or desktop.",id:"useCaseMobileMultiPlatformStep.description"}),shouldShowSkipButton:e=>!1,renderStage:()=>(0,P.jsx)(bn,{})},zn={...wn,stageName:"mobile_onboarding_skill_mab",getTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Create how you want",id:"useCaseMobileSkillMabStep.title"}),getSubTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"You can create custom content blocks, customize your content, and add media from your Notion pages.",id:"useCaseMobileSkillMabStep.description"}),isBackEnabled(e){const t=e.planTypeAndSurveyInfo;return"team"===(null==t?void 0:t.planType)},renderStage:()=>(0,P.jsx)(vn,{})},On={...wn,stageName:"mobile_onboarding_skill_filing",getTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Keep your thoughts organized",id:"useCaseMobileSkillFilingStep.title"}),getSubTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"You can organize your pages by nesting inside pre-made sections, or even other pages.",id:"useCaseMobileSkillFilingStep.description"}),renderStage:()=>(0,P.jsx)(hn,{})},Wn={...wn,stageName:"mobile_onboarding_skill_swipe",getTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Manage your pages with a swipe",id:"useCaseMobileSkillSwipeStep.title"}),getSubTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Side swipe on any of your pages to view actions, favorite, or delete the page.",id:"useCaseMobileSkillSwipeStep.description"}),shouldShowSkipButton:e=>!1,renderStage:()=>(0,P.jsx)(xn,{})};function En(e){let{useCases:t,onSelectUseCase:n,collaborativeIntent:o}=e;const a=function(e){return{docs:"singleplayer"===e?(0,P.jsx)(y().sA,{id:"OnboardingSurvey.useCase.question.singleplayer.docs",defaultMessage:"Write documents"}):(0,P.jsx)(y().sA,{id:"OnboardingSurvey.useCase.question.docs",defaultMessage:"Collaborate with others in docs"}),wikis:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.useCase.question.wikis",defaultMessage:"Create a knowledge base / wiki"}),project:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.useCase.question.project",defaultMessage:"Manage projects"}),goals:"singleplayer"===e?(0,P.jsx)(y().sA,{id:"OnboardingSurvey.useCase.question.singleplayer.goals",defaultMessage:"Track goals"}):(0,P.jsx)(y().sA,{id:"OnboardingSurvey.useCase.question.goals",defaultMessage:"Track company goals and OKRs"}),notes:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.useCase.question.notes",defaultMessage:"Write notes"}),ai:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.useCase.question.ai",defaultMessage:"Create and find content with AI"}),other:(0,P.jsx)(y().sA,{id:"OnboardingSurvey.useCase.question.otherOptionLabel",defaultMessage:"Other"})}}(o),i=(0,y().tz)(),s=(0,c().DP)(),r=(0,d().v3)(),{device:l}=r,u={menuTitle:i.formatMessage({defaultMessage:"Using Notion for...",id:"onboardingSurvey.useCase.popuplabel"}),items:Object.keys(a),width:300,getKey:e=>e,selectedItem:void 0,originGap:4,onSelect:e=>n(e),dontCloseParentOnSelect:!0,renderItem:e=>(0,P.jsx)(oe().A,{icon:(0,P.jsx)(It().T,{checked:t.includes(e.value),size:16,onClick:()=>n(e.value)}),title:a[e.value],className:`${wt().eL1}-${e.value}`,...e}),renderOrigin:e=>(0,P.jsxs)(W().A,{size:"lg",onClick:t=>e.onClick(t),style:{padding:"2px 10px",display:"flex",alignItems:"center",justifyContent:"space-between",border:0,transition:"box-shadow 0.3s ease",boxShadow:`0 0 0 1px ${s.outlineButtonBorder}`,height:l.isMobile?40:32,background:s.surface.wash,borderRadius:l.isMobile?10:6},className:wt().eL1,children:[(0,P.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,P.jsx)(X().A,{isMobile:l.isMobile,isSecondaryColor:0===t.length,style:l.isMobile?{fontSize:15}:{},children:t.length>0?(0,P.jsx)(y().sA,{defaultMessage:"{count, plural, one {{useCase}} other {{count} selected}}",id:"onboardingSurvey.useCasesSelect.plural.placeholder",values:{count:t.length,useCase:a[Array.from(t)[0]]}}):(0,P.jsx)(y().sA,{defaultMessage:"Choose one or more...",id:"onboardingSurvey.useCasesSelect.placeholder"})})}),(0,ee().e)({width:10,fill:s.icon.tertiary})]})};return(0,P.jsx)(ae().A,{...u},"useCase")}const Ln=(0,y().YK)({workIntentTitleV2:{defaultMessage:"For work",id:"onboardingWorkspacePlanChoose.teamUseCaseButton.labelV2"},lifeIntentTitleV2:{defaultMessage:"For personal life",id:"onboardingWorkspacePlanChoose.personalUseCaseButton.labelV2"},schoolIntentTitleV2:{defaultMessage:"For school",id:"onboardingWorkspacePlanChoose.schoolUseCaseButton.labelV2"},workIntentSubtitleV2:{defaultMessage:"Track projects, company goals, meeting notes",id:"onboardingWorkspacePlanChoose.teamUseCaseButton.descriptionV2"},lifeIntentSubtitleV2:{defaultMessage:"Write better, think more clearly, stay organized",id:"onboardingWorkspacePlanChoose.personalUseCaseButton.descriptionV2"},schoolIntentSubtitleV2:{defaultMessage:"Keep notes, research, and tasks in one place",id:"onboardingWorkspacePlanChoose.schoolUseCaseButton.descriptionV2"}});function Fn(e){return[{planType:"team",illustrationPath:e?g().A.images.onboarding.planTypeForWorkSplitIntentDarkmodePng:g().A.images.onboarding.planTypeForWorkSplitIntentLightmodePng,title:(0,P.jsx)(y().sA,{...Ln.workIntentTitleV2}),subtitle:(0,P.jsx)(y().sA,{...Ln.workIntentSubtitleV2})},{planType:"personal",illustrationPath:e?g().A.images.onboarding.planTypeForLifeSplitIntentDarkmodePng:g().A.images.onboarding.planTypeForLifeSplitIntentLightmodePng,title:(0,P.jsx)(y().sA,{...Ln.lifeIntentTitleV2}),subtitle:(0,P.jsx)(y().sA,{...Ln.lifeIntentSubtitleV2})},{planType:"school",illustrationPath:e?g().A.images.onboarding.planTypeForSchoolSplitIntentDarkmodePng:g().A.images.onboarding.planTypeForSchoolSplitIntentLightmodePng,title:(0,P.jsx)(y().sA,{...Ln.schoolIntentTitleV2}),subtitle:(0,P.jsx)(y().sA,{...Ln.schoolIntentSubtitleV2})}]}function qn(e){const{checkedIntentType:t,handlePlanTypeSelect:n,planType:o,illustrationPath:a,buttonClassName:i,title:s,subtitle:r}=e,l=(0,d().v3)(),u=function(e){const{isMobile:t,isSelected:n}=e;return(0,c().IS)((e=>({toggleButtonStyle:{alignItems:"center",justifyContent:"center",whiteSpace:"normal",borderRadius:12,fontSize:14,lineHeight:1.2,position:"relative",transition:"all 200ms ease",display:"flex",marginTop:20,padding:0,boxShadow:`${e.outlineButtonBorder} 0 0 0 1px, rgba(167, 167, 167, 0.25) 0px 1px 2px`,minHeight:136,...n?{boxShadow:`${ne().Ay.blue} 0 0 0 2px, rgba(182, 182, 182, 0.25) 0px 8px 12px`,background:e.surface.elevated}:{opacity:.7},display:"flex",marginTop:16,padding:0,boxShadow:`${e.outlineButtonBorder} 0 0 0 1px, rgba(167, 167, 167, 0.25) 0px 1px 2px`,minHeight:70,...{height:100,...n&&{boxShadow:`${ne().Ay.blue} 0 0 0 2px, rgba(182, 182, 182, 0.25) 0px 8px 12px`,background:void 0},...t&&{minHeight:110}}},buttonIllustrationWrapperStyle:{marginLeft:10,height:57,width:85,textAlign:"center"},buttonCheckmarkStyle:{order:1,marginRight:20,height:24,width:24},buttonHeadingStyle:{fontWeight:me().Wy.medium,fontSize:16,marginTop:10,color:e.text.primary},buttonSubheadingStyle:{color:e.text.secondary,fontWeight:me().Wy.regular,fontSize:14,lineHeight:1.4,transition:"all 200ms ease",marginTop:4,marginBottom:8,display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:3,overflow:"hidden"},imageWrapStyle:{position:"absolute",bottom:-40,left:89}})),[t,n])}({isMobile:l.device.isMobile,isSelected:t===o});return(0,P.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,P.jsx)(Ne().A,{id:void 0,style:u.toggleButtonStyle,onClick:n,className:i,children:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("img",{src:a,style:{height:"100%",height:48,width:48,textAlign:"center",marginLeft:24}}),(0,P.jsxs)("main",{style:Un(l),children:[(0,P.jsx)("header",{style:u.buttonHeadingStyle,children:s}),(0,P.jsx)("p",{style:u.buttonSubheadingStyle,children:r})]})]})})})}function Un(e){return{margin:e.device.isMobile?10:16,flex:1}}function Vn(e){var t;let{onboardingState:n}=e;return(0,P.jsx)(ce,{questionType:"work",title:(0,P.jsx)(y().sA,{defaultMessage:"Your function",id:"onboardingSurvey.persona.popuplabel"}),question:null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.userPersona,randomizeSelectionOrder:!0,invalid:!1,onSelect:e=>{!function(e,t){var n;_().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses,userPersona:t}}})}(n,e)},className:wt().Uaw})}function Hn(e){var t;let{onboardingState:n}=e;return(0,P.jsx)(ce,{questionType:"role",title:(0,P.jsx)(y().sA,{defaultMessage:"Your role",id:"onboardingSurvey.role.popuplabel"}),question:null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.userRole,invalid:!1,onSelect:e=>{!function(e,t){var n;_().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses,userRole:t}}})}(n,e)},className:wt().q5q})}function Kn(e){var t;let{onboardingState:n}=e;return(0,P.jsx)(ce,{questionType:"companySize",title:(0,P.jsx)(y().sA,{defaultMessage:"Company size...",id:"onboardingSurvey.companySize.popuplabel"}),randomizeSelectionOrder:!1,question:null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.companySize,invalid:!1,onSelect:e=>{!function(e,t){var n;_().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses,companySize:t}}})}(n,e)},className:wt().u_N})}const Gn=function(){var e;const t=(0,u().O$)(_().A),n=(0,d().v3)(),o=Fn("dark"===(0,c().eP)()),a={...fe,marginTop:25,marginBottom:8};return(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{style:{display:"flex"},children:o.map(((e,o)=>{var a;return(0,P.jsx)(qn,{checkedIntentType:null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.planType,buttonClassName:wt().OX4,handlePlanTypeSelect:()=>function(e){const{environment:t,onboardingState:n,surveyResponse:o}=e,a={...n,planTypeAndSurveyInfo:{...n.planTypeAndSurveyInfo,planType:o}};return v().ut(t,{...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:a,spaceJoinOrCreate:"create",environment:t}),planType:o}),_().A.setState(a),a}({environment:n,onboardingState:t,surveyResponse:e.planType}),hideCheckboxes:!0,...e},o)}))}),(0,P.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginBottom:24,padding:16},children:[(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,P.jsxs)("div",{style:{width:"calc(50% - 12px)"},children:[(0,P.jsx)("div",{style:a,children:(0,P.jsx)(X().A,{isSmall:!0,children:(0,P.jsx)(y().sA,{defaultMessage:"What kind of work do you do?",id:"onboardingSurvey.persona.label"})})}),(0,P.jsx)(Vn,{onboardingState:t})]}),(0,P.jsxs)("div",{style:{width:"calc(50% - 12px)"},children:[(0,P.jsx)("div",{style:a,children:(0,P.jsx)(X().A,{isSmall:!0,children:(0,P.jsx)(y().sA,{defaultMessage:"Whats your role?",id:"onboardingSurvey.teamRole.labelV2"})})}),(0,P.jsx)(Hn,{onboardingState:t})]})]}),(0,P.jsx)("div",{style:a,children:(0,P.jsx)(X().A,{isSmall:!0,children:(0,P.jsx)(y().sA,{defaultMessage:"Whats the size of your company?",id:"onboardingSurvey.companySize.labelV2"})})}),(0,P.jsx)(Kn,{onboardingState:t}),(0,P.jsx)("div",{style:a,children:(0,P.jsx)(X().A,{isSmall:!0,children:(0,P.jsx)(y().sA,{defaultMessage:"What are you planning to do in Notion?",id:"onboardingSurvey.useCase.label"})})}),(0,P.jsx)(En,{useCases:(null===(e=t.planTypeAndSurveyInfo)||void 0===e||null===(e=e.surveyResponses)||void 0===e?void 0:e.useCases)??[],onSelectUseCase:e=>{!function(e,t){var n,o;const a=(null===(n=e.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.useCases)??[],i=new Set(a);a.includes(t)?i.delete(t):i.add(t);_().A.setState({...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses,useCases:Array.from(i)}}})}(t,e)}})]})]})},Jn={stageName:"onboarding_plan_type_and_survey",shouldSkip:()=>!1,getTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Hi {profileName}! Lets get you set up.",id:"contextualizedOnboarding.planTypeAndSurvey.title",values:{profileName:null==e?void 0:e.profileName}}),getSubTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"How do you plan to use Notion?",id:"contextualizedOnboarding.planTypeAndSurvey.subtitle"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)},isBackEnabled:e=>!0,renderStage:()=>(0,P.jsx)(Gn,{})};var Qn=()=>n(719147);function $n(){var e;const t=(0,u().O$)(_().A),n=null===(e=t.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType;return(0,P.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginTop:28},children:(0,P.jsx)(Yn,{onboardingState:t,intentType:n})})}function Yn(e){const{intentType:t,onboardingState:n}=e,a=(0,d().v3)(),i=(0,c().IS)((e=>({toggleGroupWrapStyle:{marginTop:0,marginBottom:32,width:"100%",justifyContent:"center"}})),[]),s="dark"===(0,c().eP)(),[r,l]=(0,o.useState)(t),u=Fn(s);return(0,P.jsx)("div",{style:i.toggleGroupWrapStyle,children:u.map(((e,t)=>(0,P.jsx)(qn,{checkedIntentType:r,buttonClassName:wt().OX4,handlePlanTypeSelect:()=>function(e,t,n,o){var a,i;let s;var r;"personal"===t?s=null!==(r=e.onboardingData)&&void 0!==r&&r.isEducationPlanEligible?"student":"other":"school"===t&&(s="student");const l=null===(a=e.planTypeAndSurveyInfo)||void 0===a?void 0:a.planType,d=!l,u={...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(i=e.planTypeAndSurveyInfo)||void 0===i?void 0:i.surveyResponses,userPersona:s},planType:t}};_().A.setState(u),d?(v().ut(o,{...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:u,spaceJoinOrCreate:"create",environment:o}),planType:t}),(0,M().goToNextStage)({environment:o,onboardingState:u})):n(t)}(n,e.planType,l,a),...e},t)))})}function Zn(e){var t;let{onboardingState:o}=e;const a=(0,c().IS)((e=>({copyStyle:{fontSize:14,fontWeight:400,color:e.selectLightGray[700],position:"relative",textAlign:"center",paddingBottom:42,marginLeft:"auto",marginRight:"auto",maxWidth:520}})),[]),i=(0,u().K8)((()=>{var e;return null===(e=o.onboardingData)||void 0===e?void 0:e.userStore.getEmail()}),[o]);return null!==(t=o.onboardingData)&&void 0!==t&&t.isUserUsingVerifiedDomain&&i?(0,P.jsx)(X().A,{isSmall:!0,isMultiline:!0,style:a.copyStyle,children:(0,P.jsx)(y().sA,{defaultMessage:"You are currently logged in as <bold>{email}</bold>. By creating this workspace, you accept that it can be managed by the owners of the email domain <bold>{emailDomain}</bold>. See <domainclaimlink>this page</domainclaimlink> for more info.",id:"onboardingWorkspacePlanChoose.verifiedDomain.byline",values:{email:i,emailDomain:(0,Ae().zN)(i),bold:e=>(0,P.jsx)("b",{children:e}),domainclaimlink:e=>(0,P.jsx)(Qn().A,{href:(0,n(836251).xS)("guides.domainManagement"),external:!0,children:e})}})}):null}function Xn(){var e;const t=(0,u().O$)(_().A),n=null===(e=t.planTypeAndSurveyInfo)||void 0===e?void 0:e.planType;return(0,P.jsx)(Yn,{onboardingState:t,intentType:n})}const eo={stageName:"onboarding_plan_type_choose",shouldSkip:e=>!("partner_program_onboarding_flow"!==e.flowName||!Boolean(e.selectedEligibleWorkspaceId)),getTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"How do you want to use Notion?",id:"onboardingWorkspacePlanChoose.step.titleV2"}),getSubTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"This helps customize your experience",id:"onboardingWorkspacePlanChoose.step.subtitleV2"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)},onContinue(e,t){var n,o;const a=null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.planType;void 0!==a?(null!==(o=t.onboardingData)&&void 0!==o&&o.canUserCreateSpace||(0,I().handleUserCanNotCreateSpace)(e,t),v().ut(e,{...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:t,spaceJoinOrCreate:"create",environment:e}),planType:a})):St().log({level:"error",from:"OnboardingWorkspacePlanChoose",type:"unexpectedValue",error:{message:"Unexpected Value: onboardingState.planSelection is undefined."}})},getContinueButtonStyles:()=>({width:300,height:36,marginTop:64}),isBackEnabled:e=>!e.isFirstTimeOnboarding||0!==e.joinableSpaces.length,renderStage:()=>(0,P.jsx)($n,{}),headerStyles:{textAlign:"center"},renderContentUnderContinueButton:(e,t)=>(0,P.jsx)("div",{style:{marginTop:48},children:(0,P.jsx)(Zn,{onboardingState:e})}),shouldHideDesktopBottomContent(e){const t=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=t&&t.planType)},alignment:$().C.Center},to={stageName:"mobile_onboarding_plan_type_choose",shouldSkip:()=>!1,getTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"How do you want to use Notion?",id:"onboardingWorkspacePlanChoose.mobileStep.titleV2"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)},onContinue(e,t){var n,o;const a=null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.planType;void 0!==a?(null!==(o=t.onboardingData)&&void 0!==o&&o.canUserCreateSpace||(0,I().handleUserCanNotCreateSpace)(e,t),v().ut(e,{...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:t,spaceJoinOrCreate:"create",environment:e}),planType:a})):St().log({level:"error",from:"OnboardingWorkspacePlanChoose",type:"unexpectedValue",error:{message:"Unexpected Value: onboardingState.planSelection is undefined."}})},isBackEnabled:e=>0!==e.joinableSpaces.length,renderStage:()=>(0,P.jsx)(Xn,{}),headerStyles:{textAlign:"center"},alignment:$().C.Start};var no=()=>n(560686),oo=()=>n(660237);function ao(e){const{countryCode:t,onClick:n,emailOptIn:o,device:a}=e,i=(0,c().DP)(),s=(0,u().K8)((()=>a.isMobile&&(0,Fe().S5)()),[a]),r="out"===(0,oo().eh)(t).opt,l=r?(0,P.jsx)(y().sA,{id:"onboardingEmailConsent.checkbox.optOutlabel",defaultMessage:"No, I do not want to receive marketing communications from Notion."}):(0,P.jsx)(y().sA,{id:"onboardingEmailConsent.checkbox.optInlabelV2",defaultMessage:"I agree to Notion marketing communications"});return(0,P.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:a.isMobile?12:4},children:(0,P.jsxs)("div",{onClick:n,style:{cursor:"pointer",display:"flex",alignItems:"center"},children:[s?(0,P.jsx)(It().T,{style:{margin:8,marginLeft:0},checked:r?!o:o,size:16,onClick:n,stroke:i.stroke.input}):(0,P.jsx)("input",{type:"checkbox",style:{margin:10,marginLeft:0,borderRadius:2,cursor:"pointer",accentColor:ne().Ay.blue,transform:e.device.isSafari?"scale(1.25)":"scale(1)"},checked:r?!o:o,onChange:n}),(0,P.jsx)(X().A,{isMultiline:!0,isSmall:!0,isSecondaryColor:!s,children:l})]})})}function io(e){let{style:t}=e;const n=(0,c().DP)();return(0,P.jsx)(X().A,{isMultiline:!0,isSmall:!0,isSecondaryColor:!0,style:{marginTop:8,...t},children:(0,P.jsx)(y().sA,{id:"onboardingEmailConsent.unsubscribe.label",defaultMessage:"You may unsubscribe from receiving marketing communications at any time. Notion's websites and communications are subject to our <privacypolicy>Privacy Policy</privacypolicy>.",values:{privacypolicy:e=>(0,P.jsx)(Qn().A,{href:"https://www.notion.so/Privacy-Policy-3468d120cf614d4c9014c09f6adc9091",external:!0,onClick:e=>e.stopPropagation(),style:{fontWeight:me().Wy.semibold,textDecoration:"auto",color:n.text.tertiary},children:e})}})})}n(816573),n(878100),n(177936),n(748140),n(821903),n(491134),n(128845),n(237467),n(444732),n(979577),n(964979);var so=()=>n(851979);const ro=(0,Pt().wt)("photoBadgePlus",{viewBox:"0 0 24 24",svg:(0,P.jsx)("path",{d:"M6.18945 18.0176C5.43294 18.0176 4.85645 17.8216 4.45996 17.4297C4.06803 17.0378 3.87207 16.4704 3.87207 15.7275V7.42188C3.87207 6.66992 4.06803 6.10026 4.45996 5.71289C4.85645 5.32096 5.43294 5.125 6.18945 5.125H17.8037C18.5602 5.125 19.1344 5.32096 19.5264 5.71289C19.9183 6.10482 20.1143 6.67448 20.1143 7.42188V11.209C19.9912 11.1908 19.8659 11.1748 19.7383 11.1611C19.6152 11.1475 19.4899 11.1406 19.3623 11.1406C19.2347 11.1406 19.1048 11.1475 18.9727 11.1611C18.8451 11.1748 18.7197 11.193 18.5967 11.2158V7.5791C18.5967 7.26465 18.5169 7.02995 18.3574 6.875C18.1979 6.72005 17.9701 6.64258 17.6738 6.64258H6.3125C6.01172 6.64258 5.78158 6.72005 5.62207 6.875C5.46712 7.02995 5.38965 7.26465 5.38965 7.5791V14.7227L7.16699 13.1299C7.30827 13.0023 7.44954 12.9089 7.59082 12.8496C7.7321 12.7858 7.88477 12.7539 8.04883 12.7539C8.20378 12.7539 8.35872 12.7881 8.51367 12.8564C8.67318 12.9202 8.82585 13.0137 8.97168 13.1367L10.2295 14.2715L13.3125 11.5166C13.472 11.3799 13.6361 11.2796 13.8047 11.2158C13.9733 11.1475 14.151 11.1133 14.3379 11.1133C14.5202 11.1133 14.6979 11.1475 14.8711 11.2158C15.0488 11.2842 15.2106 11.389 15.3564 11.5303L16.2656 12.3848C15.819 12.7904 15.4635 13.278 15.1992 13.8477C14.9395 14.4173 14.8096 15.0303 14.8096 15.6865C14.8096 16.1104 14.8665 16.5182 14.9805 16.9102C15.099 17.3066 15.263 17.6758 15.4727 18.0176H6.18945ZM9.32031 11.7422C9.01497 11.7422 8.73698 11.667 8.48633 11.5166C8.23568 11.3662 8.03516 11.1657 7.88477 10.915C7.73438 10.6598 7.65918 10.3796 7.65918 10.0742C7.65918 9.77344 7.73438 9.49772 7.88477 9.24707C8.03516 8.99186 8.23568 8.78906 8.48633 8.63867C8.73698 8.48828 9.01497 8.41309 9.32031 8.41309C9.62565 8.41309 9.90137 8.48828 10.1475 8.63867C10.3981 8.78906 10.5986 8.99186 10.749 9.24707C10.8994 9.49772 10.9746 9.77344 10.9746 10.0742C10.9746 10.3796 10.8994 10.6598 10.749 10.915C10.5986 11.1657 10.3981 11.3662 10.1475 11.5166C9.90137 11.667 9.62565 11.7422 9.32031 11.7422ZM19.3691 19.2412C18.8815 19.2412 18.4235 19.1478 17.9951 18.9609C17.5667 18.7741 17.1885 18.5166 16.8604 18.1885C16.5368 17.8649 16.2816 17.4889 16.0947 17.0605C15.9079 16.6322 15.8145 16.1742 15.8145 15.6865C15.8145 15.1943 15.9079 14.7363 16.0947 14.3125C16.2816 13.8841 16.5368 13.5059 16.8604 13.1777C17.1885 12.8496 17.5667 12.5944 17.9951 12.4121C18.4235 12.2253 18.8815 12.1318 19.3691 12.1318C19.8568 12.1318 20.3148 12.2253 20.7432 12.4121C21.1715 12.5944 21.5498 12.8496 21.8779 13.1777C22.2061 13.5013 22.4613 13.8773 22.6436 14.3057C22.8258 14.734 22.917 15.1943 22.917 15.6865C22.917 16.1696 22.8236 16.6253 22.6367 17.0537C22.4544 17.4821 22.1992 17.8604 21.8711 18.1885C21.543 18.5166 21.1647 18.7741 20.7363 18.9609C20.3079 19.1478 19.8522 19.2412 19.3691 19.2412ZM19.3691 17.9561C19.5195 17.9561 19.6403 17.9105 19.7314 17.8193C19.8226 17.7282 19.8682 17.6074 19.8682 17.457V16.1855H21.1396C21.2855 16.1855 21.404 16.14 21.4951 16.0488C21.5908 15.9577 21.6387 15.8369 21.6387 15.6865C21.6387 15.5361 21.5908 15.4154 21.4951 15.3242C21.404 15.2331 21.2855 15.1875 21.1396 15.1875H19.8682V13.9229C19.8682 13.7725 19.8226 13.6517 19.7314 13.5605C19.6403 13.4694 19.5195 13.4238 19.3691 13.4238C19.2188 13.4238 19.098 13.4694 19.0068 13.5605C18.9157 13.6517 18.8701 13.7725 18.8701 13.9229V15.1875H17.5986C17.4482 15.1875 17.3275 15.2331 17.2363 15.3242C17.1452 15.4154 17.0996 15.5361 17.0996 15.6865C17.0996 15.8369 17.1452 15.9577 17.2363 16.0488C17.332 16.14 17.4528 16.1855 17.5986 16.1855H18.8701V17.457C18.8701 17.6074 18.9157 17.7282 19.0068 17.8193C19.098 17.9105 19.2188 17.9561 19.3691 17.9561Z"})});var lo=()=>n(496414),uo=()=>n(892632),co=()=>n(802790),go=()=>n(807683),po=()=>n(623580),mo=()=>n(545805),fo=()=>n(15144),yo=()=>n(360083),bo=()=>n(898486),vo=()=>n(876853),ho=()=>n(757695);class xo extends ho().Store{getInitialState(){return{showPassword:!1,displayPasswordInput:!0}}}const So=xo;function wo(e){let{device:t,shouldUseNewMobileProfileDesign:n}=e;return(0,c().IS)((e=>({input:{backgroundColor:"transparent",height:31,borderRadius:6},saveNewPasswordInput:{display:"flex",flexDirection:"column",textAlign:"left",width:"100%"},eyeIcon:{width:t.isMobile?18:16,height:t.isMobile?18:16,fill:e.icon.tertiary,padding:1},eyeHideIcon:{width:t.isMobile?18:16,height:t.isMobile?18:16,fill:e.icon.tertiary,paddingLeft:2},newPasswordHint:{borderRadius:12,background:e.tint.regular,width:"100%",fontSize:13,color:e.text.secondary,padding:6,marginTop:12},profilePhotoButton:{width:n?72:112,height:n?72:112,borderRadius:"100%",margin:"0 auto",marginTop:n?8:48,marginBottom:n?8:12},placeholderAvatar:{display:"flex",justifyContent:"center",alignItems:"center"},profileName:{marginBottom:24,border:"none",background:"none",width:"auto",maxWidth:256,height:32,borderRadius:6,boxShadow:"none",color:e.text.secondary},profileNameInput:{height:32,fontSize:26,fontWeight:me().Wy.bold,color:e.text.primary},profileNameInputLabel:{color:e.text.secondary,fontSize:12,display:"flex",justifyContent:"center"},placeholderImage:{position:"absolute",width:n?40:t.isMobile?72:48,height:n?40:t.isMobile?72:48,opacity:n?.5:t.isMobile?.2:1,objectFit:"cover",borderRadius:"100%",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},photoBadgePlusContainer:{position:"absolute",bottom:-7,right:-7,width:42,height:42,borderRadius:"50%",border:`4px solid ${e.surface.wash}`,background:e.stroke.primary,backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)"},photoBadgePlus:{width:26,height:26,marginTop:4,marginLeft:4,fill:e.icon.secondary},mobileFormLabel:{fontSize:12,color:e.text.secondary,fontWeight:500,marginTop:20,marginBottom:4},mobileInput:{height:42,backgroundColor:"transparent",borderRadius:10,...n&&{border:`1px solid ${e.stroke.primary}`,background:"none"}}})),[t.isMobile,n])}function jo(){const e=(0,u().uB)(void 0,So),t=(0,y().tz)(),a=(0,c().DP)(),i=(0,d().v3)(),r=(0,u().O$)(_().A),l=wo({device:i.device}),{profilePhoto:p,profileName:m,password:f}=r,b="dark"===(0,c().eP)()?g().A.images.onboarding.profilePlaceholderDarkmodePng:g().A.images.onboarding.profilePlaceholderLightmodePng,v=!p&&m,h=(0,u().K8)((()=>e.state.invalidField),[e]),x=(0,u().K8)((()=>e.state.showPassword),[e]),w=(0,u().K8)((()=>"performance_marketing_term_onboarding"===r.flowName),[r.flowName]),[j,C]=(0,o.useState)(!1),[A,k]=(0,o.useState)(""),I=(0,n(963589).X)("onboarding_profile_enable_notion_faces");(0,o.useEffect)((()=>{if(!I)return;const e=e=>{if(!e.data.profilePhotoData)return;lo().m({message:(0,y().YK)({savingProfilePhoto:{defaultMessage:"Saving your profile photo",id:"contextualizedOnboardingProfile.uploadingFacesProfilePhoto"}}).savingProfilePhoto});const t=function(e){try{let t;t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):unescape(e.split(",")[1]);const n=e.split(",")[0].split(":")[1].split(";")[0],o=new Uint8Array(t.length);for(let e=0;e<t.length;e++)o[e]=t.charCodeAt(e);return new Blob([o],{type:n})}catch{return null}}(e.data.profilePhotoData);if(!t)return void lo().V();const n=new File([t],"notion-profile-photo.png",{type:"image/png"});uo().cA(n,i,"public",(t=>{k(e.data.faceString),Po(t,i),lo().V(),C(!1)}))};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[i,t,I]);const[N,B]=(0,o.useState)(null),[R,D]=(0,o.useState)(),z=(0,u().K8)((()=>{const e=(0,T().getStageName)({flowName:r.flowName,stageIndex:r.currentStageIndex,environment:i});return ws[e]}),[r,i]),O=(0,u().K8)((()=>null==z?void 0:z.isContinueEnabled(r,i)),[z,r,i]),W=!w;return(0,P.jsx)(mo().A,{capture:!0,debugName:"ContextualizedOnboardingProfile",onEnter:async()=>{O&&await(0,M().goToNextStage)({environment:i,onboardingState:r})},onLeft:$e().D_,onRight:$e().D_,onSelectAll:$e().D_,onRedo:$e().D_,onUndo:$e().D_,onCut:$e().D_,onCopy:$e().D_,onPaste:$e().D_,onKeypress:$e().D_,onDelete:$e().D_,onBackspace:$e().D_,onTab:$e().D_,children:(0,P.jsxs)("div",{style:{width:300,alignSelf:"center",marginTop:w?0:36},children:[I&&(0,P.jsx)(n(676007).a,{style:{width:"80vw",height:"80vh",left:0,right:0,margin:"auto",position:"absolute",top:48},showCloseIcon:!1,onDismiss:()=>{C(!1)},open:j,backgroundStyle:{inset:"initial"},render:()=>(0,P.jsx)("div",{style:{width:"80vw",height:"80vh"},children:(0,P.jsx)("iframe",{name:"test",src:`http://faces.notion.com?face=${A}`,style:{width:"80vw",height:"80vh",border:"none"}})})}),W&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Ne().A,{onClick:()=>{I?C(!0):_o(i)},style:{width:64,height:64,borderRadius:"100%",boxShadow:"none",overflow:"hidden",margin:"0 auto",...v&&{display:"flex",justifyContent:"center",alignItems:"center",background:a.whiteButtonBackground},...!p&&{position:"relative",opacity:.2,background:a.stroke.primary}},children:v?(0,P.jsx)("div",{style:{fontWeight:me().Wy.bold,color:a.icon.secondary,fontSize:24},children:m.charAt(0).toUpperCase()}):p?(0,P.jsx)(yo().A,{url:p,isAuthenticated:!1,width:120,stripGoogleIconQuery:!0,render:(e,t)=>(0,P.jsx)(go().Ay,{src:t,style:{width:"100%",height:"100%",objectFit:"cover"}})}):(0,P.jsx)(yo().A,{url:b,isAuthenticated:!1,width:120,stripGoogleIconQuery:!0,render:(e,t)=>(0,P.jsx)("div",{children:(0,P.jsx)(go().Ay,{src:t,style:l.placeholderImage})})})}),(0,P.jsx)("div",{style:{width:"100%",textAlign:"center",marginTop:8},children:(0,P.jsx)("div",{style:{display:"inline-block"},children:(0,P.jsxs)(S().p,{size:"sm",isGray:!0,onClick:()=>{I?C(!0):_o(i)},style:{fontSize:14,fontWeight:400,marginTop:4,fontStyle:"normal",lineHeight:18,color:a.text.secondary},children:[ro({width:18,height:18,marginRight:4}),p?(0,P.jsx)(y().sA,{defaultMessage:"Change",id:"contextualizedOnboardingProfile.changeProfilePhotoButton.label"}):(0,P.jsx)(y().sA,{defaultMessage:"Add a photo",id:"contextualizedOnboardingProfile.addProfilePhotoButton.label"})]})})})]}),(0,P.jsx)("div",{style:{...s().Gy,marginTop:36,color:a.text.secondary},children:(0,P.jsx)(y().sA,{defaultMessage:"Enter your name",id:"onboardingProfile.nameQuestion.labelV2"})}),(0,P.jsx)(po().A,{autoFocus:!0,placeholder:t.formatMessage({defaultMessage:"Name",id:"contextualizedOnboardingProfile.nameInput.placeholder"}),value:m,onChange:e=>{_().A.setState({...r,profileName:e.target.value}),D(Mo(e.target.value))},style:{marginRight:4,...l.input,..."name"===h?s().Hp:{}}}),R&&(0,P.jsx)("div",{style:{marginTop:4},children:(0,P.jsx)(fo().R,{id:"onboarding-name-validation-error",error:R})}),r.isPasswordRequired&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{style:{...s().Gy,marginTop:24,color:a.text.secondary},children:(0,P.jsx)(y().sA,{defaultMessage:"Set a password",id:"contextualizedOnboardingProfile.passwordQuestion.label"})}),(0,P.jsx)(po().A,{type:x?"text":"password",value:f||void 0,onChange:e=>{_().A.setState({...r,password:e.target.value}),B(null)},onIconClick:()=>e.setState({showPassword:!e.state.showPassword,displayPasswordInput:e.state.displayPasswordInput}),icon:(0,so().h)({width:16,height:16,fill:a.icon.tertiary}),onClearButtonClick:()=>_().A.setState({...r,password:void 0}),placeholder:t.formatMessage({defaultMessage:"Password",id:"contextualizedOnboardingProfile.passwordInput.placeholderV2"}),style:{...l.input,..."password"===h?s().Hp:{}},onBlur:()=>{const{password:e}=r;if(e){const t=(0,no().ZK)(e);t.success||(_().A.setState({...r}),B(t.reason))}},autoComplete:"new-password"}),(0,P.jsx)(X().A,{isMultiline:!0,isSecondaryColor:!0,style:{fontSize:12,lineHeight:"16px",visibility:f?void 0:"hidden",color:ne().Ay.red,marginTop:4},children:(0,P.jsx)(Co,{passwordErrorData:N})})]})]})})}function Co(e){let{passwordErrorData:t}=e;if(!t)return null;const n=bo().K$[t.type];return(0,P.jsx)(y().sA,{...n})}function Ao(){const e=(0,u().O$)(_().A),{profileName:t,profilePhoto:n}=e,o=(0,d().v3)(),a=(0,y().tz)(),i=wo({device:o.device}),s="dark"===(0,c().eP)(),r=s?g().A.images.onboarding.profilePlaceholderDarkmodePng:g().A.images.onboarding.profilePlaceholderLightmodePng,l=s?g().A.images.onboarding.personCarryingStuffDarkmodePng:g().A.images.onboarding.personCarryingStuffLightmodePng,p=(0,c().DP)(),m=!n&&t,f=a.formatMessage({defaultMessage:"Your name",id:"contextualizedOnboardingProfile.profile.rightContent.nameInput.placeholder"});return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("img",{style:{height:218,width:218,position:"relative",top:174,left:36,zIndex:2,objectFit:"contain",...s&&{width:170,height:170,left:0}},src:l}),(0,P.jsxs)("div",{style:{width:300,height:300,display:"flex",flexDirection:"column",background:p.surface.elevated,color:p.stroke.secondary,borderRadius:24,border:`1px solid ${p.stroke.secondary}`,transform:"rotate(345deg)",marginLeft:-96,alignItems:"center"},children:[(0,P.jsx)("div",{style:{...i.profilePhotoButton,display:"flex",alignItems:"center",justifyContent:"center",background:n?"none":p.stroke.primary,opacity:n?1:.2},children:m?(0,P.jsx)("div",{style:{fontWeight:me().Wy.bold,color:p.icon.secondary,fontSize:36},children:t.charAt(0).toUpperCase()}):n?(0,P.jsx)(yo().A,{url:n,isAuthenticated:!1,width:112,stripGoogleIconQuery:!0,render:(e,t)=>(0,P.jsx)(go().Ay,{src:t,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"100%"}})}):(0,P.jsx)("div",{style:i.placeholderAvatar,children:(0,P.jsx)(yo().A,{url:r,isAuthenticated:!1,width:112,stripGoogleIconQuery:!0,render:(e,t)=>(0,P.jsx)(go().Ay,{src:t,style:{...i.placeholderImage,width:64,height:64,left:void 0,top:void 0}})})})}),(0,P.jsx)(S().p,{size:"sm",isGray:!0,onClick:()=>_o(o),style:{fontSize:14,fontWeight:400,marginTop:4,fontStyle:"normal",lineHeight:18,color:p.text.secondary}}),(0,P.jsx)("div",{style:{color:p.text.quaternary,fontSize:26,fontWeight:me().Wy.bold,maxWidth:240,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t&&t.length>0?t:f}),(0,P.jsx)("div",{style:{color:p.text.quaternary,fontSize:17},children:(0,P.jsx)(y().sA,{defaultMessage:"Toolmaker",id:"contextualizedOnboardingProfile.educationRole.label"})})]})]})}function ko(){var e;const t=(0,c().DP)(),n=(0,y().tz)(),a=(0,d().v3)(),i=(0,u().O$)(_().A),{profilePhoto:r,profileName:l,password:p}=i,m=(0,u().uB)(void 0,So),[f,b]=(0,o.useState)(),v=!r&&l,h=`\n\t.profileNameInput::placeholder {\n\t\tfont-size: 26px;\n\t\tfont-weight: ${me().Wy.bold};\n\t\tcolor: ${t.text.quaternary};\n\t\topacity: 1;\n\t\ttext-align: center;\n\t}\n\t.profileNameInput:focus-visible {\n\t\toutline: none;\n\t}\n\n\t.profileNameInput:placeholder-shown {\n\t\ttext-align: left;\n\t\twidth: 192px;\n\t}\n\n\t.profileNameInput {\n\t\ttext-align: center;\n\t\twidth: 100%;\n\t}\n`,x=(0,u().K8)((()=>a.device.isMobile&&(0,Fe().S5)()),[a.device.isMobile]),S=wo({device:a.device,shouldUseNewMobileProfileDesign:x}),w=(0,u().K8)((()=>m.state.invalidField),[m]),j=(0,u().K8)((()=>m.state.showPassword),[m]),[C,A]=(0,o.useState)(!1),k=(0,u().K8)((()=>"dark"===a.ThemeStore.state.mode?x?g().A.images.onboarding.profilePlaceholderDarkmodeV2Png:g().A.images.onboarding.profilePlaceholderDarkmodePng:x?g().A.images.onboarding.profilePlaceholderLightmodeV2Png:g().A.images.onboarding.profilePlaceholderLightmodePng),[a,x]);return(0,P.jsx)(mo().A,{debugName:"MobileOnboardingProfile",capture:!0,onLeft:$e().D_,onRight:$e().D_,onSelectAll:$e().D_,onRedo:$e().D_,onUndo:$e().D_,onCut:$e().D_,onCopy:$e().D_,onPaste:$e().D_,onKeypress:$e().D_,onDelete:$e().D_,onBackspace:$e().D_,onTab:$e().D_,children:(0,P.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[(0,P.jsxs)("div",{style:{width:164},children:[(0,P.jsx)(Ne().A,{onClick:()=>_o(a),style:{...S.profilePhotoButton,...v&&S.placeholderAvatar},children:v?(0,P.jsxs)("div",{style:{position:"relative"},children:[(0,P.jsx)("div",{style:{fontWeight:me().Wy.bold,color:t.icon.secondary,fontSize:40,width:x?72:112,height:x?72:112,alignContent:"center",justifyItems:"center",textAlign:"center",background:t.surface.elevated,border:x?`1px solid ${t.stroke.primary}`:`0.5px solid ${t.stroke.secondary}`,borderRadius:"100%"},children:l.charAt(0).toUpperCase()}),!x&&(0,P.jsx)("div",{style:S.photoBadgePlusContainer,children:ro(S.photoBadgePlus)})]}):r?(0,P.jsx)("div",{children:(0,P.jsx)(yo().A,{url:r,isAuthenticated:!1,width:120,stripGoogleIconQuery:!0,render:(e,t)=>(0,P.jsxs)("div",{style:{position:"relative"},children:[(0,P.jsx)(go().Ay,{src:t,style:{width:x?72:112,height:x?72:112,objectFit:"cover",borderRadius:"100%"}}),!x&&(0,P.jsx)("div",{style:S.photoBadgePlusContainer,children:ro(S.photoBadgePlus)})]})})}):(0,P.jsx)("div",{children:(0,P.jsx)(yo().A,{url:k,isAuthenticated:!1,width:120,stripGoogleIconQuery:!0,render:(e,n)=>(0,P.jsxs)("div",{style:{position:"relative",width:x?72:112,height:x?72:112,background:t.tint.regular,borderRadius:"100%",...x&&{border:`1px solid ${t.stroke.primary}`}},children:[(0,P.jsx)(go().Ay,{src:n,style:S.placeholderImage}),!x&&(0,P.jsx)("div",{style:S.photoBadgePlusContainer,children:ro(S.photoBadgePlus)})]})})})}),x&&(0,P.jsx)("div",{style:S.profileNameInputLabel,children:(0,P.jsx)(y().sA,{defaultMessage:"Upload photo (optional)",id:"contextualizedOnboardingProfile.uploadPhoto.label"})})]}),x?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{style:{...s().Gy,marginTop:16,marginBottom:10,color:t.text.secondary,alignSelf:"baseline"},children:(0,P.jsx)(y().sA,{defaultMessage:"Enter your name",id:"contextualizedOnboardingProfile.profileNameQuestion.label"})}),(0,P.jsx)(po().A,{type:"text",autoComplete:"off",preventSafariAutofill:!0,autoFocus:!0,value:l,onChange:e=>{_().A.update((t=>({...t,profileName:e.target.value}))),b(Mo(e.target.value))},placeholder:n.formatMessage({id:"onboardingProfile.mobile.nameInput.placeholderV3",defaultMessage:"Your name..."}),style:S.mobileInput,errorOutline:Boolean(f)}),f&&(0,P.jsx)("div",{style:{marginTop:4},children:(0,P.jsx)(fo().R,{id:"onboarding-name-validation-error",error:f})})]}):(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("style",{children:h}),(0,P.jsx)(po().A,{type:"text",autoComplete:"off",preventSafariAutofill:!0,autoFocus:!0,inputClassName:"profileNameInput",format:po().C.Transparent,focusInitial:!0,value:l,placeholder:n.formatMessage({defaultMessage:"Your name",id:"onboardingProfile.mobile.nameInput.placeholderV2"}),onChange:e=>{_().A.setState({...i,profileName:e.target.value}),b(Mo(e.target.value))},style:S.profileName,inputStyle:S.profileNameInput,overrideDefaultWidth:!0}),f&&(0,P.jsx)("div",{style:{marginTop:4},children:(0,P.jsx)(fo().R,{id:"onboarding-name-validation-error",error:f})}),(0,P.jsx)(co().A,{size:.5,dividerColor:t.stroke.secondary})]}),i.isPasswordRequired&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{style:{...s().Gy,marginTop:24,color:t.text.secondary,alignSelf:"baseline",...x&&{marginBottom:10}},children:(0,P.jsx)(y().sA,{defaultMessage:"Set a password",id:"contextualizedOnboardingProfile.passwordQuestion.label"})}),(0,P.jsx)(po().A,{onFocus:()=>A(!0),type:j?"text":"password",value:p||void 0,onChange:e=>{_().A.setState({...i,password:e.target.value})},onIconClick:()=>m.setState({showPassword:!m.state.showPassword,displayPasswordInput:m.state.displayPasswordInput}),icon:(0,so().h)({width:16,height:16,fill:t.icon.tertiary}),onClearButtonClick:()=>_().A.setState({...i,password:void 0}),placeholder:n.formatMessage(x?{defaultMessage:"Your password...",id:"contextualizedOnboardingProfile.passwordInput.placeholderV3"}:{defaultMessage:"Password",id:"contextualizedOnboardingProfile.passwordInput.placeholderV2"}),style:{...S.mobileInput,..."password"===w?s().Hp:{}},onBlur:()=>{const{password:e}=i;if(e){(0,no().ZK)(e).success||_().A.setState({...i})}A(!1)},autoComplete:"new-password"}),(p||C)&&(0,P.jsx)(To,{onboardingState:i,store:m})]}),x&&(0,P.jsx)(co().A,{size:.5,dividerColor:t.stroke.secondary,style:{marginTop:28}}),(0,P.jsx)(ao,{countryCode:null===(e=i.onboardingData)||void 0===e?void 0:e.countryCode,onClick:()=>{_().A.setState({...i,emailOptIn:!i.emailOptIn})},emailOptIn:Boolean(i.emailOptIn),device:a.device}),(0,P.jsx)(io,{style:{textAlign:"center",paddingBottom:32,...x&&{color:t.text.secondary,fontWeight:me().Wy.regular}}})]})})}const Io=(0,y().YK)({untransliteratible:{defaultMessage:"Please enter a valid name",id:"contextualizedOnboardingProfile.nameError.label"},tooLong:{defaultMessage:"Name must be at most 65 characters",id:"contextualizedOnboardingProfile.nameErrorTooLong.label"},empty:{defaultMessage:"Name must not be empty",id:"contextualizedOnboardingProfile.nameErrorEmpty.label"}});function Mo(e){return e?(0,vo().r)(e)?e.length>65?Io.tooLong:void 0:Io.untransliteratible:Io.empty}function To(e){let{onboardingState:t,store:n}=e;const o=(0,c().DP)(),a=(0,y().tz)(),i=(0,d().v3)(),{password:s}=t,r=wo({device:i.device}),l=[{description:a.formatMessage({id:"onboardingProfile.passwordHint.numbers",defaultMessage:"1 number and 1 letter"}),validator:e=>Boolean((0,no().lO)(e)&&(0,no().aC)(e))},{description:a.formatMessage({id:"onboardingProfile.passwordHint.uniqueCharacters",defaultMessage:"3 unique characters"}),validator:e=>$e().sb(e).length>=3},{description:a.formatMessage({id:"onboardingProfile.passwordHint.numCharacters",defaultMessage:"8 or more characters"}),validator:e=>e.length>=8}];return(0,P.jsx)("div",{style:r.newPasswordHint,children:l.map(((e,t)=>{const{description:n,validator:a}=e;return(0,P.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:4},children:[n,(0,P.jsx)(It().T,{fill:o.whiteButtonBackground,checked:Boolean(s)&&a(s??""),round:!0,size:20})]},t)}))})}function _o(e){uo().Bz({environment:e,bucket:"public",onComplete:t=>Po(t,e),accept:"image/*"})}function Po(e,t){v().RZ(t,(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:_().A.state,environment:t})),_().A.setState({..._().A.state,profilePhoto:e[0]})}const No={stageName:"profile",shouldSkip(){const{onboardingData:e,isFirstTimeOnboarding:t}=_().A.state;if(!e)return!1;if(!1===t)return!0;const n=s().TV({userStore:e.userStore});return Boolean(n)},getTitle:e=>tn().yN.includes((null==e?void 0:e.flowName)??"")?(0,P.jsx)(y().sA,{defaultMessage:"Welcome! Im Notion Assistant. Im here to help get you set up.",id:"onboarding.profileStageWithAssistant.title"}):(0,P.jsx)(y().sA,{defaultMessage:"Create a profile",id:"onboarding.educationProfileStage.title"}),getSubTitle:e=>"performance_marketing_term_onboarding"===(null==e?void 0:e.flowName)?null:tn().yN.includes((null==e?void 0:e.flowName)??"")?(0,P.jsx)(y().sA,{defaultMessage:"First, lets create your profile.",id:"onboarding.profileStageWithAssistant.subtitle"}):(0,P.jsx)(y().sA,{defaultMessage:"This is how youll appear in Notion",id:"onboarding.educationProfileStage.subtitle"}),isContinueEnabled:e=>!Mo(e.profileName)&&(!e.isPasswordRequired||void 0!==e.password&&(0,no().ZK)(e.password).success),async onContinue(e,t){await(0,I().setProfileData)(e,t),_().A.setState({...t,password:void 0}),await(0,M().maybeCompleteOnboardingAfterProfileStage)(e)},isBackEnabled:e=>!1,renderStage:()=>(0,P.jsx)(jo,{}),renderRightContent(e){if("education_flow"===e.flowName)return(0,P.jsx)(Ao,{})},renderContentUnderContinueButton(e,t){var n;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(ao,{countryCode:null===(n=e.onboardingData)||void 0===n?void 0:n.countryCode,onClick:()=>{_().A.setState({...e,emailOptIn:!e.emailOptIn})},emailOptIn:Boolean(e.emailOptIn),device:t.device}),"education_flow"!==e.flowName&&(0,P.jsx)(io,{style:{textAlign:"center",paddingBottom:32,paddingTop:32,maxWidth:520}})]})},renderFooter:e=>"education_flow"===e.flowName?(0,P.jsx)(io,{}):void 0,getContinueButtonStyles:()=>({height:32,width:300,marginTop:70,alignSelf:"center"}),headerStyles:{width:void 0},alignment:$().C.Center};function Bo(e){const{onboardingData:t,isFirstTimeOnboarding:n}=e;if(!t)return!1;if(!1===n)return!0;const o=s().TV({userStore:t.userStore});return Boolean(o)}const Ro={stageName:"mobile_profile",shouldSkip:Bo,estimateWillSkip:Bo,getTitle:e=>tn().yN.includes((null==e?void 0:e.flowName)??"")?(0,P.jsx)(y().sA,{defaultMessage:"Welcome! Im Notion Assistant. Im here to help get you set up.",id:"contextualizedOnboarding.educationProfileStageMobileWithAssistant.title"}):(0,P.jsx)(y().sA,{defaultMessage:"Create your profile",id:"contextualizedOnboarding.educationProfileStageMobile.title"}),isContinueEnabled:e=>!Mo(e.profileName)&&(!e.isPasswordRequired||void 0!==e.password&&(0,no().ZK)(e.password).success),async onContinue(e,t){await(0,I().setProfileData)(e,t),_().A.setState({...t,password:void 0}),await(0,M().maybeCompleteOnboardingAfterProfileStage)(e)},isBackEnabled:(e,t)=>"optional_to_download"===(0,Fe().el)({environment:t}),renderStage:()=>(0,P.jsx)(ko,{})};var Do=n.n(n(794148));const zo=n.p+"c1ed9a43f57416fa.png",Oo=n.p+"317523fa6ad5b098.png";function Wo(e){const{children:t}=e,n=(0,c().IS)((()=>({wrapper:{marginTop:38,marginBottom:32,display:"flex",alignItems:"center",justifyContent:"center"}})),[]);return(0,P.jsx)("div",{style:n.wrapper,children:t})}function Eo(e){const{isSelected:t,illustrationPath:n,illustrationAlt:o,buttonClassName:a,title:i,subtitle:s,onClick:r}=e,l=function(e){const{isMobile:t,isSelected:n}=e;return(0,c().IS)((e=>({toggleButtonStyle:{alignItems:"center",justifyContent:"center",whiteSpace:"normal",borderRadius:12,fontSize:14,lineHeight:1.2,position:"relative",transition:"all 200ms ease",display:"flex",flexDirection:t?"row":"column",padding:20,marginTop:20,...n?{boxShadow:`${ne().Ay.blue} 0 0 0 2px, rgba(182, 182, 182, 0.25) 0px 8px 12px`}:{boxShadow:`${e.outlineButtonBorder} 0 0 0 1px, rgba(167, 167, 167, 0.25) 0px 1px 2px`,opacity:.7},height:100,...t&&{minHeight:110},...!t&&{width:172,height:200,textAlign:"center",margin:"0px 10px"}},toggleButtonHoveredStyle:{opacity:1},toggleButtonPressedStyle:{opacity:1},buttonIllustrationWrapperStyle:{marginTop:8,height:60,width:90,...t&&{textAlign:"center",width:85,height:57,marginRight:8}},buttonHeadingStyle:{fontWeight:me().Wy.medium,fontSize:t?16:14,marginTop:t?10:17,color:e.text.primary},buttonSubheadingStyle:{color:e.text.secondary,fontWeight:me().Wy.regular,fontSize:14,lineHeight:1.4,transition:"all 200ms ease",marginTop:4,marginBottom:8,display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:3,overflow:"hidden"},imageWrapStyle:{position:"absolute",bottom:-40,left:89}})),[t,n])}({isMobile:!1,isSelected:t});return(0,P.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,P.jsxs)(Ne().A,{style:l.toggleButtonStyle,hoveredStyle:l.toggleButtonHoveredStyle,pressedStyle:l.toggleButtonPressedStyle,onClick:r,className:a,children:[n?(0,P.jsx)("div",{style:l.buttonIllustrationWrapperStyle,children:(0,P.jsx)("img",{src:n,alt:o,style:{height:"100%"}})}):null,(0,P.jsxs)("main",{children:[(0,P.jsx)("header",{style:l.buttonHeadingStyle,children:i}),s?(0,P.jsx)("p",{style:l.buttonSubheadingStyle,children:s}):null]})]})})}const Lo=[{key:"todos",useCaseKey:"project",categoryKey:"todos",illustrationPath:n.p+"08098f9300b35bc6.png",...(0,y().YK)({title:{defaultMessage:"Make a to do list",id:"onboardingUseCasePicker.todoList.title"},illustrationAlt:{defaultMessage:"Illustration of three hands writing with pencils",id:"onboardingUseCasePicker.todoList.imgAlt"}})},{key:"docs",useCaseKey:"docs",categoryKey:"notes",illustrationPath:zo,...(0,y().YK)({title:{defaultMessage:"Organize docs",id:"onboardingUseCasePicker.docs.title"},illustrationAlt:{defaultMessage:"Illustration of three open books stacked on top of each other",id:"onboardingUseCasePicker.docs.imgAlt"}})},{key:"other",useCaseKey:"other",categoryKey:"other",illustrationPath:Oo,...(0,y().YK)({title:{defaultMessage:"Something else",id:"onboardingUseCasePicker.other.title"},illustrationAlt:{defaultMessage:"Illustration of a pencil curved into an infinity sign",id:"onboardingUseCasePicker.other.imgAlt"}})}];function Fo(e){var t,n;let{planType:a}=e;const i=(0,u().O$)(_().A),s=(0,y().tz)();(0,o.useEffect)((()=>{l().default.manuallyLogExperimentExposure("adoption_diy_onboarding_template")}),[]);const r=null===(t=i.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.useCases,d=null===(n=i.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.categories;return(0,P.jsx)(Wo,{children:Lo.map((e=>(0,P.jsx)(Eo,{title:(0,P.jsx)(y().sA,{...e.title}),illustrationPath:e.illustrationPath,illustrationAlt:s.formatMessage(e.illustrationAlt),isSelected:"team"===a?(r??[]).includes(e.useCaseKey):(d??[]).includes(e.categoryKey),onClick:()=>{"team"===a?function(e,t){var n,o;const a=(null===(n=e.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.useCases)??[],i=a.includes(t)?[]:[t],s={...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses,useCases:i}}};_().A.setState(s)}(i,e.useCaseKey):function(e,t){var n,o;const a=(null===(n=e.planTypeAndSurveyInfo)||void 0===n||null===(n=n.surveyResponses)||void 0===n?void 0:n.categories)??[],i=a.includes(t)?[]:[t],s={...e,planTypeAndSurveyInfo:{...e.planTypeAndSurveyInfo,surveyResponses:{...null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.surveyResponses,categories:i}}};_().A.setState(s)}(i,e.categoryKey)},isSmallMobileScreen:!1},e.key)))})}const qo={stageName:"onboarding_use_case_picker",shouldSkip(e){var t;return"team"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)},getTitle:(e,t)=>(0,P.jsx)(y().sA,{defaultMessage:"What would you like to do first?",id:"onboardingSurvey.useCaseStage.title"}),getSubTitle:(e,t)=>(0,P.jsx)(y().sA,{defaultMessage:"This helps customize your experience",id:"onboardingSurvey.useCaseStage.subtitle"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.categories)},isBackEnabled:e=>!0,renderStage(e){var t;const n=null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType;return Do()(n,"Plan type must be defined before OnboardingUseCasePickerStage"),(0,P.jsx)(Fo,{planType:n})},shouldShowSkipButton:()=>!1,getContinueButtonStyles:()=>({width:300,height:36,marginTop:64}),getContinueButtonLabel:()=>(0,P.jsx)(y().sA,{defaultMessage:"Continue",id:"contextualizedOnboarding.continueButton.label"}),headerStyles:{textAlign:"center"},alignment:$().C.Center};n(737550);var Uo=()=>n(866961),Vo=()=>n(532500);const Ho=function(e){let{onboardingState:t}=e;const{onboardingData:n,flowName:o,currentStageIndex:a,joinableSpaces:i}=t;if(!n)throw new Error("onboardingData is not available");0===i.length&&St().log({level:"error",from:"OnboardingWorkspaceChoose",type:"handleOnboardingError",error:{message:"Unexpected state. There should always be at least 1 joinable space from the workspace chooser."},data:{miscDataToConvertToString:{flowName:o,currentStageIndex:a,onboardingDataJoinableSpaceData:n.joinableSpaceData,onboardingStateJoinableSpaces:t.joinableSpaces}}});const s="formSpaceId"in t?t.formSpaceId:void 0;return(0,P.jsxs)("div",{style:{width:406,alignSelf:"center",marginTop:20},children:[(0,P.jsx)(Go,{joinableSpaces:i,formResponseSpaceId:s}),(0,P.jsx)(Te,{onboardingState:t})]})};function Ko(e){let{onboardingState:t}=e;const{onboardingData:a,flowName:s,currentStageIndex:l,joinableSpaces:c}=t;if(!a)throw new Error("onboardingData is not available");const g=(0,d().v3)();(0,o.useEffect)((()=>{ke().FX(g,{can_user_create_space:a.canUserCreateSpace,is_new_user:0===(0,i().R)(r().default.state.currentUserRootStore),has_joinable_spaces:!0,onboarding_stage:(0,T().getStageName)({flowName:s,stageIndex:l,environment:g})})}),[g,a.canUserCreateSpace,s,l]);0===c.length&&St().log({level:"error",from:"OnboardingWorkspaceChoose",type:"handleOnboardingError",error:{message:"Unexpected state. There should always be at least 1 joinable space from the workspace chooser."},data:{miscDataToConvertToString:{flowName:s,currentStageIndex:l,onboardingDataJoinableSpaceData:a.joinableSpaceData,onboardingStateJoinableSpaces:t.joinableSpaces}}});const p=(0,u().K8)((()=>window.innerHeight<n(480388).M),[]),m="formSpaceId"in t?t.formSpaceId:void 0;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Go,{joinableSpaces:c,isSmallScreen:p,formResponseSpaceId:m}),(0,P.jsx)(_e,{canUserCreateSpace:a.canUserCreateSpace,onboardingState:t})]})}function Go(e){let{joinableSpaces:t,isSmallScreen:n,formResponseSpaceId:a}=e;const i=(0,Uo().U)(Ie().A.isMobile,n),r=(0,o.useCallback)((async(e,t,n,o,a)=>{await async function(e){let{environment:t,result:n,index:o,joinableSpaces:a,buttonPopupStore:i}=e;if("CAN_REQUEST"===n.joinabilityStatus)return void(n.requestMembershipCustomizationRedirectUrl?window.open(n.requestMembershipCustomizationRedirectUrl,"_blank"):i.setState({open:!0}));const r=s().I1(n),l=s().O5(n),d=_().A.state,u=function(e,t,n){if(!e)throw new Error("Onboarding data not found during workspace choose stage");if("guest_redirect"===(null==n?void 0:n.type))return{...e,redirectSpaceId:n.spaceId,redirectPageId:n.pageId,hasExplicitAccessToRedirectPage:!0,canJoinRedirectSpace:!1};return{...e,redirectSpaceId:t}}(d.onboardingData,l.spaceId,l.redirectData),c={...d,spaceId:l.spaceId,onboardingData:u};v().vc(t,{...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:c,environment:t,spaceJoinOrCreate:"join"}),join_space_type:r?"guest":"member",joined_space_id:n.id,joined_space_index:o,joined_space_from_domain:"CAN_JOIN"===n.joinabilityStatus,joined_space_has_invite:n.guestPageIds.length>0,num_of_joinable_spaces:(null==a?void 0:a.length)||0}),_().A.setState(c);try{await _().A.completeOnboarding(t,"join")}catch(g){(0,I().handleOnboardingError)(t,(0,b().A)(g))}}({environment:e,result:t,index:n,joinableSpaces:o,buttonPopupStore:a})}),[]);if(!t||0===t.length)return null;t.sort(((e,t)=>t.totalMemberCount-e.totalMemberCount));const l=a?t.find((e=>e.id===a)):void 0;return(0,P.jsxs)("div",{children:[l&&(0,P.jsxs)("div",{style:{marginBottom:16},children:[(0,P.jsx)("div",{style:i.inviteText,children:(0,P.jsx)(y().sA,{defaultMessage:"Join where form was created",id:"onboardingWorkspaceChoose.joinableSpaces.joinFormSpace.label"})}),(0,P.jsx)(Vo().I,{index:0,joinableSpace:l,joinableSpaces:t,onClick:r})]}),l?(0,P.jsx)("div",{style:i.inviteText,children:(0,P.jsx)(y().sA,{defaultMessage:"Join other workspaces",id:"onboardingWorkspaceChoose.joinableSpaces.joinOtherSpaces.label"})}):(0,P.jsx)("div",{style:i.inviteText,children:(0,P.jsx)(y().sA,{defaultMessage:"Invites",id:"onboardingWorkspaceChoose.joinableSpaces.invites.contextual.label"})}),t.filter(T().shouldShowWorkspaceInWorkspaceChooser).filter((e=>e.id!==(null==l?void 0:l.id))).map(((e,n)=>(0,P.jsx)(Vo().I,{joinableSpace:e,index:n+(l?1:0),joinableSpaces:t,onClick:r},e.id)))]})}function Jo(e){return!e.joinableSpaces.some(T().shouldShowWorkspaceInWorkspaceChooser)||"sidebar_switcher"===e.source}const Qo={stageName:"onboarding_workspace_choose",shouldSkip:Jo,estimateWillSkip:Jo,getTitle(e){const{onboardingData:t}=e;return null!=t&&t.canUserCreateSpace?(0,P.jsx)(y().sA,{defaultMessage:"Join teammates or create a workspace",id:"onboardingWorkspaceChoose.stage.titleV2.create"}):(0,P.jsx)(y().sA,{defaultMessage:"Join your teammates",id:"onboardingWorkspaceChoose.stage.titleV2.join"})},getSubTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"{numWorkspaces, plural, one {You've been invited to {numWorkspaces} workspace} other {You've been invited to {numWorkspaces} workspaces}}",id:"onboardingWorkspaceChoose.stage.subtitleV2",values:{numWorkspaces:e.joinableSpaces.filter(T().shouldShowWorkspaceInWorkspaceChooser).length}}),isContinueEnabled:()=>!0,isBackEnabled:e=>!e.isFirstTimeOnboarding,stageStyles:{flexDirection:"column",marginTop:100,justifyContent:"start"},renderStage:()=>(0,P.jsx)(Ho,{onboardingState:_().A.state}),renderRightContent(){},onContinue(e,t){v().Fv(e,(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e,spaceJoinOrCreate:"create"}))},getContinueButtonLabel:()=>(0,P.jsx)(y().sA,{defaultMessage:"Create workspace",id:"contextualizedOnboarding.workspaceChoose.createWorkspaceButtonLabel"}),getContinueButtonStyles:()=>({marginTop:8,marginBottom:24}),getDesktopContinueButtonOverride:()=>(0,P.jsx)("div",{}),alignment:$().C.Center};function $o(e){return 0===e.joinableSpaces.length}const Yo={stageName:"mobile_onboarding_workspace_choose",shouldSkip:$o,estimateWillSkip:$o,getTitle(e){const{onboardingData:t,joinableSpaces:n}=e,o=n.length;return null!=t&&t.canUserCreateSpace?(0,P.jsx)(y().sA,{defaultMessage:"Join teammates or create a workspace",id:"onboardingWorkspaceChoose.stage.titleV2.create",values:{numberOfWorkspaces:o}}):(0,P.jsx)(y().sA,{defaultMessage:"Join your teammates",id:"onboardingWorkspaceChoose.stage.titleV2.join",values:{numberOfWorkspaces:o}})},isContinueEnabled:()=>!1,isBackEnabled:e=>!1,renderStage:()=>(0,P.jsx)(Ko,{onboardingState:_().A.state}),renderRightContent(){},shouldHideMobileBottomContent:()=>!0,onContinue(e,t){v().Fv(e,(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e,spaceJoinOrCreate:"create"}))},getMobileContinueButtonOverride:()=>(0,P.jsx)("div",{})};var Zo=()=>n(292119),Xo=()=>n(253493),ea=(n(908872),()=>n(624119)),ta=()=>n(979340),na=()=>n(297872),oa=()=>n(807778),aa=()=>n(112527),ia=()=>n(960236),sa=()=>n(981046),ra=()=>n(166386),la=()=>n(151168);function da(){const e=(0,ia().Wo)(),t=(0,u().K8)((()=>(0,la().E5)()),[]),n=(0,u().K8)((()=>(0,oa().OP)()),[]),o=(0,la().uG)({isMmOrEnt:Boolean(e),upsell:t,enableSelfServeBusinessTrials:n});return o?{trialOffer:o,trialDuration:(0,ra().b_)(o),subscriptionTier:o.subscriptionTier}:void 0}n(823215);var ua=()=>n(252105),ca=()=>n(2143),ga=()=>n(6208),pa=()=>n(299487),ma=()=>n(756279),fa=()=>n(661179),ya=()=>n(66460),ba=()=>n(606456),va=()=>n(81465),ha=()=>n(369773),xa=()=>n(816953),Sa=()=>n(614415),wa=()=>n(645873);const ja={right:44,top:82},Ca={right:486,top:220};function Aa(){const e=(0,c().DP)(),t=(0,c().IS)((()=>{const e={position:"absolute",transform:"rotate(-4.567deg) scaleX(-1)",width:232,height:58};return{airplane:{...e,top:ja.top,right:ja.right},airplaneTail:{...e,top:Ca.top,right:Ca.right}}}),[]),{prefersReducedMotion:n}=(0,d().Y0)(),o="light"===e.mode?g().A.images.pricing.light.upgradeAirplanePng:g().A.images.pricing.dark.upgradeAirplanePng,a={type:"spring",mass:1,stiffness:83,damping:18.2,duration:.66};return(0,P.jsx)(wa().u2,{dependency:Sa().fM,children:e=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(e.motion.img,{alt:"",src:o,style:t.airplane,animate:{opacity:[0,1],...n?{}:{right:[200,ja.right],top:[100,ja.top]}},transition:a}),(0,P.jsx)(e.motion.img,{alt:"",src:o,style:t.airplaneTail,animate:{opacity:[0,1],...n?{}:{right:[340,Ca.right],top:[230,Ca.top]}},transition:a})]})})}function ka(e){let{handleSubmit:t,isSubmitDisabled:n,submissionError:o,onboardingState:a,product:i,continueButtonLabel:s,skipTrialLabel:r}=e;const l=(0,d().v3)(),u=(0,c().IS)((()=>({buttonContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",justifySelf:"center",width:"100%",gap:8},button:{display:"flex",alignItems:"center",justifyContent:"center",height:36,padding:"0px 8px",borderRadius:8,alignSelf:"stretch"}})),[]);return(0,P.jsxs)("div",{style:u.buttonContainer,children:[(0,P.jsx)(C().A,{disabled:n,style:u.button,onClick:t,children:s}),(0,P.jsx)(S().p,{isBlue:!0,style:u.button,onClick:async()=>{(0,la().Q8)(),await(0,M().goToNextStage)({environment:l,onboardingState:a})},children:(0,P.jsx)(j().D,{styleName:"UIRegular-14px/Medium",colorName:"uiBluePrimary",children:r})}),o&&(0,P.jsx)("span",{style:{textAlign:"center"},children:(0,P.jsx)(j().D,{styleName:"Caption-12px/Regular",colorName:"uiRedPrimary",children:o})})]})}const Ia=428,Ma=368;function Ta(e){const{sessionId:t,onboardingState:n,monthlyUnitCost:a,offerInfo:i,continueButtonLabelFn:s,skipTrialLabel:l,termsCheckboxLabelsFn:g}=e,p=(0,d().v3)(),m=(0,y().tz)(),f=function(){const e=(0,u().O$)(fa().A);return(0,c().IS)((t=>({header:{maxWidth:Ia,paddingBottom:24},airplaneContainer:{position:"relative",display:"flex",flexDirection:"column",gap:8,alignItems:"center",justifyContent:"center",width:804,marginTop:-32,paddingTop:44,paddingBottom:42},scrollContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:Ia,height:Ma,padding:`20px ${24-e}px 20px 24px`,background:t.surface.elevated,border:`1px solid ${t.stroke.primary}`,borderRadius:16,boxShadow:"0px 4px 12px 0px rgba(0, 0, 0, 0.04)"}})),[e])}(),b=(0,ea().useStripe)(),v=(0,ea().useElements)(),h=(0,ga().L)(),x=(0,xa().A)(),S=(0,u().K8)((()=>{var e;return null===(e=r().default.state.currentUserStore)||void 0===e?void 0:e.getEmail()}),[]),w="trial"===i.type?i.trial.subscriptionTier:i.products[0],[j,C]=(0,o.useState)({name:h??"",businessName:"",addressLine1:"",addressLine2:"",city:"",state:"",zipCode:"",country:""}),[A,k]=(0,o.useState)(void 0),I=(0,oa().aD)(),T=g(a,w,m),_=T.length,[N,B]=(0,o.useState)({name:h??"",businessName:"",vatId:x?"":void 0,termsAccepted:new Array(_).fill(!1)}),[R,D]=(0,o.useState)({}),[O,W]=(0,o.useState)(),[E,L]=(0,o.useState)(!1),F=o.useCallback((e=>{W(void 0),D((t=>({...t,...Object.keys(e).reduce(((e,t)=>({...e,[t]:void 0})),{})}))),B((t=>({...t,...e})))}),[]),q=o.useCallback((()=>{const e={},t=I?j.name:N.name;if(!(0,vo().r)(t)){const t=m.formatMessage({id:"spaceSubscriptionUpgradeModal.name.required.error",defaultMessage:"Please enter a valid name."});I?e.customerAddress=t:e.name=t}return!N.termsAccepted.every((e=>e))&&_>1?e.termsAccepted=m.formatMessage({id:"onboarding.timedTrials.terms.required.multi.error",defaultMessage:"You must opt in to all terms to start your trial"}):N.termsAccepted.every((e=>e))||1!==_||(e.termsAccepted=m.formatMessage({id:"onboarding.timedTrials.terms.required.error",defaultMessage:"You must opt in to start your trial"})),D((t=>({...t,...e}))),e}),[j.name,N.name,N.termsAccepted,m,I,_]),U=e=>{let{type:t,errorMessage:n,userFacingMessage:o}=e;(0,St().log)({level:"error",from:"OnboardingCheckout",type:t,error:{miscDataString:n}}),W(o),L(!1)},V=o.useCallback((async()=>{const e=q();if($e().Im(e))switch(L(!0),i.type){case"trial":await async function(e){let{environment:t,intl:n,stripe:o,elements:a,sessionId:i,isCheckoutAddressFormExperimentEnabled:s,customerAddress:r,onboardingState:l,trial:d,subscriptionTier:u,vatId:c,onUpgradeError:g}=e;const p=(0,ra().b_)(d).as("days"),m=await(0,ya().W)({environment:t,intl:n,stripe:o,elements:a,trialData:{id:d.campaign,from:"onboarding"},trialDays:p,sessionId:i,product:u,customerAddress:r,vatId:c,isCheckoutAddressFormExperimentEnabled:s});if(!m)return void g();await(0,M().goToNextStage)({environment:t,onboardingState:l}),(0,pa().UW)(t,"self_serve_business_trial_nudge_d0"),(0,la().Q8)()}({environment:p,intl:m,stripe:b,elements:v,sessionId:t,isCheckoutAddressFormExperimentEnabled:I,customerAddress:j,onboardingState:n,trial:i.trial,subscriptionTier:w,vatId:A,onUpgradeError:()=>U({type:"TrialUpgradeError",errorMessage:"Failed to upgrade customer workspace to a trial",userFacingMessage:m.formatMessage({id:"onboarding.timedTrials.paymentError.message",defaultMessage:"We were unable to save your payment method. Please verify all the information in the form is correct."})})});break;case"coupon":if(!v||!b)return void U({type:"StripeError",errorMessage:"Stripe elements not initialized when user tried to upgrade",userFacingMessage:m.formatMessage({id:"onboarding.checkout.paymentError.message",defaultMessage:"We were unable to save your payment method. Please verify all the information in the form is correct."})});await async function(e){let{environment:t,intl:n,stripe:o,elements:a,sessionId:i,isCheckoutAddressFormExperimentEnabled:s,customerAddress:r,onboardingState:l,coupon:d,offerCode:u,products:c,quantity:g,billingInterval:p,currencyCode:m,name:f,businessName:y,userEmail:b,vatId:v,onSubmitPaymentMethodError:h}=e;const x=await ba().mR({modalId:i,environment:t,intl:n,elements:a,stripe:o,isCheckoutAddressFormExperimentEnabled:s});if("error"in x)return void h();try{await ba().ge({address:s?r:{name:f??"",businessName:y??"",addressLine1:"",addressLine2:"",zipCode:x.address.zipCode??"",city:"",state:"",country:x.address.country??""},billingEmail:b,billingInterval:p,currencyCode:m,environment:t,modalId:i,paymentData:x.paymentData,quantity:g,selectedProducts:c,offerInfo:{campaign:d.campaign,code:u},stripe:o,vatId:v,intl:n,from:"onboarding"}),await(0,M().goToNextStage)({environment:t,onboardingState:l})}catch(S){throw ua().WB(t,{modal_id:"onboarding_partner_program"}),S}}({environment:p,intl:m,stripe:b,elements:v,sessionId:t,isCheckoutAddressFormExperimentEnabled:I,customerAddress:j,onboardingState:n,coupon:i.coupon,offerCode:i.offerCode,products:i.products,quantity:i.quantity,billingInterval:i.billingInterval,currencyCode:i.currencyCode,name:N.name,businessName:N.businessName,userEmail:S,vatId:A,onSubmitPaymentMethodError:()=>{U({type:"SubmitPaymentError",errorMessage:"Failed to submit payment method",userFacingMessage:m.formatMessage({id:"onboarding.checkout.paymentError.message",defaultMessage:"We were unable to save your payment method. Please verify all the information in the form is correct."})})}});break;default:(0,z().ub)(i)}}),[p,t,m,b,v,n,I,j,N,S,q,w,i,A]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{style:f.airplaneContainer,children:[(0,P.jsx)(Aa,{}),(0,P.jsx)(Wt().Y1,{gap:42,align:"center",width:Ia,children:(0,P.jsxs)(ca().H,{style:f.scrollContainer,type:ma().A.All,children:[(0,P.jsx)(va().z,{sessionId:t,customerAddress:j,vatId:A,validationErrors:R,onChange:e=>{W(void 0),$e().n4(e.customerAddress,j)||C(e.customerAddress),A!==e.vatId&&k(e.vatId)},style:{padding:"0px 0px 14px 0px"}}),T.map(((e,t)=>(0,P.jsx)(ha().P,{isChecked:N.termsAccepted[t]||!1,onChange:e=>{const n=[...N.termsAccepted];n[t]=e,F({termsAccepted:n})},error:t===_-1?R.termsAccepted:void 0,message:e,isFirstTerm:0===t,hideTooltip:!0,checkboxId:`terms-checkbox-onboarding-trial-${t}`},`termsCheckbox${t+1}`)))]})})]}),(0,P.jsx)("div",{style:{width:406},children:(0,P.jsx)(ka,{handleSubmit:V,isSubmitDisabled:E,submissionError:O,onboardingState:n,product:w,continueButtonLabel:s(w,m),skipTrialLabel:l})})]})}function _a(e){let{offerType:t,continueButtonLabelFn:a,skipTrialLabel:i,termsCheckboxLabelsFn:s}=e;const r=n(206267).JW(),l=(0,u().K8)((()=>_().A.state),[]),c=(0,d().v3)(),g=(0,ia().o2)(),p=da(),m=(0,u().K8)((()=>sa().A.selectedCurrencyCode),[]),f=(0,aa().useElementsOptions)({type:"subscription",amount:0,currency:m}),y=o.useMemo((()=>{if("trial"===t&&p)return{type:"trial",trial:p.trialOffer};const e=(0,n(677338).OC)(),o=(0,Xo().getPartnerProgramCouponOffer)();return"coupon"===t&&e&&o?{type:"coupon",coupon:o,offerCode:e.partnerProgramPromoCode,products:["plus","ai"],quantity:1,billingInterval:"month",currencyCode:m}:void 0}),[t,p,m]),b=o.useMemo((()=>{switch(null==y?void 0:y.type){case"trial":return[y.trial.subscriptionTier];case"coupon":return y.products;default:return["plus"]}}),[y]);if(o.useEffect((()=>{y||(0,M().goToNextStage)({environment:c,onboardingState:l})}),[y,c,l]),!y||!g.length)return null;const v=b.reduce(((e,t)=>{const o=(0,n(323063).vk)(g,{interval:"month",currency:m,product:t});return e.amount+=o.unitAmount.amount,e}),{amount:0,currencyCode:m});return(0,P.jsx)(ea().Elements,{stripe:(0,aa().getStripe)(),options:f,children:(0,P.jsx)(na().A,{capture:!0,render:()=>(0,P.jsx)(Ta,{monthlyUnitCost:v,sessionId:r,onboardingState:l,offerInfo:y,continueButtonLabelFn:a,skipTrialLabel:i,termsCheckboxLabelsFn:s})})})}function Pa(){const e=(0,y().tz)(),t=da(),n=(0,u().K8)((()=>_().A.state),[]),o=(0,ta().u2)({product:(null==t?void 0:t.subscriptionTier)??"plus",intl:e});return"meeting_notes_flow"===n.flowName?(0,P.jsx)(y().sA,{defaultMessage:"Use AI Meeting Notes on a {planName} trial",id:"onboardingTimedTrial.title.meetingNotesFlow",values:{planName:o}}):(0,P.jsx)(y().sA,{defaultMessage:"Try the {planName} plan for {numDays} days",id:"onboardingTimedTrial.title.v2",values:{planName:o,numDays:null==t?void 0:t.trialDuration.as("days")}})}function Na(){const e=da(),t=(0,u().K8)((()=>_().A.state),[]),n=(0,u().K8)((()=>(0,oa().Le)()),[]);return"meeting_notes_flow"===t.flowName?(0,P.jsx)(y().sA,{defaultMessage:"Get Notion AI for {numDays} days",id:"onboardingTimedTrial.subtitle.meetingNotesFlow",values:{numDays:null==e?void 0:e.trialDuration.as("days")}}):(0,P.jsx)("div",{children:n&&"business"===(null==e?void 0:e.subscriptionTier)?(0,P.jsx)(y().sA,{defaultMessage:"Find answers across tools, build team workflows & automate with AI",id:"onboardingTimedTrial.subtitle.business"}):(0,P.jsx)(y().sA,{defaultMessage:"{trialDays, select, 30 {Four weeks} other {Two weeks}} of unlimited collaboration and creation",id:"onboardingTimedTrial.subtitle.v2",values:{trialDays:null==e?void 0:e.trialDuration.as("days")}})})}function Ba(e,t){return(0,P.jsx)(Qn().A,{href:e,external:!0,hoverColor:"blue",children:t})}function Ra(){const e=(0,Xo().getPartnerProgramCouponOffer)();return(t,n,o)=>{const a=t?(0,P.jsx)(Zo().v,{cost:t,trailingZeroDisplay:"stripIfInteger",intl:o}):"-";return[(0,P.jsx)(y().sA,{defaultMessage:"This promotion provides 1 seat of Notion Plus with Core AI at no cost for {duration} months. Any additional seats during this period will be billed at {money} per member/month plus taxes. Additional information about this offer can be found <partnerProgramTermsLink>here</partnerProgramTermsLink>.",id:"PartnerProgramOnboardingCheckout.termsOfServiceBox1",values:{duration:null==e?void 0:e.duration.months,money:a,partnerProgramTermsLink:e=>Ba(Qt().JZ.notionPartnerProgramTerms,e)}},"partnerProgramOnboardingTermsOfService1"),(0,P.jsx)(y().sA,{defaultMessage:"After {duration} months, Notion Plus with Core AI will auto-renew at {money} per member/month plus taxes. Cancel via the Billing tab prior to renewal to avoid future charges. <termsAndConditionsLink>Terms apply</termsAndConditionsLink>.",id:"PartnerProgramOnboardingCheckout.termsOfServiceBox2",values:{duration:null==e?void 0:e.duration.months,money:a,termsAndConditionsLink:e=>Ba(Qt().JZ.termsAndConditions,e)}},"partnerProgramOnboardingTermsOfService2")]}}const Da={stageName:"partner_program_onboarding_checkout",shouldSkip:()=>!1,getTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"Redeem your offer",id:"PartnerProgramOnboardingCheckout.title"}),getSubTitle(){const e=(0,Xo().getPartnerProgramCouponOffer)();return(0,P.jsx)(y().sA,{defaultMessage:"Get {duration} months of Notion Plus with Core AI for free",id:"PartnerProgramOnboardingCheckout.subtitle",values:{duration:null==e?void 0:e.duration.months}})},isContinueEnabled:()=>!0,shouldHideDesktopBottomContent:()=>!0,isBackEnabled:()=>!1,renderStage:()=>(0,P.jsx)(_a,{offerType:"coupon",continueButtonLabelFn:()=>(0,P.jsx)(y().sA,{defaultMessage:"Start my free trial",id:"PartnerProgramOnboardingCheckout.continueButtonLabel"}),skipTrialLabel:(0,P.jsx)(y().sA,{defaultMessage:"No thanks, just take me to Notion without the offer",id:"PartnerProgramOnboardingCheckout.skipTrialLabel"}),termsCheckboxLabelsFn:Ra()}),alignment:$().C.Center,headerStyles:{maxWidth:700},getDesktopContinueButtonOverride:()=>(0,P.jsx)("div",{})},za={stageName:"mobile_partner_program_redeem_info",shouldSkip:e=>!1,getTitle(){const e=(0,Xo().getPartnerProgramCouponOffer)();return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{style:{marginBottom:10},children:(0,P.jsx)(y().sA,{defaultMessage:"Open your Linkedin offer link on desktop",id:"mobilePartnerProgramRedeemInfo.stage.title"})}),(0,P.jsx)("div",{style:{fontSize:17,fontWeight:510,color:ne().Tj.uiGray},children:(0,P.jsx)(y().sA,{defaultMessage:"Get {duration} months of Notion Plus with Core AI for free",id:"mobilePartnerProgramRedeemInfo.stage.subtitle",values:{duration:null==e?void 0:e.duration.months}})})]})},isContinueEnabled:()=>!0,isBackEnabled:()=>!0,renderStage:e=>(0,P.jsx)("div",{})};var Oa=()=>n(406792),Wa=(n(944114),()=>n(441532));const Ea=(0,Pt().wt)("iOSShare",{viewBox:"0 0 26 26",svg:(0,P.jsx)("path",{d:"M16.2498 7.04938C15.8356 7.04938 15.4998 7.38517 15.4998 7.79938C15.4998 8.2136 15.8356 8.54938 16.2498 8.54938V7.04938ZM9.74984 8.54938C10.164 8.54938 10.4998 8.2136 10.4998 7.79938C10.4998 7.38517 10.164 7.04938 9.74984 7.04938V8.54938ZM12.2499 15.5994C12.2499 16.0136 12.5857 16.3494 12.9999 16.3494C13.4141 16.3494 13.7499 16.0136 13.7499 15.5994H12.2499ZM13.7499 1.29938C13.7499 0.88517 13.4141 0.549384 12.9999 0.549384C12.5857 0.549384 12.2499 0.88517 12.2499 1.29938H13.7499ZM8.89451 4.01942C8.60161 4.31231 8.60161 4.78718 8.89451 5.08008C9.1874 5.37297 9.66227 5.37297 9.95517 5.08008L8.89451 4.01942ZM12.9998 0.974747L13.5302 0.444417C13.2373 0.151523 12.7624 0.151523 12.4695 0.444417L12.9998 0.974747ZM16.0445 5.08008C16.3374 5.37297 16.8123 5.37297 17.1052 5.08008C17.3981 4.78718 17.3981 4.31231 17.1052 4.01942L16.0445 5.08008ZM16.2498 8.54938H18.8498V7.04938H16.2498V8.54938ZM18.8498 8.54938C19.8716 8.54938 20.6998 9.37766 20.6998 10.3994H22.1998C22.1998 8.54923 20.7 7.04938 18.8498 7.04938V8.54938ZM20.6998 10.3994V19.8244H22.1998V10.3994H20.6998ZM20.6998 19.8244C20.6998 20.8461 19.8716 21.6744 18.8498 21.6744V23.1744C20.7 23.1744 22.1998 21.6745 22.1998 19.8244H20.6998ZM18.8498 21.6744H7.14984V23.1744H18.8498V21.6744ZM7.14984 21.6744C6.12811 21.6744 5.29984 20.8461 5.29984 19.8244H3.79984C3.79984 21.6745 5.29968 23.1744 7.14984 23.1744V21.6744ZM5.29984 19.8244V10.3994H3.79984V19.8244H5.29984ZM5.29984 10.3994C5.29984 9.37766 6.12811 8.54938 7.14984 8.54938V7.04938C5.29968 7.04938 3.79984 8.54923 3.79984 10.3994H5.29984ZM7.14984 8.54938H9.74984V7.04938H7.14984V8.54938ZM13.7499 15.5994V1.29938H12.2499V15.5994H13.7499ZM9.95517 5.08008L13.5302 1.50508L12.4695 0.444417L8.89451 4.01942L9.95517 5.08008ZM12.4695 1.50508L16.0445 5.08008L17.1052 4.01942L13.5302 0.444417L12.4695 1.50508Z"})});var La=()=>n(657222),Fa=()=>n(689094),qa=()=>n(884107),Ua=()=>n(579627),Va=()=>n(417555),Ha=()=>n(856952),Ka=()=>n(972435);class Ga extends ho().Store{getInitialState(){return{emailValue:"",emailTokens:[],validationError:void 0,isInviting:!1,isBulkInvite:!1,emailInputs:[{value:"",sanitizedEmail:""},{value:"",sanitizedEmail:""},{value:"",sanitizedEmail:""}]}}setEmailValue(e){this.setState({...this.state,emailValue:e})}addNewEmailValue(){const e=this.state.emailInputs;this.setState({...this.state,emailInputs:[...e,{value:"",sanitizedEmail:""}]})}removeEmailValue(e){if(e>=this.state.emailInputs.length)return;const t=[...this.state.emailInputs];t.splice(e,1),this.setState({...this.state,emailInputs:t})}updateEmailValue(e,t,n){if(e>=this.state.emailInputs.length)return;const o=this.state.emailInputs[e],a=this.state.emailInputs.map(((o,a)=>a===e?{value:t,sanitizedEmail:n}:o));e===this.state.emailInputs.length-1&&""===o.sanitizedEmail&&""!==n&&a.push({value:"",sanitizedEmail:""}),this.setState({...this.state,emailInputs:a})}setInvalidEmails(e,t){const n=this.state.emailInputs.map(((n,o)=>e.includes(o)?{...n,validationError:t.formatMessage({defaultMessage:"Invalid email.",id:"onboardingInviteNew.error.invalidEmail.message"})}:n));this.setState({...this.state,validationError:"One or more invalid emails found.",emailInputs:n})}clearValidationError(e){const t=this.state.emailInputs.map(((t,n)=>e===n?{...t,validationError:void 0}:t));this.setState({...this.state,emailInputs:t})}switchToBulkInvite(){const e=this.state.emailInputs.map((e=>e.sanitizedEmail||e.value)).filter(Boolean);this.updateEmailTokens(...e),this.setState({...this.state,emailInputs:[],isBulkInvite:!0,validationError:void 0})}updateEmailTokens(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const o=t.map((e=>({email:e,isValidEmail:(0,Ae().DT)(e)})));this.setState({...this.state,emailTokens:[...this.state.emailTokens,...o]})}}const Ja=Ga;var Qa=()=>n(630116),$a=()=>n(475355);const Ya=new Ja;function Za(){const e=(0,u().K8)((()=>_().A.state),[]);return(0,P.jsx)(mo().A,{debugName:"OnboardingInvite",capture:!0,onLeft:$e().D_,onRight:$e().D_,onSelectAll:$e().D_,onRedo:$e().D_,onUndo:$e().D_,onCut:$e().D_,onCopy:$e().D_,onPaste:$e().D_,onKeypress:$e().D_,onDelete:$e().D_,onBackspace:$e().D_,onTab:$e().D_,children:(0,P.jsx)(ei,{onboardingState:e,store:Ya})})}function Xa(){return(0,P.jsx)(ai,{})}function ei(e){let{onboardingState:t,store:n}=e;const{isBulkInvite:o,validationError:a}=(0,u().K8)((()=>{const{isBulkInvite:e,validationError:t}=n.state;return{isBulkInvite:e,validationError:t}}),[n]);return(0,P.jsxs)("div",{style:{width:406,alignSelf:"center"},children:[(0,P.jsx)("div",{style:{width:"100%",display:"flex",alignItems:"center",marginBottom:"4px",marginTop:24},children:(0,P.jsx)(X().A,{isSecondaryColor:!0,style:{fontSize:12,fontWeight:me().Wy.regular},children:(0,P.jsx)(y().sA,{defaultMessage:"Invite people",id:"onboardingInvite.emails.sendInvitesV2"})})}),o?(0,P.jsx)(oi,{store:n,spaceInviteState:t}):(0,P.jsx)(ni,{store:n,onboardingState:t}),(0,P.jsx)(co().A,{size:8,style:{marginTop:12}}),(0,P.jsx)(Mt,{onboardingState:t}),(0,P.jsx)(si,{onboardingState:t,styles:{borderRadius:8}}),a&&(0,P.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%",color:ne().Ay.red,marginTop:14},children:(0,P.jsx)(y().sA,{defaultMessage:"Looks like some of the emails are invalid. Try again?",id:"onboardingInvite.invalidEmails.error.message"})})]})}function ti(){const e=(0,d().v3)(),t=(0,u().K8)((()=>_().A.state),[]),o=(0,u().K8)((()=>Ya.state.isInviting),[]),a=(0,u().K8)((()=>s().EI(Ya.state)?(0,P.jsx)(y().sA,{defaultMessage:"Invite and take me to Notion",id:"contextualizedOnboarding.inviteStage.inviteAndContinueButtonLabel"}):(0,P.jsx)(y().sA,{defaultMessage:"Take me to Notion",id:"contextualizedOnboarding.inviteStage.ContinueWithoutInviteButtonLabel"})),[]);return(0,P.jsx)("div",{style:{display:"flex",justifyContent:"center",width:"100%"},children:(0,P.jsx)(C().A,{style:{marginTop:12,width:"100%"},size:"lg",onClick:()=>async function(e,t){const{state:n}=Ya,o=Oa().default.DO_NOT_USE_markLegacy("invite_next_state");Ya.setState({...n,validationError:void 0,isInviting:!0}),v().Lf(e,{...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e}),invited_emails:n.isBulkInvite?n.emailTokens:n.emailInputs});const a=n.isBulkInvite?function(e){const{state:t}=e,[n,o]=$e().jB(t.emailTokens,(e=>e.isValidEmail));return e.setState({...t,validationError:o.length>0?"One or more invalid emails found.":void 0}),n.map((e=>e.email))}(Ya):function(e,t){const{state:n}=t,o=[],a=[];for(const[s,r]of n.emailInputs.entries())""!==r.value&&((0,Ae().DT)(r.sanitizedEmail)?o.push(s):a.push(s));for(const s of o)t.clearValidationError(s);t.setInvalidEmails(a,e),0===a.length&&t.setState({...t.state,validationError:void 0});const i=o.map((e=>n.emailInputs[e].sanitizedEmail));return i}(Ka().A.getIntl(),Ya);if(!Boolean(Ya.state.validationError)){v()._A(e,{...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e}),invited_emails:a});const{spaceId:i,onboardingData:r}=t;if(!i||!r)return;const l=Qa().SL.createChildStore(r.userRootStore,{table:Pe().NX,id:i}),d=a.length>0;if(!l.isTeamsEnabled()&&d){if(!(await $a().oH({environment:e,flowId:t.flowId??"",trackCreateTeamComplete:!1})))return}const u=t.onboardingData&&s().qg({userStore:t.onboardingData.userStore,isUserDomainJoinable:t.onboardingData.isUserDomainJoinable});if(t.optInAutoJoin&&u&&await je().Yk({environment:e,emailDomains:[u],spaceStore:l}),a.length>0){const o=$e().sb(a).map((e=>({type:"newUser",value:{email:e},source:"email"})));await Ua().eP({environment:e,store:l,inviteTargets:o,inviteRole:"editor",isOnboarding:!0,invite:{inviteOrigin:"onboarding_invite"}}),Ya.reset(),v().gA(e,{...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e}),emails:a,auto_join_space:Boolean(t.optInAutoJoin),is_bulk_invite:n.isBulkInvite})}Oa().default.DO_NOT_USE_measureLegacy(o,{environment:e,data:{numInvitesSent:a.length}}),await(0,M().goToNextStage)({environment:e,onboardingState:t})}Ya.setState({...Ya.state,isInviting:!1})}(e,t),disabled:o,children:o?(0,P.jsx)(n(331542).A,{onDarkBackground:!0}):a})})}function ni(e){let{store:t,onboardingState:n}=e;(0,d().v3)();const o=(0,y().tz)(),a=(0,c().DP)(),i=(0,u().K8)((()=>t.state.emailInputs),[t]),s=i.map(((e,n)=>(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(po().A,{placeholder:o.formatMessage({defaultMessage:"Email",id:"onboardingInvite.email.placeholderV2"}),style:{padding:10,marginBottom:10,background:a.surface.wash,width:"100%",display:"flex",height:32,borderRadius:6,boxShadow:i[n].validationError?a.inputRedFocusRing:a.inputBoxShadow,transition:"box-shadow 0.3s ease-out"},onChange:e=>{!function(e,t,n){const o=t.target.value,{index:a,store:i}=n,s=(0,Ae().iL)(o);i.updateEmailValue(a,o,s)}(0,e,{index:n,store:t})},value:e.value})},n)));return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{style:{marginBottom:2,alignItems:"center",display:"flex",flexFlow:"column",marginTop:6},children:s}),(0,P.jsx)(S().p,{iconLeading:Fa().W,onClick:()=>function(e,t){const{store:n}=t;n.switchToBulkInvite()}(0,{store:t,state:n}),style:{color:a.text.tertiary,fontWeight:me().Wy.regular},children:(0,P.jsx)(y().sA,{defaultMessage:"Add more or bulk invite",id:"onboardingInvite.emails.addMoreOrInviteInBulkTextV2"})})]})}function oi(e){let{store:t,spaceInviteState:n}=e;(0,d().v3)();const o=(0,y().tz)(),a=(0,c().DP)(),i=(0,u().K8)((()=>t.state),[t]),s=i.emailTokens.map(((e,n)=>{const o={type:"newUser",value:{email:e.email||""},source:"email"},i=e.isValidEmail?{}:{backgroundColor:a.legacyRedSelectColor,isStrikedThrough:!0};return(0,P.jsx)(Va().A,{target:o,onClickRemove:e=>function(e,t){const n=t.state.emailTokens.filter((t=>"newUser"===e.type&&t.email!==e.value.email));t.setState({...t.state,emailTokens:n})}(e,t),...i},n)}));return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(Ha().Ay,{format:Ha().le.Share,value:i.emailValue||"",onChange:e=>function(e,t,n){const{store:o}=n,a=t.target.value,{extractedEmails:i,newInputValue:s}=(0,Ae().Ct)(a);o.updateEmailTokens(...i),o.setState({...o.state,emailValue:s})}(0,e,{store:t,state:n}),type:"email",tokens:s,tokenWrapStyle:{gap:4},disabled:!1,placeholder:o.formatMessage({id:"onboardingInvite.bulkInvites.placeholder",defaultMessage:"annie@myteam.com, fay@company.com, henry@company.com, ..."}),onKeyDown:e=>function(e,t){if("Enter"===e.key){const n=e.target.value,o=(0,Ae().qh)(n);o&&(t.updateEmailTokens(o),t.setState({...t.state,emailValue:""}))}}(e,t),onRemoveLastToken:$e().lQ,dontShowBorderBottom:!1,style:{boxShadow:"rgba(15, 15, 15, 0.1) 0px 0px 0px 1px inset",background:a.whiteButtonBackground,borderRadius:4,height:150,alignContent:"flex-start"},textarea:!0,inputStyle:{height:"100%"},inputFullWidth:!0}),(0,P.jsx)(X().A,{isMultiline:!0,isSmall:!0,style:{marginTop:8,marginBottom:28},children:(0,P.jsx)(y().sA,{defaultMessage:"Type or paste in one or multiple emails separated by commas, spaces, or line breaks.",id:"onboardingInvite.addEmail.caption"})})]})}function ai(){const e=(0,d().v3)(),{ThemeStore:t}=e,n=(0,u().K8)((()=>"dark"===t.state.mode),[t])?g().A.images.onboarding.mobileOnboardingInviteDarkmodePng:g().A.images.onboarding.mobileOnboardingInviteLightmodePng;return(0,P.jsx)("img",{alt:"Image of users with scroll",src:n,style:{width:"85%",textAlign:"center"}})}function ii(e){let{onboardingState:t,store:n}=e;const o=(0,c().DP)(),a=(0,d().v3)();return(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsxs)(Ne().A,{style:{borderRadius:12,height:48,width:"100%",display:"flex",justifyContent:"center",alignItems:"center",color:o.text.primary,fontSize:17,fontWeight:me().Wy.semibold,background:o.tint.regular,marginTop:12},onClick:()=>async function(e,t){const{mobileNative:n,device:o}=t,a=e.inviteLinkUrl;if(a)if(o.isMobileNative)null==n||n.share(a);else try{await navigator.share({url:a})}catch{}v().CM(t,(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:e,environment:t}))}(t,a),ignoreLocalHoverState:!0,children:[(e=>{const t=e.device;return t.isIOS?Ea:t.isAndroid?Wa().y:Ea})(a)({height:16,width:16,marginRight:6}),(0,P.jsx)(y().sA,{defaultMessage:"Share to...",id:"onboardingInvite.mobile.shareButton.title"})]})})}function si(e){let{styles:t,onboardingState:n}=e;const a=(0,c().DP)(),i=(0,d().v3)(),{device:s}=i,[r,l]=(0,o.useState)(!1);return(0,P.jsx)(Ce().A,{placement:$().W.Top,renderTooltip:()=>(0,P.jsx)(y().sA,{defaultMessage:"Invite teammates with this link",id:"onboardingInvite.sharingButton.tooltip.copy"}),render:e=>(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(Ne().A,{style:{marginTop:s.isMobile?0:64,height:32,width:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:a.tint.uiBlue,cursor:"pointer",color:a.text.uiBluePrimary,fontSize:14,fontWeight:me().Wy.regular,...t},hoveredStyle:{background:a.tint.uiBlueHover},onClick:async()=>{const e=await qa().R.clipboardActions.load();e.copyString({environment:i,stringValue:n.inviteLinkUrl||"",copiedMessage:e.clipboardMessages.copiedLinkToClipboard}),l(!0),setTimeout((()=>{l(!1)}),1500)},disabled:r,...e,children:r?(0,P.jsx)(y().sA,{defaultMessage:"Copied!",id:"onboardingInvite.shareLink.copied"}):(0,P.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,La().w)({height:16,width:16,marginRight:6}),(0,P.jsx)(y().sA,{defaultMessage:"Copy invite link",id:"onboardingInvite.shareLink.title"})]})})})})}function ri(e){let{onboardingState:t}=e;const n=(0,d().v3)(),a=(0,c().DP)(),i=function(e,t){const{mobileNative:n,device:o}=t;if(!e.inviteLinkUrl)return!1;if(o.isMobileNative)return Boolean(n);return Boolean(navigator.share)}(t,n),s=(0,u().uB)(void 0,Ja);return(0,P.jsxs)(o.Fragment,{children:[(0,P.jsx)(si,{onboardingState:t,styles:{borderRadius:12,height:48,color:a.text.primary,fontSize:17,fontWeight:me().Wy.semibold,background:a.tint.regular,marginBottom:4}}),i&&(0,P.jsx)(ii,{onboardingState:t,store:s})]})}const li={stageName:"team_onboarding_invite",shouldSkip(e){var t,n;if("default"===e.flowName&&"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType))return!0;return"multiplayer"!==(null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.collaborativeIntent)},getTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Start with your team",id:"onboardingInvite.chrome.titleV2"}),getSubTitle:e=>(0,P.jsx)(y().sA,{defaultMessage:"Notion works best with your teammates",id:"onboardingInvite.chrome.subtitleV2"}),isContinueEnabled:e=>!0,isBackEnabled:e=>!1,renderStage:()=>(0,P.jsx)(Za,{}),getDesktopContinueButtonOverride:()=>(0,P.jsx)(ti,{}),alignment:$().C.Center},di={stageName:"mobile_team_onboarding_invite",shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)},estimateWillSkip(e,t,n){var o;const a=null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType;switch(n){case"team":return Boolean(a&&"team"!==a);case"personal":case"school":return"team"!==a}},getTitle:e=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{style:{marginBottom:6},children:(0,P.jsx)(y().sA,{defaultMessage:"Bring your team.",id:"onboardingInvite.mobileStep.titleV2"})}),(0,P.jsx)(y().sA,{defaultMessage:"Notion works best with others.",id:"onboardingInvite.mobileStep.subtitleB2"})]}),isContinueEnabled:e=>!0,async onContinue(e,t){if("default"!==t.flowName)return;const o=Oa().default.DO_NOT_USE_markLegacy("invite_next_state"),{spaceId:a,onboardingData:i}=t;if(!a||!i)return;const r=n(985405).S.createChildStore(i.userRootStore,{table:Pe().NX,id:a}),l=t.onboardingData&&s().qg({userStore:t.onboardingData.userStore,isUserDomainJoinable:t.onboardingData.isUserDomainJoinable});t.optInAutoJoin&&l&&await je().Yk({environment:e,emailDomains:[l],spaceStore:r}),Oa().default.DO_NOT_USE_measureLegacy(o,{environment:e,data:{}})},isBackEnabled:e=>!1,renderStage:()=>(0,P.jsx)(Xa,{}),renderContentAboveContinueButton:e=>(0,P.jsx)(ri,{onboardingState:e}),renderContentUnderContinueButton:e=>(0,P.jsx)(Mt,{onboardingState:e}),alignment:$().C.Center,footerStyles:{top:0}};function ui(){const e=(0,u().K8)((()=>_().A.state),[]);return(0,P.jsx)("div",{style:{width:300,alignSelf:"center"},children:(0,P.jsx)(gi,{onboardingState:e})})}function ci(){const e=(0,u().K8)((()=>_().A.state),[]);return(0,P.jsx)("div",{style:{marginBottom:32},children:(0,P.jsx)(gi,{onboardingState:e})})}function gi(e){(0,o.useEffect)((()=>{l().default.manuallyLogExperimentExposure("onboarding_split_team_survey")}),[]);const t=(0,d().v3)(),{onboardingState:n}=e,a={...s().Gy,marginTop:25,marginBottom:8},{device:i}=t;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{style:a,children:(0,P.jsx)(X().A,{isSmall:!0,isMobile:i.isMobile,children:(0,P.jsx)(y().sA,{defaultMessage:"What kind of work do you do?",id:"onboardingSurvey.persona.label"})})}),(0,P.jsx)(pi,{onboardingState:n,type:"work"}),(0,P.jsx)("div",{style:a,children:(0,P.jsx)(X().A,{isSmall:!0,isMobile:i.isMobile,children:(0,P.jsx)(y().sA,{defaultMessage:"Whats your role?",id:"onboardingSurvey.teamRole.labelV2"})})}),(0,P.jsx)(mi,{onboardingState:n}),(0,P.jsx)("div",{style:a,children:(0,P.jsx)(X().A,{isSmall:!0,isMobile:i.isMobile,style:{whiteSpace:"normal"},children:(0,P.jsx)(y().sA,{defaultMessage:"Whats the size of your company?",id:"onboardingSurvey.companySize.labelV2"})})}),(0,P.jsx)(fi,{onboardingState:n})]})}function pi(e){var t;let{type:n,onboardingState:o}=e;const a=(0,d().v3)(),i=null===(t=o.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.userPersona;return(0,P.jsx)(ce,{questionType:n,title:(0,P.jsx)(y().sA,{defaultMessage:"Your function",id:"onboardingSurvey.persona.popuplabel"}),question:i,randomizeSelectionOrder:!0,invalid:!1,onSelect:e=>{var t;_().A.setState({...o,planTypeAndSurveyInfo:{...o.planTypeAndSurveyInfo,surveyResponses:{...null===(t=o.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses,userPersona:e}}}),v().N3(a,{...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:o,environment:a}),persona:e})},className:wt().Uaw})}function mi(e){var t;let{onboardingState:n}=e;const o=(0,d().v3)();return(0,P.jsx)(ce,{questionType:"role",title:(0,P.jsx)(y().sA,{defaultMessage:"Your role",id:"onboardingSurvey.teamRole.popuplabel"}),question:null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.userRole,invalid:!1,onSelect:e=>{var t;_().A.setState({...n,planTypeAndSurveyInfo:{...n.planTypeAndSurveyInfo,surveyResponses:{...null===(t=n.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses,userRole:e}}}),v().tu(o,{...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:n,environment:o}),role:e})},className:wt().q5q})}function fi(e){var t;let{onboardingState:n}=e;const o=(0,d().v3)();return(0,P.jsx)(ce,{questionType:"companySize",title:(0,P.jsx)(y().sA,{defaultMessage:"Company size...",id:"onboardingSurvey.companySize.popuplabel"}),question:null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.companySize,randomizeSelectionOrder:!1,invalid:!1,onSelect:e=>{var t;_().A.setState({...n,planTypeAndSurveyInfo:{...n.planTypeAndSurveyInfo,surveyResponses:{...null===(t=n.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses,companySize:e}}}),v().xe(o,{...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:n,environment:o}),companySize:e})},className:wt().u_N})}function yi(){const e=(0,u().K8)((()=>_().A.state),[]),t=(0,d().v3)();return(0,o.useEffect)((()=>{l().default.manuallyLogExperimentExposure("onboarding_split_team_survey")}),[e.flowName]),(0,P.jsx)(Si,{onboardingState:e,environment:t})}function bi(){const e=(0,u().K8)((()=>_().A.state),[]),t=(0,d().v3)();return(0,P.jsx)(ji,{onboardingState:e,environment:t})}function vi(){const e=(0,u().K8)((()=>_().A.state),[]),t=(0,d().v3)();return(0,P.jsx)(ki,{onboardingState:e,environment:t})}const hi=["creative","product","product_design","marketing","eng","founder_or_ceo","project_or_program_management","sales","finance"];function xi(e){return(0,c().IS)((t=>({optionContainer:{display:"flex",flexDirection:"column",flexWrap:"wrap",gap:10,width:"100%",maxHeight:288,...e&&{flexWrap:void 0,maxHeight:void 0,paddingBottom:24}},label:{alignSelf:"flex-start",marginBottom:8,fontSize:12}})),[e])}function Si(e){var t;let{onboardingState:n,environment:a}=e;const i=a.currentUser.id,s=a.device.isMobile,r=(0,o.useMemo)((()=>{const e=(0,te().Nx)(i);return[...$e().Ul(hi,(()=>e())),"other"]}),[i]),l=s,d=xi(l),u=!(null!==(t=n.planTypeAndSurveyInfo)&&void 0!==t&&null!==(t=t.surveyResponses)&&void 0!==t&&t.userPersona);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(X().A,{style:d.label,children:(0,P.jsx)(y().sA,{defaultMessage:"Select one",id:"onboardingSurvey.heading.selectPrompt"})}),(0,P.jsx)("div",{style:d.optionContainer,children:r.map((e=>{var t;return(0,P.jsx)(Ii,{onClick:async()=>{const t=function(e){var t;const{environment:n,onboardingState:o,surveyResponse:a}=e,i={...o,planTypeAndSurveyInfo:{...o.planTypeAndSurveyInfo,surveyResponses:{...null===(t=o.planTypeAndSurveyInfo)||void 0===t?void 0:t.surveyResponses,userPersona:a}}};return v().N3(n,{...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:i,environment:n}),persona:a}),_().A.setState(i),i}({environment:a,onboardingState:n,surveyResponse:e});u&&await(0,M().goToNextStage)({environment:a,onboardingState:t})},isSelected:(null===(t=n.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.userPersona)===e,label:re[e],useOneColumnLayout:l},e)}))})]})}const wi=["exec","dept_lead","team_manager","member","solo","personal"];function ji(e){let{onboardingState:t,environment:n}=e;const o=n.device.isMobile,a=xi(true);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(X().A,{style:a.label,children:(0,P.jsx)(y().sA,{defaultMessage:"Select one",id:"onboardingSurvey.heading.selectPrompt"})}),(0,P.jsx)("div",{style:a.optionContainer,children:wi.map((e=>{var a;return(0,P.jsx)(Ii,{onClick:async()=>{var a,i;_().A.setState({...t,planTypeAndSurveyInfo:{...t.planTypeAndSurveyInfo,surveyResponses:{...null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.surveyResponses,userRole:e}}}),v().tu(n,{...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:n}),role:e}),!o||null!==(i=t.planTypeAndSurveyInfo)&&void 0!==i&&null!==(i=i.surveyResponses)&&void 0!==i&&i.userRole||await(0,M().goToNextStage)({environment:n,onboardingState:t})},isSelected:(null===(a=t.planTypeAndSurveyInfo)||void 0===a||null===(a=a.surveyResponses)||void 0===a?void 0:a.userRole)===e,label:se[e],useOneColumnLayout:true},e)}))})]})}const Ci=["1_10","50_99","300_999","5000+","10_49","100_299","1000_5000"],Ai=["1_10","10_49","50_99","100_299","300_999","1000_5000","5000+"];function ki(e){let{onboardingState:t,environment:n}=e;const o=n.device.isMobile,a=o,i=xi(a);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(X().A,{style:i.label,children:(0,P.jsx)(y().sA,{defaultMessage:"Select one",id:"onboardingSurvey.heading.selectPrompt"})}),(0,P.jsx)("div",{style:i.optionContainer,children:(o?Ai:Ci).map((e=>{var i;return(0,P.jsx)(Ii,{onClick:async()=>{var a,i;_().A.setState({...t,planTypeAndSurveyInfo:{...t.planTypeAndSurveyInfo,surveyResponses:{...null===(a=t.planTypeAndSurveyInfo)||void 0===a?void 0:a.surveyResponses,companySize:e}}}),v().xe(n,{...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:n}),companySize:e}),!o||null!==(i=t.planTypeAndSurveyInfo)&&void 0!==i&&null!==(i=i.surveyResponses)&&void 0!==i&&i.companySize||await(0,M().goToNextStage)({environment:n,onboardingState:t})},isSelected:(null===(i=t.planTypeAndSurveyInfo)||void 0===i||null===(i=i.surveyResponses)||void 0===i?void 0:i.companySize)===e,label:de[e],useOneColumnLayout:a,height:o?void 0:64},e)}))})]})}function Ii(e){let{onClick:t,isSelected:n,label:o,useOneColumnLayout:a,height:i}=e;const s=(0,c().IS)((e=>({button:{height:i??48,width:a?"100%":250,borderRadius:12,alignItems:"center",justifyContent:"left",paddingLeft:16,display:"flex",border:`1px solid ${e.stroke.primary}`,transition:"all 0.2s ease-in-out",...n?{boxShadow:`${ne().Ay.blue} 0 0 0 2px`}:{opacity:.7}}})),[i,n,a]);return(0,P.jsx)(S().p,{style:s.button,onClick:t,children:(0,P.jsx)(X().A,{children:o})})}const Mi={stageName:"team_onboarding_persona_survey",shouldSkip(e){if("partner_program_onboarding_flow"===e.flowName&&Boolean(e.selectedEligibleWorkspaceId))return!0;const t=e.planTypeAndSurveyInfo;return"team"!==(null==t?void 0:t.planType)},shouldShowSkipButton(e){var t;const n=null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent;return Boolean(n)&&"multiplayer"!==n},getTitle:(e,t)=>(0,P.jsx)(y().sA,{defaultMessage:"Tell us about yourself",id:"onboardingSurvey.title"}),getSubTitle:(e,t)=>(0,P.jsx)(y().sA,{defaultMessage:"This helps show relevant content",id:"onboardingSurvey.subtitleV2"}),isContinueEnabled(e,t){var n,o,a,i,s;const r=e.planTypeAndSurveyInfo;return Boolean((null==r||null===(n=r.surveyResponses)||void 0===n?void 0:n.userPersona)&&(null==r||null===(o=r.surveyResponses)||void 0===o?void 0:o.userRole)&&(null==r||null===(a=r.surveyResponses)||void 0===a?void 0:a.companySize)&&"unfilled"!==(null==r||null===(i=r.surveyResponses)||void 0===i?void 0:i.userPersona)&&"unfilled"!==(null==r||null===(s=r.surveyResponses)||void 0===s?void 0:s.userRole))},isBackEnabled:e=>!0,onContinue(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};v().jS(e,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"submit",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},onBack(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};v().jS(e,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"back",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},renderStage:()=>(0,P.jsx)(ui,{}),getContinueButtonStyles:()=>({width:300,alignSelf:"center",marginTop:70}),alignment:$().C.Center},Ti={stageName:"mobile_team_onboarding_persona_survey",shouldSkip(e){const t=e.planTypeAndSurveyInfo;return"team"!==(null==t?void 0:t.planType)},shouldShowSkipButton(e){var t;const n=null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent;return Boolean(n)&&"multiplayer"!==n},getTitle:(e,t)=>(0,P.jsx)(y().sA,{defaultMessage:"Tell us about yourself",id:"onboardingSurvey.title"}),isContinueEnabled(e,t){var n,o,a,i,s;const r=e.planTypeAndSurveyInfo;return Boolean((null==r||null===(n=r.surveyResponses)||void 0===n?void 0:n.userPersona)&&(null==r||null===(o=r.surveyResponses)||void 0===o?void 0:o.userRole)&&(null==r||null===(a=r.surveyResponses)||void 0===a?void 0:a.companySize)&&"unfilled"!==(null==r||null===(i=r.surveyResponses)||void 0===i?void 0:i.userPersona)&&"unfilled"!==(null==r||null===(s=r.surveyResponses)||void 0===s?void 0:s.userRole))},isBackEnabled:e=>!0,onContinue(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};v().jS(e,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"submit",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},onBack(e,t){var n,o;const{userPersona:a,userRole:i,useCases:s}=(null===(n=t.planTypeAndSurveyInfo)||void 0===n?void 0:n.surveyResponses)??{};v().jS(e,{selection:{userPersona:a,userRole:i,useCases:s??[]},action:"back",plan_selection:null===(o=t.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType,...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:t,environment:e})})},renderStage:()=>(0,P.jsx)(ci,{})},_i={stageName:"team_onboarding_function",renderStage:()=>(0,P.jsx)(yi,{}),shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)||"on"!==l().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"})},getTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"Tell us about yourself",id:"onboardingSurvey.function.title"}),getSubTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"What kind of work do you do?",id:"onboardingSurvey.function.subTitle"}),shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)},isContinueEnabled(e){var t,n;const o=e.planTypeAndSurveyInfo;return Boolean((null==o||null===(t=o.surveyResponses)||void 0===t?void 0:t.userPersona)&&"unfilled"!==(null==o||null===(n=o.surveyResponses)||void 0===n?void 0:n.userPersona))},shouldHideDesktopBottomContent(e){var t;const n=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=n&&null!==(t=n.surveyResponses)&&void 0!==t&&t.userPersona)},isBackEnabled:()=>!0,alignment:$().C.Center};function Pi(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)||"on"!==l().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"})}function Ni(e,t,n){var o;switch(n){case"team":const t=null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType;return"team"!==t&&void 0!==t||"on"!==l().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control",disableExposureLogging:!0});case"personal":case"school":return Pi(e)}}const Bi={stageName:"mobile_team_onboarding_function",renderStage:()=>(0,P.jsx)(yi,{}),shouldSkip:Pi,estimateWillSkip:Ni,getTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"What kind of work do you do?",id:"onboardingSurvey.function.subTitle"}),isContinueEnabled(e){var t,n;const o=e.planTypeAndSurveyInfo;return Boolean((null==o||null===(t=o.surveyResponses)||void 0===t?void 0:t.userPersona)&&"unfilled"!==(null==o||null===(n=o.surveyResponses)||void 0===n?void 0:n.userPersona))},isBackEnabled:()=>!0,shouldHideMobileBottomContent(e){var t;const n=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=n&&null!==(t=n.surveyResponses)&&void 0!==t&&t.userPersona)},shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)}},Ri={stageName:"team_onboarding_role",renderStage:()=>(0,P.jsx)(bi,{}),shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)||"on"!==l().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"})||(0,Fe().bG)()},getTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"Tell us about yourself",id:"onboardingSurvey.role.title"}),getSubTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"Whats your role?",id:"onboardingSurvey.role.subTitle"}),shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)},isContinueEnabled(e){var t,n;const o=e.planTypeAndSurveyInfo;return Boolean((null==o||null===(t=o.surveyResponses)||void 0===t?void 0:t.userRole)&&"unfilled"!==(null==o||null===(n=o.surveyResponses)||void 0===n?void 0:n.userRole))},isBackEnabled:()=>!0,alignment:$().C.Center},Di={stageName:"mobile_team_onboarding_role",renderStage:()=>(0,P.jsx)(bi,{}),shouldSkip:Pi,estimateWillSkip:Ni,getTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"Whats your role?",id:"onboardingSurvey.role.subTitle"}),isContinueEnabled(e){var t,n;const o=e.planTypeAndSurveyInfo;return Boolean((null==o||null===(t=o.surveyResponses)||void 0===t?void 0:t.userRole)&&"unfilled"!==(null==o||null===(n=o.surveyResponses)||void 0===n?void 0:n.userRole))},isBackEnabled:()=>!0,shouldHideMobileBottomContent(e){var t;const n=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=n&&null!==(t=n.surveyResponses)&&void 0!==t&&t.userRole)},shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)}},zi={stageName:"team_onboarding_company_size",renderStage:()=>(0,P.jsx)(vi,{}),shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)||"on"!==l().default.getEligibleGroup({experimentId:"onboarding_split_team_survey",defaultGroup:"control"})||(0,Fe().bG)()},getTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"Tell us about yourself",id:"onboardingSurvey.companySize.title"}),getSubTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"Whats the size of your company?",id:"onboardingSurvey.companySize.subTitle"}),isContinueEnabled(e){var t;const n=e.planTypeAndSurveyInfo;return Boolean(null==n||null===(t=n.surveyResponses)||void 0===t?void 0:t.companySize)},isBackEnabled:e=>!0,alignment:$().C.Center,shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)}},Oi={stageName:"mobile_team_onboarding_company_size",renderStage:()=>(0,P.jsx)(vi,{}),shouldSkip:Pi,estimateWillSkip:Ni,getTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"Whats the size of your company?",id:"onboardingSurvey.companySize.subTitle"}),isContinueEnabled(e){var t;const n=e.planTypeAndSurveyInfo;return Boolean(null==n||null===(t=n.surveyResponses)||void 0===t?void 0:t.companySize)},isBackEnabled:e=>!0,shouldHideMobileBottomContent(e){var t;const n=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=n&&null!==(t=n.surveyResponses)&&void 0!==t&&t.companySize)},shouldShowSkipButton(e){var t;return"singleplayer"===(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)}};function Wi(e,t,n){return[(0,P.jsx)(y().sA,{defaultMessage:"At the end of your trial, Notion {planName} will auto-renew each month at {money}/seat plus taxes unless canceled. Cancel via the Billing tab prior to renewal to avoid future charges",id:"onboardingTimedTrials.termsOfService",values:{money:e?(0,P.jsx)(Zo().v,{cost:e,trailingZeroDisplay:"stripIfInteger",intl:n}):"-",planName:(0,ta().u2)({product:t,intl:n})}},"teamOnboardingTimedTrialCheckoutTermsOfService")]}function Ei(e,t){return(0,P.jsx)(y().sA,{id:"onboardingCheckout.upgradeButton.startTrial",defaultMessage:"Start Notion {subscriptionTier} trial",values:{subscriptionTier:(0,ta().u2)({product:e,intl:t})}})}const Li={stageName:"team_onboarding_timed_trial_checkout",shouldSkip:e=>"meeting_notes_flow"!==e.flowName&&!e.acceptedTimedTrialOffer,getTitle:()=>(0,P.jsx)(Pa,{}),getSubTitle:()=>(0,P.jsx)(Na,{}),isContinueEnabled:()=>!0,isBackEnabled:()=>!0,onBack(){_().A.update((e=>({...e,acceptedTimedTrialOffer:!1})))},renderStage(){let e=(0,P.jsx)(y().sA,{id:"onboarding.timedTrailsStage.skipTrial.message",defaultMessage:"Continue with Free plan instead"});return"meeting_notes_flow"===_().A.state.flowName&&(e=(0,P.jsx)(y().sA,{id:"onboarding.timedTrailsStage.skipTrial.meetingNotesFlow",defaultMessage:"Try it for Free instead"})),(0,P.jsx)(_a,{offerType:"trial",continueButtonLabelFn:Ei,skipTrialLabel:e,termsCheckboxLabelsFn:Wi})},alignment:$().C.Center,headerStyles:{maxWidth:700},getDesktopContinueButtonOverride:()=>(0,P.jsx)("div",{})};var Fi=()=>n(755195),qi=()=>n(21140),Ui=()=>n(517492),Vi=()=>n(725340),Hi=()=>n(808764),Ki=()=>n(551222),Gi=()=>n(15936),Ji=()=>n(274570),Qi=()=>n(465505),$i=()=>n(38679),Yi=()=>n(284611),Zi=()=>n(920495),Xi=()=>n(158469),es=()=>n(904789);function ts(e){let{intl:t,enableMay13PackagingChanges:n}=e;const o=function(e){return{blocks:{free:{icon:Vi().U,message:e.formatMessage({id:"planCard.features.blocks.free",defaultMessage:"1,000 blocks to collaborate"})},plus:{icon:Qi().P,message:e.formatMessage({id:"planCard.features.blocks.unlimited",defaultMessage:"Unlimited blocks for everyone"})},business:{icon:Qi().P,message:e.formatMessage({id:"planCard.features.blocks.unlimited",defaultMessage:"Unlimited blocks for everyone"})}},fileUpload:{free:{icon:es().R,message:e.formatMessage({id:"planCard.features.fileUpload.free",defaultMessage:"5MB file upload limit"})},plus:{icon:es().R,message:e.formatMessage({id:"planCard.features.fileUpload.unlimited",defaultMessage:"Unlimited file uploads"})},business:{icon:es().R,message:e.formatMessage({id:"planCard.features.fileUpload.unlimited",defaultMessage:"Unlimited file uploads"})}},view_chart:{free:{icon:Ki().q,message:e.formatMessage({id:"planCard.features.charts.free",defaultMessage:"{chartLimit} chart"},{chartLimit:1})},plus:{icon:Ki().q,message:e.formatMessage({id:"planCard.features.charts.unlimited",defaultMessage:"Unlimited charts"})},business:{icon:Ki().q,message:e.formatMessage({id:"planCard.features.charts.unlimited",defaultMessage:"Unlimited charts"})}},form_customization:{free:{icon:Zi().pageIcon,message:e.formatMessage({id:"planCard.features.forms.basic",defaultMessage:"Basic forms"})},plus:{icon:Zi().pageIcon,message:e.formatMessage({id:"planCard.features.forms.custom",defaultMessage:"Custom forms"})},business:{icon:Zi().pageIcon,message:e.formatMessage({id:"planCard.features.forms.custom",defaultMessage:"Custom forms"})}},pageHistory:{free:{icon:Ji().clockIcon,message:e.formatMessage({id:"planCard.features.pageHistory",defaultMessage:"{historyLimit} day page history"},{historyLimit:7})},plus:{icon:Ji().clockIcon,message:e.formatMessage({id:"planCard.features.pageHistory",defaultMessage:"{historyLimit} day page history"},{historyLimit:30})},business:{icon:Ji().clockIcon,message:e.formatMessage({id:"planCard.features.pageHistory",defaultMessage:"{historyLimit} day page history"},{historyLimit:90})}},ai_usage:{free:{icon:p().aiFaceIcon,message:e.formatMessage({id:"planCard.features.aiUsage.free",defaultMessage:"Trial of Notion AI core"})},business:{icon:p().aiFaceIcon,message:e.formatMessage({id:"planCard.features.aiUsage.business",defaultMessage:"Notion AI"})}},custom_public_sites_layout:{free:{icon:Hi().U,message:e.formatMessage({id:"planCard.features.customPublicSitesLayout.free",defaultMessage:"Basic sites"})}},ai_research_mode:{business:{icon:$i().P,message:e.formatMessage({id:"planCard.features.aiResearchMode.business",defaultMessage:"Research Mode"})}},ai_meeting_notes:{business:{icon:Yi().b,message:e.formatMessage({id:"planCard.features.aiMeetingNotes.business",defaultMessage:"AI Meeting Notes"})}},advancedSecurity:{business:{icon:Gi().g,message:e.formatMessage({id:"planCard.features.advancedSecurity.business",defaultMessage:"Secure & compliant collaboration"})}},unifiedFind:{business:{icon:Xi().f,message:e.formatMessage({id:"planCard.features.unifiedFind.business",defaultMessage:"Enterprise Search"})}}}}(t);return{free:n?[o.blocks.free,o.ai_usage.free,o.form_customization.free,o.custom_public_sites_layout.free]:[o.blocks.free,o.fileUpload.free,o.view_chart.free,o.form_customization.free,o.pageHistory.free],student:[],personal:[],plus:[o.blocks.plus,o.fileUpload.plus,o.view_chart.plus,o.form_customization.plus,o.pageHistory.plus],business:n?[o.blocks.business,o.ai_usage.business,o.advancedSecurity.business,o.unifiedFind.business,o.ai_meeting_notes.business,o.ai_research_mode.business]:[o.blocks.business,o.fileUpload.business,o.view_chart.business,o.form_customization.business,o.pageHistory.business],enterprise:[],ai:[],sites_custom_hostnames:[]}}function ns(e){let{product:t,price:n,comparisonPrice:a,primaryAction:i,isHighlighted:s}=e;const r=is(s),l=function(e){let{product:t,enableMay13PackagingChanges:n}=e;const a=(0,y().tz)();return o.useMemo((()=>ts({intl:a,enableMay13PackagingChanges:n})[t].filter((e=>void 0!==e))||[]),[a,t,n])}({product:t,enableMay13PackagingChanges:(0,u().K8)((()=>(0,oa().Le)()),[])});return(0,P.jsx)("div",{style:r.container,children:(0,P.jsxs)(Wt().Y1,{gap:28,padding:"24px",align:"top-left",children:[(0,P.jsx)(os,{product:t,price:n,comparisonPrice:a}),s?(0,P.jsx)(C().A,{style:r.primaryButton,onClick:i.onClick,children:i.label}):(0,P.jsx)($t().E,{color:"uiBlue",size:"xl",style:r.primaryButton,onClick:i.onClick,children:i.label}),(0,P.jsxs)(Wt().Y1,{gap:12,children:[l.map(((e,t)=>(0,P.jsx)(as,{feature:{...e}},`feature-${t}`))),s&&(0,P.jsx)(j().D,{styleName:"UIRegular-14px/Regular",colorName:"tertiary",children:(0,P.jsx)(y().sA,{id:"plansPage.planCard.andMore",defaultMessage:"... and more"})})]})]})})}function os(e){let{product:t,price:n,comparisonPrice:o}=e;const a=is(),i=(0,y().tz)();return(0,P.jsxs)(Wt().Y1,{gap:16,children:[(0,P.jsx)(j().D,{styleName:"UITitle-22px/Semibold",colorName:"primary",children:(0,ta().u2)({product:t,intl:i})}),(0,P.jsxs)(Wt().Y1,{gap:2,children:[(0,P.jsxs)(Wt().Y1,{direction:"horizontal",gap:8,children:[o&&(0,P.jsx)("div",{style:a.comparisonPriceText,children:(0,P.jsx)(Ui().v,{cost:o,trailingZeroDisplay:"stripIfInteger"})}),(0,P.jsx)("div",{style:a.priceText,children:(0,P.jsx)(Ui().v,{cost:n,trailingZeroDisplay:"stripIfInteger"})})]}),(0,P.jsx)(j().D,{styleName:"UISmall-12px/Medium",colorName:"tertiary",children:(0,P.jsx)(y().sA,{id:"plansPage.planCard.priceUnit",defaultMessage:"per member / month"})})]})]})}function as(e){let{feature:t}=e;const n=is(),o=Array.isArray(t.icon)?t.icon:[t.icon];return(0,P.jsxs)(Wt().Y1,{direction:"horizontal",gap:4,align:"center-left",height:22,children:[(0,P.jsx)(qi().Ye,{gap:4,children:o.filter(z().Vq).map((e=>e({...n.icon,...t.iconStyle??{}})))}),(0,P.jsx)(j().D,{styleName:"Body-14px/Regular",colorName:"secondary",children:t.message})]})}function is(e){return(0,c().IS)((t=>({container:{borderRadius:12,background:t.surface.elevated,boxShadow:e?t.shadowMD:t.shadowXS,flex:"1 0 0",alignSelf:"stretch"},priceText:{color:t.text.primary,fontSize:40,fontWeight:400,lineHeight:"120%",letterSpacing:.4},comparisonPriceText:{color:"dark"===t.mode?"#636363":"#C7C5C1",fontSize:40,fontWeight:400,lineHeight:"120%",letterSpacing:.4,textDecoration:"line-through"},primaryButton:{height:36,borderRadius:8,alignSelf:"stretch"},icon:{display:"flex",width:20,height:20,color:t.icon.secondary,padding:2}})),[e])}function ss(e){let{monthlyUnitCost:t,currencyCode:n,onboardingState:o,product:a,trialDays:i}=e;const s=(0,y().tz)(),r=(0,d().v3)(),l={amount:0,currencyCode:n};return(0,P.jsxs)(Wt().Y1,{direction:"horizontal",gap:16,align:"center-left",padding:"12px 0px 36px 0px",width:630,children:[(0,P.jsx)(ns,{product:"free",price:l,primaryAction:{label:s.formatMessage({id:"onboarding.timedTrials.comparePlans.free.continue",defaultMessage:"Continue"}),onClick:async()=>{(0,la().Q8)(),await(0,M().goToNextStage)({environment:r,onboardingState:o})}}}),(0,P.jsx)(ns,{isHighlighted:!0,product:a,price:l,comparisonPrice:t,primaryAction:{label:s.formatMessage({id:"onboarding.timedTrials.comparePlans.tryFor",defaultMessage:"Try for {trialDays} days"},{trialDays:i}),onClick:async()=>{ua().Ak(r,{stage:"team_onboarding_timed_trial_offer",product:a,trial_days:i}),_().A.update((e=>({...e,acceptedTimedTrialOffer:!0}))),await(0,M().goToNextStage)({environment:r,onboardingState:o})}}})]})}function rs(){const e=(0,u().K8)((()=>_().A.state),[]),t=(0,d().v3)(),n=da(),a=(0,u().K8)((()=>sa().A.selectedCurrencyCode),[]),i=(0,Fi().H4)({billingInterval:"month",priceStore:sa().A,products:[(null==n?void 0:n.subscriptionTier)??"plus"]}),s=(0,Fi()._7)({asyncPrice:i[(null==n?void 0:n.subscriptionTier)??"plus"]});return o.useEffect((()=>{n||(0,M().goToNextStage)({environment:t,onboardingState:e})}),[n,t,e]),n?(0,P.jsx)(na().A,{capture:!0,render:()=>(0,P.jsx)(ss,{monthlyUnitCost:s,currencyCode:a,onboardingState:e,product:n.subscriptionTier,trialDays:n.trialDuration.as("days")})}):null}const ls={stageName:"team_onboarding_timed_trial_offer",shouldSkip(e){const t=e.planTypeAndSurveyInfo;return"team"!==(null==t?void 0:t.planType)},getTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"Choose your Plan",id:"onboardingTimedTrial.offer.title"}),getSubTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"Select the best Notion experience for your team",id:"onboardingTimedTrial.offer.subtitle"}),isContinueEnabled:()=>!0,isBackEnabled(e){const t=e.planTypeAndSurveyInfo;return"singleplayer"!==(null==t?void 0:t.collaborativeIntent)},renderStage:()=>(0,P.jsx)(rs,{}),alignment:$().C.Center,headerStyles:{maxWidth:600},getDesktopContinueButtonOverride:()=>(0,P.jsx)("div",{})},ds={stageName:"team_onboarding_use_case_picker",shouldSkip(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)},getTitle:(e,t)=>(0,P.jsx)(y().sA,{defaultMessage:"What would you like to do first?",id:"onboardingSurvey.useCaseStage.title"}),getSubTitle:(e,t)=>(0,P.jsx)(y().sA,{defaultMessage:"This helps customize your experience",id:"onboardingSurvey.useCaseStage.subtitle"}),isContinueEnabled(e){var t;return Boolean(null===(t=e.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.useCases)},isBackEnabled:e=>!0,renderStage(e){var t;const n=null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType;return Do()(n,"Plan type must be defined before OnboardingUseCasePickerStage"),(0,P.jsx)(Fo,{planType:n})},shouldShowSkipButton:()=>!1,getContinueButtonStyles:()=>({width:300,height:36,marginTop:64}),getContinueButtonLabel:()=>(0,P.jsx)(y().sA,{defaultMessage:"Continue",id:"contextualizedOnboarding.continueButton.label"}),headerStyles:{textAlign:"center"},alignment:$().C.Center},us={stageName:"team_onboarding_use_cases",shouldSkip(e){if("partner_program_onboarding_flow"===e.flowName&&Boolean(e.selectedEligibleWorkspaceId))return!0;const t=e.planTypeAndSurveyInfo;return"team"!==(null==t?void 0:t.planType)},getTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"What are you planning on using Notion for?",id:"onboardingUseCasesStep.title"}),getSubTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"You can always add more later",id:"onboardingUseCasesStep.subtitle"}),isContinueEnabled(e,t){var n,o;const a=e.planTypeAndSurveyInfo,i=e.selectedWorkflowTemplateIds,s=Boolean((null==a||null===(n=a.surveyResponses)||void 0===n?void 0:n.useCases)&&(null==a||null===(o=a.surveyResponses)||void 0===o||null===(o=o.useCases)||void 0===o?void 0:o.length)>0),r=Boolean(i&&i.length>0);return s||r},isBackEnabled:(e,t)=>!0,renderStage:()=>(0,P.jsx)(st,{}),renderRightContent(e){var t;const n=e.planTypeAndSurveyInfo,o=(null==n||null===(t=n.surveyResponses)||void 0===t?void 0:t.useCases)??[],a=e.selectedWorkflowTemplateIds??[];return(0,P.jsx)(pt,{selectedWorkflowTemplateIds:a,selectedUseCases:o,selectedCategories:[]})},getContinueButtonStyles:()=>({width:376,marginTop:48,borderRadius:8})},cs={stageName:"mobile_team_onboarding_use_cases",shouldSkip:T().shouldSkipStageTeamOnly,estimateWillSkip:T().estimateWillSkipTeamOnly,getTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"What are you planning to use Notion for?",id:"onboardingUseCasesStep.mobile.title"}),isContinueEnabled(e){var t,n;const o=e.planTypeAndSurveyInfo,a=e.selectedWorkflowTemplateIds,i=Boolean((null==o||null===(t=o.surveyResponses)||void 0===t?void 0:t.useCases)&&(null==o||null===(n=o.surveyResponses)||void 0===n||null===(n=n.useCases)||void 0===n?void 0:n.length)>0),s=Boolean(a&&a.length>0);return i||s},shouldHideMobileBottomContent(e){var t,n;const o=null==e?void 0:e.planTypeAndSurveyInfo;return!(null!=o&&null!==(t=o.surveyResponses)&&void 0!==t&&t.useCases&&0!==o.surveyResponses.useCases.length||0!==((null==e||null===(n=e.selectedWorkflowTemplateIds)||void 0===n?void 0:n.length)??0))},isBackEnabled:(e,t)=>!0,renderStage:()=>(0,P.jsx)(st,{})};class gs extends ho().Store{getInitialState(){return{useCases:$e().k4([Pe().GQ,Pe().NR,Pe().Q4])}}}const ps=gs,ms=(0,y().YK)({placeHolderMobile:{defaultMessage:"Acme Labs",id:"onboardingWorkspaceCreate.mobile.spaceInput.placeholderV2"},placeHolderDesktop:{defaultMessage:"Acme Inc.",id:"onboardingWorkspaceCreate.workspaceNameInput.placeholder"},workspaceNameTooLong:{defaultMessage:"Workspace name must be {maxLength} characters or less",id:"onboardingWorkspaceCreate.workspaceNameInput.tooLongError"}});function fs(e,t){return e&&e.trim()&&e.length>Pe().zX?t.formatMessage(ms.workspaceNameTooLong,{maxLength:Pe().zX}):null}function ys(){const e=(0,d().v3)(),t=(0,y().tz)(),n=(0,u().uB)(void 0,ps),[a,i]=o.useState(null),r=(0,u().O$)(_().A),l=(0,u().K8)((()=>n.state.invalidField),[n]),g=r.spaceIcon?{pointer:{table:"space",id:"undefined"},icon:r.spaceIcon}:void 0,p=t.formatMessage(ms.placeHolderDesktop),m=(0,u().K8)((()=>{const t=(0,T().getStageName)({flowName:r.flowName,stageIndex:r.currentStageIndex,environment:e});return ws[t]}),[r,e]),f=(0,u().K8)((()=>null==m?void 0:m.isContinueEnabled(r,e)),[m,r,e]),b=(0,u().K8)((()=>(0,Fe().Wl)()),[]);(0,o.useEffect)((()=>{r.onboardingData&&void 0===r.spaceName&&"prefilled_workspace_preview"===b&&(0,I().prefillTeamWorkspaceName)(r.onboardingData)}),[r.onboardingData,r.spaceName,b]);const v=hs({isMobile:!1,shouldShowWorkspaceNameAndIconPreview:"workspace_preview"===b||"prefilled_workspace_preview"===b}),h=(0,c().IS)((e=>({buttonLabel:{fontSize:14,color:e.text.secondary,marginTop:4},formLabel:{...s().Gy,color:e.text.secondary,marginTop:32},inputHint:{marginTop:4},input:{marginRight:4,borderRadius:6,background:"transparent",backgroundColor:e.whiteButtonBackground,height:31}})),[]);return(0,P.jsx)(mo().A,{capture:!0,debugName:"ContextualizedOnboardingWorkspaceCreate",onEnter:async()=>{f&&await(0,M().goToNextStage)({environment:e,onboardingState:r})},onLeft:$e().D_,onRight:$e().D_,onSelectAll:$e().D_,onCut:$e().D_,onCopy:$e().D_,onPaste:$e().D_,children:(0,P.jsxs)("div",{style:v.wrapper,children:[(0,P.jsx)("div",{style:v.innerWrapper,children:(0,P.jsxs)("div",{style:v.recordIconWrapper,children:[(0,P.jsx)(Be().B6,{bucket:"public",disabled:!1,icon:g,isEmptyPage:!1,title:r.spaceName||p,size:81,iconLoggingData:{recordTable:"space",source:"onboarding_workspace_create"},onChange:t=>xs({environment:e,onboardingState:r,emojiOrUrl:t}),iconBoxStyles:v.recordIconBox,placeholderStyle:v.recordIconPlaceholder}),(0,P.jsx)("div",{style:h.buttonLabel,children:(0,P.jsx)(y().sA,{defaultMessage:"Choose or add an icon",id:"onboarding.workspaceCreate.buttonLabel.titleV2"})})]})}),(0,P.jsx)(vs,{}),(0,P.jsx)("div",{style:h.formLabel,children:(0,P.jsx)(y().sA,{defaultMessage:"Workspace name",id:"onboardingWorkspaceCreate.workspaceNameInput.label"})}),(0,P.jsx)(po().A,{focusInitial:!0,value:r.spaceName,placeholder:p,onChange:e=>{_().A.setState({..._().A.state,spaceName:e.target.value}),i(null)},onBlur:()=>{const{spaceName:e}=r,n=fs(e,t);i(n)},style:{...h.input,..."space_name"===l||a?s().Hp:{}}}),(0,P.jsx)("div",{style:h.inputHint,children:(0,P.jsx)(X().A,{isMultiline:!0,isSmall:!0,style:{...a&&{color:"red"}},children:a||(0,P.jsx)(y().sA,{defaultMessage:"The name of your company or organization",id:"onboardingWorkspaceCreate.workspaceNameInput.hintV2"})})})]})})}function bs(){const e=(0,d().v3)(),t=(0,y().tz)(),[n,a]=o.useState(null),i=hs({isMobile:!0}),r=(0,c().IS)((e=>({inputComponent:{marginBottom:24,border:"none",background:"none",width:"auto",maxWidth:256,height:32,borderRadius:6,boxShadow:"none",color:e.text.secondary},inputOverrides:{height:32,fontSize:26,fontWeight:me().Wy.bold,color:e.text.primary},photoBadgePlusContainer:{position:"absolute",borderRadius:"50%",border:`4px solid ${e.surface.wash}`,background:e.stroke.primary,bottom:"0%",right:"12%",pointerEvents:"none"},photoBadgePlus:{width:24,height:24,margin:5,fill:e.icon.secondary}})),[]),l=(0,u().O$)(_().A),g=l.spaceIcon?{pointer:{table:"space",id:"undefined"},icon:l.spaceIcon}:void 0,p=t.formatMessage(ms.placeHolderMobile);return(0,P.jsxs)("div",{style:i.wrapper,children:[(0,P.jsx)("div",{style:i.innerWrapper,children:(0,P.jsxs)("div",{style:i.recordIconWrapper,children:[(0,P.jsx)(Be().B6,{bucket:"public",disabled:!1,icon:g,isEmptyPage:!1,title:l.spaceName||p,size:126,iconLoggingData:{recordTable:"space",source:"onboarding_workspace_create"},onChange:t=>xs({environment:e,onboardingState:l,emojiOrUrl:t}),iconBoxStyles:i.recordIconBox,placeholderStyle:i.recordIconPlaceholder}),(0,P.jsx)("div",{style:r.photoBadgePlusContainer,children:ro(r.photoBadgePlus)})]})}),(0,P.jsx)(vs,{}),(0,P.jsx)(Wt().Y1,{align:"center",children:(0,P.jsx)(po().A,{autoFocus:!0,inputClassName:"spaceNameInput",format:po().C.Transparent,focusInitial:!0,value:l.spaceName,placeholder:p,onChange:e=>{_().A.setState({..._().A.state,spaceName:e.target.value}),a(null)},onBlur:()=>{const{spaceName:e}=l,n=fs(e,t);a(n)},style:{...r.inputComponent,...n?s().Hp:{}},inputStyle:r.inputOverrides,overrideDefaultWidth:!0})}),n&&(0,P.jsx)(X().A,{isMultiline:!0,isSmall:!0,style:{color:"red",marginTop:8,textAlign:"center"},children:n})]})}function vs(){const e=(0,c().DP)(),t=`\n\t\t.spaceNameInput::placeholder {\n\t\t\tfont-size: 26px;\n\t\t\tfont-weight: ${me().Wy.bold};\n\t\t\tcolor: ${e.text.quaternary};\n\t\t\ttext-align: center;\n\t\t}\n\t\t.spaceNameInput:focus-visible {\n\t\t\toutline: none;\n\t\t}\n\t\t.spaceNameInput:placeholder-shown {\n\t\t\ttext-align: left;\n\t\t\twidth: 136px;\n\t\t}\n\t\t.spaceNameInput {\n\t\t\ttext-align: center;\n\t\t\twidth: 100%;\n\t\t}\n\t`;return(0,P.jsx)("style",{children:t})}function hs(e){let{isMobile:t,shouldShowWorkspaceNameAndIconPreview:n}=e;return(0,c().IS)((e=>({wrapper:{...!n&&{marginLeft:"auto"},marginRight:"auto",display:"flex",flexDirection:"column",width:n?320:300,...t&&{alignItems:"center"}},innerWrapper:{width:180,overflow:"hidden",margin:"0 auto",...!t&&{marginTop:28}},recordIconWrapper:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",marginRight:4,marginTop:t?55:0,position:"relative"},recordIconBox:{borderRadius:t?22:14,background:e.tint.regular},recordIconPlaceholder:{lineHeight:"32px",letterSpacing:.208,color:e.text.tertiary,height:"auto",fontSize:t?40:34,fontWeight:t?700:510}})),[t,n])}function xs(e){let{environment:t,onboardingState:n,emojiOrUrl:o}=e;v().F5(t,{...(0,T().getContextualizedOnboardingAnalyticsData)({onboardingState:n,environment:t}),spaceIcon:o}),_().A.setState({..._().A.state,spaceIcon:o})}async function Ss(e){var t;const n=_().A.state,{onboardingData:o}=n;if(!o)return;const a=(0,s().qg)({userStore:o.userStore,isUserDomainJoinable:o.isUserDomainJoinable});if("default"===n.flowName&&"multiplayer"===(null===(t=n.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent)&&n.optInAutoJoin&&n.spaceId&&a){const t=Qa().SL.createChildStore(o.userRootStore,{table:Pe().NX,id:n.spaceId});await je().Yk({environment:e,emailDomains:[a],spaceStore:t})}}const ws={desktop_onboarding_promote_app_download:Gt,team_desktop_onboarding_promote_app_download:Jt,profile:No,onboarding_workspace_choose:Qo,onboarding_plan_type_choose:eo,onboarding_collaborative_intent_choose:Tt,onboarding_plan_type_and_survey:Jn,onboarding_category_survey:ht,onboarding_use_case_picker:qo,team_onboarding_persona_survey:Mi,team_onboarding_use_case_picker:ds,team_onboarding_function:_i,team_onboarding_role:Ri,team_onboarding_company_size:zi,team_onboarding_invite:li,team_onboarding_timed_trial_offer:ls,team_onboarding_timed_trial_checkout:Li,team_onboarding_workspace_create:{stageName:"team_onboarding_workspace_create",async shouldSkip(e,t){if("partner_program_onboarding_flow"===e.flowName&&Boolean(e.selectedEligibleWorkspaceId))return!0;const n=e.planTypeAndSurveyInfo;return"team"!==(null==n?void 0:n.planType)||!(!e.onboardingData||"auto_name_workspace"!==(0,Fe().Wl)())&&((0,I().prefillTeamWorkspaceName)(e.onboardingData),await(0,I().createSpaceAndSetSpaceId)({onboardingState:_().A.state,environment:t}),await Ss(t),!0)},getTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"Give your workspace a name",id:"onboardingWorkspaceCreate.stage.team.titleV2"}),getSubTitle(e){var t;if("singleplayer"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.collaborativeIntent))return(0,P.jsx)(y().sA,{defaultMessage:"Details help any collaborators that join",id:"onboardingWorkspaceCreate.stage.subtitleV2"})},isContinueEnabled(e){const{spaceName:t}=e;return Boolean(t&&t.trim()&&t.length<=Pe().zX)},async onContinue(e,t){await(0,I().createSpaceAndSetSpaceId)({onboardingState:t,environment:e}),await Ss(e)},isBackEnabled:e=>!0,renderStage:()=>(0,P.jsx)(ys,{}),getContinueButtonStyles(){const e=(0,Fe().Wl)(),t="workspace_preview"===e||"prefilled_workspace_preview"===e;return{width:t?320:300,alignSelf:t?"flex-start":"center",marginTop:70}},renderRightContent(e){const t=(0,Fe().Wl)();if("workspace_preview"===t||"prefilled_workspace_preview"===t){var n;const t=e.planTypeAndSurveyInfo,o=(null==t||null===(n=t.surveyResponses)||void 0===n?void 0:n.useCases)??[],a=e.selectedWorkflowTemplateIds??[];return(0,P.jsx)(pt,{selectedWorkflowTemplateIds:a,selectedUseCases:o,selectedCategories:[],shouldZoomInOnWorkspaceNameAndIconPreview:!0})}},alignment:$().C.Center},team_onboarding_use_cases:us,partner_program_onboarding_checkout:Da,education_category_picker:Q,education_persona_survey:Se,offer_eligibility_workspace_choose:Le,mobile_profile:Ro,mobile_onboarding_workspace_choose:Yo,mobile_onboarding_collaborative_intent_choose:_t,mobile_onboarding_category_survey:xt,mobile_team_onboarding_persona_survey:Ti,mobile_team_onboarding_function:Bi,mobile_team_onboarding_role:Di,mobile_team_onboarding_company_size:Oi,mobile_onboarding_plan_type_choose:to,mobile_team_onboarding_workspace_create:{stageName:"mobile_team_onboarding_workspace_create",async shouldSkip(e,t){var n;const o=null===(n=e.planTypeAndSurveyInfo)||void 0===n?void 0:n.planType;return!o||"team"!==o||null==t||!t.device.isMobile||!(!e.onboardingData||"on"!==l().default.getEligibleGroup({experimentId:"skip_mobile_workspace_create_step",defaultGroup:"control"}))&&((0,I().prefillTeamWorkspaceName)(e.onboardingData),await(0,I().createSpaceAndSetSpaceId)({onboardingState:_().A.state,environment:t}),!0)},estimateWillSkip(e,t,n){var o;const a=null===(o=e.planTypeAndSurveyInfo)||void 0===o?void 0:o.planType;switch(n){case"team":return"team"!==a||Boolean(e.onboardingData&&"auto_name_workspace"===(0,Fe().Wl)());case"personal":case"school":return!(!a||"team"===a)||Boolean(e.onboardingData&&"auto_name_workspace"===(0,Fe().Wl)())}},getTitle:()=>(0,P.jsx)(y().sA,{defaultMessage:"Whats the name of your company or organization?",id:"onboardingWorkspaceCreate.stage.team.mobile.titleV2"}),isContinueEnabled(e){const{spaceName:t}=e;return Boolean(t&&t.trim()&&t.length<=Pe().zX)},async onContinue(e,t){await(0,I().createSpaceAndSetSpaceId)({onboardingState:t,environment:e}),await Ss(e)},isBackEnabled:()=>!0,renderStage:()=>(0,P.jsx)(bs,{})},mobile_team_onboarding_invite:di,mobile_team_onboarding_use_cases:cs,mobile_partner_program_redeem_info:za,mobile_onboarding_editor:jn,mobile_onboarding_sidebar:Cn,mobile_onboarding_web_clipper:kn,mobile_onboarding_app_download:_n,mobile_onboarding_promote_app_download:Pn,mobile_onboarding_desktop:Mn,mobile_onboarding_home:Nn,mobile_onboarding_creation:Bn,mobile_onboarding_share:Rn,mobile_onboarding_multi_platform:Dn,mobile_onboarding_skill_mab:zn,mobile_onboarding_skill_filing:On,mobile_onboarding_skill_swipe:Wn,onboarding_calendar_signup:D}},208993:(e,t,n)=>{n.d(t,{W:()=>g});n(296540);var o=()=>n(401497),a=()=>n(246760),i=()=>n(84817),s=()=>n(704152),r=()=>n(460292),l=()=>n(554509),d=()=>n(859428),u=()=>n(962730),c=n(474848);function g(e){let{tooltipTitle:t,tooltipDescription:n,buttonProps:o,iconSize:s="small",iconColorName:g="tertiary",tooltipWidth:m}=e;return(0,c.jsx)(d().A,{placement:u().W.Top,style:m?{width:m}:void 0,renderTooltip:()=>(0,c.jsxs)(i().Y1,{gap:2,direction:"vertical",children:[(0,c.jsx)(l().D,{styleName:"UISmall-12px/Medium",colorName:"contrastPrimary",children:t}),n?(0,c.jsx)(l().D,{styleName:"UISmall-12px/Regular",colorName:"contrastSecondary",children:n}):null]}),render:e=>(0,c.jsx)(p,{buttonProps:o,...e,children:(0,c.jsx)(r().Q,{iconGroup:a().G,colorName:g,variantName:s})}),textWrap:Boolean(m)})}function p(e){let{children:t,buttonProps:n,...a}=e;const i=(0,o().IS)((()=>({button:{borderRadius:2}})),[]);return n?(0,c.jsx)(s().A,{style:i.button,...n,...a,children:t}):(0,c.jsx)("span",{...a,children:t})}},253493:(e,t,n)=>{n.r(t),n.d(t,{getOfferEligibilityForWorkspaceForOnboardingUser:()=>d,getOfferEligibilityForWorkspaces:()=>l,getPartnerProgramCouponOffer:()=>u,validatePartnerProgramDataForOnboarding:()=>c});n(898992),n(354520);var o=()=>n(677338),a=()=>n(36870),i=()=>n(166386),s=()=>n(534177),r=()=>n(449506);async function l(e,t){const n=await r().callApi({eventName:"getOfferEligibilityForWorkspaces",environment:e,data:{campaign:t.promoCampaign,code:t.promoCode}});if("success"===n.type){const{workspaces:e}=n.data;return{eligibleWorkspaces:e.filter((e=>e.isEligible)),ineligibleWorkspaces:e.filter((e=>!e.isEligible))}}return{eligibleWorkspaces:[],ineligibleWorkspaces:[]}}async function d(e){const{environment:t,isFirstTimeOnboarding:n}=e;if(n)return{eligibleWorkspaces:[],ineligibleWorkspaces:[]};const a=(0,o().OC)();if(!a)return{eligibleWorkspaces:[],ineligibleWorkspaces:[]};const{eligibleWorkspaces:i,ineligibleWorkspaces:s}=await l(t,{promoCampaign:a.partnerProgramPromoCampaign,promoCode:a.partnerProgramPromoCode});return{eligibleWorkspaces:i,ineligibleWorkspaces:s}}function u(){const e=(0,o().OC)();if(!e)return;const{partnerProgramPromoCampaign:t}=e,n=(0,s().Xk)(a().mR,t)?(0,i().Pz)(t):void 0;return n&&"coupon"===n.type?n:void 0}async function c(e,t){const{partnerProgramPromoCampaign:n,partnerProgramPromoCode:o}=t;if("linkedin_perk_2025_july"===n){const t=await r().callApi({eventName:"getOfferCodeStatus",environment:e,data:{campaign:n,code:o}});return"success"===t.type&&t.data.ok?{isValid:!0}:{isValid:!1,failureReason:"Invalid partner program code for campaign"}}return{isValid:!1,failureReason:"Invalid or unsupported partner program campaign for onboarding"}}},310600:(e,t,n)=>{n.d(t,{M:()=>a});n(296540);var o=n(474848);const a=(0,n(340498).wt)("flag",{viewBox:"0 0 13 14",svg:(0,o.jsx)("path",{d:"M0.825195 13.8457C1.16699 13.8457 1.4541 13.5654 1.4541 13.2168V9.47754C1.63867 9.40918 2.21973 9.19727 3.10156 9.19727C5.59668 9.19727 7.25781 10.4414 9.66406 10.4414C10.7168 10.4414 11.1885 10.3115 11.7217 10.0654C12.207 9.84668 12.4941 9.4502 12.4941 8.82129V1.99219C12.4941 1.55469 12.1523 1.27441 11.6943 1.27441C11.3047 1.27441 10.6895 1.54102 9.58887 1.54102C7.20996 1.54102 5.52148 0.296875 3.0332 0.296875C1.99414 0.296875 1.5293 0.419922 0.975586 0.672852C0.49707 0.891602 0.196289 1.24707 0.196289 1.86914V13.2168C0.196289 13.5586 0.483398 13.8457 0.825195 13.8457ZM9.63672 9.16309C7.41504 9.16309 5.71289 7.92578 3.12207 7.92578C2.45215 7.92578 1.84375 8.00098 1.48145 8.14453V2.0332C1.59766 1.83496 2.11035 1.56836 3.05371 1.56836C5.38477 1.56836 7.09375 2.80566 9.56836 2.80566C10.2383 2.80566 10.792 2.73047 11.2158 2.61426V8.69824C11.0996 8.89648 10.5801 9.16309 9.63672 9.16309Z"})})},322114:(e,t,n)=>{n.d(t,{A:()=>N});var o=n(296540),a=()=>n(484714),i=()=>n(56366),s=()=>n(757695),r=()=>n(959013),l=()=>n(381349),d=()=>n(534177),u=()=>n(284371),c=()=>n(530216),g=()=>n(701763),p=()=>n(140612),m=()=>n(449506),f=()=>n(898486),y=()=>n(722872),b=()=>n(249847),v=()=>n(10984),h=()=>n(251126),x=()=>n(805751),S=()=>n(623580),w=()=>n(928600),j=()=>n(864943),C=()=>n(204063),A=n(474848);const k={marginBottom:10},I={...k,width:"100%",height:"100%",padding:10,alignItems:"top",borderRadius:0},M=(0,r().YK)({requestAccessMessagePlaceholder:{defaultMessage:"Message (optional)",id:"requestAccessForm.messageInput.placeholder"},rateLimitError:{defaultMessage:"You have recently requested access to this page.",id:"requestAccessForm.errorMessage.rateLimit"},currentUserNotFound:{defaultMessage:"Current user not found.",id:"requestAccessForm.errorMessage.currentUserNotFound"}});function T(){return(0,A.jsx)(r().sA,{defaultMessage:"Cancel",id:"requestAccessForm.cancelButton.label"})}const _=s().Store.createClass(0,{name:"RequestAttemptStore"}),P=s().Store.createClass(void 0,{name:"MessageStore"});const N=function(e){const t=(0,a().v3)(),s=(0,a().WS)(),l=(0,i().uB)(e.popupStore,n(463830).A),d=(0,i().uB)(void 0,P),g=(0,i().uB)(void 0,_),m=(0,o.useCallback)((()=>D(l)),[l]),f=(0,o.useCallback)((()=>(0,A.jsx)(O,{...e,requestAttemptStore:g,messageStore:d,buttonPopupStore:l})),[e,g,d,l]),y=(0,i().K8)((()=>g.state>0),[g]),b=(0,i().K8)((()=>l.state.open),[l]);if("current-actor-to-block"===e.type)return(0,A.jsx)(W,{type:"page",block:e.block,flowId:e.flowId,buttonType:e.buttonType});if("current-actor-to-collection"===e.type)return(0,A.jsx)(W,{type:"collection",collection:e.collection,flowId:e.flowId,buttonType:e.buttonType});const v="primary"===e.buttonType?C().A:j().A,h=s?(0,A.jsx)(n(897119).Ay,{popupType:n(377586).n.SlideUp,open:b,render:f}):(0,A.jsx)(n(676007).a,{open:b,onDismiss:m,render:f});return"current-actor-to-space-via-onboarding"===e.type?h:(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(v,{size:"lg",disabled:y,onClick:()=>{var n,o;return function(e,t){const{environment:n,flowId:o,type:a,source:i,spaceId:s,pageId:r}=e;"trusted_domain_page"===i&&s&&p().w(n,{spaceId:s,pageId:r,joinSpaceMethod:"request_to_join"});"current-actor-to-block"===a?c().Xx(n,{button_name:"request-access",flow_id:o,request_access_type:"page"}):"current-actor-to-space-via-team"===a&&c().Xx(n,{button_name:"request-access",flow_id:o,request_access_type:"team"});t.setState({open:!0})}({environment:t,flowId:e.flowId,type:e.type,source:e.source,pageId:null===(n=e.block)||void 0===n?void 0:n.id,spaceId:null===(o=e.block)||void 0===o?void 0:o.spaceId},l)},style:"outline"===e.buttonType?{...e.buttonStyle,fontWeight:u().Wy.semibold}:e.buttonStyle,children:y?(0,A.jsx)(r().sA,{id:"fullPageError.requestAccessButton.requested",defaultMessage:"Requested access"}):(0,A.jsxs)(n(21140).Ye,{gap:4,alignItems:"center",justifyContent:"center",children:[e.icon,E(e.type)]})}),h]})};function B(e){let{result:t}=e;return t&&t.error?(0,A.jsx)("div",{style:{color:l().Ay.redWithAlpha(1),textAlign:"center",width:"100%",marginBottom:16},children:t.error}):null}function R(e){e.update((e=>e+1))}function D(e){return e.setState({open:!1})}function z(e){let{error:t,result:n,ready:s,requestAttemptStore:l,messageStore:d,type:c}=e;const g=(0,r().tz)(),p=(0,a().WS)(),m=(0,o.useCallback)((()=>R(l)),[l]),f=(0,o.useCallback)((e=>function(e,t){t.setState(e.target.value)}(e,d)),[d]),y=(0,i().K8)((()=>Boolean(0===l.state||s&&n&&n.error)),[l,s,n]),b=(0,i().K8)((()=>d.state||""),[d]);return(0,A.jsxs)(A.Fragment,{children:[!p&&(0,A.jsx)("div",{style:{fontSize:16,fontWeight:u().Wy.semibold,marginBottom:16},children:E(c)}),(0,A.jsx)(S().A,{format:p?S().C.Transparent:void 0,textarea:!0,value:b,onChange:f,disabled:!y,placeholder:g.formatMessage(M.requestAccessMessagePlaceholder),style:{...p?{...I,padding:"16px"}:{...k,marginBottom:16,padding:"8px 12px",alignItems:"flex-start"}}}),!p&&(0,A.jsx)(C().A,{size:"lg",disabled:!y,onClick:m,style:k,children:(0,A.jsx)(r().sA,{defaultMessage:"Send request",id:"requestAccessForm.sendRequestButton.label"})}),(0,A.jsx)(B,{result:n})]})}function O(e){const{requestAttemptStore:t,messageStore:n,buttonPopupStore:s}=e,l=(0,a().v3)(),u=(0,a().WS)(),c=(0,r().tz)(),p=(0,o.useCallback)(((o,a,i)=>(0,A.jsx)(z,{requestAttemptStore:t,messageStore:n,error:o,result:a,ready:i,type:e.type})),[t,n,e.type]),v=(0,b().T)(),S=(0,o.useCallback)((t=>async function(e){const{messageStore:t,buttonPopupStore:n,type:o,teamId:a,requestAttempt:i,environment:s,currentUserId:r,intl:l,flowId:u}=e;if(0===i)return;const c=t.state,p=await async function(){if("current-actor-to-block"===o)return m().callApi({eventName:"requestAccess",environment:s,data:{type:"current-actor-to-block",block:e.block,message:c}});if("current-actor-to-collection"===o)return m().callApi({eventName:"requestAccess",environment:s,data:{type:"current-actor-to-collection",collection:e.collection,message:c}});if("current-actor-to-space-via-team"===o)return m().callApi({eventName:"requestAccess",environment:s,data:{type:"current-actor-to-space-via-team",teamId:a,message:c}});if("current-actor-to-space-via-block"===o){if(!r)return;return m().callApi({eventName:"requestAccess",environment:s,data:{type:"actor-to-space",spaceId:e.block.spaceId,message:c,forActorId:r,attributes:{add_permissions_on_approval:!1,origin_type:"trusted_domain_page"}}})}if("current-actor-to-space-via-onboarding"===o){if(!r)return;return m().callApi({eventName:"requestAccess",environment:s,data:{type:"actor-to-space",spaceId:e.spaceId,message:c,forActorId:r,attributes:{add_permissions_on_approval:!1,origin_type:"onboarding"}}})}if("current-actor-to-space-via-workspace-discovery"===o){if(!r)return;return m().callApi({eventName:"requestAccess",environment:s,data:{type:"actor-to-space",spaceId:e.spaceId,message:c,forActorId:r,attributes:{add_permissions_on_approval:!1,origin_type:"workspace_discovery"}}})}}();return p?"success"!==p.type?"UserRateLimitResponse"===(null===(y=p.body)||void 0===y?void 0:y.name)?{error:l.formatMessage(M.rateLimitError)}:{error:(0,f().Hu)(l,p)}:("current-actor-to-block"===o?g().T_(s,{request_access_type:"page",flow_id:u,requestId:p.data.requestId}):"current-actor-to-space-via-team"===o?g().T_(s,{request_access_type:"team",flow_id:u}):"current-actor-to-space-via-block"===o?g().T_(s,{request_access_type:"space",flow_id:u,source:"trusted_domain_page"}):"current-actor-to-collection"===o?g().T_(s,{request_access_type:"collection",flow_id:u,requestId:p.data.requestId}):"current-actor-to-space-via-onboarding"===o?g().T_(s,{request_access_type:"space",flow_id:u,source:"onboarding"}):"current-actor-to-space-via-workspace-discovery"===o?g().T_(s,{request_access_type:"space",flow_id:u,source:"workspace_discovery"}):(0,d().HB)(o),n.reset(),{value:!0}):{error:l.formatMessage(M.currentUserNotFound)};var y}({...e,requestAttempt:t,environment:l,intl:c,currentUserId:v})),[l,c,e,v]),C=(0,o.useCallback)((()=>R(t)),[t]),k=(0,o.useCallback)((()=>D(s)),[s]),I=(0,i().O$)(t);return u?(0,A.jsx)(w().A,{menuType:y().gu.Modal,whiteBackground:!0,title:E(e.type),left:T(),onClickLeft:k,right:(0,A.jsx)(r().sA,{id:"requestAccessForm.mobileSend.label",defaultMessage:"Send"}),onClickRight:C,children:(0,A.jsx)(x().A,{debugName:"RequestAccessForm",capture:!0,children:(0,A.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"stretch",alignItems:"stretch",width:"100%",height:"100%"},children:(0,A.jsx)(h().A,{request:I,performRequest:S,render:p})})})}):(0,A.jsx)(x().A,{debugName:"RequestAccessForm",capture:!0,children:(0,A.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"space-evently",alignItems:"stretch",padding:"20px 28px 24px",width:"340px"},children:[(0,A.jsx)(h().A,{request:I,performRequest:S,render:p}),(0,A.jsx)(j().A,{size:"lg",onClick:k,children:T()})]})})}function W(e){const{type:t,flowId:n,buttonType:s}=e,l=(0,a().v3)(),u="outline"===s?j().A:C().A,[c,p]=(0,o.useState)(!1),[f,y]=(0,o.useState)(!1),b={attributes:{add_permissions_on_approval:!1,role:(0,i().K8)((()=>(0,v().dL)()),[])?"reader":"read_and_write"},message:void 0};let h;"page"===t?h={...b,type:"current-actor-to-block",block:{id:e.block.id,spaceId:e.block.spaceId}}:"collection"===t?h={...b,type:"current-actor-to-collection",collection:{id:e.collection.id,spaceId:e.collection.spaceId}}:(0,d().HB)(t);const x=(0,o.useCallback)((async()=>{var e;const o=await m().callApi({eventName:"requestAccess",environment:l,data:h});"success"===o.type&&o.data.request?(p(!0),g().T_(l,{request_access_type:t,previous_access_level:"none",requested_access_level:"read_and_write",flow_id:n,requestId:o.data.requestId})):"failed"===o.type&&"UserRateLimitResponse"===(null===(e=o.body)||void 0===e?void 0:e.name)&&y(!0)}),[l,h,t,n]);return(0,A.jsx)(u,{size:"lg",disabled:c||f,disabledFeedback:c||f,onClick:x,style:e.buttonStyle,children:c?(0,A.jsx)(r().sA,{id:"fullPageError.requestAccessButton.edit.Requested",defaultMessage:"Requested access"}):f?(0,A.jsx)(r().sA,{id:"fullPageError.requestAccessButton.edit.TryAgain",defaultMessage:"Try again later"}):E("page"===t?"current-actor-to-block":"current-actor-to-collection")})}function E(e){return"current-actor-to-space-via-block"===e||"current-actor-to-space-via-onboarding"===e?(0,A.jsx)(r().sA,{defaultMessage:"Request membership",id:"requestAccessForm.requestAccessToSpaceButton.title"}):(0,A.jsx)(r().sA,{defaultMessage:"Request access",id:"requestAccessForm.requestAccessButton.title"})}},334992:(e,t,n)=>{n.d(t,{A:()=>r});var o=()=>n(56366),a=()=>n(762433),i=()=>n(324561),s=()=>n(714300);function r(e){const t=(0,o().K8)((()=>e.getMemberCountFromPublicSpaceData()),[e]),n=(0,s().l)({spaceId:e.id}),r=(0,i().Q7)(e.id,n,t??0);return Boolean(!(0,a().Qx)(null==n?void 0:n.subscription)&&!(0,a().N8)(null==n?void 0:n.subscription)&&!(0,a().TB)(n)&&r>0)}},353132:(e,t,n)=>{n.d(t,{_:()=>i});n(581454),n(296540);var o=()=>n(401497),a=n(474848);function i(e){let{style:t={},signals:n}=e;const i=(0,o().IS)((e=>({container:{height:"100%",width:"max-content",display:"flex",alignItems:"center",gap:4},bar:{width:2,minHeight:4,borderRadius:50,backgroundColor:e.icon.tertiary}})),[]);return(0,a.jsx)("div",{style:{...i.container,...t},children:n.map(((e,t)=>(0,a.jsx)("div",{style:{...i.bar,height:100*e+"%"}},t)))})}},369773:(e,t,n)=>{n.d(t,{P:()=>m});var o=n(296540),a=()=>n(484714),i=()=>n(401497),s=()=>n(959013),r=()=>n(2220),l=()=>n(84817),d=()=>n(554509),u=()=>n(73332),c=()=>n(836251),g=()=>n(208993),p=n(474848);function m(e){let{message:t,isChecked:n,onChange:m,error:f,isFirstTerm:y,hideTooltip:b,paddingTop:v,checkboxId:h}=e;const x=(0,s().tz)(),S=function(e){return(0,i().IS)((t=>({termsContainer:{display:"flex",flexDirection:"column",gap:8,paddingTop:16,borderTop:e?`1px solid ${t.stroke.primary}`:void 0}})),[e])}(y??!1),w=(0,a().v3)(),j=o.useRef(null);return o.useEffect((()=>{f&&j.current&&j.current.scrollIntoView({behavior:"smooth",block:"center"})}),[f]),(0,p.jsx)("div",{ref:j,style:{...S.termsContainer,paddingTop:v??S.termsContainer.paddingTop},children:(0,p.jsxs)(l().Y1,{direction:"horizontal",align:"top-left",gap:8,children:[(0,p.jsx)(u().T,{size:14,checked:n,onClick:()=>{(0,r().u)({environment:w,event:{eventName:"click_subscription_terms_checkbox",eventProperties:{checked:!n}}}),m(!n)},id:h,style:{margin:1},"aria-required":!0}),(0,p.jsxs)(l().Y1,{direction:"vertical",gap:8,children:[(0,p.jsxs)(d().D,{styleName:"UISmall-12px/Regular",colorName:"primary",as:"label",htmlFor:h,children:[t,(0,p.jsx)("div",{style:{display:"inline-block",position:"absolute",paddingLeft:1},children:b?null:(0,p.jsx)(g().W,{tooltipTitle:x.formatMessage({id:"onboardingTimedTrials.termsOfService.tooltip",defaultMessage:"Read full terms and conditions"}),buttonProps:{href:(0,c().xS)("terms"),external:!0}})})]}),f?(0,p.jsx)(d().D,{styleName:"UISmall-12px/Regular",colorName:"uiRedPrimary",children:f}):null]})]})})}},417555:(e,t,n)=>{n.d(t,{A:()=>d});n(296540);var o=()=>n(784892),a=()=>n(738418),i=()=>n(695608),s=()=>n(534177),r=()=>n(698449),l=n(474848);const d=function(e){let{isStrikedThrough:t,backgroundColor:d,onClickRemove:u,target:c,disabled:g,showInfoIcon:p,style:m,shouldWrap:f}=e;const y=(0,n(484714).v3)(),b=(0,n(959013).tz)(),{device:v}=y,h=(0,n(56366).K8)((()=>function(e){let t,{target:n,intl:o,showInfoIcon:d}=e;switch(n.type){case"newUser":t=n.value.email.trim();break;case"existingUser":t=(0,i().c6)(o,n.value);break;case"group":t=(0,r().Pf)({intl:o,groupName:n.value.name});break;default:(0,s().HB)(n)}return d?(u=t,(0,l.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,a().G)({marginRight:4,width:14,height:14}),u]})):t;var u}({target:c,intl:b,showInfoIcon:p})),[c,b,p]);return(0,l.jsx)(n(881690).A,{showRemoveButton:!0,isSingle:!0,isStrikedThrough:t,backgroundColor:d,format:v.isMobile?o().NY.Large:o().NY.Medium,onClickRemove:e=>function(e,t,n){e.stopPropagation(),t(n)}(e,u,c),disabled:g,disabledFeedback:!0,value:h,style:m,shouldWrap:f})}},441532:(e,t,n)=>{n.d(t,{y:()=>a});n(296540);var o=n(474848);const a=(0,n(340498).wt)("androidShare",{viewBox:"0 0 15 15",svg:(0,o.jsx)("path",{d:"M11.9952,10.6024 C11.4229,10.6024 10.9108,10.8283 10.51928,11.1822 L5.15029999,8.05723 C5.18794999,7.88404 5.21806999,7.71084 5.21806999,7.53012 C5.21806999,7.3494 5.18794999,7.1762 5.15029999,7.00301 L10.45904,3.90813 C10.8657,4.28464 11.4003,4.51807 11.9952,4.51807 C13.2452,4.51807 14.2542,3.50904 14.2542,2.25904 C14.2542,1.00904 13.2452,0 11.9952,0 C10.7452,0 9.73614999,1.00904 9.73614999,2.25904 C9.73614999,2.43976 9.76626999,2.61295 9.80391999,2.78614 L4.49517999,5.88102 C4.08854999,5.50452 3.55391999,5.27108 2.95903999,5.27108 C1.70903999,5.27108 0.699999988,6.28012 0.699999988,7.53012 C0.699999988,8.78012 1.70903999,9.78916 2.95903999,9.78916 C3.55391999,9.78916 4.08854999,9.55572 4.49517999,9.17922 L9.85662999,12.3117 C9.81897999,12.4699 9.79638999,12.6355 9.79638999,12.8012 C9.79638999,14.0136 10.7828,15 11.9952,15 C13.2075,15 14.194,14.0136 14.194,12.8012 C14.194,11.5889 13.2075,10.6024 11.9952,10.6024 Z"})})},475355:(e,t,n)=>{n.d(t,{Vs:()=>T,gj:()=>M,hX:()=>N,oH:()=>P,v4:()=>_});n(16280);var o=()=>n(110192),a=()=>n(857639),i=()=>n(416504),s=()=>n(206267),r=()=>n(737188),l=()=>n(179034),d=()=>n(519831),u=()=>n(854150),c=()=>n(529316),g=()=>n(797573),p=()=>n(919709),m=()=>n(946141),f=()=>n(449506),y=()=>n(413677),b=()=>n(751156),v=()=>n(972435),h=()=>n(45359),x=()=>n(37433),S=()=>n(274511),w=()=>n(406792),j=()=>n(632709),C=()=>n(765957),A=()=>n(630116),k=()=>n(108414),I=()=>n(848237);async function M(e){let{environment:t,name:n,description:o,icon:a,accessLevel:i,isDefault:s,flowId:c,createTeamHome:g,teamPermissionRole:p,spacePermissionRole:y,members:b,settings:v}=e;const{currentSpaceStore:h}=C().default.getState();if(!h)throw new Error("currentSpaceStore does not exist");const x=w().default.mark("client_create_team_latency"),S=h.id,j=await f().callApi({eventName:"createTeam",environment:t,data:{spaceId:S,name:n,description:o,icon:a,isDefault:s,accessLevel:i,teamPermissionRole:p,spacePermissionRole:y,members:b,settings:v}});if("failed"===j.type)return void(0,I().O)(j);const{teamId:k}=j.data,M=A().h4.createChildStore(h,{table:u().yK,id:k,spaceId:S});await M.load();const T=M.getSpaceId(),_=M&&T&&{id:M.id,table:d().Vl,spaceId:T},P=M&&_&&A().md.createChildStore(M,_);await(null==P?void 0:P.load());const N=M&&T&&A().Bv.createChildStore(M,{id:(0,r().t)(M.id),table:l().ev,spaceId:T});return await(null==N?void 0:N.load()),T&&await f().callApi({eventName:"createCollectionViewBlockForPosts",environment:t,data:{teamId:M.id,spaceId:T}}),g&&B({environment:t,teamStore:M}),m()._P(t,{store:M,flowId:c}),w().default.measure(x,{environment:t}),M}function T(e){var t;let{environment:n,page:o}=e;const a=s().JW(),i=(null===(t=o.getParentPointer())||void 0===t?void 0:t.table)!==u().yK?"page_to_team_nested":"page_to_team";m().H8(n,{from:i,flowId:a}),k().A.setState({open:!0,pageStore:o,flowId:a})}async function _(e){var t;let{environment:n,page:o,flowId:a,intl:s}=e;const{accessLevel:r,spacePermissionRole:l,teamPermissionRole:d,members:c}=await(0,x().sy)(o),g=(o.isDefined()?o.getModel().getRenderTitle({intl:s,userTimeZone:(0,i().P)(),getRecordModel:o.getRecordModel}):void 0)??p().q4_(o.getTitleValue()),m=await M({environment:n,name:g,icon:null===(t=o.getIcon())||void 0===t?void 0:t.icon,accessLevel:r,isDefault:!1,description:"",flowId:a,createTeamHome:!1,teamPermissionRole:d,spacePermissionRole:l,members:c});if(!m)return;const{currentSpaceViewStore:f}=C().default.state;if(!f)return;const y=await(0,S().U)();b().createAndCommit({userAction:"teamActions.movePageToCreatedTeam",environment:n,canUndo:!0,perform:e=>{y({environment:n,currentSpaceViewStore:f,transaction:e,teamStore:m,action:"move",value:{type:u().yK,id:m.id},targets:[o],location:{type:"append"}})}}),(0,I().F2)({environment:n,teamId:m.id,tab:j().p.Members,from:"create_team_from_page"}),await new Promise((e=>setTimeout((()=>(0,I().Mh)({teamStore:m,environment:n})),100)))}async function P(e){let{environment:t,name:n,description:o,icon:a,flowId:i,trackCreateTeamComplete:s}=e;const{currentSpaceStore:r}=C().default.getState();if(!r)throw new Error("currentSpaceStore does not exist");const l=r.id,d=await f().callApi({eventName:"enableTeams",environment:t,data:{spaceId:l,defaultTeamName:n,defaultTeamIcon:a,defaultTeamDescription:o}});if("failed"===d.type)return void(0,I().O)(d);const{teamId:c}=d.data,g=A().h4.createChildStore(r,{table:u().yK,id:c,spaceId:l});return await g.load(),await B({environment:t,teamStore:g}),m().b0(t,{spaceId:l,store:g,flowId:i}),s&&c&&m()._P(t,{store:g,flowId:i}),g}async function N(e){var t;let{environment:n,teamStore:a,from:i,buttonPopupStore:r}=e;if(!n.currentUser.id)return!1;const l=s().JW(),d=a.isDefault(),u=a.getTeamAccessLevel();if(d)return!1;const c=a.getName(),g=await M({environment:n,name:(0,o().Q)(c||""),description:"",icon:a.getRawIcon(),accessLevel:u,isDefault:d,createTeamHome:!0,teamPermissionRole:null===(t=a.getTeamPermission())||void 0===t?void 0:t.role,spacePermissionRole:a.getSpacePermissionRole(),members:[],settings:a.getSettings(),flowId:l});return!!g&&(m().KK(n,{store:g,from:i}),(0,I().L0)({environment:n,teamStore:g,shouldScroll:!0}),(0,I().F2)({environment:n,teamId:g.id,tab:j().p.General,from:"duplicate_team",buttonPopupStore:r}),new Promise((e=>setTimeout(e,500))).then((()=>{(0,h().jH)(c)})),!0)}async function B(e){const{environment:t,teamStore:n}=e,o=C().default.state.currentSpaceStore,i=C().default.state.currentSpaceViewStore;if(!o||!i)return a().log({level:"error",from:"teamActions",type:"createHomepageOnTeamCreation-SpaceOrSpaceViewStoreError"}),!1;const s=(r=v().A.getIntl(),(0,g().B)(c().wA.teamsHomepage,r));var r;return!!(await y().createTemplateInstance({environment:t,item:s,spaceStore:o,spaceViewStore:i,useMinimalTemplates:!1,type:"inTeam",teamStore:n,from:"homepage_team",isOnboarding:!1}))||(a().log({level:"error",from:"teamActions",type:"createHomepageOnTeamCreation-PageNotCreated"}),!1)}},480599:(e,t,n)=>{n.r(t),n.d(t,{goToNextStage:()=>R,goToPreviousStage:()=>z,handleDesktopBackButtonClick:()=>O,handleMobileBackButtonClick:()=>W,initializeContextualizedOnboardingState:()=>N,maybeCompleteOnboardingAfterProfileStage:()=>L,memoizeAndTrackContextualizedOnboardingStageWithHistoricalContext:()=>B,restoreContextualizedOnboardingState:()=>P,skipStage:()=>D,updateOnboardingProgressBarPercentage:()=>F,updateRedirectDataFromInviteCode:()=>E});n(16280),n(898992),n(354520),n(737550);var o=n.n(n(794148)),a=()=>n(660237),i=()=>n(763884),s=()=>n(96689),r=()=>n(84520),l=()=>n(677338),d=()=>n(994310),u=()=>n(319625),c=()=>n(796756),g=()=>n(449506),p=()=>n(972435),m=()=>n(285518),f=()=>n(719431),y=()=>n(133234),b=()=>n(616385),v=()=>n(144114),h=()=>n(607859),x=()=>n(765957),S=()=>n(217429),w=()=>n(630116),j=()=>n(26388),C=()=>n(757156),A=()=>n(176864),k=()=>n(322920),I=()=>n(59424),M=()=>n(812978),T=()=>n(235921),_=()=>n(253493);async function P(e){var t;let{environment:n}=e;const o=await v().of({environment:n,disableRedirects:!1}),a=!(0,m().R)(x().default.state.currentUserRootStore)||(0,v().up)(h().default.state),l=i().K.get({userId:null===(t=x().default.state.currentUserStore)||void 0===t?void 0:t.id,key:T().l});l&&"undefined"!==l.flowName&&!l.isInvalidRedirect&&(T().A.setState({...T().A.state,...l,onboardingData:o,joinableSpaces:v().md({onboardingData:o,isNewUserFlow:a})}),l.spaceId&&x().default.setState({...x().default.state,currentSpaceStore:new(w().SL)(n,{table:s().NX,id:l.spaceId})}),l.spaceViewId&&x().default.setState({...x().default.state,currentSpaceViewStore:new(w().vH)(n,{table:r().mu,id:l.spaceViewId})}))}async function N(e){let{environment:t,isInvalidRedirect:n,shouldShowMobileTutorialOnboarding:i,source:s}=e;if("undefined"!==T().A.state.flowName&&!T().A.state.isInvalidRedirect&&!n)return;const r=await v().of({environment:t,disableRedirects:!1}),d=!(0,m().R)(x().default.state.currentUserRootStore)||(0,v().up)(h().default.state),c=await(0,k().getContextualizedOnboardingFlowName)(t,i),g=await f().shouldCreatePassword(t),p=y().A.isMicrosoftLogin()||y().A.isMicrosoftVerification(),b={...T().A.getInitialState(),onboardingData:r,emailOptIn:(0,a().eh)(r.countryCode).defaultOptIn,optInAutoJoin:!0,isInvalidRedirect:n,isFirstTimeOnboarding:d,joinableSpaces:v().md({onboardingData:r,isNewUserFlow:d}),performanceMarketingTerm:r.performanceMarketingTerm,isPasswordRequired:!p&&g&&!v().nV(),source:s};if(T().A.setState(b),"form_response_onboarding"===c){const e=l().$m()??void 0;o()(e,"form response data is not found when setting store state"),T().A.setState({...T().A.state,flowName:c,formResponseId:e.formResponseId,secretKey:e.formSecretKey,formSpaceId:e.formSpaceId,formSpaceIntent:e.formSpaceIntent}),l().ip()}else if("partner_program_onboarding_flow"===c){const{eligibleWorkspaces:e,ineligibleWorkspaces:n}=await(0,_().getOfferEligibilityForWorkspaceForOnboardingUser)({environment:t,isFirstTimeOnboarding:d});T().A.setState({...T().A.state,flowName:c,eligibleWorkspaces:e,ineligibleWorkspaces:n})}else T().A.setState({...T().A.state,flowName:c});let S=b.currentStageIndex;const w=(0,I().getStages)({flowName:c,environment:t});for(;S<w.length&&await(0,M().shouldSkipCurrentStage)({flowName:c,stageIndex:S,environment:t});)S++;if(T().A.setState({...T().A.state,currentStageIndex:S}),S>=w.length)try{return await T().A.completeOnboarding(t,"create")}catch(A){(0,j().handleOnboardingError)(t,(0,u().A)(A))}C().onboardingFlowNameToFlowConfig[c].onStartFlow()}function B(e,t,n){const o=[...t.historicalStages||[],{stageName:(0,I().getStageName)({flowName:t.flowName,stageIndex:t.currentStageIndex,environment:e}),stageNumber:t.currentStageIndex,timestamp:Date.now()}];T().A.setState({...t,historicalStages:o.length>20?[{stageName:"truncated",stageNumber:-1,timestamp:Date.now()}]:o})}async function R(e){const{environment:t,onboardingState:n}=e;try{var o;c().H1(t,(0,I().getContextualizedOnboardingAnalyticsData)({onboardingState:n,environment:t}));const e=A().contextualizedOnboardingStageByStageName[(0,I().getStageName)({flowName:n.flowName,stageIndex:n.currentStageIndex,environment:t})];await(null==e||null===(o=e.onContinue)||void 0===o?void 0:o.call(e,t,n)),await T().A.goToNextStage(t);const a=T().A.state;B(t,a);const i=S().default.getEligibleGroup({experimentId:"onboarding_mobile_earlier_progress_bar",defaultGroup:"control"});F(T().A.state,t,i),c().Pz(t,(0,I().getContextualizedOnboardingAnalyticsData)({onboardingState:a,environment:t}))}catch(a){(0,j().handleOnboardingError)(t,(0,u().A)(a))}}async function D(e){const{environment:t,onboardingState:n}=e;e.skipStageAnalytic?e.skipStageAnalytic():c().IY(t,(0,I().getContextualizedOnboardingAnalyticsData)({onboardingState:n,environment:t})),await R(e)}async function z(e){const{environment:t,currentStage:n,onboardingState:o}=e;try{var a;c().H1(t,(0,I().getContextualizedOnboardingAnalyticsData)({onboardingState:o,environment:t}),!0),await(null===(a=n.onBack)||void 0===a?void 0:a.call(n,t,o)),await T().A.goToPreviousStage(t);const e=T().A.state;B(t,e);const i=S().default.getEligibleGroup({experimentId:"onboarding_mobile_earlier_progress_bar",defaultGroup:"control"});F(T().A.state,t,i),c().eN(t,(0,I().getContextualizedOnboardingAnalyticsData)({onboardingState:o,environment:t})),c().Pz(t,(0,I().getContextualizedOnboardingAnalyticsData)({onboardingState:e,environment:t}))}catch(i){(0,j().handleOnboardingError)(t,(0,u().A)(i))}}async function O(e){let{environment:t,currentStage:n,onboardingState:o}=e;-1!==await(0,M().getPreviousStageIndex)({flowName:o.flowName,stageIndex:o.currentStageIndex,environment:t})?await z({environment:t,currentStage:n,onboardingState:o}):await(0,j().handleExitOnboarding)(o,t)}async function W(e){let{isBackDisabled:t,environment:n,currentStage:o,onboardingState:a}=e;t?await(0,j().handleExitOnboarding)(a,n,!0):await z({environment:n,currentStage:o,onboardingState:a})}async function E(e,t){const n=await g().callApi({eventName:"getPublicSpaceForInvite",environment:t,data:{type:"invite-link",inviteLinkCode:e}});if("success"!==n.type)throw new Error(p().A.formatMessage(b().messages.errorWorkspaceDidNotLoad));const{data:{result:o}}=n;if(!o)throw new Error(p().A.formatMessage(b().messages.errorWorkspaceDoesNotExist));T().A.update((t=>({...t,spaceId:o.id,onboardingData:{...t.onboardingData,inviteCode:e,redirectSpaceId:o.id,canJoinRedirectSpace:!0}})))}async function L(e){const t=T().A.state;if(!t.onboardingData)throw new Error("OnboardingData not found!");const n=v().sg(t.onboardingData);if((0,I().shouldRedirectToJoinSpace)(n)){const o={...t,spaceId:n.spaceId};T().A.setState(o);try{return await T().A.completeOnboarding(e,"join")}catch(a){(0,j().handleOnboardingError)(e,(0,u().A)(a))}}if((0,I().isPublicAccessPageRedirect)(n))return(0,j().onOnboardingCompletePublicAccess)(t,n,e);const o=d().A.get(v().Zz);if(o){await E(o,e);try{return await T().A.completeOnboarding(e,"join")}catch(a){(0,j().handleOnboardingError)(e,(0,u().A)(a))}}}function F(e,t,n){var o;const a=(0,I().getStages)({flowName:e.flowName,environment:t});if("control"===n)return void T().A.setState({...e,progressBarPercentage:15+(e.currentStageIndex+1)/a.length*80});const i=(null===(o=e.historicalStages)||void 0===o?void 0:o.some((e=>"mobile_profile"===e.stageName)))&&A().contextualizedOnboardingStageByStageName.mobile_profile.shouldSkip(e,t),s=1+a.slice(0,e.currentStageIndex).filter((n=>!A().contextualizedOnboardingStageByStageName[n].shouldSkip(e,t))).length+(i?1:0),r=15+s/(s+a.slice(e.currentStageIndex+1).filter((o=>{const a=A().contextualizedOnboardingStageByStageName[o];return!a.estimateWillSkip||!a.estimateWillSkip(e,t,"assume_work"===n?"team":"personal")})).length)*80;T().A.setState({...e,progressBarPercentage:r})}},532500:(e,t,n)=>{n.d(t,{I:()=>k});n(296540);var o=()=>n(484714),a=()=>n(56366),i=()=>n(401497),s=()=>n(704152),r=()=>n(780054),l=()=>n(38337),d=()=>n(463830),u=()=>n(866961),c=(n(581454),()=>n(234194)),g=()=>n(388821),p=()=>n(96689),m=()=>n(798880),f=()=>n(959013),y=()=>n(498212),b=()=>n(284371),v=()=>n(187820),h=()=>n(453697),x=()=>n(322114),S=n(474848);const w=3;function j(e){let{joinableSpace:t,isSmallScreen:n,buttonPopupStore:o}=e;const{id:a,name:i,totalMemberCount:s,topMemberIds:l,membersRecordMap:d,joinabilityStatus:p}=t,j=r().A.isMobile,k=(0,u().U)(j,n),I=g().RecordMap.create(d),M=l.map((e=>I.getModel({id:e,table:m().oo})));return(0,S.jsxs)("div",{style:k.workspaceContainerV2,children:[(0,S.jsxs)("div",{style:k.workspaceSpaceInformationV2,children:[(0,S.jsxs)("div",{style:k.workspaceIconV2,children:[(0,S.jsx)(v().B6,{disabled:!0,bucket:"public",icon:A(t),iconRecordCategory:"workspace",isEmptyPage:!1,title:i,size:32,emojiSize:18,style:{borderRadius:6,fontSize:b().J.UISmall.desktop,fontWeight:b().Wy.light},iconBoxStyles:{borderRadius:6},placeholderStyle:{fontWeight:500}}),(0,S.jsxs)("div",{style:k.workspaceTextV2,children:[(0,S.jsx)("div",{style:k.workspaceNameV2,children:(0,S.jsx)(f().sA,{defaultMessage:"{workspaceName}",id:"onboardingWorkspaceChoose.chooseWorkspaceButton.label",values:{workspaceName:i}})}),(0,S.jsx)("div",{style:k.workspaceMemberCountV2,children:n?(0,S.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,c().M)(k.typesPersonIcon),(0,S.jsx)("div",{style:k.totalMemberCount,children:s})]}):(0,S.jsx)(f().sA,{defaultMessage:"{memberCount, plural, one {{memberCount} member} other {{memberCount} members}}",id:"onboardingWorkspaceChoose.joinWorkspaceButton.memberCount.label",values:{memberCount:s||1}})})]})]}),!n&&(0,S.jsxs)("div",{children:[(0,S.jsx)("span",{style:k.workspaceJoinButtonV2,children:(0,S.jsx)(C,{joinabilityStatus:p})}),(0,S.jsx)(x().A,{type:"current-actor-to-space-via-onboarding",spaceId:a,flowId:(0,y().lZ)(),source:"onboarding",popupStore:o})]})]}),(0,S.jsx)("div",{style:k.userAvatarContainerV2,children:null==M?void 0:M.slice(0,w).map(((e,t)=>(0,S.jsx)(h().A,{userValue:e,size:24,avatarShouldShowShadow:!1,style:{marginRight:-8,zIndex:100-t},isOffline:!1,hasTooltip:!j},null==e?void 0:e.id)))}),n&&(0,S.jsxs)("div",{style:{display:"flex",marginLeft:42,marginTop:16},children:[(0,S.jsx)("span",{style:k.workspaceJoinButtonV2,children:(0,S.jsx)(C,{joinabilityStatus:p})}),(0,S.jsx)(x().A,{type:"current-actor-to-space-via-onboarding",spaceId:a,flowId:(0,y().lZ)(),source:"onboarding",popupStore:o})]})]})}function C(e){let{joinabilityStatus:t}=e;switch(t){case"CAN_JOIN":return(0,S.jsx)(f().sA,{defaultMessage:"Join",id:"contextualizedOnboardingWorkspaceChoose.joinWorkspaceButton.join.label"});case"CAN_REQUEST":return(0,S.jsx)(f().sA,{defaultMessage:"Request",id:"contextualizedOnboardingWorkspaceChoose.joinWorkspaceButton.request.label"});default:return null}}function A(e){if(e.id&&e.spaceIcon)return{pointer:{table:p().NX,id:e.id},icon:e.spaceIcon}}function k(e){let{joinableSpace:t,isSmallScreen:n,index:c,joinableSpaces:g,onClick:p}=e;const m=(0,o().v3)(),f=r().A.isMobile,y=(0,u().U)(f,n),b=(0,a().uB)(void 0,d().A),v=(0,i().IS)((e=>({buttonStyle:{display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",fontSize:14,lineHeight:1.2,border:`1px solid ${e.outlineButtonBorder}`,boxShadow:"rgba(15, 15, 15, 0.1) 0px 1px 2px",...y.onboardingButtonV2}})),[y.onboardingButtonV2]);return(0,S.jsx)(s().A,{className:l().YZL,disabled:!1,style:v.buttonStyle,hoveredStyle:{background:"rgba(55, 53, 47, 0.03)"},pressedStyle:{background:"rgba(55, 53, 47, 0.06)"},onClick:async()=>{await p(m,t,c,g,b)},children:(0,S.jsx)(j,{joinableSpace:t,isSmallScreen:n,buttonPopupStore:b})},t.id)}},551222:(e,t,n)=>{n.d(t,{q:()=>a});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"3.12 3.12 13.75 13.75",svg:(0,n(474848).jsx)("path",{d:"M13.125 4.25c0-.621.504-1.125 1.125-1.125h1.5c.621 0 1.125.504 1.125 1.125v11.5c0 .621-.504 1.125-1.125 1.125h-1.5a1.125 1.125 0 0 1-1.125-1.125zm1.25.125v11.25h1.25V4.375zm-6.25 6.375c0-.621.504-1.125 1.125-1.125h1.5c.621 0 1.125.504 1.125 1.125v5c0 .621-.504 1.125-1.125 1.125h-1.5a1.125 1.125 0 0 1-1.125-1.125zm1.25.125v4.75h1.25v-4.75zM4.25 5.625c-.621 0-1.125.504-1.125 1.125v9c0 .621.504 1.125 1.125 1.125h1.5c.621 0 1.125-.504 1.125-1.125v-9c0-.621-.504-1.125-1.125-1.125zm.125 10v-8.75h1.25v8.75z"})},a=(0,n(340498).wt)("chartBarXAxis",o)},560686:(e,t,n)=>{n.d(t,{ZK:()=>a,aC:()=>i,lO:()=>s});var o=()=>n(496603);function a(e){if(o().sb(e).length<=3)return{success:!1,reason:{type:"password_too_consistent"}};if(e.length>=15)return{success:!0};if(e.length<8)return{success:!1,reason:{type:"password_too_short"}};const t=i(e),n=s(e);return t&&n?{success:!0}:t||n?n?t?{success:!1,reason:{type:"password_too_short"}}:{success:!1,reason:{type:"password_missing_letter"}}:{success:!1,reason:{type:"password_missing_number"}}:{success:!1,reason:{type:"password_missing_letter_and_number"}}}function i(e){return e.match(/[a-z]/i)}function s(e){return e.match(/\d/)}},606456:(e,t,n)=>{n.d(t,{Oo:()=>W,mR:()=>E,Tq:()=>F,ge:()=>L});n(16280),n(898992),n(354520),n(737550);var o=()=>n(244641),a=(n(296540),()=>n(584262)),i=()=>n(857639),s=()=>n(967786),r=()=>n(179034),l=()=>n(762433),d=()=>n(323063),u=()=>n(166386),c=()=>n(807487),g=()=>n(959013),p=()=>n(496603),m=()=>n(252105),f=()=>n(901389),y=()=>n(496414),b=()=>n(209660),v=()=>n(857783),h=()=>n(436572),x=()=>n(34542),S=()=>n(211716),w=()=>n(770769),j=()=>n(765957),C=()=>n(57605),A=()=>n(814431),k=()=>n(630116),I=()=>n(506090),M=()=>n(399995),T=()=>n(106196),_=n(474848);function P(e){const{onClick:t}=e;return(0,_.jsx)(T().N,{buttonInfo:{onClick:t,label:(0,_.jsx)(g().sA,{id:"spaceSubscriptionUpgradeModal.upgradeAi.getStarted",defaultMessage:"Get started"})}})}var N=()=>n(807778),B=()=>n(112527),R=()=>n(51473),D=()=>n(779795),z=()=>n(411341);const O=(0,g().YK)({cancelFailedSubscription:{id:"subscription.upgrade.cancel_failed_subscription",defaultMessage:"Cancelling subscription..."}});function W(e){const{environment:t,modalId:n}=e;I().A.reset(),m().OC(t,{modal_id:n})}async function E(e){const{modalId:t,modalType:n,environment:o,intl:a,elements:i,stripe:s,isCheckoutAddressFormExperimentEnabled:r}=e,l=a.formatMessage({id:"spaceSubscriptionUpgradeModal.payment.genericError",defaultMessage:"Your payment could not be processed. Please try again."}),{error:d}=await i.submit();if(d)return m().qC(o,{error:"could not submit form",error_type:"payment_method",modal_id:t,modal_type:n}),{error:l};const{error:u,paymentMethod:g}=await s.createPaymentMethod({elements:i});if(u)return m().qC(o,{error:u.message,error_type:"payment_method",modal_id:t,modal_type:n}),m().cr(o,{error:u.code,stripe_decline_code:u.decline_code}),{error:B().translateStripeError(a,u)};if(!g)return m().qC(o,{error:"could not create token",error_type:"payment_method",modal_id:t,modal_type:n}),{error:l};const p={type:"paymentMethodId",value:g.id};if(r){const e=g.billing_details,{line1:t,line2:n,city:o,state:a,postal_code:i,country:s}=e.address??{};return{paymentData:p,address:{name:e.name??"",addressLine1:t??"",addressLine2:n??"",city:o??"",state:a??"",zipCode:i??"",country:s??"US"}}}{const e=g.billing_details.address;return{paymentData:p,address:{zipCode:(null==e?void 0:e.postal_code)??"",country:c()._q.includes(g.type)?"KR":(null==e?void 0:e.country)??""}}}}async function L(e){var t;const{address:n,billingEmail:a,billingInterval:i,coupon:r,currencyCode:c,environment:v,isStartingTrial:h,modalId:x,modalType:S,offerInfo:w,paymentData:k,promo:I,quantity:T,selectedProducts:P,stripe:B,useTestClock:W,vatId:E,intl:L,from:F,postUpgradeCallback:q}=e,U=j().default.state.currentSpaceStore;if(!U)return;const V=await D().p_({environment:v,spaceId:U.id}),H=await C().A.awaitData(v,{spaceId:null==U?void 0:U.id});if(!H)throw new Error("Billing data not loaded");const K=(null===(t=(0,l().KH)(H,"sites_custom_hostnames"))||void 0===t?void 0:t.quantity)??0,G=(0,l().lQ)(H),J=h?o().c9.now().plus({days:14}):void 0,Q=(0,p().oE)(P).filter((e=>"free"!==e)),$=(0,N().Le)(),Y=(0,d().ef)({state:{...G,trialEnd:J},prices:V,quantities:{numSeats:T,numCustomHostnames:K},params:{interval:i,currency:c},products:Q,flags:{isMay13PackagingChangesEnabled:$}}),Z=Q.some((e=>(0,u().Jf)(r,e,i)));try{const e=await z().updateSubscription({environment:v,spaceStore:U,desiredState:(0,d().Vr)(V,Y,i),paymentData:k,billingEmail:a,coupon:"coupon"===(null==I?void 0:I.source)?I.code:void 0,customerName:n.name,businessName:n.businessName,addressLine1:n.addressLine1,addressCity:n.city,addressZip:n.zipCode,addressState:n.state,addressCountry:n.country,vatId:E??void 0,offerInfo:w,promoCodeId:I&&"promo_code"===I.source?I.code:void 0,from:F??"subscription_upgrade_modal",useTestClock:W,sessionId:x,inAppOffer:Z?r:void 0,postUpgradeCallback:q});await z().handlePaymentIntentNextActions({paymentIntentData:e,stripe:B,onSuccess:()=>{m().dI(v,{payment_intent_id:e.paymentIntentId,modal_id:x,modal_type:S})},onFailure:async()=>{await async function(e){const{updateSubscriptionResponse:t,environment:n,modalId:o,modalType:a,spaceStore:i,currencyCode:s,intl:r}=e,{subscriptionStatus:l,paymentIntentId:d}=t,u=i.id;await A().L.resetData(n,{spaceId:u});const c=await A().L.awaitData(n,{spaceId:u})??[];f().ui({message:"trialing"===l?(0,_.jsx)(g().sA,{id:"subscription.upgrade.payment_failed.trial",defaultMessage:"Please provide an alternate payment method to complete your upgrade."}):(0,_.jsx)(g().sA,{id:"subscription.upgrade.payment_failed",defaultMessage:"Your payment could not be processed. Please provide an alternate payment method or you will lose access to Notion."}),showCancel:!1,keepFocus:!1,disableBackgroundDismiss:!0,items:[{label:(0,_.jsx)(g().sA,{id:"subscription.upgrade.payment_failed.pay_invoice",defaultMessage:"Complete payment"}),onAccept:()=>{if(m().GB(n,{payment_intent_id:d,modal_id:o,modal_type:a}),(0,N().Ug)())return(0,M().U)(n,i,s,[c[0]],r);window.open(t.invoiceUrl,"_blank")},color:"red"},{label:(0,_.jsx)(g().sA,{id:"subscription.upgrade.payment_failed.cancel",defaultMessage:"Cancel upgrade"}),onAccept:async()=>{m().WB(n,{payment_intent_id:t.paymentIntentId,modal_id:o,modal_type:a}),y().m({message:O.cancelFailedSubscription}),await z().updateSubscription({environment:n,spaceStore:i,from:"subscription_upgrade_modal-failed_payment",desiredState:{items:[],trialEnd:void 0}}),y().V(),R().A.close(),b().Ow({currentTab:"plans"})}}]})}({updateSubscriptionResponse:e,environment:v,modalId:x,spaceStore:U,currencyCode:c,intl:L})}}),I&&(0,s().rP)(v.currentUser.id)}catch(X){throw m().WB(v,{modal_id:x,modal_type:S}),X}}function F(e){const{environment:t,spaceStore:n,spaceViewStore:o,intl:s,currentUserRootStore:l}=e,d=(0,w().getAIUpgradeTemplate)({intl:s});if(!d)throw new Error("AI template not found");if(!l)throw new Error("Cannot create BlockStore: currentUserRootStore not found");const u=k().Bv.createChildStore(l,{table:r().ev,id:d.rootId});(0,x().Fq)({environment:t,blockStore:u,spaceStore:n,spaceViewStore:o,hideModal:!0,disableRedirect:!0,showDuplicationStartedToast:!1,showDuplicationFinishedToast:!1}).then((e=>{if(!e)return;h().D6({label:s.formatMessage({id:"spaceSubscriptionUpgradeModal.upgradeAi.success",defaultMessage:"You now have Notion AI"}),style:{gap:8,display:"flex"},right:(0,_.jsx)(P,{onClick:()=>{v().uK({environment:t,store:e,visitType:S().ig.Link,pageVisitSource:a().y8.Duplicate})}})})})).catch((e=>{i().log({from:"client/checkoutActions",level:"error",type:"aiUpgrade.duplicationFailed",data:{message:"AI Upgrade duplication failed.  Block store not found"}})}))}},682497:(e,t,n)=>{n.d(t,{o:()=>i});var o=()=>n(645873);const a=new(o().O2)("PageError",(async()=>Promise.all([n.e(44711),n.e(35837),n.e(19687),n.e(44763),n.e(22114),n.e(25049),n.e(30873),n.e(66960)]).then(n.bind(n,949571)))),i=(0,o()._h)(a,(e=>e.PageError))},702661:(e,t,n)=>{n.d(t,{m:()=>i});n(296540);var o=n(474848);const a={viewBox:"0 0 16 16",fittedViewBox:"0.05 1.61 15.52 13",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M14.437 9.042a.625.625 0 0 1 1.028.711 5.4 5.4 0 0 1-3.818 2.294v1.309h2.616l.126.012a.626.626 0 0 1 0 1.225l-.126.013h-6.48a.626.626 0 0 1 0-1.25h2.613v-1.308a5.4 5.4 0 0 1-3.625-2.037l-.19-.258-.061-.111a.626.626 0 0 1 1.007-.696l.082.096.146.2a4.14 4.14 0 0 0 3.268 1.593 4.14 4.14 0 0 0 3.414-1.793"}),(0,o.jsx)("path",{d:"M6.858 11.375c.518.46 1.113.835 1.763 1.105l.316.145H.722a.626.626 0 1 1 0-1.25zM5.763 8.708a1.5 1.5 0 0 0-.059 1.25H.721a.626.626 0 1 1 0-1.25zm5.259-7.093a2.425 2.425 0 0 1 2.424 2.425v3.28a2.425 2.425 0 1 1-4.85 0V4.04a2.426 2.426 0 0 1 2.425-2.425m0 1.25c-.649 0-1.175.526-1.175 1.175v3.28a1.176 1.176 0 0 0 2.35 0V4.04a1.176 1.176 0 0 0-1.175-1.175M7.722 7.292H.72a.626.626 0 0 1 0-1.25h7zM7.9 3.375a3.3 3.3 0 0 0-.178 1.065v.185H.72a.626.626 0 1 1 0-1.25z"})]})},i=(0,n(340498).wt)("microphoneTextSmall",a)},711901:(e,t,n)=>{n.d(t,{L:()=>a});n(296540);var o=n(474848);const a=(0,n(340498).wt)("appleLogo",{viewBox:"0 0 170 170",svg:(0,o.jsx)("path",{d:"m150.37 130.25c-2.45 5.66-5.35 10.87-8.71 15.66-4.58 6.53-8.33 11.05-11.22 13.56-4.48 4.12-9.28 6.23-14.42 6.35-3.69 0-8.14-1.05-13.32-3.18-5.197-2.12-9.973-3.17-14.34-3.17-4.58 0-9.492 1.05-14.746 3.17-5.262 2.13-9.501 3.24-12.742 3.35-4.929 0.21-9.842-1.96-14.746-6.52-3.13-2.73-7.045-7.41-11.735-14.04-5.032-7.08-9.169-15.29-12.41-24.65-3.471-10.11-5.211-19.9-5.211-29.378 0-10.857 2.346-20.221 7.045-28.068 3.693-6.303 8.606-11.275 14.755-14.925s12.793-5.51 19.948-5.629c3.915 0 9.049 1.211 15.429 3.591 6.362 2.388 10.447 3.599 12.238 3.599 1.339 0 5.877-1.416 13.57-4.239 7.275-2.618 13.415-3.702 18.445-3.275 13.63 1.1 23.87 6.473 30.68 16.153-12.19 7.386-18.22 17.731-18.1 31.002 0.11 10.337 3.86 18.939 11.23 25.769 3.34 3.17 7.07 5.62 11.22 7.36-0.9 2.61-1.85 5.11-2.86 7.51zm-31.26-123.01c0 8.1021-2.96 15.667-8.86 22.669-7.12 8.324-15.732 13.134-25.071 12.375-0.119-0.972-0.188-1.995-0.188-3.07 0-7.778 3.386-16.102 9.399-22.908 3.002-3.446 6.82-6.3113 11.45-8.597 4.62-2.2516 8.99-3.4968 13.1-3.71 0.12 1.0831 0.17 2.1663 0.17 3.2409z"})})},725340:(e,t,n)=>{n.d(t,{U:()=>i});n(296540);var o=n(474848);const a={viewBox:"0 0 20 20",fittedViewBox:"2.72 1.77 17.28 16.45",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M10.302 1.853a.63.63 0 0 0-.604 0l-6.65 3.669c-.2.11-.323.32-.323.547v7.862c0 .228.124.437.323.547l6.65 3.67a.63.63 0 0 0 .604 0l2.801-1.546a4.6 4.6 0 0 1-.713-1.034l-1.765.973v-6.434l5.4-2.98v1.797a4.7 4.7 0 0 1 1.25.04V6.07a.63.63 0 0 0-.323-.547zM3.975 7.127l5.4 2.98v6.434l-5.4-2.98zM15.356 6.07 10 9.024 4.644 6.069 10 3.114z"}),(0,o.jsx)("path",{d:"M13.592 15.449a3.5 3.5 0 1 1 5.815-3.897 3.5 3.5 0 0 1-5.815 3.897M16.5 11.03a.5.5 0 0 0-.5.5v2.031a.5.5 0 0 0 1 0v-2.03a.5.5 0 0 0-.5-.5m0 5a.625.625 0 1 0 0-1.25.625.625 0 0 0 0 1.25"})]})},i=(0,n(340498).wt)("blockLimit",a)},778450:(e,t,n)=>{n.d(t,{e:()=>s});var o=()=>n(857639),a=()=>n(449506),i=()=>n(63728);async function s(e){if(i().l.state)return i().l.state;const t=e.device.os;if("mac"!==t&&"windows"!==t)return!1;const n=await a().callApi({eventName:"getDesktopAppRegistration",environment:e,data:{os:t}});if("failed"===n.type)return o().log({level:"error",from:"getDesktopAppRegistered",type:"api:getDesktopAppRegistration",error:n.error}),!1;const s=n.data.isRegistered||Boolean(n.data.isRegistered30Day);return s&&i().l.setState(!0),s}},812978:(e,t,n)=>{n.r(t),n.d(t,{getPreviousStageIndex:()=>l,shouldSkipCurrentStage:()=>r});var o=()=>n(857639),a=()=>n(176864),i=()=>n(235921),s=()=>n(59424);async function r(e){let{flowName:t,stageIndex:n,environment:r}=e;const l=(0,s().getStageName)({flowName:t,stageIndex:n,environment:r}),d=a().contextualizedOnboardingStageByStageName[l];return d||o().log({level:"error",from:"contextualizedOnboardingStageHelpers",type:"shouldSkipCurrentStage",data:{miscDataToConvertToString:{flowName:t,stageIndex:n,stageName:l}}}),await d.shouldSkip(i().A.state,r)}async function l(e){let{flowName:t,stageIndex:n,environment:o}=e,a=n-1;for(;a>=0&&await r({flowName:t,stageIndex:a,environment:o});)a--;return a}},816953:(e,t,n)=>{n.d(t,{A:()=>l});var o=()=>n(484714),a=()=>n(660237),i=()=>n(187174),s=()=>n(816758),r=()=>n(449506);function l(){var e;const t=(0,o().v3)(),[n]=(0,i().Yb)((async()=>{const e=await r().callApi({eventName:"getGeoIpLocation",environment:t,data:{}});if("success"===e.type)return e.data}),[t]),l=null==n||null===(e=n.value)||void 0===e?void 0:e.countryCodeFromIp;return!!(0,a().Ef)(l)&&(0,s().Lv)(l)}},831081:(e,t,n)=>{n.d(t,{U:()=>a});n(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"3 3 10 10",svg:(0,n(474848).jsx)("path",{d:"M11.75 3h-7.5C3.56 3 3 3.56 3 4.25v7.5c0 .69.56 1.25 1.25 1.25h7.5c.69 0 1.25-.56 1.25-1.25v-7.5C13 3.56 12.44 3 11.75 3"})},a=(0,n(340498).wt)("mediaStopFillSmall",o)},850369:(e,t,n)=>{n.d(t,{A:()=>m});n(581454),n(296540);var o=()=>n(401497),a=()=>n(950705),i=()=>n(959013),s=()=>n(209199),r=()=>n(901389),l=()=>n(700250),d=()=>n(760217),u=()=>n(406699),c=()=>n(939740),g=()=>n(824160),p=n(474848);const m=function(e){let{currentLocale:t,pickerLabel:d,confirm:m,onChange:y,origin:b,showGlobeIcon:v}=e;const h=(0,o().DP)(),x=(0,n(484714).v3)(),S=(0,i().tz)(),w=(0,n(56366).uB)(void 0,n(463830).A),{device:j}=x,C="ja-JP"===t,A=(0,n(963589).X)("polyglot");if(j.isMobile)return null;const k=d||(0,a().V)(S)[t].languageNameInThatLanguage;return(0,p.jsx)(u().Ay,{onClick:()=>{n(278768).Kn(x,{origin:b})},popupType:u().z7.Popup,buttonPopupStore:w,renderOrigin:e=>(0,p.jsxs)(n(493823).p,{"aria-label":S.formatMessage({id:"languagePicker.ariaLabel",defaultMessage:"Language: {language}"},{language:k}),style:{marginLeft:-8,paddingLeft:8,paddingRight:8,display:"flex",alignItems:"center",...v&&{color:h.icon.secondary}},...e,children:[v&&(0,n(328347).h)({width:16,height:16,fill:h.icon.secondary,marginRight:4}),k,(0,s().Hx)(t)&&!C&&(0,p.jsx)(g().A,{desktopStyle:{marginLeft:4},children:(0,p.jsx)(i().sA,{id:"languagePicker.betaBadge",defaultMessage:"Beta"})}),(0,n(668725).b)({width:10,marginLeft:4,fill:v?h.icon.secondary:h.icon.tertiary})]}),placementToOrigin:l().UV.Bottom,alignmentToOrigin:l().MY.Start,render:e=>{let o;o=A?[...s().fy,...s().Tf]:[...s().fy];const l=[{key:"languages",render:e=>(0,p.jsx)(n(89924).A,{...e,topBorder:0!==e.index}),items:o.map((n=>{const o={key:n,render:e=>function(e,t,n,o){const i=(0,a().V)(o)[e],{languageNameInThatLanguage:s,languageNameInCurrentLanguage:r}=i;return(0,p.jsx)(f,{label:s,caption:r,focused:t,props:n,locale:e})}(n,e.focused,e,S),action:()=>{!function(e,t,n,o,s){t!==e&&function(e,t,n,o){const{languageNameInThatLanguage:s}=(0,a().V)(t)[e];if(n){const t=()=>{o(e)};r().ui({showCancel:!0,keepFocus:!1,message:(0,p.jsx)(i().sA,{id:"languagePicker.changeLanguage.confirmationMessage",defaultMessage:"Are you sure you want to update the language to {language}?",values:{language:s}}),items:[{label:(0,p.jsx)(i().sA,{id:"languagePicker.changeLanguage.updateButton.label",defaultMessage:"Update"}),color:"red",onAccept:t}]})}else o(e)}(e,n,o,s)}(n,t,S,m,y),e.close()}};return o}))}],d={menuType:n(722872).gu.Popup,width:240};return(0,p.jsx)(n(928600).A,{className:n(38337).jtA,...d,children:(0,p.jsx)(c().Ay,{type:c().Oh.Vertical,initialFocus:void 0,sections:l})})}})};function f(e){const{locale:t}=e,n=(0,o().DP)(),a="ja-JP"===t;return(0,p.jsx)(d().A,{...e.props,title:(0,p.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,p.jsx)("div",{style:{...e.style,marginRight:0},children:e.label})}),caption:e.caption&&(0,p.jsx)("span",{style:{color:n.text.secondary},children:e.caption}),shouldWrapCaption:!0,right:(0,s().Hx)(e.locale)&&!a&&(0,p.jsx)(g().A,{children:(0,p.jsx)(i().sA,{id:"languagePicker.betaBadge",defaultMessage:"Beta"})})})}},866961:(e,t,n)=>{n.d(t,{U:()=>i});var o=()=>n(401497),a=()=>n(284371);function i(e,t){return(0,o().IS)((n=>({workspaceNameV2:{fontWeight:500,fontSize:16,whiteSpace:"normal",overflowWrap:"break-word"},workspaceTextV2:{display:"flex",flexDirection:"column",justifyContent:"start",marginLeft:"14px",maxWidth:"200px"},workspaceJoinButtonV2:e?{color:n.text.primary,backgroundColor:n.fill.lightGraySecondary,borderRadius:17,padding:"8px 16px",display:"flex",alignItems:"center",fontWeight:a().Wy.semibold}:{marginTop:8,marginRight:8,color:n.text.uiBluePrimary},workspaceIconV2:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"top"},workspaceSpaceInformationV2:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"top",width:"100%"},userAvatarContainerV2:{display:"flex",flexDirection:"row",justifyContent:"start",marginTop:t?12:16,overflow:"hidden",marginLeft:42},workspaceContainerV2:{display:"flex",flexDirection:"column",justifyContent:"start",width:"100%"},onboardingButtonV2:{width:"100%",padding:t?16:12,height:"auto",marginBottom:12,borderRadius:12,background:n.surface.elevated,...t&&{border:`1px solid ${n.stroke.secondary}`,boxShadow:void 0}},workspaceMemberCountV2:{color:n.text.tertiary,marginTop:2,fontWeight:400,fontSize:12},inviteText:{fontSize:t?15:12,color:n.text.secondary,marginBottom:8,paddingLeft:2,fontWeight:t?a().Wy.medium:a().Wy.semibold},typesPersonIcon:{color:n.icon.tertiary,height:16,width:18,marginRight:2},totalMemberCount:{color:n.text.secondary}})),[e,t])}},903659:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(296540),a=()=>n(56366),i=()=>n(93658),s=n(474848);const r=function(e){const t=(0,n(484714).Y0)(),r=(0,a().K8)((()=>({initiator:n(353643).A.state.initiator,isDragging:n(861841).Ay.state.isDragging})),[]),l=(0,a().K8)((()=>i().default.state.isActive),[]),d=(0,a().K8)((()=>!!i().default.state.isActive&&i().default.state.moved?"default":r.isDragging?"-webkit-grabbing":"text"),[r.isDragging]),u=(0,o.useMemo)((()=>{let e="notion-cursor-listener";return"-webkit-grabbing"===d&&(e+=" notion-disable-local-cursor"),e}),[d]);return(0,o.useEffect)((()=>{t.isIOS&&("touch"===r.initiator||r.isDragging||l?document.body.classList.add("notion-disable-webkit-user-select"):document.body.classList.remove("notion-disable-webkit-user-select"))}),[t.isIOS,r.initiator,r.isDragging,l]),(0,s.jsx)("div",{style:{...e.style,cursor:d},className:u,children:e.children})}},904789:(e,t,n)=>{n.d(t,{R:()=>i});n(296540);var o=n(474848);const a={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.51 15.51",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M12 8.875c.345 0 .625.28.625.625v1.875H14.5a.625.625 0 1 1 0 1.25h-1.875V14.5a.625.625 0 1 1-1.25 0v-1.875H9.5a.625.625 0 1 1 0-1.25h1.875V9.5c0-.345.28-.625.625-.625"}),(0,o.jsx)("path",{d:"M4.5 2.375A2.125 2.125 0 0 0 2.375 4.5V12c0 1.174.951 2.125 2.125 2.125h1.625v1.625c0 1.174.951 2.125 2.125 2.125h7.5a2.125 2.125 0 0 0 2.125-2.125v-7.5a2.125 2.125 0 0 0-2.125-2.125h-1.625V4.5A2.125 2.125 0 0 0 12 2.375zm8.375 3.75H8.25A2.125 2.125 0 0 0 6.125 8.25v4.625H4.5A.875.875 0 0 1 3.625 12V4.5c0-.483.392-.875.875-.875H12c.483 0 .875.392.875.875zm-5.5 2.125c0-.483.392-.875.875-.875h7.5c.483 0 .875.392.875.875v7.5a.875.875 0 0 1-.875.875h-7.5a.875.875 0 0 1-.875-.875z"})]})},i=(0,n(340498).wt)("squareOnSquarePlus",a)},925846:(e,t,n)=>{n.d(t,{q:()=>a});n(296540);var o=n(474848);const a=(0,n(340498).wt)("androidLogo",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M14 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zM2 6c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1zm1.5 5.5A1.5 1.5 0 005 13v2c0 .55.45 1 1 1s1-.45 1-1v-2h2v2c0 .55.45 1 1 1s1-.45 1-1v-2a1.5 1.5 0 001.5-1.5V6h-9v5.5zM12.472 5a4.5 4.5 0 00-2.025-3.276l.5-1.001a.5.5 0 00-.895-.447L9.55 1.28l-.13-.052a4.504 4.504 0 00-2.84 0l-.13.052L5.948.276a.5.5 0 00-.895.447l.5 1.001A4.499 4.499 0 003.528 5v.5H12.5V5h-.028zM6.5 4a.5.5 0 01-.001-1h.002A.5.5 0 016.5 4zm3 0a.5.5 0 01-.001-1h.003a.5.5 0 01-.001 1z"})})},950705:(e,t,n)=>{function o(e){return{"en-US":{languageNameInThatLanguage:"English (US)",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"English (US)",id:"languagePicker.captions.englishUS"})},"de-DE":{languageNameInThatLanguage:"Deutsch",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"German",id:"languagePicker.captions.germanDE"})},"ko-KR":{languageNameInThatLanguage:"",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Korean",id:"languagePicker.captions.koreanKo"})},"zh-CN":{languageNameInThatLanguage:"",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Simplified Chinese",id:"languagePicker.captions.chineseS"})},"zh-TW":{languageNameInThatLanguage:"",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Traditional Chinese",id:"languagePicker.captions.chineseT"})},"ja-JP":{languageNameInThatLanguage:"",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Japanese",id:"languagePicker.captions.japaneseJa"})},"es-ES":{languageNameInThatLanguage:"Espaol (Espaa)",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Spanish (Spain)",id:"languagePicker.captions.spanishEs"})},"es-LA":{languageNameInThatLanguage:"Espaol (Latinoamrica)",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Spanish (Latin America)",id:"languagePicker.captions.spanishLatam"})},"pt-BR":{languageNameInThatLanguage:"Portugus (Brasil)",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Portuguese (Brazil)",id:"languagePicker.captions.portugueseBr"})},"fr-FR":{languageNameInThatLanguage:"Franais (France)",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"French (France)",id:"languagePicker.captions.frenchFr"})},"da-DK":{languageNameInThatLanguage:"Dansk",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Danish",id:"languagePicker.captions.danishDk"})},"fi-FI":{languageNameInThatLanguage:"Suomi",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Finnish",id:"languagePicker.captions.finnishFi"})},"nb-NO":{languageNameInThatLanguage:"Norsk",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Norwegian",id:"languagePicker.captions.norwegianNo"})},"nl-NL":{languageNameInThatLanguage:"Nederlands",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Dutch",id:"languagePicker.captions.dutchNl"})},"sv-SE":{languageNameInThatLanguage:"Svenska",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Swedish",id:"languagePicker.captions.swedishSe"})},"en-GB":{languageNameInThatLanguage:"English (GB)",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"English (GB)",id:"languagePicker.captions.englishGB"})},"th-TH":{languageNameInThatLanguage:"",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Thai",id:"languagePicker.captions.thaiTh"})},"id-ID":{languageNameInThatLanguage:"Bahasa Indonesia",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Indonesian",id:"languagePicker.captions.indonesianId"})},"vi-VN":{languageNameInThatLanguage:"Ting Vit",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Vietnamese",id:"languagePicker.captions.vietnameseVn"})},pseudo:{languageNameInThatLanguage:"Pseudolocale",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Pseudolocale",id:"languagePicker.captions.pseudolocale"})}}}function a(e){return{en:{name:e.formatMessage({defaultMessage:"English",id:"languagePicker.name.english"}),abbreviation:e.formatMessage({defaultMessage:"EN",id:"languagePicker.abbreviation.english"})},de:{name:e.formatMessage({defaultMessage:"German",id:"languagePicker.name.german"}),abbreviation:e.formatMessage({defaultMessage:"DE",id:"languagePicker.abbreviation.german"})},ko:{name:e.formatMessage({defaultMessage:"Korean",id:"languagePicker.name.korean"}),abbreviation:e.formatMessage({defaultMessage:"KO",id:"languagePicker.abbreviation.korean"})},zh:{name:e.formatMessage({defaultMessage:"Chinese",id:"languagePicker.name.chinese"}),abbreviation:e.formatMessage({defaultMessage:"ZH",id:"languagePicker.abbreviation.chinese"})},ja:{name:e.formatMessage({defaultMessage:"Japanese",id:"languagePicker.name.japanese"}),abbreviation:e.formatMessage({defaultMessage:"JA",id:"languagePicker.abbreviation.japanese"})},es:{name:e.formatMessage({defaultMessage:"Spanish",id:"languagePicker.name.spanish"}),abbreviation:e.formatMessage({defaultMessage:"ES",id:"languagePicker.abbreviation.spanish"})},pt:{name:e.formatMessage({defaultMessage:"Portuguese",id:"languagePicker.name.portuguese"}),abbreviation:e.formatMessage({defaultMessage:"PT",id:"languagePicker.abbreviation.portuguese"})},fr:{name:e.formatMessage({defaultMessage:"French",id:"languagePicker.name.french"}),abbreviation:e.formatMessage({defaultMessage:"FR",id:"languagePicker.abbreviation.french"})},da:{name:e.formatMessage({defaultMessage:"Danish",id:"languagePicker.name.danish"}),abbreviation:e.formatMessage({defaultMessage:"DA",id:"languagePicker.abbreviation.danish"})},fi:{name:e.formatMessage({defaultMessage:"Finnish",id:"languagePicker.name.finnish"}),abbreviation:e.formatMessage({defaultMessage:"FI",id:"languagePicker.abbreviation.finnish"})},nb:{name:e.formatMessage({defaultMessage:"Norwegian",id:"languagePicker.name.norwegian"}),abbreviation:e.formatMessage({defaultMessage:"NB",id:"languagePicker.abbreviation.norwegian"})},nl:{name:e.formatMessage({defaultMessage:"Dutch",id:"languagePicker.name.dutch"}),abbreviation:e.formatMessage({defaultMessage:"NL",id:"languagePicker.abbreviation.dutch"})},sv:{name:e.formatMessage({defaultMessage:"Swedish",id:"languagePicker.name.swedish"}),abbreviation:e.formatMessage({defaultMessage:"SV",id:"languagePicker.abbreviation.swedish"})},th:{name:e.formatMessage({defaultMessage:"Thai",id:"languagePicker.name.thai"}),abbreviation:e.formatMessage({defaultMessage:"TH",id:"languagePicker.abbreviation.thai"})},vi:{name:e.formatMessage({defaultMessage:"Vietnamese",id:"languagePicker.name.vietnamese"}),abbreviation:e.formatMessage({defaultMessage:"VI",id:"languagePicker.abbreviation.vietnamese"})},id:{name:e.formatMessage({defaultMessage:"Indonesian",id:"languagePicker.name.indonesian"}),abbreviation:e.formatMessage({defaultMessage:"ID",id:"languagePicker.abbreviation.indonesian"})}}}n.d(t,{V:()=>o,W:()=>a})}}]);