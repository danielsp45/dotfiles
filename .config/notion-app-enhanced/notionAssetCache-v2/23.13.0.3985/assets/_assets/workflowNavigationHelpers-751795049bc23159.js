"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[92821],{564037:(e,t,i)=>{i.r(t),i.d(t,{getCurrentWorkflowNavigationState:()=>j,getDefaultClosedNavigationState:()=>y,getDefaultOpenNavigationState:()=>k,getIsWorkflowEditorOpen:()=>S,getIsWorkflowEditorStateOpen:()=>O,getIsWorkflowNavigationStateCurrent:()=>V,getMergedWorkflowNavigationState:()=>I,routeArgsGivenNavigationState:()=>N,useIsWorkflowEditorOpen:()=>q,useWorkflowNavigationState:()=>m});var n=()=>i(484714),r=()=>i(56366),o=()=>i(496603),a=()=>i(498212),s=()=>i(534177),c=()=>i(671593),u=()=>i(638681),l=()=>i(765957),w=()=>i(990402),p=()=>i(46986);const d=u().object({required:{isOpen:u().literal(!0)},optional:{}}),g={agent:u().intersection([d,u().object({required:{type:u().literal("agent")},optional:{}})]),module:u().intersection([d,u().object({required:{type:u().literal("module"),id:u().string()},optional:{}})]),database:u().intersection([d,u().object({required:{type:u().literal("database"),id:u().string()},optional:{}})]),trigger:u().intersection([d,u().object({required:{type:u().literal("trigger"),id:u().string()},optional:{}})]),debug:u().intersection([d,u().object({required:{type:u().literal("debug")},optional:{}})]),preview:u().intersection([d,u().object({required:{type:u().literal("preview")},optional:{collectionViewId:u().string()}})]),runtime_actor:u().intersection([d,u().object({required:{type:u().literal("runtime_actor")},optional:{}})]),view_settings:u().intersection([d,u().object({required:{type:u().literal("view_settings"),id:u().string()},optional:{}})]),runs:u().intersection([d,u().object({required:{type:u().literal("runs")},optional:{}})])},f=u().union(Object.values(g)),v=u().object({required:{isOpen:u().literal(!1)},optional:{}}),b=u().union([f,v]);function k(){return{isOpen:!0,type:"agent"}}function y(){return{isOpen:!1}}function O(e){return(null==e?void 0:e.isOpen)??!1}function S(e){return O(j(e))}function V(e){const{currentNavigationState:t,navigationState:i}=e,n=I({defaultNavigationState:{isOpen:!1},currentNavigationState:t,newNavigationState:i});return(0,o().n4)(t,n)}function j(e){const{RouterStore:t}=e;if("page"!==t.state.route.name)return;const i=l().default.state.mainEditorCurrentBlockStore;return i&&(0,w().m)(i)?function(e){const{workflowViewType:t,workflowViewId:i,collectionViewId:n}=e;switch(t){case"agent":case"debug":case"runtime_actor":return{isOpen:!0,type:t};case"module":case"trigger":case"view_settings":if(!i)return;return{isOpen:!0,type:t,id:i};case"database":if(!i)return;return{isOpen:!0,type:t,id:(0,a().ZA)(i)??i};case"preview":return{isOpen:!0,type:"preview",collectionViewId:n};case"runs":return{isOpen:!0,type:"runs"};default:return}}(t.state.route):void 0}function I(e){const{defaultNavigationState:t,currentNavigationState:i,newNavigationState:n}=e;if(!(0,p().re)())return{isOpen:!1};const r={...t};if(i)for(const[a,s]of Object.entries(i))r[a]=s;if(n)for(const[a,s]of Object.entries(n))r[a]=s;const o=(0,c().tf)(b,r);if(o)throw o;return r}function N(e){if(!e.isOpen)return{workflowViewType:void 0,workflowViewId:void 0,collectionViewId:void 0};const t=e.type,i={};switch(t){case"debug":case"runtime_actor":return{...i,workflowViewType:t,workflowViewId:void 0};case"module":case"trigger":case"view_settings":case"database":return{...i,workflowViewType:t,workflowViewId:e.id};case"runs":case"agent":return{...i,workflowViewType:t};case"preview":return{...i,workflowViewType:"preview",collectionViewId:e.collectionViewId};default:(0,s().HB)(t)}}function m(){const e=(0,n().v3)();return(0,r().K8)((()=>j(e)??{isOpen:!1}),[e])}function q(){const e=(0,n().v3)();return(0,r().K8)((()=>S(e)),[e])}},990402:(e,t,i)=>{i.d(t,{m:()=>r});var n=()=>i(46986);function r(e){return("workflow"===e.getType()||e.isCollectionView()&&e.getWorkflowStore())&&e.canEdit()&&!e.isSystemBlock()&&(0,n().re)()}}}]);