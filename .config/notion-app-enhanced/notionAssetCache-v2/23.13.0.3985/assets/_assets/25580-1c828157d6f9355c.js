"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[25580],{30469:(e,t,n)=>{n.d(t,{q:()=>a});var i=n(296540),o=()=>n(56366),r=()=>n(273923);function a(){var e;const t=null===(e=(0,i.useContext)(r().R))||void 0===e?void 0:e.sizeStore;return(0,o().K8)((()=>null==t?void 0:t.getState()),[t])}},135428:(e,t,n)=>{n.d(t,{Vj:()=>l,ax:()=>s});n(898992),n(354520),n(581454),n(737550);var i=()=>n(244641),o=()=>n(604995);const r="–",a=" ";function l(e){let{start:t,end:n,locale:o,timeZone:l}=e;const d=i().c9.fromISO(t),c=i().c9.fromISO(n),u=function(e){let{start:t,end:n}=e;const i=n.diff(t);if(i.as("hours")>12)return!0;const o=t.hour<12,r=n.hour<12;return o!==r}({start:d,end:c}),m=s({time:d,showAmPm:u,locale:o,timeZone:l}),g=s({time:c,showAmPm:!0,locale:o,timeZone:l});return`${m}${a}${r}${a}${g}`}function s(e){let{time:t,showAmPm:n,locale:r,timeZone:l}=e;const s=function(e){return i().c9.fromObject({hour:13}).setLocale(e).toLocaleParts(i().c9.TIME_SIMPLE).some((e=>"dayPeriod"===e.type))}(r),d=0!==t.minute||!s,c={...i().c9.TIME_SIMPLE,hour:"numeric",minute:d?"2-digit":void 0,timeZone:(0,o().lW)(l)};return s&&!n?t.setLocale(r).toLocaleParts(c).filter((e=>"dayPeriod"!==e.type)).map((e=>e.value.trim())).join(""):t.toLocaleString({...c,hour12:s},{locale:r}).replace(" ",a)}},286993:(e,t,n)=>{n.d(t,{c:()=>d});n(581454),n(296540);var i=()=>n(56366),o=()=>n(496603),r=()=>n(812119),a=()=>n(175116),l=()=>n(62856),s=n(474848);function d(e){const{isFullScreen:t,hasGroups:n,hasPartialResults:d,hasSearchQuery:c,overrideNumShimmerRows:u}=e,m=(0,a().Ks)(),g=(0,i().K8)((()=>null==m?void 0:m.isInHomeWidgetStore.state),[m]);if(!(0,l().A)(!0,0,100))return null;let h=1;void 0!==u?h=u:n||d||c||(h=t?10:3);const v=h>1?["50%","30%","40%","40%","30%","30%","40%","40%","30%","30%"]:["35%"],p=o().Hn(h).map((e=>(0,s.jsx)(r().J,{isInHomeWidget:g,widthPercentage:e<v.length?v[e]:void 0},e)));return(0,s.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",alignSelf:"stretch",marginLeft:g?8:3},children:p})}},310188:(e,t,n)=>{n.d(t,{K:()=>r});var i=()=>n(713998),o=()=>n(641007);function r(e){let{type:t,store:n,textValue:r}=e;if(!r||!t)return{linkHref:void 0,shouldShowMaliciousContentDialog:!1};const a=(null==n?void 0:n.getCreatedById())===o().xY.id&&"url"===t;return{linkHref:(0,i().UY)(t,r),shouldShowMaliciousContentDialog:a}}},358167:(e,t,n)=>{n.d(t,{v:()=>r});var i=()=>n(56366),o=()=>n(116008);function r(e){const{blockId:t,propertyId:n}=e;return(0,i().K8)((()=>o().A.isPropertyWithDraftDiscussion({blockId:t,propertyId:n})),[t,n])}},401826:(e,t,n)=>{n.d(t,{U:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("zoomLogo",{viewBox:"0 0 13 9",svg:(0,i.jsx)("path",{d:"M1.94727 8.49316C1.42318 8.49316 1.01628 8.35645 0.726562 8.08301C0.440104 7.81283 0.296875 7.41895 0.296875 6.90137V2.07227C0.296875 1.55794 0.444987 1.16081 0.741211 0.880859C1.04069 0.597656 1.44271 0.456055 1.94727 0.456055H7.13281C7.6569 0.456055 8.05566 0.597656 8.3291 0.880859C8.60579 1.16081 8.74414 1.55794 8.74414 2.07227V6.87695C8.74414 7.39128 8.59928 7.78841 8.30957 8.06836C8.02311 8.35156 7.61784 8.49316 7.09375 8.49316H1.94727ZM9.45703 6.03223V2.93164L11.1367 1.49121C11.2376 1.40332 11.3385 1.33496 11.4395 1.28613C11.5436 1.23405 11.6462 1.20801 11.7471 1.20801C11.9456 1.20801 12.1068 1.27311 12.2305 1.40332C12.3542 1.53027 12.416 1.70117 12.416 1.91602V7.05273C12.416 7.26758 12.3542 7.4401 12.2305 7.57031C12.1068 7.70052 11.9456 7.76562 11.7471 7.76562C11.6462 7.76562 11.5436 7.73958 11.4395 7.6875C11.3353 7.63542 11.2344 7.56706 11.1367 7.48242L9.45703 6.03223Z"})})},530300:(e,t,n)=>{n.d(t,{A:()=>Ve,f:()=>_e});n(898992),n(430670),n(581454);var i=n(296540),o=()=>n(401497),r=()=>n(338931),a=()=>n(838924),l=()=>n(812109),s=()=>n(823115),d=()=>n(665579);const c=2,u=4,m=20;var g=()=>n(484714),h=()=>n(56366),v=n(474848);const p=(0,n(340498).wt)("boxedCross",{viewBox:"0 0 10 11",svg:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("g",{clipPath:"url(#a)",children:(0,v.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2.5a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-6Zm7.354.646a.5.5 0 0 1 0 .708L5.707 5.5l1.647 1.646a.5.5 0 1 1-.708.708L5 6.207 3.354 7.854a.5.5 0 1 1-.708-.708L4.293 5.5 2.646 3.854a.5.5 0 1 1 .708-.708L5 4.793l1.646-1.647a.5.5 0 0 1 .708 0Z"})}),(0,v.jsx)("defs",{children:(0,v.jsx)("clipPath",{id:"a",children:(0,v.jsx)("path",{transform:"translate(0 .5)",d:"M0 0h10v10H0z"})})})]})});var f=()=>n(693954),y=()=>n(959013),x=()=>n(751735),C=()=>n(381349),S=()=>n(512062),j=()=>n(284371),k=()=>n(493823),b=()=>n(125565),I=()=>n(767525),w=()=>n(115512),A=()=>n(645200),T=()=>n(765957),E=()=>n(296060),M=()=>n(481887),L=(n(354520),()=>n(972435)),D=()=>n(135428);const W=(0,y().YK)({code:{id:"notionCalendarEvent.conferencingCode",defaultMessage:"Code"},room:{id:"notionCalendarEvent.conferencingRoom",defaultMessage:"Room"},number:{id:"notionCalendarEvent.conferencingNumber",defaultMessage:"Number"},id:{id:"notionCalendarEvent.conferencingId",defaultMessage:"ID"}}),N=", ",P=" ⸱ ";function B(e){var t;let{event:n,intl:i,timeZone:o,isOnSameLineAsTitle:r}=e;const a=[n.isAllDay?void 0:(0,D().Vj)({start:n.start.dateTime,end:n.end.dateTime,locale:i.locale,timeZone:o}),[function(e){let{location:t,conferencingURL:n}=e;if(!n||!t)return t;return t.split(N).filter((e=>e!==n)).join(N)}({location:n.location,conferencingURL:null===(t=n.conferencing)||void 0===t?void 0:t.url}),R(n)].filter(Boolean).join(N)||void 0].filter(Boolean).join(P);return r&&a?`${P}${a}`:a}function R(e){const t=e.conferencing;if(t&&t.id)return[t.providerDisplayName,L().A.formatMessage(W[t.idType]),t.id].filter(Boolean).join(" ")}var $=()=>n(30469),U=()=>n(584262),H=()=>n(657222),O=()=>n(702661),K=()=>n(861017),z=()=>n(755636),_=()=>n(281948),V=()=>n(768407),F=()=>n(406699),Y=()=>n(928600),Z=()=>n(939740),J=()=>n(8980),q=()=>n(187820),Q=()=>n(16006),G=()=>n(89924),X=()=>n(780054),ee=()=>n(458366),te=()=>n(722872),ne=()=>n(321032),ie=()=>n(962730),oe=()=>n(523239),re=()=>n(677169),ae=()=>n(249696);function le(e){var t;const n=(0,ae().W)(),i=(0,h().O$)(T().AppStoreCurrentSpaceStore);if("emptyTodayEventPlaceholder"!==e&&n&&(null===(t=e.meetingNote)||void 0===t?void 0:t.workspaceId)===(null==i?void 0:i.id))return e.meetingNote}function se(e){if(e)return"page"!==e.location.type?void 0:e.location.page.url}function de(e){const t=(0,g().v3)(),n=(0,h().O$)(T().AppStoreCurrentSpaceStore),i=le(e),o="private"===(null==i?void 0:i.location.type),a=se(i),l=(0,h().K8)((()=>{if(a)return(0,r().xy)({environment:t,fileUrl:a,currentSpaceStore:n})}),[t,n,a]);return(0,h().K8)((()=>!!o||Boolean(null==l?void 0:l.canEdit())),[l,o])}const ce=4,ue=4,me={height:20,paddingTop:2,paddingBottom:2,marginTop:-2,marginBottom:-2,paddingLeft:4,paddingRight:4,marginLeft:-ce,marginRight:-ue};function ge(e){let{event:t,onClick:n}=e;const i=(0,g().v3)(),r=(0,o().IS)((()=>({container:{display:"flex",flexDirection:"row",justifyItems:"center",width:"fit-content",maxWidth:"100%",gap:6}})),[]),{attachments:a}=t,l=function(e){let{environment:t,attachments:n}=e;if(!n)return[];const i=n.findIndex((e=>"page"===(0,K().parseRoute)({url:e.fileUrl,isMobile:t.device.isMobile,baseUrl:X().A.domainBaseUrl,publicDomainName:X().A.publicDomainName,protocol:X().A.protocol,currentUrl:window.location.href}).name));if(-1===i)return n;return[n[i],...n.slice(0,i),...n.slice(i+1)]}({environment:i,attachments:a}),s=le(t);return Boolean(l[0])||Boolean(s)?(0,v.jsx)("div",{style:r.container,children:s?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(he,{event:t,meetingNote:s}),(0,v.jsx)(pe,{attachments:l,onClickAttachment:n})]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(ve,{attachment:l[0],attachmentIndex:0,onClick:n}),(0,v.jsx)(pe,{attachments:l.slice(1),onClickAttachment:n})]})}):null}function he(e){let{event:t,meetingNote:n}=e;const r=(0,g().v3)(),a=(0,h().O$)(T().AppStoreCurrentSpaceStore),l=(0,re().m)(),s=(0,i.useContext)(E().a)??E().H,[d,c]=(0,i.useState)(!1),u=de(t),m=se(n),p=(0,o().IS)((e=>({button:{gap:4,flexShrink:1,maxWidth:`calc(100% + ${ce+ue}px)`,...me,color:e.text.bluePrimary},title:{...j().RC,...u&&{...(0,ee().w_)(e)}}})),[u]),f=(0,v.jsx)("div",{style:p.title,children:(0,v.jsx)(y().sA,{id:"EventCalendarAttachments.meetingNotesTitle",defaultMessage:"AI Meeting Note"})}),x=(0,i.useCallback)((async e=>{if(e.preventDefault(),d)return;if(!u)return;if(!l.botId)return;if(!a)return;(0,ne().R)(r,{botId:l.botId,payload:{type:"track",payload:{event:"meetingNoteClicked",eventId:t.id,product:"notion",from:s.view}}}),c(!0);const i=await(0,oe().NC)({environment:r,botId:l.botId,event:t,meetingNote:n,from:"home_tile_calendar"});if(c(!1),"success"===i.type){const t=(null==e?void 0:e.metaKey)||(null==e?void 0:e.ctrlKey);(0,oe().Rv)({environment:r,currentSpaceStore:a,meetingNoteUrl:i.data.page.url,openInNew:t?"tab":void 0})}}),[u,l.botId,a,r,t,n,d,s.view]);return(0,v.jsxs)(k().p,{style:p.button,href:u?m:void 0,metaHref:u?m:void 0,disabled:!u,onClick:x,children:[(0,v.jsx)(J().I,{size:"sm",icon:O().m}),f]})}function ve(e){let{attachment:t,attachmentIndex:n,menuListItemProps:a,onClick:l}=e;const{fileUrl:s,iconLink:d}=t,c=0===n,u=(0,h().K8)((()=>{const{currentSpaceStore:e}=T().default.state;return null==e?void 0:e.id}),[]),m=(0,o().IS)((e=>({button:{gap:4,flexShrink:1,...c?{maxWidth:`calc(100% + ${ce+ue}px)`}:{width:"100%"},...c&&me},title:{...c?{...(0,ee().w_)(e),fontWeight:j().Wy.medium}:{maxWidth:200},...j().RC},icon:{height:14},linkIcon:{height:14,width:14,fill:e.icon.secondary}})),[c]),p=(0,g().v3)(),f=(0,h().K8)((()=>{const{currentSpaceStore:e}=T().default.state;return(0,r().xy)({environment:p,fileUrl:s,currentSpaceStore:e})}),[p,s]),y=(0,h().K8)((()=>{const e=null==f?void 0:f.getIcon();return f&&e?(0,v.jsx)(q().B6,{icon:e,isEmptyPage:f.isEmptyPage(),size:14,disabled:!0}):d?(0,v.jsx)("img",{style:m.icon,src:d,alt:`Icon image for the Notion calendar event attachment entitled "${t.title}"`}):(0,H().w)(m.linkIcon)}),[t.title,f,d,m.icon,m.linkIcon]),x=f?(0,v.jsx)(Q().A,{store:f,underline:c,style:m.title}):(0,v.jsx)("div",{style:m.title,children:t.title?t.title:(0,v.jsx)(V().lj,{textValue:[[t.fileUrl]]})}),C=(0,i.useCallback)((e=>{var t;if(e.preventDefault(),!s)return;l({index:n,attachmentType:f?"notion":"other",attachmentBlockId:null==f?void 0:f.id});const i=e.metaKey||e.ctrlKey,o=null==f||null===(t=f.getPublicPermission())||void 0===t?void 0:t.is_public_share_link,r=(null==f?void 0:f.getSpaceId())!==u;!f||o&&r?z().f({environment:p,url:s}):_().VU({environment:p,openInNew:i?"tab":void 0,store:f,pageVisitSource:U().y8.PersonalHomeCalendarAttachment,peekMode:"center_peek",resultsStore:void 0,collectionContextStore:void 0})}),[n,f,p,s,l,u]);return(0,v.jsxs)(k().p,{style:m.button,href:s,metaHref:s,...a,onClick:C,children:[y,x]})}function pe(e){let{attachments:t,onClickAttachment:n}=e;const i=(0,g().WS)(),r=(0,o().IS)((e=>({button:{color:e.text.secondary,...me,marginRight:0},sectionMenuItem:{display:"flex",flexDirection:"column",padding:4,width:"100%"}})),[]);return t&&0!==t.length?(0,v.jsx)(F().Ay,{alignmentToOrigin:ie().C.Start,placementToOrigin:ie().W.Bottom,renderOrigin:e=>(0,v.jsx)(k().p,{style:r.button,...e,children:(0,v.jsx)(y().sA,{id:"EventCalendarAttachments.plusMoreAttachments",defaultMessage:"+{numRemainingAttachments}",values:{numRemainingAttachments:t.length}})}),popupType:i?F().z7.SlideUp:F().z7.Popup,render:e=>(0,v.jsx)(Y().A,{menuType:te().gu.Popup,maxWidth:300,children:(0,v.jsx)(Z().Ay,{onAccept:e.close,type:Z().Oh.Vertical,sections:[{key:"all",render:e=>(0,v.jsx)(G().A,{...e,style:r.sectionMenuItem}),items:t.map(((e,t)=>({key:e.fileUrl,render:i=>(0,v.jsx)(ve,{menuListItemProps:i,attachment:e,attachmentIndex:t+1,onClick:n},e.fileUrl),action:()=>{}})))}],initialFocus:0})})}):(0,v.jsx)(v.Fragment,{})}const fe=i.memo(ge);var ye=()=>n(534177),xe=()=>n(379560);const Ce=4,Se=10;function je(e){let{event:t,squashedEventIndex:i,titleStartY:a,titleEndY:l}=e;const s=(0,h().K8)((()=>{if("emptyTodayEventPlaceholder"===t)return;const e=xe().A.getCalendar(t);return null==e?void 0:e.color}),[t]),d=(0,o().IS)((e=>{const o={background:e.calendarHomeWidget.base.gray},d="emptyTodayEventPlaceholder"===t?o:function(e){let{event:t,eventIndex:n,color:i,titleStartY:o,titleEndY:a}=e;const l=function(e){let{event:t,color:n}=e;const i=(0,x().X4)(n,t.isAllDay?.2:.1),o=`\n\t\trepeating-linear-gradient(\n\t\t\t-45deg,\n\t\t\t${n},\n\t\t\t${n} 2px,\n\t\t\t${i} 2px,\n\t\t\t${i} ${t.isAllDay?3.5:4}px\n\t\t)`;if("outOfOffice"===t.eventType)return{background:i};switch(t.responseStatus){case"accepted":return{background:(0,r().vZ)(t)?o:n};case"tentative":return{background:o};case"needsAction":return{border:`1px dashed ${n}`,background:i};case"declined":return{background:i};case void 0:return{background:t.hasParticipants?i:n};default:(0,ye().HB)(t.responseStatus)}}({event:t,color:i});if(!t.isAllDay)return l;const s=`radial-gradient(\n\t\tcircle ${Se}px at ${-(c-1.5)}px ${Se/2}px,\n\t\ttransparent ${(Se+1)/2}px,\n\t\tpurple 0\n\t)`;return{borderRadius:"50%",marginTop:(a-o-Se)/2,alignSelf:"flex-Start",marginLeft:(Ce-Se)/2,marginRight:(Ce-Se)/2,width:Se,height:Se,background:i,...0!==n&&{WebkitMaskImage:s,maskImage:s},...l}}({event:t,eventIndex:i,color:(0,n(569243).Sk)({theme:e,calendarColor:s,eventColor:t.color}),titleStartY:a,titleEndY:l});return{container:{width:Ce,borderRadius:3,...d}}}),[s,t,i,l,a]);return s||"emptyTodayEventPlaceholder"===t?(0,v.jsx)("div",{style:d.container}):null}const ke=i.memo(je);var be=()=>n(401826),Ie=()=>n(859428);const we=28;function Ae(e){var t;let{event:r,onJoinConferenceClick:a,onCopyConferenceUrlClick:l}=e;const s=(0,g().v3)(),d=(0,h().O$)(T().AppStoreCurrentSpaceStore),{botId:c}=(0,re().m)(),[u,m]=(0,i.useState)(!1),p="wide"===(0,$().q)(),f=(0,ae().W)(),y=de(r),x=(0,o().IS)((e=>{const t="light"===e.mode?C().Ay.blueWithAlpha(.1):C().Ay.blueWithAlpha(.2);return{button:{fontSize:(0,w().ny)(s,"UIRegular"),fontWeight:j().Wy.medium,color:e.blueColor,background:t,display:"inline-flex",alignItems:"center",justifyContent:"center",borderRadius:4,lineHeight:1.2,height:we,padding:8},hoveredStyle:{background:"light"===e.mode?C().Ay.blueWithAlpha(.2):C().Ay.blueWithAlpha(.3)},tooltipContainer:{padding:0},tooltip:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:6,height:26,background:e.buttonHoveredBackground,fontWeight:j().Wy.regular,cursor:"pointer"},url:{margin:4,marginLeft:8,marginRight:2},copyIconContainer:{margin:4,marginRight:8,marginLeft:2},copyIcon:{height:13,width:11},zoomLogoIcon:{fill:e.blueColor,width:16,height:16,marginRight:4},divider:{height:"100%",borderWidth:1,borderColor:C().Ay.whiteWithAlpha(.5)}}}),[s]),S=(0,i.useCallback)((async()=>{var e;if(null!==(e=r.conferencing)&&void 0!==e&&e.url){if(a(),y&&r.meetingNote&&c&&d){const e=await(0,oe().NC)({environment:s,botId:c,event:r,meetingNote:r.meetingNote,from:"home_tile_calendar_join_button"});"success"===e.type&&(0,oe().Rv)({environment:s,currentSpaceStore:d,meetingNoteUrl:e.data.page.url,openInNew:void 0})}"zoom"===r.conferencing.providerName&&await A().cs({environment:s,url:r.conferencing.url})||z().f({environment:s,url:r.conferencing.url})}}),[s,d,c,r,y,a]),k=(0,i.useCallback)((async()=>{var e;if(null===(e=r.conferencing)||void 0===e||!e.url)return;const t=await n(884107).R.clipboardActions.load();t.copyString({environment:s,stringValue:r.conferencing.url,copiedMessage:t.clipboardMessages.copiedLinkToClipboard}),m(!1),l()}),[s,null===(t=r.conferencing)||void 0===t?void 0:t.url,l]);if(!(0,ye().O9)(r.conferencing))return(0,v.jsx)(v.Fragment,{});const{providerName:b,url:I,providerDisplayName:E}=r.conferencing,{domain:M,restOfUrl:L=""}=(0,ee().Kc)([[I]]),D=L.length>10?`${M}${L.slice(0,5)}…${L.slice(-6)}`:`${M}${L}`;return(0,v.jsx)(Ie().A,{allowHover:!0,delayThreshold:500,closeDelay:200,originGap:6,placement:ie().W.Top,alignment:ie().C.End,style:x.tooltipContainer,forceVisibleState:!!u||void 0,renderTooltip:()=>(0,v.jsxs)("div",{style:x.tooltip,onClick:k,onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),children:[(0,v.jsx)("div",{style:x.url,children:D}),(0,v.jsx)(n(802790).A,{type:"vertical",size:1,innerStyle:x.divider}),(0,v.jsx)("div",{style:x.copyIconContainer,children:(0,n(925907).n)(x.copyIcon)})]}),render:e=>(0,v.jsxs)(n(197190).A,{style:x.button,hoveredStyle:x.hoveredStyle,onClick:S,...e,children:[Ee(b)(x.zoomLogoIcon),Te({providerDisplayName:E,isWideTile:p,isShortTitle:f,canOpenMeetingNote:y})]})})}function Te(e){let{providerDisplayName:t,isWideTile:n,isShortTitle:i,canOpenMeetingNote:o}=e;return o?t?(0,v.jsx)(y().sA,{id:"notionCalendarEvent.joinAndTakeNotes",defaultMessage:"Join and take notes"}):(0,v.jsx)(y().sA,{id:"notionCalendarEvent.takeNotes",defaultMessage:"Take notes"}):i?(0,v.jsx)(y().sA,{id:"notionCalendarEvent.joinButtonShort",defaultMessage:"Join meeting"}):n?t?(0,v.jsx)(y().sA,{id:"notionCalendarEvent.joinButtonWithProviderWithMeeting",defaultMessage:"Join {providerDisplayName} meeting",values:{providerDisplayName:t}}):(0,v.jsx)(y().sA,{id:"notionCalendarEvent.joinButtonWithMeeting",defaultMessage:"Join meeting"}):t?(0,v.jsx)(y().sA,{id:"notionCalendarEvent.joinButtonWithProvider",defaultMessage:"Join {providerDisplayName}",values:{providerDisplayName:t}}):(0,v.jsx)(y().sA,{id:"notionCalendarEvent.joinButton",defaultMessage:"Join"})}function Ee(e){switch(e){case"zoom":case"googleMeet":case"around":case"blueJeans":case"customConferencing":case"doxyMe":case"googleDuo":case"microsoftTeams":case"skype":case"vowel":case"webex":case"whereby":case void 0:return be().U;default:return(0,ye().ub)(e),be().U}}const Me=i.memo(Ae);var Le=()=>n(284611),De=()=>n(285790);const We=(0,y().YK)({meetingNoteTooltip:{defaultMessage:"Add AI Meeting Note",id:"notionCalendarEventMeetingNoteButton.meetingNoteTooltip"}});function Ne(e){const{event:t}=e,n=(0,y().tz)(),r=(0,g().v3)(),{botId:a}=(0,re().m)(),l=(0,h().K8)((()=>xe().A.getCalendar({calendarId:t.calendarId,accountId:t.accountId})),[t]),s=(0,h().O$)(T().AppStoreCurrentSpaceStore),d=(0,i.useCallback)((()=>{a&&s&&oe().Hz({environment:r,botId:a,currentSpaceStore:s,event:t,data:{eventId:t.id,accountId:t.accountId,calendarId:t.calendarId,provider:t.provider,...null==l?void 0:l.defaultMeetingNote}})}),[r,t,a,l,s]),c=(0,o().IS)((e=>({button:{width:we,height:we,background:"light"===e.mode?S().M.light.gray[75]:S().M.dark.gray[400]},buttonHovered:{background:"light"===e.mode?S().M.light.gray[100]:S().M.dark.gray[500]}})),[]);return(0,v.jsx)(Ie().A,{renderTooltip:()=>(0,v.jsx)(y().sA,{...We.meetingNoteTooltip}),render:e=>(0,v.jsx)(De().A,{...e,style:c.button,hoveredStyle:c.buttonHovered,icon:Le().b,onClick:d,ariaLabel:n.formatMessage(We.meetingNoteTooltip)})})}function Pe(e){var t;const{event:n,isUpcomingEvent:i,isHovering:o}=e,r=function(e){const t=(0,ae().W)(),n="emptyTodayEventPlaceholder"!==e&&e.isOwner,i="emptyTodayEventPlaceholder"!==e&&e.isAllDay;return t&&n&&!i}(n);return(Boolean(null===(t=n.conferencing)||void 0===t?void 0:t.url)||r)&&(i||o)?(0,v.jsx)(Be,{canAddMeetingNote:r,...e}):null}function Be(e){var t;let{event:n,isUpcomingEvent:r,isHovering:a,canAddMeetingNote:l,onJoinConferenceClick:s,onCopyConferenceUrlClick:c}=e;const m=l&&!n.meetingNote&&a,g=Boolean(null===(t=n.conferencing)||void 0===t?void 0:t.url),h=!r&&a,p=(0,i.useRef)(null),[f,y]=(0,i.useState)(!1);(0,i.useLayoutEffect)((()=>{if(l&&p.current&&p.current.parentElement){const e=p.current.getBoundingClientRect(),t=p.current.parentElement.getBoundingClientRect(),n=20,i=Math.abs(t.left-e.left)<=n;y(i)}}),[n,l]);const x=(0,o().IS)((e=>({container:{...h&&{zIndex:2,position:"absolute",top:-u,right:-d().YS,paddingRight:d().YS,paddingLeft:40,bottom:-u,...h&&{background:`linear-gradient(to right, transparent 0%, ${"light"===e.mode?e.surface.wash:S().M.dark.gray[300]} 25%)`}}},inner:{height:"100%",display:"flex",alignItems:"center",gap:5,marginBottom:u,...f&&{flexDirection:"row-reverse"}},joinButtonContainer:{...h&&{borderRadius:4,background:"light"===e.mode?C().Ay.white:C().Ay.black}}})),[h,f]);return(0,v.jsx)("div",{ref:p,style:x.container,children:(0,v.jsxs)("div",{style:x.inner,children:[m?(0,v.jsx)(Ne,{event:n}):null,g?(0,v.jsx)("div",{style:x.joinButtonContainer,children:(0,v.jsx)(Me,{event:n,onJoinConferenceClick:s,onCopyConferenceUrlClick:c})}):null]})})}function Re(e){var t;let{event:n,onAttachmentClick:i}=e;const r="narrow"===(0,$().q)(),a=n.isAllDay&&!r,l=(0,y().tz)(),{timeZone:s}=(0,I().mn)(),d=(null===(t=n.attachments)||void 0===t?void 0:t.length)??!1,c=B({event:n,intl:l,timeZone:s,isOnSameLineAsTitle:a}),g=!d&&n.isAllDay,h=(0,o().IS)((()=>({singleLineNameAndTimeContainer:{display:"flex",flexDirection:"row",justifyContent:"flex-start",maxWidth:"100%",gap:4},nameTimeAndAttachmentsContainer:{display:"flex",flexDirection:"column",justifyContent:"start",maxWidth:"100%",minWidth:0,flexShrink:1,gap:g?0:2,paddingTop:u,paddingBottom:u,overflow:n.isAllDay?"hidden":"unset"}})),[g,n.isAllDay]),p=(0,v.jsx)($e,{event:n}),f=c?(0,v.jsx)(Ue,{height:g?void 0:m,timeString:c,isSmall:!a}):void 0,x=(0,v.jsx)(fe,{event:n,onClick:i});return(0,v.jsx)("div",{style:h.nameTimeAndAttachmentsContainer,children:a?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{style:h.singleLineNameAndTimeContainer,children:[p,f]}),x]}):(0,v.jsxs)(v.Fragment,{children:[p,x,f]})})}function $e(e){let{event:t}=e,n=t.summary;n||"private"!==t.visibility||(n=(0,v.jsx)(y().sA,{id:"notionCalendarEvent.privateEvent.title",defaultMessage:"Busy"}));const i=(0,o().IS)((e=>({container:{display:"flex",flexDirection:"row",maxWidth:"100%",alignItems:"center",height:m,gap:6},title:{fontWeight:j().Wy.medium,...j().RC},warningIcon:{fill:e.grayButtonBackground,width:12,marginTop:1},boxedCrossIcon:{fill:e.grayButtonBackground,width:10.5,marginTop:.5}})),[]),a=(0,r().vZ)(t),l="outOfOffice"===t.eventType;return n?(0,v.jsxs)("div",{style:i.container,children:[a?(0,f().Q)(i.warningIcon):void 0,l?p(i.boxedCrossIcon):void 0,(0,v.jsx)(b().A,{style:i.title,children:n})]}):null}function Ue(e){let{timeString:t,height:n,isSmall:i}=e;const r=(0,o().IS)((()=>({textContainer:{height:n,display:"flex",alignItems:"center",justifyContent:"flex-start",overflow:"hidden"},timeAndLocationText:j().RC})),[n]);return(0,v.jsx)("div",{style:r.textContainer,children:(0,v.jsx)(b().A,{style:r.timeAndLocationText,isSmall:i,isSecondaryColor:!i,children:t})})}const He=function(e){let{event:t,date:r,allSquashedEvents:a=[],isFirstEvent:s=!0,isLastEvent:p=!0,isUpcomingEvent:f=!1,eventToAnalyticsStateStore:b}=e;const I=(0,g().v3)(),[L,D]=(0,i.useState)(!1),W=(0,i.useContext)(E().a)??E().H,N="emptyTodayEventPlaceholder"!==t&&t.isAllDay,P=(0,i.useCallback)((()=>{D(!0)}),[D]),B=(0,i.useCallback)((()=>{D(!1)}),[D]),R=(0,o().IS)((e=>({container:{display:"flex",flexDirection:"row",alignContent:"stretch",overflow:"hidden",paddingLeft:4,paddingRight:d().YS,...N&&{paddingLeft:8},height:"100%"},wrapperDivStyle:{...N?{marginLeft:-4,width:"calc(100% + 4px)"}:{paddingTop:s?0:3,paddingBottom:p?0:3,width:"100%"},height:"unset"},colorLabelContainer:{display:"flex",height:"100%",justifyContent:"flex-end",gap:N?c:2,paddingTop:4,paddingBottom:4},eventDetailsContainer:{display:"flex",flex:1,flexDirection:"row",justifyContent:"space-between",flexWrap:"wrap",alignItems:"center",marginLeft:12,minWidth:0,minHeight:we,position:"relative"},emptyPlaceholderContainer:{display:"flex",flexDirection:"column",justifyContent:"center",height:40,color:e.text.tertiary,fontSize:(0,w().ny)(I,"UIRegular"),fontWeight:j().Wy.regular,...j().RC},hoveredContainer:{background:"light"===e.mode?(0,x().X4)(C().CM.light.darkgray,.02):S().M.dark.gray[300]}})),[I,N,s,p]),$=(0,h().O$)(T().AppStoreCurrentSpaceStore),[U]=(0,n(187174).Yb)((async()=>"emptyTodayEventPlaceholder"===t?void 0:await(0,A().lq)({environment:I,baseUrl:t.url,spaceId:null==$?void 0:$.id,from:"homeEventClick"})),[$,I,t]),H=function(e){let{date:t,event:n,eventToAnalyticsStateStore:o,analyticsContext:r}=e;return(0,i.useCallback)((()=>{if("emptyTodayEventPlaceholder"===n)return;if(!t)return;const{eventIndex:e,numDaysFromToday:i}=(null==o?void 0:o.state[_e({event:n,date:t})])??{};return{eventContext:(0,M().IU)({event:n,eventIndex:e??-1,numDaysInFuture:i??-1}),calendarPanelContext:(0,M().sp)({panelState:r.panelState,view:r.view})}}),[t,n,o,r.panelState,r.view])}({date:r,event:t,eventToAnalyticsStateStore:b,analyticsContext:W}),O=(0,i.useCallback)((e=>{const n=null==U?void 0:U.value;if("emptyTodayEventPlaceholder"===t||!n)return;const i=H();i&&(0,M().np)({environment:I,target:"body",...i}),(0,A().J7)({environment:I,url:n,from:"homeEventClick"})}),[I,t,H,null==U?void 0:U.value]),K=(0,i.useCallback)((e=>{const t=H();t&&(0,M().G7)({...t,environment:I,attachmentIndex:e.index,notionBlockId:e.attachmentBlockId,attachmentType:e.attachmentType})}),[I,H]),z=(0,i.useCallback)((()=>{const e=H();e&&(0,M().np)({environment:I,target:"conferencing",...e})}),[I,H]),_=(0,i.useCallback)((()=>{const e=H();e&&(0,M().np)({environment:I,target:"copy_conferencing_link",...e})}),[I,H]);return(0,v.jsx)("div",{style:R.wrapperDivStyle,children:(0,v.jsxs)(k().p,{style:R.container,onClick:O,onMouseEnter:P,onMouseLeave:B,disabled:"emptyTodayEventPlaceholder"===t||!(null!=U&&U.value),hovered:L,hoveredStyle:R.hoveredContainer,children:[(0,v.jsx)("div",{style:R.colorLabelContainer,children:(0===a.length?[t]:a).map(((e,t)=>(0,v.jsx)(ke,{event:e,squashedEventIndex:t,titleStartY:u,titleEndY:u+m},"emptyTodayEventPlaceholder"===e?e:(0,l().z)(e))))}),(0,v.jsx)("div",{style:R.eventDetailsContainer,children:"emptyTodayEventPlaceholder"===t?(0,v.jsx)("div",{style:R.emptyPlaceholderContainer,children:(0,v.jsx)(y().sA,{id:"notionCalendarEvent.emptyTodayPlaceholder",defaultMessage:"No more events"})}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(Re,{event:t,onAttachmentClick:K}),(0,v.jsx)(Pe,{event:t,isUpcomingEvent:f,isHovering:L,onJoinConferenceClick:z,onCopyConferenceUrlClick:_})]})})]})})};function Oe(e){let{date:t}=e;const n=(0,y().tz)(),i="wide"===(0,$().q)(),r=(0,a().s5)(),l=(0,s().cK)(t,r),d=new Date(t).toLocaleDateString(n.locale,{weekday:i?"long":"short",timeZone:"UTC"}),c=new Date(t).toLocaleDateString(n.locale,{month:i?"long":"short",day:"numeric",timeZone:"UTC"}),u=(0,o().IS)((e=>{const t={color:l?e.text.uiRedPrimary:e.text.tertiary,fontWeight:j().Wy.medium,maxWidth:"100%",...j().RC};return{dateContainer:{display:"flex",alignItems:"start",overflow:"hidden",...i?{flexDirection:"row",minWidth:148,maxWidth:200,paddingRight:16,gap:4,flexWrap:"wrap"}:{flexDirection:"column",maxWidth:94,paddingRight:16,gap:0},paddingLeft:8},dayOfWeekString:{...t,flexShrink:0},dateString:t}}),[l,i]),m=l?(0,v.jsx)(y().sA,{id:"notionCalendarEventDate.today",defaultMessage:"Today"}):d;return(0,v.jsxs)("div",{style:u.dateContainer,children:[(0,v.jsx)(b().A,{isSmall:!0,showTooltipWhenTruncated:!0,style:u.dayOfWeekString,children:m}),(0,v.jsx)(b().A,{isSmall:!0,showTooltipWhenTruncated:!0,style:u.dateString,children:c})]})}const Ke=i.memo(Oe);function ze(e){let{days:t,eventToAnalyticsStateStore:i}=e;const l=(0,a().s5)(),c=(0,o().IS)((e=>({container:{display:"grid",gridTemplateColumns:"[days] min-content [events] auto",rowGap:16,paddingBottom:12,paddingTop:3,alignItems:"start"},dateFullHeightContainer:{height:"100%"},dateStickyContainer:{position:"sticky",top:3,paddingTop:5},eventListContainer:{display:"flex",flexDirection:"column",height:"100%",alignItems:"start",paddingRight:d().YS,overflow:"hidden",marginLeft:-4,paddingLeft:4}})),[]);return(0,v.jsx)("div",{style:c.container,children:null==t?void 0:t.flatMap((e=>{const t=(0,n(90857).Om)(e),o=(0,s().cK)(e.date,l),a=o?(0,r().RN)(e.timedEvents.map((e=>e.baseEvent))):void 0;return[(0,v.jsx)("div",{style:c.dateFullHeightContainer,children:(0,v.jsx)("div",{style:c.dateStickyContainer,children:(0,v.jsx)(Ke,{date:e.date})})},`date_${e.date}`),(0,v.jsxs)("div",{style:c.eventListContainer,children:[0===t.length&&o?(0,v.jsx)(He,{event:"emptyTodayEventPlaceholder"}):void 0,t.map(((n,o)=>{let{baseEvent:r,allSquashedEvents:l}=n;return(0,v.jsx)(He,{date:e.date,eventToAnalyticsStateStore:i,isFirstEvent:0===o,isLastEvent:o===t.length-1,isUpcomingEvent:(null==a?void 0:a.id)===r.id,event:r,allSquashedEvents:l},_e({event:r,date:e.date}))}))]},`events_${e.date}`)]}))})}function _e(e){let{event:t,date:n}=e;return`${t.isAllDay}-${(0,l().z)(t)}-${n}`}const Ve=i.memo(ze)},702661:(e,t,n)=>{n.d(t,{m:()=>r});n(296540);var i=n(474848);const o={viewBox:"0 0 16 16",fittedViewBox:"0.05 1.61 15.52 13",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M14.437 9.042a.625.625 0 0 1 1.028.711 5.4 5.4 0 0 1-3.818 2.294v1.309h2.616l.126.012a.626.626 0 0 1 0 1.225l-.126.013h-6.48a.626.626 0 0 1 0-1.25h2.613v-1.308a5.4 5.4 0 0 1-3.625-2.037l-.19-.258-.061-.111a.626.626 0 0 1 1.007-.696l.082.096.146.2a4.14 4.14 0 0 0 3.268 1.593 4.14 4.14 0 0 0 3.414-1.793"}),(0,i.jsx)("path",{d:"M6.858 11.375c.518.46 1.113.835 1.763 1.105l.316.145H.722a.626.626 0 1 1 0-1.25zM5.763 8.708a1.5 1.5 0 0 0-.059 1.25H.721a.626.626 0 1 1 0-1.25zm5.259-7.093a2.425 2.425 0 0 1 2.424 2.425v3.28a2.425 2.425 0 1 1-4.85 0V4.04a2.426 2.426 0 0 1 2.425-2.425m0 1.25c-.649 0-1.175.526-1.175 1.175v3.28a1.176 1.176 0 0 0 2.35 0V4.04a1.176 1.176 0 0 0-1.175-1.175M7.722 7.292H.72a.626.626 0 0 1 0-1.25h7zM7.9 3.375a3.3 3.3 0 0 0-.178 1.065v.185H.72a.626.626 0 1 1 0-1.25z"})]})},r=(0,n(340498).wt)("microphoneTextSmall",o)},768407:(e,t,n)=>{n.d(t,{LE:()=>d,lj:()=>c});n(898992),n(354520);var i=n(296540),o=()=>n(56366),r=()=>n(401497),a=()=>n(919709),l=()=>n(458366),s=n(474848);const d=i.memo((function(e){const{textValue:t,type:d,useShortenedUrl:u,disableLinkify:m,withComma:g,store:h,property:v}=e,p=(0,o().K8)((()=>{if(h)return(0,n(299545).O3)(h,{includePropertyDiscussions:!0}).filter((e=>e.getPropertyId()===v))}),[h,v]),f=(0,n(358167).v)({blockId:null==h?void 0:h.id,propertyId:v}),y=p&&(null==p?void 0:p.length)>0||f,x=(0,r().IS)((e=>({linkBoxStyle:{pointerEvents:"all",display:"inline",background:void 0,...(0,l().w_)(e),...y&&(0,n(191772).sQ)(e)},hoveredLinkBoxStyle:{background:void 0,...(0,l().w_)(e)},pressedLinkBoxStyle:{background:void 0,...(0,l().w_)(e)}})),[y]),{collectionContextStore:C}=(0,i.useContext)(n(234359).L8),S=(0,o().K8)((()=>null==C?void 0:C.searchQueryStore.state),[null==C?void 0:C.searchQueryStore]),j=(0,o().K8)((()=>{if(!S||!t)return!1;const e=(0,a().k4p)(t);return null==e?void 0:e.toLowerCase().includes(S.toLowerCase())}),[S,t]),{linkHref:k,shouldShowMaliciousContentDialog:b}=(0,o().K8)((()=>(0,n(310188).K)({textValue:t||(v?null==h?void 0:h.getPropertyValue(v):void 0),type:d,store:h})),[v,h,t,d]);let I;return I=t&&"url"===d&&(u||j)?(0,s.jsx)(c,{textValue:t,searchQuery:S}):(0,a().k4p)(t),!k||m?(0,s.jsx)(s.Fragment,{children:I}):(0,s.jsxs)(n(296798).A,{href:k,onClick:e=>{(e.metaKey||e.ctrlKey)&&window.open(k,"_blank")},style:x.linkBoxStyle,hoveredStyle:x.hoveredLinkBoxStyle,pressedStyle:x.pressedLinkBoxStyle,external:!0,discussionStore:null==p?void 0:p[0],preNavigationAction:e=>{b?(0,n(465741).TW)({propertyType:"url",onConfirm:()=>{e()}}):e()},children:[I,g?", ":null]})}));function c(e){let{textValue:t,searchQuery:n}=e;const i=(0,r().IS)((e=>({restOfUrl:{color:e.text.tertiary}})),[]),{domain:o,restOfUrl:d}=(0,l().Kc)(t);if(!o)return(0,s.jsx)(s.Fragment,{children:(0,a().k4p)(t)});const c=function(e,t,n){if(!t)return;let i=t,o=!1;if(t&&n){const r=null==t?void 0:t.toLowerCase().indexOf(n.toLowerCase()),a=`${e}${t}`.toLowerCase().indexOf(n.toLowerCase());if(r>=0){let e="";r>0&&(e=`${t.slice(0,1)}`),r>1&&(e+="…");let a="";r+n.length<t.length&&(a="…"),i=`${e}${t.slice(r,r+n.length)}${a}`,o=!0}else if(a>=0&&a+n.length>e.length){const r=a+n.length-e.length;i=t.slice(0,r),r<t.length&&(i+="…"),o=!0}}!o&&t&&t.length>12&&(i=`${t.slice(0,4)}…${t.slice(-6)}`);return i}(o,d,n);return(0,s.jsxs)(s.Fragment,{children:[o,c?(0,s.jsx)("span",{style:i.restOfUrl,children:c}):null]})}},812119:(e,t,n)=>{n.d(t,{J:()=>a});n(296540);var i=()=>n(401497),o=()=>n(710149),r=n(474848);function a(e){const{widthPercentage:t,isInHomeWidget:n}=e,a=(0,i().IS)((e=>({rowContainer:{display:"flex",height:30,alignItems:"center",gap:1,alignSelf:"stretch"},circleShimmer:{width:n?12:16,height:n?12:16,flexShrink:0,borderRadius:12,backgroundColor:e.lightDividerColor},rowShimmer:{width:t||"35%",height:10,flexShrink:0,borderRadius:12,marginLeft:2,backgroundColor:e.lightDividerColor},column:{display:"flex",height:34,padding:"7px 0px",alignItems:"center",gap:6,flex:"1 0 0"}})),[t,n]);return(0,r.jsx)("div",{style:a.rowContainer,children:(0,r.jsxs)("div",{style:a.column,children:[(0,r.jsx)(o().A,{style:a.circleShimmer}),(0,r.jsx)(o().A,{style:a.rowShimmer})]})})}}}]);