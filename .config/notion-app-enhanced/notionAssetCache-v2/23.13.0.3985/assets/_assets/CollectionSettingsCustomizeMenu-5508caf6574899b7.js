"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[66592],{23272:(e,t,s)=>{s.r(t),s.d(t,{CollectionSettingsCustomizeMenu:()=>M,customizeMenuMessages:()=>f});var n=s(296540),i=()=>s(484714),o=()=>s(56366),l=()=>s(401497),a=()=>s(959013),d=()=>s(735695),r=()=>s(404637),c=()=>s(419357),u=()=>s(89924),g=()=>s(972435),S=()=>s(455338),x=()=>s(479e3),p=()=>s(416240),h=()=>s(95347),m=s(474848);const f=(0,a().YK)({searchPlaceholder:{defaultMessage:"Find or add features...",id:"database.viewSettings.customizeMenu.searchInputPlaceholder"},noResults:{defaultMessage:"No results",id:"database.viewSettings.customizeMenu.noResults"}});function M(e){const{collectionContextStore:t,collectionSettingsStore:s}=e,{isMobile:g}=(0,i().Y0)(),M=(0,a().tz)(),[j,v]=(0,n.useState)(""),y=(0,h().C5)(t),b=(0,h().wG)(t,s),w=(0,o().K8)((()=>(0,S().G)(j,b)),[j,b]),A=(0,n.useCallback)((e=>v(e.target.value)),[]),I=(0,l().IS)((()=>({header:{display:"flex",alignItems:"center"},title:{maxWidth:g?void 0:"70%",overflow:"hidden",textOverflow:"ellipsis"},searchInput:{padding:4}})),[g]);return(0,m.jsxs)(d().Ay,{...e,title:(0,m.jsx)("div",{style:I.header,children:(0,m.jsx)("div",{style:I.title,children:(0,m.jsx)(a().sA,{defaultMessage:"Customize {databaseName}",id:"database.viewSettings.customizeMenu.title",values:{databaseName:y}})})}),header:(0,m.jsx)(u().A,{style:I.searchInput,children:(0,m.jsx)(c().Ay,{focusInitial:!g,onChange:A,placeholder:M.formatMessage(f.searchPlaceholder),showClearButton:!0,value:j})}),children:[(0,m.jsx)(r().CJ,{collectionContextStore:t}),0===w.length&&j.length>0?(0,m.jsx)(C,{}):(0,m.jsx)(p().E,{collectionContextStore:t,collectionSettingsStore:s,filteredFeatures:w,isUserSearching:j.length>0}),(0,m.jsx)(x().IB,{collectionContextStore:t,collectionSettingsStore:s,showTopBorder:!0})]})}function C(){const e=(0,i().Y0)(),t=(0,l().IS)((t=>({empty:{padding:"12px 16px",fontSize:e.isMobile?14:13,fontWeight:500,color:t.text.secondary}})),[e]);return(0,m.jsx)("div",{style:t.empty,children:g().A.formatMessage(f.noResults)})}},416240:(e,t,s)=>{s.d(t,{E:()=>M});s(581454);var n=s(296540),i=()=>s(484714),o=()=>s(401497),l=()=>s(760217),a=()=>s(939740),d=()=>s(89924),r=()=>s(972435),c=()=>s(234675),u=()=>s(397089),g=()=>s(822650),S=()=>s(95347),x=()=>s(652380),p=s(474848);const h=4,m=4,f=(0,s(959013).YK)({addedTitle:{defaultMessage:"Settings",id:"database.viewSettings.customizeMenu.addedtitle"},unaddedTitle:{defaultMessage:"Suggested",id:"database.viewSettings.customizeMenu.unaddedtitle"},expandSuggested:{defaultMessage:"See all features",id:"database.viewSettings.customizeMenu.expandSuggested"},collapseSuggested:{defaultMessage:"See less",id:"database.viewSettings.customizeMenu.collapseSuggested"},expandAdded:{defaultMessage:"See more",id:"database.viewSettings.customizeMenu.expandAdded"},collapseAdded:{defaultMessage:"See less",id:"database.viewSettings.customizeMenu.collapseAdded"}});function M(e){const{collectionContextStore:t,collectionSettingsStore:s,filteredFeatures:o,isUserSearching:l}=e,r=(0,i().v3)(),M=(0,S().rD)(t),[v,y]=(0,n.useState)(!1),[b,w]=(0,n.useState)(!1),{addedFeatures:A,suggestedFeatures:I}=(0,S().Ro)(t,o),k={key:"suggested",render:e=>(0,p.jsx)(d().A,{...e,topBorder:A.length>0&&I.length>0,title:(0,p.jsx)(j,{shouldShow:I.length>0,title:f.unaddedTitle})}),items:[...(b||l?I:I.slice(0,h)).map((e=>({key:e.uri,render:n=>(0,c().l)(e)?e.getSuggestedFeatureMenuItem({collectionContextStore:t,collectionSettingsStore:s,feature:e,itemProps:n}):(0,p.jsx)(x().G,{collectionContextStore:t,collectionSettingsStore:s,feature:e,itemProps:n}),action:()=>{}}))),...I.length>h&&!l?[{key:"expand",render:e=>(0,p.jsx)(C,{menuListItemProps:e,isExpanded:b,expandTitle:f.expandSuggested,collapseTitle:f.collapseSuggested,onClick:()=>w(!b)}),action:()=>{}}]:[]]},z={key:"added",render:e=>(0,p.jsx)(d().A,{...e,title:(0,p.jsx)(j,{shouldShow:A.length>0,title:f.addedTitle})}),items:[...(v||l?A:A.slice(0,m)).map((e=>({key:e.uri,render:n=>(0,c().l)(e)?e.getAddedFeatureMenuItem({collectionContextStore:t,collectionSettingsStore:s,feature:e,itemProps:n}):(0,p.jsx)(u().jB,{collectionContextStore:t,feature:e,itemProps:n,icon:(0,p.jsx)(g().a,{feature:e}),onClick:(0,u().IM)({environment:r,feature:e,collectionContextStore:t,collectionSettingsStore:s,appConfig:M})}),action:()=>{}}))),...A.length>m&&!l?[{key:"expand",render:e=>(0,p.jsx)(C,{menuListItemProps:e,isExpanded:v,expandTitle:f.expandAdded,collapseTitle:f.collapseAdded,onClick:()=>y(!v)}),action:()=>{}}]:[]]},T=[...A.length>0?[z]:[],...I.length>0?[k]:[]];return(0,p.jsx)(a().Ay,{disableInitialScroll:!0,type:a().Oh.Vertical,initialFocus:void 0,resetFocusOnMouseOut:!0,sections:T})}function C(e){const{menuListItemProps:t,isExpanded:s,collapseTitle:n,expandTitle:a,onClick:d}=e,c=(0,i().Y0)(),u=(0,o().IS)((e=>({expandButton:{display:"flex",alignItems:"center",color:e.text.tertiary},expandButtonTitle:{fontSize:c.isMobile?14:12,padding:"2px 0"}})),[c]);return(0,p.jsx)(l().A,{...t,style:u.expandButton,onClick:d,title:(0,p.jsx)("div",{style:u.expandButtonTitle,children:s?r().A.formatMessage(n):r().A.formatMessage(a)})})}function j(e){const{shouldShow:t,title:s}=e,n=(0,i().Y0)(),l=(0,o().IS)((()=>({header:{fontSize:n.isMobile?14:12}})),[n]);return t?(0,p.jsx)("div",{style:l.header,children:r().A.formatMessage(s)}):null}}}]);