"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[2411,5834,34208,99171],{87017:(e,t,o)=>{o.r(t),o.d(t,{duplicateBlocks:()=>I,duplicateBlocksWithMaybeConfirmation:()=>w,insertBlockAbove:()=>R,insertBlockAndEdit:()=>F,insertBlockBelow:()=>x,insertTextAbove:()=>M,insertTextBelow:()=>A});o(18107),o(944114),o(967357);var n=()=>o(908006),i=()=>o(206267),c=()=>o(496603),l=()=>o(855801),a=()=>o(466614),r=()=>o(60867),s=()=>o(669548),d=()=>o(901389),u=()=>o(620689),p=()=>o(797265),v=()=>o(751156),m=()=>o(838256),k=()=>o(521358),f=()=>o(807700),g=()=>o(799832),b=()=>o(413962),h=()=>o(405417),S=()=>o(755206),C=()=>o(53664),y=()=>o(393255),_=()=>o(77246),B=()=>o(502438),T=()=>o(611371);async function w(e){const{environment:t,blocks:o,duplicateOnlyCollectionSchema:i,callback:c}=e;if(!(0,T().EF)(t))return;const a=await l().VI.duplicateActions.load();let s=o;if(1===o.length){const e=await k().rW({environment:t,block:o[0],action:"duplicate"});if("user_canceled"===e)return void(null==c||c());s=e}const d=s.at(0);if(!d)return;const p=(0,g().U)(d);if(p&&(0,h().ls)(d,p))await r().un({blocks:s,environment:t,analyticsFrom:"subitem_duplication",callback:c,collectionContextStore:p});else{const{serverCommitResult:e}=v().createAndCommit({userAction:"actionRegistry.duplicateToSelection",environment:t,canUndo:!0,perform:e=>{I({environment:t,blocks:s,transaction:e,preferDuplicateLocation:"local",duplicateOnlyCollectionSchema:i,duplicateActions:a})},transactionTooBigFallback:e=>{I({environment:t,blocks:s,transaction:e,preferDuplicateLocation:"server",duplicateOnlyCollectionSchema:i,duplicateActions:a})}});e.then(c)}n().default.afterNextFlush((()=>{u().BM({environment:t})}))}function I(e){const{environment:t,blocks:o,transaction:n,preferDuplicateLocation:i,lastTopLevelBlockStore:l,preventSetSelection:r,duplicateOnlyCollectionSchema:s,duplicateActions:u}=e,v=c().$z(o,(e=>e.getFormat().app_id??e.id)),m=[];return c().jJ(v,(e=>{const o=e[0],{blockStores:c,onComplete:l}=u.duplicateBlock({environment:t,stores:e,transaction:n,targetSpaceId:o.getSpaceId(),preferDuplicateLocation:i,options:{addCopyName:(0,C().A)(o),allowRedundancy:!1,deepCopyTransclusionContainers:!o.isTransclusionType(),resolveTemplateVariables:!(0,f().l)(o),duplicateOnlyCollectionSchema:s}});m.push(...c),l.then((e=>{if("error"===e.status){const o=e.error;a().Rk(o)?a().UK(t,{product:o.clientData.metadata.product}):d().f1(e.errorMessage)}}))})),p().LE({blocksToInsert:m,target:l?[l]:o,environment:t,transaction:n,replaceEmptyTextBlock:!1,preventSetSelection:r}),m}function x(e){const{environment:t,createBlockItem:o,selection:n,transaction:i,analyticsFrom:c,preventSetSelection:l}=e,a=B().default.getCurrentRecordCache(),r=new(m().UF)({environment:t,userFlow:"page"===(null==o?void 0:o.blockType)?"user_flow_create_page":"user_flow_create_block",succeedOnEnqueue:!0});let d;if((0,T().EF)(t)&&o&&a){const e=s().w({environment:t,createBlockItem:o,transaction:i,inMemoryRecordCache:a,from:c,selection:n});r.track(e.pointer,i),d=p().LE({environment:t,blocksToInsert:[e],target:n,transaction:i,replaceEmptyTextBlock:!1,preventSetSelection:l})[0]}else r.fail("invalid_state");return d}function R(e){const{environment:t,createBlockItem:o,selection:n,transaction:i,analyticsFrom:c,preventSetSelection:l}=e,a=B().default.getCurrentRecordCache();let r;if((0,T().EF)(t)&&o&&a){const e=s().w({environment:t,createBlockItem:o,transaction:i,inMemoryRecordCache:a,from:c,selection:n});r=p().t1({environment:t,blocks:[e],selection:n,transaction:i,preventSetSelection:l})[0]}return r}function F(e){const{environment:t,selection:o,transaction:n}=e,c=x({...e,preventSetSelection:!0});if(c){var l;p().x5({environment:t,insertedStores:[c],isCreated:!0});const e=_().Uv.getMode(c);if("suggest"===e){const e=b().RR(t,n,c);b().tM(n,c,{id:i().JW(),type:"insert",discussionId:e.id}),b().c3({environment:t,transaction:n,discussionStore:e,addModifiedBlockIdsAfter:[c.id]})}"suggest"===e&&null!==(l=c.getNavigableBlockStore({skipCurrent:!0}))&&void 0!==l&&l.isCommentOnly()||p().um({transaction:n,blocks:o})}return c}function A(e){const{blocks:t,transaction:o,environment:i,skipAnalytics:c}=e,l=c?void 0:"text_insert_below",a=x({environment:i,selection:t,createBlockItem:S().ry.text,analyticsFrom:l,transaction:o});return a&&n().default.afterNextFlush((()=>{y().zz({environment:i,blockStore:a,insertedTextBlockLocation:"below"})})),a}function M(e){const{blocks:t,transaction:o,environment:i,skipAnalytics:c}=e,l=c?void 0:"text_insert_below",a=R({environment:i,selection:t,createBlockItem:S().ry.text,analyticsFrom:l,transaction:o});return a&&n().default.afterNextFlush((()=>{y().zz({environment:i,blockStore:a,insertedTextBlockLocation:"above"})})),a}},669548:(e,t,o)=>{o.d(t,{w:()=>d});o(16280),o(18107),o(967357);var n=()=>o(388821),i=()=>o(179034),c=()=>o(184468),l=()=>o(594794),a=()=>o(765957),r=()=>o(970330),s=()=>o(863168);function d(e){var t,o,d;const{environment:u,createBlockItem:p,from:v,inMemoryRecordCache:m,transaction:k,selection:f}=e;if(!p.templateRootBlockId||!p.createTemplate)throw new Error("Invalid createBlock item.");const g=(f.length>0?f[0].getSpaceId():void 0)??(null===(t=a().default.state.currentSpaceStore)||void 0===t?void 0:t.id)??(null===(o=a().default.state.mainEditorCurrentBlockStore)||void 0===o?void 0:o.getSpaceId()),b=g?u.idCreator.getSpaceIdCreatorSync(g):void 0,{targetBlockStore:h}=(0,c().j)({environment:u,sourceBlockId:p.templateRootBlockId,targetBlockPointer:(0,l().zP)({environment:u,table:i().ev,spaceId:g}),sourceBlockSubtree:(0,n().partialRecordMapToRecordMap)(p.createTemplate(u)),targetRecordCache:m,transaction:k,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!1,spaceIdCreator:b});if(null===(d=p.postCreateCallback)||void 0===d||d.call(p,h,u,k),s().eY({environment:u,store:h,transaction:k}),v&&p.blockType){var S,C;const e=p.collectionViewType,t="full_page"===e,o=0!==f.length?null===(S=f[0])||void 0===S?void 0:S.getParentCollectionIdUpToTwoLevels():void 0;let n,i,c,l;if("chart"===e){var y,_;const e=null===(y=h.getCollectionViewStores())||void 0===y?void 0:y.at(0);n=null==e||null===(_=e.getChartConfig())||void 0===_?void 0:_.type,i=null==e?void 0:e.getChartPlaceholderType()}if("form_editor"===e){var B;const e=null===(B=h.getCollectionViewStores())||void 0===B?void 0:B.at(0),t=null==e?void 0:e.getFormBlockStore();c=null==t?void 0:t.id,l=null==e?void 0:e.id}r().v(u,{from:v,type:p.blockType,collection_id:h.getAssociatedCollectionId()??(null===(C=h.getCollectionStore())||void 0===C?void 0:C.id),view_type:"inline"===e||"full_page"===e?"table":e,is_toggleable:p.isToggleable,automation_id:h.getAutomationId(),new_page_id:"page"===p.blockType?h.id:void 0,creating_block_id:h.id,parent_collection_id:o,is_full_screen:t,chart_type:"placeholder"===n?i:n,is_chart_placeholder:"placeholder"===n,form_id:c,view_id:l})}return h}},735790:(e,t,o)=>{o.d(t,{M:()=>c});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.25 15.25 11.5",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M3 7.375h6.829a2.501 2.501 0 0 0 4.842 0H17a.625.625 0 1 0 0-1.25h-2.329a2.501 2.501 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25M12.25 5.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M7.75 15.75a2.5 2.5 0 0 0 2.421-1.875H17a.625.625 0 1 0 0-1.25h-6.829a2.5 2.5 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25h2.329A2.5 2.5 0 0 0 7.75 15.75m0-1.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"})]})},c=(0,o(340498).wt)("sliders",i)}}]);