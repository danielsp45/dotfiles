"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[98288],{132855:(e,t,n)=>{n.r(t),n.d(t,{arrowInCircleUpFillIcon:()=>o,iconDefinition:()=>l});n(296540);const l={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,n(474848).jsx)("path",{d:"M10 17.625a7.625 7.625 0 1 0 0-15.25 7.625 7.625 0 0 0 0 15.25m3.042-8.07a.625.625 0 0 1-.884 0L10.625 8.02v5.466a.625.625 0 1 1-1.25 0V8.021L7.842 9.554a.625.625 0 1 1-.884-.883l2.6-2.6a.625.625 0 0 1 .884 0l2.6 2.6a.625.625 0 0 1 0 .883"})},o=(0,n(340498).wt)("arrowInCircleUpFill",l)},198491:(e,t,n)=>{n.d(t,{A:()=>c,e:()=>s});n(296540);var l=()=>n(662303),o=()=>n(959013),i=()=>n(412236),a=n(474848);function s(e){let{upsellTier:t}=e;return(0,a.jsx)(o().sA,{defaultMessage:"Upgrade to {upsellTier, select, plus {Plus} business {Business} enterprise {Enterprise} other {connect}}",id:"collectionSettings.connectedRelationUpsell.title",values:{upsellTier:t}})}function c(e){let{upsellTier:t,expirationDate:n,hasLearnMore:s}=e;return n?(0,a.jsx)(o().sA,{defaultMessage:"{upsellTier, select, plus {Plus plan} business {Business plan} enterprise {Enterprise plan} other {Upgrade}} will be required to access this feature starting on {expirationDate} {hasLearnMore, select, true {{learnMoreLink}} other {} }",id:"collectionSettings.collectionPremiumFeatureUpsell.expiration.description",values:{upsellTier:t,expirationDate:n.setLocale(l().locale).toLocaleString({month:"long",day:"numeric"}),hasLearnMore:s,learnMoreLink:(0,a.jsx)(i().V,{})}}):(0,a.jsx)(o().sA,{defaultMessage:"Upgrade {upsellTier, select, plus { to Plus} business { to Business} enterprise { toEnterprise} other {}} to use this feature {hasLearnMore, select, true {{learnMoreLink}} other {} }",id:"collectionSettings.collectionPremiumFeatureUpsell.noExpiration.description",values:{upsellTier:t,hasLearnMore:s,learnMoreLink:(0,a.jsx)(i().V,{})}})}},210314:(e,t,n)=>{n.d(t,{u:()=>o});n(296540);var l=n(474848);const o=(0,n(340498).wt)("unsync",{viewBox:"0 0 30 30",svg:(0,l.jsxs)("g",{children:[(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.768 23.295l1.353 1.351a11.298 11.298 0 01-6.118 1.81c-5.862 0-10.781-4.538-11.387-10.254h-1.55c-.809 0-1.011-.55-.573-1.168l2.516-3.572c.37-.527.91-.516 1.269 0l2.515 3.583c.427.606.225 1.157-.572 1.157H5.536a9.496 9.496 0 009.467 8.344c1.74 0 3.366-.454 4.765-1.251zM10.233 6.723l-1.361-1.36a11.26 11.26 0 016.131-1.818c5.851 0 10.782 4.548 11.388 10.265h1.539c.808 0 1.021.539.572 1.167l-2.504 3.572c-.37.528-.91.516-1.27 0l-2.515-3.583c-.427-.617-.224-1.156.573-1.156h1.673a9.503 9.503 0 00-9.456-8.356 9.55 9.55 0 00-4.77 1.27z"}),(0,l.jsx)("path",{d:"M27.067 28.551c.41.41 1.094.41 1.49 0 .41-.41.41-1.08 0-1.49L2.937 1.454a1.06 1.06 0 00-1.505 0c-.396.396-.396 1.08 0 1.49l25.635 25.607z"})]})})},244399:(e,t,n)=>{n.r(t),n.d(t,{ExternalImportAndSyncIndicator:()=>G});var l=n(296540),o=()=>n(662303),i=()=>n(484714),a=()=>n(56366),s=()=>n(401497),c=()=>n(869190),r=()=>n(651124),d=()=>n(278238),p=()=>n(519143),y=()=>n(663640),u=()=>n(796073),g=()=>n(210314),x=()=>n(179034),m=()=>n(824862),S=()=>n(519831),h=()=>n(959013),f=()=>n(381349),v=()=>n(284371),_=()=>n(686526),j=()=>n(664133),C=()=>n(2220),T=()=>n(635676),I=()=>n(504836),b=()=>n(972435),w=()=>n(836251),A=()=>n(907514),k=()=>n(963589),L=()=>n(254526),M=()=>n(962730),B=()=>n(765957),F=()=>n(217429),H=()=>n(994641),V=()=>n(666803),z=()=>n(630116),P=()=>n(464708),E=()=>n(493823),D=()=>n(187485),N=()=>n(296798),K=()=>n(859428),U=n(474848);const R={viewBox:"0 0 16 16",fittedViewBox:"0.07 1.87 15.86 12.26",svg:(0,U.jsx)("path",{d:"M8 1.875A6.125 6.125 0 0 0 1.875 8v1.08l-.736-.736a.625.625 0 1 0-.884.884l1.803 1.803c.244.244.64.244.884 0l1.803-1.803a.625.625 0 1 0-.884-.884l-.736.736V8a4.875 4.875 0 0 1 7.605-4.04.625.625 0 0 0 .701-1.034A6.1 6.1 0 0 0 8 1.875m5.942 3.094a.625.625 0 0 0-.884 0l-1.803 1.803a.625.625 0 1 0 .884.884l.736-.736V8a4.875 4.875 0 0 1-7.605 4.04.625.625 0 1 0-.701 1.034A6.125 6.125 0 0 0 14.125 8V6.92l.736.736a.625.625 0 0 0 .884-.884z"})},W=(0,n(340498).wt)("arrowCircleLoopSmall",R);function J(e){var t;const{store:n}=e,o=(0,a().K8)((()=>n.isCollectionView()),[n]),i=(0,a().K8)((()=>{var e;let t;if(n.table===x().ev)if(n.isCollectionView())t=n.getCollectionStore();else{const e=n.getParentStore();(null==e?void 0:e.table)===S().Vl&&(t=e)}return null===(e=t)||void 0===e?void 0:e.getFormat()}),[n]),c=Boolean(null==i||null===(t=i.sync_state)||void 0===t?void 0:t.syncing),d=(0,s().IS)((e=>({wrapper:{display:"flex",alignItems:"center",gap:6,paddingLeft:6,paddingRight:6},syncIcon:{width:14,height:14,position:"relative",color:e.icon.uiBluePrimary},syncProgress:{fontWeight:v().Wy.medium,fontSize:14,color:e.text.secondary},badge:{background:"none",whiteSpace:"nowrap",width:"fit-content",height:28,display:"flex",marginBottom:5,borderRadius:20,padding:"2px 6px",...!o&&{marginTop:8}}})),[o]),p=(0,l.useCallback)((()=>o&&c?{syncBadgeContent:(0,U.jsx)("span",{style:d.syncProgress,children:(0,U.jsx)(h().sA,{id:"PageTitle.ImportSync.syncInProgress.title",defaultMessage:"Importing CSV",values:{integration:null==i?void 0:i.external_collection_type}})})}:{}),[i,o,d,c]);if(!(i&&i.static_import_collection_type&&o&&i.static_import_collection_type===r().IE.CsvImport&&c))return null;const{syncBadgeContent:y}=p();return(0,U.jsx)("div",{style:{alignSelf:"end",display:"inline-block"},children:(0,U.jsx)(P().A,{style:d.badge,content:(0,U.jsxs)("div",{style:d.wrapper,children:[W(d.syncIcon),y]})})})}var O=()=>n(948049);const X=(0,h().YK)({botDisconnectedTitle:{id:"CollectionViewBlockHeaderActions.ExternalSync.botDisconnected.title",defaultMessage:"Sync has stopped"},botDisconnectedTooltipHeading:{id:"CollectionViewBlockHeaderActions.ExternalSync.botDisconnected.tooltip.heading",defaultMessage:"Re-authenticate to continue syncing. Last updated {lastEditedTimeNormalized}"},botDisconnectedTooltipCaption:{id:"CollectionViewBlockHeaderActions.ExternalSync.botDisconnected.tooltip.caption",defaultMessage:"Click to view the help center"},syncFailedTitle:{id:"CollectionViewBlockHeaderActions.ExternalSync.syncFailed.title",defaultMessage:"Sync failed"},syncFailedTooltipHeading:{id:"CollectionViewBlockHeaderActions.ExternalSync.syncFailed.tooltip.heading",defaultMessage:"Failed to sync some projects"},syncFailedTooltipCaption:{id:"CollectionViewBlockHeaderActions.ExternalSync.syncFailed.tooltip.caption",defaultMessage:"Click to view the help center"},syncInProgressTitle:{id:"CollectionViewBlockHeaderActions.ExternalSync.syncInProgress.title",defaultMessage:"Syncing"},syncInProgressTooltipHeading:{id:"CollectionViewBlockHeaderActions.ExternalSync.syncInProgress.tooltip.heading",defaultMessage:"Syncing and updating issues from {site}"},collectionLastSyncedTitle:{id:"CollectionViewBlockHeaderActions.ExternalSync.collectionLastSynced.title",defaultMessage:"Synced with {integration}"},collectionLastSyncedSubtitle:{id:"CollectionViewBlockHeaderActions.ExternalSync.collectionLastSynced.subtitle",defaultMessage:"{lastUpdated}"},collectionLastSyncedTimestampAlt:{id:"CollectionViewBlockHeaderActions.ExternalSync.collectionLastSynced.subtitleAlt",defaultMessage:"Synced"},collectionLastSyncedTooltipHeading:{id:"CollectionViewBlockHeaderActions.ExternalSync.collectionLastSynced.tooltip.heading",defaultMessage:"Last updated {lastEditedTimeNormalized}"},collectionLastSyncedTooltipCaption:{id:"CollectionViewBlockHeaderActions.ExternalSync.collectionLastSynced.tooltip.caption",defaultMessage:"Click to view the help center"},pageLastSyncedTitle:{id:"CollectionViewBlockHeaderActions.ExternalSync.pageLastSynced.title",defaultMessage:"Synced with {integration}"},pageLastSyncedTimestampSubtitle:{id:"CollectionViewBlockHeaderActions.ExternalSync.pageLastSynced.subtitle",defaultMessage:"{lastUpdated}"},pageLastSyncedTooltipHeading:{id:"CollectionViewBlockHeaderActions.ExternalSync.pageLastSynced.tooltip.heading",defaultMessage:"Last updated {lastEditedTimeNormalized}"},pageLastSyncedTooltipCaption:{id:"CollectionViewBlockHeaderActions.ExternalSync.pageLastSynced.tooltip.caption",defaultMessage:"Click to view the help center"},reAuthenticateAccount:{id:"CollectionViewBlockHeaderActions.ExternalSync.syncFailed.reauth",defaultMessage:"Re-authenticate account"}});function G(e){const{store:t,v2:n=!1,collectionContextStore:l}=e,o=(0,a().K8)((()=>{var e;let n;if(t.table===S().Vl)n=t;else if(t.table===x().ev)if(t.isCollectionView())n=t.getCollectionStore();else{const e=t.getParentStore();(null==e?void 0:e.table)===S().Vl&&(n=e)}return null===(e=n)||void 0===e?void 0:e.getFormat()}),[t]),i=(0,k().X)("jira_sync_indicator_v2");return n&&(null==o?void 0:o.static_import_collection_type)===r().IE.CsvImport&&e.store.table===x().ev?(0,U.jsx)(J,{store:e.store}):n?l&&(i&&(null==o?void 0:o.external_collection_type)===r().uO.Jira||(null==o?void 0:o.external_collection_type)===r().uO.Salesforce)?(0,U.jsx)(q,{store:t,collectionContextStore:l,hideText:e.hideText}):null:i||(null==o?void 0:o.external_collection_type)!==r().uO.Jira?null:(0,U.jsx)(Y,{...e})}function Y(e){const t=(0,i().v3)(),{store:n}=e,p=(0,a().K8)((()=>{var e,t,l,i,a;const s=n.table===S().Vl||n.table===x().ev&&n.isCollectionView(),r=s?n.table===S().Vl?n:n.getCollectionStore():null==n?void 0:n.getParentStore();if(r&&r.table!==S().Vl)return;const d=null==r?void 0:r.getFormat(),p={errorStatusCode:null==d||null===(e=d.error)||void 0===e?void 0:e.status_code,isCollection:s,isSyncFailed:Boolean(null==d||null===(t=d.error)||void 0===t?void 0:t.status_code),isSyncing:Boolean(null==d||null===(l=d.sync_state)||void 0===l?void 0:l.syncing),botId:null==d?void 0:d.bot_id,collectionSyncedTime:null==d||null===(i=d.sync_state)||void 0===i?void 0:i.last_synced_at,collectionSyncedTimeNormalized:null!=d&&null!==(a=d.sync_state)&&void 0!==a&&a.last_synced_at?(0,c().jE)(d.sync_state.last_synced_at,o().locale,b().A.getIntl()):void 0,pageSyncedTime:void 0,pageSyncedTimeNormalized:void 0,synced_collection_external_url:null==d?void 0:d.synced_collection_external_url,external_collection_type:null==d?void 0:d.external_collection_type,external_collection_instance_type:null==d?void 0:d.synced_collection_instance_type,collectionId:null==r?void 0:r.id};return F().default.checkGate({gateName:"show_collection_pill_at_page_level_for_jira"})?(p.pageSyncedTime=p.collectionSyncedTime,p.pageSyncedTimeNormalized=p.collectionSyncedTimeNormalized):s||(p.pageSyncedTime=n.getLastEditedTime(),p.pageSyncedTimeNormalized=(0,c().jE)(n.getLastEditedTime(),o().locale,b().A.getIntl())),p}),[n]),{isCollection:y,isSyncing:_,isSyncFailed:T,external_collection_type:k,synced_collection_external_url:L,botId:H,collectionId:E,collectionSyncedTime:R,collectionSyncedTimeNormalized:W,pageSyncedTime:J,pageSyncedTimeNormalized:G}=p||{},Y=(0,a().K8)((()=>{const e=B().default.state.currentSpaceStore;if(H&&e){const t=z().vK.createChildStore(e,{table:m().GP,id:H,spaceId:e.id});return!!t.isDefined()&&!t.getAlive()}return!1}),[H]),q=Y||T&&y,$=(0,s().IS)((e=>({container:{display:"flex",alignSelf:"end",alignItems:"center",marginTop:6,...y&&{marginBottom:5}},wrapper:{display:"flex",alignItems:"center",gap:6},syncIcon:{width:14,height:14,position:"relative",color:q?e.icon.uiYellowPrimary:e.blueColor},syncProgress:{fontWeight:v().Wy.medium,fontSize:t.device.isMobile?v().J.UISmall.desktop:v().J.UIRegular.desktop,color:q?e.text.primary:e.blueColor},syncAge:{fontWeight:v().Wy.regular,fontSize:t.device.isMobile?v().J.UISmall.desktop:v().J.UIRegular.desktop,color:f().Ay.blueWithAlpha(.7)},badge:{background:"light"===e.mode?q?e.fill.yellowSecondary:f().Ay.diffBackground:"rgba(35, 131, 226, 0.2)",whiteSpace:"nowrap",width:"fit-content",height:28,display:"flex",borderRadius:20,padding:"2px 8px 2px 6px"},tooltipHeading:{fontSize:v().J.UISmall.desktop,fontWeight:v().Wy.medium},tooltipCaption:{fontSize:v().J.UISmall.desktop,color:d().l8.dark.gray,fontWeight:v().Wy.regular},reauthCta:{color:e.text.secondary,marginLeft:12}})),[t,y,q]),Q=(0,l.useCallback)((()=>Y?{syncBadgeContent:(0,U.jsx)("span",{style:$.syncProgress,children:(0,U.jsx)(h().sA,{...X.botDisconnectedTitle,values:{integration:k}})}),syncBadgeTooltipContent:(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{style:$.tooltipHeading,children:(0,U.jsx)(h().sA,{...X.botDisconnectedTooltipHeading,values:{lastEditedTimeNormalized:W}})}),(0,U.jsx)("div",{style:$.tooltipCaption,children:(0,U.jsx)(h().sA,{...X.botDisconnectedTooltipCaption})})]}),syncSecondaryAction:(0,U.jsx)(N().A,{inline:!0,style:$.reauthCta,hoveredStyle:{background:"none",textDecoration:"underline"},onClick:()=>{(0,C().u)({environment:t,event:{eventName:"external_sync_setup_action",eventProperties:{actionType:"sync_label_reconnect_account_cta_click",integration:"jira",collectionId:E,flowId:V().Ay.createNewFlowId()}}}),j().jh({environment:t,from:"sync_header",action:"add_account"})},children:(0,U.jsx)(h().sA,{...X.reAuthenticateAccount})})}:y?T?{syncBadgeContent:(0,U.jsx)("span",{style:$.syncProgress,children:(0,U.jsx)(h().sA,{...X.syncFailedTitle,values:{integration:k}})}),syncBadgeTooltipContent:(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{style:$.tooltipHeading,children:(0,U.jsx)(h().sA,{...X.syncFailedTooltipHeading})}),(0,U.jsx)("div",{style:$.tooltipCaption,children:(0,U.jsx)(h().sA,{...X.syncFailedTooltipCaption})})]})}:_?{syncBadgeContent:(0,U.jsx)("span",{style:$.syncProgress,children:(0,U.jsx)(h().sA,{...X.syncInProgressTitle,values:{integration:k}})}),syncBadgeTooltipContent:(0,U.jsx)("div",{style:$.tooltipHeading,children:(0,U.jsx)(h().sA,{...X.syncInProgressTooltipHeading,values:{site:(0,I().ay)(L||"")}})})}:{syncBadgeContent:(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("span",{style:$.syncProgress,children:(0,U.jsx)(h().sA,{...X.collectionLastSyncedTitle,values:{integration:k}})}),R&&(0,U.jsx)("span",{style:$.syncAge,children:(0,U.jsx)(h().sA,{...X.collectionLastSyncedSubtitle,values:{lastUpdated:(0,A().nl)(R,{useLowercase:!0})}})})]}),syncBadgeTooltipContent:(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{style:$.tooltipHeading,children:(0,U.jsx)(h().sA,{...X.collectionLastSyncedTooltipHeading,values:{lastEditedTimeNormalized:W}})}),(0,U.jsx)("div",{style:$.tooltipCaption,children:(0,U.jsx)(h().sA,{...X.collectionLastSyncedTooltipCaption})})]})}:{syncBadgeContent:(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("span",{style:$.syncProgress,children:(0,U.jsx)(h().sA,{...X.pageLastSyncedTitle,values:{integration:k}})}),J&&(0,U.jsx)("span",{style:$.syncAge,children:(0,U.jsx)(h().sA,{...X.pageLastSyncedTimestampSubtitle,values:{lastUpdated:(0,A().nl)(J,{useLowercase:!0})}})})]}),syncBadgeTooltipContent:(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("div",{style:$.tooltipHeading,children:(0,U.jsx)(h().sA,{...X.pageLastSyncedTooltipHeading,values:{lastEditedTimeNormalized:G}})}),(0,U.jsx)("div",{style:$.tooltipCaption,children:(0,U.jsx)(h().sA,{...X.pageLastSyncedTooltipCaption})})]})}),[t,_,y,$,J,G,R,W,T,k,L,Y,E]);if(!k||y&&!R)return null;const{syncBadgeContent:Z,syncBadgeTooltipContent:ee,syncSecondaryAction:te}=Q(),ne=()=>(0,U.jsx)("div",{style:{alignSelf:"end",display:"inline-block"},children:(0,U.jsx)(D().A,{className:"notion-print-ignore",href:(0,w().xS)("guides.externalImportAndSync"),external:!0,children:(0,U.jsx)(P().A,{style:$.badge,content:(0,U.jsxs)("div",{style:$.wrapper,children:[T||Y?(0,g().u)($.syncIcon):(0,u().$)($.syncIcon),Z]})})})});let le;return(null==p?void 0:p.external_collection_type)===r().uO.Jira&&(le="jira-dc"===(null==p?void 0:p.external_collection_instance_type)?"collection_synced_database_jira_datacenter":"collection_synced_database_jira"),(0,U.jsxs)("div",{style:$.container,children:[ee?(0,U.jsx)(K().A,{renderTooltip:()=>ee,render:e=>(0,U.jsx)("div",{...e,children:ne()}),placement:M().W.Bottom}):ne(),te,le?(0,U.jsx)(O().m,{featureName:le}):null]})}function q(e){const{store:t,collectionContextStore:n,hideText:r=!1}=e,u=(0,h().tz)(),g=(0,a().K8)((()=>t.table===x().ev&&t.getCreatedById()===n.getCurrentUserId()),[t,n]),f=(0,a().K8)((()=>{var e,t,l,i,a;const s=n.collectionStore();if(s&&s.table!==S().Vl)return{};const r=null==s?void 0:s.getFormat();return{errorStatusCode:null==r||null===(e=r.error)||void 0===e?void 0:e.status_code,isCollection:!0,isSyncFailed:Boolean(null==r||null===(t=r.error)||void 0===t?void 0:t.status_code),isSyncing:Boolean(null==r||null===(l=r.sync_state)||void 0===l?void 0:l.syncing),botId:null==r?void 0:r.bot_id,collectionSyncedTime:null==r||null===(i=r.sync_state)||void 0===i?void 0:i.last_synced_at,collectionSyncedTimeNormalized:null!=r&&null!==(a=r.sync_state)&&void 0!==a&&a.last_synced_at?(0,c().jE)(r.sync_state.last_synced_at,o().locale,b().A.getIntl()):void 0,pageSyncedTime:void 0,pageSyncedTimeNormalized:void 0,synced_collection_external_url:null==r?void 0:r.synced_collection_external_url,external_collection_type:null==r?void 0:r.external_collection_type,external_collection_instance_type:null==r?void 0:r.synced_collection_instance_type,collectionId:null==s?void 0:s.id}}),[n]),j=(0,a().K8)((()=>{const e=B().default.state.currentSpaceStore;if(f.botId&&e){const t=z().vK.createChildStore(e,{table:m().GP,id:f.botId,spaceId:e.id});if("Salesforce"===f.external_collection_type&&g){return"connected"!==(0,L().i_)(t).status}return!!t.isDefined()&&!t.getAlive()}return!1}),[f.botId,f.external_collection_type,g]),C=(0,i().WS)(),w=j||f.isSyncFailed&&!f.isSyncing&&f.isCollection,A=(0,a().K8)((()=>{const e="report"===H().A.state.type?H().A.state:void 0;return!!e&&(e.collectionId===f.collectionId&&"started"===e.status)}),[f.collectionId]);(0,l.useEffect)((()=>{A&&j&&void 0===f.collectionSyncedTime&&g&&_().eM({collectionSettingsStore:null==n?void 0:n.settingsStore,source:"external_source"})}),[j,A,f.collectionSyncedTime,null==n?void 0:n.settingsStore,g]);const k=(0,s().IS)((e=>({container:{display:"flex",alignSelf:"end",alignItems:"center",marginTop:6,marginBottom:5},badge:{background:"none",whiteSpace:"nowrap",width:"fit-content",height:28,display:"flex",borderRadius:20,padding:"2px 8px 2px 6px"},tooltipHeading:{fontSize:v().J.UISmall.desktop,fontWeight:v().Wy.medium},tooltipCaption:{fontSize:v().J.UISmall.desktop,color:d().l8.dark.gray,fontWeight:v().Wy.regular},button:{padding:0,background:w?"rgba(251, 245, 228, 1)":e.palette.translucentGray[75]},buttonHovered:{background:w?"rgba(251, 237, 214, 1)":e.palette.translucentGray[200]}})),[w]),M=(0,s().IS)((e=>({wrapper:{display:"flex",alignItems:"center",gap:6},integrationIcon:{width:16,height:16,position:"relative",color:w?e.icon.uiYellowPrimary:e.blueColor},syncIcon:{width:20,height:20,position:"relative",color:w?e.icon.uiYellowPrimary:e.blueColor},syncProgress:{fontWeight:v().Wy.medium,fontSize:C?v().J.UISmall.desktop:v().J.UIRegular.desktop,color:w?e.text.primary:e.blueColor},syncFailedText:{fontWeight:v().Wy.medium,fontSize:C?v().J.UISmall.desktop:v().J.UIRegular.desktop,color:e.text.uiYellowPrimary},syncDefaultText:{fontWeight:v().Wy.medium,fontSize:v().J.UIRegular.desktop,color:e.text.secondary}})),[w,C]),F=(0,l.useMemo)((()=>{const e=f.external_collection_type?T().l[f.external_collection_type]:"";return j?{icon:(0,y().i)(M.syncIcon),content:(0,U.jsx)("span",{style:M.syncFailedText,children:(0,U.jsx)(h().sA,{...X.syncFailedTitle})}),tooltipContent:{heading:u.formatMessage(X.botDisconnectedTooltipHeading,{lastEditedTimeNormalized:f.collectionSyncedTimeNormalized}),caption:u.formatMessage(X.botDisconnectedTooltipCaption)}}:f.isCollection?f.isSyncFailed?{icon:(0,y().i)(M.syncIcon),content:(0,U.jsx)("span",{style:M.syncFailedText,children:(0,U.jsx)(h().sA,{...X.syncFailedTitle})}),tooltipContent:{heading:u.formatMessage(X.syncFailedTooltipHeading),caption:u.formatMessage(X.syncFailedTooltipCaption)}}:f.isSyncing?{icon:(0,p().D)(M.syncIcon),content:(0,U.jsx)("span",{style:M.syncDefaultText,children:(0,U.jsx)(h().sA,{...X.syncInProgressTitle})}),tooltipContent:{heading:u.formatMessage(X.syncInProgressTooltipHeading,{site:(0,I().ay)(f.synced_collection_external_url||"")})}}:{icon:(0,U.jsx)("img",{style:{...M.integrationIcon,marginRight:2},src:e,alt:"External integration icon"}),content:!r&&f.collectionSyncedTime&&(0,U.jsx)("span",{style:M.syncDefaultText,children:(0,U.jsx)(h().sA,{...X.collectionLastSyncedTimestampAlt})}),tooltipContent:{heading:u.formatMessage(X.collectionLastSyncedTooltipHeading,{lastEditedTimeNormalized:f.collectionSyncedTimeNormalized})}}:{icon:(0,U.jsx)("img",{style:{...M.integrationIcon,marginRight:2},src:e,alt:"External integration icon"}),content:(0,U.jsxs)(U.Fragment,{children:[(0,U.jsx)("span",{style:M.syncProgress,children:(0,U.jsx)(h().sA,{...X.pageLastSyncedTitle,values:{integration:f.external_collection_type}})}),f.pageSyncedTime&&(0,U.jsx)("span",{style:M.syncDefaultText,children:(0,U.jsx)(h().sA,{...X.pageLastSyncedTimestampSubtitle})})]}),tooltipContent:{heading:u.formatMessage(X.pageLastSyncedTooltipHeading,{lastEditedTimeNormalized:f.pageSyncedTimeNormalized}),caption:u.formatMessage(X.pageLastSyncedTooltipCaption)}}}),[j,f.isCollection,f.external_collection_type,f.pageSyncedTime,f.pageSyncedTimeNormalized,f.collectionSyncedTimeNormalized,f.isSyncFailed,f.isSyncing,f.collectionSyncedTime,f.synced_collection_external_url,M.syncProgress,M.syncDefaultText,u,r,M.syncFailedText,M.integrationIcon,M.syncIcon]),V=f.isSyncFailed||f.isSyncing||f.collectionSyncedTime;return f.external_collection_type&&V?(0,U.jsx)($,{onClick:()=>{_().eM({collectionSettingsStore:null==n?void 0:n.settingsStore,source:"external_source"})},styles:k,tooltipContent:F.tooltipContent,children:(0,U.jsxs)("div",{style:M.wrapper,children:[F.icon,F.content]})}):null}function $(e){let{tooltipContent:t,children:n,styles:l,onClick:o}=e;return(0,U.jsx)("div",{style:l.container,children:(0,U.jsx)(K().A,{disableTooltip:!t,renderTooltip:()=>t&&(0,U.jsxs)("div",{children:[(0,U.jsx)("div",{style:l.tooltipHeading,children:t.heading}),t.caption&&(0,U.jsx)("div",{style:l.tooltipCaption,children:t.caption})]}),render:e=>(0,U.jsx)("div",{...e,style:{alignSelf:"end",display:"inline-block"},children:(0,U.jsx)(E().p,{style:l.button,hoveredStyle:l.buttonHovered,onClick:o,children:(0,U.jsx)(P().A,{style:l.badge,content:n})})}),placement:M().W.Bottom})})}},395546:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,infoCircleSmallIcon:()=>i});n(296540);var l=n(474848);const o={viewBox:"0 0 16 16",fittedViewBox:"1.87 1.87 12.25 12.25",svg:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("path",{d:"M7.9 4.425a.775.775 0 1 0 0 1.55.775.775 0 0 0 0-1.55M6.95 6.5a.625.625 0 1 0 0 1.25h.425V10H6.95a.625.625 0 1 0 0 1.25h2.1a.625.625 0 1 0 0-1.25h-.425V7.125A.625.625 0 0 0 8 6.5z"}),(0,l.jsx)("path",{d:"M8 1.875a6.125 6.125 0 1 0 0 12.25 6.125 6.125 0 0 0 0-12.25M3.125 8a4.875 4.875 0 1 1 9.75 0 4.875 4.875 0 0 1-9.75 0"})]})},i=(0,n(340498).wt)("infoCircleSmall",o)},412236:(e,t,n)=>{n.d(t,{V:()=>d});var l=n(296540),o=()=>n(401497),i=()=>n(959013),a=()=>n(284371),s=()=>n(719147),c=n(474848);const r="https://www.notion.com/blog/notion-ai-for-work";function d(){const[e,t]=(0,l.useState)(!1),n=(0,o().IS)((t=>({default:{color:t.text.uiBluePrimary,textDecoration:e?"underline":"none",fontWeight:a().Wy.medium}})),[e]);return(0,c.jsx)(s().A,{href:r,external:!0,style:{...n.default},hoverColor:"blue",onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:(0,c.jsx)(i().sA,{id:"PackingChangeLearnMore.learnMore",defaultMessage:"Learn more"})})}},519143:(e,t,n)=>{n.d(t,{D:()=>o});n(296540);const l={viewBox:"0 0 20 20",fittedViewBox:"0.12 2.37 19.76 15.25",svg:(0,n(474848).jsx)("path",{d:"m3.625 11.151 1.187-1.187a.625.625 0 1 1 .884.884l-2.254 2.254a.625.625 0 0 1-.884 0L.304 10.848a.625.625 0 0 1 .884-.884l1.187 1.187V10a7.625 7.625 0 0 1 12.813-5.587.625.625 0 1 1-.85.915A6.375 6.375 0 0 0 3.625 10zm14-2.302 1.187 1.187a.625.625 0 1 0 .884-.884l-2.254-2.254a.625.625 0 0 0-.884 0l-2.254 2.254a.625.625 0 1 0 .884.884l1.187-1.187V10a6.375 6.375 0 0 1-10.713 4.672.625.625 0 0 0-.85.915A7.625 7.625 0 0 0 17.625 10z"})},o=(0,n(340498).wt)("arrowCircleLoop",l)},635676:(e,t,n)=>{n.d(t,{l:()=>i});var l=()=>n(148307),o=()=>n(651124);const i={[o().uO.Jira]:l().A.images.externalIntegrations.jiraPng,[o().uO.Salesforce]:l().A.images.externalIntegrations.salesforcePng}},817126:(e,t,n)=>{n.d(t,{G9:()=>y,Ld:()=>d,kg:()=>p,uF:()=>u});var l=()=>n(56366),o=()=>n(970013),i=()=>n(617871),a=()=>n(76118),s=()=>n(462853),c=()=>n(765957),r=()=>n(329304);function d(e){let{spaceId:t,userId:n}=e;const l=(0,r()._X)({name:"collection_connected_property_figma",spaceId:t,userId:n}),o=(0,r()._X)({name:"collection_connected_property_github",spaceId:t,userId:n}),a=(0,r()._X)({name:"collection_connected_property_google_drive",spaceId:t,userId:n}),s=(0,r()._X)({name:"collection_connected_property_zendesk",spaceId:t,userId:n});return{[i().e1]:l,[i().ob]:o,[i().Hd]:a,[i().k0]:s}}function p(e){if(!e)return;const t=e&&(0,o().UU)(e)?e.connectedRelation.integration_id:void 0;return(0,s().l)(t)}function y(e){const t=e.featureName,n=(0,l().K8)((()=>{var t;return e.spaceId??(null===(t=c().default.state.currentSpaceStore)||void 0===t?void 0:t.id)}),[e.spaceId]),o=(0,l().K8)((()=>{var t;return e.userId??(null===(t=c().default.state.currentUserStore)||void 0===t?void 0:t.id)}),[e.userId]);return(0,r()._X)({name:t,spaceId:n,userId:o})}function u(e){let{featureName:t}=e;const n=y({featureName:t});if(!n)return;const l=(0,a().e2)(n),o=(0,a().Xq)(n);let i,s;return!o||"product"!==o.type||"plus"!==o.product&&"business"!==o.product&&"enterprise"!==o.product||(i=o.product),l&&(s=l&&n.expiry&&"sunset"===n.expiry.type?n.expiry.endDate:void 0),{isAvailable:l,expirationDate:s,upsell:o,upsellTier:i}}},948049:(e,t,n)=>{n.d(t,{A:()=>B,m:()=>D});n(296540);var l=()=>n(484714),o=()=>n(56366),i=()=>n(401497),a=()=>n(651124),s=()=>n(132855),c=()=>n(395546),r=()=>n(796073),d=()=>n(693954),p=()=>n(462853),y=()=>n(959013),u=()=>n(381349),g=()=>n(284371),x=()=>n(686526),m=()=>n(664133),S=()=>n(2220),h=()=>n(198491),f=()=>n(493208),v=()=>n(504836),_=()=>n(252833),j=()=>n(907514),C=()=>n(817126),T=()=>n(666803),I=()=>n(991249),b=()=>n(920773),w=()=>n(364280),A=()=>n(285790),k=()=>n(296798),L=n(474848);const M=(0,y().YK)({learnMore:{defaultMessage:"Learn more",id:"syncedCollectionIndicators.upsell.learnMore"}});const B=function(e){let{collectionStore:t,collectionContextStore:n}=e;return(0,o().K8)((()=>t.isSyncedCollection()),[t])?(0,L.jsx)(z,{collectionStore:t,collectionContextStore:n}):null};function F(e){return{color:e.text.secondary,fontSize:12,lineHeight:1.2}}function H(e){let{collectionStore:t,collectionContextStore:n}=e;const a=(0,i().DP)(),s=(0,l().v3)(),c=(0,o().K8)((()=>t.getFormatStore().getKeyStore("sync_state").getKeyStore("syncing").getValue()),[t]),p=(0,o().K8)((()=>t.getFormatStore().getKeyStore("sync_state").getKeyStore("last_synced_at").getValue()),[t]),g=(0,o().K8)((()=>null==n?void 0:n.numberChildrenUnfurledStore.state),[n]),m=(0,o().K8)((()=>null==n?void 0:n.numberChildrenReceivedStore.state),[n]),S=g&&m&&g/m<1&&!s.device.isMobile,h=c&&s.device.isMobile;let f;return p&&(f=(0,L.jsx)(y().sA,{defaultMessage:"Synced {lastSyncedAt}",id:"synced.lastSyncedAt.label",values:{lastSyncedAt:(0,j().nl)(p,{useLowercase:!0})}})),"row_limit_exceeded"===c?(0,L.jsx)(k().A,{style:{display:"inline-flex",...F(a)},onClick:()=>function(e){e&&(x().Ow({collectionContextStore:e,collectionSettingsStore:e.settingsStore}),x().a2({collectionSettingsStore:e.settingsStore,item:{type:"source"}}))}(n),children:(0,L.jsxs)("span",{style:{marginLeft:5,marginRight:5,display:"inline-flex",...F(a)},children:[(0,d().Q)({fill:(0,u().k5)("orange",a).fill,marginLeft:4,marginRight:4,width:12,alignSelf:"center"}),(0,L.jsx)(y().sA,{defaultMessage:"Partial Sync",id:"synced.partial_sync.label"})]})}):S||h?(0,L.jsxs)("span",{style:{marginLeft:5,marginRight:5,display:"inline-flex",...F(a)},children:[(0,L.jsx)(y().sA,{defaultMessage:"Syncing",id:"synced.syncing.label"}),(0,r().$)({marginLeft:4,marginRight:4,width:12,alignSelf:"center"},"sync-spinner")]}):(0,L.jsx)("span",{style:{marginLeft:5,marginRight:5,display:"inline-flex",...F(a)},children:f})}function V(){const e=(0,l().v3)(),t=(0,i().IS)((e=>({span:{color:e.text.secondary},linkBox:{fontSize:"14px",lineHeight:1.2,color:e.blueColor,marginLeft:"5px",marginRight:"5px"}})),[]);return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)("span",{style:t.span,children:"•"}),(0,L.jsx)(k().A,{inline:!0,onClick:async()=>{await m().jh({environment:e,from:"collection_header"});const t=T().Ay.createNewFlowId();(0,S().u)({environment:e,event:{eventName:"external_sync_entry_point",eventProperties:{integration:"jira",from:"database_sync",flowId:t}}})},style:t.linkBox,hoveredStyle:{background:"none",textDecoration:"underline"},children:(0,L.jsx)(y().sA,{defaultMessage:"Improve your Jira sync",id:"synced.improve_jira_sync.label"})})]})}function z(e){let{collectionStore:t,collectionContextStore:n}=e;const l=(0,i().DP)(),s=(0,o().K8)((()=>t.getFormatStore().getKeyStore("original_url").getValue()),[t]),c=(0,o().K8)((()=>t.getSpaceId()),[t]),r=(0,o().K8)((()=>Boolean(t.getFormatStore().getKeyStore("sync_state").getValue())),[t]),d=(0,o().K8)((()=>s&&(0,f().e)(s,c)),[c,s]),p=(0,o().K8)((()=>(0,_().fH)(s,c)),[c,s]),y=(0,o().K8)((()=>{if(!(0,v().pB)())return!1;const e=t.getFormat().uri;return!!e&&(t.getFormat().external_collection_type!==a().uO.Jira&&(0,_().Ip)(e))}),[t]);return(0,L.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[d&&(0,L.jsx)(k().A,{href:d,style:{display:"inline-flex"},hoveredStyle:{background:"none",textDecoration:"underline"},innerStyle:{flexShrink:1,width:"none",padding:"2px 0px",marginRight:5,borderRadius:4,display:"flex",alignItems:"center",alignSelf:"center",...F(l)},external:!0,children:p}),r?(0,L.jsx)("span",{style:{color:l.text.secondary},children:"•"}):null,r?(0,L.jsx)(H,{collectionStore:t,collectionContextStore:n}):null,y&&(0,L.jsx)(V,{}),(0,L.jsx)(P,{collectionStore:t})]})}function P(e){let{collectionStore:t}=e;const n=(0,o().K8)((()=>{const e=(0,_().cl)(t.getFormat().uri,t.getSpaceId());return(null==e?void 0:e.id)??t.getFormat().integration_id}),[t]),l=(0,p().l)(n);return l?(0,L.jsx)(D,{featureName:l}):null}const E="https://www.notion.com/blog/notion-ai-for-work";function D(e){let{featureName:t}=e;const n=(0,l().v3)(),o=(0,y().tz)(),a=(0,i().IS)((e=>({upgradeDescription:{fontSize:g().J.UISmall.desktop,lineHeight:g().K_.UISmall.desktop,color:e.text.secondary,display:"flex",alignItems:"center"}})),[]),r=(0,C().uF)({featureName:t});if(null==r||!r.upsell)return null;const{upsell:d,upsellTier:p,expirationDate:u}=r;return(0,L.jsxs)(w().fI,{alignItems:"center",marginLeft:8,children:[(0,L.jsxs)("div",{style:a.upgradeDescription,children:[(0,L.jsx)(h().A,{expirationDate:u,upsellTier:p}),(0,L.jsx)(A().A,{onClick:()=>window.open(E,"_blank"),color:"tertiary",size:"sm",icon:c().infoCircleSmallIcon,ariaLabel:o.formatMessage(M.learnMore)})]}),(0,L.jsx)(b().p,{onClick:()=>{I().K(n,{from:"collection_synced_database",upsell:d})},iconLeading:s().arrowInCircleUpFillIcon,isBlue:!0,size:"xs",children:(0,L.jsx)(y().sA,{defaultMessage:"Upgrade",id:"syncedCollectionIndicators.upsell.upgrade"})})]})}}}]);