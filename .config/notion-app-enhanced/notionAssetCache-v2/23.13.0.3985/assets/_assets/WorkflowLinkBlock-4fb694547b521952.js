"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[12827],{809434:(e,t,o)=>{o.r(t),o.d(t,{default:()=>u});var r=o(296540),i=()=>o(56366),s=()=>o(584262),n=()=>o(42425),l=()=>o(211716),a=()=>o(492414),d=o(474848);function c(e,t){const{store:c}=e,u=(0,o(484714).v3)(),g=(0,r.useContext)(o(484792).n),p=(0,r.useRef)(null),k=(0,r.useCallback)((()=>{o(899963).KO(u),o(567141).l8(u,{page_visit_id:o(990261).uk.getCurrentPageVisitId(),mentioned_page_id:e.store.id,source_type:"page_block",hover_preview_enabled:!0,is_navigable_block:e.store.isNavigableBlock()}),o(41161).A.recordVisit({id:e.store.id,systemBlockType:e.store.getSystemBlockTypeStore().getValue(),type:l().ig.Link,currentUserId:u.currentUser.id})}),[u,e.store]),y=(0,r.useCallback)((()=>{if(g){const t=(0,a().Ay)({store:e.store,pageVisitSource:s().y8.Create});g(t)}else o(857783).uK({environment:u,store:e.store,visitType:l().ig.Link,openInSidePeek:o(712505).default.isSidePeekOpen(),pageVisitSource:s().y8.Create})}),[u,g,e.store]),f=(0,i().K8)((()=>(0,a().Ay)({store:c,fullyQualified:!1,pageVisitSource:s().y8.LinkInPage})),[c]),v=(0,i().K8)((()=>{var e;return(null===(e=c.getWorkflowStore())||void 0===e||null===(e=e.getData())||void 0===e?void 0:e.name)||"New Workflow"}),[c]);return(0,o(891078).NW)(e.store,t,(0,r.useMemo)((()=>({renderedType:"workflow",getNode:()=>p.current,getBlockStore:()=>e.store,activate:y,handleCreated(){y(),o(732770).A.setKeyboardMode(!1)}})),[y,e.store]),(0,d.jsx)(o(155004).s,{allowSelectionWithin:!1,ref:p,children:(0,d.jsx)(o(296798).A,{href:f,external:!1,onClick:k,style:{borderRadius:4,...e.style,paddingTop:3,paddingBottom:3,paddingLeft:2},children:(0,d.jsx)(n().Ay,{alignment:n().C1.Center,children:(0,d.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,d.jsx)("span",{style:{overflow:"auto"},children:v})})})})}))}const u=r.memo(r.forwardRef(c),o(821062).A)}}]);