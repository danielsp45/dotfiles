"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[6893,9150,22542,67608,70593,84358],{346:(e,t,n)=>{n.d(t,{MG:()=>m,T1:()=>g,a1:()=>v,dt:()=>f,kg:()=>h,lC:()=>b,n_:()=>y});var o=n(296540),i=()=>n(484714),r=()=>n(56366),a=()=>n(187174),s=()=>n(645873),l=()=>n(941463),d=()=>n(441199),c=()=>n(749687),u=()=>n(737230),p=()=>n(756114);const g=new(s().O2)("PerformanceToolbar",(()=>Promise.all([n.e(16471),n.e(92845),n.e(84468),n.e(48632),n.e(75078),n.e(95168),n.e(36908),n.e(21194),n.e(23930),n.e(61347),n.e(45624)]).then(n.bind(n,462407)))),m=(0,s()._h)(g,(e=>e.PerformanceToolbar)),f=(0,s()._h)(g,(e=>e.PerformanceToolbarSettings));function h(){const e=(0,i().v3)();return(0,r().K8)((()=>(0,p().D)(e,e.RouterStore.state)),[e])}function y(){const e=(0,i().v3)(),t=x("PerformanceToolbarStore"),n=x("isPerformanceToolbarVisible");return(0,r().K8)((()=>!(!t||!n)&&n(e,e.RouterStore.state,t.state)),[n,e,t])}function b(){const e=x("PerformanceToolbarStore");return(0,r().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function v(){const e=(0,i().v3)(),t=x("createPerformanceToolbarMouseListeners"),n=x("PerformanceToolbarStore"),{sidebarExpanded:a,sidebarWidth:s,secondarySidebarExpanded:p,secondarySidebarWidth:g,updateSidebarExpanded:m,updateSidebarWidth:f}=(0,r().K8)((()=>({sidebarExpanded:c().sidebarExpandedStore.state,sidebarWidth:c().sidebarWidthStore.state,secondarySidebarExpanded:d().default.isOpen(),secondarySidebarWidth:l().Ay.getWidth(),updateSidebarExpanded:u().Ay.state.expanded,updateSidebarWidth:u().Ay.state.width})),[]);return(0,o.useEffect)((()=>{if(n&&t)return t(e,(e=>n.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),a,s,p,g,m,f)}),[t,e,n,a,s,p,g,m,f])}function x(e){const t=h(),[{value:n}]=(0,a().Yb)((()=>t?g.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return n}},22634:(e,t,n)=>{n.d(t,{O:()=>r});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"4.42 3.97 12.16 12.06",directional:!0,svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"m5.492 4.158 5.4 5.4a.625.625 0 0 1 0 .884l-5.4 5.4a.625.625 0 1 1-.884-.884L9.566 10 4.608 5.042a.625.625 0 1 1 .884-.884"}),(0,o.jsx)("path",{d:"m16.392 10.442-5.4 5.4a.625.625 0 0 1-.884-.884L15.066 10l-4.958-4.958a.625.625 0 0 1 .884-.884l5.4 5.4a.625.625 0 0 1 0 .884"})]})},r=(0,n(340498).wt)("arrowChevronDoubleForward",i)},29037:(e,t,n)=>{n.r(t),n.d(t,{checkmarkIcon:()=>i,iconDefinition:()=>o});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"3.92 3.91 12.17 12.18",svg:(0,n(474848).jsx)("path",{d:"M15.784 4.002a.625.625 0 0 1 .214.857L9.445 15.784a.625.625 0 0 1-1.01.085l-4.37-5.098a.625.625 0 0 1 .948-.814l3.806 4.44 6.109-10.181a.625.625 0 0 1 .857-.214"})},i=(0,n(340498).wt)("checkmark",o)},39341:(e,t,n)=>{n.d(t,{p:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){return{banners:[],height:void 0}}setHeight(e){this.setState({height:e,banners:this.state.banners})}}const i=new o},59400:(e,t,n)=>{n.d(t,{nR:()=>c,m$:()=>s,m4:()=>l,Dy:()=>d,FZ:()=>p});n(296540);var o=()=>n(645873),i=n(474848);function r(e){const{shouldShowSpinner:t,collectionSettingsProps:o}=e;return(0,i.jsx)(n(735695).Ay,{collectionSettingsStore:o.collectionSettingsStore,fullHeight:o.fullHeight,hideDesktopHeader:o.hideDesktopHeader,children:t&&(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",overflow:"hidden",paddingBottom:20},children:(0,i.jsx)(n(331542).A,{})})})}const a=new(o().O2)("collectionSettings",(()=>Promise.all([n.e(75134),n.e(16471),n.e(58550),n.e(44711),n.e(53321),n.e(90825),n.e(96346),n.e(55373),n.e(37353),n.e(29151),n.e(78191),n.e(62475),n.e(3151),n.e(98629),n.e(92845),n.e(84468),n.e(5605),n.e(48486),n.e(95794),n.e(13677),n.e(56952),n.e(48632),n.e(75078),n.e(25497),n.e(74562),n.e(27711),n.e(4422),n.e(11341),n.e(46414),n.e(95168),n.e(28271),n.e(34877),n.e(36908),n.e(17254),n.e(84185),n.e(32421),n.e(15315),n.e(24587),n.e(78708),n.e(43777),n.e(74752),n.e(91194),n.e(81197),n.e(98659),n.e(20502),n.e(6266),n.e(8184),n.e(83884),n.e(65881),n.e(99809),n.e(93282),n.e(43678),n.e(15019),n.e(90978),n.e(3910),n.e(77213),n.e(6912),n.e(30291),n.e(19930),n.e(58102),n.e(26483),n.e(6463),n.e(40925),n.e(282),n.e(61349),n.e(62573),n.e(1440),n.e(63996),n.e(66559),n.e(35986),n.e(92924),n.e(64819),n.e(97339),n.e(55717),n.e(63797),n.e(21367),n.e(22686),n.e(99108)]).then(n.bind(n,409198)))),s=(0,o()._h)(a,(e=>e.CollectionSettings),{renderLoading:(e,t)=>(0,i.jsx)(r,{shouldShowSpinner:e,collectionSettingsProps:t})}),l=(0,o()._h)(a,(e=>e.CollectionSettingsButtonOptions)),d=(0,o()._h)(a,(e=>e.CollectionSettingsPropertyTypeMenuItem)),c=(0,o()._h)(a,(e=>e.CollectionEditButtonAutomationOption)),u=new(o().O2)("TableHeaderPropertyCreationMenu",(()=>Promise.all([n.e(75134),n.e(16471),n.e(58550),n.e(44711),n.e(53321),n.e(90825),n.e(96346),n.e(55373),n.e(37353),n.e(29151),n.e(78191),n.e(92845),n.e(84468),n.e(5605),n.e(48486),n.e(95794),n.e(13677),n.e(56952),n.e(48632),n.e(75078),n.e(25497),n.e(74562),n.e(27711),n.e(4422),n.e(11341),n.e(46414),n.e(95168),n.e(28271),n.e(34877),n.e(36908),n.e(17254),n.e(84185),n.e(32421),n.e(15315),n.e(24587),n.e(78708),n.e(43777),n.e(74752),n.e(91194),n.e(81197),n.e(98659),n.e(20502),n.e(6266),n.e(8184),n.e(83884),n.e(65881),n.e(99809),n.e(93282),n.e(43678),n.e(15019),n.e(90978),n.e(3910),n.e(77213),n.e(61349),n.e(35986),n.e(43935)]).then(n.bind(n,908800)))),p=(0,o()._h)(u,(e=>e.TableHeaderPropertyCreationMenu))},63467:(e,t,n)=>{n.d(t,{y:()=>c});var o=()=>n(637997),i=()=>n(267419);const r={ko:()=>n.e(2268).then(n.bind(n,224434)),es:()=>n.e(95264).then(n.bind(n,196425)),de:()=>n.e(35390).then(n.bind(n,653703)),fr:()=>n.e(3272).then(n.bind(n,94677)),pt:()=>n.e(27315).then(n.bind(n,766869)),zh:()=>n.e(69945).then(n.bind(n,516814)),ja:()=>n.e(77757).then(n.bind(n,824432)),da:()=>n.e(9423).then(n.bind(n,440761)),fi:()=>n.e(59337).then(n.bind(n,462135)),nb:()=>n.e(2040).then(n.bind(n,937314)),nl:()=>n.e(51106).then(n.bind(n,530897)),sv:()=>n.e(53631).then(n.bind(n,895222)),id:()=>n.e(69945).then(n.bind(n,516814)),th:()=>n.e(69945).then(n.bind(n,516814)),vi:()=>n.e(69945).then(n.bind(n,516814))};let a=!1,s=!1;async function l(e){for(const[n,i]of Object.entries(e.emojiLocaleKeywords)){var t;o().fB[n]={...o().fB[n],keywords:[...i,...(null===(t=o().fB[n])||void 0===t?void 0:t.keywords)||[]]}}await i().A.waitUntilLoaded(),i().A.update((t=>{let{emojiByName:n,...o}=t;return{...o,emojiByName:{...n,...e.emojiByName}}}))}async function d(){if(a)return;const[e]=n(662303).locale.split("-");e in r&&(await l(await r[e]()),a=!0)}const c=(0,n(279900).A)((async()=>{await async function(){s||(await l(await n.e(51872).then(n.bind(n,443716))),s=!0)}(),await d()}))},97059:(e,t,n)=>{n.d(t,{W:()=>f,w:()=>m});n(944114);var o=()=>n(585515),i=()=>n(577449),r=()=>n(161479),a=()=>n(545285),s=()=>n(763824),l=()=>n(780054),d=()=>n(870618),c=()=>n(670631),u=()=>n(227440),p=()=>n(217429),g=()=>n(540758);async function m(e){const{environment:t}=e;return(await s().lX(Object.keys(c().A.state.offlinePages||{}),100,(e=>async function(e){const{environment:t,pageId:n}=e,s={page:{id:n,spaceId:(0,r().e)(void 0)},baseUrl:l().A.domainBaseUrl,publicDomainName:l().A.publicDomainName,shouldTraverseToggleBlocks:!0,limit:1/0,cursor:{stack:[]},verticalColumns:!1},c=[];return await o().T(s,i().h.sideEffect((e=>((0,a().u)(e)&&c.push(e.id),Promise.resolve())),i().h.fromMonomorphicFunctionUnsafe((async e=>{const n=await d().h7({environment:t,pointer:e,useInMemoryCacheOnly:!1,skipAccessWrites:!0});return null==n?void 0:n.model})))),c}({environment:t,pageId:e})))).flat()}function f(e,t){return!u().A.state.online&&(e.device.isElectron||e.device.isMobileNative)&&p().default.checkGate({gateName:"download_for_offline"})&&!(0,g().Bd)(t)}},104077:(e,t,n)=>{n.d(t,{r:()=>i});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.79 2.35 14.41 15.68",svg:(0,n(474848).jsx)("path",{d:"M10 2.355a2.35 2.35 0 0 0-2.253 1.686 5.06 5.06 0 0 0-2.803 4.527v1.189c0 .919-.334 1.806-.939 2.498l-.818.935c-.881 1.007-.166 2.583 1.173 2.583h3.02a2.65 2.65 0 0 0 5.24 0h3.02c1.339 0 2.054-1.576 1.173-2.583l-.818-.935a3.8 3.8 0 0 1-.939-2.498v-1.19a5.06 5.06 0 0 0-2.803-4.526A2.35 2.35 0 0 0 10 2.355m1.5 13.418a1.55 1.55 0 0 1-2.998 0zM8.909 4.564A1.104 1.104 0 0 1 10 3.605c.556 0 1.017.415 1.091.96l.049.353.329.138a3.81 3.81 0 0 1 2.337 3.512v1.189c0 1.221.444 2.401 1.248 3.32l.818.936a.307.307 0 0 1-.232.51H4.36a.308.308 0 0 1-.232-.51l.818-.935a5.04 5.04 0 0 0 1.248-3.321v-1.19c0-1.58.963-2.936 2.337-3.511l.33-.138z"})},i=(0,n(340498).wt)("bell",o)},105819:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,pencilLineIcon:()=>i});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.63 4.12 14.99 11.76",svg:(0,n(474848).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},i=(0,n(340498).wt)("pencilLine",o)},115562:(e,t,n)=>{n.d(t,{W:()=>l});n(296540);var o=()=>n(819121),i=()=>n(401497),r=()=>n(955825),a=()=>n(677195),s=n(474848);function l(e){const{selectorSize:t="normal",...n}=e,{disabled:l,checked:d}=n,[c,u]=(0,o().A)(),p=function(e){const{checked:t,disabled:n,isFocusVisible:o,selectorSize:r}=e;return(0,i().IS)((e=>({root:{position:"absolute",display:"flex",width:"large"===r?15:11,height:"large"===r?15:11,margin:1.5,justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"large"===r?2:1,transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${n?e.tint.regular:e.blueColor}`,background:n?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${n?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...o&&{boxShadow:e.buttonBlueFocusRing}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"large"===r?18:void 0,height:"large"===r?18:void 0,...n?{pointerEvents:"none"}:{cursor:"pointer"}},icon:{color:e.text.contrastPrimary,width:"large"===r?12:10,height:"large"===r?12:10,ariaHidden:!0}})),[r,t,n,o])}({checked:d,disabled:l,selectorSize:t,isFocusVisible:u});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{ref:c,type:"checkbox",style:p.input,...n}),(0,s.jsx)("span",{...(0,r().AH)(p.root,l?{}:{pseudoActive:p.active}),children:d&&(0,a().R)(p.icon)})]})}},132389:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var o=n(474848);function i(e){const t={display:"inline-block",minWidth:e.size,minHeight:e.size};return"x"===e.axis?t.minHeight=1:"y"===e.axis&&(t.minWidth=1),(0,o.jsx)("div",{style:t})}},132855:(e,t,n)=>{n.r(t),n.d(t,{arrowInCircleUpFillIcon:()=>i,iconDefinition:()=>o});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,n(474848).jsx)("path",{d:"M10 17.625a7.625 7.625 0 1 0 0-15.25 7.625 7.625 0 0 0 0 15.25m3.042-8.07a.625.625 0 0 1-.884 0L10.625 8.02v5.466a.625.625 0 1 1-1.25 0V8.021L7.842 9.554a.625.625 0 1 1-.884-.883l2.6-2.6a.625.625 0 0 1 .884 0l2.6 2.6a.625.625 0 0 1 0 .883"})},i=(0,n(340498).wt)("arrowInCircleUpFill",o)},173019:(e,t,n)=>{n.d(t,{r:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("pencil",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M3.926 13.307H14.11c.183 0 .34-.066.472-.199a.644.644 0 00.198-.471.652.652 0 00-.198-.479.644.644 0 00-.472-.198H5.272l-1.346 1.347zm-.704-.636l7.683-7.684-1.312-1.319-7.69 7.684-.67 1.606c-.037.1-.017.191.06.273.083.082.174.105.274.069l1.655-.63zm8.34-8.326l.738-.732c.182-.187.278-.376.287-.567.009-.192-.068-.374-.232-.547l-.267-.267c-.169-.168-.351-.246-.547-.232-.196.014-.385.11-.567.287l-.739.732 1.327 1.326z"})})},207207:(e,t,n)=>{n.d(t,{J:()=>i});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.62 2.62 15.26 15.26",svg:(0,n(474848).jsx)("path",{d:"M8.875 2.625a6.25 6.25 0 1 0 3.955 11.09l3.983 3.982a.625.625 0 1 0 .884-.884l-3.983-3.982a6.25 6.25 0 0 0-4.84-10.205m-5 6.25a5 5 0 1 1 10 0 5 5 0 0 1-10 0"})},i=(0,n(340498).wt)("magnifyingGlass",o)},240865:(e,t,n)=>{n.d(t,{V:()=>r});var o=()=>n(56366),i=()=>n(765957);function r(e){return(0,o().K8)((()=>{var t;return e?e.getMemberCountFromPublicSpaceData()??void 0:(null===(t=i().default.state.currentSpaceStore)||void 0===t?void 0:t.getMemberCountFromPublicSpaceData())??void 0}),[e])}},241637:(e,t,n)=>{n.r(t),n.d(t,{AnimatedEmojiBadge:()=>bt().f,GetNotifiedFor:()=>c,InboxActionsMenu:()=>rt().Ay,InboxNotificationSettingsButton:()=>Ae,MobileInboxPopup:()=>tt,NotificationInboxPanelContent:()=>yt,SidebarInboxButton:()=>at().SidebarInboxButton,TopbarUpdatesMenu:()=>h,UnreadMentionsBadge:()=>vt().A,UpdateSidebar:()=>J});var o=n(296540),i=()=>n(56366),r=()=>n(401497),a=()=>n(959013),s=()=>n(284371),l=()=>n(123021),d=n(474848);function c(e){const{navigableBlockStore:t,from:n,buttonPopupStore:o,style:c}=e,u=(0,i().K8)((()=>t.isPageBlock()),[t]),p=(0,r().IS)((e=>({label:{fontSize:s().J.UIRegular.desktop,color:e.text.primary,fontWeight:s().Wy.medium},border:{border:`1px solid ${e.outlineButtonBorder}`,borderRadius:4,marginTop:8}})),[]);return u?(0,d.jsxs)("div",{style:c,children:[(0,d.jsx)("div",{style:p.label,children:(0,d.jsx)(a().sA,{id:"UpdateSidebarTabUpdatesHeader.pageNotificationSettings.label",defaultMessage:"Page notification settings"})}),(0,d.jsx)("div",{style:p.border,children:(0,d.jsx)(l().O,{blockStore:t,moreProminentStyling:!0,from:n,buttonPopupStore:o})})]}):null}var u=()=>n(131533),p=()=>n(928600),g=()=>n(38337),m=()=>n(722872),f=()=>n(750420);function h(e){const{blockStore:t,spaceStore:n}=e,o=function(e){const{spaceStore:t,blockStore:n}=e,o=(0,i().K8)((()=>{var e,t;return(null==n||null===(e=n.getModel())||void 0===e?void 0:e.isCollectionView())?null===(t=n.getCollectionPointer())||void 0===t?void 0:t.id:void 0}),[n]);if(!t)return;const r=n.id,a=t.id;return{navigableBlockId:r,collectionId:o,spaceId:a}}({blockStore:t,spaceStore:n});return o?(0,d.jsx)(p().A,{menuType:m().gu.Popup,className:g().sql,header:(0,d.jsx)(f().Ay,{navigableBlockStore:t,enablePageAnalytics:!1,noTopMargin:!0,inPeekView:!0}),children:(0,d.jsx)(u().A,{empty:()=>(0,d.jsx)(y,{}),source:"updates_sidebar",navigableBlockStore:t,...o},t.id)}):null}function y(){const e=(0,r().IS)((e=>({container:{marginTop:64,textAlign:"center",paddingLeft:18,paddingRight:18,marginBottom:64},content:{fontSize:14,color:e.text.secondary,marginTop:4}})),[]);return(0,d.jsx)("div",{style:e.container,children:(0,d.jsx)("div",{style:e.content,children:(0,d.jsx)("span",{children:(0,d.jsx)(a().sA,{defaultMessage:"No edits in this page yet.",id:"topbar.updatesButton.emptyState"})})})})}n(898992),n(737550);var b=()=>n(484714),v=()=>n(175947),x=()=>n(534177),S=()=>n(899963),A=()=>n(145214),C=()=>n(13679),k=()=>n(77395),w=()=>n(987017),T=()=>n(146594),I=()=>n(112995),M=()=>n(650843),j=()=>n(640653),P=()=>n(963589),B=()=>n(517223),R=()=>n(346),N=()=>n(567121),F=()=>n(326589),E=()=>n(869562),L=()=>n(644914),z=()=>n(737230),W=()=>n(765957),U=()=>n(39341),D=()=>n(548821),_=()=>n(712505),H=()=>n(423817),O=()=>n(831272),V=()=>n(310830),X=()=>n(913139),K=()=>n(119987);function q(e){const{currentTab:t,navigableBlockStore:n}=e,r=(0,i().K8)((()=>W().default.state.renderPhase),[]),[a,s]=(0,o.useState)(!1),l=(0,o.useMemo)((()=>Date.now()),[]),c=(0,i().K8)((()=>z().Ay.state.timeOpenedComments),[]),u=void 0!==c?Math.max(l,c):l,p=(0,P().X)("comment_sidebar_for_you");if((0,o.useEffect)((()=>{a||"rendered"!==r||s(!0)}),[n.id,a,r]),!n||!a)return(0,d.jsx)(H().J,{areaHeight:window.innerHeight});if(p)return(0,d.jsx)(X().B,{navigableBlockStore:n,timeViewed:u});switch(t){case z().tF.Comments:return(0,d.jsx)(O().R,{timeViewed:u,location:"sidebar"});case z().tF.Updates:return(0,d.jsx)(V().f,{enablePageAnalytics:e.enablePageAnalytics});case z().tF.Info:return(0,d.jsx)(T().H,{store:n,context:D().Rr.Frame,disabled:!1,shownAs:"sidebar"});default:return(0,x().ub)(t),(0,d.jsx)(O().R,{timeViewed:u,location:"sidebar"})}}function $(e){const t=(0,a().tz)(),n=(0,i().K8)((()=>({width:z().Ay.state.width,isAnimating:z().Ay.state.isAnimating,currentTab:z().Ay.state.currentTab})),[]),s=(0,R().n_)(),{shouldLoadSidebarComponents:l,isExpanded:c}=e,u=(0,o.useRef)(null),p=(0,i().K8)((()=>U().p.state.banners.some((e=>"LoggedOutAppBanner"===e.id))?U().p.state.height??0:0),[]),[g,m]=(0,o.useState)(!1);(0,o.useEffect)((()=>{const e=requestAnimationFrame((()=>m(!0)));return()=>cancelAnimationFrame(e)}),[]);const f=(0,r().IS)((e=>({container:{flexGrow:0,flexShrink:0,width:n.width,zIndex:102,borderLeft:c?`1px solid ${e.regularDividerColor}`:"1px solid rgba(0,0,0,0)",alignSelf:"flex-end",position:"absolute",right:0,top:p,height:s?`calc(100vh - ${N().ls-p}px)`:`calc(100vh - ${p}px)`,pointerEvents:"none"},wrap:{height:"100%"},content:{position:"absolute",top:0,bottom:0,display:"flex",flexDirection:"column",overflow:"visible",zIndex:102,width:n.width}})),[n.width,c,s,p]);let h;return n.currentTab===z().tF.Comments?h=t.formatMessage({id:"updateSidebar.commentsAriaLabel",defaultMessage:"Page comments"}):n.currentTab===z().tF.Info?h=t.formatMessage({id:"updateSidebar.infoAriaLabel",defaultMessage:"Info"}):n.currentTab===z().tF.Updates?h=t.formatMessage({id:"updateSidebar.updatesAriaLabel",defaultMessage:"Page updates and analytics"}):(0,x().HB)(n.currentTab),l?(0,d.jsx)(A().A,{tag:"aside",visible:c,initial:{translateX:"100%"},animate:{translateX:0},exit:{translateX:"100%"},skip:!g,onAnimationStart:()=>{z().Ay.setState({...z().Ay.state,isAnimating:!0})},onAnimationEnd:()=>{z().Ay.setState({...z().Ay.state,isAnimating:!1})},ref:u,style:f.container,onMouseMove:()=>{n.isAnimating||z().Ay.setState({...z().Ay.state,mouseEntered:!0})},onMouseLeave:()=>{n.isAnimating||z().Ay.setState({...z().Ay.state,mouseEntered:!1})},"aria-hidden":!c||void 0,"aria-label":h,children:(0,d.jsx)("div",{style:f.wrap,children:(0,d.jsx)("div",{style:f.content,children:(0,d.jsx)(I().K,{from:"UpdateSidebar",fallback:e=>{let{error:t,errorId:n}=e;return(0,d.jsx)(M().LargeSurfaceRenderError,{error:t,errorId:n})},children:(0,d.jsx)(G,{...e})})})})}):null}function Y(e){let{enablePageAnalytics:t,navigableBlockStore:n,onTabChange:o}=e;const a=(0,b().v3)(),s=(0,i().K8)((()=>z().Ay.state.currentTab),[]),l=(0,r().IS)((()=>({commentsHeaderStyle:{position:"relative",pointerEvents:"auto",marginTop:v().ek(a.device.isElectronMac)}})),[a]);if((0,P().X)("comment_sidebar_for_you"))return s===z().tF.Info?(0,d.jsx)("div",{style:l.commentsHeaderStyle}):(0,d.jsx)(K().z,{navigableBlockStore:n});switch(s){case z().tF.Comments:return(0,d.jsx)("div",{style:l.commentsHeaderStyle});case z().tF.Updates:return(0,d.jsx)(f().Ay,{navigableBlockStore:n,enablePageAnalytics:t,onTabChange:o});case z().tF.Info:return(0,d.jsx)("div",{style:l.commentsHeaderStyle});default:return(0,x().ub)(s),(0,d.jsx)("div",{style:l.commentsHeaderStyle})}}function G(e){const{isResizerHovered:t,isResizing:n,currentTab:a,expanded:s,updatesSubTab:l}=(0,i().K8)((()=>{const{isResizerHovered:e,isResizing:t,currentTab:n,expanded:o,updatesSubTab:i}=z().Ay.state;return{isResizerHovered:e,isResizing:t,currentTab:n,expanded:o,updatesSubTab:i}}),[]),{currentBlockStore:c}=e,u=(0,b().v3)(),p=(0,o.useRef)(null),{currentTabToRender:m}=(0,i().K8)((()=>({currentTabToRender:c.isCollectionView()&&!c.isCollectionViewPageWithContent()?z().tF.Updates:a})),[c,a]),h=(0,i().K8)((()=>{const{currentSpaceStore:e}=W().default.state;return!(!e||(0,j().IL)(e))}),[]),y=o.useCallback((e=>{S().XI(u,{tab:e===z().VE.Updates?"updates":"analytics",origin:_().default.state.open?"peek_view":"page"}),z().Ay.setState({...z().Ay.state,updatesSubTab:e})}),[u]),v=(0,r().IS)((e=>({pane:{display:"flex",flexDirection:"column",height:"100%",position:"relative",pointerEvents:"none",maxHeight:"100%",backgroundColor:a===z().tF.Comments?void 0:"inherit"},resizerStyle:{position:"absolute",top:0,left:-3,bottom:0,right:0,height:"100vh",width:3,zIndex:-1,display:"block",transition:"box-shadow 300ms ease-in",...(t||n)&&s?{boxShadow:e.sidebarResizerBoxShadow}:{}},tabpanel:{display:"flex",flexDirection:"column",flex:"1 1 0",overflow:"hidden"}})),[a,t,n,s]),x=l?(0,z().aP)(l):(0,z().J)(m),A=(0,d.jsx)(I().K,{from:`UpdateSidebarContent.${x}`,fallback:e=>{let{error:t,errorId:n}=e;return(0,d.jsx)(M().LargeSurfaceRenderError,{error:t,errorId:n})},children:(0,d.jsx)(q,{navigableBlockStore:c,currentTab:m,enablePageAnalytics:h})});return(0,d.jsxs)("div",{ref:p,style:v.pane,className:g().YDC,children:[(0,d.jsx)("div",{style:v.resizerStyle}),(0,d.jsx)(Y,{enablePageAnalytics:h,navigableBlockStore:c,onTabChange:y}),h?(0,d.jsx)("div",{style:v.tabpanel,role:"tabpanel",id:(0,w().Jy)(f().Oi,m),"aria-labelledby":(0,w().vU)(f().Oi,m),children:A}):A,s?(0,d.jsx)(k().A,{sidebarRef:p,type:"update"}):void 0]})}function J(e){const{isElectronMac:t,currentBlockStore:n}=e,r=(0,i().K8)((()=>({width:z().Ay.state.width,isAnimating:z().Ay.state.isAnimating,canRender:z().Ay.state.canRender})),[]),a=(0,i().O$)(W().AppStoreCurrentSpaceStore),s=(0,o.useMemo)((()=>null==a?void 0:a.clone()),[a]),l=(0,b().v3)(),{isExpanded:c,closeSidebar:u}=(0,i().K8)((()=>({isExpanded:(0,L().Nk)(l),closeSidebar:()=>E().setUpdateExpand({environment:l,isExpanded:!1,from:"close_for_space",saveDetailsSidebarPreference:!0})})),[l]),[p,g]=(0,o.useState)(!1),[m,f]=(0,o.useState)(void 0);(0,o.useEffect)((()=>{(void 0===m||m===n.id)&&c&&(g(!0),f(n.id))}),[m,n,c]);const h=(0,i().K8)((()=>n.getAssociatedCollectionStore()),[n]);if(!(0,i().K8)((()=>{if(!r.canRender)return!1;if(s)return!0;if((0,F().g)())return!0;if(!h)return!1;const{count:e}=(0,B().pm)({collectionStore:h});return e>0}),[h,r.canRender,s]))return null;const y=()=>(0,d.jsx)($,{isElectronMac:t,isFullyExpanded:!r.isAnimating,currentBlockStore:n,isExpanded:c,closeSidebar:u,shouldLoadSidebarComponents:p});return s?(0,d.jsx)(C().A,{store:s,droppable:!0,render:y},(null==s?void 0:s.id)||n.id):y()}var Z=()=>n(289313),Q=()=>n(763824),ee=()=>n(848259),te=()=>n(572080),ne=()=>n(297872),oe=()=>n(331542),ie=()=>n(228927),re=()=>n(688149),ae=()=>n(721273),se=()=>n(47170),le=()=>n(62856),de=()=>n(155959),ce=()=>n(606846),ue=()=>n(212326),pe=()=>n(590707),ge=()=>n(266945),me=()=>n(920546),fe=()=>n(885247),he=()=>n(340498),ye=()=>n(900652),be=()=>n(624307),ve=()=>n(404141),xe=()=>n(466872);function Se(e){let{location:t}=e;const i=(0,a().tz)(),s=(0,b().v3)(),l=(0,b().Y0)(),c=(0,o.useCallback)((()=>{const{device:e}=s;ee().fP(s),e.isMobile?be().A.setState({open:!0,source:be().C.Updates}):(xe().A.setState({...xe().A.state,open:!1}),ve().A.setState({...ve().A.state,currentTab:"notifications",defaultSubtab:void 0}),ve().A.setState({...ve().A.state,open:!0}))}),[s]),u=(0,ye().zg)(),p=(0,r().IS)((e=>({mobileTopBarIcon:{height:he().lD.default,width:he().lD.default,fill:e.text.primary},webUpdatesModalIcon:{width:16,height:16},button:l.isMobile?{height:30,width:30}:u.button})),[l.isMobile,u.button]);let g;switch(t){case"mobileTopBar":g=p.mobileTopBarIcon;break;case"webUpdatesModal":g=p.webUpdatesModalIcon;break;default:(0,x().HB)(t)}return(0,d.jsx)(n(859428).A,{renderTooltip:()=>(0,d.jsx)(a().sA,{defaultMessage:"Open notifications settings",id:"updatesModal.openNotifications.tooltip"}),render:e=>(0,d.jsx)(n(285790).A,{style:p.button,icon:n(212727).gearIcon,iconStyle:g,onClick:c,ariaLabel:i.formatMessage({id:"updatesModal.openNotifications.tooltipAriaLabel",defaultMessage:"Open notifications settings button"}),...e})})}const Ae=o.memo(Se);n(944114),n(354520),n(430670),n(803949),n(581454);var Ce=()=>n(857639),ke=()=>n(187174),we=()=>n(386164),Te=()=>n(959044),Ie=()=>n(496603),Me=()=>n(449506),je=()=>n(751156),Pe=()=>n(645873);const Be=new(Pe().O2)("activityNotification",(async()=>await Promise.all([n.e(42838),n.e(12913),n.e(87250),n.e(38536),n.e(56352),n.e(20547),n.e(56409)]).then(n.bind(n,409412)))),Re=new(Pe().O2)("groupedNotification",(async()=>await Promise.all([n.e(42838),n.e(12913),n.e(87250),n.e(38536),n.e(56352),n.e(20547),n.e(3130)]).then(n.bind(n,430189)))),Ne=(0,Pe()._h)(Be,(e=>e.ActivityNotification)),Fe=(0,Pe()._h)(Re,(e=>e.GroupedNotification));var Ee=()=>n(941541),Le=()=>n(245865),ze=()=>n(21899),We=()=>n(303742),Ue=()=>n(630116),De=()=>n(920498),_e=()=>n(406792);const He={};function Oe(e,t){e in He||(He[e]={measured:!1,startTime:performance.now(),size:t.size,type:t.type})}function Ve(e){const{groupName:t}=e;switch(t){case"today":return(0,d.jsx)(a().sA,{id:"InboxTimeGroupHeader.today",defaultMessage:"Today"});case"this_week":return(0,d.jsx)(a().sA,{id:"InboxTimeGroupHeader.thisWeek",defaultMessage:"This week"});case"last_week":return(0,d.jsx)(a().sA,{id:"InboxTimeGroupHeader.lastWeek",defaultMessage:"Last week"});case"older":return(0,d.jsx)(a().sA,{id:"InboxTimeGroupHeader.older",defaultMessage:"Older"});default:(0,x().HB)(t)}}function Xe(e){const{groupName:t,shouldStickyHeader:n}=e,{isTablet:o}=(0,b().Y0)(),i=(0,r().IS)((e=>({headerContainer:{paddingTop:3,paddingBottom:3,paddingLeft:16,paddingRight:16,color:e.text.secondary,fontWeight:o?s().Wy.regular:s().Wy.medium,fontSize:o?"15px":"12px",...n&&{position:"sticky",top:0,backgroundColor:e.contentBackground,zIndex:2,paddingBottom:4,paddingTop:2}}})),[n,o]);return(0,d.jsx)("div",{style:i.headerContainer,children:(0,d.jsx)(Ve,{groupName:t})})}var Ke=()=>n(929469);const qe=new class{constructor(){this.state=new Map,this.noOpListener=()=>{}}cacheInboxPointers(e,t,n){const o=this.state.get(t);if(o)for(const i of o)e.defaultRecordCache.inMemoryRecordCache.removeListenerToRecord(i,this.noOpListener),(0,Le().unsubscribeAfterDelay)({environment:e,pointer:i,userId:e.currentUser.id});for(const i of n)e.defaultRecordCache.inMemoryRecordCache.addListenerToRecord(i,this.noOpListener),(0,Le().cancelEviction)({pointer:i,userId:e.currentUser.id});this.state.set(t,n)}getNotificationIds(e){const t=this.state.get(e);if(!t)return;return t.filter((e=>e.table===Te()._p)).map((e=>e.id))}};const $e=function(e){const[t,r]=(0,o.useState)(Math.random()),[a,s]=(0,o.useState)(20),l=(0,b().v3)(),c=(0,i().O$)(n(227440).e),u=(0,n(249847).T)();return(0,o.useEffect)((()=>{if(u){const e=Ie().nF((e=>{let{value:t}=e;String(t).includes("unreadCount")||r(Math.random())}),1e3),t=(0,n(921997).dp)(u),o=Ee().Ay.addListener(t,void 0,e,void 0,l);if(o)return()=>{Ee().Ay.removeListener(o,l)}}}),[u,l]),c?(0,d.jsx)(Qe,{checkpoint:t,type:e.type,empty:e.empty,source:e.source,tab:e.tab,size:a,setSize:s,scrolledToTop:e.isScrolledToTopFromOtherSidebar}):(0,d.jsx)(Ge,{type:e.type})};function Ye(e){const t=(0,b().v3)(),n=(0,b().Y0)();return(0,r().IS)((o=>({placeholder:{...et(e,t),paddingTop:n.isMobile?64:void 0,minHeight:n.isMobile?void 0:220,display:"flex",textAlign:"center",alignItems:"center",justifyContent:"center",fontSize:14,color:o.text.primary,overflow:"hidden"}})),[n.isMobile,t,e]).placeholder}function Ge(e){let{type:t}=e;const n=Ye(t);return(0,d.jsx)("div",{style:n,children:(0,d.jsx)("div",{children:(0,d.jsx)(a().sA,{defaultMessage:"Please go online to view your inbox.",id:"notificationInbox.offline.message"})})})}function Je(e){let{request:t,error:n,result:r,type:s,empty:l,source:c,tab:u,size:p,setSize:g,scrolledToTop:m,requestType:f}=e;const h=(0,b().v3)(),y=(0,b().Y0)(),v=(0,i().O$)(W().AppStoreCurrentSpaceStore),S=r??qe.getNotificationIds(f),A=(0,i().O$)(ce().Ay),C=(0,o.useContext)(Ke().B),k=(0,P().X)("inbox_page_grouping"),[w,T]=(0,i().K8)((()=>{if(!S)return[[],[]];const e=[],n=v?S.map((e=>Ue().sk.createChildStore(v,{table:Te()._p,id:e}))):[],o=[],i=Ie().oE(n.map((n=>{if(!n.isDefined())return null;if(k){if(n.getParentNotificationId())return null}else if(n.isGroupedNotification())return null;if(n.getInvalid())return null;if("mentions"===t.type&&n.getVisited())return null;if("archive"===t.type&&!n.getVisited())return null;const i=n.getActivityStore(),r=null==i?void 0:i.getModel();if(!n.isGroupedNotification()){if(!i||!i.isReady())return null;if(!r||r.invalid)return o.push(n),null}const a=n.getDiscussionStore();if(null!=a&&a.isReady()&&"none"===(null==a?void 0:a.getRole()))return o.push(n),null;e.push(n.pointer),i&&e.push(i.pointer),a&&e.push(a.pointer);const s=n.getNavigableBlockPointer();if(s&&e.push(s),C){if("inbox"===C&&"commented"!==n.getType())return null;if("activity"===C&&"commented"===n.getType())return null}return{activity:r,notificationStore:n}}))).sort(((e,t)=>Number(t.notificationStore.getEndTime())-Number(e.notificationStore.getEndTime())));return qe.cacheInboxPointers(h,f,e),[i,o]}),[S,v,h,f,t.type,C,k]),I=(0,i().K8)((()=>ue().dl()),[]),M=0===(0,i().K8)((()=>ue().Yz(w,t.type)),[w,t.type]).size,j=(0,i().K8)((()=>{if(!v||n)return null;if(!S)return null;const e=[];let t=[];const i=ue().Ot();let r;return w.forEach(((n,a,s)=>{let{activity:l,notificationStore:p}=n;const g=Number(p.getEndTime()),m=i.findIndex((e=>{const{cutoffTime:t}=e;return void 0===t||t<=g}));if(m!==r){const n=i[m].name;e.push((0,d.jsx)("div",{children:t},`${n}-section-name`)),t=[(0,d.jsxs)(o.Fragment,{children:[1!==e.length?(0,d.jsx)("div",{style:{height:8}}):void 0,(0,d.jsx)(Xe,{groupName:n})]},`${n}-inbox-group-section`)],r=m}if(p.isGroupedNotification())t.push((0,d.jsx)(Fe,{notificationStore:p,isFirst:!1,isLast:!1,source:c,tab:u},p.id));else if(l){const e=p.getValue();e&&t.push((0,d.jsx)(Ne,{activity:l,rootStore:v,isFirst:!1,isLast:!1,source:c,tab:u,notification:e},p.id))}})),e.push((0,d.jsx)("div",{children:t},"time-grouping")),e}),[v,n,S,w,c,u]),B=(0,Pe().fJ)(Be);(0,o.useEffect)((()=>{if(!v)return;!function(e,t,n){const o=e.filter((e=>!e.getRead()));0!==o.length&&(Ce().log({level:"warning",from:"NotificationInbox",type:"invalidNotificationData",data:{ids:o.map((e=>e.id))}}),je().createAndCommit({userAction:"NotificationUpdates.unreadNotificationNotRendered",environment:n,canUndo:!0,perform:e=>{for(const n of o){const o=n.getModel();o&&te().ZB({notification:o,rootStore:t,transaction:e,read:!0})}}}))}(T,v,h);const e=w.some((e=>{let{notificationStore:t}=e;return!t.getRead()&&!t.getVisited()})),t=e&&w.some((e=>{let{notificationStore:t}=e;return t.getRead()&&!t.getVisited()}));switch(I){case"unread_and_read":case"unread_only":ce().Ay.setState({...A,currentTab:"mentions",isCurrentTabEmpty:M,containsBothReadAndUnreadNotifications:t,containsUnreadNotifications:e,showOnlyUnreadNotifications:"unread_only"===I,unreadNotificationIds:[]});break;case"archived_only":ce().Ay.setState({...A,isCurrentTabEmpty:M,currentTab:"archive"});break;case"all_updates":break;default:(0,x().HB)(I)}}),[I,A,M,w,v,h,T]);const R=Ye(s);return!v||n?(0,d.jsx)("div",{style:R,children:(0,d.jsx)(a().sA,{defaultMessage:"Something went wrong.",id:"notificationUpdates.unknownErrorMessage"})}):S&&"resolved"===B.status?(0,d.jsxs)("div",{style:M?R:et(s,h),children:[M?l:void 0,(0,d.jsx)("section",{role:"feed",className:"notranslate",children:j}),(0,d.jsx)(ie().A,{onChange:e=>{if(!y.isMobile&&"closed"===ue().I6())return null;e<200&&S.length>=p&&g(S.length+20)}})]}):(0,d.jsx)("div",{style:et(s,h),children:(0,d.jsx)(H().J,{areaHeight:window.innerHeight})})}function Ze(e){const t=(0,b().v3)();return(0,o.useEffect)((()=>{void 0!==e.requestId&&function(e,t){if(!(e in He))return;const n=He[e];if(n.measured)return;n.measured=!0;const{startTime:o,size:i,type:r}=n;_e().default.DO_NOT_USE_measureLegacy({metricName:"notification_render",startTime:o},{environment:t,data:{size:i,type:r}})}(e.requestId,t)}),[e.requestId,t]),(0,d.jsx)(d.Fragment,{children:e.children})}function Qe(e){const{type:t,empty:n,source:r,tab:a,size:s,setSize:l,scrolledToTop:c,checkpoint:u}=e,p=(0,b().v3)(),{currentUserStore:g,currentSpaceStore:m,currentUserRootStore:f}=(0,i().K8)((()=>{const{currentUserStore:e,currentSpaceStore:t,currentUserRootStore:n}=W().default.state;return{currentUserStore:e,currentSpaceStore:t,currentUserRootStore:n}}),[]),h=(0,i().K8)((()=>"unread_only"===ue().dl()),[]),[y,v]=(0,o.useState)(u),S=(0,o.useMemo)((()=>function(e,t){switch(e){case"mentions":return t?"unread_only":"unread_and_read";case"archive":return"archived";default:(0,x().HB)(e)}}(t,h)),[t,h]),[A,C]=(0,ke().Yb)((async()=>{if(!g||!m)return null;if((0,We().o)(m)&&f){const e=(0,ze().f)({currentUserRootStore:f}).map((e=>e.getSpaceId()));return async function(e){const{environment:t,userId:n,spaceIds:o,size:i,type:r,requestType:a}=e,s=ce().Ay.startLoading();Oe(s,{size:i,type:r});const l=await(0,Q().lX)(o,10,(e=>Me().callApi({eventName:"getNotificationLogV2",environment:t,data:{spaceId:e,size:i,type:a,variant:"no_grouping"},userId:n,headers:(0,we().WS)({spaceId:e})})));ce().Ay.endLoading(s);return{notificationIds:l.flatMap((e=>"failed"===e.type?[]:e.data.notificationIds)),requestId:s}}({environment:p,userId:g.id,spaceIds:e,requestType:S,size:s,type:t})}return async function(e){const{environment:t,userId:n,spaceId:o,size:i,type:r,requestType:a}=e,s=ce().Ay.startLoading();Oe(s,{size:i,type:r});const l=await Me().callApi({eventName:"getNotificationLogV2",environment:t,data:{spaceId:o,size:i,type:a,variant:"no_grouping"},userId:n,headers:(0,we().WS)({spaceId:o})});if(ce().Ay.endLoading(s),"failed"===l.type)throw l.error;return{notificationIds:l.data.notificationIds,requestId:s}}({environment:p,userId:g.id,spaceId:m.id,requestType:S,size:s,type:t})}),[m,g,f,p,S,s,t],{throttle:1e3});if((0,o.useEffect)((()=>{u!==y&&(C(),v(u))}),[u,y,C]),!g||!m||!A)return null;const k=m.id,w=g.id,{value:T,error:I}=A,M={spaceId:k,userId:w,type:t};return De().setState({request:M,result:null==T?void 0:T.notificationIds}),(0,d.jsx)(Ze,{requestId:null==T?void 0:T.requestId,children:(0,d.jsx)(Je,{type:t,requestType:S,empty:n,source:r,tab:a,size:s,setSize:l,request:M,error:I,result:null==T?void 0:T.notificationIds,scrolledToTop:c})})}function et(e,t){const{device:n}=t;return{minHeight:n.isMobile||"mentions"===e?void 0:"75vh"}}function tt(e){const t=(0,b().Y0)(),n=(0,b().v3)();(0,o.useEffect)((()=>()=>(ee().L_(n),void te()._V({environment:n,newTab:"mentions",shouldTrack:!1}))),[n]);const i=(0,r().IS)((e=>({chevron:{fill:e.text.primary,width:26,height:26},padding:{width:1}})),[]);let a;if(t.isMobile){const n="mobileTopBar";a={menuType:m().gu.Modal,title:(0,d.jsx)(fe().R,{}),width:e.format===ae().Cn.RenderAsPage?"100vw":void 0,renderAsPage:e.format===ae().Cn.RenderAsPage,leftRightButtonStyle:{paddingRight:14},right:[(0,d.jsx)(Ae,{location:n},"InboxNotificationSettingsButton"),(0,d.jsx)("span",{style:i.padding},"paddingSpan2"),(0,d.jsx)(me().F,{},"InboxFilterButton"),(0,d.jsx)("span",{style:i.padding},"paddingSpan1"),(0,d.jsx)(pe().C,{},"InboxEllipsisButton")],left:[(0,d.jsx)(it,{},"loading-spinner"),t.isPhone&&(0,de().T)("supportsNativeHome")&&e.format===ae().Cn.RenderAsPage&&!(0,de().T)("supportsNativeInbox")?void 0:(0,Z().Z)(i.chevron)],onClickLeft:e.onClose,whiteBackground:!0,disableHeaderShadow:!0}}else a={menuType:m().gu.Popup,height:"auto"};return(0,d.jsxs)(p().A,{...a,className:g().e3e,children:[(0,d.jsx)(ie().A,{onChange:(e,t)=>{let{offsetFromTop:n}=t;ce().gJ.setState(n<=0)}}),(0,d.jsx)(ne().A,{capture:!0,allowUndo:!0,allowEsc:!0,allowMobileAutoScroll:!0,render:()=>e.format===ae().Cn.RenderAsPage?(0,d.jsx)(ot,{}):(0,d.jsx)(nt,{})})]})}function nt(){const e=(0,se().O)(),t=(0,i().K8)((()=>ue().dl()),[]),n={emptyState:{marginTop:100,cursor:"auto"}};return(0,d.jsx)(d.Fragment,{children:"all_updates"!==t?(0,d.jsx)($e,{type:"archived_only"===t?"archive":"mentions",source:"notifications_tab",tab:"inbox",empty:(0,d.jsx)("div",{style:n.emptyState,children:(0,d.jsx)(ge().x,{})})},t):e&&(0,d.jsx)(u().A,{spaceId:e,source:"notifications_tab",empty:()=>(0,d.jsx)("div",{style:n.emptyState,children:(0,d.jsx)(ge().x,{})})},t)})}function ot(){const e=(0,b().v3)();return(0,d.jsx)(re().A,{fetch:async()=>{await Q().wR(0),await W().default.waitUntil((()=>void 0!==W().default.state.currentSpaceStore))},loading:()=>(0,d.jsx)(o.Fragment,{}),willRender:()=>{var t;null===(t=e.mobileNative)||void 0===t||t.markTransitionReady({environment:e,type:"updates"})},render:()=>(0,d.jsx)(A().A,{initial:{opacity:0},animate:{opacity:1},children:(0,d.jsx)(nt,{})})})}function it(){const e=(0,i().K8)((()=>void 0!==ce().Ay.state.loadingId),[]),t=(0,le().A)(e,400,0);return(0,de().T)("supportsNativeHome")?t?(0,d.jsx)(oe().A,{style:{width:14}}):(0,d.jsx)("div",{style:{width:14}}):null}var rt=()=>n(965351),at=()=>n(84987),st=()=>n(105819),lt=()=>n(197190),dt=()=>n(2143),ct=()=>n(550125),ut=()=>n(141333),pt=()=>n(443194),gt=()=>n(441199),mt=()=>n(756279),ft=()=>n(17090);function ht(){const e=(0,r().IS)((e=>({button:{display:"flex",justifyContent:"center",alignItems:"center",gap:6,height:36,width:174,position:"absolute",left:"50%",marginLeft:-87,bottom:12,zIndex:20,borderRadius:18,background:e.blueColor,color:e.white,boxShadow:e.buttonBoxShadow,fontSize:14},hovered:{background:e.blueButtonHoveredBackground},pressed:{background:e.blueButtonPressedBackground},icon:{width:16,height:16}})),[]);return(0,d.jsxs)(lt().A,{style:e.button,hoveredStyle:e.hovered,pressedStyle:e.pressed,href:"https://dev.notion.so/notion/346c06d81dbf4cf188bf44fcef6a6a62?v=fa0376c6fb2a40f0b77d68b683f73e5b&pvs=4",external:!0,children:[(0,st().pencilLineIcon)(e.icon),(0,d.jsx)("div",{children:"Provide Feedback"})]})}function yt(e){const{titleId:t}=e,n=(0,i().K8)((()=>{const{currentSpaceStore:e}=W().default.state;if(e)return e.id}),[]),a=(0,i().K8)((()=>!1),[]),s=(0,i().K8)((()=>ye().n5()),[]),l=(0,i().K8)((()=>gt().default.state.mode),[]),c=(0,i().K8)((()=>ue().dl()),[]),p=(0,r().IS)((e=>({container:{flexDirection:"column",width:"100%",display:"flex"},scroller:{position:"relative",minHeight:0,display:"flex",flexDirection:"column",marginRight:0,pointerEvents:"auto",width:"100%",..."peek"===l?{}:{minWidth:s}},emptyState:{marginTop:100,cursor:"auto"}})),[s,l]),g=(0,i().uB)(void 0,ft().A),m=(0,i().K8)((()=>g.state.elementRef??{current:null}),[g]),f=0===(0,ut().yE)(m),h=(0,o.useContext)(Ke().B);return(0,d.jsxs)("div",{style:p.container,children:[(0,d.jsx)(pt().Q,{type:h??"inbox",titleId:t}),(0,d.jsx)(ct().A,{scrollerStore:g}),(0,d.jsxs)(dt().H,{type:mt().A.Y,style:p.scroller,store:g,children:[(0,d.jsx)(ie().A,{onChange:(e,t)=>{let{offsetFromTop:n}=t;ce().gJ.setState(n<=0)}}),"all_updates"!==c?(0,d.jsx)($e,{type:"archived_only"===c?"archive":"mentions",source:"notifications_tab",tab:"inbox",empty:(0,d.jsx)("div",{style:p.emptyState,children:(0,d.jsx)(ge().x,{})}),isScrolledToTopFromOtherSidebar:f},c):n&&(0,d.jsx)(u().A,{spaceId:n,source:"notifications_tab",empty:()=>(0,d.jsx)("div",{style:p.emptyState,children:(0,d.jsx)(ge().x,{})})},c)]}),a?(0,d.jsx)(ht,{}):void 0]})}var bt=()=>n(509659),vt=()=>n(105127)},266945:(e,t,n)=>{n.d(t,{x:()=>d});n(296540);var o=()=>n(56366),i=()=>n(959013),r=()=>n(534177),a=()=>n(569866),s=()=>n(212326),l=n(474848);function d(){const e=(0,o().K8)((()=>(0,s().dl)()),[]);switch(e){case"unread_and_read":case"unread_only":return(0,l.jsx)(a().A,{message:(0,l.jsx)(i().sA,{defaultMessage:"You’ll be notified here for @mentions, page activity, and page invites",id:"inbox.filterEmptyState.nonArchivedMessage"}),title:(0,l.jsx)(i().sA,{defaultMessage:"You’re all caught up",id:"inbox.filterEmptyState.nonArchivedTitle"})});case"archived_only":return(0,l.jsx)(a().A,{message:(0,l.jsx)(i().sA,{defaultMessage:"Any Inbox updates you archived will show up here.",id:"inbox.filterEmptyState.archivedMessage"}),title:(0,l.jsx)(i().sA,{defaultMessage:"No archived updates",id:"inbox.filterEmptyState.archivedTitle"})});case"all_updates":return(0,l.jsx)(a().A,{message:(0,l.jsx)(i().sA,{defaultMessage:"Any activity in the workspace will show up here.",id:"inbox.filterEmptyState.allPagesMessage"}),title:(0,l.jsx)(i().sA,{defaultMessage:"No activity in the workspace",id:"inbox.filterEmptyState.allPagesTitle"})});default:(0,r().HB)(e)}}},271084:(e,t,n)=>{n.d(t,{k:()=>i});n(581454);class o extends(()=>n(757695))().Store{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}getSortedUserIds(){return Object.entries(this.state||{}).sort(((e,t)=>{let[n,o]=e,[i,r]=t;return r-o})).map((e=>{let[t,n]=e;return t}))}}const i=new o;(0,n(604341).exposeDebugValue)("UserSimilarityStore",i)},279900:(e,t,n)=>{function o(e){let t,n,o;return async function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t?(o=r,n||(n=t.then((()=>(n=void 0,t=e(...o),t))),n)):(t=e(...r),t)}}n.d(t,{A:()=>o})},289313:(e,t,n)=>{n.d(t,{Z:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("chevronLeftRounded",{viewBox:"0 0 24 24",directional:!0,svg:(0,o.jsx)("path",{d:"M7.1875 11.8594C7.1875 12.0547 7.25781 12.2266 7.40625 12.375L13.6016 18.4297C13.7344 18.5703 13.9062 18.6406 14.1094 18.6406C14.5156 18.6406 14.8281 18.3359 14.8281 17.9297C14.8281 17.7266 14.7422 17.5547 14.6172 17.4219L8.92969 11.8594L14.6172 6.29688C14.7422 6.16406 14.8281 5.98438 14.8281 5.78906C14.8281 5.38281 14.5156 5.07812 14.1094 5.07812C13.9062 5.07812 13.7344 5.14844 13.6016 5.28125L7.40625 11.3438C7.25781 11.4844 7.1875 11.6641 7.1875 11.8594Z"})})},381138:(e,t,n)=>{n.d(t,{q:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("search",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"})})},387964:(e,t,n)=>{n.d(t,{S:()=>r});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"3.42 3.97 12.16 12.06",directional:!0,svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M3.608 10.442a.625.625 0 0 1 0-.884l5.4-5.4a.625.625 0 0 1 .884.884L4.934 10l4.958 4.958a.625.625 0 1 1-.884.884z"}),(0,o.jsx)("path",{d:"m14.508 4.158-5.4 5.4a.625.625 0 0 0 0 .884l5.4 5.4a.625.625 0 1 0 .884-.884L10.434 10l4.958-4.958a.625.625 0 1 0-.884-.884"})]})},r=(0,n(340498).wt)("arrowChevronDoubleBackward",i)},406533:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>i,questionMarkCircleIcon:()=>r});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.26 15.25",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M9.978 7.154c-.804 0-1.333.456-1.438.874a.625.625 0 0 1-1.213-.303c.28-1.121 1.44-1.82 2.65-1.82 1.365 0 2.714.905 2.714 2.298 0 .812-.49 1.477-1.13 1.872l-.755.516a.84.84 0 0 0-.381.677.625.625 0 1 1-1.25 0c0-.688.36-1.318.921-1.706l.003-.002.784-.535.014-.008c.374-.228.544-.537.544-.814 0-.459-.517-1.049-1.463-1.049m.662 6.336a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,o.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},r=(0,n(340498).wt)("questionMarkCircle",i)},413267:(e,t,n)=>{n.d(t,{b:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("thinCheck",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M6.385 14.162c.362 0 .642-.15.84-.444L13.652 3.71c.144-.226.205-.417.205-.602 0-.485-.341-.82-.833-.82-.335 0-.54.123-.746.444l-5.926 9.4-3.042-3.903c-.205-.267-.417-.376-.718-.376-.492 0-.848.348-.848.827 0 .212.075.417.253.629l3.541 4.416c.24.3.492.437.848.437z"})})},454531:(e,t,n)=>{n.d(t,{W:()=>f});var o=()=>n(780054),i=()=>n(972435),r=()=>n(867772),a=()=>n(681810),s=()=>n(901389),l=()=>n(896628),d=()=>n(383594),c=()=>n(675925),u=()=>n(751156),p=()=>n(892632);const g=1500,m=(0,n(959013).YK)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},preparing:{defaultMessage:"Preparing...",id:"pageCover.status.preparing"},downloading:{defaultMessage:"Downloading...",id:"pageCover.status.downloading"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image link…",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function f(e){let{environment:t,intl:n,store:o,rect:i,from:r}=e;d().W(t,{originGap:3,originRect:i,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:n.formatMessage(m.pageCover),onDelete:()=>{!function(e){let{environment:t,store:n}=e;d().I(),u().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{l().PT({store:n,transaction:e})}})}({environment:t,store:o})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:n,position:i}=e;(0,c().o)(t,{action:"edit_cover",block_type:"page",from:r},(e=>{y({environment:t,store:o,url:{originUrl:n},position:i}),e()}))}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:n.formatMessage(m.fileTypeCaption,{idealImageWidth:g}),onUpload:e=>{(0,c().o)(t,{action:"edit_cover",block_type:"page",from:r},(i=>{var r;d().I(),p().QM({environment:t,file:e[0],bucket:"secure",record:(null===(r=o.getCoverStore())||void 0===r?void 0:r.pointer)??o.pointer,isFileBlock:!1,reportRichUploadMetrics:!0,onStart:b,onProgress:v,onComplete:e=>{var n;n={environment:t,store:o,url:{originUrl:e}},h({...n,position:.5})},onError:()=>{s().f1(n.formatMessage(m.uploadFailed))}}),i()}))}},{type:"embed",title:n.formatMessage(m.embedTitle),inputPlaceholder:n.formatMessage(m.embedPlaceholder),caption:n.formatMessage(m.embedCaption),buttonText:n.formatMessage(m.embedSubmit),onChange:e=>{(0,c().o)(t,{action:"edit_cover",block_type:"page",from:r},(n=>{var i;i={environment:t,store:o,url:e},h({...i,position:.5}),d().I(),n()}))}},{type:"unsplash",onChange:e=>{let{url:n,position:i}=e;(0,c().o)(t,{action:"edit_cover",block_type:"page",from:r},(e=>{y({environment:t,store:o,url:{originUrl:n},position:i}),e()}))}}]})}async function h(e){const{environment:t,store:n,url:o,position:s}=e,{serverCommitResult:d}=u().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{l().fg({store:n,url:o,position:s||.5,transaction:e})}});await d,a().A.state.loadingMode===r().vS&&a().A.setState({loadingMode:r().Gi,dataURL:a().A.state.dataURL,uploadProgress:t.device.isMobileNative?void 0:100,progressText:i().A.formatMessage(m.downloading)})}function y(e){h(e),o().A.isMobile&&d().I()}function b(e){const{file:t,name:n,size:o}=e;if(d().I(),a().A.setState({loadingMode:r().Wc,file:t,name:n,size:o}),t.type.indexOf("image")>=0)if(t instanceof File){const e=new FileReader;e.onload=e=>{a().A.state.loadingMode===r().Wc&&a().A.setState({...a().A.state,loadingMode:r().vS,uploadProgress:0,dataURL:e.target.result})},e.readAsDataURL(t)}else a().A.state.loadingMode===r().Wc&&a().A.setState({...a().A.state,loadingMode:r().vS,dataURL:t.dataURL,progressText:i().A.formatMessage(m.preparing)});else a().A.state.loadingMode===r().Wc&&a().A.setState({...a().A.state,loadingMode:r().vS,progressText:i().A.formatMessage(m.preparing)})}function v(e){const{progressPercent:t,progressText:n}=e;a().A.state.loadingMode===r().vS&&a().A.setState({...a().A.state,uploadProgress:t,progressText:n})}},458366:(e,t,n)=>{n.d(t,{B2:()=>j,F1:()=>k,Kc:()=>A,NN:()=>M,UY:()=>S,br:()=>I,lA:()=>w,lh:()=>C,pi:()=>b,w_:()=>x,zP:()=>v});n(898992),n(737550);var o=()=>n(584262),i=()=>n(443239),r=()=>n(970013),a=()=>n(713998),s=()=>n(882262),l=()=>n(415566),d=()=>n(177256),c=()=>n(72135),u=()=>n(919709),p=()=>n(496603),g=()=>n(534177),m=()=>n(939768),f=()=>n(720665),h=()=>n(492414),y=()=>n(972435);function b(e){return Boolean(e.state.isOpen&&e.state.collectionsBulkActionsToolbarStore)}function v(e){switch(e){case"table":return"table";case"board":return"board";case"list":return"list";case"gallery":return"gallery";case"feed":return"feed";case"relation":case"relation_section":return"relation_section";case"timeline":return"timeline";case"calendar":return"calendar";case"page":return"page_properties";case"compact_page":return"compact_page";case"mini":return"mini_peek";case"form_editor":case"form_viewer":case"property_module":return"property_module";default:(0,g().HB)(e)}}function x(e){return{backgroundImage:`linear-gradient(\n\t\tto right,\n\t\t${e.darkDividerColor} 0%,\n\t\t${e.darkDividerColor} 100%\n\t)`,backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% 1px"}}function S(e){const{store:t,property:n,propertySchema:i}=e,r=null==i?void 0:i.type;if("title"===r)return(0,h().Ay)({store:t,fullyQualified:!1,pageVisitSource:o().y8.LinkInPage});{const e=t.getPropertyValue(n);return a().UY(r,e)}}function A(e){let t=(0,u().k4p)(e);if(!t||""===t.trim()||t.trim().includes(" "))return{domain:void 0,restOfUrl:void 0};t=t.trim();let n=m().qg(t),o=n.host;if(n.protocol&&o||(n=m().qg(`http://${t}`),o=n.host),!o)return{domain:void 0,restOfUrl:void 0};o&&(o=o.replace(/^www./i,""));const i=t.toLowerCase().indexOf(o.toLowerCase());if(-1===i)return{domain:void 0,restOfUrl:void 0};o=t.slice(i,i+o.length);return{domain:o,restOfUrl:t.slice(i+o.length)}}function C(e){const{numberValue:t,numberFormat:n,numberShowAs:o}=e;if(!(p().yr(t)||f().pN(t)||"bar"!==(null==o?void 0:o.type)&&"ring"!==(null==o?void 0:o.type))){const e=y().A.getIntl();return"percent"===n?c().ZV(t,"percent",e):`${t} / ${o.maxValue}`}}function k(e){const{property:t,collectionStore:n}=e,o=n.isSyncedCollection();return Boolean(o)&&(0,i().u)(t)}function w(e,t){switch(e){case"side_peek":return{icon:d().A,tooltip:y().A.formatMessage(T.openInSidePeekTooltip),caption:t?"":y().A.formatMessage(T.openAsPageTitle)};case"center_peek":return{icon:l().q,tooltip:y().A.formatMessage(T.openInCenterPeekTooltip),caption:t?"":y().A.formatMessage(T.openAsPageTitle)};case"full_page":return{icon:s().m,tooltip:y().A.formatMessage(T.openAsPageTooltip),caption:t?"":y().A.formatMessage(T.openAsPageTitle)};default:(0,g().HB)(e)}}const T=(0,n(959013).YK)({openAsPageTitle:{defaultMessage:"Open",id:"database.actionButton.openAsPageTitle"},openAsPageTooltip:{defaultMessage:"Open as page",id:"database.actionButton.openAsPageTooltip"},openInCenterPeekTooltip:{defaultMessage:"Open in center peek",id:"database.actionButton.openInCenterPeekTooltip"},openInSidePeekTooltip:{defaultMessage:"Open in side peek",id:"database.actionButton.openInSidePeekTooltip"}});function I(e){const{store:t,additionalStores:n,collectionContextStore:o}=e,i=t.getAssociatedCollectionStore();return!("collectionTypedView"!==(null==o?void 0:o.contextType)||!i)&&n.some((e=>{var t;return(null===(t=e.getAssociatedCollectionStore())||void 0===t?void 0:t.id)!==i.id}))}function M(e){return"form_editor"===e||"form_viewer"===e}function j(e){return Boolean(e&&!r().dA.includes(e.type))}},477293:(e,t,n)=>{n.d(t,{r:()=>r});var o=()=>n(56366),i=()=>n(217429);function r(e){let{disableExposureLogging:t,disableEventTrailLogging:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o().K8)((()=>i().default.getEligibleGroup({experimentId:e,defaultGroup:"control",disableExposureLogging:t,disableEventTrailLogging:n})),[e,t,n])}},505108:(e,t,n)=>{n.d(t,{a:()=>g});var o=n(296540),i=()=>n(401497),r=()=>n(534177),a=()=>n(284371),s=()=>n(84817),l=()=>n(819121),d=()=>n(955825),c=n(474848);function u(e){const{disabled:t,checked:n,selectorSize:o}=e,[r,a]=(0,l().A)(),s=function(e){const{checked:t,disabled:n,isFocusVisible:o,selectorSize:r}=e;return(0,i().IS)((e=>({root:{position:"absolute",display:"flex",width:15,height:15,padding:5,margin:1.5,justifyContent:"center",alignItems:"center",gap:8,flexShrink:0,borderRadius:"50%",transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${n?e.tint.regular:e.blueColor}`,background:n?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${n?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...o&&{boxShadow:e.buttonBlueFocusRing}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"small"===r?14:18,height:"small"===r?14:18,...n?{pointerEvents:"none"}:{cursor:"pointer"}}})),[t,n,o,r])}({checked:n,disabled:t,isFocusVisible:a,selectorSize:o});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{ref:r,type:"radio",style:s.input,className:"radio-button",...e}),(0,c.jsx)("span",{...(0,d().AH)("custom-radio-button",s.root,t?{}:{pseudoActive:s.active})})]})}var p=()=>n(554509);const g=o.forwardRef((function(e,t){let{additionalContent:n,description:r,isDisabled:l,isSelected:d,label:u,name:p,onChange:g,width:h="fill",selectorSize:y="normal",selectAlignXAxis:b="left",selectAlignYAxis:v="center",selectType:x="checkbox",style:S,supportText:A,value:C,colorName:k,alignAdditionalContent:w,...T}=e;const I=(0,o.useId)(),M=function(e){const{isSelected:t,isDisabled:n,selectAlignYAxis:o,alignAdditionalContent:r}=e;return(0,i().IS)((e=>{const i=t&&!n?e.blueColor:e.selectorBorderUnselected;return{container:{display:"flex",alignItems:r??"center",gap:12,userSelect:"none",padding:"9px 16px 10px 10px",borderRadius:6,border:`1px solid ${i}`,...!n&&{cursor:"pointer"}},title:{fontWeight:a().Wy.medium,fontSize:14,userSelect:"none",lineHeight:18},additionalContentWrapper:{flexShrink:0},selectorWrapper:{display:"flex",..."top"===o?{marginTop:2}:{}},rightAlignSelectorWrapper:{display:"flex"}}}),[t,n,o,r])}({isSelected:d,isDisabled:l,selectAlignYAxis:v,alignAdditionalContent:w}),j=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===v?"top-left":"center-left",gap:12,width:h,children:[(0,c.jsx)("div",{style:M.selectorWrapper,children:(0,c.jsx)(f,{id:I,selectType:x,name:p,value:C,onChange:g,isSelected:d,selectorSize:y,isDisabled:l,...T})}),(0,c.jsx)(m,{colorName:k,description:r,label:u,selectorSize:y,supportText:A,isDisabled:l})]}),P=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===v?"top-center":"center",gap:12,children:[(0,c.jsx)(m,{colorName:k,description:r,label:u,selectorSize:y,supportText:A,isDisabled:l}),(0,c.jsx)("div",{style:{...M.selectorWrapper,...M.rightAlignSelectorWrapper},children:(0,c.jsx)(f,{id:I,selectType:x,name:p,value:C,onChange:g,selectorSize:y,isSelected:d,isDisabled:l,...T})})]}),B=n?(0,c.jsx)("div",{style:M.additionalContentWrapper,children:n}):null;return(0,c.jsx)("label",{ref:t,style:{...M.container,...S},htmlFor:I,children:"left"===b?(0,c.jsxs)(c.Fragment,{children:[j,B]}):(0,c.jsxs)(c.Fragment,{children:[B,P]})})}));function m(e){const{description:t,label:n,supportText:o,selectorSize:i,isDisabled:a,colorName:l}=e;let d;return"large"===i?d="Page-Content/Text-Block":"normal"===i||void 0===i?d="Body-13px/Medium":"small"===i?d="Body-12px/Regular":(0,r().HB)(i),(0,c.jsxs)(s().Y1,{gap:4,children:[(0,c.jsxs)(s().Y1,{gap:2,children:[(0,c.jsx)(p().D,{styleName:d,colorName:l||(a?"quaternary":"primary"),children:n}),t?(0,c.jsx)(p().D,{styleName:"Caption-12px/Regular",colorName:a?"quaternary":"secondary",children:t}):null]}),o?(0,c.jsx)(p().D,{styleName:"Caption-12px/Medium",colorName:"tertiary",children:o}):null]})}function f(e){const{selectType:t,selectorSize:o="normal",id:a,name:s,value:l,onChange:d,isSelected:p,isDisabled:g,...m}=e,f=(0,i().IS)((()=>({checkboxWrapper:{minWidth:18,display:"flex",justifyContent:"center"}})),[]);switch(t){case"radio":return(0,c.jsx)(u,{id:a,name:s,value:l,onChange:d,checked:p,disabled:g,selectorSize:o,...m});case"checkbox":return(0,c.jsx)("div",{style:f.checkboxWrapper,children:(0,c.jsx)(n(115562).W,{id:a,name:s,value:l,onChange:d,checked:p,disabled:g,selectorSize:o,...m})});case"none":return null;default:(0,r().HB)(t)}}},544862:(e,t,n)=>{n.d(t,{A:()=>C});var o=n(296540),i=()=>n(484714),r=()=>n(56366),a=()=>n(959013),s=()=>n(896628),l=()=>n(454531),d=()=>n(751156),c=()=>n(478726),u=()=>n(227440),p=()=>n(867772),g=()=>n(681810),m=()=>n(608581),f=()=>n(145214),h=()=>n(704152),y=()=>n(807683),b=()=>n(401497),v=()=>n(534177),x=n(474848);function S(e){let{src:t,placeholderSrc:n,placeholderBehavior:i,imageStyle:r,containerStyle:a,onLoadComplete:s,testId:l}=e;const[d,c]=(0,o.useState)(!0);let u;switch(i){case"force-show-placeholder":u=!0;break;case"force-show-src":u=!1;break;case"show-placeholder-if-loading-src":u=!!n&&(d||void 0===t);break;default:(0,v().HB)(i)}const p=(0,b().IS)((()=>{const e={gridColumn:1,gridRow:1};return{container:{display:"grid",...a},srcWrapper:{...u&&{display:"none"},...e},placeholderWrapper:{pointerEvents:"none",...e}}}),[a,u]);(0,o.useEffect)((()=>{void 0!==t&&c(!0)}),[t]);const g=(0,o.useCallback)((e=>{c(!1),null==s||s()}),[s]);return(0,x.jsxs)("div",{style:p.container,children:[(0,x.jsx)(y().Ay,{src:t,onLoad:g,style:r,placeholderStyle:p.srcWrapper,placeholderLoadedStyle:p.srcWrapper,testId:l}),n&&(0,x.jsx)(y().Ay,{src:n,style:r,placeholderStyle:p.placeholderWrapper,placeholderLoadedStyle:p.placeholderWrapper})]})}var A=()=>n(453101);const C=function(e){let{store:t,disabled:a,paddingRight:l,paddingLeft:c,height:u,proxyWidth:m}=e;const f=(0,i().v3)(),h=(0,i().Y0)(),b=(0,r().uB)(void 0,n(454305).A),v=(0,r().K8)((()=>a||"suggest"===n(77246).Uv.getMode(t)||(0,n(600871).aD)(h)),[a,t,h]),A=(0,r().K8)((()=>t.getCover()),[t]),C=(0,r().O$)(g().A),[T,I]=(0,o.useState)(void 0);if(!A)return null;const M=C.loadingMode!==p().pF&&C.loadingMode!==p().Wc;return(0,x.jsx)(n(801678).A,{mouseStore:b,onFlushTemporaryPosition:e=>function(e,t,n){const{imagePosition:o,reset:i}=e;d().createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:n,canUndo:!0,perform:e=>{s().yY({store:t,coverPosition:o,transaction:e}),i()}})}(e,t,f),renderControl:e=>{let{handleRepositionClick:n,handleSavePositionClick:o,handleCancelClick:i,isVisible:r,isRepositioning:a}=e;return(0,x.jsx)(w,{handleRepositionClick:n,handleSavePositionClick:o,handleCancelClick:i,isVisible:r,isRepositioning:a,lastProxiedUrl:T,store:t,disabled:v,paddingRight:l,paddingLeft:c,mouseStore:b})},source:"page",store:t,style:{display:"flex",flexDirection:"column",alignItems:"center",height:u,maxHeight:280,cursor:"default"},preventClickPropagation:!0,render:e=>(0,x.jsxs)(o.Fragment,{children:[(0,x.jsx)(n(360083).A,{url:A.cover,isAuthenticated:!0,permissionRecord:A.pointer,width:m,onFinishedLoadingProxyUrl:I,render:(t,n)=>{const o={width:"100%",height:u,maxHeight:280,objectFit:"cover",opacity:M?.5:1,objectPosition:`center ${100*(1-(e.imagePosition||0))}%`,borderRadius:0},i={width:"100%",height:u,maxHeight:280};return(0,x.jsx)(S,{src:n,placeholderSrc:M?C.dataURL:void 0,placeholderBehavior:M?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:i,imageStyle:o,onLoadComplete:k,testId:"pageCover"})}}),M&&(0,x.jsxs)("div",{style:y().fd,children:[(0,x.jsx)(n(331542).A,{size:"md",style:{marginRight:4}}),(0,x.jsx)("div",{style:{minWidth:30,textAlign:"right"},children:void 0!==C.uploadProgress?(0,x.jsx)(n(773382).A,{percentage:C.uploadProgress}):C.progressText?(0,x.jsx)("span",{children:C.progressText}):null})]})]})})};function k(){g().A.reset()}function w(e){let{isVisible:t,isRepositioning:n,handleCancelClick:s,handleRepositionClick:d,handleSavePositionClick:y,lastProxiedUrl:b,store:v,disabled:S,paddingRight:C,paddingLeft:k,mouseStore:w}=e;const T=(0,i().v3)(),I=(0,a().tz)(),M=(0,o.useCallback)((e=>function(e,t,n,o,i){i.reset();const r=e.target.getBoundingClientRect();l().W({environment:t,intl:n,store:o,rect:r,from:"page_header"})}(e,T,I,v,w)),[T,I,v,w]),j=(0,r().K8)((()=>g().A.state.loadingMode),[]),P=(0,r().K8)((()=>function(e){let t;return t=Boolean(e.isFullWidth())?"100%":c().x6,t}(v)),[v]),{device:B}=T,R=(0,r().O$)(u().e);if(S||j!==p().pF||!R)return null;const{isMobile:N}=B;return(0,x.jsx)(f().A,{animate:{width:P,opacity:t?1:0},style:{position:"absolute",pointerEvents:t?"auto":"none",maxWidth:"100%",top:48},children:(0,x.jsxs)(m().A,{isVisible:t,position:"bottom",style:{marginRight:C,marginLeft:k},children:[!n&&(0,x.jsx)(h().A,{style:{borderRight:N?"none":void 0,...A().k},onClick:M,children:(0,x.jsx)(a().sA,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})}),!n&&!N&&(0,x.jsx)(h().A,{style:{...A().k,borderRight:"none"},onClick:e=>d(e,b),children:(0,x.jsx)(a().sA,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})}),n&&!N&&(0,x.jsx)(h().A,{style:A().k,onClick:y,children:(0,x.jsx)(a().sA,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})}),n&&!N&&(0,x.jsx)(h().A,{style:{...A().k,borderRight:"none"},onClick:s,children:(0,x.jsx)(a().sA,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"})})]})})}},555267:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(296540),i=()=>n(401497),r=()=>n(62856),a=()=>n(331542),s=n(474848);function l(e){let{loadingMessage:t}=e;const n=(0,i().DP)(),l=(0,r().A)(!0,400);return(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l?(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)(a().A,{}),t?(0,s.jsx)("div",{style:{marginLeft:8,color:n.text.secondary},children:t}):void 0]}):void 0})}},563015:(e,t,n)=>{n.d(t,{eJ:()=>f,ew:()=>m,ml:()=>c,rA:()=>p,yI:()=>g,zf:()=>u});n(581454);var o=()=>n(496603),i=()=>n(534177),r=()=>n(708685),a=()=>n(145076),s=()=>n(349835),l=()=>n(977345);function d(e){switch(e){case"checkbox":return"boolean";case"number":return"number";case"text":return"text";case"date":return"date";case"array":return"array";case"block":return"block";case"person":return"person";case"select":return"select";case"function":return"function";case"unknown":return"unknown";case"undefined":return"undefined";default:(0,i().HB)(e)}}function c(e){switch(e.type){case s().M9.InvalidCharacter:return{...a().x0.InvalidCharacter,values:{errorCharacter:e.character}};case s().M9.UnclosedStringLiteral:return a().x0.UnclosedStringLiteral;case s().M9.UnclosedComment:return a().x0.UnclosedComment;case s().M9.TokenExpected:return{...a().x0.TokenExpected,values:{expectedToken:e.token}};case s().M9.StringLiteralContainsToken:return a().x0.StringLiteralContainsToken;case s().M9.ExpressionExpected:return a().x0.ExpressionExpected;case s().M9.PropertyTokenOrFunctionExpected:return a().x0.PropertyTokenOrFunctionExpected;case s().M9.EndOfInputExpected:return a().x0.EndOfInputExpected;case s().M9.UnexpectedError:return a().x0.UnexpectedError;case s().M9.TooDeeplyNested:return a().x0.TooDeeplyNested;default:(0,i().HB)(e)}}function u(e){switch(e.type){case s().IA.FunctionCallArgumentWrongType:case s().IA.FunctionCallUnexpectedArgument:return e.argument;default:return e.node}}function p(e,t){let n;switch(t.type){case s().IA.ThisRowTypeNotFound:n=a().Xz.ThisRowTypeNotFound;break;case s().IA.ThisRowNotBlockWithCollection:n=a().Xz.ThisRowNotBlockWithCollection;break;case s().IA.MissingPropertyOnThisRow:n={...a().Xz.MissingPropertyOnThisRow,values:{propertyName:t.property}};break;case s().IA.MissingContextVariable:{const e=(0,l().ix)(t.token)?t.token.contextValueId:t.token.valueId;n={...a().Xz.MissingContextVariable,values:{valueId:e}}}break;case s().IA.MissingBlock:n={...a().Xz.MissingBlock,values:{blockId:t.token.blockId}};break;case s().IA.CallingNotFunction:n={...a().Xz.CallingNotFunction,values:{expressionType:d(t.callee.type.type)}};break;case s().IA.FunctionCallTooFewArguments:n={...a().Xz.FunctionCallTooFewArguments,values:{minNumParameters:t.minNumParameters,functionName:t.libraryFunction.name,numArguments:t.numArguments}};break;case s().IA.FunctionCallUnexpectedArgument:n={...a().Xz.FunctionCallUnexpectedArgument,values:{functionName:t.libraryFunction.name}};break;case s().IA.FunctionCallArgumentWrongType:n={...a().Xz.FunctionCallArgumentWrongType,values:{argumentType:d(t.argument.type.type),functionName:t.libraryFunction.name}};break;case s().IA.MemberPropertyMismatchCollection:n={...a().Xz.MemberPropertyMismatchCollection,values:{propertyName:t.token.property}};break;case s().IA.MemberPropertyMissing:n={...a().Xz.MemberPropertyMissing,values:{propertyName:t.property}};break;case s().IA.MemberPropertyTargetNotBlock:n=a().Xz.MemberPropertyTargetNotBlock;break;case s().IA.MemberPropertyTypeInvalid:n={...a().Xz.MemberPropertyTypeInvalid,values:{propertyName:t.propertyName,propertyType:t.propertyType}};break;case s().IA.UndefinedIdentifier:n={...a().Xz.UndefinedIdentifier,values:{identifier:t.node.text}};break;case s().IA.UnifiedFunctionCannotFindFunction:n={...a().Xz.UnifiedFunctionCannotFindFunction,values:{functionName:t.name}};break;case s().IA.UnifiedFunctionNoArguments:n={...a().Xz.UnifiedFunctionNoArguments,values:{functionName:t.libraryFunction.name}};break;case s().IA.UnifiedFunctionTargetWrongType:n={...a().Xz.UnifiedFunctionTargetWrongType,values:{functionName:t.libraryFunction.name,targetType:d(t.expression.type.type)}};break;case s().IA.CannotRelativelyCompareTypes:n={...a().Xz.CannotRelativelyCompareTypes,values:{lhsType:d(t.lhsType.type),rhsType:d(t.rhsType.type)}};break;case s().IA.CannotDoMathOnType:n={...a().Xz.CannotDoMathOnType,values:{lhsType:d(t.lhsType.type),rhsType:d(t.rhsType.type)}};break;case s().IA.UnaryMinusOnNonNumber:n={...a().Xz.UnaryMinusOnNonNumber,values:{type:d(t.expression.type.type)}};break;case s().IA.IdentifierExpected:n=a().Xz.IdentifierExpected;break;case s().IA.FunctionCallExpected:n={...a().Xz.FunctionCallExpected,values:{functionName:t.functionName}};break;case s().IA.RenamedIdentifier:n={...a().Xz.RenamedIdentifier,values:{identifier:t.identifier,renamedTo:t.renamedTo}};break;case s().IA.RemovedFunction:n={...a().Xz.RemovedFunction,values:{functionName:t.functionName,alternative:t.alternative}};break;case s().IA.ContextVariableNotBlockWithCollection:n={...a().Xz.ContextVariableNotBlockWithCollection,values:{valueId:t.token.contextValueId}};break;case s().IA.MissingPropertyOnContextVariable:n={...a().Xz.MissingPropertyOnContextVariable,values:{propertyName:t.property,valueId:t.token.contextValueId}};break;case s().IA.BlockPropertyTypeInvalid:n={...a().Xz.BlockPropertyTypeInvalid,values:{propertyName:t.propertyName}};break;case s().IA.DisallowedReturnType:{const o=t.allowedReturnTypes.map((t=>e.formatMessage((0,r().getHumanReadableType)(t)).toLocaleLowerCase()));n={...a().Xz.DisallowedReturnType,values:{allowedReturnType:e.formatList(o,{style:"long",type:"conjunction"}),allowedReturnTypeCount:t.allowedReturnTypes.length,returnType:e.formatMessage((0,r().getHumanReadableType)(t.returnType)).toLocaleLowerCase()}};break}case s().IA.CrossSpacePropertyNotSupported:n={...a().Xz.CrossSpacePropertyNotSupported};break;default:(0,i().HB)(t)}return{...n,values:{...n.values,startOffset:t.node.startOffset,endOffset:t.node.endOffset+1}}}function g(e,t){let n;switch(t.type){case s().uW.MissingThisRow:n=a().X8.MissingThisRow;break;case s().uW.MissingSchemaPropertyOnThisRow:n={...a().X8.MissingSchemaPropertyOnThisRow,values:{propertyName:t.property}};break;case s().uW.ThisRowBlockPropertyMismatchCollection:n=a().X8.ThisRowBlockPropertyMismatchCollection;break;case s().uW.MissingContextVariable:n={...a().X8.MissingContextVariable,values:{valueId:t.valueId}};break;case s().uW.IdentifierNotFound:n={...a().X8.IdentifierNotFound,values:{identifier:t.node.text}};break;case s().uW.CannotRelativelyCompareTypes:n={...a().X8.CannotRelativelyCompareTypes,values:{lhsType:d(t.lhsType),rhsType:d(t.rhsType)}};break;case s().uW.CannotDoMathOnType:n={...a().X8.CannotDoMathOnType,values:{valueType:d(t.valueType)}};break;case s().uW.CannotCallNonFunction:n={...a().X8.CannotCallNonFunction,values:{calleeType:d(t.calleeType)}};break;case s().uW.UnifiedFunctionPropertyNotFound:n={...a().X8.UnifiedFunctionPropertyNotFound,values:{functionName:t.node.name}};break;case s().uW.LibraryFunctionExecutionError:const o=t.error instanceof s().x4?t.error:void 0;n=(null==o?void 0:o.info.type)===s().v3.DateInvalidDurationUnit?{...a().gW.DateInvalidDurationUnit,values:{functionName:t.libraryFunction.name,invalidUnit:o.info.invalidUnit}}:(null==o?void 0:o.info.type)===s().v3.CannotUseToNumberOnList?{...a().gW.CannotUseToNumberOnList}:(null==o?void 0:o.info.type)===s().v3.CannotRoundToNonInteger?{...a().gW.CannotRoundToNonInteger,values:{precision:o.info.precision}}:(null==o?void 0:o.info.type)===s().v3.CannotRoundToTooManyDecimalPlaces?{...a().gW.CannotRoundToTooManyDecimalPlaces,values:{precision:o.info.precision}}:{...a().X8.LibraryFunctionExecutionError,values:{functionName:t.libraryFunction.name}};break;case s().uW.FunctionCallTooFewArguments:n={...a().X8.FunctionCallTooFewArguments,values:{functionName:t.libraryFunction.name}};break;case s().uW.FunctionCallUnexpectedArgument:n={...a().X8.FunctionCallUnexpectedArgument,values:{functionName:t.libraryFunction.name}};break;case s().uW.FunctionCallArgumentWrongType:n={...a().X8.FunctionCallArgumentWrongType,values:{functionName:t.libraryFunction.name,argumentType:d(t.argumentType)}};break;case s().uW.AccessingPropertyOnNonBlock:n=a().X8.AccessingPropertyOnNonBlock;break;case s().uW.MissingDataDependencyBlock:n={...a().X8.MissingDataDependencyBlock,values:{blockId:t.blockPointer.id}};break;case s().uW.MissingDataDependencyPerson:n={...a().X8.MissingDataDependencyPerson,values:{personId:t.personPointer.id}};break;case s().uW.MemberPropertyMismatchCollection:n=a().X8.MemberPropertyMismatchCollection;break;case s().uW.MissingPropertyOnSchemaForMemberProperty:n=a().X8.MissingPropertyOnSchemaForMemberProperty;break;case s().uW.UnaryMinusOnNonNumber:n={...a().X8.UnaryMinusOnNonNumber,values:{expressionType:d(t.expressionType)}};break;case s().uW.UnexpectedRecoveryNode:n=a().X8.UnexpectedRecoveryNode;break;case s().uW.UnexpectedError:n=a().X8.UnexpectedError;break;case s().uW.DepthExceeded:n=a().X8.DepthExceeded;break;case s().uW.CycleDetected:n=a().X8.CycleDetected;break;case s().uW.DownstreamParseFailure:n=a().X8.DownstreamParseFailure;break;case s().uW.MaxEvaluationTimeExceeded:n=a().X8.MaxEvaluationTimeExceeded;break;case s().uW.MissingSchemaPropertyOnCollection:n={...a().X8.MissingSchemaPropertyOnCollection,values:{collectionId:t.collectionId,propertyName:t.property}};break;case s().uW.ContextVariableWrongType:n={...a().X8.ContextVariableWrongType,values:{expectedType:t.expectedType,propertyType:t.resultType,valueId:t.valueId}};break;case s().uW.DisallowedValueType:{const o=t.allowedValueTypes.map((t=>e.formatMessage((0,r().getHumanReadableType)(t)).toLocaleLowerCase()));n={...a().Xz.DisallowedReturnType,values:{allowedValueType:e.formatList(o,{style:"long",type:"conjunction"}),allowedValueTypeCount:t.allowedValueTypes.length,valueType:e.formatMessage((0,r().getHumanReadableValueType)(t.expressionValue)).toLocaleLowerCase()}};break}default:(0,i().HB)(t)}return(0,l().li)(t)?{...n,values:{...n.values,startOffset:t.node.startOffset,endOffset:t.node.endOffset+1}}:n}function m(e){const t=null==e?void 0:e.values;return[o().cJ(e,"values"),t]}function f(e){return e.type===s().uW.DepthExceeded||e.type===s().uW.CycleDetected||e.type===s().uW.MaxEvaluationTimeExceeded||e.type===s().uW.LibraryFunctionExecutionError}},567121:(e,t,n)=>{n.d(t,{EG:()=>a,K5:()=>r,RH:()=>i,Yi:()=>s,ls:()=>o});const o=32,i=202,r=1e3,a="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",s="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},577466:(e,t,n)=>{n.d(t,{B:()=>r});var o=()=>n(401497),i=()=>n(963589);function r(e){const t=(0,i().X)("more_rounded_block_container");return(0,o().IS)((e=>({wrapper:{background:e.surface.wash,borderRadius:t?10:5,padding:"8px 12px",userSelect:"none",width:"100%"}})),[t])}},578194:(e,t,n)=>{n.d(t,{r:()=>o});const o=(0,n(583835).Dv)("importEvernote")},608581:(e,t,n)=>{n.d(t,{A:()=>u});n(898992),n(354520),n(581454),n(941795);var o=n(296540),i=()=>n(401497),r=()=>n(955825),a=()=>n(284371),s=()=>n(780054),l=()=>n(963575),d=n(474848);function c(e){const{button:t,isLast:n}=e,s=(0,i().IS)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:a().Wy.medium,borderRight:`1px solid ${e.regularDividerColor}`,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor},buttonLast:{borderRight:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return o.cloneElement(t,{...(0,r().AH)(t.props.style,s.button,n&&s.buttonLast),hoveredStyle:(0,r().AH)(s.buttonHovered,n&&s.buttonLast).style,pressedStyle:s.buttonPressed})}const u=function(e){let{children:t,isVisible:u,position:p,style:g}=e;const m=(0,i().IS)((e=>({container:{color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.shadowSM,display:"flex",whiteSpace:"nowrap",borderRadius:l().A.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:s().A.isMobile?"auto":"none",opacity:s().A.isMobile?1:0,fontFamily:a().vc(n(662303).locale).sans,position:"absolute",right:l().A.horizontal.small,bottom:l().A.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:l().A.vertical.small,bottom:void 0}})),[]),f=o.Children.toArray(t).filter(n(534177).O9),h=f.length;return(0,d.jsx)(n(145214).A,{animate:{opacity:u?1:0},...(0,r().AH)(m.container,g,u&&m.containerHover,"top"===p&&m.containerTop),children:f.map(((e,t)=>{const i=t===h-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===n(859428).A&&o.isValidElement(e))return o.cloneElement(e,{render:(t,n)=>{const o=e.props.render(t,n);return(0,d.jsx)(c,{isLast:i,button:o},e.key)}});if(e.type===n(704152).A&&o.isValidElement(e))return(0,d.jsx)(c,{isLast:i,button:e},e.key)}}))})}},612900:(e,t,n)=>{n.d(t,{u:()=>r});var o=()=>n(645873);const i=new(o().O2)("PulsingWrapper",(async()=>n.e(45248).then(n.bind(n,673962)))),r=(0,o().jQ)(i,(e=>e.PulsingWrapper),{renderLoading:(e,t)=>t.children})},650843:(e,t,n)=>{n.r(t),n.d(t,{LargeSurfaceRenderError:()=>s});n(296540);var o=()=>n(167355),i=()=>n(840071),r=()=>n(113414),a=n(474848);function s(e){return(0,a.jsx)(i().L,{...e,iconGroup:o().F,children:(0,a.jsx)(r().g,{})})}},667193:(e,t,n)=>{n.d(t,{p:()=>a});var o=()=>n(484714),i=()=>n(56366),r=()=>n(186445);function a(){const e=(0,o().v3)();return(0,i().O$)((0,r().rp)(e))}},677195:(e,t,n)=>{n.d(t,{R:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("verificationCheck",{viewBox:"0 0 6 7",svg:(0,o.jsx)("path",{d:"M2.84245 6.11619C2.71116 6.30644 2.53392 6.40156 2.31072 6.40156C2.20131 6.40156 2.10066 6.37881 2.00875 6.33332C1.92123 6.28782 1.83589 6.21545 1.75274 6.11619L0.150985 4.25515C0.0503282 4.12694 0 3.99874 0 3.87053C0 3.73406 0.04814 3.61826 0.14442 3.52314C0.245077 3.42388 0.365427 3.37425 0.50547 3.37425C0.597374 3.37425 0.680525 3.39286 0.754923 3.43008C0.833698 3.46317 0.912473 3.52934 0.991247 3.6286L2.28446 5.21049L5.00875 1.07896C5.13129 0.892857 5.28446 0.799805 5.46827 0.799805C5.60394 0.799805 5.72648 0.841161 5.83589 0.923874C5.9453 1.00659 6 1.11618 6 1.25266C6 1.32297 5.98249 1.39327 5.94748 1.46358C5.91685 1.52975 5.88184 1.59178 5.84245 1.64968L2.84245 6.11619Z"})})},681810:(e,t,n)=>{n.d(t,{A:()=>o});const o=new(n(867772).Ay)},701751:(e,t,n)=>{n.d(t,{p:()=>r});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"3.97 1.94 14.91 15.66",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M10.55 12.808a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 1 0 1.1 0z"}),(0,o.jsx)("path",{d:"M15.4 1.95a3.48 3.48 0 0 0-3.48 3.48v1.92H6.4a2.425 2.425 0 0 0-2.425 2.425v5.4A2.425 2.425 0 0 0 6.4 17.6h7.2a2.425 2.425 0 0 0 2.425-2.425v-5.4A2.425 2.425 0 0 0 13.6 7.35h-.43V5.43a2.23 2.23 0 1 1 4.46 0v2.095a.625.625 0 1 0 1.25 0V5.43a3.48 3.48 0 0 0-3.48-3.48M5.225 9.775c0-.649.526-1.175 1.175-1.175h7.2c.649 0 1.175.526 1.175 1.175v5.4c0 .649-.526 1.175-1.175 1.175H6.4a1.175 1.175 0 0 1-1.175-1.175z"})]})},r=(0,n(340498).wt)("lockOpen",i)},748539:(e,t,n)=>{n.d(t,{f:()=>o});const o=new(n(645873).O2)("pageCovers",(async()=>{const{pageCovers:e}=await n.e(40198).then(n.bind(n,519737));return e}))},756114:(e,t,n)=>{n.d(t,{D:()=>o});function o(e,t){t.route.name;return!1}},801678:(e,t,n)=>{n.d(t,{A:()=>m});var o=n(296540),i=()=>n(662303),r=()=>n(56366),a=()=>n(959013),s=()=>n(381349),l=()=>n(496603),d=()=>n(284371),c=()=>n(720665),u=()=>n(145214),p=n(474848);const g={isRepositioning:!1};const m=function(e){const t=(0,o.useRef)(null),i=(0,n(484714).v3)(),[a,s]=(0,o.useState)(g),d=(0,o.useCallback)((()=>{s(g)}),[]),{renderControl:u,onFlushTemporaryPosition:m,style:h,source:y,store:b}=e,{isRepositioning:v,image:x,startDragRenderedPosition:S,startDragImageScreenHeight:A}=a,C=(0,r().K8)((()=>0===n(502438).default.state.stores.length),[]),[k,w]=(0,o.useState)(!1),T=(0,r().uB)(e.mouseStore,n(454305).A),I=(0,r().K8)((()=>T.state.mouseEntered),[T]),M=(0,n(401497).IS)((()=>({dragContainer:{width:"100%",cursor:v?"move":"inherit"},container:{position:"relative",width:"100%",zIndex:1}})),[v]),j=(0,r().K8)((()=>function(e,t,n){return(0,l().Et)(n)?n:function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,l().Et)(e))return e}const n=.5;if(t.isCollectionView()){const e=t.getCollectionStore();if(e){const t=e.getFormat().collection_cover_position;return(0,c().pN)(t)?n:t}}const o=t.getFormat(),i=o.page_cover_position;if((0,l().Et)(i))return i;return n}(e,t)}(y,b,a.temporaryPosition)),[a.temporaryPosition,y,b]);(0,o.useEffect)((()=>{const e=e=>{const n=t.current;n&&!n.contains(e.target)&&v&&m({imagePosition:j,reset:()=>{T.reset(),d()}})};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)}),[j,v,T,m,d]),v&&!C&&d();const P=(0,o.useMemo)((()=>(0,l().nF)((e=>{T.setState({...T.state,mouseEntered:!0})}),100)),[T]),B=(0,o.useMemo)((()=>(0,l().sg)((e=>{T.setState({...T.state,mouseEntered:!1})}),100)),[T]),R=(0,o.useCallback)(((e,t)=>{n(778417).IU({environment:i});const o=new Image;o.onload=()=>{s((e=>({...e,isRepositioning:!0,image:o})))},t&&(o.src=t)}),[i]),N=(0,o.useCallback)((e=>{m({imagePosition:j,reset:()=>{d()}})}),[j,m,d]),F=(0,o.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,n(819121).p)(t)&&w(!0)}),[]),E=(0,o.useCallback)((()=>{w(!0)}),[]),L=(0,o.useCallback)((e=>{if(x&&v){const e=t.current;if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/x.width*x.height;s((e=>({...e,startDragImageScreenHeight:t,startDragRenderedPosition:j})))}}}),[x,j,v]),z=(0,o.useCallback)((e=>{if(v){const t=e.diffY/(A||0)+(S||0);s((e=>({...e,temporaryPosition:(0,l().LI)((0,n(40845).A)(t,0,1),4)})))}}),[v,A,S]),W=(0,o.useCallback)((()=>{s((e=>({...e,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})))}),[]),U=(0,r().K8)((()=>u({handleRepositionClick:R,handleSavePositionClick:N,handleCancelClick:d,isVisible:I||k||v,isRepositioning:v})),[R,N,k,v,I,u,d]),D=(0,n(79043).A)(Boolean(e.preventClickPropagation));return(0,p.jsxs)("div",{ref:t,onFocus:F,onBlur:E,onMouseEnter:P,onMouseMove:P,onMouseLeave:B,...D,...(0,n(955825).AH)(M.container,h),children:[(0,p.jsx)(n(603820).A,{onDraggableDragStart:L,onDraggableDragMove:z,onDraggableDragEnd:W,onDraggableDragCancel:W,disabled:!v,render:t=>(0,p.jsx)("div",{style:M.dragContainer,...t,children:e.render({imagePosition:j,isRepositioning:v})})}),(0,p.jsx)(f,{small:e.small,isRepositioning:v}),U]})};function f(e){let{small:t,isRepositioning:n}=e;if(t)return null;const o={background:s().Ay.blackWithAlpha(.4),borderRadius:4,color:s().Ay.white,fontSize:12,fontFamily:d().vc(i().locale).sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"};return(0,p.jsx)(u().A,{visible:n,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:o,children:(0,p.jsx)(a().sA,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})}},840071:(e,t,n)=>{n.d(t,{L:()=>s});n(296540);var o=()=>n(84817),i=()=>n(577466),r=()=>n(434663),a=n(474848);function s(e){let{backgroundColor:t,children:n,...s}=e;const l=(0,i().B)(t),d={wrapper:{...l.wrapper,background:t?l.wrapper.background:"initial",height:"100%",padding:"20px 12px"}};return(0,a.jsx)(o().Y1,{style:d.wrapper,align:"center",children:(0,a.jsx)(r().r,{...s,direction:"vertical",overrideSize:()=>48,children:n})})}},843189:(e,t,n)=>{n.d(t,{E:()=>a});var o=n(296540),i=()=>n(960715),r=n(474848);const a=o.forwardRef(((e,t)=>{let{children:o,color:a,disabled:s,iconLeading:l,iconStyle:d,iconTrailing:c,isLoading:u,shape:p="default",size:g="md",style:m,...f}=e;const h=(0,n(963589).X)("nds_button_gap")||Boolean(c),y=(0,n(401497).IS)((e=>{const t=a?`${a}Primary`:"primary",r=a||"regular",c=a?`${a}Hover`:"primaryHover",f=a?`${a}Pressed`:"primaryPressed";return{button:{...(0,i().qq)({shape:p,size:g,hasIconOnly:Boolean(l)&&!o,isButtonGapEnabled:h}),justifyContent:"center",color:e.text[t],background:e.tint[r],opacity:s||u?.3:1,fontWeight:n(284371).Wy.medium,...m},hovered:{background:s?e.tint[r]:e.tint[c]},pressed:{background:s?e.tint[r]:e.tint[f]},icon:{...(0,i().D3)({size:g,hasIconOnly:!o,isButtonGapEnabled:h}),...d}}}),[o,a,s,l,d,h,u,p,g,m]);return(0,r.jsxs)(n(197190).A,{ref:t,style:y.button,hoveredStyle:y.hovered,pressedStyle:y.pressed,disabled:s||u,...f,children:[u?(0,r.jsx)(n(331542).A,{style:{marginRight:4}}):null,l?l(y.icon):null,o,c?c(y.icon):null]})}));a.displayName="TintButton"},867772:(e,t,n)=>{n.d(t,{Ay:()=>l,Gi:()=>r,Wc:()=>o,pF:()=>a,vS:()=>i});const o="loadingLocalImage",i="uploading",r="downloading",a="loaded";class s extends(()=>n(757695))().Store{getInitialState(){return{loadingMode:a}}}const l=s},882262:(e,t,n)=>{n.d(t,{m:()=>i});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"3.23 3.23 13.54 13.53",svg:(0,n(474848).jsx)("path",{d:"M4.485 8.86V5.369l4.073 4.073a.625.625 0 0 0 .884-.884L5.369 4.485h3.49a.625.625 0 1 0 0-1.25h-5a.625.625 0 0 0-.624.625v5a.625.625 0 0 0 1.25 0m10.146 6.655-4.07-4.07a.625.625 0 0 1 .884-.884l4.07 4.07V11.14a.625.625 0 1 1 1.25 0v5c0 .345-.28.625-.625.625h-5a.625.625 0 1 1 0-1.25z"})},i=(0,n(340498).wt)("arrowExpandDiagonal",o)},920498:(e,t,n)=>{n.r(t),n.d(t,{getNotificationValues:()=>d,getState:()=>l,setState:()=>s});n(581454);var o=()=>n(801634),i=()=>n(959044),r=()=>n(765957);let a={};function s(e){a={...a,...e}}function l(){return a}function d(){const e=a.result;if(!e)return null;const t=r().default.state.currentSpaceStore;return t?e.map((e=>{const n={table:i()._p,id:e,spaceId:t.getSpaceId()},r=t.getRecordValue(n),a=null==r?void 0:r.activity_id;if(a&&r){const e={table:o().kz,id:a,spaceId:t.getSpaceId()};r.activity=t.getRecordValue(e)}return r})):null}},937199:(e,t,n)=>{n.d(t,{LH:()=>r,Op:()=>i,bi:()=>l,sf:()=>s,v$:()=>a});n(16280);var o=n(296540);const i=(0,o.createContext)(null);function r(){const e=(0,o.useContext)(i);if(!e)throw new Error("usePageLayoutEditorContext must be used inside BaseLayoutEditorContext.Provider");return e}function a(){return(0,o.useContext)(i)}i.displayName="BaseLayoutEditorContext";const s=(0,o.createContext)(null);function l(){const e=(0,o.useContext)(s);if(!e)throw new Error("usePageLayoutEditorContext must be used inside PageLayoutEditorContextProvider");return e}s.displayName="PageLayoutEditorContext"},990402:(e,t,n)=>{n.d(t,{m:()=>i});var o=()=>n(46986);function i(e){return("workflow"===e.getType()||e.isCollectionView()&&e.getWorkflowStore())&&e.canEdit()&&!e.isSystemBlock()&&(0,o().re)()}}}]);