"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[31782],{39341:(e,t,o)=>{o.d(t,{p:()=>n});class i extends(()=>o(757695))().Store{getInitialState(){return{banners:[],height:void 0}}setHeight(e){this.setState({height:e,banners:this.state.banners})}}const n=new i},54362:(e,t,o)=>{o.d(t,{LN:()=>Ho,Kh:()=>Do,Ay:()=>Vo,gj:()=>Xo});o(16280),o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(737550);var i=o(296540),n=()=>o(484714),r=()=>o(792485),a=()=>o(56366),s=()=>o(401497),l=()=>o(628182),d=()=>o(861017),c=()=>o(175947),u=()=>o(496603),p=()=>o(222917),g=()=>o(779724),h=()=>o(620689),m=()=>o(255460),b=()=>o(662453),v=()=>o(145214),f=()=>o(2143),x=()=>o(765974),S=()=>o(340498),y=o(474848);const j=(0,S().wt)("unavailableOffline",{viewBox:"0 0 26 24",svg:(0,y.jsx)("g",{children:(0,y.jsx)("path",{d:"M6.574 19.645a6.3 6.3 0 0 1-2.314-.42 6.1 6.1 0 0 1-1.865-1.143 5.3 5.3 0 0 1-1.23-1.69 4.8 4.8 0 0 1-.44-2.03q0-1.192.43-2.198a4.44 4.44 0 0 1 1.24-1.67 3.94 3.94 0 0 1 1.914-.84q0-.36.068-.693a3.2 3.2 0 0 1 .215-.625L5.89 9.635q-.079.225-.118.478-.039.255-.039.547 0 .195-.185.195-1.036 0-1.768.47-.723.468-1.103 1.269a4 4 0 0 0-.381 1.767q0 .997.557 1.846.555.84 1.523 1.357.966.508 2.197.508h7.764l1.582 1.573zm14.61-.166-1.407-1.407h.244q1.035 0 1.866-.44a3.5 3.5 0 0 0 1.328-1.18 2.94 2.94 0 0 0 .488-1.651q0-1.329-.8-2.246-.791-.918-2.12-1.211-.176-.039-.156-.225.03-.341.039-.713a7 7 0 0 0 0-.722 5.9 5.9 0 0 0-.8-2.686 5.6 5.6 0 0 0-1.954-1.992q-1.23-.762-2.832-.762-1.26 0-2.197.42a4.9 4.9 0 0 0-1.592 1.113 8 8 0 0 0-1.143 1.543q-.078.146-.244.098a3 3 0 0 0-.459-.098 2.2 2.2 0 0 0-.459-.029L7.492 5.797q.469-.117.947-.117a3.3 3.3 0 0 1 .938.117 8 8 0 0 1 1.406-1.563 6.6 6.6 0 0 1 1.895-1.132q1.074-.43 2.402-.43 1.505 0 2.793.557a6.7 6.7 0 0 1 2.266 1.562 7.1 7.1 0 0 1 1.513 2.383q.537 1.366.537 2.998a5 5 0 0 1 2.715 2.705q.372.898.371 1.924 0 1.142-.517 2.119a4.8 4.8 0 0 1-1.445 1.65 5.4 5.4 0 0 1-2.13.909Zm-1.143 2.646L3.732 5.835a.75.75 0 0 1-.214-.526q0-.322.214-.538a.72.72 0 0 1 .528-.214.71.71 0 0 1 .547.214l16.298 16.29a.67.67 0 0 1 .215.527.75.75 0 0 1-.215.537.75.75 0 0 1-.537.215.74.74 0 0 1-.527-.215"})})});var C=()=>o(959013),P=()=>o(381349),w=()=>o(284371),k=()=>o(339702),A=()=>o(780054),_=()=>o(963589),M=()=>o(227440),I=()=>o(204063);function B(){const e=(0,n().v3)(),t=(0,a().O$)(M().e);let o;return(0,i.useEffect)((()=>{t||(0,k().j)(e,{type:"page_error_indicator"})}),[t,e]),o=t?(0,y.jsx)(C().sA,{defaultMessage:"Oops, there was an error loading this page. Refresh to load it again.",id:"pageErrorIndicator.loadingError.message"}):e.defaultRecordCache.persistedRecordCache?(0,y.jsx)(C().sA,{defaultMessage:"Please go online to load this page, then you'll be able to access it while offline.",id:"pageOfflineIndicator.hasLocalData.message"}):(0,y.jsx)(C().sA,{defaultMessage:"Oops, you seem to be offline. Please go online to view this page.",id:"pageOfflineIndicator.noLocalData.message"}),(0,y.jsxs)("div",{style:K(e),children:[(0,y.jsx)("div",{style:R(e),children:o}),(0,y.jsx)(I().A,{size:"lg",onClick:()=>window.location.reload(),children:(0,y.jsx)(C().sA,{defaultMessage:"Refresh",id:"pageErrorIndicator.reloadButton.label"})})]})}function T(e){let{isOfflineAndUnavailable:t}=e;const o=(0,n().v3)(),r=(0,a().O$)(M().e);(0,i.useEffect)((()=>{r||(0,k().j)(o,{type:"page_error_indicator"})}),[r,o]);const l=(0,s().IS)((e=>({container:{height:"100%",minHeight:`calc(100vh - ${2*c().ek(o.device.isElectronMac)}px)`,paddingLeft:A().A.isMobile?16:32,paddingRight:A().A.isMobile?16:32,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},icon:{width:29,height:24,fill:e.text.secondary,marginBottom:8},title:{fontWeight:w().Wy.medium,color:e.text.secondary,textAlign:"center"},description:{color:e.text.secondary,textAlign:"center"},button:{marginTop:8}})),[o.device]);let d,u;return t?(d=(0,y.jsx)(C().sA,{defaultMessage:"This page is not available while offline.",id:"pageOfflineIndicator.unavailableError.title"}),u=(0,y.jsx)(C().sA,{defaultMessage:"Please return online to access this content{hasLocalData, select, true { or sync the page} other {}}.",id:"pageOfflineIndicator.unavailableError.description",values:{hasLocalData:Boolean(o.defaultRecordCache.persistedRecordCache)}})):(d=(0,y.jsx)(C().sA,{defaultMessage:"Oops, there was an error loading this page.",id:"pageErrorIndicator.loadingError.title"}),u=(0,y.jsx)(C().sA,{defaultMessage:"Refresh to load it again.",id:"pageErrorIndicator.loadingError.description"})),(0,y.jsxs)("div",{style:l.container,children:[r?(0,x().exclamationMarkTriangleFillIcon)(l.icon):j(l.icon),(0,y.jsx)("div",{style:l.title,children:d}),(0,y.jsx)("div",{style:l.description,children:u}),r&&(0,y.jsx)(I().A,{style:l.button,size:"lg",onClick:()=>window.location.reload(),children:(0,y.jsx)(C().sA,{defaultMessage:"Refresh",id:"pageErrorIndicator.reloadButton.label"})})]})}const L=function(e){let{isOfflineAndUnavailable:t}=e;return(0,_().X)("download_for_offline")?(0,y.jsx)(T,{isOfflineAndUnavailable:t}):(0,y.jsx)(B,{})};function R(e){return{fontSize:A().A.isMobile?18:32,marginBottom:8,textAlign:"center",color:P().Ay.uiBlack,maxWidth:640,lineHeight:1.3}}function K(e){return{height:"100%",minHeight:`calc(100vh - ${2*c().ek(e.device.isElectronMac)}px)`,paddingLeft:A().A.isMobile?16:32,paddingRight:A().A.isMobile?16:32,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}var E=()=>o(299772),O=()=>o(13679),D=()=>o(411813),N=()=>o(402014),V=()=>o(187174),U=()=>o(112995),z=()=>o(138156),F=()=>o(186445),W=()=>o(38337),H=()=>o(645873),$=()=>o(441199);const G=new(H().O2)("PublicSharingTopbar",(()=>o.e(68224).then(o.bind(o,441712)))),q=(0,H()._h)(G,(e=>e.PublicSharingTopbar));var Z=()=>o(644914),J=()=>o(749687),X=()=>o(792415),Y=()=>o(765957),Q=()=>o(224011),ee=()=>o(948914),te=()=>o(630116),oe=()=>o(3243),ie=()=>o(205127),ne=()=>o(682944),re=()=>o(533788),ae=()=>o(976582),se=()=>o(281401),le=()=>o(573792),de=()=>o(200562),ce=()=>o(854094),ue=()=>o(699527);function pe(e){const t=(0,s().IS)((e=>({container:{display:"flex",flexGrow:1,fontSize:14}})),[]),o=(0,ae().m)({location:"TeamHome"});return(0,y.jsxs)("div",{style:t.container,children:[e.showSidebarButton&&(0,y.jsx)(de().z,{}),(0,y.jsx)(ne()._,{topbarFeatureController:o}),(0,y.jsx)(ie().vj,{store:e.teamStore,showDivider:!1,maxWidth:160,disabled:!1})]})}function ge(e){const{isPhone:t}=(0,n().Y0)(),o=(0,s().IS)((()=>({container:{display:"flex"}})),[]);return(0,y.jsxs)("div",{style:o.container,children:[!t&&(0,y.jsx)(oe().v3,{teamStore:e.teamStore,from:"team_home_topbar"}),(0,y.jsx)(ue().c,{teamStore:e.teamStore,permissionsInviteStore:e.permissionsInviteStore})]})}const he=function(e){const t=(0,n().v3)(),i=(0,a().O$)(ee().b),r=(0,a().K8)((()=>ee().A.state.zoomFactor),[]),l=(0,a().K8)((()=>$().default.isPanelPinnedState()),[]),d=(0,a().K8)((()=>Q().A.state.isFullScreen),[]),c=(0,a().K8)((()=>(0,Z().KB)(t)),[t]),u=(0,a().K8)((()=>(0,F().X4)(t)),[t]),p=(0,a().uB)(void 0,o(205618).A),g=(0,s().IS)((e=>({container:{...le().DW({environment:t,isShowingTabBar:i,shouldShowSidebar:u.shouldShowSidebar,isSidebarExpanded:c,isSecondarySidebarVisible:l,isBrowserFullScreen:d,zoom:r||o(418135).rx})},divider:{flexGrow:1,flexShrink:1}})),[u.shouldShowSidebar,t,d,i,c,r,l]);return(0,y.jsx)(O().A,{store:e.teamStore,disableRectangularSelection:!0,disableEditNearestBlock:!0,render:()=>(0,y.jsxs)("div",{style:g.container,onDoubleClick:se().mz,onMouseEnter:()=>ce().A.setState({isHovered:!0}),onMouseLeave:()=>ce().A.setState({isHovered:!1}),children:[(0,y.jsx)(pe,{teamStore:e.teamStore,showSidebarButton:Boolean(e.showSidebarButton)}),(0,y.jsx)(re().A,{}),(0,y.jsx)("div",{style:g.divider}),(0,y.jsx)(ge,{teamStore:e.teamStore,permissionsInviteStore:p})]})})};var me=()=>o(563615);const be={LoggedOutAppBanner:new(H().O2)("LoggedOutAppBanner",(()=>o.e(30214).then(o.bind(o,990716)))),PublicSiteBanner:new(H().O2)("PublicSiteBanner",(()=>o.e(46743).then(o.bind(o,129165))))},ve=(0,H()._h)(be.LoggedOutAppBanner,(e=>e.LoggedOutAppBanner)),fe=(0,H()._h)(be.PublicSiteBanner,(e=>e.PublicSiteBanner));var xe=()=>o(426388),Se=()=>o(214683),ye=()=>o(169606),je=()=>o(179034),Ce=()=>o(530216),Pe=()=>o(449506),we=()=>o(624550),ke=()=>o(348337),Ae=()=>o(435009),_e=()=>o(731320),Me=()=>o(836251),Ie=()=>o(559378),Be=()=>o(217429),Te=()=>o(795179),Le=()=>o(493823),Re=()=>o(187485),Ke=()=>o(746084),Ee=()=>o(584262),Oe=()=>o(427704),De=()=>o(901389),Ne=()=>o(507785),Ve=()=>o(260488),Ue=()=>o(492414),ze=()=>o(997513),Fe=()=>o(596106),We=()=>o(215152),He=()=>o(20489),$e=()=>o(411671),Ge=()=>o(16006),qe=()=>o(70191),Ze=()=>o(863059),Je=()=>o(22634),Xe=()=>o(173019),Ye=()=>o(965998),Qe=()=>o(783423),et=()=>o(554283),tt=()=>o(869562),ot=()=>o(737230),it=()=>o(77246),nt=()=>o(864943),rt=(o(354520),o(581454),()=>o(142748)),at=()=>o(296798),st=()=>o(108944),lt=()=>o(578872),dt=()=>o(187820);function ct(e){const{store:t}=e,o=(0,a().K8)((()=>t.getSpaceStore()),[t]),i=(0,a().K8)((()=>{var e;if(!o)return[];const i=lt().GN(t),n=null==i||null===(e=i.getSiteStore())||void 0===e||null===(e=e.getHeader())||void 0===e?void 0:e.customItems;return n?n.filter((e=>"block"===e.type)):[]}),[t,o]);return o&&i&&0!==i.length?(0,y.jsx)("div",{style:{display:"flex"},children:i.map((e=>(0,y.jsx)(ut,{spaceStore:o,blockId:e.blockId},e.blockId)))}):null}function ut(e){const{spaceStore:t,blockId:o}=e,{store:i,icon:n,isEmptyPage:r,url:l,isReady:d,hasPublicAccess:c}=(0,a().K8)((()=>{const e=te().Bv.createChildStore(t,{table:je().ev,id:o}),i=(0,Ue().Ay)({store:e,preferPublicLink:!0,pageVisitSource:Ee().y8.SiteCustomHeader}),n=(0,st().E)(e),r=(0,rt().ot)(n);return{store:e,icon:e.getIcon(),isEmptyPage:e.isEmptyPage(),url:i,isReady:e.isReady(),hasPublicAccess:r}}),[t,o]),u=(0,s().IS)((e=>({container:{display:"flex",alignItems:"center",gap:4,padding:4,borderRadius:4},pageTitle:{fontSize:14,wordBreak:"break-word",marginRight:4}})),[]);return c&&d?(0,y.jsxs)(at().A,{href:l,style:u.container,children:[n?(0,y.jsx)(dt().B6,{icon:n,store:i,disabled:!0,size:14,isEmptyPage:r,emojiSize:20}):void 0,(0,y.jsx)(Ge().A,{store:i,style:u.pageTitle,maxLength:30})]}):null}var pt=()=>o(192855),gt=()=>o(729283),ht=()=>o(1130);const mt={width:18,height:18,marginRight:6};function bt(e){const t=(0,s().DP)(),o=(0,n().v3)(),{device:i}=o,{store:r,isInvalidPage:a}=e;return i.isMobile||a?null:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Ke().A,{store:r,buttonPopupStore:Te().A}),(0,y.jsx)("div",{style:le().R1(t)}),(0,y.jsx)(vt,{store:r})]})}function vt(e){const{store:t}=e,o=(0,n().v3)(),r=Boolean(o.currentUser.isLoggedIn()||o.publicDomainUserId),l=(0,a().K8)((()=>{const{publicPageData:e}=X().A.state;return null==e?void 0:e.isDLSViewer}),[]),d=(0,s().DP)(),c=(0,a().K8)((()=>lt().hn(t)),[t]),u=(0,i.useCallback)((async()=>{Ce().LT(o,{variant:"open_notion"});const{currentUserRootStore:e}=Y().default.state,t=null==e?void 0:e.getSpaceViewStores();if(l&&(!t||0===t.length))return void(await(0,ht().sy)(o,{type:"create-or-join",source:"topbar"}));const i=l?Oe().JZ.home:Oe().JZ.root;await gt().VE(o,{utmContent:"topbar_cta",nextRoute:i})}),[o,l]),p=(0,i.useCallback)((async()=>{Ce().LT(o,{variant:"try_notion"}),await gt().VE(o,{utmContent:"topbar_cta",nextRoute:Oe().JZ.signup})}),[o]);return c?null:r?(0,y.jsxs)(Le().p,{onClick:u,children:["light"===d.mode?(0,xe().S)(mt):(0,pt().L)(mt),(0,y.jsx)(C().sA,{defaultMessage:"Open Notion",id:"topbar.publicPage.cta.label.open"})]}):(0,y.jsxs)(Le().p,{onClick:p,children:["light"===d.mode?(0,xe().S)(mt):(0,pt().L)(mt),(0,y.jsx)(C().sA,{defaultMessage:"Try Notion",id:"topbar.publicPage.cta.label.try"})]})}var ft=()=>o(277201),xt=()=>o(207207);const St={width:S().Ev.lg,height:S().Ev.lg};function yt(e){const{store:t,style:o,showTitle:i,onClick:n}=e,r=function(e){return(0,a().K8)((()=>lt().Vg(e)),[e])}(t);return r?null:(0,y.jsxs)(Le().p,{onClick:n,children:[(0,xt().J)({...St,...o}),i?(0,y.jsx)(C().sA,{defaultMessage:"Search",id:"topbar.publicPage.searchButton.label"}):void 0]})}const jt={width:S().Ev.lg,height:S().Ev.lg,marginRight:6};function Ct(e){const{store:t,isInvalidPage:o,forkPageRef:r,onDuplicatePageButtonClick:l,onEditButtonClick:d,onCommentButtonClick:c,onSearchButtonClick:u}=e,p=(0,n().v3)(),g=(0,C().tz)(),[h,m]=(0,et().B)(),b=(0,a().K8)((()=>(0,se().JK)()),[]),v=(0,a().K8)((()=>!b&&t.canEdit()&&!$e().A.state.editing),[t,b]),f=(0,a().K8)((()=>!b&&!p.currentUser.isLoggedIn()&&t.canComment()&&!t.canEdit()),[p,t,b]),x=(0,a().K8)((()=>(0,_e().K1)(t)),[t]),S=(0,a().K8)((()=>ot().Ay.state.width),[]),j=(0,a().K8)((()=>(0,Z().Nk)(p)),[p]),P=(0,a().K8)((()=>j&&(ot().Ay.state.mouseEntered||m)),[j,m]),w=(0,Ze().Nq)(),k=(0,s().IS)((()=>({container:{display:"flex",width:j?S:void 0,justifyContent:"space-between",paddingLeft:w},rightButtons:{display:"flex"}})),[j,S,w]),A=(0,i.useCallback)((()=>{(0,tt().setUpdateExpand)({environment:p,isExpanded:!1,from:"topbar",saveDetailsSidebarPreference:!0})}),[p]),_=(0,a().K8)((()=>{var e;return null===(e=it().Uv.getStateForBlock(t.id))||void 0===e?void 0:e.mode}),[t.id]);return(0,y.jsxs)("div",{style:k.container,ref:h,children:[(0,y.jsx)(ft().i,{isVisible:P,icon:Je().O,caption:g.formatMessage({defaultMessage:"Close panel",id:"defaultPublicTopbar.updateSidebarUnexpandButton.closePanel.tooltip"}),onClick:A,keyboardShortcutName:"toggleUpdateSidebar"}),(0,y.jsxs)("div",{style:k.rightButtons,children:["suggest"===_?(0,y.jsx)("div",{style:{marginRight:2,padding:"0 8px"},children:(0,y.jsx)(Qe().M,{store:t,isVisible:"suggest"===_,compact:!1})}):void 0,(0,y.jsx)(ct,{store:t}),v?(0,y.jsxs)(nt().A,{size:"lg",onClick:d,style:{marginRight:2,padding:"0 8px"},children:[(0,Xe().r)(jt),(0,y.jsx)(C().sA,{id:"topbar.publicPage.edit",defaultMessage:"Edit"})]}):void 0,!p.currentUser.isLoggedIn()&&f?(0,y.jsxs)(nt().A,{size:"lg",onClick:c,style:{marginRight:2,padding:"0 8px"},children:[(0,Ye().M)(jt),(0,y.jsx)(C().sA,{id:"topbar.publicPage.comment",defaultMessage:"Comment"})]}):void 0,(0,y.jsx)(yt,{store:t,style:jt,showTitle:!0,onClick:u}),x?(0,y.jsx)(Le().p,{ref:r,onClick:l,children:(0,y.jsx)(C().sA,{defaultMessage:"Duplicate",id:"topbar.publicPage.duplicateButton.label"})}):void 0,(0,y.jsx)(bt,{store:t,isInvalidPage:o})]})]})}var Pt=()=>o(538233),wt=()=>o(100042),kt=()=>o(962730),At=()=>o(859428);function _t(e){const{iconStyle:t,store:o}=e,i=(0,n().v3)(),r=(0,a().K8)((()=>o.canComment()),[o]),s=(0,a().K8)((()=>$e().A.state.commenting),[]),l=(0,a().K8)((()=>(0,se().JK)()),[]);return!r||s||l?null:(0,y.jsx)(At().A,{renderTooltip:()=>(0,y.jsx)(C().sA,{id:"topbar.publicPage.commentButton.tooltip",defaultMessage:"Comment"}),placement:kt().W.Bottom,alignment:kt().C.Center,originGap:6,render:e=>(0,y.jsx)(Le().p,{...e,onClick:()=>ke().aL(i,o.id),children:(0,Ye().M)(t)})})}function Mt(e){const{iconStyle:t,store:o}=e,i=(0,n().v3)(),r=(0,a().K8)((()=>o.canEdit()),[o]),s=(0,a().K8)((()=>$e().A.state.editing),[]),l=(0,a().K8)((()=>(0,se().JK)()),[]);return!r||s||l?null:(0,y.jsx)(At().A,{renderTooltip:()=>(0,y.jsx)(C().sA,{id:"topbar.publicPage.editButton.tooltip",defaultMessage:"Edit"}),placement:kt().W.Bottom,alignment:kt().C.Center,originGap:6,render:e=>(0,y.jsx)(Le().p,{...e,onClick:()=>ke().T7(i,o.id),children:(0,Xe().r)(t)})})}const It=i.forwardRef((function(e,t){const{iconStyle:i,onClick:n}=e;return(0,y.jsx)(At().A,{renderTooltip:()=>(0,y.jsx)("div",{style:{display:"flex"},children:(0,y.jsx)(C().sA,{id:"topbar.publicPage.duplicateButton.tooltip",defaultMessage:"Duplicate"})}),placement:kt().W.Bottom,alignment:kt().C.Center,originGap:6,render:e=>(0,y.jsx)(Le().p,{onClick:n,ref:t,...e,children:(0,o(764781).V)(i)})})}));var Bt=()=>o(178624),Tt=()=>o(104077),Lt=()=>o(29037),Rt=()=>o(419494),Kt=()=>o(2220);const Et=5e3;function Ot(e){let{store:t}=e;const o=(0,n().v3)(),r=(0,s().IS)((e=>({button:{gap:4,paddingLeft:8,paddingRight:8,marginLeft:4,marginRight:4},icon:{height:16,width:16,marginRight:0},tooltip:{display:"flex",flexDirection:"column",gap:2,fontWeight:400,paddingTop:2,paddingBottom:2},tooltipHeader:{fontWeight:600},tooltipDescription:{fontWeight:400}})),[]),l=(0,a().K8)((()=>Dt.state),[]),[d,c]=(0,i.useState)(!1),u=()=>{(0,Kt().u)({environment:o,event:{eventName:"click_get_updates_cta_on_public_site",eventProperties:{page_block_id:t.id}}}),d||(c(!0),setTimeout((()=>{Dt.setState(!0)}),Et))},{buttonContent:p,icon:g,tooltipContent:h}=d?{buttonContent:(0,y.jsx)(C().sA,{id:"topbar.publicPage.getUpdates.thanksLabel",defaultMessage:"Thanks"}),icon:Lt().checkmarkIcon,tooltipContent:(0,y.jsxs)("div",{style:r.tooltip,children:[(0,y.jsx)("div",{style:r.tooltipHeader,children:(0,y.jsx)(C().sA,{id:"topbar.publicPage.getUpdates.tooltip.thanks.header",defaultMessage:"This feature is coming soon"})}),(0,y.jsx)("div",{style:r.tooltipDescription,children:(0,y.jsx)(C().sA,{id:"topbar.publicPage.getUpdates.tooltip.thanks.description",defaultMessage:"You’ve let us know you’re interested in getting updates to this page"})})]})}:{buttonContent:(0,y.jsx)(C().sA,{id:"topbar.publicPage.getUpdates.label",defaultMessage:"Get updates"}),icon:Tt().r,tooltipContent:(0,y.jsxs)("div",{style:r.tooltip,children:[(0,y.jsx)("div",{style:r.tooltipHeader,children:(0,y.jsx)(C().sA,{id:"topbar.publicPage.getUpdates.tooltip.header",defaultMessage:"This feature is coming soon"})}),(0,y.jsx)("div",{style:r.tooltipDescription,children:(0,y.jsx)(C().sA,{id:"topbar.publicPage.getUpdates.tooltip.description",defaultMessage:"Click to let us know that you’re interested"})})]})};return(0,y.jsx)(At().A,{renderTooltip:()=>l?null:(0,y.jsx)("div",{children:h}),style:r.tooltip,placement:kt().W.Bottom,alignment:kt().C.Center,originGap:6,render:e=>(0,y.jsx)(v().A,{visible:!l,animate:{opacity:l?0:1},children:(0,y.jsx)(nt().A,{...e,size:"lg",style:r.button,onClick:u,iconLeading:g,iconStyle:r.icon,disabled:d,children:p})})})}const Dt=new(Bt().R)({key:"sites_has_checked_get_updates_cta",namespace:Rt().Bq,important:!0,trackingType:"preference"}),Nt=(0,S().xh)("heart",{default:{loader:()=>o.e(60983).then(o.bind(o,86168))},small:{loader:()=>o.e(60983).then(o.bind(o,962750))},fill:{loader:()=>o.e(60983).then(o.bind(o,996930))},fillSmall:{loader:()=>o.e(60983).then(o.bind(o,332177))}},["like","favorite","love"]);var Vt=()=>o(460292);function Ut(e){let{store:t}=e;const o=(0,s().IS)((e=>({button:{gap:4,paddingLeft:8,paddingRight:8,marginLeft:4,marginRight:4,display:"flex",alignItems:"center"},count:{fontSize:14,fontWeight:500,marginLeft:4},tooltip:{display:"flex",flexDirection:"column",gap:2,fontWeight:400,paddingTop:2,paddingBottom:2},tooltipHeader:{fontWeight:600},verticalBorder:{height:28,width:1,backgroundColor:e.border.default,marginRight:4}})),[]),i=(0,a().K8)((()=>zt.state),[]),n=()=>{zt.setState(!i)},r=i?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Vt().Q,{iconGroup:Nt,variantName:"fill",colorName:"uiRedPrimary"}),(0,y.jsx)("span",{style:o.count,children:0})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Vt().Q,{iconGroup:Nt,variantName:"default",colorName:"primary"}),(0,y.jsx)("span",{style:o.count,children:0})]}),l=(0,y.jsx)("div",{style:o.tooltip,children:(0,y.jsx)("div",{style:o.tooltipHeader,children:(0,y.jsx)(C().sA,{id:"topbar.publicPage.like.tooltip",defaultMessage:"Like"})})}),d=i?(0,y.jsx)(Le().p,{style:o.button,onClick:n,children:r}):(0,y.jsx)(At().A,{renderTooltip:()=>l,style:o.tooltip,placement:kt().W.Bottom,alignment:kt().C.Center,originGap:6,render:e=>(0,y.jsx)(Le().p,{...e,style:o.button,onClick:n,children:r})});return(0,y.jsxs)(y.Fragment,{children:[d,(0,y.jsx)("div",{style:o.verticalBorder})]})}const zt=new(Bt().R)({key:"sites_has_liked",namespace:Rt().Bq,important:!0,trackingType:"preference"});var Ft=()=>o(839003);function Wt(e){const t=(0,n().v3)(),{device:o}=t,r=(0,C().tz)(),{store:l,isInvalidPage:d,iconStyle:c,onSearchButtonClick:u,forkPageRef:p,onDuplicatePageButtonClick:g}=e,[h,m]=(0,et().B)(),b=(0,a().K8)((()=>Ie().A.isActiveDemo()),[]),v=(0,a().K8)((()=>(0,_e().K1)(l)),[l]),f=(0,a().K8)((()=>!lt().yr(l)),[l]),x=(0,a().K8)((()=>ot().Ay.state.width),[]),S=(0,a().K8)((()=>(0,Z().Nk)(t)),[t]),j=(0,a().K8)((()=>S&&(ot().Ay.state.mouseEntered||m)),[S,m]),P=(0,Ze().Nq)(),w=(0,s().IS)((()=>({container:{display:"flex",width:S?x:void 0,justifyContent:"space-between",paddingLeft:P},rightButtons:{display:"flex",alignItems:"center"}})),[S,x,P]),k=(0,i.useCallback)((()=>{(0,tt().setUpdateExpand)({environment:t,isExpanded:!1,from:"topbar",saveDetailsSidebarPreference:!0})}),[t]),A=(0,a().K8)((()=>!o.isMobile&&f&&"on"===Be().default.getEligibleGroup({experimentId:"public_site_topbar_share_button",defaultGroup:"control"})),[o.isMobile,f]),M=(0,_().X)("public_sites_get_updates_button"),I=(0,a().K8)((()=>!o.isMobile&&M),[o.isMobile,M]),B=(0,a().K8)((()=>"on"===Be().default.getEligibleGroup({experimentId:"public_sites_like_button",defaultGroup:"control"})),[]);return(0,y.jsxs)("div",{style:w.container,ref:h,children:[(0,y.jsx)(ft().i,{isVisible:j,icon:Je().O,caption:r.formatMessage({defaultMessage:"Close panel",id:"unauthedPublicTopbar.updateSidebarUnexpandButton.closePanel.tooltip"}),onClick:k,keyboardShortcutName:"toggleUpdateSidebar"}),(0,y.jsxs)("div",{style:w.rightButtons,children:[(0,y.jsx)(ct,{store:l}),B?(0,y.jsx)(Ut,{store:l}):void 0,(0,y.jsx)(yt,{store:l,onClick:u}),b?void 0:(0,y.jsxs)(y.Fragment,{children:[A?(0,y.jsx)(wt().J,{buttonPopupStore:Pt().A,store:l}):void 0,v?(0,y.jsx)(It,{ref:p,onClick:g,iconStyle:c}):void 0,(0,y.jsx)(_t,{store:l,iconStyle:c}),(0,y.jsx)(Mt,{store:l,iconStyle:c}),o.isMobile||d?void 0:(0,y.jsx)(Ke().A,{store:l,buttonPopupStore:Te().A,useEllipsisIcon:!0}),I?(0,y.jsx)(Ot,{store:l}):void 0,(0,y.jsx)(Ft().S,{store:l})]})]})]})}const Ht={width:S().Ev.lg,height:S().Ev.lg};function $t(e){const{store:t,isInvalidPage:o}=e,s=(0,n().v3)(),l=(0,r().S)(),c=(0,a().uB)(void 0,We().A),u=(0,a().uB)(void 0,He().A),p=Boolean(s.currentUser.isLoggedIn()||s.publicDomainUserId),g=(0,Ze().Kh)({shouldRenderTemplateGalleryTopbar:!1}),h=(0,a().K8)((()=>se().i_({store:t,environment:s})),[t,s]),m=(0,a().K8)((()=>t.isFormBlock()),[t]),b=(0,a().K8)((()=>{const e=s.RouterStore.state.route;return!!(0,d().bh)(e)||Boolean(t.getIsFormClosed()||t.pathIsDead())}),[s,t]),v=(0,i.useRef)(!1);(0,i.useEffect)((()=>{const{RouterStore:e}=s,o=e.state.route,{publicPageData:i}=X().A.state;h&&t.canComment()&&!t.canEdit()&&"page"===o.name&&!o.requestedOnPublicDomain&&se().K6(t,s)&&null!=i&&i.requireLogin?$e().A.setState({commenting:!0,editing:!1}):!h||!t.canEdit()||"page"!==o.name||$e().A.state.editing||$e().A.state.commenting||o.shouldDuplicate||o.requestedOnPublicDomain||!se().K6(t,s)||v.current||null==i||!i.requireLogin||(v.current=!0,Gt(s,t,l))}),[s,t,l,h]);const f=(0,i.useCallback)((()=>{Ne().iZ({currentUserId:s.currentUser.id,blockId:t.id}),qt(s,l)||Ae().navigateOnBaseUrl({environment:s,url:Oe().JZ.login})}),[s,t,l]),x=(0,i.useCallback)((()=>Ve()._N({environment:s,analyticsFrom:"public-page-topbar",isPublicPageSearch:!0})),[s]),S=(0,i.useRef)(null),j=(0,i.useCallback)((()=>{var e;const o=null===(e=S.current)||void 0===e?void 0:e.getBoundingClientRect();we().Ul({environment:s,store:t,originRect:o})}),[s,t,S]),C=(0,i.useCallback)((()=>{Gt(s,t,l)}),[s,t,l]),P=(0,ae().m)({location:"PublicPage"});return(0,y.jsxs)("div",{style:g,onDoubleClick:se().mz,children:[m&&!b?(0,y.jsx)(Ge().A,{store:t,removeIfEmpty:!0,style:{fontSize:14}}):void 0,(0,y.jsx)(ze().z,{loginModalStore:c,loginStore:u,title:(0,y.jsx)(Fe().A,{}),isSignup:!0}),(0,y.jsx)(ne()._,{topbarFeatureController:P}),m?void 0:qe().s({store:t,isInvalidPage:o}),(0,y.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),p?(0,y.jsx)(Ct,{store:t,isInvalidPage:o,onEditButtonClick:C,onCommentButtonClick:f,onSearchButtonClick:x,forkPageRef:S,onDuplicatePageButtonClick:j}):(0,y.jsx)(Wt,{store:t,isInvalidPage:o,iconStyle:Ht,forkPageRef:S,onDuplicatePageButtonClick:j,onSearchButtonClick:x})]})}function Gt(e,t,o){qt(e,o)||(e.currentUser.isLoggedIn()?De().ui({showCancel:!0,keepFocus:!1,message:(0,y.jsx)(C().sA,{defaultMessage:"When you start editing, your name, email and photo may become visible to anyone who can view the page.",id:"topbar.startPublicEditDialog.message"}),items:[{label:(0,y.jsx)(C().sA,{defaultMessage:"Continue",id:"topbar.startPublicEditDialog.continueLabel"}),color:"blue",onAccept(){$e().A.setState({editing:!0,commenting:!0})}}]}):(Ne().iZ({currentUserId:e.currentUser.id,blockId:t.id}),Ae().navigateOnBaseUrl({environment:e,url:Oe().JZ.login})))}function qt(e,t){const{RouterStore:o}=e,i=o.state.route,n=null==t?void 0:t.pageStore;if("page"===i.name&&i.requestedOnPublicDomain&&n){const t=(0,Ue().Ay)({store:n,preferPublicLink:!1,pageVisitSource:Ee().y8.EditPublicPage});return Ae().navigateOnBaseUrl({environment:e,url:t}),!0}return!1}var Zt=()=>o(381138);function Jt(e){const{blockStore:t,isInvalidPage:o}=e,r=(0,n().v3)(),a=(0,Ze().Kh)({shouldRenderTemplateGalleryTopbar:!0}),l=(0,s().IS)((()=>({breadcrumb:le().lx(),icon:{width:14,height:14,marginRight:6}})),[]),d=(0,i.useCallback)((()=>{Ve()._N({environment:r,analyticsFrom:"public-page-topbar",isPublicPageSearch:!0})}),[r]);return(0,y.jsxs)("div",{style:a,onDoubleClick:se().mz,children:[o?void 0:(0,y.jsx)(ie().oK,{store:t,style:l.breadcrumb,maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0,isMobile:!1}),(0,y.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),(0,y.jsxs)(Le().p,{onClick:d,children:[(0,Zt().q)(l.icon),(0,y.jsx)(C().sA,{defaultMessage:"Search",id:"topbar.publicPage.searchButton.label"})]})]})}var Xt=()=>o(198688);function Yt(e){var t,o,r;const{blockStore:l,isInvalidPage:d}=e,c=(0,n().v3)(),u=(0,a().K8)((()=>X().A.state.publicPageData),[]),p=null==u||null===(t=u.template)||void 0===t?void 0:t.blockId,g=(0,i.useMemo)((()=>p?new(te().Bv)(c,{table:je().ev,id:p}):void 0),[p,c]),h=null==u||null===(o=u.template)||void 0===o?void 0:o.listingId,m=(0,a().K8)((()=>{var e;return Be().default.getConfigKey("marketplace_public_purchase_url_optout","usernames").includes((null==u||null===(e=u.template)||void 0===e?void 0:e.creator.username)??"")}),[null==u||null===(r=u.template)||void 0===r?void 0:r.creator.username]),[b]=(0,V().Yb)((async()=>{if(h){const e=await Pe().callApi({eventName:"getMarketplacePurchaseRoute",environment:c,data:{marketplaceListingId:h}});if("success"===e.type&&e.data.success){if(m&&"checkout"===e.data.type)return null;if("free"===e.data.type||"checkout"===e.data.type)return e.data.url}return null}}),[c,h,m]),v="resolved"===b.status,f=b.value,x=(0,a().K8)((()=>g&&(0,_e().K1)(g)),[g]),[S,j]=(0,i.useState)(!1),P=(0,Ze().Kh)({shouldRenderTemplateGalleryTopbar:!0}),w=(0,s().IS)((e=>({borderBottom:{borderBottom:`1px solid ${e.lightDividerColor}`},topbarContents:{display:"flex",alignItems:"center"},notionLogoStyle:{width:20,height:20},templatesIcon:{width:20,height:20,marginRight:4,marginTop:2},templateGalleryButton:{display:"flex",alignItems:"center",fontSize:15,fontWeight:600},centerText:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",overflow:"hidden",textWrap:"nowrap"},templateNameText:{fontSize:13.5,fontWeight:600},templateCreatorText:{fontSize:12,color:e.text.tertiary},templateCreatorLink:{fontSize:12,color:e.text.tertiary,cursor:"pointer"},publicTopbarMoreButton:{marginRight:8}})),[]),k=(0,a().K8)((()=>Ie().A.getState().isActive),[]),_=(0,a().K8)((()=>{const e=(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Le().p,{disabled:k,onClick:async()=>{k||await ke().$4(c)},"aria-disabled":k,children:(0,xe().S)(w.notionLogoStyle)}),(0,y.jsx)(Xt().A,{})]});return(0,Me().w6)(c)?J().sidebarExpandedStore.state?null:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(de().z,{}),e]}):e}),[c,w.notionLogoStyle,k]),M=(0,i.useCallback)((()=>{f?Ae().navigateOnBaseUrl({environment:c,url:f,extraSearchParams:{from:"public_page"}}):we().Ul({environment:c,store:l,originRect:void 0})}),[c,l,f]);if(!u||!u.template||!g)return(0,y.jsx)($t,{store:l,isInvalidPage:d});const B=(0,y.jsx)("a",{href:`${A().A.domainBaseUrl}/@${u.template.creator.username}`,target:"_blank",style:w.templateCreatorLink,onClick:()=>{var e;Ce().uB(c,{target:"creator",slug:null===(e=u.template)||void 0===e?void 0:e.creator.username})},children:u.template.creator.name});return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{style:{...P,...w.borderBottom},onDoubleClick:se().mz,children:[(0,y.jsxs)("div",{style:w.topbarContents,children:[_,!k&&(0,y.jsx)(Re().A,{href:(0,Me().xS)("templateGallery"),external:!0,children:(0,y.jsxs)(Le().p,{style:w.templateGalleryButton,onMouseEnter:()=>j(!0),onMouseLeave:()=>j(!1),onClick:()=>{Ce().uB(c,{target:"gallery"})},children:[S?(0,ye().s)(w.templatesIcon):(0,Se().T)(w.templatesIcon),(0,y.jsx)(C().sA,{defaultMessage:"Templates",id:"templateGalleryPublicPageTopbar.templatesButton.label"})]})})]}),!k&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{style:w.centerText,children:[(0,y.jsx)(Re().A,{href:`${(0,Me().xS)("templateGallery")}/${u.template.slug}`,style:w.templateNameText,external:!0,onClick:()=>{var e;Ce().uB(c,{target:"template",slug:null===(e=u.template)||void 0===e?void 0:e.slug})},children:u.template.name}),(0,y.jsx)("div",{style:w.templateCreatorText,children:(0,y.jsx)(C().sA,{defaultMessage:"Template by {templateCreatorNameWithLink}",id:"templateGalleryPublicPageTopbar.templateName.subtitle",values:{templateCreatorNameWithLink:B}})})]}),(0,y.jsxs)("div",{style:w.topbarContents,children:[(0,y.jsx)("div",{style:w.publicTopbarMoreButton,children:(0,y.jsx)(Ke().A,{store:l,buttonPopupStore:Te().A})}),x&&v&&(0,y.jsx)(I().A,{onClick:M,children:(0,y.jsx)(C().sA,{defaultMessage:"Start with this template",id:"templateGalleryPublicPageTopbar.duplicateButton.label"})})]})]})]}),(0,y.jsx)(Jt,{blockStore:l,isInvalidPage:d})]})}var Qt=()=>o(470928),eo=()=>o(877051),to=()=>o(326589),oo=()=>o(686594),io=()=>o(208993),no=()=>o(364280),ro=()=>o(132389),ao=()=>o(946548),so=()=>o(99600),lo=()=>o(527580);const co=new(H().O2)("topbarActionButtons",(()=>Promise.all([o.e(25497),o.e(13402),o.e(54928)]).then(o.bind(o,813402)))),uo=(0,H()._h)(co,(e=>e.TopbarActionButtons));var po=()=>o(551780);function go(e){const{store:t,isInvalidPage:o,showSidebarButton:i,hideActionButtons:r,shouldRenderTemplateGalleryTopbar:s,handleClickTopbar:l,handleMouseDown:d}=e,c=(0,n().v3)(),u=(0,a().K8)((()=>t.isFormBlock()),[t]),p=(0,a().K8)((()=>(0,_e().qb)(c,t)&&!(0,to().g)()),[c,t]),g=(0,eo().V)(),h=(0,a().K8)((()=>t.canEditCollection()),[t]),m=(0,a().K8)((()=>(0,Qt().Es)({blockStore:t})),[t]),b=(0,a().K8)((()=>t.isDraft()),[t]),v=(0,Ze().Kh)({shouldRenderTemplateGalleryTopbar:s}),f=(0,a().K8)((()=>t.getIcon()),[t]),x=(0,ae().m)({location:"DefaultTopbar"}),S=(0,_().X)("content_reskin_v2"),j=(0,_().X)("content_reskin_v2_toggle"),P=A().A.isMobile?24:20;return(0,y.jsx)(O().A,{store:t,disableRectangularSelection:!0,disableEditNearestBlock:!0,render:()=>(0,y.jsxs)("div",{style:v,onClick:l,onMouseDown:d,onDoubleClick:se().mz,children:[i?(0,y.jsx)(de().z,{}):void 0,(0,y.jsx)(ne()._,{topbarFeatureController:x}),(0,y.jsxs)(U().K,{from:"DefaultTopbar.Left",fallback:e=>{let{error:t,errorId:o}=e;return(0,y.jsx)(z().W,{error:t,errorId:o,iconSize:20})},children:[o||u?void 0:(0,y.jsx)(ie().oK,{store:t,style:le().lx(),maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0,isMobile:!1}),j?(0,y.jsxs)(no().fI,{gap:4,children:[(0,y.jsx)(ao().A,{on:S,onClick:()=>{oo().A.updateLocalOverrideGate("content_reskin_v2",!S)}}),(0,y.jsx)(io().W,{tooltipWidth:300,tooltipTitle:(0,y.jsx)(C().sA,{id:"content_reskin_v2_tooltip_title",defaultMessage:"Enable Content Reskin V2"}),tooltipDescription:(0,y.jsx)(C().sA,{id:"content_reskin_v2_tooltip_description",defaultMessage:"We’re testing out new spacing between blocks. Let us know what you think in #proj-content-reskin-v2."})})]}):void 0,u?(0,y.jsxs)("div",{style:{display:"flex",alignItems:"center",minWidth:0},children:[(0,y.jsx)(ro().A,{size:6}),Boolean(f)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(dt().B6,{disabled:!0,icon:f,iconRecordCategory:(0,dt().Te)(t),isEmptyPage:!1,size:P,emojiSize:P,largeIcon:!0}),(0,y.jsx)(ro().A,{size:6})]}):void 0,(0,y.jsx)(Ge().A,{store:t,removeIfEmpty:!0,style:{fontSize:14,paddingLeft:0,overflow:"hidden",textOverflow:"ellipsis"}}),(0,y.jsx)(ro().A,{size:8})]}):void 0,h?(0,y.jsx)(so().A,{store:t},t.id):void 0,m?(0,y.jsx)(lo().YC,{blockStore:t}):void 0,o?void 0:(0,y.jsx)(re().A,{}),(0,y.jsx)(po().DA,{blockStore:t})]}),(0,y.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),(0,y.jsxs)(U().K,{from:"DefaultTopbar.Right",fallback:e=>{let{error:t,errorId:o}=e;return(0,y.jsx)(z().W,{error:t,errorId:o,iconSize:20})},children:[g||A().A.isMobile||p||r?void 0:(0,y.jsx)(uo,{store:t,isInvalidPage:o}),b?(0,y.jsx)(po().F4,{store:t}):void 0]})]})})}const ho=i.forwardRef((function(e,t){const i=(0,n().v3)(),{device:r}=i,{store:s}=e,l=(0,o(997752).t)({store:s}),d=(0,a().K8)((()=>o(39341).p.state.banners.some((e=>"LoggedOutAppBanner"===e.id))),[]),u=(0,a().K8)((()=>o(673912).W.state.banners.some((e=>"PublicSiteBanner"===e.id))),[]),p=(0,a().K8)((()=>Q().A.state.isFullScreen),[]),g=(0,a().K8)((()=>(0,Z().KB)(i)),[i]),h=(0,a().K8)((()=>F().X4(i).shouldShowSidebar),[i]),m=(0,a().O$)(J().sidebarElectronMousePeekStore),b=(0,a().O$)(ee().b),f=(0,a().K8)((()=>$().default.isVisible()),[]),x=m&&b&&h&&!g&&!f,S=r.isElectron&&!b&&!p?`${W().N_7} ${W().sbV}`:W().N_7,j=(0,Ze().U)({store:s,shouldRenderTemplateGalleryTopbar:l,isBrowserFullScreen:p}),C=(0,a().K8)((()=>(0,Z().MJ)(i)),[i]);return(0,y.jsx)("header",{style:j.header,ref:t,children:(0,y.jsxs)(v().A,{animate:{opacity:C?0:1},children:[d?(0,y.jsx)(ve,{}):void 0,u?(0,y.jsx)(fe,{}):void 0,(0,y.jsx)("div",{style:j.container,className:S,onFocus:se().lE,onBlur:se().c8,children:(0,y.jsx)(U().K,{from:"Topbar",fallback:e=>{let{error:t,errorId:o}=e;return(0,y.jsx)("div",{className:W().N_7,style:{display:"flex",justifyContent:"flex-end",alignItems:"center",width:"100%",height:(0,c().ek)(r.isElectronMac),maxWidth:"100vw",paddingRight:8},children:(0,y.jsx)(z().W,{error:t,errorId:o,iconSize:20})})},children:(0,y.jsx)(bo,{...e,shouldRenderTemplateGalleryTopbar:l})})}),x?(0,y.jsx)(o(540545).k,{style:j.electronTopbarSidebarMousePeekArea}):void 0]})})}));function mo(e){let{store:t,isInvalidPage:o}=e;const i=(0,Ze().Kh)({shouldRenderTemplateGalleryTopbar:!1}),n=(0,ae().m)({location:"TrustedDomainPage"});return(0,y.jsxs)("div",{style:i,onDoubleClick:se().mz,children:[(0,y.jsx)(ne()._,{topbarFeatureController:n}),(0,y.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),(0,y.jsx)(bt,{store:t,isInvalidPage:o})]})}function bo(e){let{shouldRenderTemplateGalleryTopbar:t,store:r,routerState:s,isInvalidPage:l,isElectron:d,showSidebarButton:c,hideActionButtons:u}=e;const p=(0,n().v3)(),g=(0,i.useRef)(0),h=(0,i.useRef)(0),m=(0,i.useCallback)((()=>{g.current=window.screenX,h.current=window.screenY}),[]),b=(0,i.useCallback)((e=>{const t=window.screenX,i=window.screenY;g.current===t&&h.current===i&&(e.target===e.currentTarget&&o(725614).clear({environment:p}),(0,N().SQ)({event:e,context:N().y$.Click,callback:()=>{o(661920).Cx(p)}}))}),[p]),{shouldRenderPublicPageTopbar:v,shouldRenderPublicShareLinkTopbar:f}=(0,se().Im)({store:r}),{isPersonalHome:x,isTeamHome:S,isLibraryPage:j,teamStore:C,shouldRenderTrustDomainPageTopbar:P}=(0,a().K8)((()=>{const e=Y().default.state.currentSpaceStore;if(!r){const t="team"===s.route.name&&e&&te().sk.createChildStore(e,{table:"team",id:s.route.teamId,spaceId:e.id});return{isTeamHome:"team"===s.route.name,isPosts:"posts"===s.route.name,isPersonalHome:!1,teamStore:t,shouldRenderPublicPageTopbar:!1,shouldRenderTrustDomainPageTopbar:!1}}const{publicPageData:t}=X().A.state;return{isPersonalHome:r.isPersonalHomePage(),isLibraryPage:(0,o(742943).T0)(p),isTeamHome:!1,isPosts:!1,teamStore:void 0,shouldRenderTrustDomainPageTopbar:null==t?void 0:t.isDLSViewer}}),[s.route,r,p]),w=(0,a().K8)((()=>se().i_({store:r,environment:p})),[r,p]),[{status:k}]=(0,V().Yb)((async()=>await X().A.waitUntilLoaded()),[]),A=(0,a().K8)((()=>p.currentUser.isLoggedIn()),[p.currentUser]),_=(0,a().K8)((()=>null!=r&&r.isCollectionView()?r:void 0),[r]),{value:M}=(0,H().fJ)(me().oQ.workflowNavigationHelpers),I=(0,a().K8)((()=>null==M?void 0:M.getCurrentWorkflowNavigationState(p)),[p,M]);return!w||r&&"pending"===k||j?null:r&&f?(0,y.jsx)(q,{showSidebarButton:c&&A,store:r,isInvalidPage:l,isElectron:d}):v&&r?t?(0,y.jsx)(Yt,{blockStore:r,isInvalidPage:l}):(0,y.jsx)($t,{store:r,isInvalidPage:l}):P&&r?(0,y.jsx)(mo,{store:r,isInvalidPage:l}):x&&r?(0,y.jsx)(o(304961).Y,{store:r,isInvalidPage:l,onClickTopbar:b,onMouseDown:m}):S&&C?(0,y.jsx)(he,{teamStore:C,showSidebarButton:c}):_&&null!=I&&I.isOpen?(0,y.jsx)(me().Nz,{store:_,isInvalidPage:l,showSidebarButton:c,hideActionButtons:u,shouldRenderTemplateGalleryTopbar:t,handleClickTopbar:b,handleMouseDown:m}):r?(0,y.jsx)(go,{store:r,isInvalidPage:l,showSidebarButton:c,hideActionButtons:u,shouldRenderTemplateGalleryTopbar:t,handleClickTopbar:b,handleMouseDown:m}):null}var vo=()=>o(824622),fo=()=>o(68465),xo=()=>o(600871),So=()=>o(445e3);const yo={MeetingsPageContainer:new(H().O2)("MeetingsPageContainer",(()=>o.e(43024).then(o.bind(o,800778))))},jo=(0,H()._h)(yo.MeetingsPageContainer,(e=>e.MeetingsPageContainer));const Co=new(H().O2)("SavePageToOPFS",(()=>o.e(82094).then(o.bind(o,402245)))),Po=(0,H()._h)(Co,(e=>e.SavePageToOPFS));const wo={PersonProfileContainer:new(H().O2)("PersonProfileContainer",(()=>Promise.all([o.e(16471),o.e(56952),o.e(48632),o.e(27711),o.e(21194),o.e(79928),o.e(4412),o.e(44632)]).then(o.bind(o,346899))))},ko=(0,H()._h)(wo.PersonProfileContainer,(e=>e.PersonProfileContainer));const Ao=new(H().O2)("BeamRenderer",(()=>o.e(61227).then(o.bind(o,397005)))),_o=(0,H()._h)(Ao,(e=>e.BeamActivity));var Mo=()=>o(700149),Io=()=>o(150193),Bo=()=>o(195613),To=()=>o(375447),Lo=()=>o(714818),Ro=()=>o(712505),Ko=()=>o(543491),Eo=()=>o(766081),Oo=()=>o(629537);const Do="1.375em",No=new Set(["posts","meet"]);const Vo=i.memo((function(e){const{store:t,routerState:r}=e,d=(0,n().v3)(),{RouterStore:u}=d,g=(0,n().Y0)(),h=(0,i.useRef)(null),[m,b]=(0,i.useState)((()=>c().ek(g.isElectronMac)));(0,i.useLayoutEffect)((()=>{if(!h.current)return;const e=h.current.getBoundingClientRect().height;b(e);const t=new ResizeObserver((e=>{for(const t of e)b(t.contentRect.height)}));return t.observe(h.current),()=>t.disconnect()}),[]);const f=(0,i.useCallback)((e=>{Ko().A.state&&("scroll"===e?Ko().A.state.hadScroll||(Ko().A.setState({...Ko().A.state,hadScroll:!0}),p().pF(d,{interactionType:e})):"click"===e?Ko().A.state.hadClick||(Ko().A.setState({...Ko().A.state,hadClick:!0}),p().pF(d,{interactionType:e})):"copy"===e?Ko().A.state.hadCopy||(Ko().A.setState({...Ko().A.state,hadCopy:!0}),p().pF(d,{interactionType:e})):(0,o(534177).HB)(e))}),[d]);(0,i.useEffect)((()=>{if(f){const e=()=>{f("copy")};return window.addEventListener("copy",e),()=>window.removeEventListener("copy",e)}}),[f]),(0,i.useEffect)((()=>()=>t&&o(773582).O({rootStore:t})),[t]);const x=(0,a().r6)((()=>t?$e().A.getMode(d,t):$e().s.disabled),[d,t]),S=(0,a().r6)((()=>(0,fo().ZE)(x.state)),[x]),j=(0,a().K8)((()=>{if(!t)return;const{presenceStore:e,pageVisitStore:o}=Y().default.state;return{pageStore:t,presenceStore:e,pageVisitStore:o,publicEditModeStore:x,arePublicEditCompletionsEnabledStore:S}}),[S,x,t]),C=(0,a().K8)((()=>d.currentUser.isLoggedIn()),[d]),{isInvalidPage:P,isAppInitializationScreen:w,appContainerStore:k,isHome:_,isPersonProfile:M,shouldShowAddTo:I}=(0,a().K8)((()=>{if(!t)return{isInvalidPage:!0,isAppInitializationScreen:!1,appContainerStore:void 0,isHome:!1,isPersonProfile:!1,shouldShowAddTo:!1};const e=d.currentUser.id===t.getCreatedById()&&t.getCreatedByTable()===o(798880).oo;return{isInvalidPage:Boolean(!t.isDefined()||!t.canRead()),isAppInitializationScreen:Boolean(t.getAppContainerBlockStore()),appContainerStore:t.getAppContainerBlockStore(),isHome:"personal_home_page"===t.getType(),isPersonProfile:t.isPersonProfile(),shouldShowAddTo:Boolean(r.route.showMoveTo&&t.canEdit()&&C&&e)}}),[t,r.route,C,d.currentUser]),B=(0,a().O$)(Y().AppStoreMainEditorCurrentBlockStore),T=(0,a().K8)((()=>F().X4(d)),[d]),L=(0,s().DP)(),R=(0,a().K8)((()=>null==B?void 0:B.isPersonalHomePage()),[B]),K=(0,a().K8)((()=>{var e;return Boolean(null===(e=ee().A.state.preferences)||void 0===e?void 0:e.isVibrancyEnabled)}),[]),E=(0,a().K8)((()=>{const e="team"===r.route.name,t={flexGrow:0,flexShrink:1,display:"flex",flexDirection:"column",background:R||e?K?`rgba(255, 255, 255, ${o(232280).a})`:(0,o(665579).Lu)({theme:L,isPhone:g.isPhone}):L.contentBackground,zIndex:1,height:A().A.isMobile?"100vh":`calc(100vh - ${m}px)`,maxHeight:"100%",position:"relative",...R?{height:"100%",position:"absolute"}:{}};if(!(0,Z().tv)(d)){const e=J().sidebarOpenStore.state;(0,Z().o1)(d)||(t.boxShadow=L.shadowMD),t.pointerEvents=e?"none":"auto",t.transform="translateX(0)"}return!T&&g.isMobileNative&&(t.pointerEvents="auto",t.transform="translateX(0px)"),t}),[r.route.name,R,K,L,g.isPhone,g.isMobileNative,m,d,T]),O=(0,a().K8)((()=>"nativeTab"===u.state.route.name),[u]),[D,N]=(0,a().K8)((()=>{const e=(0,Z().Uh)(d);return[e,e+(0,Z().Ql)(d)]}),[d]),V=(0,a().K8)((()=>o(900652).Z8()),[]),G=(0,a().K8)((()=>$().default.isTogglingToPanelModeState()),[]),q=(0,a().O$)(J().sidebarResizingStore),{banners:X}=(0,a().O$)(Io().A),Q=(0,a().O$)(ee().b),te=(0,a().K8)((()=>!Q&&!(0,Z().KB)(d)&&!$().default.isPanelPinnedState()),[d,Q]),ie=(0,a().K8)((()=>(0,Z().KB)(d)),[d]),ne=(0,a().O$)(o(56197).q),re=(0,a().K8)((()=>d.WindowSizeStore.state.paddingTop),[d.WindowSizeStore]),ae=(0,s().IS)((()=>({frameContainer:{order:o(72307).A.appCursorListener.editor,display:"flex",flexDirection:"column",width:g.isTablet?"unset":"100%",overflow:g.isTablet?"unset":"hidden",isolation:"auto",background:ne.attached?"black":"transparent",position:"relative"},sheetInset:ne.attached?{borderRadius:12*ne.proportion+"px",transform:`scale(${1-.08*ne.proportion}, ${1-.035*ne.proportion}) translateY(${.8*re*ne.proportion}px) translateZ(0)`,willChange:"transform border-radius",transition:ne.animating?"transform 0.5s cubic-bezier(0.32, 0.72, 0, 1), border-radius 0.5s cubic-bezier(0.32, 0.72, 0, 1)":void 0}:{}})),[g.isTablet,ne,re]),le=(0,a().O$)(o(865241).P),de=(0,a().K8)((()=>null==t?void 0:t.canEdit()),[t]),{value:ce}=(0,H().fJ)(me().oQ.workflowNavigationHelpers),ue=(0,a().K8)((()=>null==ce?void 0:ce.getIsWorkflowEditorOpen(d)),[d,ce]),pe=(0,a().O$)(Y().AppStoreCurrentSpaceViewStore),ge=(0,a().O$)(Y().AppStoreCurrentSpaceStore),he=(0,a().K8)((()=>(0,Z().MJ)(d)),[d]),be=(0,a().K8)((()=>!A().A.isMobile&&!o(726562).eX.state),[]);(0,i.useEffect)((()=>{o(729380).u.resetHeights()}),[null==B?void 0:B.id]);const ve=A().A.isMobile&&!No.has(e.routerState.route.name),fe=(0,a().K8)((()=>ve&&(0,se().pF)({device:d.device,route:r.route})),[d.device,r.route,ve]),xe=!A().A.isMobile&&!w&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(ho,{...e,ref:h,showSidebarButton:te,isElectron:g.isElectron,isInvalidPage:P}),g.isElectronWindows&&!Q&&(0,y.jsx)(o(518598).K,{})]}),Se=(0,y.jsxs)(v().A,{tag:"main",id:"main",animate:{width:R?N:D,opacity:he?0:1,...ne.attached?{}:{translateX:V}},skip:Q&&q.isResizing||G||A().A.isMobile||le,style:{...E,...ae.sheetInset},className:W().GtI,children:[ve&&(0,y.jsx)(U().K,{from:"TopbarMobile",fallback:e=>{let{error:t,errorId:o}=e;return(0,y.jsx)("div",{className:W().byw,style:{display:"flex",justifyContent:"flex-end",alignItems:"center",width:"100%",height:l().s1,maxWidth:"100vw",paddingRight:8},children:(0,y.jsx)(z().W,{error:t,errorId:o,iconSize:26})})},children:(0,y.jsx)(Jo,{route:r.route,children:(0,y.jsx)(vo().JY,{...e,isInvalidPage:P,shouldShowAddTo:I,isSidebarExpanded:ie,spaceStore:ge,spaceViewStore:pe})})}),X.length>0&&!fe&&(0,y.jsx)(o(885962).x,{banners:X,isMobile:Boolean(A().A.isMobile)}),k?(0,y.jsx)(zo,{appContainerStore:k}):"team"===r.route.name?(0,y.jsx)(oe().zF,{teamId:r.route.teamId}):"posts"===r.route.name?(0,y.jsx)(o(732430).Lb,{}):_&&t?(0,y.jsx)(Wo,{store:t}):"meet"===r.route.name?(0,y.jsx)(jo,{}):M&&t?(0,y.jsx)(ko,{store:t}):ue&&t?(0,y.jsx)(me().ZO,{store:t,routerState:r,maybeLogSearchInteractionEvent:f}):t?(0,y.jsx)(Ho,{store:t,routerState:r,maybeLogSearchInteractionEvent:f,shouldShowAddTo:I}):null,C&&A().A.isMobile&&t&&(0,y.jsx)(Fo,{store:t,shouldShowMoveTo:Boolean((r.route.showMoveTo||g.isTablet)&&de)}),g.isMobileNative&&C&&B&&(0,y.jsx)(vo().pX,{})]}),ye=be&&B&&(0,y.jsx)(o(577009).Sx,{currentBlockStore:B,isElectronMac:d.device.isElectronMac}),je=!A().A.isMobile&&(0,y.jsx)(o(75600).t,{});return(0,y.jsx)(Uo,{pageContext:j,children:(0,y.jsxs)("div",{className:O?"hidden":"",style:ae.frameContainer,children:[xe,Se,ye,je]})})}));function Uo(e){let{pageContext:t,children:i}=e;return t?(0,y.jsx)(o(452446).q,{value:t,children:i}):(0,y.jsx)(y.Fragment,{children:i})}function zo(e){let{appContainerStore:t}=e;return(0,y.jsx)("div",{style:{position:"absolute",height:"100vh",width:"100%"},children:(0,y.jsx)(o(601734).EU,{collectionViewBlockStore:t})})}function Fo(e){var t;let{store:o,shouldShowMoveTo:r}=e;const s=(0,n().v3)(),l=(0,a().K8)((()=>{var e;return null===(e=s.mobileNative)||void 0===e?void 0:e.api.renderMobileActionBar}),[null===(t=s.mobileNative)||void 0===t?void 0:t.api.renderMobileActionBar]),d=(0,i.useCallback)((e=>{const{isMobileNative:t}=s.device;return(0,y.jsx)(vo().q_,{stores:e,position:t?xo().nh.Bottom:xo().nh.Floating,currentBlockStore:o})}),[s.device,o]);return s.device.isMobileNative?(0,y.jsx)(vo().rs,{currentBlockStore:o,isNativeMobileActionBar:!0,makeActionBarComponent:e=>(0,y.jsx)(vo().Ry,{renderApi:l,stores:e,currentBlockStore:o,shouldShowMoveTo:r,fallbackRenderer:d})}):(0,y.jsx)(vo().rs,{currentBlockStore:o,isNativeMobileActionBar:!1,makeActionBarComponent:d})}const Wo=i.memo((function(e){let{store:t}=e;return(0,y.jsx)(O().A,{disable:!0,store:t,isDefaultContainer:!0,render:()=>(0,y.jsx)(o(117296).VJ,{})})}));function Ho(e){let{store:t,routerState:o,maybeLogSearchInteractionEvent:r,shouldShowAddTo:s=!1}=e;const l=(0,n().v3)(),{RouterStore:d}=l,{historyState:c}=o,{currentLoadingContainerStore:p,pageVisitStore:h}=(0,a().K8)((()=>{const{currentLoadingContainerStore:e,pageVisitStore:t}=Y().default.state;return{currentLoadingContainerStore:e,pageVisitStore:t}}),[]),b=(0,a().K8)((()=>c&&u().Et(c.scrollTop)?c.scrollTop:void 0),[c]),v=(0,a().K8)((()=>Boolean((0,_e().qb)(l,t))),[l,t]),f=(0,a().K8)((()=>Boolean(Ro().default.isCenterPeekOpen()||Lo().A.state.open)),[]),x=(0,_().X)("capture_page_load_record_stats")?So().t.forRootStore("Frame",t):void 0;return(0,y.jsx)(O().A,{store:t,isDefaultContainer:!0,droppable:!0,isRootContainer:!0,disableRectangularSelection:v,disable:f,render:e=>{let{selectableEvents:n,selectableHoverMenuOverlay:a}=e;const c=m().Cf(d),u={pageStore:t,pageVisitStore:h,scrollToBlockIds:c,scrollToDiscussionId:c.length?void 0:o.route.discussionId,scrollToPosition:b,observer:x,onReady:()=>{g().$(l,{animateScrollToBlocks:!1}),Mo().f.setIsFrameReady(!0)},onDone:()=>{t.isCollectionView()||"rendered"===Y().default.state.renderPhase||Y().default.setState({...Y().default.state,renderPhase:"rendered"})},render:e=>{let{scrollerRef:o,error:i,ready:l,initialRequestCompleted:d,endOfResultsReached:c,isCollectionInPage:u}=e;return(0,y.jsx)($o,{scrollerRef:o,store:t,error:i,ready:l,initialRequestCompleted:d,endOfResultsReached:c,isCollectionInPage:u,selectableEvents:n,selectableHoverMenuOverlay:a,maybeLogSearchInteractionEvent:r,shouldShowAddTo:s,observer:x})}};return(0,y.jsx)(i.Suspense,{fallback:(0,y.jsx)(Eo().A,{isVisible:!0,store:t}),children:(0,y.jsx)(Oo().V,{...u,store:p,observer:x})})}},t.id)}const $o=i.memo((function(e){let{store:t,error:l,ready:d,initialRequestCompleted:c,endOfResultsReached:u,isCollectionInPage:p,selectableEvents:g,selectableHoverMenuOverlay:m,maybeLogSearchInteractionEvent:v,scrollerRef:x,shouldShowAddTo:S,observer:j}=e;const C=(0,n().v3)(),P=(0,n().Y0)(),{publicEditModeStore:w}=(0,r().S)()??{},k=(0,a().K8)((()=>(0,fo().ZE)(null==w?void 0:w.state)),[w]),A=(0,eo().V)(),_=(0,i.useCallback)((e=>{let{startTime:i,endTime:n}=e;const r=(0,o(799832).U)(t);o(406792).default.DO_NOT_USE_measureLegacy({metricName:"collections.max_scroll_lag_in_session",startTime:i,endTime:n},{environment:C,data:o(476492).kz(r)})}),[C,t]),M=(0,i.useCallback)((e=>{if(o(347199).A.PageScroller=e,e){const t=e.getNode();t instanceof HTMLElement&&(x.current=t)}}),[x]),I=(0,i.useCallback)((()=>{v("scroll")}),[v]),B=(0,i.useCallback)((e=>{g.onClick(e),v("click")}),[v,g]),T=(0,a().K8)((()=>t.isCollectionView()),[t]),L=(0,a().K8)((()=>function(e){const t=(0,E().Wj)(e.device);return"number"==typeof t?`${t}px`:t}(C)),[C]),R=(0,s().IS)((()=>({spinner:{zIndex:1,opacity:.5,marginTop:`calc(-${Do} / 2 - ${L} / 2)`,marginBottom:24,marginLeft:"auto",marginRight:"auto"},scroller:{display:"flex",flexDirection:"column",zIndex:1,flexGrow:1,position:"relative",...d?{}:{opacity:0,pointerEvents:"none",height:0},...T?{}:{alignItems:"center"}}})),[L,T,d]),K=(0,a().K8)((()=>Io().A.state.banners.some((e=>"over_free_block_limit"===e.contentKey))),[]),O=(0,a().K8)((()=>(0,o(807778).Qe)(C)),[C]),D=(0,a().K8)((()=>Ro().default.isSidePeekOpen()?void 0:d?h().u5(C):o(756279).A.All),[C,d]),N=(0,a().K8)((()=>F().fl({environment:C,store:t})),[C,t]),V=(0,o(281795).E)();return(0,y.jsxs)(i.Fragment,{children:[(0,y.jsxs)(f().H,{ref:M,onScrollLagMeasure:p?_:void 0,onScroll:I,preventType:D,type:N,style:R.scroller,store:Bo().A,...g,onClick:B,children:[m,!A&&!P.isPhone&&k&&(0,y.jsx)(b().H7,{scrollerStore:Bo().A}),!A&&(0,y.jsx)(o(549500).EO,{scrollerStore:Bo().A}),!A&&O&&K&&(0,y.jsx)(o(811481).i,{}),!A&&(0,y.jsx)(o(998765).hD,{blockStore:t}),c&&(0,y.jsx)(Go,{store:t,error:l,shouldShowAddTo:S,observer:j}),d&&!u&&!(c&&l)&&(0,y.jsx)(o(331542).A,{legacySize:Do,style:R.spinner})]}),!A&&P.isPhone&&k&&(0,y.jsx)(b().H7,{scrollerStore:Bo().A}),!A&&!P.isPhone&&k&&(0,y.jsx)(b().X9,{scrollerKey:"Page"}),(0,y.jsx)(Eo().A,{isVisible:!d,store:t}),V&&(0,y.jsx)(Po,{pageId:t.id})]})})),Go=i.memo((function(e){let{store:t,error:r,shouldShowAddTo:l,observer:c}=e;const{pageVisitStore:u,presenceStore:p,currentLoadingContainerStore:g}=(0,a().K8)((()=>{const{pageVisitStore:e,presenceStore:t,currentLoadingContainerStore:o}=Y().default.state;return{pageVisitStore:e,presenceStore:t,currentLoadingContainerStore:o}}),[]),h=(0,n().v3)(),{WindowSizeStore:m}=h,b=(0,a().K8)((()=>m.state.height),[m]),[v,f]=(0,a().K8)((()=>{const e=(0,Z().Uh)(h),i=Math.max(o(478726).x6,e),n=e+(0,Z().Ql)(h);return[(0,o(747100).RX)(t)&&!t.isFullWidth()?i:n,Xo(h,b)]}),[b,h,t]),x=(0,a().K8)((()=>Ro().default.isSidePeekOpen()||Ro().default.isSidePeekClosingStore.state),[]),S=(0,o(539412).x9)(),j=(0,s().IS)((()=>({pageViewBlockStyle:x?{width:v,position:"absolute",overflowX:"hidden",left:0}:Zo})),[x,v]),[C,P]=(0,i.useState)(!1);(0,o(852507).w)((()=>{(0,o(97059).W)(h,t.id)&&P(!0)}));const w=(0,a().O$)(M().e),k=(0,o(591779).ZC)(w);(0,i.useEffect)((()=>{void 0!==k&&(w&&!k)&&C&&P(!1)}),[w,k,C]);const A=(0,a().K8)((()=>{if(!h.currentUser.isLoggedIn())return!1;const e=g&&!g.state.endOfResultsReached,o=t.isDefined()&&!t.canRead();return e&&r||o}),[h.currentUser,g,t,r]),_=(0,a().K8)((()=>!1===(null==g?void 0:g.state.endOfResultsReached)),[g]),I=(0,a().K8)((()=>t.canRead()&&t.isDefined()),[t]),B=(0,a().O$)(h.RouterStore),T=(0,a().O$)(D().b),R=(0,a().K8)((()=>!l&&(0,se().pF)({device:h.device,route:B.route})&&Boolean(T.topbar)),[h.device,B.route,l,T.topbar]);return(0,i.useEffect)((()=>{if(A){const e=r||new Error("Page loading error");o(449412).O8(e,{from:"Frame.PageContainerContent",type:"pageLoadingError",data:{pageId:t.id,miscDataToConvertToString:{isLoading:_,canRead:I}}})}}),[A,_,I,r,t.id]),A||C?(0,y.jsx)(L,{isOfflineAndUnavailable:C}):(0,y.jsxs)(qo,{observer:null==c?void 0:c.observer,children:[S?(0,y.jsx)(o(679192).w,{}):null,R&&(K=B,(0,d().Jx)(K.route))&&(0,y.jsx)(Jo,{route:B.route,overridePosition:"relative",children:(0,y.jsx)(vo().S8,{isInvalidPage:!1,store:t,routerState:B})}),(0,y.jsx)(E().Ay,{context:o(548821).Rr.Frame,style:j.pageViewBlockStyle,store:t,paddingBottom:f,disabled:!1}),(0,y.jsx)(_o,{}),(0,y.jsx)(o(496978).A,{pageVisitStore:u,presenceStore:p,isPeekView:!1})]});var K}));function qo(e){return e.observer?(0,y.jsx)(o(892235).S,{observer:e.observer,children:e.children}):(0,o(558842).Du)(e.children)}const Zo={};function Jo(e){var t;const{children:o,route:i,overridePosition:r}=e,d=(0,n().v3)(),c=(0,a().K8)((()=>(0,se().pF)({device:d.device,route:i})),[d.device,i]),u=(0,a().K8)((()=>d.WindowSizeStore.state.paddingTop),[d.WindowSizeStore]),p=(0,a().O$)(D().b),g=c?l().uF:l().s1,h=(0,s().IS)((()=>{var e;return{mobileTopbarPlaceholder:{minHeight:g+u,display:"flex",flexShrink:0,zIndex:f().Z+1,width:"100%"},mobileTopbarRedesigned:{position:r??(null===(e=p.topbar)||void 0===e?void 0:e.position)??"relative",pointerEvents:"none",minHeight:g+u,backgroundColor:"transparent",display:"flex",flexShrink:0,left:0,right:0,zIndex:f().Z+1,width:"100%"}}}),[u,r,null===(t=p.topbar)||void 0===t?void 0:t.position,g]);return(0,y.jsx)("div",{style:c?h.mobileTopbarRedesigned:h.mobileTopbarPlaceholder,children:o})}function Xo(e,t){const o=A().A.isMobile&&To().Ay.state.open?t:0;return(0,E().Wj)(e.device,h().C6(e)+o)}},56197:(e,t,o)=>{o.d(t,{q:()=>i});const i=o(757695).Store.createValue({attached:!1,animating:!1,proportion:0},{name:"PopupBottomSheetOpenProportionStore"})},59400:(e,t,o)=>{o.d(t,{nR:()=>c,m$:()=>s,m4:()=>l,Dy:()=>d,FZ:()=>p});o(296540);var i=()=>o(645873),n=o(474848);function r(e){const{shouldShowSpinner:t,collectionSettingsProps:i}=e;return(0,n.jsx)(o(735695).Ay,{collectionSettingsStore:i.collectionSettingsStore,fullHeight:i.fullHeight,hideDesktopHeader:i.hideDesktopHeader,children:t&&(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",overflow:"hidden",paddingBottom:20},children:(0,n.jsx)(o(331542).A,{})})})}const a=new(i().O2)("collectionSettings",(()=>Promise.all([o.e(75134),o.e(16471),o.e(58550),o.e(44711),o.e(53321),o.e(90825),o.e(96346),o.e(55373),o.e(37353),o.e(29151),o.e(78191),o.e(62475),o.e(3151),o.e(98629),o.e(92845),o.e(84468),o.e(5605),o.e(48486),o.e(95794),o.e(13677),o.e(56952),o.e(48632),o.e(75078),o.e(25497),o.e(74562),o.e(27711),o.e(4422),o.e(11341),o.e(46414),o.e(95168),o.e(28271),o.e(34877),o.e(36908),o.e(17254),o.e(84185),o.e(32421),o.e(15315),o.e(24587),o.e(78708),o.e(43777),o.e(74752),o.e(91194),o.e(81197),o.e(98659),o.e(20502),o.e(6266),o.e(8184),o.e(83884),o.e(65881),o.e(99809),o.e(93282),o.e(43678),o.e(15019),o.e(90978),o.e(3910),o.e(77213),o.e(6912),o.e(30291),o.e(19930),o.e(58102),o.e(26483),o.e(6463),o.e(40925),o.e(282),o.e(61349),o.e(62573),o.e(1440),o.e(63996),o.e(66559),o.e(35986),o.e(92924),o.e(64819),o.e(97339),o.e(55717),o.e(63797),o.e(21367),o.e(22686),o.e(99108)]).then(o.bind(o,409198)))),s=(0,i()._h)(a,(e=>e.CollectionSettings),{renderLoading:(e,t)=>(0,n.jsx)(r,{shouldShowSpinner:e,collectionSettingsProps:t})}),l=(0,i()._h)(a,(e=>e.CollectionSettingsButtonOptions)),d=(0,i()._h)(a,(e=>e.CollectionSettingsPropertyTypeMenuItem)),c=(0,i()._h)(a,(e=>e.CollectionEditButtonAutomationOption)),u=new(i().O2)("TableHeaderPropertyCreationMenu",(()=>Promise.all([o.e(75134),o.e(16471),o.e(58550),o.e(44711),o.e(53321),o.e(90825),o.e(96346),o.e(55373),o.e(37353),o.e(29151),o.e(78191),o.e(92845),o.e(84468),o.e(5605),o.e(48486),o.e(95794),o.e(13677),o.e(56952),o.e(48632),o.e(75078),o.e(25497),o.e(74562),o.e(27711),o.e(4422),o.e(11341),o.e(46414),o.e(95168),o.e(28271),o.e(34877),o.e(36908),o.e(17254),o.e(84185),o.e(32421),o.e(15315),o.e(24587),o.e(78708),o.e(43777),o.e(74752),o.e(91194),o.e(81197),o.e(98659),o.e(20502),o.e(6266),o.e(8184),o.e(83884),o.e(65881),o.e(99809),o.e(93282),o.e(43678),o.e(15019),o.e(90978),o.e(3910),o.e(77213),o.e(61349),o.e(35986),o.e(43935)]).then(o.bind(o,908800)))),p=(0,i()._h)(u,(e=>e.TableHeaderPropertyCreationMenu))},63467:(e,t,o)=>{o.d(t,{y:()=>c});var i=()=>o(637997),n=()=>o(267419);const r={ko:()=>o.e(2268).then(o.bind(o,224434)),es:()=>o.e(95264).then(o.bind(o,196425)),de:()=>o.e(35390).then(o.bind(o,653703)),fr:()=>o.e(3272).then(o.bind(o,94677)),pt:()=>o.e(27315).then(o.bind(o,766869)),zh:()=>o.e(69945).then(o.bind(o,516814)),ja:()=>o.e(77757).then(o.bind(o,824432)),da:()=>o.e(9423).then(o.bind(o,440761)),fi:()=>o.e(59337).then(o.bind(o,462135)),nb:()=>o.e(2040).then(o.bind(o,937314)),nl:()=>o.e(51106).then(o.bind(o,530897)),sv:()=>o.e(53631).then(o.bind(o,895222)),id:()=>o.e(69945).then(o.bind(o,516814)),th:()=>o.e(69945).then(o.bind(o,516814)),vi:()=>o.e(69945).then(o.bind(o,516814))};let a=!1,s=!1;async function l(e){for(const[o,n]of Object.entries(e.emojiLocaleKeywords)){var t;i().fB[o]={...i().fB[o],keywords:[...n,...(null===(t=i().fB[o])||void 0===t?void 0:t.keywords)||[]]}}await n().A.waitUntilLoaded(),n().A.update((t=>{let{emojiByName:o,...i}=t;return{...i,emojiByName:{...o,...e.emojiByName}}}))}async function d(){if(a)return;const[e]=o(662303).locale.split("-");e in r&&(await l(await r[e]()),a=!0)}const c=(0,o(279900).A)((async()=>{await async function(){s||(await l(await o.e(51872).then(o.bind(o,443716))),s=!0)}(),await d()}))},70191:(e,t,o)=>{o.d(t,{s:()=>a});o(296540);var i=()=>o(205127),n=()=>o(573792),r=o(474848);function a(e){const{store:t,isInvalidPage:o}=e;return!o&&(0,r.jsx)(i().oK,{store:t,style:(0,n().lx)(),maxAncestorCount:2,ancestorMaxWidth:160,currentPageMaxWidth:240,showCurrentPageControls:!0,isMobile:!1})}},169606:(e,t,o)=>{o.d(t,{s:()=>n});o(296540);var i=o(474848);const n=(0,o(340498).wt)("templateGalleryNewLogoColor",{viewBox:"0 0 20 20",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{fill:"#FFB110",fillRule:"evenodd",d:"M6.014 16.338a4.43 4.43 0 0 0 4.429-4.48H8.88c-.254 0-.512 0-.732-.018a2.3 2.3 0 0 1-.86-.226 2.24 2.24 0 0 1-.979-.979 2.3 2.3 0 0 1-.226-.86 10 10 0 0 1-.018-.731V7.48a4.44 4.44 0 0 1 4.179 3.111 4.431 4.431 0 0 0-8.659 1.318 4.43 4.43 0 0 0 4.43 4.43Z",clipRule:"evenodd"}),(0,i.jsx)("path",{fill:"#097FE8",d:"M12.902 11.044c.463-.802.694-1.203.997-1.338a1.02 1.02 0 0 1 .828 0c.302.135.534.536.996 1.338l2.028 3.512c.463.802.695 1.203.66 1.532-.03.287-.18.548-.414.718-.267.194-.73.194-1.656.194h-4.057c-.925 0-1.388 0-1.656-.194a1.02 1.02 0 0 1-.414-.718c-.035-.329.197-.73.66-1.532z"}),(0,i.jsx)("path",{fill:"#F64932",fillRule:"evenodd",d:"M7.287 4.63c0-.571 0-.856.111-1.074.098-.192.254-.347.445-.445C8.061 3 8.346 3 8.916 3h4.379c.57 0 .855 0 1.073.111.191.098.347.253.445.445.11.218.11.503.11 1.073v3.852a2.24 2.24 0 0 0-1.521.109c-.46.204-.75.56-.94.83a13 13 0 0 0-.594.97l-.024.043-.118.203h-2.81c-.57 0-.855 0-1.073-.11a1 1 0 0 1-.445-.445c-.11-.218-.11-.503-.11-1.074V4.63Z",clipRule:"evenodd"})]})})},192855:(e,t,o)=>{o.d(t,{L:()=>n});o(296540);var i=o(474848);const n=(0,o(340498).wt)("notionLogoBlockMonoWhite",{viewBox:"0 0 381 396",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M235.875 0.868913L42.2191 15.1299L42.0716 15.1427C29.2402 16.2539 17.5452 21.4575 9.54377 31.7056C2.00788 41.3575 0 52.6286 0 61.8081V273.61C0 290.004 6.39474 302.931 16.1515 315.934L16.2408 316.053L61.92 375.319L61.9886 375.407C67.4438 382.345 74.2617 388.53 83.9092 392.051C92.764 395.282 101.803 395.406 109.715 395.029L109.86 395.022L335.006 381.426L335.127 381.417C347.547 380.535 360.717 376.889 370.12 366.212C379.335 355.75 380.958 342.967 380.958 333.359V95.0753C380.958 86.7983 378.898 78.5009 372.39 70.965C368.595 66.5704 363.178 62.6545 359.406 59.9283C358.887 59.5528 358.398 59.1998 357.95 58.8713L357.768 58.7383L295.914 15.2639C287.833 9.40276 279.51 4.11203 268.519 1.62123C258.306 -0.693516 247.597 -0.133719 235.875 0.868913ZM44.056 38.0569L237.701 23.7967C239.187 23.6692 240.605 23.5551 241.959 23.4557C262.28 21.965 268.533 23.8019 282.545 33.9806L344.359 77.4261C344.891 77.8156 345.404 78.1905 345.899 78.5522C354.904 85.1258 357.958 87.3558 357.958 95.0753V333.359C357.958 347.359 353.177 355.996 336.907 358.134C335.822 358.277 334.687 358.391 333.498 358.475L108.619 372.055C94.3416 372.736 87.5464 370.701 80.0693 361.191L34.5487 302.131C34.0389 301.451 33.5477 300.782 33.0748 300.123C25.9812 290.237 23 282.531 23 273.61V61.8081C23 60.2816 23.085 58.7867 23.2643 57.3368C23.7339 53.5393 24.8501 50.0501 26.7789 47.1082C26.814 47.0547 26.8493 47.0014 26.8849 46.9483C26.9254 46.8879 26.9662 46.8277 27.0074 46.7677C30.2624 42.0312 35.7039 38.7802 44.056 38.0569Z",fill:"white"}),(0,i.jsx)("path",{d:"M80.7599 84.2182C91.6206 93.0413 95.6948 92.3681 116.088 91.0076L308.351 79.463C312.429 79.463 309.038 75.3949 307.678 74.7188L275.747 51.6355C269.629 46.8857 261.478 41.446 245.855 42.8066L59.6871 56.3852C52.8978 57.0584 51.5415 60.453 54.2457 63.1742L80.7599 84.2182Z",fill:"white"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M92.3031 331.318V129.025C92.3031 120.201 95.021 116.125 103.169 115.44L323.977 102.546C331.466 101.868 334.857 106.623 334.857 115.44V316.376C334.857 325.208 333.495 332.686 321.261 333.359L109.964 345.585C97.7361 346.257 92.3031 342.191 92.3031 331.318ZM294.768 152.79C300.894 152.102 302.249 145.992 300.894 139.876L254.001 142.606C247.206 143.279 241.778 148.708 243.135 156.184L260.804 158.213V251.899L191.501 145.995L141.221 149.384C131.703 150.068 128.311 158.886 129.672 165.002L146.654 166.363V300.099L134.424 303.489C129.67 304.848 128.308 311.631 129.67 314.35L176.538 311.631C193.54 311.631 193.54 299.418 193.54 299.418L172.467 294.662V193.514L239.06 298.057C247.206 308.234 249.929 311.631 260.804 311.631C267.596 311.631 275.747 308.915 284.586 304.164V154.818L294.768 152.79Z",fill:"white"})]})})},205618:(e,t,o)=>{o.d(t,{A:()=>n});class i extends(()=>o(757695))().Store{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"member",table:o(854150).yK,isFocused:!0,flowId:void 0,inputFocus:"invitee",emailMessage:""}}}const n=i},208993:(e,t,o)=>{o.d(t,{W:()=>p});o(296540);var i=()=>o(401497),n=()=>o(246760),r=()=>o(84817),a=()=>o(704152),s=()=>o(460292),l=()=>o(554509),d=()=>o(859428),c=()=>o(962730),u=o(474848);function p(e){let{tooltipTitle:t,tooltipDescription:o,buttonProps:i,iconSize:a="small",iconColorName:p="tertiary",tooltipWidth:h}=e;return(0,u.jsx)(d().A,{placement:c().W.Top,style:h?{width:h}:void 0,renderTooltip:()=>(0,u.jsxs)(r().Y1,{gap:2,direction:"vertical",children:[(0,u.jsx)(l().D,{styleName:"UISmall-12px/Medium",colorName:"contrastPrimary",children:t}),o?(0,u.jsx)(l().D,{styleName:"UISmall-12px/Regular",colorName:"contrastSecondary",children:o}):null]}),render:e=>(0,u.jsx)(g,{buttonProps:i,...e,children:(0,u.jsx)(s().Q,{iconGroup:n().G,colorName:p,variantName:a})}),textWrap:Boolean(h)})}function g(e){let{children:t,buttonProps:o,...n}=e;const r=(0,i().IS)((()=>({button:{borderRadius:2}})),[]);return o?(0,u.jsx)(a().A,{style:r.button,...o,...n,children:t}):(0,u.jsx)("span",{...n,children:t})}},214683:(e,t,o)=>{o.d(t,{T:()=>n});o(296540);var i=o(474848);const n=(0,o(340498).wt)("templateGalleryNewLogo",{viewBox:"0 0 20 20",svg:(0,i.jsx)("path",{d:"M12.0281 10H7.5V2.5H15V8.125H13.1125L12.0312 10H12.0281ZM6.25 11.25V6.875C3.83437 6.875 1.875 8.83437 1.875 11.25C1.875 13.6656 3.83437 15.625 6.25 15.625C8.66562 15.625 10.625 13.6656 10.625 11.25H6.25ZM14.9156 9.375H13.8344L10.0469 15.9375C10.2875 16.3531 10.3469 16.4594 10.5875 16.875H18.1656C18.4062 16.4594 18.4656 16.3531 18.7062 15.9375L14.9187 9.375H14.9156Z"})})},232280:(e,t,o)=>{o.d(t,{a:()=>n,h:()=>i});const i=.5,n=.3},271084:(e,t,o)=>{o.d(t,{k:()=>n});o(581454);class i extends(()=>o(757695))().Store{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}getSortedUserIds(){return Object.entries(this.state||{}).sort(((e,t)=>{let[o,i]=e,[n,r]=t;return r-i})).map((e=>{let[t,o]=e;return t}))}}const n=new i;(0,o(604341).exposeDebugValue)("UserSimilarityStore",n)},279900:(e,t,o)=>{function i(e){let t,o,i;return async function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t?(i=r,o||(o=t.then((()=>(o=void 0,t=e(...i),t))),o)):(t=e(...r),t)}}o.d(t,{A:()=>i})},339702:(e,t,o)=>{o.d(t,{j:()=>n});var i=()=>o(679924);function n(e,t){(0,i().v)(e,"offline_access_failure",t)}},348337:(e,t,o)=>{o.d(t,{$4:()=>b,Hi:()=>x,T7:()=>v,aL:()=>f});o(296540);var i=()=>o(584262),n=()=>o(427704),r=()=>o(959013),a=()=>o(2220),s=()=>o(186445),l=()=>o(492414),d=()=>o(411671),c=()=>o(530216),u=()=>o(901389),p=()=>o(507785),g=()=>o(729283),h=()=>o(435009),m=o(474848);async function b(e){c().LT(e,{variant:"open_notion"}),c().uB(e,{target:"open_notion"}),await g().VE(e,{utmContent:"topbar_cta",nextRoute:n().JZ.root})}function v(e,t){const{RouterStore:o}=e,a=o.state.route,g=s().ao();if(c().A8(e),"page"===a.name&&a.requestedOnPublicDomain&&g){const t=(0,l().Ay)({store:g,preferPublicLink:!1,pageVisitSource:i().y8.EditPublicPage,disableSlug:!0,embedded:!1});h().navigateOnBaseUrl({environment:e,url:t,openInNewTab:a.embedded})}else e.currentUser.isLoggedIn()?u().ui({showCancel:!0,keepFocus:!1,message:(0,m.jsx)(r().sA,{defaultMessage:"When you start editing, your name, email and photo may become visible to anyone who can view the page.",id:"action.startPublicEditDialog.message"}),items:[{label:(0,m.jsx)(r().sA,{defaultMessage:"Continue",id:"action.startPublicEditDialog.continueLabel"}),color:"blue",onAccept(){d().A.setState({editing:!0,commenting:!0})}}]}):(p().iZ({currentUserId:e.currentUser.id,blockId:t}),h().navigateOnBaseUrl({environment:e,url:n().JZ.login}))}function f(e,t){const{RouterStore:o}=e,r=o.state.route,a=s().ao();if(c().$W(e),"page"===r.name&&r.requestedOnPublicDomain&&a){const t=(0,l().Ay)({store:a,preferPublicLink:!1,pageVisitSource:i().y8.CommentPublicPage,disableSlug:!0,embedded:!1});h().navigateOnBaseUrl({environment:e,url:t,openInNewTab:r.embedded})}else p().iZ({currentUserId:e.currentUser.id,blockId:t}),h().navigateOnBaseUrl({environment:e,url:n().JZ.login})}function x(e,t){(0,a().u)({environment:e,event:{eventName:"report_form_clicked",eventProperties:{form_id:t}}}),h().navigateOnBaseUrl({environment:e,url:n().JZ.reportInappropriateForm})}},458366:(e,t,o)=>{o.d(t,{B2:()=>M,F1:()=>P,Kc:()=>j,NN:()=>_,UY:()=>y,br:()=>A,lA:()=>w,lh:()=>C,pi:()=>f,w_:()=>S,zP:()=>x});o(898992),o(737550);var i=()=>o(584262),n=()=>o(443239),r=()=>o(970013),a=()=>o(713998),s=()=>o(882262),l=()=>o(415566),d=()=>o(177256),c=()=>o(72135),u=()=>o(919709),p=()=>o(496603),g=()=>o(534177),h=()=>o(939768),m=()=>o(720665),b=()=>o(492414),v=()=>o(972435);function f(e){return Boolean(e.state.isOpen&&e.state.collectionsBulkActionsToolbarStore)}function x(e){switch(e){case"table":return"table";case"board":return"board";case"list":return"list";case"gallery":return"gallery";case"feed":return"feed";case"relation":case"relation_section":return"relation_section";case"timeline":return"timeline";case"calendar":return"calendar";case"page":return"page_properties";case"compact_page":return"compact_page";case"mini":return"mini_peek";case"form_editor":case"form_viewer":case"property_module":return"property_module";default:(0,g().HB)(e)}}function S(e){return{backgroundImage:`linear-gradient(\n\t\tto right,\n\t\t${e.darkDividerColor} 0%,\n\t\t${e.darkDividerColor} 100%\n\t)`,backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% 1px"}}function y(e){const{store:t,property:o,propertySchema:n}=e,r=null==n?void 0:n.type;if("title"===r)return(0,b().Ay)({store:t,fullyQualified:!1,pageVisitSource:i().y8.LinkInPage});{const e=t.getPropertyValue(o);return a().UY(r,e)}}function j(e){let t=(0,u().k4p)(e);if(!t||""===t.trim()||t.trim().includes(" "))return{domain:void 0,restOfUrl:void 0};t=t.trim();let o=h().qg(t),i=o.host;if(o.protocol&&i||(o=h().qg(`http://${t}`),i=o.host),!i)return{domain:void 0,restOfUrl:void 0};i&&(i=i.replace(/^www./i,""));const n=t.toLowerCase().indexOf(i.toLowerCase());if(-1===n)return{domain:void 0,restOfUrl:void 0};i=t.slice(n,n+i.length);return{domain:i,restOfUrl:t.slice(n+i.length)}}function C(e){const{numberValue:t,numberFormat:o,numberShowAs:i}=e;if(!(p().yr(t)||m().pN(t)||"bar"!==(null==i?void 0:i.type)&&"ring"!==(null==i?void 0:i.type))){const e=v().A.getIntl();return"percent"===o?c().ZV(t,"percent",e):`${t} / ${i.maxValue}`}}function P(e){const{property:t,collectionStore:o}=e,i=o.isSyncedCollection();return Boolean(i)&&(0,n().u)(t)}function w(e,t){switch(e){case"side_peek":return{icon:d().A,tooltip:v().A.formatMessage(k.openInSidePeekTooltip),caption:t?"":v().A.formatMessage(k.openAsPageTitle)};case"center_peek":return{icon:l().q,tooltip:v().A.formatMessage(k.openInCenterPeekTooltip),caption:t?"":v().A.formatMessage(k.openAsPageTitle)};case"full_page":return{icon:s().m,tooltip:v().A.formatMessage(k.openAsPageTooltip),caption:t?"":v().A.formatMessage(k.openAsPageTitle)};default:(0,g().HB)(e)}}const k=(0,o(959013).YK)({openAsPageTitle:{defaultMessage:"Open",id:"database.actionButton.openAsPageTitle"},openAsPageTooltip:{defaultMessage:"Open as page",id:"database.actionButton.openAsPageTooltip"},openInCenterPeekTooltip:{defaultMessage:"Open in center peek",id:"database.actionButton.openInCenterPeekTooltip"},openInSidePeekTooltip:{defaultMessage:"Open in side peek",id:"database.actionButton.openInSidePeekTooltip"}});function A(e){const{store:t,additionalStores:o,collectionContextStore:i}=e,n=t.getAssociatedCollectionStore();return!("collectionTypedView"!==(null==i?void 0:i.contextType)||!n)&&o.some((e=>{var t;return(null===(t=e.getAssociatedCollectionStore())||void 0===t?void 0:t.id)!==n.id}))}function _(e){return"form_editor"===e||"form_viewer"===e}function M(e){return Boolean(e&&!r().dA.includes(e.type))}},477293:(e,t,o)=>{o.d(t,{r:()=>r});var i=()=>o(56366),n=()=>o(217429);function r(e){let{disableExposureLogging:t,disableEventTrailLogging:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i().K8)((()=>n().default.getEligibleGroup({experimentId:e,defaultGroup:"control",disableExposureLogging:t,disableEventTrailLogging:o})),[e,t,o])}},540545:(e,t,o)=>{o.d(t,{k:()=>s});o(296540);var i=()=>o(402014),n=()=>o(869562),r=()=>o(749687),a=o(474848);function s(e){let{children:t,style:o}=e;const s=e=>{(0,i().SQ)({event:e,context:i().y$.SidebarMouseMove,callback:()=>{const t=e.currentTarget.getBoundingClientRect();r().sidebarMousePeekXStore.setState(t.right),n().open({fromElectron:!1})}})};return(0,a.jsx)("div",{onMouseEnter:s,onMouseMove:s,style:o,children:t})}},596106:(e,t,o)=>{o.d(t,{A:()=>p});o(296540);var i=()=>o(56366),n=()=>o(401497),r=()=>o(677338),a=()=>o(959013),s=()=>o(284371),l=()=>o(326406),d=()=>o(477293),c=()=>o(905654),u=o(474848);function p(e){let{isUpworkSignup:t,isPerfmarkTrialSignup:o,isAddAnotherAccount:p,isReferralSignup:g}=e;const h=(0,n().DP)(),m="on"===(0,d().r)("acquisition_update_signup_copy"),b=(0,i().K8)((()=>(0,l().A)()),[]),v=(0,c().Nz)(),f=(0,c().EB)(),x=r().J0(),S="meeting_notes"===x?(0,u.jsx)(a().sA,{id:"signupPage.meetingNotes.title",defaultMessage:"Try AI Meeting Notes."}):t?(0,u.jsx)(a().sA,{id:"signupPage.upwork.title",defaultMessage:"Try Notion Plus, on us"}):o?(0,u.jsx)(a().sA,{id:"signupPage.perfmarkTrial.title",defaultMessage:"Start your free Notion Plus trial"}):b?(0,u.jsx)(a().sA,{id:"signupPage.formResponse.title",defaultMessage:"Sign up to see a copy of your form response"}):v?(0,u.jsx)(a().sA,{id:"signupPage.mail.title",defaultMessage:"Welcome to Notion Mail"}):f?(0,u.jsx)(a().sA,{id:"signupPage.calendar.title",defaultMessage:"Welcome to Notion Calendar"}):g?(0,u.jsx)(a().sA,{id:"signupPage.referral.title",defaultMessage:"Try Notion Business, on us"}):m?(0,u.jsx)(a().sA,{id:"signupPage.revamped.titlev2",defaultMessage:"Your AI workspace."}):(0,u.jsx)(a().sA,{id:"signupPage.revamped.title",defaultMessage:"Think it. Make it."}),y="meeting_notes"===x?(0,u.jsx)(a().sA,{id:"signupPage.revamped.signInText",defaultMessage:"Create your Notion account"}):t?(0,u.jsx)(a().sA,{id:"signupPage.upwork.signInText",defaultMessage:"Sign up to get started"}):o?(0,u.jsx)(a().sA,{id:"signupPage.smbTrial.signInText",defaultMessage:"No credit card required"}):b?void 0:p?(0,u.jsx)(a().sA,{id:"signupPage.addAnotherAccount.subtitle",defaultMessage:"Log in or create an account"}):(0,u.jsx)(a().sA,{id:"signupPage.revamped.signInText",defaultMessage:"Create your Notion account"});return(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",textAlign:"left",fontWeight:s().Wy.semibold,fontSize:22,lineHeight:"26px",width:320},children:[(0,u.jsx)("div",{children:S}),(0,u.jsx)("div",{style:{color:h.text.tertiary},children:y})]})}},673912:(e,t,o)=>{o.d(t,{P:()=>r,W:()=>n});class i extends(()=>o(757695))().Store{getInitialState(){return{banners:[],height:void 0}}setHeight(e){this.setState({...this.state,height:e})}}const n=new i,r=new(o(178624).R)({key:"publicSiteBannerDismissed",namespace:"notion",important:!1,trackingType:"necessary"})},700149:(e,t,o)=>{o.d(t,{f:()=>n});class i extends(()=>o(757695))().Store{getInitialState(){return{isFrameReady:!1,tabStates:void 0}}setTabStates(e){this.setState({...this.state,tabStates:e})}setIsFrameReady(e){this.setState({...this.state,isFrameReady:e})}getStateForProvider(e){if(this.state.tabStates&&this.state.tabStates[e])return this.state.tabStates[e]}consumeState(e){var t;null!==(t=this.state)&&void 0!==t&&t.tabStates&&this.state.tabStates[e]&&this.update((t=>{if(null==t||!t.tabStates)return t;const o={...t.tabStates};return delete o[e],0===Object.keys(o).length?{tabStates:void 0,isFrameReady:t.isFrameReady}:{tabStates:o,isFrameReady:t.isFrameReady}}))}}const n=new i},726562:(e,t,o)=>{o.d(t,{Ay:()=>b,eX:()=>v,Zl:()=>x,tA:()=>f});o(296540);var i=()=>o(56366),n=()=>o(496506),r=()=>o(645873);const a=new(r().O2)("PageLayoutEditor",(async()=>Promise.all([o.e(75134),o.e(9304),o.e(16471),o.e(58550),o.e(44711),o.e(53321),o.e(90825),o.e(96346),o.e(55373),o.e(37353),o.e(29151),o.e(78191),o.e(62475),o.e(3151),o.e(98629),o.e(49889),o.e(97727),o.e(22900),o.e(85128),o.e(95555),o.e(14659),o.e(92845),o.e(84468),o.e(5605),o.e(48486),o.e(95794),o.e(13677),o.e(56952),o.e(48632),o.e(74562),o.e(27711),o.e(4422),o.e(11341),o.e(46414),o.e(95168),o.e(28271),o.e(34877),o.e(36908),o.e(17254),o.e(84185),o.e(32421),o.e(15315),o.e(24587),o.e(78708),o.e(43777),o.e(74752),o.e(91194),o.e(81197),o.e(98659),o.e(20502),o.e(6266),o.e(8184),o.e(83884),o.e(65881),o.e(99809),o.e(93282),o.e(43678),o.e(15019),o.e(90978),o.e(3910),o.e(77213),o.e(6912),o.e(21194),o.e(30291),o.e(39541),o.e(12913),o.e(45620),o.e(54220),o.e(19930),o.e(81768),o.e(58102),o.e(52836),o.e(26483),o.e(19687),o.e(6463),o.e(68137),o.e(50569),o.e(40925),o.e(24975),o.e(282),o.e(87250),o.e(93847),o.e(79928),o.e(7203),o.e(61349),o.e(55197),o.e(94256),o.e(76690),o.e(29669),o.e(24930),o.e(62573),o.e(33882),o.e(44763),o.e(1440),o.e(5044),o.e(31782),o.e(93449),o.e(63996),o.e(895),o.e(66559),o.e(35986),o.e(45683),o.e(78862),o.e(38536),o.e(92924),o.e(64819),o.e(67378),o.e(40186),o.e(97339),o.e(55717),o.e(63797),o.e(56352),o.e(52811),o.e(28398),o.e(21367),o.e(65351),o.e(22686),o.e(4112),o.e(31889),o.e(36009),o.e(81973),o.e(2600),o.e(77663),o.e(97832),o.e(75681)]).then(o.bind(o,975081)))),s=(0,r()._h)(a,(e=>e.PageLayoutEditor)),l=new(r().O2)("SiteSettingsLayoutEditor",(async()=>await Promise.all([o.e(75134),o.e(16471),o.e(58550),o.e(44711),o.e(53321),o.e(90825),o.e(96346),o.e(55373),o.e(37353),o.e(29151),o.e(78191),o.e(92845),o.e(84468),o.e(5605),o.e(48486),o.e(95794),o.e(13677),o.e(56952),o.e(48632),o.e(75078),o.e(25497),o.e(74562),o.e(27711),o.e(4422),o.e(11341),o.e(46414),o.e(95168),o.e(28271),o.e(34877),o.e(36908),o.e(17254),o.e(84185),o.e(32421),o.e(15315),o.e(24587),o.e(78708),o.e(43777),o.e(74752),o.e(91194),o.e(81197),o.e(98659),o.e(20502),o.e(6266),o.e(8184),o.e(83884),o.e(65881),o.e(99809),o.e(43678),o.e(15019),o.e(90978),o.e(21194),o.e(9066),o.e(46204)]).then(o.bind(o,242565)))),d=(0,r()._h)(l,(e=>e.SiteSettingsLayoutEditor));var c=()=>o(263711);const u={presentationMode:new(r().O2)("PresentationMode",(async()=>await Promise.all([o.e(44711),o.e(53321),o.e(81330)]).then(o.bind(o,888866))))},p=(0,r()._h)(u.presentationMode,(e=>e.PresentationMode));var g=()=>o(765957),h=()=>o(54362),m=o(474848);function b(e){const{mainEditorCurrentBlockStore:t,currentCollectionViewStore:o}=(0,i().O$)(g().default),n=(0,i().K8)((()=>{const i=e.routerState,n=i.route;if("team"===n.name)return{store:void 0,collectionViewStore:void 0,routerState:i};if("posts"===n.name)return{store:void 0,collectionViewStore:void 0,routerState:i};if("meet"===n.name)return{store:void 0,collectionViewStore:void 0,routerState:i};return t?{store:t,collectionViewStore:o,routerState:i}:void 0}),[o,t,e.routerState]),r=(0,i().K8)((()=>v.getState()),[]),a=(0,i().K8)((()=>f.getState()),[]),l=(0,i().K8)((()=>x.getState()),[]);return r?(0,m.jsx)(s,{}):l?(0,m.jsx)(p,{}):n?a?(0,m.jsx)(d,{}):(0,m.jsx)(h().Ay,{...n}):null}const v=new(n().ComputedStore)((()=>{const e=c().g.getState();return e.isOpen&&"layout-editor"===e.mode}),{debugName:"isPageLayoutEditorOpenStore"}),f=new(n().ComputedStore)((()=>{const e=c().g.getState();return e.isOpen&&"site-settings-editor"===e.mode}),{debugName:"isSiteSettingsLayoutEditorOpenStore"}),x=new(n().ComputedStore)((()=>{const e=c().g.getState();return e.isOpen&&"presentation"===e.mode}),{debugName:"isPresentationModeOpenStore"})},742943:(e,t,o)=>{o.d(t,{T0:()=>d,ZH:()=>p,hY:()=>c});o(581454);var i=()=>o(179034),n=()=>o(869558),r=()=>o(96689),a=()=>o(919709),s=()=>o(765957);const l="3";function d(e){var t;const o=s().default.state.currentSpaceStore;if(!o)return!1;const i=o.getSpaceId(),n=e.currentUser.id;if(!n)return!1;return c(n,e.idCreator.getSpaceIdCreatorSync(i))===(null===(t=s().default.state.mainEditorCurrentBlockStore)||void 0===t?void 0:t.id)}function c(e,t){return t.deterministicIdInSavedSpace(i().ev,`${e}:${t.getSpaceId()}:library-v${l}:collectionViewBlock`)}function u(e,t,o){return t.deterministicIdInSavedSpace(n().Gy,`${e}:${t.getSpaceId()}:library-v${l}:collectionView:${o}`)}function p(e){const{userId:t,spaceIdCreator:o}=e,n=o.getSpaceId(),s=c(t,o),l=function(e){const{userId:t,spaceIdCreator:o,collectionViewBlockId:n}=e,r=o.getSpaceId(),a={id:u(t,o,"myPages"),version:1,alive:!0,space_id:r,parent_table:i().ev,parent_id:n,name:"My Pages",type:"list",format:{collection_view_source:{type:"myPages",spaceId:r},collection_view_icon:"/icons/grid_gray.svg",hide_linked_collection_name:!0,collection_peek_mode:"side_peek",list_properties:[{property:"title",visible:!0},{property:"created_time",visible:!1},{property:"created_by",visible:!1},{property:"last_edited_by",visible:!1},{property:"last_edited_time",visible:!0},{property:"last_visited_time",visible:!1}]}},s={id:u(t,o,"recents"),version:1,alive:!0,space_id:r,parent_table:i().ev,parent_id:n,name:"Recents",type:"list",format:{collection_view_source:{type:"recents",spaceId:r},collection_view_icon:"/icons/clock-alternate_gray.svg",list_properties:[{property:"title",visible:!0},{property:"created_by",visible:!1},{property:"created_time",visible:!1},{property:"last_edited_by",visible:!1},{property:"last_edited_time",visible:!1},{property:"last_visited_time",visible:!0}],hide_linked_collection_name:!0,collection_peek_mode:"side_peek"}},l={id:u(t,o,"sharedWithMe"),version:1,alive:!0,space_id:r,parent_table:i().ev,parent_id:n,name:"Shared with me",type:"list",format:{collection_view_source:{type:"sharedWithMe",spaceId:r},collection_view_icon:"/icons/friends_gray.svg",hide_linked_collection_name:!0,collection_peek_mode:"side_peek",list_properties:[{property:"title",visible:!0},{property:"created_time",visible:!1},{property:"created_by",visible:!0},{property:"last_edited_by",visible:!1},{property:"last_edited_time",visible:!0},{property:"last_visited_time",visible:!1}]}};return{myPagesView:a,recentsView:s,sharedWithMeView:l}}({userId:t,spaceIdCreator:o,collectionViewBlockId:s}),d=Object.values(l);return{block:{id:s,version:1,alive:!0,type:"collection_view_page",space_id:n,parent_table:r().NX,parent_id:n,permissions:[{type:"exclusive_user_permission",user_id:t,role:"read_and_write"}],properties:{title:(0,a().x9d)("Library")},view_ids:d.map((e=>e.id))},collectionViews:d}}},811481:(e,t,o)=>{o.d(t,{i:()=>r});var i=()=>o(645873);const n={ScrollableBlockLimitBanner:new(i().O2)("ScrollableBlockLimitBanner",(async()=>Promise.all([o.e(87584),o.e(27942)]).then(o.bind(o,787584))))},r=(0,i()._h)(n.ScrollableBlockLimitBanner,(e=>e.default))},882262:(e,t,o)=>{o.d(t,{m:()=>n});o(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"3.23 3.23 13.54 13.53",svg:(0,o(474848).jsx)("path",{d:"M4.485 8.86V5.369l4.073 4.073a.625.625 0 0 0 .884-.884L5.369 4.485h3.49a.625.625 0 1 0 0-1.25h-5a.625.625 0 0 0-.624.625v5a.625.625 0 0 0 1.25 0m10.146 6.655-4.07-4.07a.625.625 0 0 1 .884-.884l4.07 4.07V11.14a.625.625 0 1 1 1.25 0v5c0 .345-.28.625-.625.625h-5a.625.625 0 1 1 0-1.25z"})},n=(0,o(340498).wt)("arrowExpandDiagonal",i)},937199:(e,t,o)=>{o.d(t,{LH:()=>r,Op:()=>n,bi:()=>l,sf:()=>s,v$:()=>a});o(16280);var i=o(296540);const n=(0,i.createContext)(null);function r(){const e=(0,i.useContext)(n);if(!e)throw new Error("usePageLayoutEditorContext must be used inside BaseLayoutEditorContext.Provider");return e}function a(){return(0,i.useContext)(n)}n.displayName="BaseLayoutEditorContext";const s=(0,i.createContext)(null);function l(){const e=(0,i.useContext)(s);if(!e)throw new Error("usePageLayoutEditorContext must be used inside PageLayoutEditorContextProvider");return e}s.displayName="PageLayoutEditorContext"},969339:(e,t,o)=>{o.d(t,{C6:()=>a,HQ:()=>r,Yo:()=>s});var i=()=>o(645873);const n=new(i().O2)("login",(async()=>{const{default:e}=await Promise.all([o.e(44711),o.e(35837),o.e(19687),o.e(25049),o.e(30873),o.e(96966)]).then(o.bind(o,465209)),{default:t}=await Promise.all([o.e(44711),o.e(35837),o.e(19687),o.e(25049),o.e(30873),o.e(96966)]).then(o.bind(o,406370)),{default:i}=await Promise.all([o.e(44711),o.e(35837),o.e(19687),o.e(25049),o.e(30873),o.e(96966)]).then(o.bind(o,737515)),{default:n}=await Promise.all([o.e(44711),o.e(35837),o.e(19687),o.e(25049),o.e(30873),o.e(96966)]).then(o.bind(o,936419)),{default:r}=await Promise.all([o.e(44711),o.e(35837),o.e(19687),o.e(25049),o.e(30873),o.e(96966)]).then(o.bind(o,52542));return{LoginPage:e,LoginDesktop:t,LoginMobileNative:i,FrontLoginPage:n,LoginModalContent:r}})),r=(0,i()._h)(n,(e=>e.LoginPage)),a=(0,i()._h)(n,(e=>e.FrontLoginPage)),s=(0,i()._h)(n,(e=>e.LoginModalContent))},997513:(e,t,o)=>{o.d(t,{z:()=>g});var i=o(296540),n=()=>o(484714),r=()=>o(56366),a=()=>o(401497),s=()=>o(959013),l=()=>o(107683),d=()=>o(2143),c=()=>o(969339),u=()=>o(756279),p=o(474848);function g(e){let{loginModalStore:t,loginStore:o,title:a,description:s,isSignup:d,disableLoginLink:u,redirectURL:g,className:v,onDismiss:f,trustedDomain:x}=e;const S=(0,n().v3)(),y=(0,r().K8)((()=>t.state.open),[t]),j=(0,i.useId)(),C=(0,i.useId)(),P={loginStore:o,title:a,description:s,isSignup:d,redirectURL:g,disableLoginLink:u,titleAriaId:j,descriptionAriaId:C,trustedDomain:x};return(0,p.jsx)(l().s,{ariaLabelledBy:j,ariaDescribedBy:C,isOpen:y,onDismiss:()=>{b({loginModalStore:t,loginStore:o,onDismiss:f})},areaConstraint:{width:{type:"fixed",length:480},height:{type:"unlimited",scroll:"allow"}},deprecatedCompatibilityOverrides:{tabletsUsePhoneDisplayMode:!0},render:()=>(0,p.jsx)(h,{children:(0,p.jsxs)("div",{className:v,children:[!S.device.isMobile&&(0,p.jsx)(m,{loginModalStore:t,loginStore:o,onDismiss:f}),(0,p.jsx)(c().Yo,{...P})]})})})}function h(e){let{children:t}=e;return(0,n().v3)().device.isMobile?(0,p.jsx)(d().H,{type:u().A.Y,children:t}):t}function m(e){let{loginModalStore:t,loginStore:o,onDismiss:i}=e;const n=(0,a().DP)();return(0,p.jsx)("div",{style:{fontSize:14,color:n.text.secondary,position:"absolute",right:0,marginTop:16,marginRight:16,cursor:"pointer",zIndex:1},onClick:()=>{b({loginModalStore:t,loginStore:o,onDismiss:i})},children:(0,p.jsx)(s().sA,{defaultMessage:"Cancel",id:"sidebarSwitcherMultiAccount.addAccountModal.cancelButton.label"})})}function b(e){const{loginModalStore:t,loginStore:o,onDismiss:i}=e;o.reset(),t.setState({open:!1}),i&&i()}},997752:(e,t,o)=>{o.d(t,{t:()=>d});var i=()=>o(484714),n=()=>o(56366),r=()=>o(780054),a=()=>o(836251),s=()=>o(792415),l=()=>o(281401);function d(e){const{store:t}=e,o=(0,i().v3)();return(0,n().K8)((()=>{if(!t)return!1;if(r().A.isMobile||!(0,a().w6)(o))return!1;if(!(0,l().K6)(t,o))return!1;const{publicPageData:e}=s().A.state;return!(null==e||!e.template)}),[o,t])}},998765:(e,t,o)=>{o.d(t,{hD:()=>r,lK:()=>s});var i=()=>o(645873);const n=new(i().O2)("MaybeMarketplaceReviewNudge",(()=>o.e(54215).then(o.bind(o,348069)))),r=(0,i()._h)(n,(e=>e.MaybeMarketplaceReviewNudge)),a=new(i().O2)("MarketplaceReviewNudge",(()=>o.e(2501).then(o.bind(o,11385)))),s=(0,i()._h)(a,(e=>e.MarketplaceReviewNudge))}}]);