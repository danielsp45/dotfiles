"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[92924],{92924:(e,t,l)=>{l.d(t,{i:()=>he});var r=l(296540),n=()=>l(56366),o=()=>l(401497),i=()=>l(669647),a=()=>l(554509),s=()=>l(913454),d=(l(898992),l(354520),l(672577),l(581454),()=>l(521381)),c=()=>l(784892),p=()=>l(534177),u=()=>l(399762),h=l(474848);const m=6;function x(e){let{flushRight:t,hasShadow:l,style:r,children:n}=e;const i=(0,o().IS)((e=>{const n=(null==r?void 0:r.borderRadius)??4;return{card:{display:"flex",flexDirection:"column",gap:3,marginBottom:l?5:4,padding:m,paddingRight:t?0:m,borderRadius:n,borderTopRightRadius:t?0:n,borderBottomRightRadius:t?0:n,...l?{boxShadow:e.shadowXS,boxShadowRight:t?0:void 0}:{border:`1px solid ${e.stroke.secondary}`,borderRightWidth:t?0:1},...r}}}),[t,l,r]);return(0,h.jsx)("div",{style:i.card,children:n})}function f(e){let{style:t}=e;const l=(0,o().IS)((e=>({textSkeleton:{width:"60%",height:10,backgroundColor:e.fill.lightGraySecondary,borderRadius:6,...t}})),[t]);return(0,h.jsx)("div",{style:l.textSkeleton})}function y(e){return(0,h.jsx)("div",{children:"status"===e.type?(0,h.jsx)(u().q,{value:e.value,color:e.color,format:c().NY.ExtremeSmall,showRemoveButton:!1,isSingle:!0,groupColor:e.color}):(0,h.jsx)(u().O,{format:c().NY.ExtremeSmall,value:e.value,color:e.color,showRemoveButton:!1,isSingle:!0})})}function g(e){let{index:t}=e;const l=(0,r.useCallback)((e=>({height:5,...e&&{width:e}})),[]);return 0===t?(0,h.jsxs)("div",{children:[(0,h.jsx)(x,{children:(0,h.jsx)(f,{style:l()})}),(0,h.jsx)(x,{style:{height:"30px"},children:(0,h.jsx)(f,{style:l("80%")})})]}):1===t?(0,h.jsxs)("div",{children:[(0,h.jsxs)(x,{children:[(0,h.jsx)(f,{style:l("100%")}),(0,h.jsx)(f,{style:l()})]}),(0,h.jsx)(x,{children:(0,h.jsx)(f,{style:l()})})]}):(0,h.jsx)("div",{children:(0,h.jsx)(x,{children:(0,h.jsx)(f,{style:l()})})})}const v={type:"select",columns:[]};var w=()=>l(148307),j=()=>l(807683),b=()=>l(972435);const S=6,T=20,k=(0,l(959013).YK)({sunday:{id:"workflowTemplatesOnboarding.calendarThumbnail.sunday",defaultMessage:"Sun"},monday:{id:"workflowTemplatesOnboarding.calendarThumbnail.monday",defaultMessage:"Mon"},tuesday:{id:"workflowTemplatesOnboarding.calendarThumbnail.tuesday",defaultMessage:"Tue"}}),I=[{label:b().A.formatMessage(k.sunday)},{label:b().A.formatMessage(k.monday)},{label:b().A.formatMessage(k.tuesday)},{label:""}];function R(e){const{index:t,flushRight:l}=e,r=(0,o().IS)((e=>({container:{padding:S,paddingRight:l?0:S,border:`1px solid ${e.stroke.secondary}`,borderRight:0,borderBottom:0,borderTopLeftRadius:0===t?3:0}})),[t,l]);return(0,h.jsx)("div",{style:r.container,children:(0,h.jsx)(C,{...e})})}function C(e){const{index:t,flushRight:l}=e,n=(0,o().IS)((e=>({skeleton:{width:"100%",height:5,borderRadius:T,borderTopRightRadius:l?0:T,borderBottomRightRadius:l?0:T},avatarRow:{display:"flex",alignItems:"center",gap:4},avatarWrapper:{width:12,height:12,flexShrink:0,borderRadius:"100%",border:`0.5px solid ${e.stroke.secondary}`,overflow:"hidden"},avatar:{width:"100%",height:"100%"}})),[l]),i=(0,r.useMemo)((()=>({hasShadow:!0,style:{borderRadius:3},...e})),[e]);return t%3==0?(0,h.jsx)(x,{...i,children:(0,h.jsx)(f,{style:n.skeleton})}):t%2==0?(0,h.jsxs)(x,{...i,children:[(0,h.jsx)(f,{style:n.skeleton}),(0,h.jsxs)("div",{style:n.avatarRow,children:[(0,h.jsx)("div",{style:n.avatarWrapper,children:(0,h.jsx)(j().Ay,{src:w().A.images.workflowTemplates.previewAvatar1Png,style:n.avatar})}),(0,h.jsx)(f,{style:n.skeleton})]})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{...i,children:(0,h.jsx)(f,{style:n.skeleton})}),(0,h.jsx)(x,{...i,children:(0,h.jsx)(f,{style:n.skeleton})})]})}const _=.7;function A(e){let{type:t}=e;const l=(0,o().IS)((e=>{const t=e.fill.grayTertiary;return{container:{display:"flex",flexDirection:"column",justifyContent:"stretch",width:84,height:48+2*_,backgroundColor:"light"===e.mode?e.surface.wash:e.boardItemDefaultBackground,borderRadius:4,overflow:"hidden",border:`${_}px solid ${e.stroke.secondary}`},image:{overflow:"hidden",flexGrow:1,flexShrink:1,borderTopLeftRadius:4,borderTopRightRadius:4},caption:{display:"flex",alignItems:"center",justifyContent:"flex-start",height:16+_,flexShrink:0,backgroundColor:"light"===e.mode?e.white:e.cardBackground,borderTop:`${_}px solid ${e.stroke.secondary}`,paddingLeft:6},captionText:{backgroundColor:t,borderRadius:20,width:35,height:5},shapeFill:{fill:t,backgroundColor:t}}}),[]);let r;return"circle"===t?r=(0,h.jsx)(V,{fillStyle:l.shapeFill}):"rectangle"===t?r=(0,h.jsx)(M,{fillStyle:l.shapeFill}):"triangle"===t&&(r=(0,h.jsx)($,{fillStyle:l.shapeFill})),(0,h.jsxs)("div",{style:l.container,children:[(0,h.jsx)("div",{style:l.image,children:r}),(0,h.jsx)("div",{style:l.caption,children:(0,h.jsx)("div",{style:l.captionText})})]})}const B=58;function V(e){let{fillStyle:t}=e;const l=(0,o().IS)((e=>({container:{position:"relative",overflow:"hidden",width:"100%",height:"100%"},circle:{position:"absolute",left:`calc(50% - ${B/2}px)`,top:"30%",width:B,height:B,borderRadius:"100%",backgroundColor:t.backgroundColor}})),[t]);return(0,h.jsx)("div",{style:l.container,children:(0,h.jsx)("div",{style:l.circle})})}function $(e){let{fillStyle:t}=e;const l=(0,o().IS)((e=>({container:{display:"flex",flexDirection:"column",justifyContent:"flex-end",overflow:"hidden",width:"100%",height:"100%"},pyramidsContainer:{fill:t.fill}})),[t]);return(0,h.jsx)("div",{style:l.container,children:(0,h.jsx)("div",{style:l.pyramidsContainer,children:(0,h.jsxs)("svg",{viewBox:"0 0 84 23",children:[(0,h.jsx)("defs",{children:(0,h.jsxs)("clipPath",{id:"shape",children:[(0,h.jsx)("rect",{x:"-25.4688",y:"57.5312",width:"71.4619",height:"71.4619",transform:"rotate(-45 -25.4688 57.5312)"}),(0,h.jsx)("rect",{x:"3.53125",y:"50.5312",width:"71.4619",height:"71.4619",transform:"rotate(-45 3.53125 50.5312)"})]})}),(0,h.jsx)("g",{clipPath:"url(#shape)",children:(0,h.jsx)("rect",{width:"100%",height:"100%"})})]})})})}function M(e){let{fillStyle:t}=e;const l=(0,o().IS)((e=>({container:{position:"relative",overflow:"hidden",width:"100%",height:"100%"},rectangle:{position:"absolute",top:10,right:10,left:10,bottom:0,borderTopLeftRadius:1,borderTopRightRadius:1,backgroundColor:t.backgroundColor}})),[t]);return(0,h.jsx)("div",{style:l.container,children:(0,h.jsx)("div",{style:l.rectangle})})}l(517642),l(658004),l(733853),l(845876),l(432475),l(515024),l(731698);var P=()=>l(466934),W=()=>l(128914),L=()=>l(496603);const N=3,z={templateId:"name",type:"property",value:{name:"Name",type:"title"}};function D(){return Array.from({length:N})}function O(e){let{properties:t,collectionViewTemplate:l}=e;return t.map((e=>{if("status"!==e.value.type)return e;const t=function(e){let{propertyTemplate:t,collectionViewTemplate:l}=e;const r=t.templateId,n=F(l),o=K(l);return n.find((e=>r===o[e.property]))}({propertyTemplate:e,collectionViewTemplate:l});return"checkbox"===(null==t?void 0:t.statusShowAs)?{...e,value:{...e.value,type:"checkbox"}}:e}))}function E(e){let{userCustomizations:t,collectionViewTemplate:l}=e;const r=(0,s().getPropertyTemplates)(t.featureTemplateSelections.filter((e=>e.selected)).map((e=>e.template))),n=function(e){let{collectionViewTemplate:t}=e;const l=K(t),r=F(t),n=new Set;for(const o of r){const e=l[o.property];o.visible&&n.add(e)}return n}({collectionViewTemplate:l});return[r.find(W().eP)??z,...r.filter(P().QT).filter((e=>!(0,W().eP)(e))).filter((e=>n.has(e.templateId)))]}function F(e){var t,l,r,n,o,i;switch(e.value.type){case"table":return(null===(t=e.value.format)||void 0===t?void 0:t.table_properties)??[];case"list":return(null===(l=e.value.format)||void 0===l?void 0:l.list_properties)??[];case"gallery":return(null===(r=e.value.format)||void 0===r?void 0:r.gallery_properties)??[];case"board":return(null===(n=e.value.format)||void 0===n?void 0:n.board_properties)??[];case"calendar":return(null===(o=e.value.format)||void 0===o?void 0:o.calendar_properties)??[];case"timeline":return(null===(i=e.value.format)||void 0===i?void 0:i.timeline_properties)??[];case"page":case"chart":case"form_editor":case"feed":case"map":case"chat":case"custom":return[];default:(0,p().HB)(e.value.type)}}function K(e){let{dependencyMap:t}=e;const l={};for(const[r,n]of(0,p().WP)(t??{})){const e=(0,i().lS)(r);e&&(l[e]=n)}return l}var Y=()=>l(73332);const G=[!0,!1,!1];function U(e){let{rowIndex:t,style:l}=e;return(0,h.jsx)(Y().T,{checked:G[t]??!1,disabled:!0,size:10,style:l})}const q=5;function H(e){const t=function(e){return 60+(2*(e+3)+43)%(e%5+2)*5}(e);return{width:`${t}%`,maxWidth:"80%",height:q}}const Q=[30,45,35,40];function X(e){let{index:t,offset:l}=e;return{width:Q[(t+l)%Q.length],height:q}}const J=[{avatarSrc:w().A.images.workflowTemplates.previewAvatar1Png,name:""},{avatarSrc:w().A.images.workflowTemplates.previewAvatar2Png,name:""},{avatarSrc:w().A.images.workflowTemplates.previewAvatar3Png,name:""}];function Z(e){const t=(0,o().IS)((t=>({container:{display:"flex",alignItems:"center",width:"100%",gap:4,...e.containerStyle},avatarWrapper:{display:"flex",alignItems:"center",justifyContent:"center",width:12,height:12,boxSizing:"content-box",borderRadius:"100%",overflow:"hidden",border:`1px solid ${t.stroke.secondary}`,flexShrink:0},avatarImage:{width:"100%",height:"100%",borderRadius:"100%"}})),[e.containerStyle]),l=J[e.index%J.length];return(0,h.jsxs)("div",{style:t.container,children:[(0,h.jsx)("div",{style:t.avatarWrapper,children:(0,h.jsx)(j().Ay,{src:l.avatarSrc,style:t.avatarImage})}),e.showNameSkeleton?(0,h.jsx)(f,{style:H(e.index)}):null]})}function ee(e){let{rowIndex:t,propertySchema:l}=e;const r=function(e){const t=e.options;return null!=t&&t.length?D().map(((e,l)=>{const r=l%t.length;return t[r]})):[]}(l),n=r[t%r.length];return n?"status"===l.type?(0,h.jsx)(u().q,{value:n.value,color:n.color,format:c().NY.ExtremeSmall,showRemoveButton:!1,isSingle:!0,groupColor:n.color}):(0,h.jsx)(u().O,{format:c().NY.ExtremeSmall,value:n.value,color:n.color,showRemoveButton:!1,isSingle:!0}):null}const te=18,le=Object.freeze(new Set(["title","select","person","multi_select","status","checkbox"]));function re(e){return(0,p().y$)(le,e.value.type)}function ne(e){let{propertyTemplates:t,rowIndex:l,containerStyle:r}=e;return(0,h.jsx)("div",{style:{display:"flex",gap:4,height:te,alignItems:"center",overflow:"hidden",...r},children:t.map((e=>(0,h.jsx)(ie,{property:e,index:l},e.templateId)))})}const oe=[117,136,128];function ie(e){let{property:t,index:l}=e;const r=(0,o().IS)((()=>{const e={display:"flex",overflow:"hidden"};return{textSkeleton:{...e,height:5,width:oe[l]??oe[0],minWidth:25,maxWidth:"80%"},checkbox:{...e,flexShrink:0},person:{...e,width:"unset",flexShrink:0}}}),[l]);switch(t.value.type){case"title":return(0,h.jsx)(f,{style:r.textSkeleton});case"checkbox":return(0,h.jsx)(U,{rowIndex:l,style:r.checkbox});case"status":case"select":case"multi_select":return(0,h.jsx)(ee,{rowIndex:l,propertySchema:t.value});case"person":return(0,h.jsx)(Z,{index:l,showNameSkeleton:!1,containerStyle:r.person});default:return null}}function ae(e){let{propertySchema:t,columnIndex:l,rowIndex:r,templateIndex:n}=e;const i=(0,o().IS)((()=>({container:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",width:"100%",height:"100%"}})),[]);return(0,h.jsx)("div",{style:i.container,children:(0,h.jsx)(se,{propertySchema:t,columnIndex:l,rowIndex:(r+n)%3})})}function se(e){let{propertySchema:t,columnIndex:l,rowIndex:r}=e;switch(t.type){case"number":return(0,h.jsx)(f,{style:X({index:r,offset:l})});case"text":case"title":return(0,h.jsx)(f,{style:H(r)});case"select":case"multi_select":case"status":return(0,h.jsx)(ee,{rowIndex:r,propertySchema:t});case"created_time":case"last_edited_time":case"last_visited_time":case"date":return(0,h.jsx)(f,{style:{width:"70%",maxWidth:"70%",height:q}});case"created_by":case"last_edited_by":case"person":return(0,h.jsx)(Z,{index:r,showNameSkeleton:!0});case"checkbox":return(0,h.jsx)(U,{rowIndex:r});default:return null}}const de=r.memo(ae);function ce(e){let{template:t,viewTemplate:r,index:i}=e;const s=(0,n().K8)((()=>E({userCustomizations:(0,P().ET)({template:t}),collectionViewTemplate:r}).splice(0,3)),[t,r]),d=(0,o().IS)((e=>({table:{display:"grid",gridTemplateColumns:"repeat(3, minmax(0, 1fr))",gridTemplateRows:"repeat(4, 20px)"},tableCell:{display:"flex",alignItems:"center",justifyContent:"flex-start",paddingTop:1,marginBottom:-1,borderBottom:`1px solid ${e.stroke.secondary}`,paddingLeft:4,paddingRight:8},propertyTitle:{fontSize:9,...l(284371).RC}})),[]);return(0,h.jsxs)("div",{style:d.table,children:[s.map((e=>(0,h.jsx)("div",{style:d.tableCell,children:(0,h.jsx)(a().D,{styleName:"UISmall-12px/Regular",colorName:"secondary",customStyles:d.propertyTitle,children:e.value.name})},`header-${e.templateId}`))),Array.from({length:3}).map(((e,t)=>s.map(((e,l)=>(0,h.jsx)("div",{style:d.tableCell,children:(0,h.jsx)(de,{propertySchema:e.value,rowIndex:t,columnIndex:l,templateIndex:i})},`row-${t}-${e.templateId}`)))))]})}const pe={table:ce,gallery:function(e){let{template:t,index:l}=e;const r=(0,o().IS)((e=>({container:{display:"flex",gap:6,overflow:"hidden",height:"100%",width:"fit-content",marginTop:8,marginBottom:6,marginLeft:4}})),[]);return(0,h.jsxs)("div",{style:r.container,children:[(0,h.jsx)(A,{type:"circle"}),(0,h.jsx)(A,{type:"triangle"}),(0,h.jsx)(A,{type:"rectangle"})]})},board:function(e){let{viewTemplate:t}=e;const l=function(e){return(0,n().K8)((()=>{var t,l;const r=(null===(t=e.value.format)||void 0===t||null===(t=t.board_columns)||void 0===t?void 0:t.map((e=>"string"==typeof e.value.value?e.value.value:void 0)).filter(p().O9))??[],n=null===(l=e.value.format)||void 0===l?void 0:l.board_columns_by,{dependencyMap:o}=e;if(!n||!o)return v;const i=o[`property:${n.property}`];if(!i)return v;let a;try{a=s().globalWorkflowTemplates.fromIdOfType({templateId:i,type:"property"})}catch(c){return v}return(0,d().V)(a)?{type:a.value.type,columns:r.length>0?r.map((e=>{var t;return null===(t=a.value.options)||void 0===t?void 0:t.find((t=>t.value===e))})).filter(p().O9):a.value.options??[]}:v}),[e])}(t),i=(0,o().IS)((e=>({container:{display:"flex",flexDirection:"column",gap:6,paddingTop:8,paddingRight:8,paddingLeft:4},grid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:6}})),[]),a=(0,r.useMemo)((()=>l.columns.slice(0,3)),[l]);return(0,h.jsxs)("div",{style:i.container,children:[(0,h.jsx)("div",{style:i.grid,children:a.map((e=>(0,h.jsx)(y,{id:e.id,value:e.value,color:e.color,type:l.type},e.id)))}),(0,h.jsx)("div",{style:i.grid,children:a.map(((e,t)=>(0,h.jsx)(g,{index:t},e.id)))})]})},calendar:function(){const e=(0,o().IS)((e=>({container:{paddingTop:8,paddingLeft:4,display:"grid",gridTemplateColumns:`repeat(${I.length-1}, 1fr) 0.33fr`},columnTitle:{textAlign:"center",fontSize:9,lineHeight:1,color:e.text.secondary,paddingBottom:3}})),[]);return(0,h.jsxs)("div",{style:e.container,children:[I.map(((t,l)=>(0,h.jsx)("div",{style:e.columnTitle,children:t.label},l))),Array.from({length:I.length}).map(((e,t)=>(0,h.jsx)(R,{index:t,flushRight:t===I.length-1},t)))]})},list:function(e){let{template:t,viewTemplate:l}=e;const i=(0,n().K8)((()=>{const e=function(e){var t;let{propertyTemplates:l,collectionViewTemplate:r}=e;const n=null===(t=l.find((e=>"title"===e.value.type)))||void 0===t?void 0:t.templateId,o={...K(r),...n&&{title:n}},i=F(r),a=new Map(i.map(((e,t)=>[o[e.property],t])));return(0,L().Ul)(l,(e=>{const t=a.get(e.templateId);return void 0===t?1/0:t}))}({propertyTemplates:E({userCustomizations:(0,P().ET)({template:t}),collectionViewTemplate:l}).filter(re),collectionViewTemplate:l}),r=O({properties:e,collectionViewTemplate:l});return n=r,(0,L().hS)(n,(e=>(0,d().V)(e)?"select":e.value.type));var n}),[t,l]),a=i.findIndex((e=>"title"===e.value.type)),s=(0,r.useMemo)((()=>i.slice(0,a+1)),[i,a]),c=(0,r.useMemo)((()=>i.slice(a+1)),[i,a]),p=(0,o().IS)((()=>({container:{display:"flex",flexDirection:"column",gap:0,marginTop:6},row:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:6,overflow:"hidden",height:te,width:"100%",paddingRight:8,paddingLeft:4},leftPropertyValues:{flexShrink:1},rightPropertyValues:{justifyContent:"flex-end",flexShrink:0}})),[]);return(0,h.jsx)("div",{style:p.container,children:Array.from({length:3}).map(((e,t)=>(0,h.jsxs)("div",{style:p.row,children:[(0,h.jsx)(ne,{propertyTemplates:s,rowIndex:t,containerStyle:p.leftPropertyValues}),(0,h.jsx)(ne,{propertyTemplates:c,rowIndex:t,containerStyle:p.rightPropertyValues})]},t)))})}},ue=ce,he=r.memo((function(e){let{template:t,index:r}=e;const d=t.value.targetCollection.name,c=(0,o().IS)((e=>({container:{display:"flex",flexDirection:"column",paddingTop:12,paddingLeft:12,backgroundColor:e.modalBackground},header:{display:"flex",alignItems:"center",gap:4,marginLeft:4}})),[]),p=(0,n().K8)((()=>{const e=(0,l(663077).A6)(t,s().globalWorkflowTemplates);return e.length>0?e[0]:s().globalWorkflowTemplates.fromIdOfType({templateId:l(536095).Gs,type:"collection_view"})}),[t]),u=(0,i().QE)(p.value.type)?pe[p.value.type]:ue;return(0,h.jsxs)("div",{style:c.container,children:[(0,h.jsxs)("div",{style:c.header,children:[(0,h.jsx)(l(621767).z,{template:t,size:12}),(0,h.jsx)(a().D,{styleName:"UISmall-12px/Medium",children:d})]}),(0,h.jsx)(u,{template:t,viewTemplate:p,index:r})]})}))}}]);