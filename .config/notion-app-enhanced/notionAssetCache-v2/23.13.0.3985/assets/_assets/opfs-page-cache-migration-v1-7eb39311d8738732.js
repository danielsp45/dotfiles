"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[35535],{169038:(t,e,n)=>{n.d(e,{up:()=>i});n(898992),n(354520);async function i(t){let{version:e,nextVersion:n,versionDirHandle:i,nextVersionDirHandle:a}=t;for await(const l of i.values()){if("directory"===l.kind)continue;const t=l.name,e=await l.getFile();try{const n=await a.getFileHandle(t);if((await n.getFile()).lastModified>=e.lastModified){await i.removeEntry(t).catch((t=>{}));continue}}catch(o){}try{const n=(await e.text()).split(/\n/).filter(Boolean);if(n.length>0){const e=await a.getFileHandle(t,{create:!0}),i=await e.createWritable(),o=new TextEncoder,l={version:1,totalChunks:n.length},c=o.encode(`${JSON.stringify(l)}\n${n.join("\n")}`);await i.write(c),await i.close()}}finally{await i.removeEntry(t).catch((t=>{}))}}}}}]);