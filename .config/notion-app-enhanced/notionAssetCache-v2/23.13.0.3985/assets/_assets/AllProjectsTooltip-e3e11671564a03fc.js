"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[37062,88895],{73223:(t,o,e)=>{e.r(o),e.d(o,{dismissTutorial:()=>d,resetTutorials:()=>c,tutorialAdvanceToStep:()=>p,tutorialAdvanceToStepAfter:()=>g,tutorialGoToNextStep:()=>l,tutorialGoToPrevStep:()=>u});var r=()=>e(541235),n=()=>e(751156),i=()=>e(755199),s=()=>e(739135),a=()=>e(765957);function l(t,o){var e;const{currentUserSettingsStore:r}=a().default.state;if(!r)return;const n=null===(e=r.getSettings())||void 0===e?void 0:e.tutorials;m({userAction:"TutorialActions.nextStep",environment:t,perform:t=>{i().mJ({userSettingsStore:r,transaction:t,data:{tutorials:{...n,[o]:(0,s().i9)(r,o)}}})},userId:r.id})}function u(t,o){var e;const{currentUserSettingsStore:r}=a().default.state;if(!r)return;const n=null===(e=r.getSettings())||void 0===e?void 0:e.tutorials;m({userAction:"TutorialActions.prevStep",environment:t,perform:t=>{i().mJ({userSettingsStore:r,transaction:t,data:{tutorials:{...n,[o]:(0,s().KD)(r,o)}}})},userId:r.id})}function d(t,o){var e;const{currentUserSettingsStore:n}=a().default.state;if(!n)return;const s=null===(e=n.getSettings())||void 0===e?void 0:e.tutorials;(null==s?void 0:s[o])!==r().YD&&m({userAction:"TutorialActions.dismissTutorial",environment:t,perform:t=>{i().mJ({userSettingsStore:n,transaction:t,data:{tutorials:{...s,[o]:r().YD}}})},userId:n.id})}function c(t){const{currentUserSettingsStore:o}=a().default.state;o&&m({userAction:"TutorialActions.resetTutorialsDebug",environment:t,perform:t=>{i().mJ({userSettingsStore:o,transaction:t,data:{tutorials:{}}})},userId:o.id})}function p(t,o,e){var n;const{currentUserSettingsStore:l}=a().default.state;if(!l||(0,s().x$)(l,o))return;const u=(0,s().gt)(l,o);r().c$[o].steps.findIndex((t=>t.id===u))>=r().c$[o].steps.findIndex((t=>t.id===e))||i().mJ({userSettingsStore:l,transaction:t,data:{tutorials:{...null===(n=l.getSettings())||void 0===n?void 0:n.tutorials,[o]:e}}})}function g(t,o,e){if((0,s().ll)(e))return;const r=(0,s().tb)(o,e);r&&p(t,o,r)}function m(t){return n().createAndCommit({...t,canUndo:!1})}},292379:(t,o,e)=>{e.d(o,{B:()=>g});var r=e(296540),n=()=>e(484714),i=()=>e(56366),s=()=>e(541235),a=()=>e(73223),l=()=>e(739135);const u=new Map;var d=()=>e(765957),c=()=>e(953006),p=e(474848);function g(t){let{tutorialId:o,tutorialStepId:e,onPrimaryButtonClick:g,displayStore:m,...f}=t;const v=(0,n().v3)(),S=function(t){const o=!u.get(t),e=(0,r.useRef)(o);return e.current&&u.set(t,!0),(0,r.useEffect)((()=>()=>{e.current&&u.set(t,!1)}),[t]),e.current}(`${o}.${e}`),{currentStep:T,isLoading:b}=(0,i().K8)((()=>{var t;return{isLoading:!(null!==(t=d().default.state.currentUserSettingsStore)&&void 0!==t&&t.getSettings()),currentStep:(0,l().gt)(d().default.state.currentUserSettingsStore,o)}}),[o]);if((0,r.useEffect)((()=>{b||T!==e||!S?null==m||m.setState(!1):null==m||m.setState(!0)}),[b,T,e,S,m]),b||T!==e||!S)return null;const h=s().c$[o],I=h.steps.findIndex((t=>t.id===e)),A=h.steps.length;return(0,p.jsx)(c().k,{onCloseClick:()=>{a().dismissTutorial(v,o)},onPrimaryButtonClick:t=>{a().tutorialGoToNextStep(v,o),null==g||g(t)},onBackButtonClick:()=>{a().tutorialGoToPrevStep(v,o)},numSteps:A,currStepIndex:I,...f})}},541235:(t,o,e)=>{e.d(o,{YD:()=>i,c$:()=>r,q_:()=>n});const r={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]}},n="completed",i="dismissed"},739135:(t,o,e)=>{e.d(o,{KD:()=>u,gt:()=>d,i9:()=>l,ll:()=>s,tb:()=>a,x$:()=>i});var r=()=>e(541235),n=()=>e(496603);function i(t,o){return s(d(t,o))}function s(t){return void 0!==t&&(t===r().q_||t===r().YD)}function a(t,o){if(s(o))return;const e=r().c$[t],n=e.steps.findIndex((t=>t.id===o));return-1===n?e.steps[0].id:n===e.steps.length-1?r().q_:e.steps[n+1].id}function l(t,o){const e=d(t,o);if(e&&!s(e))return a(o,e)}function u(t,o){const e=d(t,o);if(e)return function(t,o){const e=r().c$[t];var i;if(s(o))return null===(i=(0,n().HV)(e.steps))||void 0===i?void 0:i.id;const a=e.steps.findIndex((t=>t.id===o));return-1!==a&&0!==a?e.steps[a-1].id:void 0}(o,e)}function d(t,o){var e;if(!t)return;const n=((null===(e=t.getSettings())||void 0===e?void 0:e.tutorials)||{})[o];return void 0===n?r().c$[o].steps[0].id:n}},745364:(t,o,e)=>{e.r(o),e.d(o,{PostImportIntroPopup:()=>S,trackImportOnboardingTourProgress:()=>T});var r=e(296540),n=()=>e(484714),i=()=>e(56366),s=()=>e(543906),a=()=>e(959013),l=()=>e(812182),u=()=>e(751156),d=()=>e(755199),c=()=>e(2220),p=()=>e(299487),g=()=>e(765957),m=()=>e(92513);const f=(0,a().YK)({titleForIntroToast:{id:"PostImportIntroPopup.titleForIntroToast",defaultMessage:"Project Management in Notion"},descriptionForIntroToast:{id:"PostImportIntroPopup.descriptionForIntroToast",defaultMessage:"Your newly imported Asana projects are here. Want to learn more about how to use Notion Projects and Tasks?"},primaryButton:{id:"PostImportIntroPopup.primaryButton",defaultMessage:"Take the tour"}}),v="post_import_intro_toast";function S(){const t="asana_post_import_tour",o=(0,n().v3)(),{inAppCalloutStore:e,currentUserSettingsStore:c}=(0,i().K8)((()=>({currentUserSettingsStore:g().default.state.currentUserSettingsStore,inAppCalloutStore:g().default.state.inAppCalloutStore})),[]),S=(0,i().K8)((()=>{var o,r;return!0===(null===(o=g().default.state.mainEditorCurrentBlockStore)||void 0===o?void 0:o.getFormat().is_asana_imported_project)&&!0!==(null==c||null===(r=c.getSettings())||void 0===r?void 0:r.seen_asana_post_import_tour)&&e.getCalloutVisibility(t).canShow}),[e,c]),b=(0,r.useCallback)((()=>{d().Hw({environment:o}),p().a(o,t)}),[o]),h=(0,r.useCallback)((()=>{c&&u().createAndCommit({userAction:"PostImportIntroPopup.startOnboardingTour",environment:o,canUndo:!0,perform:t=>{var o;d().mJ({transaction:t,userSettingsStore:c,data:{tutorials:{...null==c||null===(o=c.getSettings())||void 0===o?void 0:o.tutorials,"project-management-import-onboarding":"your-teamspace-tooltip"}}})}}),m().A.setState({...m().A.state,showOnboardingTour:!0})}),[c,o]),I=(0,a().tz)(),A=(0,r.useMemo)((()=>function(t){const{intl:o,onDismiss:e,primaryActionHandler:r}=t;return{presentationType:"persistent",id:v,title:o.formatMessage(f.titleForIntroToast),message:o.formatMessage(f.descriptionForIntroToast),actions:{primary:{title:o.formatMessage(f.primaryButton),onAction:r}},onDismiss:e}}({intl:I,onDismiss:()=>{b(),T(o,{importer:"asana",action:"dismissed",progress:0,callout_id:t,from:"imported_page"})},primaryActionHandler:()=>{T(o,{importer:"asana",action:"start",progress:0,callout_id:t,from:"imported_page"}),h(),b(),l().UW(v)}})),[I,b,o,h]);return(0,s().A)((()=>{l().HK(A)}),S),null}function T(t,o){return(0,c().u)({environment:t,event:{eventName:"import_projects_onboarding",eventProperties:o}})}},843653:(t,o,e)=>{e.r(o),e.d(o,{AllProjectsTooltip:()=>g,NavigateToProjectTasksTooltip:()=>f,ProjectCustomizationTooltip:()=>m,TasksDatabaseViewsTooltip:()=>v,YourCurrentTeamspaceTooltip:()=>S});e(898992),e(672577);var r=e(296540),n=()=>e(484714),i=()=>e(56366),s=()=>e(959013),a=()=>e(292379),l=()=>e(92513),u=()=>e(745364),d=e(474848);const c={minWidth:300,marginBottom:0,whiteSpace:"pre-wrap",wordBreak:"break-word",fontSize:e(284371).J.UIRegular.desktop,minHeight:40},p="project-management-import-onboarding",g=r.memo((function(t){let{origin:o}=t;const r=(0,n().v3)(),g=(0,i().K8)((()=>Boolean(l().A.state.showOnboardingTour)),[]);return g?(0,d.jsx)(e(594607).B,{shouldShow:g,calloutId:"asana_post_import_tour",children:(0,d.jsx)(a().B,{origin:o,placementToOrigin:"right",style:c,tutorialId:p,tutorialStepId:"all-projects-tooltip",pointerLength:40,pointerPosition:"12.5%",header:(0,d.jsx)("div",{children:(0,d.jsx)(s().sA,{id:"AsanaImportOnboarding.AllProjects.header1",defaultMessage:"Your Projects are here"})}),content:(0,d.jsx)(s().sA,{id:"AsanaImportOnboarding.AllProjects.content",defaultMessage:"All your Asana projects for this team are on this page. Use filters and views to customize this database to fit your needs."}),onPrimaryButtonClick:()=>(0,u().trackImportOnboardingTourProgress)(r,{action:"advance",importer:"asana",from:"toast",callout_id:p,progress:1})})}):null})),m=r.memo((function(t){let{origin:o}=t;const e=(0,i().K8)((()=>Boolean(l().A.state.showOnboardingTour)),[]),r=(0,n().v3)();return e?(0,d.jsx)(a().B,{origin:o,placementToOrigin:"left",style:c,tutorialId:p,tutorialStepId:"project-customization-tooltip",pointerLength:30,pointerPosition:"8%",header:(0,d.jsx)("div",{children:(0,d.jsx)(s().sA,{id:"AsanaImportOnboarding.ProjectCustomization.header",defaultMessage:"Customize your projects"})}),content:(0,d.jsx)(s().sA,{id:"AsanaImportOnboarding.ProjectCustomization.content",defaultMessage:"Customize your project by adding properties or a description on this page"}),onPrimaryButtonClick:()=>(0,u().trackImportOnboardingTourProgress)(r,{action:"advance",importer:"asana",from:"toast",callout_id:p,progress:2})}):null})),f=r.memo((function(t){let{origin:o,onNext:g,store:m}=t;const f=(0,i().K8)((()=>l().A.state.showOnboardingTour),[]),v=(0,n().v3)(),S=(0,r.useCallback)(((t,o)=>{const{mainEditorCurrentBlockStore:r}=e(765957).default.state,n=e(519839).wy({environment:v,store:t,mainEditorCurrentBlockStore:r,collectionContextStore:o,fullyQualified:!1});n&&e(435009).oo({environment:v,url:n})}),[v]);if(!f)return null;return(0,d.jsx)(a().B,{origin:o,placementToOrigin:"bottom",style:c,tutorialId:p,tutorialStepId:"navigate-to-project-tasks-tooltip",pointerLength:20,pointerPosition:"30%",pointerOffset:25,onPrimaryButtonClick:()=>{var t;const o=(null==m?void 0:m.groupsStore.anyGroupHasResults())&&m.groupsStore.getAllGroupStates(),r=o&&o.length>0?null===(t=o.find((t=>{var o;return null===(o=t.reducerResultStore)||void 0===o||null===(o=o.state)||void 0===o?void 0:o.blockIds.length})))||void 0===t||null===(t=t.reducerResultStore)||void 0===t||null===(t=t.state)||void 0===t?void 0:t.blockIds[0]:void 0;r&&m&&S(new(e(630116).Bv)(v,{id:r,table:"block"}),m),g&&g(),(0,u().trackImportOnboardingTourProgress)(v,{action:"advance",importer:"asana",from:"toast",callout_id:p,progress:3})},header:(0,d.jsx)("div",{children:(0,d.jsx)(s().sA,{id:"AsanaImportOnboarding.NavigateToTasks.header",defaultMessage:"View tasks for this project"})}),content:(0,d.jsx)(s().sA,{id:"AsanaImportOnboarding.NavigateToTasks.content",defaultMessage:"Click 'Open' next to the project title to view related tasks"})})})),v=r.memo((function(t){let{origin:o,store:r}=t;const g=(0,n().v3)();return(0,i().K8)((()=>l().A.state.showOnboardingTour&&(null==r?void 0:r.isInPeekRendererStore)),[r])?(0,d.jsx)(a().B,{origin:o,placementToOrigin:"bottom",style:c,tutorialId:p,tutorialStepId:"related-tasks-database-views-tooltip",pointerLength:20,onPrimaryButtonClick:e(496603).lQ,header:(0,d.jsx)(s().sA,{id:"AsanaImportOnboarding.RelatedTasks.header",defaultMessage:"Project Tasks"}),content:(0,d.jsxs)("div",{children:[(0,d.jsx)(s().sA,{id:"AsanaImportOnboarding.RelatedTasks.contentPart1",defaultMessage:"Find all your Asana tasks related to this project in the "}),(0,e(704654).E)({height:12,width:12,display:"inline-block",marginTop:4,verticalAlign:"top",marginRight:2}),(0,d.jsx)(s().sA,{id:"AsanaImportOnboarding.RelatedTasks.contentPart2",defaultMessage:"Tasks Database"})]}),onSkipButtonClick:()=>(0,u().trackImportOnboardingTourProgress)(g,{action:"advance",importer:"asana",from:"toast",callout_id:p,progress:4})}):null})),S=r.memo((function(t){let{origin:o}=t;const e=(0,i().K8)((()=>Boolean(l().A.state.showOnboardingTour)),[]),r=(0,n().v3)();return e?(0,d.jsx)(a().B,{origin:o,placementToOrigin:"bottom",style:c,tutorialId:p,tutorialStepId:"your-teamspace-tooltip",pointerLength:20,header:(0,d.jsx)(s().sA,{id:"AsanaImportOnboarding.YourCurrentTeamspace.header",defaultMessage:"Your current teamspace"}),content:(0,d.jsx)(s().sA,{id:"AsanaImportOnboarding.YourCurrentTeamspace.content",defaultMessage:"Navigate between your projects, tasks and other pages from here"}),onPrimaryButtonClick:()=>{(0,u().trackImportOnboardingTourProgress)(r,{action:"advance",importer:"asana",from:"toast",callout_id:p,progress:5})}}):null}))}}]);