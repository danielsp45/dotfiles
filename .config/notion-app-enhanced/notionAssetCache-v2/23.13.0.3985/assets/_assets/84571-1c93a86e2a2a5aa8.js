"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[84571],{484571:(e,t,a)=>{a.r(t),a.d(t,{exposeServiceWorkerActions:()=>f});a(16280),a(898992),a(354520),a(581454),a(413611);var s=a.n(a(999589)),n=()=>a(604341);async function c(){const e=await caches.open("current"),t=await e.match(`https://${self.location.hostname}/api/v3/getAssetsJsonV3`);if(!t)return;return(await t.json()).version}async function o(){const e=await i(),t=s().maxSatisfying(e,"*");return null===t?void 0:t}async function i(){return(await caches.keys()).filter((e=>/^\d+\.\d+\.\d+(\.\d+)?$/.test(e)))}async function r(e){const t=await caches.open(e),a=await t.match(`https://${self.location.hostname}/api/v3/getAssetsJsonV3`);if(!a)throw new Error(`No assets found for version: ${e}`);const s=await caches.open("current");await s.put(`https://${self.location.hostname}/api/v3/getAssetsJsonV3`,a)}async function l(e){await Promise.all(e.map((async e=>caches.delete(e))))}async function h(){const e=await c(),t=await o(),a=(await i()).filter((a=>a!==e&&a!==t));await l(a)}async function u(){const e=await i();await l(e),await caches.delete("current")}async function w(e){const t=await caches.open(e),a=await t.matchAll();await caches.delete(`stashed-${e}`);const s=await caches.open(`stashed-${e}`);await Promise.all(a.map((e=>s.put(e.url,e))))}async function p(e){const t=await caches.open(`stashed-${e}`),a=await t.matchAll();await caches.delete(e);const s=await caches.open(e);await Promise.all(a.map((e=>s.put(e.url,e))))}async function d(e){await caches.delete(`stashed-${e}`)}function f(){(0,n().exposeDebugValue)("serviceWorkerCache",{getCurrentAssetVersion:c,getLatestAssetVersion:o,getAllAssetVersions:i,setCurrentAssetVersion:r,deleteCachedVersions:l,deleteStaleVersions:h,deleteAllCachedVersions:u,stashAssetsForVersion:w,applyStashedAssetsForVersion:p,deleteStashedAssetsForVersion:d})}f()}}]);