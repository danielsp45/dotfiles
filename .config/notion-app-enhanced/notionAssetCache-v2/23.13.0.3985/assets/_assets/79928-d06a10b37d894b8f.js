"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[79928],{6533:(e,t,i)=>{i.d(t,{A:()=>a});var o=i(296540),n=()=>i(56366),r=i(474848);const s=i(757695).Store.createClass(!1,{name:"OpenStore"});const a=function(e){let{items:t,visible:a}=e;const d=(0,i(401497).DP)(),c=(0,n().uB)(void 0,s),u=(0,n().O$)(c),h=(0,o.useCallback)((()=>function(e){e.setState(!0)}(c)),[c]);return u||t.length<=a?(0,r.jsx)("div",{children:t}):(0,r.jsxs)("div",{children:[t.slice(0,a),(0,r.jsx)(i(704152).A,{onClick:h,style:l(d),children:(0,r.jsx)(i(959013).sA,{defaultMessage:"View {moreCount} more",id:"activity.viewMoreButton.label",values:{moreCount:t.length-a}})})]})};function l(e){return{display:"flex",alignItems:"center",height:28,fontSize:12,color:e.text.tertiary,padding:0,paddingLeft:52,paddingRight:16}}},8633:(e,t,i)=>{i.d(t,{b:()=>l,j:()=>d});i(898992),i(354520),i(672577),i(581454),i(296540);var o=()=>i(959013),n=()=>i(284371),r=()=>i(764880),s=i(474848);const a=(0,o().YK)({nobody:{id:"activitySection.displayNamePhrase.forNoAuthors",defaultMessage:"Nobody"},currentUser:{id:"activityHelpers.displayNamePhrase.currentUser",defaultMessage:"You"},twoAuthorsWithYou:{id:"activityHelpers.displayNamePhrase.twoAuthorsWithYou",defaultMessage:"{otherAuthor} and you"},twoAuthors:{id:"activityHelpers.displayNamePhrase.twoAuthors",defaultMessage:"{firstAuthor} and {secondAuthor}"},multipleAuthorsWithYouMinimal:{id:"activityHelpers.displayNamePhrase.multipleAuthorsWithYouMinimal",defaultMessage:"{firstAuthor}, {secondAuthor} and you"},multipleAuthorsWithYou:{id:"activityHelpers.displayNamePhrase.multipleAuthorsWithYou",defaultMessage:"{firstAuthor}, {secondAuthor}, you and {count, plural, one {# other} other {# others}}"},multipleAuthors:{id:"activityHelpers.displayNamePhrase.multipleAuthors",defaultMessage:"{firstAuthor}, {secondAuthor}, and {count, plural, one {# other} other {# others}}"}});function l(e,t,i,a){const l=t.find((e=>e.id===i)),d=t.map((t=>(0,r().lR)(e,t))),c={fontWeight:n().Wy.semibold,...a};if(1===t.length)return l?(0,s.jsx)("span",{children:(0,s.jsx)(o().sA,{defaultMessage:"You",id:"activitySection.authorPhrase.forOneAuthorCurrentUser.label",values:{b:e=>(0,s.jsx)("span",{style:c,children:e})}})}):(0,s.jsx)("span",{children:(0,s.jsx)(o().sA,{defaultMessage:"<b>{author}</b>",id:"activitySection.authorPhrase.forOneAuthor.label",values:{author:d[0],b:e=>(0,s.jsx)("span",{style:c,children:e})}})});if(2===t.length){if(l){const i=t.filter((e=>e!==l)).map((t=>(0,r().lR)(e,t)));return(0,s.jsx)("span",{children:(0,s.jsx)(o().sA,{defaultMessage:"<b>{firstAuthor}</b> and you",id:"activitySection.authorPhrase.forTwoAuthorsCurrentUser.label",values:{firstAuthor:i[0],b:e=>(0,s.jsx)("span",{style:c,children:e})}})})}return(0,s.jsx)("span",{children:(0,s.jsx)(o().sA,{defaultMessage:"<b>{firstAuthor}</b> and <b>{secondAuthor}</b>",id:"activitySection.authorPhrase.forTwoAuthors.label",values:{firstAuthor:d[0],secondAuthor:d[1],b:e=>(0,s.jsx)("span",{style:c,children:e})}})})}if(d.length>2){if(l){const i=t.filter((e=>e!==l)).map((t=>(0,r().lR)(e,t))),n=(0,s.jsx)(o().sA,{defaultMessage:"{numberOfOtherAuthors, plural, =0 {<b>{firstAuthor}</b>, <b>{secondAuthor}</b> and you} one {<b>{firstAuthor}</b>, <b>{secondAuthor}</b>, you and {numberOfOtherAuthors} other} other {<b>{firstAuthor}</b>, <b>{secondAuthor}</b>, you and {numberOfOtherAuthors} others}}",id:"activitySection.authorPhrase.forMoreThanTwoAuthorsCurrentUser.label",values:{numberOfOtherAuthors:i.length-2,firstAuthor:i[0],secondAuthor:i[1],b:e=>(0,s.jsx)("span",{style:c,children:e})}});return(0,s.jsx)("span",{children:n})}{const e=(0,s.jsx)(o().sA,{defaultMessage:"{numberOfOtherAuthors, plural, one {<b>{firstAuthor}</b>, <b>{secondAuthor}</b>, and {numberOfOtherAuthors} other} other {<b>{firstAuthor}</b>, <b>{secondAuthor}</b>, and {numberOfOtherAuthors} others}}",id:"activitySection.authorPhrase.forMoreThanTwoAuthors.label",values:{numberOfOtherAuthors:d.length-2,firstAuthor:d[0],secondAuthor:d[1],b:e=>(0,s.jsx)("span",{style:c,children:e})}});return(0,s.jsx)("span",{children:e})}}return(0,s.jsx)("span",{style:c,children:(0,s.jsx)(o().sA,{defaultMessage:"Nobody",id:"activitySection.authorPhrase.forNoAuthors.label"})})}function d(e,t,i){const r=e.length,l={fontWeight:n().Wy.semibold,...i};if(0===r)return(0,s.jsx)("span",{style:l,children:(0,s.jsx)(o().sA,{...a.nobody})});if(1===r)return t===e[0]?(0,s.jsx)("span",{children:(0,s.jsx)(o().sA,{...a.currentUser})}):(0,s.jsx)("span",{style:l,children:e[0]});if(2===r){if(t){const i=e.find((e=>e!==t));return(0,s.jsx)(o().sA,{...a.twoAuthorsWithYou,values:{otherAuthor:(0,s.jsx)("span",{style:l,children:i})}})}return(0,s.jsx)(o().sA,{...a.twoAuthors,values:{firstAuthor:(0,s.jsx)("span",{style:l,children:e[0]}),secondAuthor:(0,s.jsx)("span",{style:l,children:e[1]})}})}if(t){const i=e.filter((e=>e!==t)),n=i.length-2;return 0===n?(0,s.jsx)(o().sA,{...a.multipleAuthorsWithYouMinimal,values:{firstAuthor:(0,s.jsx)("span",{style:l,children:i[0]}),secondAuthor:(0,s.jsx)("span",{style:l,children:i[1]})}}):(0,s.jsx)(o().sA,{...a.multipleAuthorsWithYou,values:{firstAuthor:(0,s.jsx)("span",{style:l,children:i[0]}),secondAuthor:(0,s.jsx)("span",{style:l,children:i[1]}),count:n}})}{const t=r-2;return(0,s.jsx)(o().sA,{...a.multipleAuthors,values:{firstAuthor:(0,s.jsx)("span",{style:l,children:e[0]}),secondAuthor:(0,s.jsx)("span",{style:l,children:e[1]}),count:t}})}}},12296:(e,t,i)=>{i.d(t,{$5:()=>g,P:()=>f,Qo:()=>d,em:()=>p,hx:()=>c,jU:()=>u,jv:()=>h,uY:()=>l});var o=()=>i(244309),n=()=>i(848259),r=()=>i(479788),s=()=>i(212326),a=()=>i(606846);function l(e){const t=e.mightCloseTab??!0;v({target:"body",...e,mightCloseTab:t})}function d(e){const t=e.mightCloseTab??!0;v({target:"title",...e,mightCloseTab:t})}function c(e){v({target:"approve_request_access",...e,mightCloseTab:!1})}function u(e){v({target:"deny_request_access",...e,mightCloseTab:!1})}function h(e){v({target:"remove_reaction",...e,mightCloseTab:!1})}function f(e){v({target:"add_reaction",...e,mightCloseTab:!1})}function v(e){const{target:t,environment:i,activity:s,notification:l,source:d,tab:c,mightCloseTab:u}=e,h="notifications_tab"===d?a().Ay.state.sessionId:void 0,f="notifications_tab"===d?a().Ay.isFilteredToUnreadOnly():void 0;n().nR(i,{target:t,activity_id:s.id,notification_id:null==l?void 0:l.id,notification_page_id:null==l?void 0:l.navigable_block_id,sessionId:h,is_filtered:f,tab:c}),u&&n().s$({environment:i,target:t}),l&&o().v((0,r().Q)(i),{alreadyRead:l.read,notificationId:l.id,activityId:l.activity_id,from:t,sessionId:h})}function p(e){const{notification:t,activity:i,environment:o,tab:r}=e,s={environment:o,activity:i,notificationId:null==t?void 0:t.id,alreadyRead:Boolean(null==t?void 0:t.read),tab:r};return{onBacklinkClicked:e=>n().uK({...s,backlinkPageId:e}),onNotificationFrameClicked:()=>n().Hd(s),...g({notification:t,activity:i,environment:o,tab:r})}}function g(e){const{notification:t,activity:i,environment:o,tab:r}=e,a={environment:o,activity:i,notificationId:null==t?void 0:t.id,alreadyRead:Boolean(null==t?void 0:t.read),tab:r},l=()=>{const e={notification_type:null==t?void 0:t.type,notification_page_id:null==t?void 0:t.navigable_block_id,tab:s().dl()};return"commented"===(null==t?void 0:t.type)&&(e.discussion_id=null==i?void 0:i.discussion_id),e};return{onArchiveClicked:()=>n().R0({...a,otherArgs:l()}),onUnarchiveClicked:()=>n().sL({...a,otherArgs:l()}),onMarkAsReadClicked:()=>n().oy({...a,otherArgs:l()}),onMarkAsUnreadClicked:()=>n().bl({...a,otherArgs:l()}),onNotificationBodyClicked:()=>n().e0({...a,otherArgs:l()})}}},77179:(e,t,i)=>{i.d(t,{Ay:()=>P,H8:()=>N});var o=i(296540),n=()=>i(484714),r=()=>i(56366),s=()=>i(401497),a=()=>i(563884),l=()=>i(823279),d=()=>i(693954),c=()=>i(179034),u=()=>i(798880),h=()=>i(959013),f=()=>i(534177),v=()=>i(82926),p=()=>i(38337),g=()=>i(907514),m=()=>i(436525),b=()=>i(741737),y=()=>i(765957),A=()=>i(630116),x=()=>i(285790),S=()=>i(128295),j=()=>i(859428),k=()=>i(256863),C=()=>i(453697),M=()=>i(659799),_=()=>i(365136),I=()=>i(770176),R=i(474848);const w=16,B={paddingTop:12},T={fontSize:14,lineHeight:1.4,flexGrow:1,minWidth:0},L=i(757695).Store.createClass(!1,{name:"HoveredStore"});const O={marginTop:2,marginRight:8,flexShrink:0};function N(e){const{authors:t,size:i,style:o,iconStyle:a,showAvatarShadow:l,showWarningIcon:c}=e,h=(0,n().v3)(),v=(0,s().IS)((e=>({container:{position:"relative"},icon:{position:"absolute",right:5,bottom:-3,fill:e.icon.yellowPrimary,height:12,width:12}})),[]),p=t.sort(((e,t)=>(0,I().G7)({actor:e,environment:h})-(0,I().G7)({actor:t,environment:h})))[0],g=i,x={...O,...o},S={...v.icon,...a},j=(0,r().O$)(y().AppStoreCurrentSpaceStore),M=(0,r().K8)((()=>{if(!p||!j)return;return A().LU.createChildStore(j,{table:u().oo,id:p.id})}),[j,p]),_=(0,b().c)({spaceStore:j,viewedUserStore:M});return p?p.isBot()?(0,R.jsxs)("div",{style:v.container,children:[(0,R.jsx)(k().A,{botValue:p,style:x,size:g}),c&&(0,d().Q)(S)]}):p.isUser()?(0,R.jsxs)("div",{style:v.container,children:[_&&M?(0,R.jsx)(m().D,{userStore:M,children:(0,R.jsx)(C().A,{userValue:p,style:x,size:g,avatarShouldShowShadow:l??!0})}):(0,R.jsx)(C().A,{userValue:p,style:x,size:g,avatarShouldShowShadow:l??!0}),c&&(0,d().Q)(S)]}):p.isAgent()?null:void(0,f().HB)(p):null}const P=function(e){let{children:t,icon:i,timestamp:s,header:a,navigableBlockId:l,rootStore:d,onBacklinkClicked:c,showSnapshotButton:u,isPrivate:h,isLast:f}=e;const v=(0,n().v3)(),g=(0,r().uB)(void 0,L),m=(0,o.useCallback)((()=>function(e){e.setState(!1)}(g)),[g]),b=(0,o.useCallback)((()=>function(e){e.setState(!0)}(g)),[g]),y=(0,o.useId)(),A=(0,r().K8)((()=>v.WindowSizeStore.state.paddingLeftCSS),[v]),x=(0,r().K8)((()=>v.WindowSizeStore.state.paddingRightCSS),[v]),S=(0,R.jsxs)("div",{style:{...B,paddingBottom:t?12:8,paddingLeft:v.device.isMobile?A:0,paddingRight:v.device.isMobile?x:0},children:[(0,R.jsxs)("div",{style:{display:"flex",paddingLeft:w,paddingRight:w},children:[(0,R.jsxs)("div",{className:p().a9W,style:{display:"flex",alignItems:"flex-start",position:"relative"},children:[(0,R.jsx)("div",{style:{marginRight:4}}),i]}),(0,R.jsx)($,{timestamp:s,header:a,children:t,navigableBlockId:l,rootStore:d,onBacklinkClicked:c,titleAriaId:y}),(0,R.jsx)(z,{showSnapshotButton:u,timestamp:s,navigableBlockId:l,rootStore:d}),(0,R.jsx)(K,{isPrivate:h})]}),t&&(0,R.jsx)(V,{children:t})]});return(0,R.jsxs)("article",{onMouseOver:b,onMouseLeave:m,"aria-labelledby":y,children:[S,(0,R.jsx)(H,{isLast:f})]})};function K(e){let{isPrivate:t}=e;return t?(0,R.jsx)(_().A,{style:{marginTop:1,marginBottom:4,marginLeft:8}}):null}function V(e){let{children:t}=e;return(0,R.jsx)("div",{className:p().CyB,children:t})}function U(e){return{borderBottom:`1px solid ${e.regularDividerColor}`}}function D(e){return{fontSize:12,color:e.text.tertiary}}function W(e){return{fontSize:12,color:e.text.tertiary,whiteSpace:"nowrap"}}function Y(e){return{fontSize:12,color:e.text.tertiary,marginLeft:4,marginRight:4}}function H(e){let{isLast:t}=e;const i=(0,s().DP)();return t?null:(0,R.jsx)("div",{style:U(i)})}function z(e){let{showSnapshotButton:t,timestamp:i,navigableBlockId:o,rootStore:r}=e;const s=(0,n().v3)(),a=(0,h().tz)();if(!t)return null;if(i<new Date("2018-10-26").getTime())return null;const d=a.formatMessage({defaultMessage:"View version for this update",id:"activitySection.viewVersionForUpdate.tooltip"});return o?(0,R.jsx)(j().A,{renderTooltip:()=>d,render:e=>(0,R.jsx)(x().A,{ariaLabel:d,onClick:()=>function(e,t,i,o){if(o){const n=A().Bv.createChildStore(e,{table:c().ev,id:o});v().WE({environment:i,blockStore:n,openSnapshotNearTimestamp:t.toString(),from:"activity"})}}(r,i,s,o),icon:l().L,...e})}):null}function $(e){let{titleAriaId:t,timestamp:i,header:n,children:r,navigableBlockId:l,rootStore:d,onBacklinkClicked:u}=e;const h=(0,s().DP)(),f=(0,g().nl)(i),v=(0,g().x$)(i),m=(0,o.useMemo)((()=>l?A().Bv.createChildStore(d,{table:c().ev,id:l}):void 0),[l,d]);return(0,R.jsxs)("div",{style:T,children:[(0,R.jsx)("div",{id:t,className:p().k2l,children:n}),(0,R.jsxs)("div",{style:{display:"flex",marginTop:4,marginBottom:r?8:4},children:[(0,R.jsx)("div",{style:W(h),className:p().Cxn,children:(0,R.jsx)(M().A,{text:f,tooltipText:v,icon:a().k})}),d&&m&&(0,R.jsx)(S().Ay,{isLink:!0,innerStyle:D(h),store:m,left:(0,R.jsx)("div",{style:Y(h),children:"·"}),onClick:u})]})]})}},81905:(e,t,i)=>{i.d(t,{A:()=>u,I:()=>h});i(296540);var o=()=>i(401497),n=()=>i(959013),r=()=>i(848259),s=()=>i(572080),a=()=>i(751156),l=()=>i(493823),d=()=>i(360137),c=i(474848);function u(e){var t;const{isMobile:i,environment:n,rootStore:r,activity:s,tabArgs:a}=e,{source:l}=a,u=Boolean(null===(t=a.notification)||void 0===t?void 0:t.visited),f=(0,o().IS)((()=>({container:{paddingLeft:(0,d().F9)({source:l,isMobile:i})-8,paddingTop:4}})),[i,l]);return u?(0,c.jsx)("div",{style:f.container,children:(0,c.jsx)(h,{tabArgs:a,environment:n,rootStore:r,activity:s})}):null}function h(e){const{tabArgs:t,environment:i,rootStore:u,activity:h}=e,{notification:f,tab:v}=t,p=(0,o().IS)((e=>({secondaryButton:(0,d().AG)(e)})),[]);return Boolean(null==f?void 0:f.visited)?(0,c.jsx)(l().p,{isGray:!0,size:"xs",onClick:()=>{f&&(a().createAndCommit({userAction:"Activity.handleUnarchive",environment:i,canUndo:!0,perform:e=>{s().JV({notificationId:f.id,visited:!1,rootStore:u,transaction:e})}}),r().sL({environment:i,activity:h,tab:v,notificationId:f.id,alreadyRead:f.read}))},style:p.secondaryButton,children:(0,c.jsx)(n().sA,{defaultMessage:"Unarchive",id:"activity.actions.unarchiveButton.label"})}):null}},82926:(e,t,i)=>{i.d(t,{j8:()=>p,un:()=>f,p2:()=>h,WE:()=>u,n5:()=>g,Xn:()=>v});var o=()=>i(161479);const n=(0,i(583835).Dv)("restoreSnapshot");var r=()=>i(570323),s=()=>i(679924);var a=()=>i(136833);var l=()=>i(357625),d=()=>i(496414);const c=(0,i(959013).YK)({restoringPreviousVersion:{id:"historyModalActions.restoringPreviousVersion.loadingMessage",defaultMessage:"Restoring…"}});function u(e){const{environment:t,from:i,...o}=e;!function(e,t){(0,s().v)(e,"open_history",{from:t})}(t,i),r().A.setState({...o,open:!0,size:50})}function h(){const e=r().A.state;e.open&&r().A.setState({...e,size:e.size+20})}function f(){r().A.setState({open:!1})}function v(e){const{environment:t,snapshot:i,nextFutureSnapshot:o}=e;!function(e,t){(0,s().v)(e,"select_snapshot",{ageMs:(0,a().S)(t)})}(t,i);const n=r().A.state;n.open&&r().A.setState({...n,snapshot:i,nextFutureSnapshot:o,openSnapshotNearTimestamp:void 0})}function p(){const e=r().A.state;e.open&&r().A.setState({...e,snapshot:void 0,nextFutureSnapshot:void 0})}async function g(e,t){if(!r().A.state.open||!r().A.state.snapshot)return;if(!r().A.state.snapshot)return;!function(e,t){(0,s().v)(e,"restore_snapshot",{ageMs:(0,a().S)(t)})}(e,r().A.state.snapshot),d().m({message:c.restoringPreviousVersion});const i=await l().UT(e,n,{block:{id:r().A.state.blockStore.id,spaceId:(0,o().e)(r().A.state.blockStore.pointer.spaceId)},timestamp:r().A.state.snapshot.timestamp,shouldRestoreCollection:t??!1},{spaceIds:[]}).next();if(d().V(),i.value.error)throw i.value.error}},136833:(e,t,i)=>{function o(e){return Date.now()-parseInt(e.timestamp)}i.d(t,{S:()=>o})},191278:(e,t,i)=>{i.d(t,{A:()=>C,E:()=>k});i(898992),i(354520),i(581454),i(296540);var o=()=>i(484714),n=()=>i(56366),r=()=>i(584262),s=()=>i(700500),a=()=>i(427704),l=()=>i(179034),d=()=>i(343666),c=()=>i(107273),u=()=>i(959013),h=()=>i(630116),f=()=>i(296798),v=()=>i(921194),p=()=>i(6533),g=()=>i(12296),m=()=>i(770176),b=()=>i(81905),y=()=>i(360137),A=()=>i(423213),x=()=>i(77179),S=()=>i(479233),j=i(474848);function k(e){return(0,c().W9)(e).filter((e=>{const{block_value:t}="block-changed"===e.type?e.block_data.after:e.block_data;return t.parent_table!==d().SN}))}function C(e){const{activity:t,tabArgs:i,rootStore:r,isLast:s}=e,{notification:a,tab:d}=i,c=(0,o().v3)(),f=(0,n().K8)((()=>k(t.getEdits())),[t]),v=f[0],y=(0,n().K8)((()=>parseInt(t.end_time)),[t]),C=(0,n().K8)((()=>v&&h().Bv.createChildStore(r,{table:l().ev,id:v.navigable_block_id})),[v,r]),_=(0,n().K8)((()=>(0,m().Ln)({edits:f,rootStore:r})),[f,r]),I=(0,n().K8)((()=>(0,m().bD)(_)),[_]),R=(0,n().K8)((()=>C&&(0,m().DU)({recordId:C.id,recordType:"block",tab:d,rootStore:r,environment:c})),[C,d,r,c]);if(0===f.length||!C)return null;const w=(0,j.jsx)(A().A,{titledRecordStore:C,activity:t,tabArgs:i,getRecordModel:r.getRecordModel});return(0,j.jsxs)(x().Ay,{timestamp:y,header:(0,j.jsx)("span",{children:(0,j.jsx)(u().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} edited {pageTitle}} other {{authorOrAuthors} edited {pageTitle}}}",id:"activity.blockEdited.header",values:{numberOfAuthors:_.length,authorOrAuthors:I,pageTitle:w}})}),isLast:s,isPrivate:R,rootStore:r,navigableBlockId:C.id,icon:(0,j.jsx)(x().H8,{authors:_,size:24}),showSnapshotButton:(0,S().m)(i),...(0,g().em)({notification:a,activity:t,environment:c,tab:d}),children:[(0,j.jsx)(p().A,{visible:5,items:f.map(((e,o)=>(0,j.jsx)(M,{edit:e,index:o,activity:t,rootStore:r,tabArgs:i},o)))}),(0,j.jsx)(b().A,{tabArgs:i,activity:t,isMobile:c.device.isMobile,environment:c,rootStore:r})]})}function M(e){let{edit:t,index:i,activity:d,rootStore:c,tabArgs:u}=e;const h=(0,o().v3)(),{source:p}=u,m=(0,n().K8)((()=>{let e=c.getRecordModel({table:l().ev,id:t.block_id});return e&&e.type===s().xd.tableRow&&(e=c.getRecordModel({table:l().ev,id:e.parent_id})),e?e.getRenderUrl({getRecordModel:c.getRecordModel,pageVisitSource:r().y8.Activity}):a().JZ.root}),[t.block_id,c]),b=h.device.isMobile;return"block-deleted"===t.type?t.block_data.block_value.type===s().xd.page?(0,j.jsx)(f().A,{href:m,onClick:()=>(0,g().uY)({...u,environment:h,activity:d}),innerStyle:(0,y().aY)({source:p,isMobile:b}),children:(0,j.jsx)(v().A,{edit:t,rootStore:c})},i):(0,j.jsx)("div",{style:(0,y().aY)({source:p,isMobile:b}),children:(0,j.jsx)(v().A,{edit:t,rootStore:c})},i):(0,j.jsx)(f().A,{href:m,onClick:()=>(0,g().uY)({...u,environment:h,activity:d}),innerStyle:(0,y().aY)({source:p,isMobile:b}),children:(0,j.jsx)(v().A,{edit:t,rootStore:c})},i)}},302925:(e,t,i)=>{i.d(t,{Ay:()=>b,Iu:()=>g,g0:()=>m,nj:()=>p});i(944114),i(898992),i(823215),i(581454);var o=i(296540),n=()=>i(813206),r=()=>i(438632),s=()=>i(343666),a=()=>i(197959),l=()=>i(919709),d=()=>i(959013),c=()=>i(710648),u=()=>i(770176),h=i(474848);const f=["block-deleted","block-created","block-changed"];function v(e){return 0===e.length?["\n"]:e}function p(e,t){const i=[],o=[],s=[];if(e.every(n().Z1))return{beforeValue:"",afterValue:"",diffs:[],error:"unsupported"};for(const a of e){const e=(0,n().hd)(a,t).title,d=null==e?void 0:e.type,u="text"===d||"title"===d,h=f.includes(a.type);if(u||h){if("block-changed"===a.type&&u){const e=(0,c().De)(a.block_data.before.block_value,"title"),t=(0,c().De)(a.block_data.after.block_value,"title");i.push(e),o.push(t),s.push(r().yR({before:e,after:t,insertionAnnotation:[l().Ifu.Inserted],deletionAnnotation:[l().Ifu.Deleted]}))}else if("block-created"===a.type&&u){const e=(0,c().De)(a.block_data.block_value,"title");o.push(e),s.push(r().yR({before:[],after:e,insertionAnnotation:[l().Ifu.Inserted],deletionAnnotation:[l().Ifu.Deleted]}))}else if("block-deleted"===a.type&&u){const e=(0,c().De)(a.block_data.block_value,"title");i.push(e),s.push(r().yR({before:e,after:[],insertionAnnotation:[l().Ifu.Inserted],deletionAnnotation:[l().Ifu.Deleted]}))}}else{const e=`Invalid types '${a.type}', '${d}' for AI summary.`;i.push([e]),o.push([e])}}return{beforeValue:i.map((e=>JSON.stringify(v(e)))).join(", "),afterValue:o.map((e=>JSON.stringify(v(e)))).join(", "),diffs:s,error:void 0}}function g(e,t,i){return(0,u().Ln)({edits:e,rootStore:i}).map((e=>e.isUser()?e.getFullName(t):"A bot ")).join(", ")}function m(e,t,i,o){var n,r;const l=t.getRecordStore(t,{table:a().$Y,id:i,spaceId:o});if(!l||0===e.length||!e[0].comment_id)return{beforeValue:"",afterValue:"",diffs:[],error:"invalid comment/discussion"};const d=e[0],c=t.getRecordModel({table:s().SN,id:d.comment_id,spaceId:d.space_id}),h=l.getModel();if(!h)return{beforeValue:"",afterValue:"",diffs:[],error:"invalid comment/discussion"};return{beforeValue:"",afterValue:`New comment on text: "${null===(n=(0,u().pN)(h))||void 0===n?void 0:n[0][0]}" in the document. The comment says: "${null==c||null===(r=c.getText())||void 0===r?void 0:r.toString()}"`,diffs:[],error:void 0}}const b=function(e){let{batch:t,rootStore:n,pageTitleElem:r,activityTime:s,source:a,currentPageTitle:l}=e;const c=(0,i(484714).v3)(),u=(0,d().tz)(),f=(0,i(47170).O)(),v=(0,o.useMemo)((()=>i(17022).e.withListenerIgnored((()=>t.map((e=>{const t=e.edits;let i;i="comment-created"===e.type?m(e.edits,n,e.discussion_id,e.space_id):p(e.edits,u);return{authors:g(t,u,n),before:i.beforeValue,after:i.afterValue,end_time:e.end_time}}))))),[t,u,n]),[b,y]=(0,o.useState)(""),A=(0,i(401497).IS)((e=>({inner:{color:e.text.primary,fontSize:14,margin:13,marginBottom:-5},text:{margin:5,marginLeft:2}})),[]);return(0,o.useEffect)((()=>{(async()=>{const e=i(206267).JW(),t={type:"edit_history",edits:v,page_title:l};if(!f)return;const o=await i(449506).callStreamApi({eventName:"getCompletion",environment:c,data:{id:(0,i(498212).lZ)(),context:t,model:"openai-gpt-4o-mini",spaceId:f,isSpacePermission:!1,aiSessionId:e,inferenceReason:"home_tile_prototype",metadata:{}},headers:(0,i(386164).WS)({spaceId:f})});if("success"!==o.type)return;let n="";if(i(532659).hS.is(o.data))for await(const i of o.data)"success"===i.type&&(n+=i.completion);y(n)})()}),[c,f,l,s,v]),(0,h.jsxs)("div",{style:A.inner,children:["home_tile"===a&&(0,h.jsx)(d().sA,{id:"activityUpdate.aiSummary",defaultMessage:"{pageTitle} · {activityTime}",values:{pageTitle:r,activityTime:(0,i(907514).nl)(s)}}),void 0===b||""===b?(0,h.jsxs)("div",{style:A.text,children:[(0,h.jsx)(i(331542).A,{style:{display:"inline"}}),(0,h.jsx)("span",{style:{marginLeft:"10px"},children:"Loading summary... "}),(0,h.jsx)("br",{})]}):(0,h.jsx)("div",{style:A.text,children:b})]})}},331132:(e,t,i)=>{i.d(t,{A:()=>s});i(296540);var o=()=>i(401497),n=()=>i(381349),r=i(474848);function s(){const e=(0,o().IS)((e=>({blockContext:{flexShrink:0,display:"flex",width:3,borderRadius:4,marginLeft:2,marginRight:8,minHeight:20,background:(0,n().eb)(e.mode)}})),[]);return(0,r.jsx)("div",{style:e.blockContext})}},360137:(e,t,i)=>{i.d(t,{AG:()=>d,Ei:()=>u,F9:()=>l,aY:()=>a,a_:()=>s,kI:()=>r,vF:()=>n,xC:()=>c});const o={userSelect:"text",WebkitUserSelect:"text"},n={padding:1,...o},r={display:"inline-flex",marginRight:2,verticalAlign:"text-top"},s={fontWeight:i(284371).Wy.semibold};function a(e){return{padding:0,paddingLeft:l(e),paddingRight:16,paddingBottom:3,...o}}function l(e){const{source:t,isMobile:i}=e;return"notifications_tab"===t?52+(i?3:2):52}function d(e){return{height:26,paddingLeft:8,paddingRight:8,color:e.text.secondary}}function c(e){return{display:"inline",whiteSpace:"normal",marginRight:e?3:0,wordBreak:"break-word",...s}}function u(e){return{boxShadow:e.shadow2XS,height:26,paddingLeft:8,paddingRight:8,fontWeight:500,color:e.text.primary}}},397682:(e,t,i)=>{i.d(t,{Aj:()=>B,mV:()=>U,s6:()=>T});i(898992),i(823215),i(354520),i(672577),i(803949),i(581454);var o=i(296540),n=()=>i(484714),r=()=>i(56366),s=()=>i(401497),a=()=>i(179034),l=()=>i(197959),d=()=>i(161479),c=()=>i(919709),u=()=>i(959013),h=()=>i(534177),f=()=>i(284371),v=()=>i(848259),p=()=>i(774733),g=()=>i(902731),m=()=>i(712030),b=()=>i(921855),y=()=>i(108944),A=()=>i(630116),x=()=>i(296798),S=()=>i(864943),j=()=>i(77179),k=()=>i(12296),C=()=>i(331132),M=()=>i(770176),_=()=>i(81905),I=()=>i(360137),R=i(474848);function w(e){return"comment-created"===e.type}function B(e){return e.length>0&&e.every(w)}function T(e,t,i){if(!i)return[];let o=e.filter((e=>{switch(e.type){case"comment-changed":return!1;case"comment-created":case"comment-deleted":case"suggestion-created":return!0;default:(0,h().HB)(e)}}));0===o.length&&0!==e.length&&"updates_sidebar"!==t&&(o=e);const n="suggestion"===(null==i?void 0:i.getType())&&(null==i?void 0:i.getCommentPointers()[0]),r=o[0];return r&&n&&r&&"comment-created"===r.type&&r.comment_id===n.id&&(o=o.slice(0)),o}function L(e){const{activity:t,rootStore:s,isLast:d,tabArgs:c}=e,{source:f,tab:v,notification:p}=c,m=(0,n().v3)(),b=(0,u().tz)(),S=(0,i(963589).X)("public_api_custom_display_names_in_comments"),C=(0,r().K8)((()=>{const e=s.getRecordStore(s,{table:l().$Y,id:t.discussion_id,spaceId:t.space_id});if(e.isDefined())return e}),[t,s]),_=(0,r().K8)((()=>null==C?void 0:C.getType()),[C]),w=(0,r().K8)((()=>{const e=null==C?void 0:C.getModel();if(e)return(0,M().pN)(e)}),[C]),B=(0,r().K8)((()=>{const e=null==C?void 0:C.getParentPointer();if(e)return A().Bv.createChildStore(s,e)}),[C,s]),L=(0,r().K8)((()=>Boolean(B&&B.isDefined())),[B]),N=(0,r().K8)((()=>{const e=null==B?void 0:B.getNavigableBlockStore();return(null==e?void 0:e.id)||t.navigable_block_id}),[t,B]),K=A().Bv.createChildStore(s,{table:a().ev,id:N}),U=(0,r().K8)((()=>K.isDefined()),[K]),D=(0,r().K8)((()=>Boolean(B&&(0,y().yR)((0,y().g7)(B)))),[B]),W=(0,r().K8)((()=>{if(!D||!B)return;const e=B.getModel();return e?e.getRenderUrl({getRecordModel:s.getRecordModel,discussionId:t.discussion_id,pageVisitSource:i(584262).y8.Notification}):void 0}),[D,B,s,t]),Y=(0,r().K8)((()=>T(t.getEdits(),f,C)),[t,C,f]),H=Y.length>0,z=(0,r().K8)((()=>{const e=new Map;return((null==C?void 0:C.getCommentStores())||[]).forEach((t=>{const i=t.getCreatedByPointer();if(i){const o=A().sk.createChildStore(s,i).getModel();if(o){const i=o.asActor,n=t.resolveAuthorDisplayName(S,b);n&&e.set(n,i)}}})),e}),[C,s,b,S]),$=(0,r().K8)((()=>{var e,t;const o=Array.from(z.keys()),n=null===(e=i(765957).default.state.currentUserStore)||void 0===e?void 0:e.id,r=n?null===(t=Array.from(z.entries()).find((e=>{let[t,i]=e;return i.id===n})))||void 0===t?void 0:t[0]:void 0;return(0,i(8633).j)(o,r)}),[z]),F=(0,i(496603).hS)(Array.from(z.values()),(e=>e.id)),E=Array.from(z.keys()),Z=D,J=(0,o.useCallback)((e=>{if((0,k().uY)({...c,environment:m,activity:t,mightCloseTab:Z}),!D&&B&&C){var i;const o=e.target;g().IX({environment:m,discussionStore:C,rect:o.getBoundingClientRect(),blockStore:B,discussionLocation:V({forReplyMenu:!0,source:c.source}),activityId:t.id,notificationId:null===(i=c.notification)||void 0===i?void 0:i.id})}}),[t,D,B,C,m,c,Z]),G=(0,o.useCallback)((e=>{"Removed"===e?(0,k().jv)({...c,environment:m,activity:t,mightCloseTab:Z}):"Added"===e?(0,k().P)({...c,environment:m,activity:t,mightCloseTab:Z}):(0,h().HB)(e)}),[c,m,t,Z]),X=(0,R.jsx)(i(423213).A,{titledRecordStore:K,getRecordModel:s.getRecordModel,activity:t,tabArgs:c}),Q=(0,r().K8)((()=>(0,M().DU)({recordId:N,recordType:a().ev,tab:v,rootStore:s,environment:m})),[N,v,s,m]),q=m.device.isMobile,ee=(0,r().K8)((()=>V({source:f,forReplyMenu:!1})),[f]),te=(0,r().K8)((()=>parseInt(t.end_time)),[t]);return H&&U&&L&&C?(0,R.jsxs)(j().Ay,{timestamp:te,header:"suggestion"===_?(0,R.jsx)("span",{children:(0,R.jsx)(u().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} suggested in {blockName}} other {{authorOrAuthors} suggested in {blockName}}}",values:{numberOfAuthors:E.length,authorOrAuthors:$,blockName:X},id:"activity.commentActivity.header.suggestion"})}):(0,R.jsx)("span",{children:(0,R.jsx)(u().sA,{defaultMessage:"{numberOfAuthors, plural, one {{authorOrAuthors} commented in {blockName}} other {{authorOrAuthors} commented in {blockName}}}",values:{numberOfAuthors:E.length,authorOrAuthors:$,blockName:X},id:"activity.commentActivity.header"})}),isLast:d,isPrivate:Q,rootStore:s,navigableBlockId:N,icon:(0,R.jsx)(j().H8,{authors:F,size:24}),showSnapshotButton:!1,...(0,k().em)({notification:p,environment:m,tab:v,activity:t}),children:[C&&w&&(0,R.jsx)(O,{rootStore:s,discussionStore:C,onClick:J,source:f,url:W}),(0,R.jsx)(i(6533).A,{visible:5,items:Y.map(((e,t,o)=>(0,R.jsx)(x().A,{onClick:J,href:W,innerStyle:(0,I().aY)({source:f,isMobile:q}),children:(0,R.jsx)(i(921194).A,{edit:e,rootStore:s,type:"comment-edit",discussionLocation:ee,onReactionToggle:G,hideAuthorName:!1})},t)))}),(0,R.jsx)(P,{activity:t,rootStore:s,tabArgs:c})]}):null}function O(e){const{rootStore:t,discussionStore:i,onClick:o,source:a,url:l}=e,d=(0,r().K8)((()=>i.getType()),[i]),c=(0,n().v3)().device.isMobile,u=(0,s().IS)((e=>({linkbox:{...(0,I().aY)({source:a,isMobile:c}),display:"flex",alignItems:"center",fontSize:14,paddingTop:2,paddingBottom:6,marginBottom:0}})),[c,a]);return(0,R.jsx)(x().A,{href:l,onClick:o,innerStyle:u.linkbox,children:"suggestion"===d?(0,R.jsx)(p().c4,{discussionStore:i,collapsed:!1}):(0,R.jsx)(N,{rootStore:t,discussionStore:i})})}function N(e){const t=(0,n().v3)(),i=(0,s().DP)(),{rootStore:o,discussionStore:a}=e,l=(0,r().K8)((()=>{const e=a.getModel();if(e)return(0,M().pN)(e)}),[a]),d=0===(0,c().j2Y)(l).length,u=(0,s().IS)((e=>({text:{...f().RC,...d&&{color:e.text.secondary}}})),[d]),h=(0,r().K8)((()=>(0,b().S5)({environment:t,textValue:l?{value:l,spaceId:o.id}:void 0,parentStore:o,disableHover:!0,disableStyleAnnotations:d,disableInsertedDeletedAnnotations:d,disableDateStyleAnnotations:!1,disableSuggestionAnnotations:!1,disabled:!0,highlightDiscussionId:a.id,theme:i,emojiType:(0,m().FN)(t),katex:t.KatexStore.getKatex(),formulaValueTypes:[]})),[t,l,o,d,a.id,i]);return(0,R.jsxs)(R.Fragment,{children:[d&&(0,R.jsx)(C().A,{}),(0,R.jsx)("div",{style:u.text,children:h})]})}function P(e){const{activity:t,rootStore:i,tabArgs:c}=e,{source:h,notification:f,tab:p}=c,m=(0,r().K8)((()=>{const e=i.getRecordStore(i,{table:l().$Y,id:t.discussion_id,spaceId:t.space_id});if(e.isDefined())return e}),[t,i]),b=(0,n().v3)(),y=b.device.isMobile,x=(0,r().K8)((()=>A().sk.createChildStore(i,{table:l().$Y,id:t.discussion_id,spaceId:(0,d().e)(i.pointer.spaceId)})),[t,i]),j=(0,r().K8)((()=>null==m?void 0:m.getParentId()),[m]),k=(0,o.useCallback)((e=>{if(!j)return;const o=A().Bv.createChildStore(i,{table:a().ev,id:j}),n=e.target,r=null==f?void 0:f.id;g().IX({environment:b,discussionStore:x,rect:n.getBoundingClientRect(),blockStore:o,discussionLocation:V({forReplyMenu:!0,source:h}),activityId:t.id,notificationId:r}),"notifications_tab"===h&&v().ZP({environment:b,notificationId:r,alreadyRead:Boolean(null==f?void 0:f.read),activity:t,tab:p})}),[t,x,b,f,j,i,h,p]),C=(0,s().IS)((e=>({container:{paddingLeft:(0,I().F9)({source:h,isMobile:y}),paddingTop:12,paddingBottom:4}})),[y,h]),M=Boolean(null==f?void 0:f.visited);return m?(0,R.jsxs)("div",{style:C.container,children:[(0,R.jsx)(S().A,{size:"lg",onClick:k,children:(0,R.jsx)(u().sA,{defaultMessage:"Reply",id:"activityUpdate.replyButton.label"})}),M&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(K,{}),(0,R.jsx)(_().I,{tabArgs:c,environment:b,rootStore:i,activity:t})]})]}):null}function K(){return(0,R.jsx)("div",{style:{width:5,display:"inline-block"}})}function V(e){const{forReplyMenu:t,source:i}=e;if("updates_sidebar"===i)return t?"reply_menu_updates_sidebar":"updates_sidebar";return`${t?"reply_menu_":"updates_menu_"}${v().jD()}`}const U=o.memo(L)},423213:(e,t,i)=>{i.d(t,{A:()=>p});var o=i(296540),n=()=>i(56366),r=()=>i(584262),s=()=>i(179034),a=()=>i(854150),l=()=>i(466872),d=()=>i(187820),c=()=>i(16006),u=()=>i(12296),h=()=>i(360137),f=i(474848);function v(e){const{titledRecordStore:t,getRecordModel:v,activity:p,tabArgs:g,permissionRole:m,shouldRenderEmpty:b}=e,y=(0,n().K8)((()=>t.getModel()),[t]),A=(0,i(484714).v3)(),x=(0,i(959013).tz)(),S=(0,n().K8)((()=>null==y?void 0:y.getRenderIcon({getRecordModel:v})),[y,v]),j=(0,i(401497).IS)((()=>({container:m?{...h().vF,display:"flex",alignItems:"center"}:h().vF,icon:h().kI,recordTitle:(0,h().xC)(void 0!==S),role:{marginLeft:4,padding:0},titleAndRole:{display:"flex",flexFlow:"row",padding:1}})),[S,m]),k=(0,o.useCallback)((()=>{const e=t.table;switch(e){case s().ev:case i(519831).Vl:case i(96689).NX:(0,u().Qo)({environment:A,activity:p,...g});break;case a().yK:(0,u().uY)({environment:A,activity:p,...g}),i(848237).L0({environment:A,teamStore:t,shouldScroll:!0}),l().A.setState({...l().A.state,open:!1});break;default:(0,i(534177).HB)(e)}}),[p,A,g,t]),C=(0,n().K8)((()=>y&&y.table!==a().yK?y.getRenderUrl({getRecordModel:v,pageVisitSource:r().y8.Notification}):b&&t.table===s().ev?(0,i(921940).A)({pageId:t.id,pageVisitSource:r().y8.LinkInPage}):void 0),[y,v,b,t.table,t.id]),M=(0,n().K8)((()=>(0,d().Te)(t)),[t]);if(!y&&!b)return null;const _=m?(0,f.jsxs)("div",{style:j.titleAndRole,children:[(0,f.jsx)(c().A,{store:t,style:j.recordTitle}),(0,f.jsx)(i(125565).A,{style:j.role,isSecondaryColor:!0,children:`(${x.formatMessage((0,i(433847).an)(m,s().ev)).toLocaleLowerCase()})`})]}):(0,f.jsx)(c().A,{store:t,style:j.recordTitle});return(0,f.jsxs)(i(296798).A,{href:C,onClick:k,external:!1,innerStyle:j.container,inline:!0,children:[(S||b)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d().B6,{disabled:!0,icon:S,iconRecordCategory:M,isEmptyPage:!1,size:18,style:j.icon}),(0,f.jsx)("span",{children:" "})]}),_]})}const p=o.memo(v)},479233:(e,t,i)=>{function o(e){return"pageUpdatesSidebar"===e.tab}i.d(t,{m:()=>o})},659799:(e,t,i)=>{i.d(t,{A:()=>l});i(296540);var o=()=>i(401497),n=()=>i(284371),r=()=>i(962730),s=()=>i(859428),a=i(474848);function l(e){let{text:t,tooltipText:i,icon:l}=e;const d=(0,o().IS)((e=>({icon:{height:"1em",width:"1em",marginRight:"0.25em",fill:e.icon.secondary,marginBottom:"0.1em"},tooltip:{background:e.contentBackground,boxShadow:e.shadowSM},container:{display:"flex",alignItems:"center",fontWeight:n().Wy.regular,color:e.text.secondary,fontSize:n().J.UISmall.desktop,textAlign:"center"},text:{display:"inline"}})),[]);return(0,a.jsx)(s().A,{style:d.tooltip,render:e=>(0,a.jsx)("div",{style:d.text,...e,children:t}),renderTooltip:()=>(0,a.jsxs)("div",{style:d.container,children:[l(d.icon),(0,a.jsx)("div",{children:i})]}),alignment:r().C.Start,placement:r().W.Bottom})}},675700:(e,t,i)=>{i.d(t,{h:()=>r});var o=()=>i(645873);const n=new(o().O2)("activityUpdate",(async()=>await i.e(13319).then(i.bind(i,523526)))),r=(0,o()._h)(n,(e=>e.ActivityUpdate))},770176:(e,t,i)=>{i.d(t,{DU:()=>I,G7:()=>x,Jd:()=>C,Ln:()=>j,T9:()=>M,U6:()=>R,_S:()=>S,bD:()=>k,j1:()=>_,pN:()=>w});i(18107),i(967357),i(898992),i(430670),i(581454),i(737550),i(296540);var o=()=>i(764880),n=()=>i(8633),r=()=>i(601813),s=()=>i(179034),a=()=>i(824862),l=()=>i(519831),d=()=>i(197959),c=()=>i(798880),u=()=>i(919709),h=()=>i(220719),f=()=>i(959013),v=()=>i(496603),p=()=>i(534177),g=()=>i(972435),m=()=>i(731320),b=()=>i(765957),y=()=>i(630116),A=i(474848);function x(e){let{actor:t,environment:i}=e;return t.isBot()?2:i.currentUser.id===t.id?1:0}function S(e){const{authorStores:t,currentUserId:i}=e;if(!i||0===t.length)return{frontActorStore:void 0,backActorStore:void 0};const o=t.some((e=>e.id===i)),n=t.sort(((e,t)=>(e.id===i?1:0)-(t.id===i?1:0)));return{frontActorStore:n.at(0)||void 0,backActorStore:n.at(Math.max(1,n.length-(o?2:1)))||void 0}}function j(e){const{edits:t,rootStore:i}=e,o=v().Mp(t.flatMap((e=>e.authors||[])),v().n4),n=v().oE(o.map((e=>M(e,i))));return n.sort(((e,t)=>x({actor:e,environment:i.environment})-x({actor:t,environment:i.environment}))),n}function k(e,t){const{currentUserStore:i}=b().default.state,o=null==i?void 0:i.id;return(0,n().b)(g().A.getIntl(),e,o,t)}function C(e,t){return(0,A.jsx)("span",{children:(0,A.jsx)(f().sA,{defaultMessage:"<b>{author}</b>",id:"activitySection.authorPhrase.forOneAuthor.email",values:{author:e,b:e=>(0,A.jsx)("span",{style:t,children:e})}})})}function M(e,t){if(e.table===c().oo){const i=_(e.id,t);if(i)return(0,o().A7)(i)}else{const i=function(e,t){const i=(0,y().Oo)(t,{table:a().GP,id:e});return i.getValue()}(e.id,t);if(i)return(0,o().qt)(i)}}function _(e,t){return y().LU.createChildStore(t,{table:c().oo,id:e}).getValue()}function I(e){const{tab:t,recordId:i,recordType:o,rootStore:n,environment:r}=e;if("all"===t){if(!i)return!1;let e;return"block"===o?e=y().Bv.createChildStore(n,{table:s().ev,id:i}):"collection"===o?e=y().md.createChildStore(n,{table:l().Vl,id:i}):(0,p().HB)(o),(0,m().X9)(r,e)}return!1}function R(e){const{activity:t,rootStore:i}=e;if("commented"!==t.type)return;const o=i.getRecordModel({table:d().$Y,id:t.discussion_id,spaceId:t.space_id});if(!o)return;const n=w(o);return n?{id:o.id,context:n}:void 0}function w(e){const t=e.getPersistedContext(),i=t?(0,r().l8)({discussionContextData:t,discussionType:(0,h().o9)(e.getType()),discussionId:e.id,intl:g().A.getIntl()}):void 0;if(i)return(0,u().JJ$)(i,(t=>!(0,u().iQL)(t)||(0,u().Orm)(t)===e.id))}},823279:(e,t,i)=>{i.d(t,{L:()=>n});i(296540);var o=i(474848);const n=(0,i(340498).wt)("versionHistoryThick",{viewBox:"0 0 14 14",svg:(0,o.jsx)("path",{d:"M0 7C0 3.136 3.129 0 6.993 0C10.864 0 14 3.136 14 7C14 10.864 10.864 14 6.993 14C3.129 14 0 10.864 0 7ZM1.4 7C1.4 10.094 3.906 12.6 7 12.6C10.094 12.6 12.6 10.094 12.6 7C12.6 3.906 10.094 1.4 7 1.4C3.906 1.4 1.4 3.906 1.4 7ZM6.3 3.5H7.35V7.175L10.5 9.044L9.975 9.905L6.3 7.7V3.5Z"})})},831098:(e,t,i)=>{i.d(t,{y:()=>n});i(296540);var o=i(474848);const n=(0,i(340498).wt)("jira",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M16.8784 2.5H9.65698C9.65698 4.3 11.1141 5.75714 12.9141 5.75714H14.2427V7.04288C14.2427 8.84288 15.6998 10.3 17.4998 10.3V3.12143C17.4998 2.77857 17.2212 2.5 16.8784 2.5Z M13.3001 6.10001H6.07861C6.07861 7.9 7.53574 9.35713 9.33574 9.35713H10.6643V10.6429C10.6643 12.4429 12.1215 13.9 13.9215 13.9V6.72144C13.9215 6.37856 13.6429 6.10001 13.3001 6.10001Z M9.72144 9.70001H2.5C2.5 11.5 3.95714 12.9571 5.75714 12.9571H7.08569V14.2429C7.08569 16.0429 8.54287 17.5 10.3429 17.5V10.3214C10.3429 9.97857 10.0643 9.70001 9.72144 9.70001Z"})})}}]);