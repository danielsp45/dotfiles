"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[13402],{5580:(e,t,o)=>{o.d(t,{n:()=>a});var n=()=>o(56366),i=()=>o(209199),s=()=>o(765957);function a(){return(0,n().K8)((()=>{var e;const t=(null===(e=s().default.state.currentUserSettingsStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.preferred_locale)??i().q;return(0,i().o_)(t)}),[])}},48105:(e,t,o)=>{o.d(t,{J:()=>g,Y:()=>u});var n=o(296540),i=()=>o(484714),s=()=>o(401497),a=()=>o(955825),r=()=>o(236030),l=()=>o(234359),d=o(474848);const c=4;function u(e){const{children:t,align:o,sticky:n,style:l}=e,u=(0,i().WS)(),g=(0,s().IS)((t=>{const n=e.height||24,i=u?r().Um:r().tt;return{buttonWrapperStyle:{display:"flex",justifyContent:"right"===o?"end":"start",position:"absolute",top:(i-n)/2,right:0,left:0,zIndex:2,margin:`0 ${c}px`,pointerEvents:"none",...l},innerWrapperStyle:{display:"flex",pointerEvents:"auto",background:t.surface.elevated,padding:"2px",height:n,boxShadow:t.shadowSM,borderRadius:6},stickyStyle:{position:"sticky",right:c}}}),[o,u,e.height,l]);return t?(0,d.jsx)("div",{style:g.buttonWrapperStyle,children:(0,d.jsx)("div",{...(0,a().AH)(g.innerWrapperStyle,n&&g.stickyStyle),className:"quickActionContainer",children:t})}):null}function g(e){const{format:t,align:o}=e;switch(t){case"table":return(0,d.jsx)(b,{...e,align:o??"right"});case"property_module":case"page":return(0,d.jsx)(m,{...e,align:o??"right"});case"compact_page":return(0,d.jsx)(f,{...e,align:o??"right"});case"board":return(0,d.jsx)(p,{...e,align:o??"right"});case"gallery":return(0,d.jsx)(v,{...e,align:o??"right"});case"list":return(0,d.jsx)(S,{...e,align:o??"right"});default:return(0,d.jsx)(u,{...e,align:o??"right"})}}function p(e){const t=(0,s().IS)((()=>({buttonWrapperStyle:{top:0,...e.style}})),[e.style]);return(0,d.jsx)(u,{...e,style:t.buttonWrapperStyle})}function m(e){const{propertyModule:t}=(0,n.useContext)(l().L8),o=(0,s().IS)((()=>({buttonWrapperStyle:{top:t&&"style"in t&&"large"===t.style?10:5,...e.style}})),[t,e.style]);return(0,d.jsx)(u,{...e,style:o.buttonWrapperStyle})}function f(e){const t=(0,s().IS)((()=>({buttonWrapperStyle:{top:"unset",...e.style}})),[e.style]);return(0,d.jsx)(u,{...e,style:t.buttonWrapperStyle})}function v(e){const t=(0,s().IS)((()=>({buttonWrapperStyle:{top:-1,...e.style}})),[e.style]);return(0,d.jsx)(u,{...e,style:t.buttonWrapperStyle})}function S(e){const t=(0,s().IS)((()=>({buttonWrapperStyle:{position:void 0,margin:0,...e.style}})),[e.style]);return(0,d.jsx)(u,{...e,style:t.buttonWrapperStyle})}function b(e){const{align:t="right"}=e,{isMobile:o}=(0,i().Y0)(),{shouldWrap:a,propertyFormat:r}=(0,n.useContext)(l().L8),g=null==r?void 0:r.width,p=(0,n.useMemo)((()=>g&&g<=32?c-4:g&&g<50?c-2:c),[g]),m=(0,s().IS)((()=>({buttonWrapperStyle:{...e.style,...o&&a?{position:"sticky",float:t,marginRight:0,marginLeft:2,right:p}:{margin:`0 ${p}px`}}})),[t,p,o,e.style,a]);return(0,d.jsx)(u,{...e,style:m.buttonWrapperStyle,sticky:!0})}},67696:(e,t,o)=>{o.d(t,{y:()=>p});var n=o(296540),i=()=>o(56366),s=()=>o(401497),a=()=>o(959013),r=()=>o(745766),l=()=>o(907514),d=()=>o(962730),c=()=>o(706965),u=()=>o(859428),g=o(474848);function p(e){const{store:t,isExpanded:o,isWindowSmall:p,isElectron:m,isShowingTabBar:f,style:v}=e,S=(0,s().DP)(),b=(0,i().K8)((()=>t.getLastEditedTime()),[t]),[h,y]=(0,n.useState)("flex"),[x,k]=(0,n.useState)(0);(0,n.useEffect)((()=>{let e;return o||p?o?(k(0),y("none")):(k(0),e=setTimeout((()=>y("none")),150)):(y("flex"),e=setTimeout((()=>k(1)),150)),()=>clearTimeout(e)}),[o,p]);const I=b?(0,l().nl)(b,{useLowercase:!0,useCompactFormat:!0,roundDownYears:!0}):"";return I?(0,g.jsx)("span",{style:{opacity:x,transition:"opacity 150ms linear",display:h,alignItems:"center",fontSize:14,color:S.text.tertiary,height:28,whiteSpace:"nowrap",lineHeight:1.2,...v},children:(0,g.jsx)("div",{style:{display:"flex",flexFlow:"wrap"},children:(0,g.jsx)(u().A,{placement:d().W.Bottom,alignment:d().C.Start,renderTooltip:()=>(0,g.jsx)(c().A,{store:t,compactFormat:!0}),render:e=>{return(0,g.jsx)("div",{...e,style:{...(0,r().g)({noDrag:m&&!f})},children:(t=I,(0,g.jsx)(a().sA,{defaultMessage:"Edited {timestamp}",id:"pagePropertiesHeader.edited.label",values:{timestamp:t}}))});var t}})})}):null}},204263:(e,t,o)=>{o.d(t,{A:()=>s});o(296540);var n=()=>o(959013),i=o(474848);const s=function(){const e=(0,n().tz)(),t=(0,o(484714).v3)(),s=(0,n().YK)({helpTitle:{defaultMessage:"Learn about tasks",id:"myTasks.helpTooltip.title"}}),a=(0,o(863059).gQ)();return(0,i.jsx)(o(859428).A,{placement:o(962730).W.Bottom,renderTooltip:t=>e.formatMessage(s.helpTitle),render:n=>(0,i.jsx)(o(285790).A,{icon:o(406533).questionMarkCircleIcon,iconStyle:a.icon,ariaLabel:e.formatMessage(s.helpTitle),style:{width:a.iconButton.width,height:a.iconButton.height},onClick:e=>{e.preventDefault(),o(755636).f({environment:t,url:o(696746).hI,targetSelf:!1})},...n})})}},311253:(e,t,o)=>{o.d(t,{A:()=>c});var n=o(296540),i=o(474848);const s={viewBox:"0 0 16 16",fittedViewBox:"2.46 2.46 11.08 11.08",svg:(0,i.jsx)("path",{d:"M3.088 2.463a.625.625 0 0 0-.625.625v4a.625.625 0 1 0 1.25 0V4.597l3.045 3.045a.625.625 0 0 0 .884-.884L4.597 3.713h2.49a.625.625 0 1 0 0-1.25zM9.244 8.36a.625.625 0 0 0-.883.884l3.042 3.043H8.912a.625.625 0 1 0 0 1.25h4c.345 0 .625-.28.625-.625v-4a.625.625 0 0 0-1.25 0v2.491z"})},a=(0,o(340498).wt)("arrowExpandDiagonalSmall",s);var r=()=>o(959013),l=()=>o(645302),d=()=>o(712505);const c=function(e){const{store:t,shouldShowMoveToMenu:s,iconStyle:c,style:u}=e,g=(0,o(484714).v3)(),p=(0,r().tz)(),m=(0,o(56366).K8)((()=>(0,o(492414).Ay)({store:t,fullyQualified:!1,pageVisitSource:o(584262).y8.Expand})),[t]),f=(0,o(401497).IS)((e=>({keyboardShortcut:{color:e.text.contrastSecondary},iconButtonWrapper:{height:24}})),[]),v=(0,n.useCallback)((()=>{var e,t,o;l().uO(g,{isNewPage:s,peek_mode:d().default.state.mode,from:"topbar_button",target_page_id:null===(e=d().default.peekTargetStore.state)||void 0===e?void 0:e.id}),l().Zh(g,{peek_mode:d().default.state.mode,from:"topbar_open_as_page_button",target_page_id:null===(t=d().default.peekTargetStore.state)||void 0===t?void 0:t.id,target_parent_id:null===(o=d().default.peekTargetStore.state)||void 0===o?void 0:o.getParentId()})}),[g,s]);return(0,i.jsx)(o(859428).A,{renderTooltip:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{children:(0,i.jsx)(r().sA,{defaultMessage:"Open in full page",id:"peekTopbar.navigateToPage.tooltip"})}),(0,i.jsx)(o(35392).A,{style:f.keyboardShortcut,name:"commandEnter"})]}),render:t=>(0,i.jsx)("div",{style:f.iconButtonWrapper,children:(0,i.jsx)(o(285790).A,{...t,icon:a,iconStyle:{width:16,height:16,...c},hasBackground:e.hasBackground,href:m,onClick:v,ariaLabel:p.formatMessage({id:"peekTopbar.navigateToPage.tooltip",defaultMessage:"Open in full page"}),style:u})})})}},419123:(e,t,o)=>{o.d(t,{P:()=>c,k:()=>d});o(898992),o(354520);var n=()=>o(56366),i=()=>o(774733),s=()=>o(645873),a=()=>o(217429),r=()=>o(486130),l=()=>o(756214);function d(e){const{navigableBlockStore:t}=e,{value:o}=(0,s().fJ)(i().commentsDependency),a=(0,n().K8)((()=>t&&o?o.discussionHelpers.getDiscussionsForSidebar({blockStore:t,currentUserId:t.userId,ignoreAfterTime:0}):[]),[o,t]);return(0,n().K8)((()=>t&&t.userId?(0,l().R)({userId:t.userId,blockStore:t,discussionStores:a,groupIdsUserIsIn:r()._.getSpacePermissionGroupIds({userId:t.userId,spaceId:t.getSpaceId()})}):[]),[t,a])}function c(e){const{navigableBlockStore:t,forceIncludeDiscussionIds:o}=e,i=d({navigableBlockStore:t});return(0,n().K8)((()=>{const e=a().default.getConfigKey("assume_comment_read","last_seen_at");return i.filter((t=>(null==o?void 0:o.has(t.id))||t.isUnread(e)))}),[i,o])}},462113:(e,t,o)=>{o.d(t,{A:()=>p});var n=o(296540),i=()=>o(484714),s=()=>o(56366),a=()=>o(401497),r=()=>o(340498),l=()=>o(959013),d=()=>o(285790),c=()=>o(859428),u=o(474848);const g=(0,l().YK)({edit:{id:"FormEmbedActionButtons.edit",defaultMessage:"Edit form"},copyLink:{id:"FormEmbedActionButtons.link",defaultMessage:"Copy link to form"},copiedLink:{id:"FormTopbarActionButtons.copiedLinkToForm.tooltip",defaultMessage:"Copied"}}),p=function(e){const t=(0,i().v3)(),p=(0,l().tz)(),m=(0,a().DP)(),f=(0,n.useRef)(null),{isMobile:v}=(0,i().Y0)(),{formBlockStore:S,inPeekMode:b}=e,h=(0,s().O$)(o(765957).AppStoreCurrentSpaceViewStore),y=(0,s().K8)((()=>!!h&&(0,o(245128).A)({spaceViewStore:h,pageId:S.id})),[h,S]),x=(0,a().IS)((e=>{const t=b?r().Ev.sm:r().Ev.default;return{actionButtonStyle:{width:b?24:32,height:b?"auto":28,marginLeft:b?0:4,marginRight:0},actionIconStyle:{width:t,height:t,fill:b?e.icon.secondary:e.icon.primary}}}),[b]),[k,I]=(0,n.useState)(!1),w=(0,s().K8)((()=>S.getIsFormPublic()),[S]),B=(0,s().K8)((()=>{var e;return!w&&!v&&(t.currentUser.id===S.getCreatedById()&&Boolean(null===(e=S.getFormBlockParentBlockStore())||void 0===e?void 0:e.canEditCollection()))}),[t.currentUser.id,v,S,w]),T=(0,n.useMemo)((()=>async()=>{I(!0);const e=(0,o(465741).px)(S);(await o(884107).R.clipboardActions.load()).copyString({stringValue:e,environment:t,copiedMessage:v?o(614787).l.copiedLinkToForm:void 0}),setTimeout((()=>{I(!1)}),1e3)}),[S,t,v]);function C(){const e=S.getFormBlockParentBlockStore();var n;e&&o(857783).uK({environment:t,store:e,collectionViewId:null===(n=S.getParentStore())||void 0===n?void 0:n.id,pageVisitSource:o(584262).y8.FormInternalPage})}const j=(0,u.jsxs)(u.Fragment,{children:[B&&(0,u.jsx)(c().A,{renderTooltip:()=>(0,u.jsx)(u.Fragment,{children:p.formatMessage(g.edit)}),render:e=>(0,u.jsx)(d().A,{...e,style:{...x.actionButtonStyle,marginRight:void 0},icon:o(105819).pencilLineIcon,iconStyle:x.actionIconStyle,ariaLabel:p.formatMessage(g.edit),onClick:C})}),(0,u.jsx)(c().A,{originGap:t.device.isElectronWindows?10:void 0,forceVisibleState:!!k||void 0,renderTooltip:()=>(0,u.jsx)(l().sA,{...k?g.copiedLink:g.copyLink}),render:e=>(0,u.jsx)(d().A,{...e,style:x.actionButtonStyle,icon:o(742852).w,iconStyle:x.actionIconStyle,ariaLabel:p.formatMessage(g.copyLink),onClick:T})}),!w&&(0,u.jsx)(o(487146).TopbarFavoriteButton,{store:S,useDefaultTooltipPlacement:!0,iconStyle:{...x.actionIconStyle,fill:y?m.topbarFavorite:x.actionIconStyle.fill},buttonStyle:x.actionButtonStyle,spaceViewStore:h}),b&&(0,u.jsx)(o(311253).A,{store:S,shouldShowMoveToMenu:!1,hasBackground:!0,iconStyle:x.actionIconStyle,style:{width:24}})]});return b?(0,u.jsx)("div",{ref:f,children:(0,u.jsx)(o(48105).Y,{align:"right",containerRef:f,height:28,style:{position:"absolute",borderRadius:1,marginTop:6,marginRight:10},children:j})}):j}},487146:(e,t,o)=>{o.r(t),o.d(t,{TopbarFavoriteButton:()=>w});var n=o(296540),i=()=>o(484714),s=()=>o(56366),a=()=>o(401497),r=()=>o(877788),l=()=>o(773126),d=()=>o(959013),c=()=>o(778417),u=()=>o(751156),g=()=>o(679924),p=()=>o(38337),m=()=>o(245128),f=()=>o(869562),v=()=>o(962730),S=()=>o(285790),b=()=>o(35392),h=()=>o(859428),y=()=>o(978578),x=()=>o(863059),k=o(474848);const I=(0,d().YK)({isBookmarkedMessage:{defaultMessage:"Favorited",id:"topbar.favoriteButton.activeTitle"},isNotBookmarkedMessage:{defaultMessage:"Favorite",id:"topbar.favoriteButton.title"},isBookmarkedTooltip:{defaultMessage:"Remove from your favorites",id:"topbar.favoriteButton.activeTooltip1"},isNotBookmarkedTooltip:{defaultMessage:"Add to your favorites",id:"topbar.favoriteButton.tooltip1"}});function w(e){let{spaceViewStore:t,store:o,iconStyle:b,buttonStyle:w,showKeyboardShortcut:T,useDefaultTooltipPlacement:C,isTablet:j}=e;const A=(0,i().v3)(),P=(0,d().tz)(),M=(0,s().K8)((()=>!!t&&(0,m().A)({spaceViewStore:t,pageId:o.id})),[t,o]),_=M?l().F:r().w,E=(0,n.useMemo)((()=>M?()=>function(e,t,o){if(!o)return;c().IU({environment:t}),(0,g().v)(t,"unbookmark",{from:"topbar"}),u().createAndCommit({userAction:"TopbarFavoriteButton.handleUnbookmarkClick",environment:t,canUndo:!0,perform:t=>{f().unbookmarkPage({spaceViewStore:o,store:e,transaction:t})}})}(o,A,t):()=>function(e,t,o){if(!o)return;c().IU({environment:t}),(0,g().v)(t,"bookmark",{from:"topbar"}),u().createAndCommit({userAction:"TopbarFavoriteButton.handleBookmarkClick",environment:t,canUndo:!0,perform:t=>{f().bookmarkPage({spaceViewStore:o,store:e,transaction:t})}})}(o,A,t)),[M,o,A,t]),F=(0,x().gQ)(),L=(0,a().IS)((e=>({icon:{...j?F.tabletIcon:F.icon,...M?{fill:e.topbarFavorite}:void 0,...b},button:{...F.iconButton,...w}})),[F.icon,F.tabletIcon,F.iconButton,M,b,w,j]),D=(0,a().IS)((e=>({iconContainer:(0,y().aD)(e).iconContainer})),[]);return(0,k.jsx)(h().A,{placement:C?void 0:v().W.Bottom,originGap:A.device.isElectronWindows?10:void 0,renderTooltip:()=>(0,k.jsx)(B,{isBookmarked:M,showKeyboardShortcut:T}),render:e=>(0,k.jsx)(S().A,{...e,className:p().ZEs,icon:_,style:j?D.iconContainer:L.button,iconStyle:L.icon,onClick:E,ariaLabel:P.formatMessage(M?I.isBookmarkedMessage:I.isNotBookmarkedMessage)})})}function B(e){let{isBookmarked:t,showKeyboardShortcut:o}=e;const n=(0,a().DP)();return(0,k.jsxs)("div",{style:{textAlign:"center"},children:[(0,k.jsx)("div",{children:(0,k.jsx)(d().sA,{...t?I.isBookmarkedTooltip:I.isNotBookmarkedTooltip})}),o?(0,k.jsx)(b().A,{style:{color:n.text.contrastSecondary},name:"toggleFavorite"}):void 0]})}},488134:(e,t,o)=>{o.d(t,{n:()=>s});var n=()=>o(645873);const i={TopbarLayoutInfoButton:new(n().O2)("TopbarLayoutInfoButton",(async()=>o.e(2597).then(o.bind(o,555801))))},s=(0,n()._h)(i.TopbarLayoutInfoButton,(e=>e.TopbarLayoutInfoButton))},514799:(e,t,o)=>{o.d(t,{H:()=>r});var n=()=>o(484714),i=()=>o(56366),s=()=>o(185078),a=()=>o(910302);function r(e){const{detectedLanguage:t,canSuggestInConfidence:o}=function(e){const{pageStore:t,enabled:o,forceUpdate:s=!1}=e,r=(0,n().v3)();return(0,i().K8)((()=>o?a().bY({pageStore:t,environment:r,enabled:o,forceUpdate:s}):{detectedLanguage:void 0,canSuggestInConfidence:!1}),[t,r,o,s])}(e);return t&&!(0,s().cE)(t)?{detectedLanguage:void 0,canSuggestInConfidence:!1}:{detectedLanguage:t,canSuggestInConfidence:o}}},518773:(e,t,o)=>{o.d(t,{A:()=>s});var n=()=>o(835338),i=()=>o(534177);function s(e,t){switch(e){case"all":return{following:!0,followSettings:{...(0,n().JY)({explicitly_set_by_user:!0}),feed_setting:t}};case"important":return{following:!0,followSettings:{...(0,n().gK)({explicitly_set_by_user:!0}),feed_setting:t}};case"comments":return{following:!0,followSettings:{...(0,n().lx)({explicitly_set_by_user:!0}),feed_setting:t}};case"none":return{following:!1,followSettings:{...(0,n().gU)({explicitly_set_by_user:!0}),feed_setting:t}};default:(0,i().HB)(e)}}},545340:(e,t,o)=>{o.d(t,{A:()=>i});class n extends(()=>o(757695))().Store{getInitialState(){return{trustedDomainPointers:[],enabledTrustedEmailDomains:[],trustedDomains:[],lastEmitData:{value:-1,spaceId:void 0}}}getForSpace(e){if(!e)return;const{enabledTrustedEmailDomains:t,trustedDomainPointers:o,trustedDomains:n,lastEmitData:i}=this.state;return i.spaceId===e.id?{enabledTrustedEmailDomains:t,trustedDomainPointers:o,trustedDomains:n}:void 0}shouldRefetchTrustedDomains(e){let{currentSpaceId:t,emitValue:o}=e;const{spaceId:n,value:i}=this.state.lastEmitData;return t!==n||o!==i}}const i=n},568394:(e,t,o)=>{o.d(t,{aU:()=>C,Ay:()=>j});var n=o(296540),i=()=>o(484714),s=()=>o(56366),a=()=>o(401497),r=()=>o(274570),l=o(474848);const d=(0,o(340498).wt)("mobileTopbarUpdate",{viewBox:"0 0 26 26",svg:(0,l.jsxs)("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.0004 4.65002C8.38881 4.65002 4.65039 8.38845 4.65039 13C4.65039 17.6116 8.38881 21.35 13.0004 21.35C17.612 21.35 21.3504 17.6116 21.3504 13C21.3504 8.38845 17.612 4.65002 13.0004 4.65002ZM3.15039 13C3.15039 7.56002 7.56039 3.15002 13.0004 3.15002C18.4404 3.15002 22.8504 7.56002 22.8504 13C22.8504 18.44 18.4404 22.85 13.0004 22.85C7.56039 22.85 3.15039 18.44 3.15039 13Z"}),(0,l.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.6504 7.70002C14.0646 7.70002 14.4004 8.03581 14.4004 8.45002V13.65C14.4004 14.0642 14.0646 14.4 13.6504 14.4H8.45039C8.03618 14.4 7.70039 14.0642 7.70039 13.65C7.70039 13.2358 8.03618 12.9 8.45039 12.9H12.9004V8.45002C12.9004 8.03581 13.2362 7.70002 13.6504 7.70002Z"})]})});var c=()=>o(959013),u=()=>o(848259),g=()=>o(778417),p=()=>o(38337),m=()=>o(553965),f=()=>o(869562),v=()=>o(644914),S=()=>o(737230),b=()=>o(962730),h=()=>o(973618),y=()=>o(712505),x=()=>o(406699),k=()=>o(285790),I=()=>o(859428),w=()=>o(978578),B=()=>o(863059);const T=(0,c().YK)({updates:{id:"topbar.updatesButton.title",defaultMessage:"Updates"}});function C(e){const t=(0,c().tz)(),{isMobile:o}=(0,i().Y0)(),n=(0,B().gQ)(),s=(0,a().IS)((e=>{if(o){const t=(0,w().aD)(e);return{icon:t.iconStyle,button:t.iconContainer}}return{icon:n.icon,button:n.iconButton}}),[o,n]);return(0,l.jsx)(k().A,{icon:o?d:r().clockIcon,iconStyle:s.icon,style:s.button,ariaLabel:t.formatMessage(T.updates),className:p().V4_,disabled:e.disabled,...e})}const j=function(e){let{spaceStore:t,buttonPopupStore:a,blockStore:r}=e;const d=(0,i().v3)(),p=(0,s().K8)((()=>y().default.state.open&&y().default.state.targetStore),[]),m=(0,s().K8)((()=>v().KM(d)),[d]),f=!(0,s().O$)(o(227440).e);(0,n.useEffect)((()=>{p!==r&&h().E.state&&(P(r,d),h().E.setState(!1),u().zP({environment:d,pageId:r.pointer.id,isCurrentlyFollowing:(0,o(518773).A)(r.getFollowSettingsKey()).following,from:"email"}))}),[r,p,d]);const{device:S}=d;if(p!==r){const e=f?(0,l.jsx)(c().sA,{defaultMessage:"Unavailable while offline",id:"topbar.updatesButton.offlineTooltip"}):m?(0,l.jsx)(c().sA,{defaultMessage:"Close all updates",id:"topbar.updatesButton.closeSidebartTooltip"}):(0,l.jsx)(c().sA,{defaultMessage:"View all updates",id:"topbar.updatesButton.openSidebartTooltip"});return(0,l.jsx)(I().A,{placement:b().W.Bottom,renderTooltip:()=>e,render:e=>(0,l.jsx)(C,{...e,onClick:()=>P(r,d),hovered:v().KM(d)&&!y().default.state.open,disabled:f})})}return(0,l.jsx)(x().Ay,{onClick:()=>function(e){g().IU({environment:e}),u().nW(e)}(d),disabled:!t,popupType:S.isMobile?x().z7.SlideUp:x().z7.Popup,buttonPopupStore:a,renderOrigin:e=>(0,l.jsx)(A,{buttonPopupEvents:e,isOffline:f}),originGap:8,render:()=>(0,l.jsx)(o(577009).i8,{blockStore:r,spaceStore:t}),style:{width:440,overflow:"hidden"}})};function A(e){let{buttonPopupEvents:t,isOffline:o}=e;const n=(0,i().v3)(),{device:s}=n,a=o?(0,l.jsx)(c().sA,{defaultMessage:"Unavailable while offline",id:"topbar.updatesButton.offlineTooltip"}):(0,l.jsx)(c().sA,{defaultMessage:"View past changes to this page",id:"topbar.updatesButton.tooltip"});return s.isMobile?null:(0,l.jsx)(I().A,{placement:b().W.Bottom,renderTooltip:()=>a,render:e=>(0,l.jsx)(C,{...(0,m().A)(t,e),disabled:o})})}function P(e,t){f().handleSidebarButtonClick(t,e,S().tF.Updates,"topbar")}},586252:(e,t,o)=>{o.d(t,{V:()=>m});var n=o(296540),i=()=>o(484714),s=()=>o(56366),a=()=>o(591779),r=()=>o(2220),l=()=>o(185078),d=()=>o(5580),c=()=>o(514799);var u=()=>o(765957),g=()=>o(430483),p=()=>o(77246);function m(e){const t=(0,i().v3)(),o=(0,s().K8)((()=>{var t;return null===(t=p().Uv.getStateForBlock(e.id))||void 0===t?void 0:t.mode}),[e]),m=(0,s().K8)((()=>g().zD.isFullPageTranslateEnabled()),[]),f=(0,s().K8)((()=>{const e=u().default.state.currentUserSettingsStore;return!!e&&void 0===e.getSettingsStore().getKeyStore("ai_page_translation_dismissed_at").getValue()}),[]),v=m&&f,{detectedPageLanguage:S,suggestedPageTranslationLanguage:b,canSuggestInConfidence:h}=function(e){const{pageStore:t,enabled:o}=e,{detectedLanguage:n,canSuggestInConfidence:i}=(0,c().H)({pageStore:t,enabled:o}),s=(0,d().n)();return n&&n!==s&&(0,l().FM)(s)?{detectedPageLanguage:n,suggestedPageTranslationLanguage:s,canSuggestInConfidence:i}:{detectedPageLanguage:void 0,suggestedPageTranslationLanguage:void 0,canSuggestInConfidence:!1}}({pageStore:e,enabled:v}),[y,x]=(0,n.useState)(!1);(0,a().ZC)(e.id)!==e.id&&y&&x(!1);const k=Boolean(h&&!y&&v&&b&&(void 0===o||"default"===o));return(0,n.useEffect)((()=>{k&&S&&b&&function(e){let{environment:t,detectedLanguage:o,suggestedLanguage:n}=e;(0,r().u)({environment:t,event:{eventName:"suggested_page_translation",eventProperties:{detected_language:o,suggested_language:n}}})}({environment:t,detectedLanguage:S,suggestedLanguage:b})}),[k]),{suggestTranslation:k,detectedPageLanguage:S,suggestedPageTranslationLanguage:b,setTranslationSuggestionDismissed:x}}},614787:(e,t,o)=>{o.d(t,{l:()=>n});const n=(0,o(959013).YK)({copiedLinkToForm:{id:"FormActionButtons.copiedLinkToForm",defaultMessage:"Copied link to form"}})},657982:(e,t,o)=>{o.d(t,{Z6:()=>s,rN:()=>a});var n=()=>o(645873);const i={translation:new(n().O2)("translation",(()=>Promise.all([o.e(16471),o.e(92845),o.e(84468),o.e(5605),o.e(48486),o.e(48632),o.e(75078),o.e(21194),o.e(25700),o.e(3773),o.e(8340)]).then(o.bind(o,136768)))),TranslateBanner:new(n().O2)("TranslateBanner",(async()=>await Promise.all([o.e(16471),o.e(92845),o.e(84468),o.e(5605),o.e(48486),o.e(48632),o.e(75078),o.e(21194),o.e(25700),o.e(3773)]).then(o.bind(o,151985))))},s=(0,n()._h)(i.translation,(e=>e.TopbarAmbientSuggestTranslateButton)),a=(0,n()._h)(i.TranslateBanner,(e=>e.TranslateBanner))},726360:(e,t,o)=>{o.d(t,{H:()=>s,U:()=>i});var n=o(296540);const i=(0,n.createContext)(new(o(545340).A));function s(){return(0,n.useContext)(i)}i.displayName="TrustedDomainsContext"},756214:(e,t,o)=>{o.d(t,{R:()=>a});o(898992),o(354520),o(581454),o(737550);var n=()=>o(919709);function i(e){const{userId:t,isFollowingPage:o,discussions:i,discussionToComments:s,groupIdsUserIsIn:a,includeDiscussionsWhereUserOnlyAuthor:r}=e,l=o?i:i.filter((e=>function(e){const{userId:t,comments:o,groupIdsUserIsIn:i}=e;return Boolean(o.some((e=>e.getCreatedById()===t||function(e){const{userId:t,comment:o,groupIdsUserIsIn:i}=e,s=n().Fbh(o.getText());if(s.includes(t))return!0;const a=n().FAS(o.getText());if(a.some((e=>i.has(e.groupId))))return!0;return!1}({userId:t,comment:e,groupIdsUserIsIn:i}))))}({userId:t,comments:s(e),groupIdsUserIsIn:a})));return r?l:l.filter((e=>function(e){const{userId:t,comments:o}=e;return Boolean(o.some((e=>e.getCreatedById()&&e.getCreatedById()!==t)))}({userId:t,comments:s(e)})))}var s=()=>o(534177);function a(e){var t;const{userId:o,blockStore:n,discussionStores:a,groupIdsUserIsIn:r}=e;return i({userId:o,isFollowingPage:Boolean(null===(t=n.getFollowStore())||void 0===t||null===(t=t.getModel())||void 0===t?void 0:t.isFollowingAllComments()),discussions:a,discussionToComments:e=>e.getCommentStores().map((e=>e.getModel())).filter(s().O9),groupIdsUserIsIn:r,includeDiscussionsWhereUserOnlyAuthor:!0})}},764172:(e,t,o)=>{o.d(t,{Ay:()=>E,xG:()=>F});o(898992),o(737550);var n=o(296540),i=()=>o(484714),s=()=>o(56366),a=()=>o(401497),r=()=>o(90023),l=()=>o(49621),d=()=>o(959013),c=()=>o(381349),u=()=>o(2220),g=()=>o(774733),p=()=>o(555776),m=()=>o(116008),f=()=>o(38337),v=()=>o(645873),S=()=>o(419123),b=()=>o(455994),h=()=>o(869562),y=()=>o(644914),x=()=>o(737230),k=()=>o(962730),I=()=>o(712505),w=()=>o(285790),B=()=>o(859428),T=()=>o(863059),C=o(474848);const j=(0,d().YK)({updates:{id:"topbar.commentsButton.title",defaultMessage:"Comments"}});function A(e){const{blockStore:t}=e,o=(0,S().P)({navigableBlockStore:t});return(0,C.jsx)(M,{blockStore:t,hasUnreadComments:Boolean(o.length)})}function P(e){const{blockStore:t}=e,{value:o}=(0,v().fJ)(g().commentsDependency),n=(0,s().K8)((()=>{if(!o)return!1;const{discussionViewActions:e,discussionHelpers:{getDiscussionsForSidebar:n,getAndSortCommentStoresByTime:i}}=o;return n({blockStore:t,ignoreAfterTime:Date.now()}).some((t=>!t.getResolved()&&i(t).some((o=>e.isCommentUnread({discussionStore:t,commentStore:o})))))}),[o,t]);return(0,C.jsx)(M,{blockStore:t,hasUnreadComments:n})}function M(e){const{blockStore:t,hasUnreadComments:o}=e,a=(0,d().tz)(),r=(0,i().v3)(),{value:c}=(0,v().fJ)(g().commentsDependency),S=(0,s().K8)((()=>y().me(r)),[r]),A=(0,s().K8)((()=>{const e=I().default.state.open;return b().A.getPanelState(e?"peek":"mainPage").isOpen}),[]),P=S?(0,C.jsx)("div",{style:{textAlign:"center"},children:(0,C.jsx)(d().sA,{defaultMessage:"Close all comments",id:"topbar.commentsButton.closeSidebartTooltip"})}):(0,C.jsx)("div",{style:{textAlign:"center"},children:(0,C.jsx)(d().sA,{defaultMessage:"View all comments",id:"topbar.commentsButton.openSidebartTooltip"})}),M=(0,s().K8)((()=>(p().A.state.isActivelyComposing||m().A.hasContent())&&m().A.isDraftCommentOnValidSelection()&&m().A.ifPropertyCommentShouldDisplay()),[]),E=(0,T().gQ)(),F=(0,n.useCallback)((()=>{var e;const n=null==c||null===(e=c.discussionHelpers)||void 0===e?void 0:e.getDiscussions,i=!!n&&n(t).length>0,s=m().A.state.open;(0,u().u)({environment:r,event:{eventName:"topbar_comments_menu_click",eventProperties:{has_discussions:i,has_unread_indicator:o||s}}}),h().handleSidebarButtonClick(r,t,x().tF.Comments,"topbar")}),[r,t,o,c]);return(0,C.jsx)(B().A,{placement:k().W.Bottom,renderTooltip:()=>P,render:e=>(0,C.jsxs)("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[(0,C.jsx)(w().A,{...e,icon:l().h,iconStyle:E.icon,onClick:F,style:E.iconButton,ariaLabel:a.formatMessage(j.updates),hovered:S&&!A&&!I().default.state.open,className:f().rm}),o||M?(0,C.jsx)(_,{}):void 0]})})}function _(){const e=(0,i().v3)(),{isMobile:t}=e.device,{dot:o}=(0,a().IS)((e=>({dot:{position:"absolute",top:t?0:1.8,right:t?12:5.5,height:11,width:11,border:`2px solid ${e.whiteButtonBackground}`,borderRadius:12,background:c().Ay.red,pointerEvents:"none"}})),[t]);return(0,C.jsx)("div",{style:o})}const E=function(e){const{blockStore:t}=e;return(0,o(963589).X)("comment_sidebar_for_you")?(0,C.jsx)(A,{blockStore:t}):(0,C.jsx)(P,{blockStore:t})};function F(e){const{device:t,isPersonalHomePage:o,isFormBlock:n,store:i}=e,s=i.isDraft();return!t.isMobile&&!o&&!n&&(!i.isCollectionView()||i.isCollectionViewPageWithContent())&&!s&&(0,r().SF)(i.getSystemBlockTypeStore().getValue())}},773126:(e,t,o)=>{o.d(t,{F:()=>i});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.4 2.39 15.2 14.52",svg:(0,o(474848).jsx)("path",{d:"M10.594 2.83a.625.625 0 0 0-1.188 0L7.899 7.468H3.025a.625.625 0 0 0-.367 1.13L6.6 11.462l-1.506 4.636a.625.625 0 0 0 .962.699L10 13.932l3.943 2.865a.625.625 0 0 0 .962-.699L13.4 11.462l3.943-2.865a.625.625 0 0 0-.367-1.13H12.1z"})},i=(0,o(340498).wt)("starFill",n)},813401:(e,t,o)=>{o.d(t,{E:()=>s});var n=()=>o(645873);const i=new(n().O2)("topbarShareButton",(async()=>await Promise.all([o.e(75134),o.e(9304),o.e(16471),o.e(58550),o.e(44711),o.e(53321),o.e(90825),o.e(96346),o.e(55373),o.e(37353),o.e(29151),o.e(78191),o.e(62475),o.e(3151),o.e(98629),o.e(49889),o.e(97727),o.e(22900),o.e(85128),o.e(95555),o.e(14659),o.e(92845),o.e(84468),o.e(5605),o.e(48486),o.e(95794),o.e(13677),o.e(56952),o.e(48632),o.e(74562),o.e(27711),o.e(4422),o.e(11341),o.e(46414),o.e(95168),o.e(28271),o.e(34877),o.e(36908),o.e(17254),o.e(84185),o.e(32421),o.e(15315),o.e(24587),o.e(78708),o.e(43777),o.e(74752),o.e(91194),o.e(81197),o.e(98659),o.e(20502),o.e(6266),o.e(8184),o.e(83884),o.e(65881),o.e(99809),o.e(93282),o.e(43678),o.e(15019),o.e(90978),o.e(3910),o.e(77213),o.e(6912),o.e(21194),o.e(30291),o.e(39541),o.e(12913),o.e(45620),o.e(54220),o.e(19930),o.e(81768),o.e(58102),o.e(52836),o.e(26483),o.e(19687),o.e(6463),o.e(68137),o.e(50569),o.e(40925),o.e(24975),o.e(282),o.e(87250),o.e(93847),o.e(79928),o.e(7203),o.e(61349),o.e(55197),o.e(94256),o.e(76690),o.e(29669),o.e(24930),o.e(62573),o.e(33882),o.e(44763),o.e(1440),o.e(5044),o.e(31782),o.e(93449),o.e(63996),o.e(895),o.e(66559),o.e(35986),o.e(45683),o.e(78862),o.e(38536),o.e(92924),o.e(64819),o.e(67378),o.e(40186),o.e(97339),o.e(55717),o.e(63797),o.e(56352),o.e(52811),o.e(28398),o.e(21367),o.e(65351),o.e(22686),o.e(4112),o.e(31889),o.e(36009),o.e(81973),o.e(2600),o.e(77663),o.e(97832),o.e(75681)]).then(o.bind(o,136805)))),s=(0,n()._h)(i,(e=>e.TopbarShareButton))},813402:(e,t,o)=>{o.r(t),o.d(t,{TopbarActionButtons:()=>xe,shouldShowTopbarShareMenu:()=>ke,shouldShowTopbarUpdatesMenu:()=>Ie});var n=o(296540),i=()=>o(484714),s=()=>o(56366),a=()=>o(401497),r=()=>o(22634),l=()=>o(175947),d=()=>o(959013),c=()=>o(462113),u=()=>o(835066),g=()=>o(780054),p=()=>o(869609),m=()=>o(813401),f=()=>o(783423),v=()=>o(454305),S=()=>o(964345),b=()=>o(186445),h=()=>o(38337),y=()=>o(891078),x=()=>o(963589),k=()=>o(204263),I=()=>o(696746),w=()=>o(311337),B=()=>o(869562),T=()=>o(644914),C=()=>o(737230),j=()=>o(765957),A=()=>o(77246),P=()=>o(948914),M=()=>o(217429),_=()=>o(548821),E=()=>o(566009),F=()=>o(795179),L=()=>o(538233),D=()=>o(427155),K=()=>o(657982),U=(o(581454),()=>o(921997)),W=()=>o(277816),V=()=>o(941541),O=()=>o(545340),R=()=>o(378941);function H(e){let{spaceId:t,trustedDomainsStore:o,trustedDomains:n,value:i}=e;const s=n.map((e=>({table:W().A,id:e.id,spaceId:t}))),a=n.map((e=>e.getEmailDomain()));o.setState({trustedDomainPointers:s,enabledTrustedEmailDomains:a,trustedDomains:n,lastEmitData:{value:i,spaceId:t}})}var N=()=>o(726360),z=(o(18107),o(967357),()=>o(187174)),Y=()=>o(212727),$=()=>o(179034),G=()=>o(96689),Z=()=>o(234459),X=()=>o(615234),J=()=>o(449506),Q=()=>o(493823),q=()=>o(8980),ee=()=>o(859428),te=()=>o(962730),oe=()=>o(227440),ne=()=>o(630116),ie=()=>o(691093),se=()=>o(990402),ae=o(474848);const re=(0,d().YK)({openAdvancedBuilder:{id:"workflows.topbar.workflowEditorButton.openAdvancedBuilder",defaultMessage:"Open advanced builder"}});function le(e){let{store:t,tooltipMessage:o,icon:r,onClick:l}=e;const c=(0,i().v3)(),u=(0,d().tz)(),g=(0,a().IS)((()=>({button:{height:28,width:32,padding:0,display:"flex",alignItems:"center",justifyContent:"center",marginRight:2}})),[]),p=(0,s().K8)((()=>{const{currentSpaceStore:e}=j().default.state;if(e)return t?{table:$().ev,id:t.pointer.id,spaceId:e.id}:{table:G().NX,id:e.id,spaceId:e.id}}),[t]),[{value:m}]=(0,z().Yb)((async()=>{if(!p||!oe().A.state.online)return;const e=await J().callApi({eventName:"getInferenceTranscriptsForUser",environment:c,data:{threadParentPointer:p}});if("failed"===e.type)return;const o=e.data.transcripts.at(0);if(!o)return;const n=ne().Ei.createChildStore(t,{table:Z().To,id:o.id,spaceId:t.getSpaceId()});await n.load();const i=n.getMessageStores().at(-1);if(!i)return;await i.load();return i.getCreatedTime()>Date.now()-X().Xb?n.id:void 0}),[p,c,t]),f=(0,n.useCallback)((()=>{l(m)}),[l,m]);return(0,ae.jsx)(ee().A,{placement:te().W.Bottom,originGap:c.device.isElectronWindows?10:void 0,renderTooltip:()=>(0,ae.jsx)(d().sA,{...o}),render:e=>(0,ae.jsx)(Q().p,{...e,onClick:f,style:g.button,"aria-label":u.formatMessage(o),children:(0,ae.jsx)(q().I,{icon:r,size:"lg"})})})}function de(e){const t=(0,i().v3)(),o=(0,n.useCallback)((o=>{(0,ie().showWorkflowEditor)({environment:t,parentStore:e.store,navigationState:{isOpen:!0,type:"agent"},chatSidebarState:o?{isOpen:!0,threadId:o}:{isOpen:!0,isNewThread:!0}})}),[t,e.store]);return(0,s().K8)((()=>(0,se().m)(e.store)),[e.store])?(0,ae.jsx)(le,{...e,tooltipMessage:re.openAdvancedBuilder,icon:Y().gearIcon,onClick:o}):null}var ce=()=>o(67696),ue=()=>o(764172),ge=()=>o(965833),pe=()=>o(487146),me=()=>o(488134),fe=()=>o(126126),ve=()=>o(277201),Se=()=>o(568394),be=()=>o(586252),he=()=>o(863059);const ye=3;function xe(e){const t=(0,i().v3)(),{device:o}=t,g=(0,d().tz)(),{store:M}=e,W=(0,s().K8)((()=>M.canEdit()),[M]),[z,Y]=(0,s().$y)(void 0,v().A),[$,G]=(0,n.useState)(!1),Z=(0,s().K8)((()=>b().sj(M.id)),[M]),{currentSpaceStore:X,currentSpaceViewStore:J,pageVisitStore:Q,presenceStore:q}=(0,s().O$)(j().default),ee=(0,s().K8)((()=>{var e;return null===(e=A().Uv.getStateForBlock(M.id))||void 0===e?void 0:e.mode}),[M]),te=(0,s().K8)((()=>(0,I().Nh)(M.id)),[M]),oe=(0,s().K8)((()=>(0,w().y)(t)),[t]),{isTeamPost:ne,isFormBlock:ie,isPageBlock:se,isEOIPBlock:re}=(0,s().K8)((()=>({isTeamPost:M.isTeamPost(),isFormBlock:M.isFormBlock(),isPageBlock:M.isPageBlock(),isEOIPBlock:M.isExternalObjectInstancePageBlockStore()})),[M]),le=(0,x().X)("comment_sidebar_for_you"),xe=(0,s().K8)((()=>!le&&Ie({canEditPage:W,device:o,isFormBlock:ie,isPersonalHomePage:te,isTranslated:"translate_locked"===ee})),[le,W,o,ee,ie,te]),we=(0,s().K8)((()=>Boolean(X&&!X.canEdit())),[X]),Be=(0,s().K8)((()=>(0,T().Nk)(t)),[t]),Te=(0,s().K8)((()=>(0,u().xK)(t,!1)<1150),[t]),Ce=(0,s().K8)((()=>ke({isSpaceGuest:we,canEditPage:W,isFormBlock:ie,isPersonalHomePage:te,isTranslated:"translate_locked"===ee})),[we,W,ie,te,ee]);(0,n.useEffect)((()=>{G(!Be)}),[Be]);const{canShowUpdateSidebarUnexpander:je,shouldShowUpdateSidebarUnexpander:Ae}=(0,s().K8)((()=>{const e=!$&&Be;return{canShowUpdateSidebarUnexpander:e,shouldShowUpdateSidebarUnexpander:e&&(C().Ay.state.mouseEntered||z.mouseEntered)}}),[$,Be,z]),Pe=(0,s().K8)((()=>je?C().Ay.state.width:void 0),[je]),{sidebarExpanded:Me,sidebarIsAnimating:_e}=(0,s().K8)((()=>({sidebarExpanded:C().Ay.state.expanded,sidebarIsAnimating:C().Ay.state.isAnimating})),[]),Ee=(0,s().O$)(b().$o),Fe=(0,s().K8)((()=>(0,ue().xG)({device:o,isPersonalHomePage:te,isFormBlock:ie,store:M})),[o,te,ie,M]),Le=(0,s().O$)(S().gZ),{suggestTranslation:De,suggestedPageTranslationLanguage:Ke,detectedPageLanguage:Ue,setTranslationSuggestionDismissed:We}=(0,be().V)(M),Ve=(0,s().K8)((()=>!o.isMobile&&!te&&!ie),[o.isMobile,te,ie]),Oe=(0,s().K8)((()=>!o.isMobile&&(se||re)&&!ie),[o.isMobile,se,ie,re]),Re=(0,s().O$)(P().b),He=(0,y().i0)(M),Ne=function(e){let{spaceId:t}=e;const o=(0,i().v3)(),[s]=(0,n.useState)(new(O().A));return(0,n.useEffect)((()=>{if(!t)return;(0,R().XC)({environment:o,spaceId:t}).then((e=>H({spaceId:t,trustedDomainsStore:s,trustedDomains:e,value:0})));const e=V().Ay.addListener((0,U()._i)({spaceId:t}),void 0,(async e=>{let{value:n}=e;if(s.shouldRefetchTrustedDomains({currentSpaceId:t,emitValue:n})){const e=await(0,R().XC)({environment:o,spaceId:t});H({spaceId:t,trustedDomainsStore:s,trustedDomains:e,value:n})}}),void 0,o);return()=>{e&&V().Ay.removeListener(e,o)}}),[o,t,s]),s}({spaceId:null==X?void 0:X.id}),ze=(0,he().Nq)(),Ye=(0,a().IS)((()=>({actionButtonsWrapStyle:{flexGrow:0,flexShrink:0,display:"flex",alignItems:"center",paddingRight:o.isMobile?4:0,paddingLeft:ze,width:Pe,justifyContent:"space-between",zIndex:101,height:l().ek(t.device.isElectronMac),opacity:Ee?0:1,transition:`\n\t\t\t\t\topacity ${ge().L}ms,\n\t\t\t\t\tcolor ${ge().L}ms\n\t\t\t\t`},rightButtonsContainer:{display:"flex",alignItems:"center"},pageFreshnessContainer:Ce?{}:{marginRight:12}})),[o.isMobile,ze,Pe,t.device.isElectronMac,Ee,Ce]);if(e.isInvalidPage)return null;const $e=(!o.isElectronMac||!Ee)&&je&&(o.isElectron||Ae)&&!_e;return(0,ae.jsx)(N().U.Provider,{value:Ne,children:(0,ae.jsxs)("div",{style:Ye.actionButtonsWrapStyle,onMouseMove:()=>{Y({...z,mouseEntered:!0})},onMouseLeave:()=>{Y({...z,mouseEntered:!1})},className:h()._6K,children:[$e?(0,ae.jsx)(ve().i,{isVisible:$e,icon:r().O,caption:g.formatMessage({defaultMessage:"Close panel",id:"updateSidebarUnexpandButton.closePanel.tooltip"}),onClick:()=>{G(!0),B().setUpdateExpand({environment:t,isExpanded:!1,from:"close_for_space",saveDetailsSidebarPreference:!0})},keyboardShortcutName:"toggleUpdateSidebar"}):(0,ae.jsx)("div",{}),(0,ae.jsxs)("div",{style:Ye.rightButtonsContainer,children:[Ke&&Ue?(0,ae.jsx)(K().Z6,{store:M,isVisible:De,setTranslationSuggestionDismissed:()=>We(!0),suggestedPageTranslationLanguage:Ke,detectedPageLanguage:Ue}):void 0,(0,ae.jsx)(f().M,{store:M,isVisible:"suggest"===ee&&!ie}),te||ie||Le||De||"suggest"===ee?void 0:(0,ae.jsx)(ce().y,{store:M,isExpanded:Be,isWindowSmall:Te,isElectron:o.isElectron,style:Ye.pageFreshnessContainer,isShowingTabBar:Re}),W&&!ne&&Q&&q&&!ie&&!oe?(0,ae.jsx)(fe().Ay,{rootStore:M,pageVisitStore:Q,presenceStore:q,maxUsers:Me?ye:void 0}):void 0,Ce?(0,ae.jsx)(m().E,{store:M,buttonPopupStore:L().A}):void 0,Oe?(0,ae.jsx)(me().n,{blockStore:M,buttonPopupStore:E().A,pageViewBlockContext:_().Rr.Frame}):void 0,Fe?(0,ae.jsx)(ue().Ay,{blockStore:M}):void 0,xe?(0,ae.jsx)(Se().Ay,{blockStore:M,spaceStore:X,buttonPopupStore:D().A}):void 0,He||ie||"translate_locked"===ee?void 0:(0,ae.jsx)(pe().TopbarFavoriteButton,{store:M,spaceViewStore:J}),Z?(0,ae.jsx)(k().A,{}):void 0,ie?(0,ae.jsx)(c().A,{formBlockStore:M,inPeekMode:!1}):void 0,(0,ae.jsx)(de,{store:M}),Ve?(0,ae.jsx)(p().u,{store:M,buttonPopupStore:F().A}):void 0]})]})})}function ke(e){const{canEditPage:t,isSpaceGuest:o,isFormBlock:n,isPersonalHomePage:i,isTranslated:s}=e;return!!g().A.isAdminMode||!(n||i||s)&&(!o||t)}function Ie(e){const{canEditPage:t,device:o,isFormBlock:n,isPersonalHomePage:i,isTranslated:s}=e;return!!g().A.isAdminMode||!(n||i||s||!t||o.isPhone||o.isTablet)&&"on"!==M().default.getEligibleGroup({experimentId:"remove_updates_topbar_button_v2",defaultGroup:"control"})}},869609:(e,t,o)=>{o.d(t,{u:()=>s});var n=()=>o(645873);const i=new(n().O2)("topbarMoreButton",(async()=>await Promise.all([o.e(75134),o.e(9304),o.e(16471),o.e(58550),o.e(44711),o.e(53321),o.e(90825),o.e(96346),o.e(55373),o.e(37353),o.e(29151),o.e(78191),o.e(62475),o.e(3151),o.e(98629),o.e(49889),o.e(97727),o.e(22900),o.e(85128),o.e(95555),o.e(14659),o.e(92845),o.e(84468),o.e(5605),o.e(48486),o.e(95794),o.e(13677),o.e(56952),o.e(48632),o.e(74562),o.e(27711),o.e(4422),o.e(11341),o.e(46414),o.e(95168),o.e(28271),o.e(34877),o.e(36908),o.e(17254),o.e(84185),o.e(32421),o.e(15315),o.e(24587),o.e(78708),o.e(43777),o.e(74752),o.e(91194),o.e(81197),o.e(98659),o.e(20502),o.e(6266),o.e(8184),o.e(83884),o.e(65881),o.e(99809),o.e(93282),o.e(43678),o.e(15019),o.e(90978),o.e(3910),o.e(77213),o.e(6912),o.e(21194),o.e(30291),o.e(39541),o.e(12913),o.e(45620),o.e(54220),o.e(19930),o.e(81768),o.e(58102),o.e(52836),o.e(26483),o.e(19687),o.e(6463),o.e(68137),o.e(50569),o.e(40925),o.e(24975),o.e(282),o.e(87250),o.e(93847),o.e(79928),o.e(7203),o.e(61349),o.e(55197),o.e(94256),o.e(76690),o.e(29669),o.e(24930),o.e(62573),o.e(33882),o.e(44763),o.e(1440),o.e(5044),o.e(31782),o.e(93449),o.e(63996),o.e(895),o.e(66559),o.e(35986),o.e(45683),o.e(78862),o.e(38536),o.e(92924),o.e(64819),o.e(67378),o.e(40186),o.e(97339),o.e(55717),o.e(63797),o.e(56352),o.e(52811),o.e(28398),o.e(21367),o.e(65351),o.e(22686),o.e(4112),o.e(31889),o.e(36009),o.e(81973),o.e(2600),o.e(77663),o.e(97832),o.e(75681)]).then(o.bind(o,705630)))),s=(0,n()._h)(i,(e=>e.TopbarMoreButton))},978578:(e,t,o)=>{o.d(t,{MS:()=>r,aD:()=>a,bu:()=>s,uO:()=>i,uZ:()=>l});var n=()=>o(628182);function i(){return{flex:1,marginLeft:!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?0:8,overflow:"hidden",marginRight:arguments.length>1&&void 0!==arguments[1]&&arguments[1]?16:8,whiteSpace:"nowrap",height:"100%",minWidth:0,maxWidth:"100%",textOverflow:"ellipsis"}}const s=36;function a(e){return{iconStyle:{height:26,width:26,fill:e.icon.primary},iconContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",marginRight:14,color:e.icon.secondary,width:26},redesignedIconStyle:{height:24,width:24,fill:e.icon.primary},redesignedCircleIconContainer:{background:e.surface.page,color:e.icon.primary,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:18,width:s,height:s},redesignedCoverPhotoIconContainer:{background:e.surface.page,color:e.icon.primary,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:18,width:s,height:s,boxShadow:"0px 2px 4px -1px rgba(0, 0, 0, 0.06), 0px 14px 28px -6px rgba(0, 0, 0, 0.10)"}}}function r(e){const{WindowSizeStore:t}=e;return{marginTop:t.state.paddingTop,paddingLeft:t.getSafePaddingLeftPx(0),paddingRight:t.getSafePaddingRightPx(0)}}function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n().s1,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=1/(window.devicePixelRatio||1);return{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%",maxWidth:"100%",height:t,boxShadow:o?`0 ${i}px 0 ${e.regularDividerColor}`:"none",background:e.contentBackground,transition:"box-shadow 300ms",WebkitUserSelect:"none",cursor:"pointer"}}}}]);