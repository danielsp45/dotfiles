"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[37062],{745364:(t,o,r)=>{r.r(o),r.d(o,{PostImportIntroPopup:()=>v,trackImportOnboardingTourProgress:()=>S});var e=r(296540),n=()=>r(484714),a=()=>r(56366),s=()=>r(543906),i=()=>r(959013),p=()=>r(812182),u=()=>r(751156),l=()=>r(755199),m=()=>r(2220),d=()=>r(299487),c=()=>r(765957),g=()=>r(92513);const _=(0,i().YK)({titleForIntroToast:{id:"PostImportIntroPopup.titleForIntroToast",defaultMessage:"Project Management in Notion"},descriptionForIntroToast:{id:"PostImportIntroPopup.descriptionForIntroToast",defaultMessage:"Your newly imported Asana projects are here. Want to learn more about how to use Notion Projects and Tasks?"},primaryButton:{id:"PostImportIntroPopup.primaryButton",defaultMessage:"Take the tour"}}),I="post_import_intro_toast";function v(){const t="asana_post_import_tour",o=(0,n().v3)(),{inAppCalloutStore:r,currentUserSettingsStore:m}=(0,a().K8)((()=>({currentUserSettingsStore:c().default.state.currentUserSettingsStore,inAppCalloutStore:c().default.state.inAppCalloutStore})),[]),v=(0,a().K8)((()=>{var o,e;return!0===(null===(o=c().default.state.mainEditorCurrentBlockStore)||void 0===o?void 0:o.getFormat().is_asana_imported_project)&&!0!==(null==m||null===(e=m.getSettings())||void 0===e?void 0:e.seen_asana_post_import_tour)&&r.getCalloutVisibility(t).canShow}),[r,m]),f=(0,e.useCallback)((()=>{l().Hw({environment:o}),d().a(o,t)}),[o]),P=(0,e.useCallback)((()=>{m&&u().createAndCommit({userAction:"PostImportIntroPopup.startOnboardingTour",environment:o,canUndo:!0,perform:t=>{var o;l().mJ({transaction:t,userSettingsStore:m,data:{tutorials:{...null==m||null===(o=m.getSettings())||void 0===o?void 0:o.tutorials,"project-management-import-onboarding":"your-teamspace-tooltip"}}})}}),g().A.setState({...g().A.state,showOnboardingTour:!0})}),[m,o]),T=(0,i().tz)(),b=(0,e.useMemo)((()=>function(t){const{intl:o,onDismiss:r,primaryActionHandler:e}=t;return{presentationType:"persistent",id:I,title:o.formatMessage(_.titleForIntroToast),message:o.formatMessage(_.descriptionForIntroToast),actions:{primary:{title:o.formatMessage(_.primaryButton),onAction:e}},onDismiss:r}}({intl:T,onDismiss:()=>{f(),S(o,{importer:"asana",action:"dismissed",progress:0,callout_id:t,from:"imported_page"})},primaryActionHandler:()=>{S(o,{importer:"asana",action:"start",progress:0,callout_id:t,from:"imported_page"}),P(),f(),p().UW(I)}})),[T,f,o,P]);return(0,s().A)((()=>{p().HK(b)}),v),null}function S(t,o){return(0,m().u)({environment:t,event:{eventName:"import_projects_onboarding",eventProperties:o}})}}}]);