"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[20108,47381],{15897:(e,t,n)=>{n.d(t,{A:()=>d});n(581454),n(296540);var r=()=>n(401497),i=()=>n(962730),o=()=>n(704152),a=()=>n(859428),s=n(474848);function l(e){const{isFirst:t,isLast:n,isSelected:l,item:d,itemStyle:c,selectedItemStyle:u,innerStyle:p,children:g,colors:m,onClick:h}=e,{isDisabled:f,tooltip:x}=d,y=(0,r().IS)((e=>{const r=(null==m?void 0:m.selectedOutline)??e.blueColor,i=(null==m?void 0:m.unselectedOutline)??e.selectorBorderUnselected;return{SegmentedItem:{alignItems:"center",background:l?null==m?void 0:m.selectedBackground:void 0,borderBottomLeftRadius:t?3:0,borderBottomRightRadius:n?3:0,borderColor:l?r:i,borderStyle:"solid",borderTopLeftRadius:t?3:0,borderTopRightRadius:n?3:0,borderWidth:1,cursor:f?void 0:"pointer",display:"flex",flexBasis:"50%",marginLeft:t?0:-1,padding:0,userSelect:"none",zIndex:l?10:0,...c,...l?u:void 0},Inner:{borderBottomLeftRadius:t?2:0,borderBottomRightRadius:n?2:0,borderColor:l?r:"transparent",borderStyle:"solid",borderTopLeftRadius:t?2:0,borderTopRightRadius:n?2:0,borderWidth:1,display:"flex",flexDirection:"column",height:"100%",justifyContent:"center",padding:"12px 20px",textAlign:"center",width:"100%",...p}}}),[null==m?void 0:m.selectedBackground,null==m?void 0:m.selectedOutline,null==m?void 0:m.unselectedOutline,t,n,l,f,c,u,p]),b=()=>{h&&h(d.key)};return(0,s.jsx)(a().A,{render:e=>(0,s.jsx)(o().A,{ariaLabel:d.ariaLabel,"aria-pressed":l,onClick:b,style:y.SegmentedItem,disabled:f,...e,children:(0,s.jsx)("div",{style:y.Inner,children:g})}),renderTooltip:()=>(0,s.jsx)("div",{children:x}),disableTooltip:l||void 0===x,placement:i().W.Bottom})}function d(e){const{items:t=[],itemStyle:n,selectedItemStyle:i,innerStyle:o,outerStyle:a,value:d,onChange:c,colors:u}=e,p=(0,r().IS)((e=>({SegmentedButton:{background:e.cardContentBackground,display:"flex",width:"100%",...a}})),[a]);return 0===t.length?null:(0,s.jsx)("div",{style:p.SegmentedButton,children:t.map(((e,r)=>(0,s.jsx)(l,{isFirst:0===r,isLast:r===t.length-1,isSelected:e.key===d,item:e,itemStyle:n,selectedItemStyle:i,innerStyle:o,colors:u,onClick:c,children:e.render()},e.key)))})}},27716:(e,t,n)=>{n.d(t,{Ft:()=>A,HN:()=>v,MA:()=>x,Sk:()=>b,Yn:()=>k,e9:()=>f,eJ:()=>I,su:()=>S});n(944114),n(898992),n(672577),n(737550);var r=()=>n(326215),i=()=>n(762433),o=()=>n(47273),a=()=>n(979340),s=()=>n(959013),l=()=>n(972435),d=()=>n(324561);const c=(0,s().YK)({cancellationError:{id:"midtermSubscriptionHelpers.cancellationFailed",defaultMessage:"There was an error attempting to cancel your pending changes. Please try again."},unableToCancelError:{id:"midtermSubscriptionHelpers.unableToCancel",defaultMessage:"We cannot cancel your scheduled changes right now. Please contact support for more help."},cancellationSuccess:{id:"midtermSubscriptionHelpers.cancellationSucceeded",defaultMessage:"Pending changes have been canceled"},invalidSubscriptionId:{id:"midtermSubscriptionHelpers.invalidSubscriptionId",defaultMessage:"Unable to cancel your pending changes. Something was wrong with your pending subscription changes."}});function u(e){return(0,a().dL)(e)?"free":(0,a().wb)(e)?"education":(0,a().sP)(e)?"singlePlayerPlus":(0,a().$P)(e)?"plus":(0,a().tL)(e)?"business":(0,a().OX)(e)?"enterprise":"legacy"}const p=(0,s().YK)({freePlan:{defaultMessage:"Free Plan",id:"freePlan.title"},educationPlusPlan:{defaultMessage:"Education Plus Plan",id:"educationPlusPlan.title"},plusPlan:{defaultMessage:"Plus Plan",id:"plusPlan.title"},businessPlan:{id:"businessPlan.title",defaultMessage:"Business Plan"},enterprisePlan:{defaultMessage:"Enterprise Plan",id:"enterprisePlan.label"},legacyPlan:{defaultMessage:"Legacy Plan",id:"legacyPlan.label"}}),g={free:{planTitle:p.freePlan},singlePlayerPlus:{planTitle:p.plusPlan},education:{planTitle:p.educationPlusPlan},plus:{planTitle:p.plusPlan},business:{planTitle:p.businessPlan},enterprise:{planTitle:p.enterprisePlan},legacy:{planTitle:p.legacyPlan}},m=(0,s().YK)({notionAI:{defaultMessage:"Notion AI",id:"notionAI.title"},removeAI:{defaultMessage:"Remove AI",id:"notionAI.remove.title"}}),h=(0,s().YK)({month:{defaultMessage:"Monthly billing",id:"billingInterval.monthly"},year:{defaultMessage:"Annual billing",id:"billingInterval.annual"}});function f(){return l().A.formatMessage(c.unableToCancelError)}function x(){return l().A.formatMessage(c.cancellationSuccess)}function y(e){var t;const n=null==e||null===(t=e.subscription)||void 0===t?void 0:t.pending;if(!n)return;const r=(0,i().PP)(e),a=(0,i().lQ)(e);return{oldTier:(0,o().Gf)(r)??"free",newTier:(0,o().Gf)(a)??"free",oldAIAddOn:(0,o().V_)(r).find((e=>"ai"===e)),newAIAddOn:(0,o().V_)(a).find((e=>"ai"===e)),oldInterval:(0,o().yw)(r),newInterval:(0,o().yw)(a),phaseOneEndDate:n.startDate}}function b(e){const t=y(e);return!(!t||!t.newInterval)&&t.oldInterval!==t.newInterval}function v(e){const t=y(e);return!!t&&t.oldTier!==t.newTier}function S(e){const t=y(e),n=[];if(!t)return{scheduledChanges:n,periodEndDate:null};const{newTier:r,oldTier:i,oldAIAddOn:o,newAIAddOn:a,oldInterval:s,newInterval:d,phaseOneEndDate:c}=t;var p,f;return i!==r&&n.push(function(e,t){const n=u(e),r=l().A.formatMessage(g[n].planTitle);if(!t)return"";const i=u(t);return`${r} → ${l().A.formatMessage(g[i].planTitle)}`}(i,r)),o!==a&&n.push((p=o,f=a,`${l().A.formatMessage(p?m.notionAI:m.removeAI)} → ${l().A.formatMessage(f?m.notionAI:m.removeAI)}`)),s!==d&&n.push(function(e,t){return e&&t?`${l().A.formatMessage("month"===e?h.month:h.year)} → ${l().A.formatMessage("month"===t?h.month:h.year)}`:""}(s,d)),{scheduledChanges:n,periodEndDate:c}}function A(e,t){if(!e)return;const n=(0,i().PP)(e).items,r=(0,i().lQ)(e).items;var o;return(0,i().HO)(n,r).some((e=>{let[n,r]=e;return(0,i().IE)(n??r)===t&&n&&!r}))?null===(o=e.subscription)||void 0===o||null===(o=o.pending)||void 0===o?void 0:o.startDate:void 0}function I(e){let{billingData:t}=e;const n=(0,d().a9)(t);if(!n)return!1;if((0,i().et)(t))return!1;const r=(0,i().bO)(n),o=(0,i().N8)(null==n?void 0:n.subscription);return!r&&!o}function k(e){const t=(0,i().V9)(e),n=(0,i().ji)(e).length>0;return!t||(!r().xd.includes(t)||!(!n||!r().iV.includes(t)))}},47273:(e,t,n)=>{n.d(t,{DS:()=>i,Fe:()=>d,GB:()=>a,Gf:()=>u,V_:()=>c,j1:()=>l,j8:()=>o,yp:()=>p,yw:()=>s});var r=()=>n(762433);function i(e){return(0,r().Fq)({subscription:e})}function o(e){return(0,r().Ry)({clock:void 0,subscription:e,trial:void 0})}function a(e){let{subscriptionState:t,logFunction:n,spaceId:i}=e;const o=g(t);return(0,r().yB)({billingData:{clock:void 0,subscription:o,trial:void 0},logFunction:n,spaceId:i})}function s(e){return(0,r().q8)({subscription:e})}function l(e){return(0,r().V9)({clock:void 0,subscription:g(e),trial:void 0})}function d(e){return(0,r().d$)({clock:void 0,subscription:g(e),trial:void 0})}function c(e){return(0,r().ji)({clock:void 0,subscription:g(e),trial:void 0})}function u(e){return(0,r().AI)({clock:void 0,subscription:g(e),trial:void 0})}function p(e,t){return(0,r().KH)({clock:void 0,subscription:g(e),trial:void 0},t)}function g(e){return e?{...e,trialEnd:void 0}:void 0}},86089:(e,t,n)=>{n.d(t,{o:()=>d});var r=n(296540),i=()=>n(484714),o=()=>n(56366),a=()=>n(765957),s=()=>n(779795),l=()=>n(981046);function d(){const e=(0,i().v3)(),{spaceId:t,isGuest:n}=(0,o().K8)((()=>{const e=a().default.state.currentSpaceStore,t=null==e?void 0:e.getPublicSpaceData();return{spaceId:null==e?void 0:e.id,isGuest:"none"===(null==t?void 0:t.role)}}),[]);return(0,r.useEffect)((()=>{t&&!n&&(0,s().$W)({environment:e,spaceId:t})}),[e,t,n]),(0,o().K8)((()=>l().A.state.prices),[])}},112527:(e,t,n)=>{n.r(t),n.d(t,{getLegacyStripeAppearance:()=>k,getStripe:()=>v,injectStripe:()=>b,optionalPaymentMethodIdGivenPaymentData:()=>w,optionalStripeTokenGivenPaymentData:()=>j,stripeElementLocaleGivenNotionLocale:()=>S,translateStripeError:()=>I,useElementsOptions:()=>A});var r=()=>n(624119),i=()=>n(37458),o=n(296540),a=()=>n(484714),s=()=>n(56366),l=()=>n(401497),d=()=>n(402390);var c=()=>n(798880),u=()=>n(807487),p=()=>n(534177),g=()=>n(284371),m=()=>n(780054),h=()=>n(765957),f=()=>n(217429),x=n(474848);let y=null;function b(e){return function(t){const[n]=o.useState(v);return(0,x.jsx)(r().Elements,{stripe:n,children:(0,x.jsx)(r().ElementsConsumer,{children:n=>{let{stripe:r,elements:i}=n;const o={...t,stripe:r,elements:i};return(0,x.jsx)(e,{...o})}})})}}async function v(){return y||(i().loadStripe.setLoadParameters({advancedFraudSignals:!1}),y=(0,i().loadStripe)(m().A.stripe.key)),y}function S(e){switch(e){case"en-US":return"en";case"ko-KR":return"ko";case"ja-JP":return"ja";case"fr-FR":return"fr-FR";case"de-DE":return"de";case"es-ES":return"es-ES";case"es-LA":return"es-419";case"pt-BR":return"pt-BR";case"zh-CN":return"zh";case"zh-TW":return"zh-TW";case"da-DK":return"da";case"nl-NL":return"nl";case"fi-FI":return"fi";case"nb-NO":return"nb";case"sv-SE":return"sv";default:return"auto"}}function A(e){const t=(0,l().DP)(),n=(0,a().v3)(),{type:r}=e,i="setup"===r||"subscription"===r?e.currency:void 0,m="subscription"===r?e.amount:void 0,x=(0,s().K8)((()=>{var e;return(null===(e=h().default.state)||void 0===e||null===(e=e.currentUserSettingsStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.preferred_locale)||d().q}),[]),y=(0,s().K8)((()=>"KRW"===i&&function(e){const{experimentService:t,actor:n}=e;return t.checkGate({actor:n,gateName:"kr_card_payment_method"})}({experimentService:f().default,actor:{table:c().oo,id:n.currentUser.id??""}})),[n.currentUser,i]);return(0,o.useMemo)((()=>{const e=function(e){const t=C(e.text.primary),n=C(e.text.secondary),r=C(e.text.tertiary),i=C(e.text.uiRedPrimary),o=C(e.text.uiBluePrimary),a=C(e.icon.contrast),s=C(e.whiteButtonBackground);return{labels:"above",theme:"dark"===e.mode?"night":"stripe",variables:{spacingGridRow:"12px",spacingGridColumn:"12px",spacingUnit:"4px",spacingTab:"6px",colorPrimary:t,colorPrimaryText:t,colorText:t,colorTextSecondary:n,colorTextPlaceholder:r,colorIcon:t,colorIconCheckmark:a,colorDanger:i,colorBackground:s,colorIconTabHover:t,colorIconTabSelected:o,colorIconChevronDown:t,fontFamily:g().Tf.sans,fontWeightLight:`${g().Wy.light}`,fontWeightNormal:`${g().Wy.regular}`,fontWeightMedium:`${g().Wy.medium}`,fontWeightBold:`${g().Wy.medium}`,fontSizeBase:"14px",fontSizeSm:"12px",colorLogo:e.mode,colorLogoBlock:e.mode,colorLogoTab:e.mode,colorLogoTabSelected:e.mode,borderRadius:"6px"},rules:{".Tab":{padding:"10px 16px 10px 10px",fontSize:"13px",fontWeight:"500",lineHeight:"16px",color:t,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",backgroundColor:e.whiteButtonBackground},".Tab:hover":{backgroundColor:e.whiteButtonHoveredBackground},".Tab:focus":{boxShadow:e.buttonBlueFocusRing},".Tab--selected, .Tab--selected:active":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,color:t,boxShadow:"none",outline:"none"},".Tab--selected:hover":{backgroundColor:e.whiteButtonBackground,color:t},".Tab--selected:focus":{border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:e.buttonBlueFocusRing},".Input":{fontSize:"14px",lineHeight:"18px",padding:"7px 8px",backgroundColor:e.surface.wash,boxShadow:`0 0 0 1px ${e.stroke.primary}`,border:"none",color:t},".Input--invalid":{color:t,boxShadow:e.inputRedFocusRing},".Input:focus":{color:t,boxShadow:e.inputBlueFocusRing},".Label":{fontSize:"12px",lineHeight:"15px",fontWeight:"500",color:n,marginBottom:"8px"},".Error":{fontSize:"12px",fontWeight:"400",lineHeight:"15px",color:i},".CodeInput":{backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem, .PickerItem--selected":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:t},".PickerItem:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:t,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem--selected:hover":{boxShadow:"none"},".PickerItem--new":{fontSize:"14px",fontWeight:"500",lineHeight:"18px",color:t},".PickerItem--highlight, .PickerItem--highlight:hover":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:"none"},".PickerItem--highlight:hover":{backgroundColor:e.whiteButtonHoveredBackground},".TermsText":{color:n,fontSize:"10px",fontWeight:"400",lineHeight:"13px",letterSpacing:"0.12px"},".CheckboxLabel":{color:t,fontSize:"12px",fontWeight:"500",lineHeight:"15px"},".Action, .MenuAction":{color:t,fontWeight:"400",padding:"4px 8px"},".Action:hover, .MenuAction:hover":{backgroundColor:e.buttonHoveredBackground},".BlockAction:focus, .CodeInput:focus, .Input:focus,.CheckboxInput:focus, .PickerItem:focus, .PickerAction:focus,.MenuAction:focus, .Action:focus, .SecondaryLink:focus":{boxShadow:e.buttonBlueFocusRing},".MenuIcon, .MenuIcon:hover":{fill:t},".Block":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",padding:"16px"},".Icon":{fill:t}}}}(t),n={appearance:e,locale:S(x)},o={paymentMethodTypes:(0,u().VV)({currency:i,isKrCardFeatureGateEnabled:y})};switch(r){case"address":return n;case"setup":return{...n,...o,currency:null==i?void 0:i.toLowerCase(),mode:"setup",paymentMethodCreation:"manual"};case"subscription":return{...n,...o,amount:m,currency:null==i?void 0:i.toLowerCase(),mode:"subscription",paymentMethodCreation:"manual",setupFutureUsage:"off_session",loader:"never"};default:(0,p().HB)(r)}}),[t,x,i,y,r,m])}function I(e,t){if(!t.code)return t.message||"";switch(t.code){case"invalid_expiry_year_past":return e.formatMessage({id:"stripeHelpers.invalidExpiryYear.error.message",defaultMessage:"Your card's expiration year is in the past."});case"invalid_cvc":return e.formatMessage({id:"stripeHelpers.invalidCVC.error.message",defaultMessage:"Your card's security code is invalid."});case"invalid_number":return e.formatMessage({id:"stripeHelpers.invalidNumber.error.message",defaultMessage:"Your card number is not a valid credit card number."});case"card_declined":return function(e,t){switch(t){case"expired_card":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.expiredCard",defaultMessage:"Your card was declined because it is an expired card."});case"incorrect_number":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.incorrectNumber",defaultMessage:"Your card was declined because you input an incorrect number."});case"insufficient_funds":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.declinedFunds",defaultMessage:"Your card was declined because of insufficient funds."});case"invalid_cvc":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidCvc",defaultMessage:"Your card was declined because you input an invalid CVC number"});case"invalid_amount":return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message.invalidAmount",defaultMessage:"Your card was declined because payment amount exceeds the amount that's allowed."});default:return e.formatMessage({id:"stripeHelpers.cardDeclined.error.message",defaultMessage:"Your card was declined."})}}(e,t.decline_code);default:return t.message||""}}function k(e){return{labels:"floating",theme:"dark"===e.mode?"night":"stripe",variables:{spacingGridRow:"8px",spacingGridColumn:"8px",spacingUnit:"4px",spacingTab:"4px",colorPrimary:e.text.primary,colorPrimaryText:e.text.primary,colorText:e.text.primary,colorTextSecondary:e.text.secondary,colorTextPlaceholder:e.text.tertiary,colorIcon:e.text.primary,colorIconCheckmark:e.icon.contrast,colorDanger:e.text.uiRedPrimary,colorBackground:e.whiteButtonBackground,colorIconTabHover:e.text.primary,colorIconTabSelected:e.text.uiBluePrimary,colorIconChevronDown:e.text.primary,fontFamily:g().Tf.sans,fontWeightLight:`${g().Wy.light}`,fontWeightNormal:`${g().Wy.regular}`,fontWeightMedium:`${g().Wy.medium}`,fontWeightBold:`${g().Wy.semibold}`,fontSizeBase:"14px",fontSizeSm:"12px",colorLogo:e.mode,colorLogoBlock:e.mode,colorLogoTab:e.mode,colorLogoTabSelected:e.mode,borderRadius:"6px"},rules:{".Tab":{padding:"10px 16px 10px 10px",fontSize:"13px",fontWeight:"510",lineHeight:"16px",color:e.text.primary,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",backgroundColor:e.whiteButtonBackground},".Tab:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:e.text.primary},".Tab:focus":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:e.buttonBlueFocusRing},".Tab--selected, .Tab--selected:hover, .Tab--selected:active":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,color:e.text.primary,boxShadow:"none",outline:"none"},".Tab--selected:focus":{border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:e.buttonBlueFocusRing},".Input":{fontSize:"14px",lineHeight:"18px",padding:"4px 8px",boxShadow:"none",backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,color:e.text.primary},".Input--invalid":{border:"none",color:e.text.primary,boxShadow:e.inputRedFocusRing},".Label":{fontSize:"14px",lineHeight:"18px",color:e.text.tertiary},".Label--floating":{fontSize:"10px",fontWeight:"510",lineHeight:"13px",letterSpacing:"0.12px",marginTop:"4px",transition:"all 200ms ease",color:e.text.secondary},".Error":{fontSize:"12px",fontWeight:"400",lineHeight:"15px",color:e.text.uiRedPrimary},".CodeInput":{backgroundColor:e.surface.wash,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem, .PickerItem--selected":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:e.text.primary},".PickerItem:hover, .PickerItem--selected:hover":{backgroundColor:e.whiteButtonHoveredBackground,color:e.text.primary,border:`1px solid ${e.stroke.primary}`,boxShadow:"none"},".PickerItem--new":{fontSize:"14px",fontWeight:"500",lineHeight:"18px",color:e.text.primary},".PickerItem--highlight, .PickerItem--highlight:hover":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.uiBluePrimary}`,boxShadow:"none"},".PickerItem--highlight:hover":{backgroundColor:e.whiteButtonHoveredBackground},".TermsText":{color:e.text.secondary,fontSize:"12px",fontWeight:"400",lineHeight:"15px"},".CheckboxLabel":{color:e.text.primary,fontSize:"12px",fontWeight:"500",lineHeight:"15px"},".Action, .MenuAction":{color:e.text.primary,fontWeight:"400"},".Action:hover, .MenuAction:hover":{backgroundColor:e.buttonHoveredBackground},".BlockAction:focus, .CodeInput:focus, .Input:focus,.CheckboxInput:focus, .PickerItem:focus, .PickerAction:focus,.MenuAction:focus, .Action:focus, .SecondaryLink:focus":{boxShadow:e.buttonBlueFocusRing},".MenuIcon, .MenuIcon:hover":{fill:e.text.primary},".Block":{backgroundColor:e.whiteButtonBackground,border:`1px solid ${e.stroke.primary}`,boxShadow:"none",color:e.text.primary}}}}function C(e){const[t,n,r,i]=e.match(/[\d.]+/g)??[];return t&&n&&r&&i&&1===parseInt(i)?`rgb(${t}, ${n}, ${r})`:e}function j(e){return"stripeToken"===(null==e?void 0:e.type)?e.value:void 0}function w(e){return"paymentMethodId"===(null==e?void 0:e.type)?e.value:void 0}},115562:(e,t,n)=>{n.d(t,{W:()=>l});n(296540);var r=()=>n(819121),i=()=>n(401497),o=()=>n(955825),a=()=>n(677195),s=n(474848);function l(e){const{selectorSize:t="normal",...n}=e,{disabled:l,checked:d}=n,[c,u]=(0,r().A)(),p=function(e){const{checked:t,disabled:n,isFocusVisible:r,selectorSize:o}=e;return(0,i().IS)((e=>({root:{position:"absolute",display:"flex",width:"large"===o?15:11,height:"large"===o?15:11,margin:1.5,justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"large"===o?2:1,transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${n?e.tint.regular:e.blueColor}`,background:n?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${n?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...r&&{boxShadow:e.buttonBlueFocusRing}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"large"===o?18:void 0,height:"large"===o?18:void 0,...n?{pointerEvents:"none"}:{cursor:"pointer"}},icon:{color:e.text.contrastPrimary,width:"large"===o?12:10,height:"large"===o?12:10,ariaHidden:!0}})),[o,t,n,r])}({checked:d,disabled:l,selectorSize:t,isFocusVisible:u});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{ref:c,type:"checkbox",style:p.input,...n}),(0,s.jsx)("span",{...(0,o().AH)(p.root,l?{}:{pseudoActive:p.active}),children:d&&(0,a().R)(p.icon)})]})}},137465:(e,t,n)=>{n.d(t,{Q:()=>a});var r=()=>n(148307),i=()=>n(979340);const o=(0,n(959013).YK)({unlimitedBlocksForIndividuals:{id:"SpaceSubscriptionPlans.includes.unlimitedBlocksForIndividuals",defaultMessage:"Unlimited blocks for individuals"},unlimitedBlocksForTeams:{id:"SpaceSubscriptionPlans.includes.unlimitedBlocksForTeams",defaultMessage:"Unlimited blocks for teams"},unlimitedFileUploads:{id:"SpaceSubscriptionPlans.includes.unlimitedFileUploads",defaultMessage:"Unlimited file uploads"},collaborativeWorkspace:{id:"SpaceSubscriptionPlans.includes.collaborativeWorkspaces",defaultMessage:"Collaborative workspace"},integrations:{id:"SpaceSubscriptionPlans.includes.integrations",defaultMessage:"Slack, GitHub, and more integrations"},pageHistory7Days:{id:"SpaceSubscriptionPlans.includes.pageHistory.7",defaultMessage:"7 day page history"},pageHistory30Days:{id:"SpaceSubscriptionPlans.includes.pageHistory.30",defaultMessage:"30 day page history"},pageHistory90Days:{id:"SpaceSubscriptionPlans.includes.pageHistory.90",defaultMessage:"90 day page history"},pageHistoryUnlimited:{id:"SpaceSubscriptionPlans.includes.pageHistory.unlimited",defaultMessage:"Unlimited page history"},guests10:{id:"SpaceSubscriptionPlans.includes.guests.10",defaultMessage:"Invite up to 10 guests"},guests100:{id:"SpaceSubscriptionPlans.includes.guests.100",defaultMessage:"Invite up to 100 guests"},guests250:{id:"SpaceSubscriptionPlans.includes.guests.250",defaultMessage:"Invite up to 250 guests"},guestsCustom:{id:"SpaceSubscriptionPlans.includes.guests.custom",defaultMessage:"Custom guest limits"},aiCredits:{id:"SpaceSubscriptionPlans.includes.aiCredits",defaultMessage:"10 free AI credits"},samlSSO:{id:"SpaceSubscriptionPlans.includes.saml.sso",defaultMessage:"SAML SSO"},userProvisioning:{id:"SpaceSubscriptionPlans.includes.scim",defaultMessage:"User provisioning (SCIM)"},advancedSecurityControls:{id:"SpaceSubscriptionPlans.includes.advancedSecurityControls",defaultMessage:"Advanced security controls"},auditLog:{id:"SpaceSubscriptionPlans.includes.auditLog",defaultMessage:"Audit log"},privateTeamspaces:{id:"SpaceSubscriptionPlans.includes.privateTeamspaces",defaultMessage:"Private Teamspaces"},bulkPdfExport:{id:"SpaceSubscriptionPlans.includes.bulkPdfExport",defaultMessage:"Bulk PDF export"},customerSuccessManager:{id:"SpaceSubscriptionPlans.includes.customerSuccessManager",defaultMessage:"Customer success manager"}}),a={ai:{imageByMode:{light:r().A.images.pricing.aiLogoPng,dark:r().A.images.pricing.aiLogoPng},originalImage:{path:r().A.images.pricing.aiLogoPng,width:100,height:100},planTitle:i().v0.ai,highlights:[],highlightsWhenComparedWithPlanBelow:[]},sites_custom_hostnames:{imageByMode:{dark:r().A.images.pricing.dark.freePlanPng,light:r().A.images.pricing.light.freePlanPng},originalImage:{path:r().A.images.pricing.original.freePng,width:108,height:146},planTitle:i().v0.sites,highlights:[],highlightsWhenComparedWithPlanBelow:[]},free:{imageByMode:{dark:r().A.images.pricing.dark.freePlanPng,light:r().A.images.pricing.light.freePlanPng},originalImage:{path:r().A.images.pricing.original.freePng,width:108,height:146},planTitle:i().v0.freePlan,highlights:[o.unlimitedBlocksForIndividuals,o.collaborativeWorkspace,o.integrations,o.pageHistory7Days,o.guests10],highlightsWhenComparedWithPlanBelow:[]},personal:{imageByMode:{light:r().A.images.pricing.light.plusPlanPng,dark:r().A.images.pricing.dark.plusPlanPng},originalImage:{path:r().A.images.pricing.original.plusPng,width:163,height:168},planTitle:i().v0.plusPlan,highlights:[o.integrations,o.unlimitedFileUploads,o.pageHistory30Days,o.guests100],highlightsWhenComparedWithPlanBelow:[]},student:{imageByMode:{light:r().A.images.pricing.light.freePlanPng,dark:r().A.images.pricing.dark.freePlanPng},originalImage:{path:r().A.images.pricing.original.freePng,width:108,height:146},planTitle:i().v0.educationPlusPlan,highlights:[o.unlimitedBlocksForIndividuals,o.integrations,o.pageHistory30Days,o.guests100],highlightsWhenComparedWithPlanBelow:[]},plus:{imageByMode:{light:r().A.images.pricing.light.plusPlanPng,dark:r().A.images.pricing.dark.plusPlanPng},originalImage:{path:r().A.images.pricing.original.plusPng,width:163,height:168},planTitle:i().v0.plusPlan,highlights:[o.collaborativeWorkspace,o.integrations,o.unlimitedBlocksForTeams,o.unlimitedFileUploads,o.pageHistory30Days,o.guests100],highlightsWhenComparedWithPlanBelow:[]},business:{imageByMode:{light:r().A.images.pricing.light.businessPlanPng,dark:r().A.images.pricing.dark.businessPlanPng},originalImage:{path:r().A.images.pricing.original.businessPng,width:122,height:146},planTitle:i().v0.businessPlan,highlights:[o.samlSSO,o.privateTeamspaces,o.bulkPdfExport,o.pageHistory90Days,o.guests250],highlightsWhenComparedWithPlanBelow:[]},enterprise:{imageByMode:{light:r().A.images.pricing.light.enterprisePlanPng,dark:r().A.images.pricing.dark.enterprisePlanPng},originalImage:{path:r().A.images.pricing.original.enterprisePng,width:197,height:206},planTitle:i().v0.enterprisePlan,highlights:[o.samlSSO,o.privateTeamspaces,o.bulkPdfExport,o.pageHistoryUnlimited,o.guestsCustom,o.userProvisioning,o.advancedSecurityControls,o.auditLog,o.customerSuccessManager],highlightsWhenComparedWithPlanBelow:[]}}},141273:(e,t,n)=>{n.d(t,{g:()=>l});var r=n(296540),i=()=>n(484714),o=()=>n(47170),a=()=>n(749356),s=()=>n(985315);function l(e){var t;const n=(0,i().v3)(),[l,d]=(0,r.useState)(),c=(0,o().O)(),u=(null===(t=(0,s().g)({spaceId:c}))||void 0===t?void 0:t.length)??0;return(0,r.useEffect)((()=>{!async function(){c&&d(await(0,a().L6)({environment:n,spaceId:c,offerCampaign:e}))}()}),[n,c,e,u]),l}},240865:(e,t,n)=>{n.d(t,{V:()=>o});var r=()=>n(56366),i=()=>n(765957);function o(e){return(0,r().K8)((()=>{var t;return e?e.getMemberCountFromPublicSpaceData()??void 0:(null===(t=i().default.state.currentSpaceStore)||void 0===t?void 0:t.getMemberCountFromPublicSpaceData())??void 0}),[e])}},292119:(e,t,n)=>{n.d(t,{v:()=>a});n(16280),n(296540);var r=()=>n(215087),i=()=>n(643819),o=n(474848);function a(e){return(0,o.jsx)(o.Fragment,{children:s(e)})}function s(e){const{cost:t,intl:n}=e,o=e.trailingZeroDisplay??"auto",a=e.currencySign??"accounting",s=i().W.fromValue(t),l=r().r[s.currencyCode];if(!l)throw new Error(`Unsupported currency code: ${s.currencyCode}`);let d=n.formatNumber(s.amount/Math.pow(10,l.minorUnitDigits),{style:"currency",currency:s.currencyCode,currencyDisplay:"symbol",currencySign:a});return"stripIfInteger"===o&&(d=d.replace(new RegExp(`[.,]0{${l.minorUnitDigits}}(\\s+.*)?$`),"$1")),d}},298697:(e,t,n)=>{n.d(t,{A:()=>s});n(581454);var r=n(296540),i=()=>n(401497),o=()=>n(710149),a=n(474848);function s(e){let{paragraphs:t}=e;const n=(0,i().IS)((e=>({skeletonRect:{borderRadius:4,backgroundColor:e.lightDividerColor}})),[]),s=null==t?void 0:t.map(((e,t)=>{const i={height:e.lineHeight,marginTop:e.lineMargin,marginBottom:e.lineMargin},s={marginTop:e.sectionMargin,marginBottom:e.sectionMargin},l=[...Array(e.repeat||1)].map(((t,r)=>(0,a.jsx)("div",{style:s,children:e.sectionWidths.map(((e,t)=>(0,a.jsx)(o().A,{style:{...n.skeletonRect,...i,width:`${e}%`}},t)))},r)));return(0,a.jsxs)(r.Fragment,{children:[" ",l," "]},t)}));return(0,a.jsxs)(a.Fragment,{children:[" ",s," "]})}},314907:(e,t,n)=>{n.d(t,{E:()=>o});var r=()=>n(56366),i=()=>n(134217);function o(e){return(0,r().K8)((()=>i().Fq(e.state)),[e])}},382055:(e,t,n)=>{n.d(t,{$3:()=>u,AQ:()=>d,Ae:()=>l,BL:()=>c,FL:()=>s,FX:()=>i,Vp:()=>a,XL:()=>o,nY:()=>p});var r=()=>n(679924);function i(e,t){(0,r().v)(e,"workspace_creation_ability",t)}function o(e,t){(0,r().v)(e,"workspace_creation_setting_updated",t)}function a(e,t){(0,r().v)(e,"claimable_spaces_viewed",t)}function s(e,t){(0,r().v)(e,"space_transfer_requested",t)}function l(e,t){(0,r().v)(e,"space_transfer_completed",t)}function d(e,t){(0,r().v)(e,"space_claim_upgrade_requested",t)}function c(e,t){(0,r().v)(e,"space_claim_upgrade_completed",t)}function u(e,t){(0,r().v)(e,"space_claim_deletion_started",t)}function p(e,t){(0,r().v)(e,"space_claim_deletion_canceled",t)}},430395:(e,t,n)=>{n.d(t,{A:()=>i});class r extends(()=>n(757695))().Store{getInitialState(){return{open:!1,succeeded:!1}}close(){this.setState({open:!1,succeeded:!1})}closeWithSuccess(){this.setState({open:!1,succeeded:!0})}open(e){this.setState({open:!0,temporaryBillingInterval:"month",temporaryAddress:{name:"",businessName:"",addressLine1:"",addressLine2:"",zipCode:"",city:"",state:"",country:""},appliedPromo:void 0,error:void 0,vatApplicable:!1,calculatingTax:!1,payButtonState:"disabled",subscriptionTier:"enterprise",targetPlan:void 0,targetSpace:e,totalUpgradeCost:void 0,onlyShowAddOn:!1,sessionId:n(206267).JW(),type:n(506090).p.TargetSpace,vatId:void 0})}setAddressField(e){this.state.open&&this.setState({...this.state,temporaryAddress:{...this.state.temporaryAddress,...e},taxCalculationError:void 0})}}const i=new r},505108:(e,t,n)=>{n.d(t,{a:()=>g});var r=n(296540),i=()=>n(401497),o=()=>n(534177),a=()=>n(284371),s=()=>n(84817),l=()=>n(819121),d=()=>n(955825),c=n(474848);function u(e){const{disabled:t,checked:n,selectorSize:r}=e,[o,a]=(0,l().A)(),s=function(e){const{checked:t,disabled:n,isFocusVisible:r,selectorSize:o}=e;return(0,i().IS)((e=>({root:{position:"absolute",display:"flex",width:15,height:15,padding:5,margin:1.5,justifyContent:"center",alignItems:"center",gap:8,flexShrink:0,borderRadius:"50%",transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${n?e.tint.regular:e.blueColor}`,background:n?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${n?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...r&&{boxShadow:e.buttonBlueFocusRing}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"small"===o?14:18,height:"small"===o?14:18,...n?{pointerEvents:"none"}:{cursor:"pointer"}}})),[t,n,r,o])}({checked:n,disabled:t,isFocusVisible:a,selectorSize:r});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{ref:o,type:"radio",style:s.input,className:"radio-button",...e}),(0,c.jsx)("span",{...(0,d().AH)("custom-radio-button",s.root,t?{}:{pseudoActive:s.active})})]})}var p=()=>n(554509);const g=r.forwardRef((function(e,t){let{additionalContent:n,description:o,isDisabled:l,isSelected:d,label:u,name:p,onChange:g,width:f="fill",selectorSize:x="normal",selectAlignXAxis:y="left",selectAlignYAxis:b="center",selectType:v="checkbox",style:S,supportText:A,value:I,colorName:k,alignAdditionalContent:C,...j}=e;const w=(0,r.useId)(),P=function(e){const{isSelected:t,isDisabled:n,selectAlignYAxis:r,alignAdditionalContent:o}=e;return(0,i().IS)((e=>{const i=t&&!n?e.blueColor:e.selectorBorderUnselected;return{container:{display:"flex",alignItems:o??"center",gap:12,userSelect:"none",padding:"9px 16px 10px 10px",borderRadius:6,border:`1px solid ${i}`,...!n&&{cursor:"pointer"}},title:{fontWeight:a().Wy.medium,fontSize:14,userSelect:"none",lineHeight:18},additionalContentWrapper:{flexShrink:0},selectorWrapper:{display:"flex",..."top"===r?{marginTop:2}:{}},rightAlignSelectorWrapper:{display:"flex"}}}),[t,n,r,o])}({isSelected:d,isDisabled:l,selectAlignYAxis:b,alignAdditionalContent:C}),B=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===b?"top-left":"center-left",gap:12,width:f,children:[(0,c.jsx)("div",{style:P.selectorWrapper,children:(0,c.jsx)(h,{id:w,selectType:v,name:p,value:I,onChange:g,isSelected:d,selectorSize:x,isDisabled:l,...j})}),(0,c.jsx)(m,{colorName:k,description:o,label:u,selectorSize:x,supportText:A,isDisabled:l})]}),M=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===b?"top-center":"center",gap:12,children:[(0,c.jsx)(m,{colorName:k,description:o,label:u,selectorSize:x,supportText:A,isDisabled:l}),(0,c.jsx)("div",{style:{...P.selectorWrapper,...P.rightAlignSelectorWrapper},children:(0,c.jsx)(h,{id:w,selectType:v,name:p,value:I,onChange:g,selectorSize:x,isSelected:d,isDisabled:l,...j})})]}),T=n?(0,c.jsx)("div",{style:P.additionalContentWrapper,children:n}):null;return(0,c.jsx)("label",{ref:t,style:{...P.container,...S},htmlFor:w,children:"left"===y?(0,c.jsxs)(c.Fragment,{children:[B,T]}):(0,c.jsxs)(c.Fragment,{children:[T,M]})})}));function m(e){const{description:t,label:n,supportText:r,selectorSize:i,isDisabled:a,colorName:l}=e;let d;return"large"===i?d="Page-Content/Text-Block":"normal"===i||void 0===i?d="Body-13px/Medium":"small"===i?d="Body-12px/Regular":(0,o().HB)(i),(0,c.jsxs)(s().Y1,{gap:4,children:[(0,c.jsxs)(s().Y1,{gap:2,children:[(0,c.jsx)(p().D,{styleName:d,colorName:l||(a?"quaternary":"primary"),children:n}),t?(0,c.jsx)(p().D,{styleName:"Caption-12px/Regular",colorName:a?"quaternary":"secondary",children:t}):null]}),r?(0,c.jsx)(p().D,{styleName:"Caption-12px/Medium",colorName:"tertiary",children:r}):null]})}function h(e){const{selectType:t,selectorSize:r="normal",id:a,name:s,value:l,onChange:d,isSelected:p,isDisabled:g,...m}=e,h=(0,i().IS)((()=>({checkboxWrapper:{minWidth:18,display:"flex",justifyContent:"center"}})),[]);switch(t){case"radio":return(0,c.jsx)(u,{id:a,name:s,value:l,onChange:d,checked:p,disabled:g,selectorSize:r,...m});case"checkbox":return(0,c.jsx)("div",{style:h.checkboxWrapper,children:(0,c.jsx)(n(115562).W,{id:a,name:s,value:l,onChange:d,checked:p,disabled:g,selectorSize:r,...m})});case"none":return null;default:(0,o().HB)(t)}}},509657:(e,t,n)=>{n.d(t,{a:()=>r().a});var r=()=>n(505108)},517492:(e,t,n)=>{n.d(t,{v:()=>a});n(296540);var r=()=>n(292119),i=()=>n(959013),o=n(474848);function a(e){const t=(0,i().tz)();return(0,o.jsx)(r().v,{...e,intl:t})}},558094:(e,t,n)=>{n.d(t,{X:()=>a});n(296540);var r=()=>n(807683),i=()=>n(137465),o=n(474848);function a(e){const{product:t}=e,n=function(e){switch(e){case"free":case"student":case"personal":return i().Q.free.originalImage;case"plus":return i().Q.plus.originalImage;case"business":return i().Q.business.originalImage;case"enterprise":return i().Q.enterprise.originalImage;case"ai":return i().Q.ai.originalImage;case"sites_custom_hostnames":return i().Q.sites_custom_hostnames.originalImage;default:return}}(t);return n?(0,o.jsx)(r().Ay,{src:n.path,style:{width:49,height:52,objectFit:"contain"}}):null}},614415:(e,t,n)=>{n.d(t,{Wx:()=>o,fM:()=>r,sM:()=>i});const r=new(n(645873).O2)("framer-motion",(async()=>await Promise.all([n.e(44711),n.e(53321),n.e(37043)]).then(n.bind(n,301716))));function i(e){return e.useAnimation()}function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.useInView(...n)}},662866:(e,t,n)=>{n.d(t,{_:()=>s});n(296540);var r=()=>n(959013),i=()=>n(125565),o=()=>n(843878),a=n(474848);function s(){return(0,a.jsx)(o().Ay,{children:(0,a.jsx)(i().A,{isSmall:!0,style:{textAlign:"center"},children:(0,a.jsx)(r().sA,{id:"spaceSubscriptionPlans.offlineMessage",defaultMessage:"Please go online to manage your plan."})})})}},677195:(e,t,n)=>{n.d(t,{R:()=>i});n(296540);var r=n(474848);const i=(0,n(340498).wt)("verificationCheck",{viewBox:"0 0 6 7",svg:(0,r.jsx)("path",{d:"M2.84245 6.11619C2.71116 6.30644 2.53392 6.40156 2.31072 6.40156C2.20131 6.40156 2.10066 6.37881 2.00875 6.33332C1.92123 6.28782 1.83589 6.21545 1.75274 6.11619L0.150985 4.25515C0.0503282 4.12694 0 3.99874 0 3.87053C0 3.73406 0.04814 3.61826 0.14442 3.52314C0.245077 3.42388 0.365427 3.37425 0.50547 3.37425C0.597374 3.37425 0.680525 3.39286 0.754923 3.43008C0.833698 3.46317 0.912473 3.52934 0.991247 3.6286L2.28446 5.21049L5.00875 1.07896C5.13129 0.892857 5.28446 0.799805 5.46827 0.799805C5.60394 0.799805 5.72648 0.841161 5.83589 0.923874C5.9453 1.00659 6 1.11618 6 1.25266C6 1.32297 5.98249 1.39327 5.94748 1.46358C5.91685 1.52975 5.88184 1.59178 5.84245 1.64968L2.84245 6.11619Z"})})},684548:(e,t,n)=>{n.r(t),n.d(t,{ClaimAndUpgradeModal:()=>$e});var r=()=>n(624119),i=n(296540),o=()=>n(484714),a=()=>n(852507),s=()=>n(56366),l=()=>n(401497),d=()=>n(212050),c=()=>n(959013),u=()=>n(512062),p=()=>n(252105),g=()=>n(297872),m=()=>n(676007),h=()=>n(2143),f=()=>n(953418),x=()=>n(17090),y=()=>n(204063),b=n(474848);function v(e){let{store:t}=e;const n=(0,s().uB)(t,x().A),r=(0,o().v3)(),a=(0,s().K8)((()=>n.state.elementRef),[n]),[l,d]=(0,i.useState)(!1);(0,i.useEffect)((()=>{const e=a.current;if(e){const t=()=>{d(f().wU(e))};return t(),e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}}}),[a]);const u=(0,i.useCallback)((()=>{const e=a.current;e&&f().VG({element:e,environment:r,options:{top:e.scrollHeight,behavior:"smooth"}})}),[a,r]);return l?null:(0,b.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,b.jsx)(y().A,{style:{zIndex:2,maxWidth:100,position:"absolute",bottom:30,borderRadius:30},onClick:u,children:(0,b.jsx)("div",{children:(0,b.jsx)(c().sA,{id:"scroller.scrollDown.name",defaultMessage:"Scroll down"})})})})}var S=()=>n(38337),A=()=>n(240865),I=()=>n(756279),k=()=>n(765957),C=()=>n(227440),j=(n(581454),()=>n(857639)),w=()=>n(643819),P=()=>n(382055),B=()=>n(449506),M=()=>n(901389),T=()=>n(496414),_=()=>n(436572),W=()=>n(57605),D=()=>n(112527),H=()=>n(134217),U=()=>n(430395),F=()=>n(601203);const R=(0,c().YK)({loading:{defaultMessage:"Claiming and upgrading workspace...",id:"spaceSubscriptionUpgradeModal.upgradeTargetSpace.loading"}});function z(e){return"paymentMethodId"===(null==e?void 0:e.type)?e.value:void 0}async function O(e){const{environment:t,data:n,requestingSpaceId:r,paymentData:i}=e,o=U().A.state;if(!o.open)return;const a=o.targetPlan;if(!a)return;const s=o.temporaryAddress;T().m({message:R.loading});const l=o.targetSpace.id,d=await B().callApi({eventName:"claimAndUpgradeSpace",environment:t,data:{requestingSpaceId:r,targetSpaceId:l,targetPlan:a,paymentMethodId:z(i),customerName:s.name,businessName:s.businessName,addressLine1:s.addressLine1,addressCity:s.city,addressZip:s.zipCode,addressState:s.state,addressCountry:s.country,vatId:o.vatApplicable?o.temporaryVatCode:void 0}});var u,g,m,h;(T().V(),"success"===d.type)?(U().A.closeWithSuccess(),h=o.targetSpace.name,_().D6({label:(0,b.jsx)(c().sA,{id:"identityProvisioningSettings.claimWorkspaces.claimModal.selfServe.toast",defaultMessage:"Successfully claimed “{spaceName}”",values:{spaceName:h}})}),P().BL(t,{previousOwners:o.targetSpace.admins.map((e=>e.id)),newOwners:t.currentUser.id?[t.currentUser.id]:[],targetSpaceId:l,verifiedDomain:o.targetSpace.creatorEmailDomain,memberCount:o.targetSpace.memberCount,costForUpgrade:null===(u=o.totalUpgradeCost)||void 0===u?void 0:u.amount,currencyCode:null===(g=o.totalUpgradeCost)||void 0===g?void 0:g.currencyCode,currentPlan:null===(m=H().RJ(n))||void 0===m?void 0:m.plan,targetPlan:a})):(M().Qg(d),function(e){const{environment:t,modalId:n}=e;U().A.reset(),p().OC(t,{modal_id:n})}({environment:t,modalId:o.sessionId}))}const L=(0,n(496603).sg)((async function(e){const{environment:t,state:n,data:r,requestingSpaceId:i,stripe:o,elements:a,intl:s}=e;p().Fp(t,{modal_id:n.sessionId}),U().A.update((e=>({...e,payButtonState:"disabled"}))),await async function(e){const{environment:t,state:n,data:r,requestingSpaceId:i,stripe:o,elements:a,intl:s}=e;if(!a||!o)return void j().log({level:"error",from:"SpaceSubscriptionUpgradeModal",type:"StripeError",error:{miscDataString:"Stripe elements not initialized when user tried to upgrade"}});let l=n.paymentData;if(!l){const{error:e}=await a.submit();if(e)return p().qC(t,{error:"could not submit form",error_type:"payment_method",modal_id:n.sessionId}),void U().A.setState({...n,error:s.formatMessage({id:"spaceSubscriptionUpgradeModal.payment.genericError",defaultMessage:"Your payment could not be processed. Please try again."})});const r=await o.createPaymentMethod({elements:a});if(r.error)return p().qC(t,{error:r.error.message,error_type:"payment_method",modal_id:n.sessionId}),p().cr(t,{error:r.error.code,stripe_decline_code:r.error.decline_code}),void U().A.setState({...n,error:D().translateStripeError(s,r.error)});if(!r.paymentMethod)return p().qC(t,{error:"could not create token",error_type:"payment_method",modal_id:n.sessionId}),void U().A.setState({...n,error:s.formatMessage({id:"spaceSubscriptionUpgradeModal.payment.genericError",defaultMessage:"Your payment could not be processed. Please try again."})});l={type:"paymentMethodId",value:r.paymentMethod.id},U().A.setState({...n,paymentData:l})}await O({environment:t,data:r,requestingSpaceId:i,paymentData:l})}({environment:t,state:n,data:r,requestingSpaceId:i,stripe:o,elements:a,intl:s});const l=U().A.state;l.open&&U().A.setState({...l,payButtonState:"enabled"})}),1e3,{leading:!0,trailing:!1});async function $(e){const{requestingSpaceId:t,environment:n,state:r}=e;U().A.update((e=>({...e,totalUpgradeCost:void 0,payButtonState:"disabled"})));const i=r.targetSpace.isActorInSpace?r.targetSpace.memberCount:r.targetSpace.memberCount+1,o=H().EX(r.temporaryBillingInterval),a=await B().callApi({eventName:"getCostForSpaceUpgrade",environment:n,data:{targetSpaceId:r.targetSpace.id,requestingSpaceId:t,subscriptionTier:"enterprise",billingInterval:o,memberCount:i}});if("failed"===a.type)M().Qg(a),U().A.close();else{const e=a.data?w().W.fromValue({amount:a.data.totalCost,currencyCode:a.data.currencyCode}).zeroIfNegative():void 0;U().A.update((t=>({...t,totalUpgradeCost:e,targetPlan:a.data.targetPlan,payButtonState:"enabled"})))}}async function E(e){const{environment:t,spaceId:n,state:r,vatId:i}=e,o=await W().A.awaitData(t,{spaceId:n});await $({requestingSpaceId:n,environment:t,state:r}),await F().dn(t,o,i)}var N=()=>n(81465),K=()=>n(807778),q=()=>n(662866),Y=()=>n(981046),V=()=>n(704073),G=()=>n(730764),Q=()=>n(381349),J=()=>n(125565);function X(e){const{error:t}=e.state,n=(0,l().IS)((()=>({label:{marginTop:8,color:Q().Ay.red}})),[]);return t?(0,b.jsx)(J().A,{isMultiline:!0,style:n.label,children:t}):null}var Z=()=>n(762433),ee=()=>n(979340),te=()=>n(47170),ne=()=>n(506090),re=()=>n(960236);function ie(e){const{state:t}=e,{open:n,type:r,isTrial:i,subscriptionTier:o}=t,a=(0,c().tz)();return n?r===ne().p.TargetSpace?(0,b.jsx)(c().sA,{id:"subscriptionUpgradeModal.targetSpace.button.enterprise",defaultMessage:"Claim & Upgrade to Enterprise"}):i?(0,b.jsx)(c().sA,{id:"onboardingCheckout.upgradeButton.startTrial",defaultMessage:"Start Notion {subscriptionTier} trial",values:{subscriptionTier:(0,ee().u2)({product:o,intl:a})}}):(0,b.jsx)(c().sA,{id:"subscriptionUpgradeModal.upgradeButton.upgradeNow",defaultMessage:"Upgrade now"}):null}function oe(e){const{state:t,onClickUpgrade:n,customStyles:r}=e,i=(0,l().IS)((()=>({upgradeButton:{height:40,marginTop:24,fontSize:16}})),[]),o=(0,te().O)(),a=(0,re().lh)({spaceId:o}),d=(0,Z().Fv)(a),c=(0,s().K8)((()=>(0,K().Ir)()&&!1),[d]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(y().A,{disabled:"disabled"===t.payButtonState,style:{...i.upgradeButton,...r},onClick:()=>n({useTestClock:!1}),children:(0,b.jsx)(ie,{state:t})}),c?(0,b.jsx)(y().A,{disabled:"disabled"===t.payButtonState,style:i.upgradeButton,onClick:()=>n({useTestClock:!0}),children:"🚧 Upgrade with Test Clock 🚧"}):void 0]})}const ae=(0,n(340498).wt)("chat",{viewBox:"0 0 32 32",svg:(0,b.jsx)("path",{d:"M7.52 28.727c.591 0 .993-.205 1.706-.842l3.732-3.41c.802.898 2.017 1.375 3.566 1.375h3.844l3.721 3.252c.68.591 1.048.898 1.582.898.77 0 1.204-.557 1.204-1.421V25.85h.468c2.796 0 4.657-1.716 4.657-4.695v-6.719c0-2.978-1.86-4.695-4.657-4.695h-1.75v-.864C25.593 5.785 23.8 4 20.77 4H4.825C1.916 4 0 5.785 0 8.877v10.47c0 3.093 1.916 4.878 4.825 4.878h1.47v3.103c0 .876.435 1.399 1.226 1.399zm.458-5.264c0-.648-.38-.955-.87-.955H4.937c-1.972 0-3.142-1.091-3.142-3.217V8.934c0-2.115 1.17-3.229 3.142-3.229h15.721c1.973 0 3.142 1.114 3.142 3.229v.807h-7.275c-2.92 0-4.647 1.717-4.647 4.695v6.72c0 .613.067 1.17.212 1.682l-4.111 3.865v-3.24zm17.225 4.48l-3.576-3.275c-.446-.398-.713-.523-1.326-.523h-3.666c-1.86 0-2.975-1.034-2.975-3.047l.011-6.605c0-2 1.103-3.047 2.964-3.047h10.607c1.85 0 2.964 1.046 2.964 3.047v6.605c0 2.013-1.114 3.047-2.964 3.047h-1.18c-.48 0-.859.284-.859.932v2.865z"})});var se=()=>n(284371),le=()=>n(864943),de=()=>n(217429),ce=()=>n(19575);function ue(e){const{state:t}=e,n=(0,l().IS)((e=>({contactSalesButton:{width:"100%",height:40,marginTop:10},contactSalesCta:{fontWeight:se().Wy.medium},contactSalesIcon:{height:18,width:20,marginRight:6},contactSalesQuestionsText:{color:e.text.secondary,fontSize:12,lineHeight:se().K_.UISmall.desktop}})),[]),[r,i]=(0,s().K8)((()=>{const e=de().default.getEligibleGroup({experimentId:"in_app_contact_sales_cta_billing",defaultGroup:"control"});return[t.subscriptionTier,e]}),[t]);if(!(0,ee().HO)(r))return null;const o="on"===i?(0,b.jsx)(c().sA,{defaultMessage:"Request a demo",id:"helpButton.salesChat.menuItemDemoVariant"}):(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.upgradeModal.contactSales",defaultMessage:"Contact sales"});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(le().A,{size:"lg",style:n.contactSalesButton,onClick:()=>{(0,ce().lK)({initialQuestion:H().pt(t.subscriptionTier),openedFrom:(0,ee().OX)(t.subscriptionTier)?"enterprise_checkout_modal":"business_checkout_modal"})},children:[ae(n.contactSalesIcon),(0,b.jsx)("span",{style:n.contactSalesCta,children:o})]}),(0,b.jsx)("p",{style:n.contactSalesQuestionsText,children:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.upgradeModal.sales.questions",defaultMessage:"Questions? Contact our sales team for more information."})})]})}function pe(e){const{state:t,products:n,onClickUpgrade:r}=e,{isTrial:i}=t;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:16},children:[(0,b.jsx)(oe,{state:t,onClickUpgrade:r}),(0,b.jsx)(G().w,{showTrialEndDisclaimer:!1,products:n})]}),(0,b.jsx)(X,{state:t}),i?null:(0,b.jsx)(ue,{state:t})]})}var ge=()=>n(558094);function me(){const e=(0,l().IS)((e=>({primaryTextStyle:{fontWeight:se().Wy.bold,fontSize:20,lineHeight:1.1,marginTop:16,marginBottom:6,padding:0},secondaryTextStyle:{fontWeight:se().Wy.regular,fontSize:16,lineHeight:1.4,color:e.text.secondary}})),[]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ge().X,{product:"enterprise"}),(0,b.jsx)("h2",{style:e.primaryTextStyle,id:S().Kvs,children:(0,b.jsx)(c().sA,{id:"subscriptionUpgradeModal.targetSpace.title.enterprise",defaultMessage:"Claim & Upgrade to Enterprise"})}),(0,b.jsx)("div",{style:e.secondaryTextStyle,id:S().SdC,children:(0,b.jsx)(c().sA,{id:"subscriptionUpgradeModal.oneLiner.enterprise",defaultMessage:"Controls and support to run your company."})})]})}var he=()=>n(802790),fe=()=>n(298697),xe=()=>n(690197),ye=()=>n(836251),be=()=>n(517492),ve=()=>n(331542);function Se(e){const{lineItemData:t,nameStyle:n,priceStyle:r,showZeroPrice:i}=e,o=(0,l().IS)((e=>({itemContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",lineHeight:1,minHeight:18},name:{fontSize:12,color:e.text.secondary,...n||void 0},price:{fontSize:12,color:"promotion"===t.type?"#53A83F":e.text.primary,...r||void 0},caption:{fontSize:12,color:e.text.secondary},captionContainer:{display:"flex",flexDirection:"column"}})),[t,n,r]);let a="-";return t.price&&(t.price.amount>0||i)&&(a=(0,b.jsx)(be().v,{cost:t.price.toMoneyValue(),trailingZeroDisplay:"stripIfInteger"})),(0,b.jsxs)("div",{style:o.itemContainer,children:[(0,b.jsxs)("div",{style:o.captionContainer,children:[(0,b.jsx)("span",{style:o.name,children:t.name}),t.subtitle&&(0,b.jsx)("span",{style:o.caption,children:t.subtitle})]}),"calculating"===t.type?(0,b.jsx)(ve().A,{}):(0,b.jsx)("span",{style:o.price,children:a})]})}function Ae(e){var t;const{state:n}=e,r=(0,l().IS)((e=>({container:{display:"flex",flexDirection:"column"},header:{fontSize:16,color:e.text.primary,fontWeight:se().Wy.semibold,marginBottom:10},helpButton:{marginLeft:0,marginTop:-4,marginBottom:12},helpButtonInner:{fontSize:12}})),[]),i=n.calculatingTax||null===(t=w().W.sum(n.totalUpgradeCost,n.taxAmount))||void 0===t?void 0:t.zeroIfNegative(),o=n.targetSpace.isActorInSpace?n.targetSpace.memberCount:n.targetSpace.memberCount+1;return(0,b.jsxs)("div",{style:r.container,children:[(0,b.jsx)("label",{style:r.header,children:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.header",defaultMessage:"Order summary"})}),void 0!==n.totalUpgradeCost?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(ke,{totalCostForUpgrade:n.totalUpgradeCost,memberCount:o}),(0,b.jsx)(xe().A,{style:r.helpButton,buttonStyle:r.helpButtonInner,title:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.helpButton.label",defaultMessage:"Learn more about prorated charges"}),href:(0,ye().xS)("guides.billingAndPayment"),analyticsFrom:"invoices"}),(0,b.jsx)(Ie,{state:n}),(0,b.jsx)(he().A,{size:14}),(0,b.jsx)(Se,{showZeroPrice:!0,lineItemData:{price:i,type:"standard",name:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.orderTotal",defaultMessage:"Total"})},priceStyle:{fontSize:20}})]}):(0,b.jsx)(Ce,{})]})}function Ie(e){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Se,{showZeroPrice:!0,lineItemData:{type:"standard",name:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.lineItems.subTotal",defaultMessage:"Subtotal"}),price:e.state.totalUpgradeCost}}),(0,b.jsx)(Se,{lineItemData:{type:e.state.calculatingTax?"calculating":"standard",name:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.lineItems.tax.title",defaultMessage:"Tax"}),price:e.state.taxAmount,subtitle:e.state.taxAmount||0===e.state.taxAmount?void 0:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.lineItems.tax.subtitle",defaultMessage:"if applicable"})}})]})}function ke(e){const{totalCostForUpgrade:t,memberCount:n}=e,r=(0,l().IS)((e=>({container:{display:"flex",justifyContent:"space-between",marginBottom:6},item:{},title:{fontSize:14},subtitle:{color:e.text.secondary,fontSize:12},price:{fontSize:14,color:e.text.primary}})),[]);return(0,b.jsxs)("div",{style:r.container,children:[(0,b.jsxs)("div",{style:r.item,children:[(0,b.jsx)("div",{style:r.title,children:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.proratedChanges",defaultMessage:"Prorated charges"})}),(0,b.jsx)("div",{style:r.subtitle,children:(0,b.jsx)(c().sA,{id:"claimAndUpgradeOrderSummary.proratedChangesCaption",defaultMessage:"All charges due to claim and upgrade the workspace ({memberCount, plural, one {{memberCount} member} other {{memberCount} members}}).",values:{memberCount:n}})})]}),(0,b.jsx)("div",{style:r.price,children:(0,b.jsx)(be().v,{cost:t,trailingZeroDisplay:"stripIfInteger"})})]})}function Ce(){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(fe().A,{paragraphs:[{lineHeight:18,lineMargin:4,sectionWidths:[100],repeat:1,sectionMargin:0},{lineHeight:14,lineMargin:4,sectionWidths:[100,40],repeat:1,sectionMargin:-2}]}),(0,b.jsx)("div",{style:{display:"block",height:27}}),(0,b.jsx)(fe().A,{paragraphs:[{lineHeight:16,lineMargin:1,sectionWidths:[100],repeat:2,sectionMargin:4}]}),(0,b.jsx)(fe().A,{paragraphs:[{lineHeight:14,lineMargin:0,sectionWidths:[30],repeat:1,sectionMargin:4}]}),(0,b.jsx)(he().A,{size:14}),(0,b.jsx)(fe().A,{paragraphs:[{lineHeight:24,lineMargin:4,sectionWidths:[100],repeat:1,sectionMargin:1}]})]})}n(16280),n(944114),n(898992),n(354520);var je=()=>n(654601),we=()=>n(622963),Pe=()=>n(534177),Be=()=>n(15897),Me=()=>n(814927),Te=()=>n(714300);const _e=function(e){const t=(r=e.reduceTopMargin,(0,l().IS)((e=>({discountDescription:{alignItems:"center",marginBottom:36,color:e.text.secondary,fontSize:12,lineHeight:se().K_.UISmall.desktop,marginTop:r?-8:void 0}})),[r]));var r;return(0,b.jsx)("div",{style:t.discountDescription,children:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.discountMessage",defaultMessage:"Get an additional <bold>50% off Notion AI</bold> for the next 3 months with a paid plan. <terms>See details.</terms>",values:{bold:e=>(0,b.jsx)("b",{children:e}),terms:e=>(0,b.jsx)(n(719147).A,{href:(0,ye().xS)("terms.discounts.ai.summer.2023"),children:e})}})})};function We(){return(0,l().IS)((e=>({discountText:{color:e.invoiceGreen,fontSize:12},icon:{width:16,height:16},mainTextSelected:{fontWeight:se().Wy.medium,color:e.text.primary,fontSize:14,lineHeight:"14px"},mainTextUnselected:{color:e.text.secondary,fontSize:14,lineHeight:"14px"},priceText:{fontSize:14,color:e.text.secondary,marginTop:2},row:{display:"flex",alignItems:"center",justifyContent:"center",gap:4,lineHeight:"14px"},section:{marginBottom:20},sectionHeader:{display:"flex",alignItems:"center",marginBottom:11,fontSize:11,fontWeight:se().Wy.semibold,color:e.text.secondary}})),[])}function De(e){const{header:t,children:n}=e,r=We();return(0,b.jsxs)("div",{style:r.section,children:[(0,b.jsx)("div",{style:r.sectionHeader,children:t}),n]})}function He(e){const{isSelected:t,billingInterval:n}=e,r=We(),i=t?r.mainTextSelected:r.mainTextUnselected;let o;switch(n){case"month":o=(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.monthly",defaultMessage:"Monthly"});break;case"year":o=(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.yearly",defaultMessage:"Yearly"});break;default:throw new Error(`Unsupported billing interval: ${n}`)}return(0,b.jsxs)("div",{style:r.row,children:[(0,b.jsx)("div",{style:i,children:o}),"year"===n?(0,b.jsx)("div",{style:r.discountText,children:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.yearlyDiscount",defaultMessage:"{percent}% off",values:{percent:20}})}):null]})}function Ue(e){const{isSelected:t}=e,n=We(),r=t?n.mainTextSelected:n.mainTextUnselected;return(0,b.jsx)("div",{style:r,children:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.noThanks",defaultMessage:"No thanks"})})}function Fe(e){const{coupon:t,isSelected:n}=e,r=We(),i=n?r.mainTextSelected:r.mainTextUnselected;return(0,b.jsxs)("div",{style:r.row,children:[(0,je().X)(r.icon),(0,b.jsx)("div",{style:i,children:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.notionAi",defaultMessage:"Notion AI"})}),t?(0,b.jsx)("div",{style:r.discountText,children:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.aiDiscount",defaultMessage:"{percent}% off",values:{percent:50}})}):null]})}function Re(e){const{subscriptionTier:t,billingInterval:n,addOnFeature:r,canAddAI:a,coupon:l,onChangeBillingInterval:d,onChangeAddOnFeature:u,isTrial:g,modalId:m}=e,h=(0,o().v3)(),f=(0,te().O)(),x=(0,Te().l)({spaceId:f}),y=(0,K().aD)(),v=(0,A().V)()??1,S=[(0,we()._y)(t),r].filter(Pe().O9),I=(0,s().K8)((()=>S.map((e=>(0,Me().g)(e,n??"month",h))).filter(Pe().O9)),[S,n,h]),k=i.useMemo((()=>I.map((e=>(0,F().sM)({price:e,quantity:v}))).filter(Pe().O9)),[I,v]);(0,i.useEffect)((()=>{y||F().Qe({environment:h,billingData:x,lineItems:k,memberCount:v})}),[h,n,r,x,k,v,y]);const C=(0,i.useMemo)((()=>[{key:"month",render:()=>(0,b.jsx)(He,{isSelected:"month"===n,billingInterval:"month",subscriptionTier:t,coupon:l})},{key:"year",render:()=>(0,b.jsx)(He,{isSelected:"year"===n,billingInterval:"year",subscriptionTier:t,coupon:l})}]),[n,t,l]),j=(0,i.useMemo)((()=>[{key:"none",render:()=>(0,b.jsx)(Ue,{isSelected:!r,coupon:l})},{key:"ai",render:()=>(0,b.jsx)(Fe,{isSelected:Boolean(r),coupon:l})}]),[r,l]);return g?null:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(De,{header:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.billingPeriodSection.header",defaultMessage:"Billing period"}),children:(0,b.jsx)(Be().A,{items:C,value:n,onChange:e=>{p().bT(h,{billingInterval:e,modal_id:m}),d(e)}})}),a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(De,{header:(0,b.jsx)(c().sA,{id:"spaceSubscriptionSettings.orderOptions.addOnsSection.header",defaultMessage:"Add-ons"}),children:(0,b.jsx)(Be().A,{items:j,value:r??"none",onChange:e=>{const t=[];let n;if("ai"===e)n="ai",t.push("ai");else n=void 0;p().Gs(h,{addOnFeatures:t,modal_id:m}),u&&u(n)}})}),l?(0,b.jsx)(_e,{reduceTopMargin:!0}):null]}):null]})}function ze(){return(0,l().IS)((e=>({closeButton:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",top:21,right:20,width:22,height:22,padding:0,borderRadius:"50%",border:"none",background:"light"===e.mode?u().M.light.gray[75]:u().M.dark.gray[500],zIndex:10},closeButtonIcon:{width:12,height:12,fill:"light"===e.mode?u().M.light.gray[400]:u().M.dark.gray[800]},modal:{background:"dark"===e.mode?"#191919":e.popoverBackground,borderRadius:12,width:750,maxHeight:760,display:"flex"},modalContent:{flex:1,maxWidth:"60%",display:"flex",flexDirection:"column",position:"relative",borderRadius:"12px 0 0 12px"},modalContentBody:{padding:"36px 42px 50px 42px",display:"flex",flexDirection:"column"},modalContentSidebar:{flex:1,maxWidth:"40%",background:"dark"===e.mode?"#202020":e.sidebarSecondaryBackground,borderLeft:`1px solid ${e.lightDividerColor}`,padding:"20px 29px 50px 27px",display:"flex",flexDirection:"column"}})),[])}function Oe(e){const{state:t,data:n,billingData:i,requestingSpaceId:o}=e,{subscriptionTier:a,onlyShowAddOn:l,calculatingTax:d,temporaryBillingInterval:c,taxAmount:u,addOnFeature:p,coupon:g}=t,m=(0,s().K8)((()=>{var e;return(null===(e=t.totalUpgradeCost)||void 0===e?void 0:e.currencyCode)??Y().A.selectedCurrencyCode}),[t]),h=(0,A().V)()??1,{payAmount:f}=H().TQ({billingData:i,subscriptionTier:a,memberCount:h,promo:t.appliedPromo,currencyCode:m,onlyShowAddOn:l,calculatingTax:d,billingInterval:c??"year",taxAmount:null==u?void 0:u.amount,addOnFeature:p,coupon:g}),x=(0,D().useElementsOptions)({type:"subscription",amount:f.amount,currency:f.currencyCode});return(0,b.jsx)(r().Elements,{stripe:(0,D().getStripe)(),options:x,children:(0,b.jsx)(Le,{state:t,data:n,requestingSpaceId:o})})}function Le(e){const{state:t,data:n,requestingSpaceId:a}=e,l=(0,o().v3)(),u=(0,c().tz)(),g=ze(),m=(0,r().useStripe)(),f=(0,r().useElements)(),y=(0,K().aD)(),S=(0,s().O$)(C().e),A=(0,s().uB)(void 0,x().A),[k,j,w,P,B]=t.open?[t.subscriptionTier,t.temporaryBillingInterval,t.addOnFeature,t.coupon,t.sessionId]:[],M=(0,i.useCallback)((e=>{U().A.update((t=>t.open?y?{...t,temporaryAddress:e.customerAddress??t.temporaryAddress,vatId:e.vatId}:{...t,temporaryAddress:{...t.temporaryAddress,...e}}:t))}),[y]);if(!t.open||!k||!j)return null;if(!S)return(0,b.jsx)(q()._,{});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{style:g.modalContent,children:(0,b.jsxs)(h().H,{type:I().A.Y,store:A,children:[(0,b.jsxs)("div",{style:g.modalContentBody,children:[(0,b.jsx)("div",{style:{paddingBottom:24},children:(0,b.jsx)(me,{})}),(0,b.jsx)(Re,{subscriptionTier:k,billingInterval:j,addOnFeature:w,canAddAI:!1,coupon:P,onChangeBillingInterval:e=>{U().A.update((t=>({...t,temporaryBillingInterval:e}))),p().bT(l,{billingInterval:e,modal_id:B}),E({environment:l,spaceId:a,state:t,vatId:t.vatId})},onChangeAddOnFeature:y?e=>{U().A.update((t=>({...t,addOnFeature:e}))),p().Gs(l,{addOnFeatures:e?[e]:void 0,modal_id:B}),E({environment:l,spaceId:a,vatId:t.vatId,state:U().A.state})}:void 0}),(0,b.jsx)(V().P,{style:{padding:4},disabled:!y,children:(0,b.jsx)(N().z,{gap:8,customerAddress:t.temporaryAddress,vatId:t.vatId,onChange:M,sessionId:B})})]}),(0,b.jsx)(v,{store:A})]})}),(0,b.jsx)("div",{style:g.modalContentSidebar,children:(0,b.jsxs)(h().H,{type:I().A.Y,children:[(0,b.jsx)(Ae,{state:t}),(0,b.jsx)(pe,{state:t,products:[k],onClickUpgrade:()=>L({environment:l,intl:u,state:t,stripe:m,elements:f,data:n,requestingSpaceId:a})})]})}),(0,b.jsx)("button",{style:g.closeButton,onClick:()=>{U().A.close()},children:(0,d().u)(g.closeButtonIcon)})]})}function $e(e){const{data:t,spaceStore:n,billingData:r}=e,i=(0,s().K8)((()=>U().A.state),[]),l=(0,o().v3)(),d=(0,c().tz)(),u=ze();return(0,a().l)((()=>{var e;const{state:n}=U().A;if(!n.open)return;const r=null===(e=k().default.state.currentSpaceStore)||void 0===e?void 0:e.id;r&&$({environment:l,state:n,requestingSpaceId:r});const{currentUserStore:i}=k().default.state,o=null!=i&&i.isDefined()?i.getModel():void 0;if(o){const e=o.getDisplayName(d);var a;if(U().A.setState({...n,temporaryAddress:{...n.temporaryAddress,name:e}}),"subscribed_admin"===t.type||"unsubscribed_admin"===t.type)U().A.setState({...n,appliedPromo:null===(a=t.customerData)||void 0===a?void 0:a.stripe.promo})}})),(0,b.jsx)(m().a,{ariaLabelledBy:S().Kvs,ariaDescribedBy:S().SdC,open:i.open,preventHideChildrenWhileOpening:!0,innerStyle:u.modal,render:()=>(0,b.jsx)(g().A,{capture:!0,allowEsc:!0,render:()=>i.open?(0,b.jsx)(Oe,{billingData:r,state:i,data:t,requestingSpaceId:n.id}):null})})}},716583:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(296540),i=()=>n(381349),o=()=>n(284371),a=()=>n(135552),s=n(474848);const l=function(e){const{children:t,isMobile:l,textSize:d,shouldUseDivider:c,style:u,styleKey:p}=e,{WindowSizeStore:g}=(0,n(484714).v3)(),[m,h,f]=(0,n(56366).K8)((()=>[g.getSafePaddingLeftCSS(10),g.getSafePaddingLeftCSS(14),g.getSafePaddingRightCSS(14)]),[g]),x=(0,r.useMemo)((()=>l?"small"!==d?o().J.UIRegular.mobile:o().J.UISmall.mobile:"small"!==d?o().J.UIRegular.desktop:o().J.UISmall.desktop),[l,d]),y=(0,r.useMemo)((()=>void 0===d?1.2:l?"small"!==d?o().K_.UIRegular.mobile:o().K_.UISmall.mobile:"small"!==d?o().K_.UIRegular.desktop:o().K_.UISmall.desktop),[l,d]),b=(0,n(401497).IS)((e=>({bannerStyle:{display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",...!l&&{padding:"0px 12px"},...l&&{paddingLeft:h,paddingRight:f},fontSize:x,lineHeight:y,cursor:"default",...c?{minHeight:45,borderBottom:`1px solid ${i().Ay.halfWhite}`}:{minHeight:44}},[`colorStyle__${a().q.Red}`]:{color:i().Ay.white,background:i().Ay.red,...l&&{justifyContent:"flex-start"}},[`colorStyle__${a().q.Blue}`]:{color:i().Ay.white,fill:i().Ay.white,background:i().Ay.blue,...l&&{paddingLeft:m,paddingRight:14}},[`colorStyle__${a().q.Beige}`]:{background:e.beigeBannerBackground,paddingLeft:l?12:18,paddingRight:l?14:16},[`colorStyle__${a().q.White}`]:{background:e.contentBackground,color:e.text.tertiary,fill:e.icon.tertiary,height:45,padding:0,borderTop:`1px solid ${e.regularDividerColor}`,boxShadow:`0 1px 0 ${e.regularDividerColor}`},[`colorStyle__${a().q.Purple}`]:{background:"#CA59FF",color:i().Ay.white,fill:i().Ay.white},[`colorStyle__${a().q.LightRed}`]:{background:e.palette.red[100],color:e.palette.red[500]},[`colorStyle__${a().q.Yellow}`]:{background:e.palette.yellow[100],color:e.palette.yellow[600]},[`colorStyle__${a().q.PageNotification}`]:{border:`0.5px solid ${e.regularDividerColor}`,borderRadius:12,boxShadow:"0px 8px 16px 0px rgba(0, 0, 0, 0.05)",padding:13,alignItems:"start",justifyContent:"flex-start"},[`colorStyle__${a().q.ImportNotification}`]:{color:e.palette.uiBlue[600],fill:e.icon.tertiary,background:e.palette.blue[30],height:48},[`colorStyle__${a().q.LightBlue}`]:{color:i().Ay.blue,fill:i().Ay.blue,background:e.lightBlueBannerBackground},[`colorStyle__${a().q.LightGray}`]:{background:e.lightGrayBannerBackground},colorStyle__default:{color:e.text.contrastPrimary,background:e.tooltipBackground}})),[l,m,h,f,c,x,y]),v=p?`colorStyle__${p}`:"colorStyle__default";return(0,s.jsx)("div",{style:{...b.bannerStyle,...b[v],...u},children:t})}},730764:(e,t,n)=>{n.d(t,{w:()=>v});n(898992),n(737550);var r=n(296540),i=()=>n(484714),o=()=>n(56366),a=()=>n(401497),s=()=>n(166386),l=()=>n(959013),d=()=>n(449506),c=()=>n(554509),u=()=>n(719147),p=()=>n(836251),g=()=>n(47170),m=()=>n(506090),h=()=>n(906195),f=()=>n(981046),x=()=>n(284371),y=n(474848);const b=function(){const e=(0,a().IS)((e=>({discountDescription:{alignItems:"center",color:e.text.secondary,fontSize:12,lineHeight:x().K_.UISmall.desktop}})),[]);return(0,y.jsx)("div",{style:e.discountDescription,children:(0,y.jsx)(l().sA,{id:"spaceSubscriptionSettings.orderOptions.estimatedPriceWarning",defaultMessage:"The final amount due may be impacted by prorations and member changes since your last invoice."})})};function v(e){const{products:t,showTrialEndDisclaimer:n,showProductTerms:r=!0}=e,i=(0,a().IS)((()=>({termsOfService:{display:"flex",flexDirection:"column",gap:12}})),[]),l=(0,o().K8)((()=>f().A.state.selectedCurrencyCode),[]),d=t.includes("ai"),u=t.some((e=>"ai"!==e)),p=void 0!==l&&"USD"!==l,g=(0,o().K8)((()=>{var e;return m().A.state.open?null===(e=m().A.state)||void 0===e?void 0:e.coupon:void 0}),[]),x=(0,h().D)()&&t.includes("plus")&&(0,s().u6)(g);return(0,y.jsx)(c().D,{styleName:"Body-12px/Regular",colorName:"secondary",children:(0,y.jsxs)("div",{style:i.termsOfService,children:[n?(0,y.jsx)(A,{}):null,r?(0,y.jsx)(S,{hasAi:d,hasPlan:u}):null,u&&x&&(0,y.jsx)(j,{}),p?(0,y.jsx)(w,{currencyCode:l}):null]})})}function S(e){let{hasAi:t,hasPlan:n}=e;return(0,y.jsxs)(y.Fragment,{children:[t&&!n?(0,y.jsx)(I,{}):null,t&&n?(0,y.jsx)(k,{}):null,!t&&n?(0,y.jsx)(C,{}):null]})}function A(){return(0,y.jsx)("div",{children:(0,y.jsx)(l().sA,{id:"spaceSubscriptionUpgradeModal.trialWillEndToday.message",defaultMessage:"Upgrading will end your trial and your workspace will be billed immediately."})})}function I(){const e=function(){const e=(0,i().v3)(),t=(0,g().O)(),[n,o]=(0,r.useState)();return(0,r.useEffect)((()=>{async function n(){var n;if(!t)return!1;const r=await d().callApi({eventName:"getSpaceMembershipUpdates",environment:e,data:{spaceId:t}});if("failed"===r.type)return!1;const i=!1===(null===(n=r.data[0])||void 0===n?void 0:n.isProcessed);o(!!i)}n()}),[e,t]),n}();return(0,y.jsxs)("div",{children:[(0,y.jsx)(l().sA,{id:"subscriptionUpgradeModal.confirmation.aiOnly",defaultMessage:"By continuing, you agree to the <aiTerms>Notion AI Product Specific Terms</aiTerms>.",values:{br:(0,y.jsx)("br",{}),aiTerms:e=>(0,y.jsx)(u().A,{href:(0,p().xS)("ai.terms"),external:!0,children:e})}}),e?(0,y.jsx)(b,{}):null]})}function k(){return(0,y.jsx)("div",{children:(0,y.jsx)(l().sA,{id:"subscriptionUpgradeModal.confirmation.planWithAi",defaultMessage:"By continuing, you agree to the <terms>Notion Terms and Conditions</terms> and <aiTerms>Notion AI Product Specific Terms</aiTerms>.",values:{br:(0,y.jsx)("br",{}),terms:e=>(0,y.jsx)(u().A,{href:(0,p().xS)("terms"),external:!0,children:e}),aiTerms:e=>(0,y.jsx)(u().A,{href:(0,p().xS)("ai.terms"),external:!0,children:e})}})})}function C(){return(0,y.jsx)("div",{children:(0,y.jsx)(l().sA,{id:"subscriptionUpgradeModal.confirmation.planOnly",defaultMessage:"By continuing, you agree to the <terms>Notion Terms and Conditions</terms>.",values:{terms:e=>(0,y.jsx)(u().A,{href:(0,p().xS)("terms"),external:!0,children:e})}})})}function j(){return(0,y.jsx)("div",{children:(0,y.jsx)(l().sA,{id:"subscriptionUpgradeModal.confirmation.planOnlyResurrection",defaultMessage:"Enjoy 50% off your first 3 months of billing, then standard rates apply. <learnMore>Learn more</learnMore>",values:{learnMore:e=>(0,y.jsx)(u().A,{href:(0,p().xS)("resurrectionLearnMore"),external:!0,children:e})}})})}function w(e){return(0,y.jsx)("div",{children:(0,y.jsx)(l().sA,{id:"subscriptionUpgradeModal.confirmation.currencyRateWarning",defaultMessage:"<terms>Learn about FX rates</terms>. Rates will refresh throughout the billing period.",values:{terms:e=>(0,y.jsx)(u().A,{href:(0,p().xS)("terms.currency.fxRates"),external:!0,children:e})}})})}},814927:(e,t,n)=>{n.d(t,{g:()=>i});var r=()=>n(981046);function i(e,t,n){const i=r().A.getPrice(n,(n=>n.product===e&&n.billingInterval===t));return null==i?void 0:i.result}},843878:(e,t,n)=>{n.d(t,{AL:()=>o,Ay:()=>s,J_:()=>a});n(296540);var r=()=>n(802790),i=n(474848);function o(e){return e?18:60}function a(){return(0,i.jsx)(r().A,{size:37})}const s=function(e){let{children:t,controlRow:r,bannerText:a,controlRowPaddingTopBottom:s,controlRowPaddingLeftRight:l,removeBoxShadow:d,contentPaddingLeftRight:c,contentPaddingTopBottom:u,disableScroller:p,maxWidth:g,centerContent:m}=e;const h=Boolean(n(780054).A.isMobile),f=u||(h?18:36),x=(0,n(401497).IS)((e=>({containerWithScroller:{display:"flex",flexDirection:"column",width:"100%",height:"100%",maxWidth:g??void 0,backgroundColor:e.cardContentBackground},scroller:{flexGrow:1,WebkitOverflowScrolling:"touch",transform:"translateZ(0)",paddingLeft:c??o(h),paddingRight:c??o(h),paddingTop:a?15:f,paddingBottom:a?22:f,...m?{display:"flex",alignItems:"center",justifyContent:"center"}:null},controlRowWithScroller:{flexGrow:0,flexShrink:0,paddingLeft:l??o(h),paddingRight:l??o(h),paddingTop:s,paddingBottom:s,boxShadow:d?void 0:`0 -1px 0 ${e.regularDividerColor}`},containerWithoutScroller:{paddingLeft:o(h),paddingRight:o(h)},childrenWithoutScroller:{paddingTop:f,paddingBottom:f},controlRowWithoutScroller:{paddingTop:s,paddingBottom:s,boxShadow:`0 -1px 0 ${e.regularDividerColor}`}})),[g,c,h,a,f,l,s,d,m]);return p?(0,i.jsxs)("div",{style:x.containerWithoutScroller,children:[(0,i.jsx)("div",{style:x.childrenWithoutScroller,children:t}),r&&(0,i.jsx)("div",{style:x.controlRowWithoutScroller,children:r})]}):(0,i.jsxs)("div",{style:x.containerWithScroller,children:[a&&(0,i.jsx)(n(716583).A,{styleKey:n(135552).q.Blue,isMobile:!1,children:a}),(0,i.jsx)(n(2143).H,{type:n(756279).A.All,style:x.scroller,children:t}),r&&(0,i.jsx)("div",{style:x.controlRowWithScroller,children:r})]})}},854418:(e,t,n)=>{n.d(t,{t:()=>a});var r=n(296540),i=()=>n(484714),o=()=>n(449506);function a(){const e=(0,i().v3)(),[t,n]=(0,r.useState)();return(0,r.useEffect)((()=>{!async function(){const t=await o().callApi({eventName:"getExternalOrgData",environment:e,data:{}});if("failed"===t.type)return;const r=t.data;n(r)}()}),[e]),t}},906195:(e,t,n)=>{n.d(t,{D:()=>f});var r=n(296540),i=()=>n(484714),o=()=>n(56366),a=()=>n(786508),s=()=>n(166386),l=()=>n(449506),d=()=>n(640653),c=()=>n(58293),u=()=>n(765957),p=()=>n(749356),g=()=>n(714300),m=()=>n(762433),h=()=>n(807778);function f(){const e=(0,i().v3)(),t=(0,c().r)(),n=null==t?void 0:t.id,f=(0,g().l)({spaceId:n}),[x,y]=(0,r.useState)(!1),{currentSpaceStore:b}=(0,o().K8)((()=>{const{currentSpaceStore:e}=u().default.state;return{currentSpaceStore:e}}),[]),v=(0,o().K8)((()=>b?(0,d().GK)(e,b):void 0),[b,e]),S=function(e){return(0,o().K8)((()=>(0,h().vv)()&&Boolean("free"===(0,m().AI)(e))),[e])}(f),A=(0,o().K8)((()=>null==t?void 0:t.canAdmin()),[t]);return(0,r.useEffect)((()=>{!async function(){if(S&&n&&A)try{const t=await l().callApi({eventName:"getCustomerOffer",environment:e,data:{spaceId:n,offerCampaign:"resurrection_offer"}});if("failed"===t.type)return;if("offer"in t.data){const n=(0,a().RS)(t.data.offer);(0,s().u6)(n)&&(y(!0),v&&(0,p().Zc)({environment:e,spaceName:v,offerCampaign:"resurrection_offer"}))}}catch(t){return}}()}),[e,n,S,v,A]),x}},960236:(e,t,n)=>{n.d(t,{lh:()=>a().l,bw:()=>d,UL:()=>A,lI:()=>C,IU:()=>P,g4:()=>S().g,Wo:()=>w,EF:()=>B().E,o2:()=>M().o});var r=()=>n(484714),i=()=>n(187174),o=()=>n(449506);var a=()=>n(714300),s=()=>n(56366),l=()=>n(27716);function d(e){return(0,s().K8)((()=>(0,l().eJ)({billingData:e})),[e])}var c=n(296540),u=()=>n(786508),p=()=>n(166386),g=()=>n(58293),m=()=>n(762433),h=()=>n(640653),f=()=>n(47170),x=()=>n(240865),y=()=>n(765957),b=()=>n(324561),v=()=>n(10984),S=()=>n(141273);function A(e){const t=(0,r().v3)(),[n,i]=(0,c.useState)(!1),a=function(e){const t=(0,S().g)("ai_fifty_percent_upgrade"),n=(0,f().O)(),r=(0,b().f_)({spaceId:n}),i=(0,m().eh)(r,"ai"),o=(0,x().V)();return(0,s().K8)((()=>{const n=t&&!i&&(0,v().wb)()&&1===o,r=(0,h().aB)(y().default.state.currentSpaceStore);return Boolean(n&&(!r||"sidebar"!==e||r>=7))}),[t,i,o,e])}(e),l=(0,g().r)(),d=(0,s().K8)((()=>null==l?void 0:l.canAdmin()),[l]),A=(0,s().K8)((()=>null==l?void 0:l.getSpaceId()),[l]);return(0,c.useEffect)((()=>{!async function(){if(a&&A&&d)try{const n=await o().callApi({eventName:"getCustomerOffer",environment:t,data:{spaceId:A,offerCampaign:"ai_fifty_percent_upgrade"}});if("failed"===n.type)return;if("offer"in n.data){var e;const t=(0,u().RS)(null===(e=n.data)||void 0===e?void 0:e.offer);i((0,p().J5)(t))}}catch(n){return}}()}),[t,a,A,d]),n}var I=()=>n(176983),k=()=>n(975971);function C(e){let{spaceId:t}=e;const n=(0,r().v3)(),i=(0,I().J)();return(0,s().K8)((()=>{if(!t||!i)return;const e=k().A.getData(n,{spaceId:t});return null==e?void 0:e.billingData}),[n,t,i])}var j=()=>n(854418);function w(){const e=(0,j().t)(),[t,n]=(0,c.useState)();return(0,c.useEffect)((()=>{n(!(!e||!("company_employee_count"in e))&&parseInt(e.company_employee_count)>99)}),[e]),t}function P(e,t){const n=(0,s().O$)(e),r=(0,x().V)()??1,d=(0,f().O)(),c=(0,a().l)({spaceId:d}),u=(0,s().K8)((()=>(0,l().eJ)({billingData:c})),[c]),[{value:p}]=(0,i().Yb)((()=>o().callApi({eventName:"isEmailEducation",environment:t,data:{}})),[t]);return!!p&&("failed"!==p.type&&(!!p.data.isEligible&&(!!n&&(!!c&&(!Boolean((0,m().KH)(c,"plan"))&&(u&&1===r))))))}var B=()=>n(314907),M=()=>n(86089)},985315:(e,t,n)=>{n.d(t,{g:()=>s});var r=()=>n(484714),i=()=>n(56366),o=()=>n(765957),a=()=>n(613240);function s(e){let{spaceId:t}=e;const n=(0,r().v3)(),s=(0,i().K8)((()=>{var e;return null===(e=o().default.state.currentSpaceStore)||void 0===e?void 0:e.canEdit()}),[]);return(0,i().K8)((()=>{if(t&&s)return a().A.getData(n,{spaceId:t})}),[n,t,s])}}}]);