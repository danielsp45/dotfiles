"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[2411,5834,34208,62620,67608],{63467:(e,t,o)=>{o.d(t,{y:()=>d});var n=()=>o(637997),i=()=>o(267419);const r={ko:()=>o.e(2268).then(o.bind(o,224434)),es:()=>o.e(95264).then(o.bind(o,196425)),de:()=>o.e(35390).then(o.bind(o,653703)),fr:()=>o.e(3272).then(o.bind(o,94677)),pt:()=>o.e(27315).then(o.bind(o,766869)),zh:()=>o.e(69945).then(o.bind(o,516814)),ja:()=>o.e(77757).then(o.bind(o,824432)),da:()=>o.e(9423).then(o.bind(o,440761)),fi:()=>o.e(59337).then(o.bind(o,462135)),nb:()=>o.e(2040).then(o.bind(o,937314)),nl:()=>o.e(51106).then(o.bind(o,530897)),sv:()=>o.e(53631).then(o.bind(o,895222)),id:()=>o.e(69945).then(o.bind(o,516814)),th:()=>o.e(69945).then(o.bind(o,516814)),vi:()=>o.e(69945).then(o.bind(o,516814))};let a=!1,s=!1;async function l(e){for(const[o,i]of Object.entries(e.emojiLocaleKeywords)){var t;n().fB[o]={...n().fB[o],keywords:[...i,...(null===(t=n().fB[o])||void 0===t?void 0:t.keywords)||[]]}}await i().A.waitUntilLoaded(),i().A.update((t=>{let{emojiByName:o,...n}=t;return{...n,emojiByName:{...o,...e.emojiByName}}}))}async function c(){if(a)return;const[e]=o(662303).locale.split("-");e in r&&(await l(await r[e]()),a=!0)}const d=(0,o(279900).A)((async()=>{await async function(){s||(await l(await o.e(51872).then(o.bind(o,443716))),s=!0)}(),await c()}))},73223:(e,t,o)=>{o.r(t),o.d(t,{dismissTutorial:()=>d,resetTutorials:()=>u,tutorialAdvanceToStep:()=>p,tutorialAdvanceToStepAfter:()=>g,tutorialGoToNextStep:()=>l,tutorialGoToPrevStep:()=>c});var n=()=>o(541235),i=()=>o(751156),r=()=>o(755199),a=()=>o(739135),s=()=>o(765957);function l(e,t){var o;const{currentUserSettingsStore:n}=s().default.state;if(!n)return;const i=null===(o=n.getSettings())||void 0===o?void 0:o.tutorials;m({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{r().mJ({userSettingsStore:n,transaction:e,data:{tutorials:{...i,[t]:(0,a().i9)(n,t)}}})},userId:n.id})}function c(e,t){var o;const{currentUserSettingsStore:n}=s().default.state;if(!n)return;const i=null===(o=n.getSettings())||void 0===o?void 0:o.tutorials;m({userAction:"TutorialActions.prevStep",environment:e,perform:e=>{r().mJ({userSettingsStore:n,transaction:e,data:{tutorials:{...i,[t]:(0,a().KD)(n,t)}}})},userId:n.id})}function d(e,t){var o;const{currentUserSettingsStore:i}=s().default.state;if(!i)return;const a=null===(o=i.getSettings())||void 0===o?void 0:o.tutorials;(null==a?void 0:a[t])!==n().YD&&m({userAction:"TutorialActions.dismissTutorial",environment:e,perform:e=>{r().mJ({userSettingsStore:i,transaction:e,data:{tutorials:{...a,[t]:n().YD}}})},userId:i.id})}function u(e){const{currentUserSettingsStore:t}=s().default.state;t&&m({userAction:"TutorialActions.resetTutorialsDebug",environment:e,perform:e=>{r().mJ({userSettingsStore:t,transaction:e,data:{tutorials:{}}})},userId:t.id})}function p(e,t,o){var i;const{currentUserSettingsStore:l}=s().default.state;if(!l||(0,a().x$)(l,t))return;const c=(0,a().gt)(l,t);n().c$[t].steps.findIndex((e=>e.id===c))>=n().c$[t].steps.findIndex((e=>e.id===o))||r().mJ({userSettingsStore:l,transaction:e,data:{tutorials:{...null===(i=l.getSettings())||void 0===i?void 0:i.tutorials,[t]:o}}})}function g(e,t,o){if((0,a().ll)(o))return;const n=(0,a().tb)(t,o);n&&p(e,t,n)}function m(e){return i().createAndCommit({...e,canUndo:!1})}},93709:(e,t,o)=>{o.r(t),o.d(t,{CollectionNewViewsPopupComponent:()=>X});o(944114),o(898992),o(354520),o(430670),o(581454);var n=o(296540),i=()=>o(484714),r=()=>o(56366),a=()=>o(401497),s=()=>o(663077),l=()=>o(617668),c=()=>o(959013),d=()=>o(496603),u=()=>o(534177),p=()=>o(154017),g=()=>o(751156),m=()=>o(767435),v=()=>o(617254),f=()=>o(313892),h=()=>o(670495),w=()=>o(94778),y=()=>o(818870),x=()=>o(760217),b=()=>o(297872),S=()=>o(928600),C=()=>o(939740),A=()=>o(480095),k=()=>o(8980),M=()=>o(147294),j=()=>o(89924),T=()=>o(859428),P=()=>o(972435),I=()=>o(722872),V=()=>o(963589),_=()=>o(849077),B=()=>o(616598),R=()=>o(338477),D=()=>o(578136),F=()=>o(962730),L=()=>o(765957),E=()=>o(46986),U=()=>o(44750),W=()=>o(621767),H=()=>o(913454),K=()=>o(393695),N=()=>o(759709),O=()=>o(423938),z=()=>o(180762),$=()=>o(519839),G=()=>o(403905),Y=()=>o(745266),q=()=>o(914873),J=o(474848);function X(e){let{collectionContextStore:t,onClose:o,forceHideAdvancedConfigItems:X}=e;const Q=(0,i().v3)(),Z=Q.device,ee=(0,E().Y4)(),te=(0,r().K8)((()=>(0,$().NB)(t,Z)||X?"none":ee?"item":"section"),[t,Z,ee,X]),oe=(0,r().K8)((()=>{var e;return Boolean(null===(e=L().default.state.currentUserSettingsStore)||void 0===e?void 0:e.hasClickedNewFeedButton())}),[]),ne=(0,n.useCallback)((e=>({key:e,render:t=>(0,J.jsx)(x().A,{title:P().A.formatMessage(G().X[e]),icon:(0,J.jsx)(Y().h,{color:"regular",viewType:e}),badge:"feed"===e?(0,J.jsx)(M().Ee,{newBadgeKey:"feed_collection_view",didUserEngage:oe,keyType:"date"}):void 0,...t}),action:()=>{"feed"!==e||oe||(0,R().G)({environment:Q}),g().createAndCommit({userAction:"CollectionViewTabBar.createGenericViewType",environment:Q,canUndo:!0,perform:o=>{(0,O().Z)({environment:Q,collectionContextStore:t,newViewType:e,transaction:o})}}),(0,p().b)({environment:Q,collectionContextStore:t,view_type:e,from:"addButton"})}})),[Q,t,oe]),ie=function(e){let{collectionContextStore:t}=e;const o=(0,i().v3)(),n=(0,V().X)("place_property"),a=(0,r().K8)((()=>(0,D().X)({disableExposureLogging:!0})),[]),l=(0,r().K8)((()=>{var e;return null===(e=t.collectionViewBlockStore())||void 0===e?void 0:e.hasSingleSourceAndNoLinkedCollections()}),[t]),c=(0,K().Y)(t).filter((e=>(0,s().Xq)(e,"collection_view"))),d=(0,r().K8)((()=>{const e=t.collectionStore(),n=t.collectionViewBlockStore();if(!e||!n||!l)return[];const i=e.getFormat().app_config_uri,r=i?(0,f().lS)((0,v().appConfigs)(),i):void 0;return r?(0,f().Ib)({environment:o,appConfig:r,collectionStore:e,collectionViewBlockStore:n}):[]}),[t,o,l]);if(l){if(d.length)return d.map((e=>({type:"suggested_typed_view",viewFeature:e})));if(c.length)return c.map((e=>({type:"suggested_workflow_template_view",viewTemplate:e})))}const u=["table","board","chart","list","timeline","calendar","gallery"];a&&u.push("feed");n&&u.push("map");return u.map((e=>({type:"generic_view",viewType:e})))}({collectionContextStore:t}),re=(0,r().O$)(L().AppStoreMainEditorCurrentBlockStore),ae=(0,V().X)("workflows_mini_agent"),se=(0,n.useMemo)((()=>{if(!ae)return;if(!re)return;const e={type:"newView",collectionViewBlockPointer:re.getSpaceShardedPointer()};return{key:"miniAgent",render:t=>(0,J.jsx)(B().H,{miniAgentConfig:e,blockStore:re,buttonPopupEvents:t,onDismissParent:()=>{o()}}),action:async()=>{const{showMiniAgent:t}=await _().eV.load();t({miniAgentConfig:e,blockStore:re})}}}),[re,o,ae]),le={key:"emptyView",render:e=>(0,J.jsx)(x().A,{title:(0,J.jsx)(c().sA,{defaultMessage:"Empty view",id:"collectionTabBar.newEmptyView.title"}),icon:(0,J.jsx)(k().I,{icon:l().plusIcon}),...e}),action:()=>{g().createAndCommit({userAction:"CollectionViewTabBar.createGenericViewType",environment:Q,canUndo:!0,perform:e=>{(0,O().Z)({environment:Q,collectionContextStore:t,newViewType:"table",transaction:e})}}),(0,p().b)({environment:Q,collectionContextStore:t,view_type:"table",from:"addButton"})}},{renderSuggestedTypedView:ce}=function(e,t){const o=(0,i().v3)(),a=(0,r().O$)(L().AppStoreCurrentSpaceViewStore),s=(0,r().K8)((()=>e.collectionViewBlockStore()),[e]),l=(0,r().K8)((()=>e.collectionStore()),[e]),c=(0,r().K8)((()=>{var e;if(!l)return;const t=null===(e=l.getFormat())||void 0===e?void 0:e.app_config_uri;return t?(0,f().lS)((0,v().appConfigs)(),t):void 0}),[l]),d=n.useCallback((t=>{if(!s||!c||!a)return;const n=s.getParentStore();if(!n||"block"!==n.table&&"space"!==n.table&&"team"!==n.table)return;if(1!==t.dependencies.length)return;const i=t.dependencies[0];g().createAndCommit({userAction:"CollectionViewSuggestedViews.createView",environment:o,canUndo:!0,perform:r=>{var l;m().applyTypedFeatures({environment:o,spaceViewStore:a,appParentStore:n,appUri:c.uri,features:[{type:"simple",featureUri:t.uri}],appCollectionViewBlockStores:[s],createOrModify:"modify",transaction:r});const d=((null===(l=s.getFormat())||void 0===l?void 0:l.app_uri_map)??{})[i.uri];(0,z().t)({environment:o,collectionContextStore:e,collectionViewId:d,isFullScreen:e.isFullScreenStore.state,isRootChild:e.isRootChildStore.state,isInPeekRenderer:e.isInPeekRendererStore.state}),(0,p().b)({environment:o,collectionContextStore:e,view_type:i.value.type,view_config_uri:t.uri,feature:{id:d,from:"suggested_view",type:t.uri},from:"addButton"})}})}),[s,c,a,o,e]),u=n.useCallback((e=>{const o=(e,t)=>{var o;const n=e.dependencies[0],i=(0,J.jsx)(Y().h,{color:"regular",viewIcon:null===(o=n.value.format)||void 0===o?void 0:o.collection_view_icon,viewType:n.value.type});return(0,J.jsx)(x().A,{title:n.value.name?n.value.name:"New View",icon:i,...t})};return{key:e.uri,render:t=>(0,J.jsx)(T().A,{placement:F().W.Left,render:n=>o(e,{...t,...n,onMouseEnter:e=>{var o,i;null===(o=n.onMouseEnter)||void 0===o||o.call(n,e),null===(i=t.onMouseEnter)||void 0===i||i.call(t,e)}}),renderTooltip:()=>e.description}),action:()=>{d(e),t()}}}),[d,t]);return{renderSuggestedTypedView:u}}(t,o),{renderSuggestedWorkflowTemplateView:de}=function(e,t){const o=(0,i().v3)(),n=(0,a().IS)((e=>({icon:{fill:e.icon.primary}})),[]);return{renderSuggestedWorkflowTemplateView:(i,r,a)=>({key:`workflow.${i.templateId}`,action:()=>{(0,U().p)({environment:o,collectionContextStore:e,template:i,suggestedFeatureAnalytics:{origin:"suggested_views",shownTemplateIds:a,selectedIndex:r}}),t()},render:e=>(0,J.jsx)(x().A,{...e,icon:(0,J.jsx)(W().z,{template:i,size:16,iconStyle:n.icon}),title:(0,H().getWorkflowTemplateName)(i)})})}}(t,o),ue=ie.flatMap((e=>"suggested_workflow_template_view"===e.type?[e.viewTemplate]:[])).map((e=>e.templateId));(0,N().O)({collectionContextStore:t,origin:"suggested_views",shownTemplateIds:ue});const pe=(0,q().e)({collectionContextStore:t,environment:Q}),ge=(0,h().L)({environment:Q,collectionContextStore:t,onAddNewFormClick:o,from:"addFormButton"}),me=ge?{key:"formViewItem",action:ge,render:e=>(0,J.jsx)(w().A,{collectionContextStore:t,isCompact:ee,compactColor:"primary",type:"menuItem",...e})}:void 0,ve=me?{key:"form",render:e=>(0,J.jsx)(j().A,{topBorder:!0,...e}),items:[me]}:void 0,fe={key:"genericViews",render:e=>(0,J.jsx)(j().A,{title:ee?void 0:(0,J.jsx)(c().sA,{defaultMessage:"New view",id:"database.collectionTabBar.newViews"}),...e}),items:[...se?[se]:[],le,...ie.map(((e,t)=>{switch(e.type){case"suggested_typed_view":return ce(e.viewFeature);case"suggested_workflow_template_view":return de(e.viewTemplate,t,ue);case"generic_view":return ne(e.viewType);default:(0,u().HB)(e)}})),..."item"===te&&me?[me]:[]]},he=(0,y().Q)({collectionContextStore:t,environment:Q,from:"addNewDatabaseButton"}),we=X?[]:(0,d().oE)([he,pe]),ye=we.length>0?{key:"advancedSection",render:e=>(0,J.jsx)(j().A,{topBorder:!0,...e}),items:we}:void 0;return(0,J.jsx)(b().A,{capture:!0,allowEsc:!0,render:e=>{let t;return t=Z.isPhone?{menuType:I().gu.Modal,right:(0,J.jsx)(A().DoneMenuText,{}),onClickRight:o,...e}:{menuType:I().gu.Popup,minWidth:ee?200:290,maxWidth:ee?200:320,maxHeight:ee?"70vh":"50vh",...e},(0,J.jsx)(S().A,{...t,children:(0,J.jsx)(C().Ay,{type:C().Oh.Vertical,initialFocus:void 0,sections:[fe,..."section"===te&&ve?[ve]:[],...ye?[ye]:[]],onAccept:e=>{"showMore"!==e.key&&o()}})})}})}},94778:(e,t,o)=>{o.d(t,{A:()=>c});o(296540);var n=()=>o(401497),i=()=>o(575157),r=()=>o(959013),a=()=>o(760217),s=()=>o(8980),l=o(474848);function c(e){const{collectionContextStore:t,onClick:o,isCompact:c,compactColor:d="primary",...u}=e,p=(0,n().IS)((e=>({compactFormButton:{color:"secondary"===d?e.text.secondary:void 0,display:"flex",flexDirection:"row"}})),[d]),g=(0,l.jsx)(a().A,{..."menuItem"===u.type?u:{focused:!1},onClick:o,title:(0,l.jsx)("div",{style:p.compactFormButton,children:(0,l.jsx)(r().sA,{defaultMessage:"Form",id:"database.collectionViewSelect.newFormButtonTitle"})}),style:{padding:"1 0"},icon:(0,l.jsx)(s().I,{icon:i().D,color:d})}),m=(0,l.jsx)(a().A,{..."menuItem"===u.type?{...u,onClick:o}:{focused:!1,onClick:o},title:(0,l.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:(0,l.jsx)(r().sA,{defaultMessage:"Form",id:"CollectionViewTabBar.newFormItem.title"})}),icon:(0,l.jsx)(s().I,{icon:i().D}),shouldWrapCaption:!0,caption:(0,l.jsx)(r().sA,{defaultMessage:"Create a form to input data directly into this database",id:"CollectionViewTabBar.newFormItem.description"})});return c?g:m}},105819:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,pencilLineIcon:()=>i});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.63 4.12 14.99 11.76",svg:(0,o(474848).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},i=(0,o(340498).wt)("pencilLine",n)},132389:(e,t,o)=>{o.d(t,{A:()=>i});o(296540);var n=o(474848);function i(e){const t={display:"inline-block",minWidth:e.size,minHeight:e.size};return"x"===e.axis?t.minHeight=1:"y"===e.axis&&(t.minWidth=1),(0,n.jsx)("div",{style:t})}},132855:(e,t,o)=>{o.r(t),o.d(t,{arrowInCircleUpFillIcon:()=>i,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,o(474848).jsx)("path",{d:"M10 17.625a7.625 7.625 0 1 0 0-15.25 7.625 7.625 0 0 0 0 15.25m3.042-8.07a.625.625 0 0 1-.884 0L10.625 8.02v5.466a.625.625 0 1 1-1.25 0V8.021L7.842 9.554a.625.625 0 1 1-.884-.883l2.6-2.6a.625.625 0 0 1 .884 0l2.6 2.6a.625.625 0 0 1 0 .883"})},i=(0,o(340498).wt)("arrowInCircleUpFill",n)},154017:(e,t,o)=>{o.d(t,{b:()=>a});var n=()=>o(476492),i=()=>o(679924);var r=()=>o(504066);function a(e){const{environment:t,collectionContextStore:o,view_type:a,view_config_uri:s,from:l,...c}=e;!function(e,t){(0,i().v)(e,"create_view",t)}(t,{...(0,n().sl)(o)||{},...c,view_type:a,view_config_uri:s,from:l}),(0,r().f)({collectionContextStore:o,action:"create_view",from:l,property_type:void 0})}},207207:(e,t,o)=>{o.d(t,{J:()=>i});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.62 2.62 15.26 15.26",svg:(0,o(474848).jsx)("path",{d:"M8.875 2.625a6.25 6.25 0 1 0 3.955 11.09l3.983 3.982a.625.625 0 1 0 .884-.884l-3.983-3.982a6.25 6.25 0 0 0-4.84-10.205m-5 6.25a5 5 0 1 1 10 0 5 5 0 0 1-10 0"})},i=(0,o(340498).wt)("magnifyingGlass",n)},240865:(e,t,o)=>{o.d(t,{V:()=>r});var n=()=>o(56366),i=()=>o(765957);function r(e){return(0,n().K8)((()=>{var t;return e?e.getMemberCountFromPublicSpaceData()??void 0:(null===(t=i().default.state.currentSpaceStore)||void 0===t?void 0:t.getMemberCountFromPublicSpaceData())??void 0}),[e])}},265793:(e,t,o)=>{o.d(t,{b:()=>f,w:()=>h});var n=()=>o(484714),i=()=>o(56366),r=()=>o(888325),a=()=>o(187174),s=()=>o(96689),l=()=>o(541801),c=()=>o(449506),d=()=>o(645873),u=()=>o(765957),p=()=>o(414834),g=()=>o(961581),m=()=>o(299177);const v=!1;function f(e){var t;const o=null===(t=(0,d().fJ)(l().xl).value)||void 0===t?void 0:t.loadWorkflowTemplateInstances;(0,i().K8)((()=>{if(!o)return;const t=e instanceof p().A?e.collectionStore():e;t&&o(t)}),[o,e])}function h(){const e=(0,n().v3)(),t=(0,i().K8)((()=>{var e;if(function(){const e=g().A.state.initialRenderCompleted;v&&!e&&console.log("Initial page render is not yet completed, delaying refresh of workflow template instances.");return e}())return null===(e=u().default.state.currentSpaceStore)||void 0===e?void 0:e.getSpaceId()}),[]);(0,a().Yb)((async()=>{if(!t)return;(m().A.debug||v)&&console.log("Refreshing workflow template instance map for space",t);const o={table:s().NX,id:t,spaceId:t},n=await c().callApi({eventName:"getWorkflowTemplateInstances",environment:e,data:{spaceId:o.spaceId,scopeTable:o.table,scopeId:o.id,enableInstanceRobustness:!0}});if("success"===n.type){const e=(0,r()._)(o);m().A.setState({...m().A.state,[e]:n.data.instanceMap[e]})}}),[e,t])}},271084:(e,t,o)=>{o.d(t,{k:()=>i});o(581454);class n extends(()=>o(757695))().Store{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}getSortedUserIds(){return Object.entries(this.state||{}).sort(((e,t)=>{let[o,n]=e,[i,r]=t;return r-n})).map((e=>{let[t,o]=e;return t}))}}const i=new n;(0,o(604341).exposeDebugValue)("UserSimilarityStore",i)},279900:(e,t,o)=>{function n(e){let t,o,n;return async function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t?(n=r,o||(o=t.then((()=>(o=void 0,t=e(...n),t))),o)):(t=e(...r),t)}}o.d(t,{A:()=>n})},338477:(e,t,o)=>{o.d(t,{G:()=>s,m:()=>l});var n=()=>o(449506),i=()=>o(751156),r=()=>o(755199),a=()=>o(765957);function s(e){const{environment:t,transaction:o}=e,{currentUserSettingsStore:n}=a().default.state;if(!n)return;const s=e=>{r().mJ({userSettingsStore:n,transaction:e,data:{feed_view_new_button_clicked_at:Date.now()}})};o?s(o):i().createAndCommit({environment:t,userAction:"feedActions.markFeedViewNewButtonClicked",canUndo:!1,cellTarget:"main",perform:e=>s(e)})}function l(e){return n().callApi({eventName:"createFeedViewOnboardingPage",environment:e.environment,data:{spaceId:e.spaceId}})}},393695:(e,t,o)=>{o.d(t,{Y:()=>s});var n=()=>o(484714),i=()=>o(56366),r=()=>o(200277),a=()=>o(265793);function s(e){const t=(0,n().v3)();return(0,a().b)(e),(0,i().K8)((()=>{const o=e.collectionStore();return o?(0,r().N)(t,o):[]}),[t,e])}},399762:(e,t,o)=>{o.d(t,{O:()=>c,q:()=>d});o(296540);var n=()=>o(401497),i=()=>o(381349),r=()=>o(284371),a=()=>o(288722),s=()=>o(881690),l=o(474848);function c(e){const{value:t,color:o,format:c,showEllipsis:d,onClickRemove:u,showRemoveButton:p,isSingle:g,shouldShrink:m,hideTooltip:v,description:f,tooltipPlacement:h,...w}=e,y=(0,n().DP)(),x=(0,n().IS)((e=>({token:{...d&&r().RC}})),[d]),{textColor:b,backgroundColor:S}=(0,i().LD)(y,o);return t?(0,l.jsx)(s().A,{format:c,value:(0,l.jsx)(a().A,{children:t}),description:f,onClickRemove:u,showRemoveButton:p,isSingle:g,color:b,backgroundColor:S,shouldShrink:m,tooltipPlacement:h,showTooltip:v?"never":"overflow",style:x.token,...w}):null}function d(e){const{value:t,color:o,format:c,showEllipsis:d,onClickRemove:u,showRemoveButton:p,isSingle:g,shouldShrink:m,groupColor:v,tooltipPlacement:f,description:h,hideTooltip:w,...y}=e,x=(0,n().DP)(),b=(0,n().IS)((()=>({token:{...d&&r().RC}})),[d]);if(!t)return null;const{textColor:S,backgroundColor:C}=(0,i().LD)(x,o??v??"gray");let A;return A=o||(v||"gray"),(0,l.jsx)(s().A,{format:c,value:(0,l.jsx)(a().A,{children:t}),description:h,onClickRemove:u,showRemoveButton:p,isSingle:g,color:S,backgroundColor:C,shouldShrink:m,showTooltip:w?"never":"overflow",style:b.token,isRound:!0,showColoredDot:A,tooltipPlacement:f,...y})}},406533:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>i,questionMarkCircleIcon:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.26 15.25",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M9.978 7.154c-.804 0-1.333.456-1.438.874a.625.625 0 0 1-1.213-.303c.28-1.121 1.44-1.82 2.65-1.82 1.365 0 2.714.905 2.714 2.298 0 .812-.49 1.477-1.13 1.872l-.755.516a.84.84 0 0 0-.381.677.625.625 0 1 1-1.25 0c0-.688.36-1.318.921-1.706l.003-.002.784-.535.014-.008c.374-.228.544-.537.544-.814 0-.459-.517-1.049-1.463-1.049m.662 6.336a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,n.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},r=(0,o(340498).wt)("questionMarkCircle",i)},413267:(e,t,o)=>{o.d(t,{b:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("thinCheck",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M6.385 14.162c.362 0 .642-.15.84-.444L13.652 3.71c.144-.226.205-.417.205-.602 0-.485-.341-.82-.833-.82-.335 0-.54.123-.746.444l-5.926 9.4-3.042-3.903c-.205-.267-.417-.376-.718-.376-.492 0-.848.348-.848.827 0 .212.075.417.253.629l3.541 4.416c.24.3.492.437.848.437z"})})},454531:(e,t,o)=>{o.d(t,{W:()=>v});var n=()=>o(780054),i=()=>o(972435),r=()=>o(867772),a=()=>o(681810),s=()=>o(901389),l=()=>o(896628),c=()=>o(383594),d=()=>o(675925),u=()=>o(751156),p=()=>o(892632);const g=1500,m=(0,o(959013).YK)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},preparing:{defaultMessage:"Preparing...",id:"pageCover.status.preparing"},downloading:{defaultMessage:"Downloading...",id:"pageCover.status.downloading"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image link…",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function v(e){let{environment:t,intl:o,store:n,rect:i,from:r}=e;c().W(t,{originGap:3,originRect:i,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:o.formatMessage(m.pageCover),onDelete:()=>{!function(e){let{environment:t,store:o}=e;c().I(),u().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{l().PT({store:o,transaction:e})}})}({environment:t,store:n})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:o,position:i}=e;(0,d().o)(t,{action:"edit_cover",block_type:"page",from:r},(e=>{h({environment:t,store:n,url:{originUrl:o},position:i}),e()}))}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:o.formatMessage(m.fileTypeCaption,{idealImageWidth:g}),onUpload:e=>{(0,d().o)(t,{action:"edit_cover",block_type:"page",from:r},(i=>{var r;c().I(),p().QM({environment:t,file:e[0],bucket:"secure",record:(null===(r=n.getCoverStore())||void 0===r?void 0:r.pointer)??n.pointer,isFileBlock:!1,reportRichUploadMetrics:!0,onStart:w,onProgress:y,onComplete:e=>{var o;o={environment:t,store:n,url:{originUrl:e}},f({...o,position:.5})},onError:()=>{s().f1(o.formatMessage(m.uploadFailed))}}),i()}))}},{type:"embed",title:o.formatMessage(m.embedTitle),inputPlaceholder:o.formatMessage(m.embedPlaceholder),caption:o.formatMessage(m.embedCaption),buttonText:o.formatMessage(m.embedSubmit),onChange:e=>{(0,d().o)(t,{action:"edit_cover",block_type:"page",from:r},(o=>{var i;i={environment:t,store:n,url:e},f({...i,position:.5}),c().I(),o()}))}},{type:"unsplash",onChange:e=>{let{url:o,position:i}=e;(0,d().o)(t,{action:"edit_cover",block_type:"page",from:r},(e=>{h({environment:t,store:n,url:{originUrl:o},position:i}),e()}))}}]})}async function f(e){const{environment:t,store:o,url:n,position:s}=e,{serverCommitResult:c}=u().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{l().fg({store:o,url:n,position:s||.5,transaction:e})}});await c,a().A.state.loadingMode===r().vS&&a().A.setState({loadingMode:r().Gi,dataURL:a().A.state.dataURL,uploadProgress:t.device.isMobileNative?void 0:100,progressText:i().A.formatMessage(m.downloading)})}function h(e){f(e),n().A.isMobile&&c().I()}function w(e){const{file:t,name:o,size:n}=e;if(c().I(),a().A.setState({loadingMode:r().Wc,file:t,name:o,size:n}),t.type.indexOf("image")>=0)if(t instanceof File){const e=new FileReader;e.onload=e=>{a().A.state.loadingMode===r().Wc&&a().A.setState({...a().A.state,loadingMode:r().vS,uploadProgress:0,dataURL:e.target.result})},e.readAsDataURL(t)}else a().A.state.loadingMode===r().Wc&&a().A.setState({...a().A.state,loadingMode:r().vS,dataURL:t.dataURL,progressText:i().A.formatMessage(m.preparing)});else a().A.state.loadingMode===r().Wc&&a().A.setState({...a().A.state,loadingMode:r().vS,progressText:i().A.formatMessage(m.preparing)})}function y(e){const{progressPercent:t,progressText:o}=e;a().A.state.loadingMode===r().vS&&a().A.setState({...a().A.state,uploadProgress:t,progressText:o})}},477293:(e,t,o)=>{o.d(t,{r:()=>r});var n=()=>o(56366),i=()=>o(217429);function r(e){let{disableExposureLogging:t,disableEventTrailLogging:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n().K8)((()=>i().default.getEligibleGroup({experimentId:e,defaultGroup:"control",disableExposureLogging:t,disableEventTrailLogging:o})),[e,t,o])}},491701:(e,t,o)=>{o.d(t,{DZ:()=>n,Mw:()=>i,jr:()=>r});const n=(0,o(959013).YK)({menuItemLabel:{id:"miniAgent.menuItemLabel",defaultMessage:"Build with AI"},newPropertyPlaceholder:{id:"miniAgent.newProperty.placeholder",defaultMessage:"Describe the new property"},newPropertyThinking:{id:"miniAgent.newProperty.thinking",defaultMessage:"Adding property"},newViewPlaceholder:{id:"miniAgent.newView.placeholder",defaultMessage:"Describe your view"},newViewThinking:{id:"miniAgent.newView.thinking",defaultMessage:"Creating view"},editViewPlaceholder:{id:"miniAgent.editView.placeholder",defaultMessage:"Describe your changes"},editViewThinking:{id:"miniAgent.editView.thinking",defaultMessage:"Editing view"}}),i={newProperty:n.newPropertyPlaceholder,newView:n.newViewPlaceholder,editView:n.editViewPlaceholder},r={newProperty:n.newPropertyThinking,newView:n.newViewThinking,editView:n.editViewThinking}},497222:(e,t,o)=>{o.d(t,{A:()=>g});o(296540);var n=()=>o(804773),i=()=>o(401497),r=()=>o(906380),a=()=>o(30626),s=()=>o(284371),l=()=>o(760217),c=()=>o(8980),d=()=>o(612900),u=()=>o(700251),p=o(474848);function g(e){const{icon:t,iconStyle:o,title:g,caption:m,right:v,rightStyle:f,isRed:h,isGray:w,isOrange:y,onClick:x,onMouseDown:b,onMouseEnter:S,onMouseLeave:C,disabled:A,showChevron:k,chevronStyle:M,rotateChevron:j,showDragHandle:T,focused:P,textWrapperStyle:I,shouldWrapCaption:V,desktopIconStyle:_,buttonStyle:B,desktopTitleStyle:R,source:D,menuListItemProps:F,isPulsing:L}=e,E=(0,u().y$)(),U=(0,i().IS)((e=>({style:{...(e=>w?{color:e.text.secondary,fill:e.icon.secondary}:y?{color:e.icon.orangePrimary,fill:e.icon.orangePrimary}:{color:e.text.primary,fill:e.icon.primary})(e),opacity:A?.4:void 0,...B},leftIconStyle:{width:E,height:E,...t===a()._&&{height:3},...o},rightStyle:{display:"flex",alignItems:"center",color:A?e.text.primary:e.text.tertiary,fill:A?e.icon.primary:e.icon.tertiary,flexShrink:0,...f},rightChevronStyle:{marginLeft:"tableHeaderMenu"===D?0:6,transition:"transform 200ms ease-in-out",...j&&{transform:"rotate(90deg)"},...M}})),[w,y,A,o,t,M,f,B,E,j,D]),{itemRef:W,isTabbable:H,onKeyDown:K,onFocus:N}=(0,n().e)(),O=(0,p.jsx)(l().A,{ref:W,icon:null==t?void 0:t(U.leftIconStyle),focused:P||!1,disabled:A,title:g,caption:m,shouldWrapCaption:V,desktopTitleStyle:{flexGrow:1,flexShrink:1,...R},onKeyDown:K,onFocus:N,disallowTabbing:!H,showDragHandle:T,buttonStyle:U.style,rightStyle:U.rightStyle,isRedOnHover:h,ignoreLocalHoverState:!!A||void 0,right:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{...s().RC,display:"flex"},children:v}),!A&&k?(0,p.jsx)(c().I,{icon:r().arrowChevronSingleRightSmallIcon,size:"sm",color:"tableHeaderMenu"===D?"secondary":"tertiary",style:U.rightChevronStyle}):null]}),onClick:x,onMouseDown:b,onMouseEnter:S,onMouseLeave:C,textWrapperStyle:I,desktopIconStyle:_,...F});return L?(0,p.jsx)(d().u,{borderRadius:6,shape:"square",children:O}):O}},541235:(e,t,o)=>{o.d(t,{YD:()=>r,c$:()=>n,q_:()=>i});const n={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]}},i="completed",r="dismissed"},544862:(e,t,o)=>{o.d(t,{A:()=>C});var n=o(296540),i=()=>o(484714),r=()=>o(56366),a=()=>o(959013),s=()=>o(896628),l=()=>o(454531),c=()=>o(751156),d=()=>o(478726),u=()=>o(227440),p=()=>o(867772),g=()=>o(681810),m=()=>o(608581),v=()=>o(145214),f=()=>o(704152),h=()=>o(807683),w=()=>o(401497),y=()=>o(534177),x=o(474848);function b(e){let{src:t,placeholderSrc:o,placeholderBehavior:i,imageStyle:r,containerStyle:a,onLoadComplete:s,testId:l}=e;const[c,d]=(0,n.useState)(!0);let u;switch(i){case"force-show-placeholder":u=!0;break;case"force-show-src":u=!1;break;case"show-placeholder-if-loading-src":u=!!o&&(c||void 0===t);break;default:(0,y().HB)(i)}const p=(0,w().IS)((()=>{const e={gridColumn:1,gridRow:1};return{container:{display:"grid",...a},srcWrapper:{...u&&{display:"none"},...e},placeholderWrapper:{pointerEvents:"none",...e}}}),[a,u]);(0,n.useEffect)((()=>{void 0!==t&&d(!0)}),[t]);const g=(0,n.useCallback)((e=>{d(!1),null==s||s()}),[s]);return(0,x.jsxs)("div",{style:p.container,children:[(0,x.jsx)(h().Ay,{src:t,onLoad:g,style:r,placeholderStyle:p.srcWrapper,placeholderLoadedStyle:p.srcWrapper,testId:l}),o&&(0,x.jsx)(h().Ay,{src:o,style:r,placeholderStyle:p.placeholderWrapper,placeholderLoadedStyle:p.placeholderWrapper})]})}var S=()=>o(453101);const C=function(e){let{store:t,disabled:a,paddingRight:l,paddingLeft:d,height:u,proxyWidth:m}=e;const v=(0,i().v3)(),f=(0,i().Y0)(),w=(0,r().uB)(void 0,o(454305).A),y=(0,r().K8)((()=>a||"suggest"===o(77246).Uv.getMode(t)||(0,o(600871).aD)(f)),[a,t,f]),S=(0,r().K8)((()=>t.getCover()),[t]),C=(0,r().O$)(g().A),[M,j]=(0,n.useState)(void 0);if(!S)return null;const T=C.loadingMode!==p().pF&&C.loadingMode!==p().Wc;return(0,x.jsx)(o(801678).A,{mouseStore:w,onFlushTemporaryPosition:e=>function(e,t,o){const{imagePosition:n,reset:i}=e;c().createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:o,canUndo:!0,perform:e=>{s().yY({store:t,coverPosition:n,transaction:e}),i()}})}(e,t,v),renderControl:e=>{let{handleRepositionClick:o,handleSavePositionClick:n,handleCancelClick:i,isVisible:r,isRepositioning:a}=e;return(0,x.jsx)(k,{handleRepositionClick:o,handleSavePositionClick:n,handleCancelClick:i,isVisible:r,isRepositioning:a,lastProxiedUrl:M,store:t,disabled:y,paddingRight:l,paddingLeft:d,mouseStore:w})},source:"page",store:t,style:{display:"flex",flexDirection:"column",alignItems:"center",height:u,maxHeight:280,cursor:"default"},preventClickPropagation:!0,render:e=>(0,x.jsxs)(n.Fragment,{children:[(0,x.jsx)(o(360083).A,{url:S.cover,isAuthenticated:!0,permissionRecord:S.pointer,width:m,onFinishedLoadingProxyUrl:j,render:(t,o)=>{const n={width:"100%",height:u,maxHeight:280,objectFit:"cover",opacity:T?.5:1,objectPosition:`center ${100*(1-(e.imagePosition||0))}%`,borderRadius:0},i={width:"100%",height:u,maxHeight:280};return(0,x.jsx)(b,{src:o,placeholderSrc:T?C.dataURL:void 0,placeholderBehavior:T?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:i,imageStyle:n,onLoadComplete:A,testId:"pageCover"})}}),T&&(0,x.jsxs)("div",{style:h().fd,children:[(0,x.jsx)(o(331542).A,{size:"md",style:{marginRight:4}}),(0,x.jsx)("div",{style:{minWidth:30,textAlign:"right"},children:void 0!==C.uploadProgress?(0,x.jsx)(o(773382).A,{percentage:C.uploadProgress}):C.progressText?(0,x.jsx)("span",{children:C.progressText}):null})]})]})})};function A(){g().A.reset()}function k(e){let{isVisible:t,isRepositioning:o,handleCancelClick:s,handleRepositionClick:c,handleSavePositionClick:h,lastProxiedUrl:w,store:y,disabled:b,paddingRight:C,paddingLeft:A,mouseStore:k}=e;const M=(0,i().v3)(),j=(0,a().tz)(),T=(0,n.useCallback)((e=>function(e,t,o,n,i){i.reset();const r=e.target.getBoundingClientRect();l().W({environment:t,intl:o,store:n,rect:r,from:"page_header"})}(e,M,j,y,k)),[M,j,y,k]),P=(0,r().K8)((()=>g().A.state.loadingMode),[]),I=(0,r().K8)((()=>function(e){let t;return t=Boolean(e.isFullWidth())?"100%":d().x6,t}(y)),[y]),{device:V}=M,_=(0,r().O$)(u().e);if(b||P!==p().pF||!_)return null;const{isMobile:B}=V;return(0,x.jsx)(v().A,{animate:{width:I,opacity:t?1:0},style:{position:"absolute",pointerEvents:t?"auto":"none",maxWidth:"100%",top:48},children:(0,x.jsxs)(m().A,{isVisible:t,position:"bottom",style:{marginRight:C,marginLeft:A},children:[!o&&(0,x.jsx)(f().A,{style:{borderRight:B?"none":void 0,...S().k},onClick:T,children:(0,x.jsx)(a().sA,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})}),!o&&!B&&(0,x.jsx)(f().A,{style:{...S().k,borderRight:"none"},onClick:e=>c(e,w),children:(0,x.jsx)(a().sA,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})}),o&&!B&&(0,x.jsx)(f().A,{style:S().k,onClick:h,children:(0,x.jsx)(a().sA,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})}),o&&!B&&(0,x.jsx)(f().A,{style:{...S().k,borderRight:"none"},onClick:s,children:(0,x.jsx)(a().sA,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"})})]})})}},608581:(e,t,o)=>{o.d(t,{A:()=>u});o(898992),o(354520),o(581454),o(941795);var n=o(296540),i=()=>o(401497),r=()=>o(955825),a=()=>o(284371),s=()=>o(780054),l=()=>o(963575),c=o(474848);function d(e){const{button:t,isLast:o}=e,s=(0,i().IS)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:a().Wy.medium,borderRight:`1px solid ${e.regularDividerColor}`,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor},buttonLast:{borderRight:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return n.cloneElement(t,{...(0,r().AH)(t.props.style,s.button,o&&s.buttonLast),hoveredStyle:(0,r().AH)(s.buttonHovered,o&&s.buttonLast).style,pressedStyle:s.buttonPressed})}const u=function(e){let{children:t,isVisible:u,position:p,style:g}=e;const m=(0,i().IS)((e=>({container:{color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.shadowSM,display:"flex",whiteSpace:"nowrap",borderRadius:l().A.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:s().A.isMobile?"auto":"none",opacity:s().A.isMobile?1:0,fontFamily:a().vc(o(662303).locale).sans,position:"absolute",right:l().A.horizontal.small,bottom:l().A.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:l().A.vertical.small,bottom:void 0}})),[]),v=n.Children.toArray(t).filter(o(534177).O9),f=v.length;return(0,c.jsx)(o(145214).A,{animate:{opacity:u?1:0},...(0,r().AH)(m.container,g,u&&m.containerHover,"top"===p&&m.containerTop),children:v.map(((e,t)=>{const i=t===f-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===o(859428).A&&n.isValidElement(e))return n.cloneElement(e,{render:(t,o)=>{const n=e.props.render(t,o);return(0,c.jsx)(d,{isLast:i,button:n},e.key)}});if(e.type===o(704152).A&&n.isValidElement(e))return(0,c.jsx)(d,{isLast:i,button:e},e.key)}}))})}},612900:(e,t,o)=>{o.d(t,{u:()=>r});var n=()=>o(645873);const i=new(n().O2)("PulsingWrapper",(async()=>o.e(45248).then(o.bind(o,673962)))),r=(0,n().jQ)(i,(e=>e.PulsingWrapper),{renderLoading:(e,t)=>t.children})},616598:(e,t,o)=>{o.d(t,{H:()=>f});var n=o(296540),i=()=>o(484714),r=()=>o(852507),a=()=>o(529099),s=()=>o(959013),l=()=>o(849077),c=()=>o(2220),d=()=>o(760217),u=()=>o(8980),p=()=>o(963589),g=()=>o(46986),m=()=>o(491701),v=o(474848);function f(e){const{miniAgentConfig:t,blockStore:o,buttonPopupEvents:f,onFinished:h,onStarted:w,onDismissParent:y,title:x}=e,b=(0,i().v3)(),S=(0,n.useCallback)((async e=>{y();const{showMiniAgent:n}=await l().eV.load();n({miniAgentConfig:t,blockStore:o,onStarted:w,onFinished:h})}),[h,t,o,y,w]),C=(0,p().X)("workflows_mini_agent"),A=(0,g().i7)();return(0,r().w)((()=>{C&&A&&(0,c().u)({environment:b,event:{eventName:"mini_agent_item_displayed",eventProperties:{config_type:t.type}}})})),C&&A?(0,v.jsxs)("div",{style:{position:"relative"},children:[(0,v.jsx)(l()._s,{}),(0,v.jsx)(d().A,{focused:!1,...f,icon:(0,v.jsx)(u().I,{icon:a().aiFaceIcon}),onClick:S,title:x??(0,v.jsx)(s().sA,{...m().DZ.menuItemLabel})})]}):null}},670495:(e,t,o)=>{o.d(t,{L:()=>l});var n=o(296540),i=()=>o(154017),r=()=>o(751156),a=()=>o(645873),s=()=>o(339034);function l(e){let{environment:t,collectionContextStore:o,from:l,onAddNewFormClick:c}=e;const{value:d}=(0,a().fJ)(s().formsEditorDependency),u=(0,n.useCallback)((()=>{var e;const n=(null===(e=o.collectionViewBlockStore())||void 0===e||null===(e=e.inMemoryRecordCache)||void 0===e?void 0:e.isTemporaryData)??!1;r().createAndCommit({userAction:"CollectionViewTabBar.createGenericViewType",environment:t,canUndo:!0,skipDefaultPostPerformValidationChecks:n,perform:e=>{d&&d.formEditorActions.createAndFocusCollectionFormEditorView({environment:t,collectionContextStore:o,transaction:e})}}),null==c||c(),(0,i().b)({environment:t,collectionContextStore:o,view_type:"form_editor",from:l})}),[t,o,d,c,l]);return d?u:void 0}},681810:(e,t,o)=>{o.d(t,{A:()=>n});const n=new(o(867772).Ay)},701751:(e,t,o)=>{o.d(t,{p:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"3.97 1.94 14.91 15.66",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M10.55 12.808a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 1 0 1.1 0z"}),(0,n.jsx)("path",{d:"M15.4 1.95a3.48 3.48 0 0 0-3.48 3.48v1.92H6.4a2.425 2.425 0 0 0-2.425 2.425v5.4A2.425 2.425 0 0 0 6.4 17.6h7.2a2.425 2.425 0 0 0 2.425-2.425v-5.4A2.425 2.425 0 0 0 13.6 7.35h-.43V5.43a2.23 2.23 0 1 1 4.46 0v2.095a.625.625 0 1 0 1.25 0V5.43a3.48 3.48 0 0 0-3.48-3.48M5.225 9.775c0-.649.526-1.175 1.175-1.175h7.2c.649 0 1.175.526 1.175 1.175v5.4c0 .649-.526 1.175-1.175 1.175H6.4a1.175 1.175 0 0 1-1.175-1.175z"})]})},r=(0,o(340498).wt)("lockOpen",i)},735790:(e,t,o)=>{o.d(t,{M:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.25 15.25 11.5",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M3 7.375h6.829a2.501 2.501 0 0 0 4.842 0H17a.625.625 0 1 0 0-1.25h-2.329a2.501 2.501 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25M12.25 5.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M7.75 15.75a2.5 2.5 0 0 0 2.421-1.875H17a.625.625 0 1 0 0-1.25h-6.829a2.5 2.5 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25h2.329A2.5 2.5 0 0 0 7.75 15.75m0-1.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"})]})},r=(0,o(340498).wt)("sliders",i)},739135:(e,t,o)=>{o.d(t,{KD:()=>c,gt:()=>d,i9:()=>l,ll:()=>a,tb:()=>s,x$:()=>r});var n=()=>o(541235),i=()=>o(496603);function r(e,t){return a(d(e,t))}function a(e){return void 0!==e&&(e===n().q_||e===n().YD)}function s(e,t){if(a(t))return;const o=n().c$[e],i=o.steps.findIndex((e=>e.id===t));return-1===i?o.steps[0].id:i===o.steps.length-1?n().q_:o.steps[i+1].id}function l(e,t){const o=d(e,t);if(o&&!a(o))return s(t,o)}function c(e,t){const o=d(e,t);if(o)return function(e,t){const o=n().c$[e];var r;if(a(t))return null===(r=(0,i().HV)(o.steps))||void 0===r?void 0:r.id;const s=o.steps.findIndex((e=>e.id===t));return-1!==s&&0!==s?o.steps[s-1].id:void 0}(t,o)}function d(e,t){var o;if(!e)return;const i=((null===(o=e.getSettings())||void 0===o?void 0:o.tutorials)||{})[t];return void 0===i?n().c$[t].steps[0].id:i}},748539:(e,t,o)=>{o.d(t,{f:()=>n});const n=new(o(645873).O2)("pageCovers",(async()=>{const{pageCovers:e}=await o.e(40198).then(o.bind(o,519737));return e}))},759709:(e,t,o)=>{o.d(t,{O:()=>s});var n=o(296540),i=()=>o(484714),r=()=>o(56366),a=()=>o(2220);function s(e){let{collectionContextStore:t,shownTemplateIds:o,origin:s}=e;const l=(0,i().v3)(),c=(0,r().K8)((()=>{var e;return null===(e=t.collectionStore())||void 0===e?void 0:e.getWorkflowTemplateId()}),[t]),d=(0,n.useRef)(!1);(0,n.useEffect)((()=>{!d.current&&o.length>0&&((0,a().u)({environment:l,event:{eventName:"suggested_feature_templates_shown",eventProperties:{origin:s,collection_template_id:c,template_ids_shown:o}}}),d.current=!0)}))}},801678:(e,t,o)=>{o.d(t,{A:()=>m});var n=o(296540),i=()=>o(662303),r=()=>o(56366),a=()=>o(959013),s=()=>o(381349),l=()=>o(496603),c=()=>o(284371),d=()=>o(720665),u=()=>o(145214),p=o(474848);const g={isRepositioning:!1};const m=function(e){const t=(0,n.useRef)(null),i=(0,o(484714).v3)(),[a,s]=(0,n.useState)(g),c=(0,n.useCallback)((()=>{s(g)}),[]),{renderControl:u,onFlushTemporaryPosition:m,style:f,source:h,store:w}=e,{isRepositioning:y,image:x,startDragRenderedPosition:b,startDragImageScreenHeight:S}=a,C=(0,r().K8)((()=>0===o(502438).default.state.stores.length),[]),[A,k]=(0,n.useState)(!1),M=(0,r().uB)(e.mouseStore,o(454305).A),j=(0,r().K8)((()=>M.state.mouseEntered),[M]),T=(0,o(401497).IS)((()=>({dragContainer:{width:"100%",cursor:y?"move":"inherit"},container:{position:"relative",width:"100%",zIndex:1}})),[y]),P=(0,r().K8)((()=>function(e,t,o){return(0,l().Et)(o)?o:function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,l().Et)(e))return e}const o=.5;if(t.isCollectionView()){const e=t.getCollectionStore();if(e){const t=e.getFormat().collection_cover_position;return(0,d().pN)(t)?o:t}}const n=t.getFormat(),i=n.page_cover_position;if((0,l().Et)(i))return i;return o}(e,t)}(h,w,a.temporaryPosition)),[a.temporaryPosition,h,w]);(0,n.useEffect)((()=>{const e=e=>{const o=t.current;o&&!o.contains(e.target)&&y&&m({imagePosition:P,reset:()=>{M.reset(),c()}})};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)}),[P,y,M,m,c]),y&&!C&&c();const I=(0,n.useMemo)((()=>(0,l().nF)((e=>{M.setState({...M.state,mouseEntered:!0})}),100)),[M]),V=(0,n.useMemo)((()=>(0,l().sg)((e=>{M.setState({...M.state,mouseEntered:!1})}),100)),[M]),_=(0,n.useCallback)(((e,t)=>{o(778417).IU({environment:i});const n=new Image;n.onload=()=>{s((e=>({...e,isRepositioning:!0,image:n})))},t&&(n.src=t)}),[i]),B=(0,n.useCallback)((e=>{m({imagePosition:P,reset:()=>{c()}})}),[P,m,c]),R=(0,n.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,o(819121).p)(t)&&k(!0)}),[]),D=(0,n.useCallback)((()=>{k(!0)}),[]),F=(0,n.useCallback)((e=>{if(x&&y){const e=t.current;if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/x.width*x.height;s((e=>({...e,startDragImageScreenHeight:t,startDragRenderedPosition:P})))}}}),[x,P,y]),L=(0,n.useCallback)((e=>{if(y){const t=e.diffY/(S||0)+(b||0);s((e=>({...e,temporaryPosition:(0,l().LI)((0,o(40845).A)(t,0,1),4)})))}}),[y,S,b]),E=(0,n.useCallback)((()=>{s((e=>({...e,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})))}),[]),U=(0,r().K8)((()=>u({handleRepositionClick:_,handleSavePositionClick:B,handleCancelClick:c,isVisible:j||A||y,isRepositioning:y})),[_,B,A,y,j,u,c]),W=(0,o(79043).A)(Boolean(e.preventClickPropagation));return(0,p.jsxs)("div",{ref:t,onFocus:R,onBlur:D,onMouseEnter:I,onMouseMove:I,onMouseLeave:V,...W,...(0,o(955825).AH)(T.container,f),children:[(0,p.jsx)(o(603820).A,{onDraggableDragStart:F,onDraggableDragMove:L,onDraggableDragEnd:E,onDraggableDragCancel:E,disabled:!y,render:t=>(0,p.jsx)("div",{style:T.dragContainer,...t,children:e.render({imagePosition:P,isRepositioning:y})})}),(0,p.jsx)(v,{small:e.small,isRepositioning:y}),U]})};function v(e){let{small:t,isRepositioning:o}=e;if(t)return null;const n={background:s().Ay.blackWithAlpha(.4),borderRadius:4,color:s().Ay.white,fontSize:12,fontFamily:c().vc(i().locale).sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"};return(0,p.jsx)(u().A,{visible:o,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:n,children:(0,p.jsx)(a().sA,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})}},818870:(e,t,o)=>{o.d(t,{Q:()=>v});o(296540);var n=()=>o(56366),i=()=>o(904789);const r=50,a=100;var s=()=>o(959013),l=()=>o(154017),c=()=>o(423938),d=()=>o(760217),u=()=>o(8980),p=()=>o(859428),g=()=>o(46986),m=o(474848);function v(e){let{environment:t,collectionContextStore:o,from:v,onAction:f}=e;const h=(0,g().x6)(),w=function(e){const t=(0,g().Xl)(),{ownedCollectionCount:o,viewCount:i}=(0,n().K8)((()=>({ownedCollectionCount:(null==e?void 0:e.getOwnedCollectionStores().length)??0,viewCount:(null==e?void 0:e.getCollectionViewIds().length)??0})),[e]);return t?o<r?i<a?{disabled:!1}:{disabled:!0,reason:"tooManyViews"}:{disabled:!0,reason:"tooManyDataSources"}:{disabled:!1}}((0,n().K8)((()=>o.collectionViewBlockStore()),[o]));if(h)return{key:"newDataSource",render:e=>(0,m.jsx)(p().A,{render:t=>(0,m.jsx)(d().A,{title:(0,m.jsx)(s().sA,{defaultMessage:"New data source",id:"collectionTabBar.newDataSource.title"}),disabled:w.disabled,disabledFeedback:w.disabled,icon:(0,m.jsx)(u().I,{icon:i().R}),...e,...t}),renderTooltip:()=>{if(w.disabled){if("tooManyViews"===w.reason)return(0,m.jsx)(s().sA,{defaultMessage:"You are at the maximum number of views for this database.",id:"collectionTabBar.newDataSource.tooltip.tooManyViews"});if("tooManyDataSources"===w.reason)return(0,m.jsx)(s().sA,{defaultMessage:"You are at the maximum number of data sources for this database.",id:"collectionTabBar.newDataSource.tooltip.tooManyDataSources"})}},disableTooltip:!w.disabled}),action:()=>{(0,c().n)({environment:t,collectionContextStore:o}),null==f||f(),(0,l().b)({environment:t,collectionContextStore:o,view_type:"table",from:v})}}}},849077:(e,t,o)=>{o.d(t,{FU:()=>r,_s:()=>a,eV:()=>i});var n=()=>o(645873);const i=new(n().O2)("miniAgent",(()=>Promise.all([o.e(75134),o.e(16471),o.e(58550),o.e(44711),o.e(53321),o.e(90825),o.e(96346),o.e(55373),o.e(37353),o.e(29151),o.e(78191),o.e(92845),o.e(84468),o.e(5605),o.e(48486),o.e(95794),o.e(13677),o.e(56952),o.e(48632),o.e(75078),o.e(25497),o.e(74562),o.e(27711),o.e(4422),o.e(11341),o.e(46414),o.e(95168),o.e(28271),o.e(34877),o.e(36908),o.e(17254),o.e(84185),o.e(32421),o.e(15315),o.e(24587),o.e(78708),o.e(43777),o.e(74752),o.e(91194),o.e(81197),o.e(98659),o.e(20502),o.e(6266),o.e(8184),o.e(83884),o.e(65881),o.e(99809),o.e(93282),o.e(43678),o.e(15019),o.e(90978),o.e(77213),o.e(77773)]).then(o.bind(o,323367)))),r=(0,n()._h)(i,(e=>e.MiniAgentBackgroundTaskIndicator)),a=(0,n()._h)(i,(e=>e.MiniAgentObservePosition))},867772:(e,t,o)=>{o.d(t,{Ay:()=>l,Gi:()=>r,Wc:()=>n,pF:()=>a,vS:()=>i});const n="loadingLocalImage",i="uploading",r="downloading",a="loaded";class s extends(()=>o(757695))().Store{getInitialState(){return{loadingMode:a}}}const l=s},904789:(e,t,o)=>{o.d(t,{R:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.51 15.51",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M12 8.875c.345 0 .625.28.625.625v1.875H14.5a.625.625 0 1 1 0 1.25h-1.875V14.5a.625.625 0 1 1-1.25 0v-1.875H9.5a.625.625 0 1 1 0-1.25h1.875V9.5c0-.345.28-.625.625-.625"}),(0,n.jsx)("path",{d:"M4.5 2.375A2.125 2.125 0 0 0 2.375 4.5V12c0 1.174.951 2.125 2.125 2.125h1.625v1.625c0 1.174.951 2.125 2.125 2.125h7.5a2.125 2.125 0 0 0 2.125-2.125v-7.5a2.125 2.125 0 0 0-2.125-2.125h-1.625V4.5A2.125 2.125 0 0 0 12 2.375zm8.375 3.75H8.25A2.125 2.125 0 0 0 6.125 8.25v4.625H4.5A.875.875 0 0 1 3.625 12V4.5c0-.483.392-.875.875-.875H12c.483 0 .875.392.875.875zm-5.5 2.125c0-.483.392-.875.875-.875h7.5c.483 0 .875.392.875.875v7.5a.875.875 0 0 1-.875.875h-7.5a.875.875 0 0 1-.875-.875z"})]})},r=(0,o(340498).wt)("squareOnSquarePlus",i)},914873:(e,t,o)=>{o.d(t,{N:()=>g,e:()=>p});o(16280),o(296540);var n=()=>o(56366),i=()=>o(955363),r=()=>o(465505),a=()=>o(959013),s=()=>o(760217),l=()=>o(8980),c=()=>o(691093),d=()=>o(990402),u=o(474848);function p(e){let{environment:t,collectionContextStore:o}=e;if(g(t,o))return{key:"openBuilderConfig",action:()=>{const e=o.collectionViewBlockStore();if(!e)throw new Error("Parent store is undefined");(0,c().showWorkflowEditor)({environment:t,parentStore:e})},render:e=>(0,u.jsx)(s().A,{title:(0,u.jsx)(a().sA,{defaultMessage:"Builder mode",id:"collectionViewSuggestedViews.openBuilderConfig.label"}),icon:(0,u.jsx)(l().I,{icon:r().P}),right:(0,u.jsx)(l().I,{icon:i().arrowDiagonalUpRightIcon,color:"secondary",size:18}),...e})}}function g(e,t){const o=(0,n().K8)((()=>{const e=t.collectionViewBlockStore();return!!e&&(0,d().m)(e)}),[t]),i=(0,n().O$)(t.isFullScreenStore);return o&&i&&!e.device.isMobile}},937199:(e,t,o)=>{o.d(t,{LH:()=>r,Op:()=>i,bi:()=>l,sf:()=>s,v$:()=>a});o(16280);var n=o(296540);const i=(0,n.createContext)(null);function r(){const e=(0,n.useContext)(i);if(!e)throw new Error("usePageLayoutEditorContext must be used inside BaseLayoutEditorContext.Provider");return e}function a(){return(0,n.useContext)(i)}i.displayName="BaseLayoutEditorContext";const s=(0,n.createContext)(null);function l(){const e=(0,n.useContext)(s);if(!e)throw new Error("usePageLayoutEditorContext must be used inside PageLayoutEditorContextProvider");return e}s.displayName="PageLayoutEditorContext"},990402:(e,t,o)=>{o.d(t,{m:()=>i});var n=()=>o(46986);function i(e){return("workflow"===e.getType()||e.isCollectionView()&&e.getWorkflowStore())&&e.canEdit()&&!e.isSystemBlock()&&(0,n().re)()}}}]);