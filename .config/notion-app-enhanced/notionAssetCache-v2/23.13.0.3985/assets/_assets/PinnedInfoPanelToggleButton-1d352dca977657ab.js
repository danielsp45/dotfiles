"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[7989],{279829:(e,o,t)=>{t.r(o),t.d(o,{default:()=>f});var l=t(296540),n=()=>t(401497),a=()=>t(30626),i=()=>t(959013),s=()=>t(155004),r=()=>t(493823),u=()=>t(285790),c=()=>t(859428),p=()=>t(962730),g=()=>t(323974),d=t(474848);const P=(0,i().YK)({ariaLabel:{id:"Layouts.InfoPanelToggleButton.ariaLabel",defaultMessage:"Show/close details panel"},buttonLabel:{id:"Layouts.InfoPanelToggleButton.show",defaultMessage:"Hide details"},buttonLabelNoProperties:{id:"Layouts.InfoPanelToggleButton.showNoProperties",defaultMessage:"View details"},buttonLabelClose:{id:"Layouts.InfoPanelToggleButton.close",defaultMessage:"Hide details"},tooltipShow:{id:"Layouts.InfoPanelToggleButton.tooltip.show",defaultMessage:"View details"},tooltipShowNoProperties:{id:"Layouts.InfoPanelToggleButton.tooltip.showNoProperties",defaultMessage:"Open details panel"},tooltipClose:{id:"Layouts.InfoPanelToggleButton.tooltip.close",defaultMessage:"Hide details"}});function f(e){const{collectionStore:o,variant:t,pageViewBlockContext:f}=e,h=(0,i().tz)(),S=(0,n().IS)((e=>({icon:{fill:e.icon.secondary}})),[]),{toggleDetailsPanel:b,isDetailsPanelOpen:w,pageDetailsPropertiesCount:L,canShowButton:C}=(0,g().q)({collectionStore:o,from:"more_properties",forceShowButtonIfNoProperties:!0,pageViewBlockContext:f});let k=P.buttonLabelClose;w||(k=L?P.buttonLabel:P.buttonLabelNoProperties);const B=l.useCallback((e=>"compact"===t?(0,d.jsx)(u().A,{icon:a()._,iconStyle:S.icon,ariaLabel:h.formatMessage(P.ariaLabel),onClick:b,style:{width:30,height:30},...e}):(0,d.jsx)(r().p,{iconLeading:a()._,iconStyle:S.icon,isGray:!0,onClick:b,...e,children:(0,d.jsx)(i().sA,{...k,values:{propertiesCount:L}})})),[t,S.icon,h,b,k,L]);if(!C)return null;let I=P.tooltipClose;return w||(I=L?P.tooltipShow:P.tooltipShowNoProperties),(0,d.jsx)(c().A,{render:e=>(0,d.jsx)(s().s,{allowSelectionWithin:!1,children:(0,d.jsx)(B,{...e})}),alignment:p().C.Center,placement:p().W.Right,disableTooltip:"full"===t,renderTooltip:()=>(0,d.jsx)(i().sA,{...I,values:{propertiesCount:L}})})}},323974:(e,o,t)=>{t.d(o,{q:()=>p});var l=t(296540),n=()=>t(484714),a=()=>t(56366),i=()=>t(33791),s=()=>t(548821),r=()=>t(712287),u=()=>t(517223),c=()=>t(455994);function p(e){const{collectionStore:o,from:t,forceShowButtonIfNoProperties:p,pageViewBlockContext:g}=e,d=(0,a().K8)((()=>null==o?void 0:o.getLayoutStore()),[o]),P=(0,n().v3)(),f=g===s().Rr.PeekView,h=(0,a().K8)((()=>c().A.getPanelState(f?"peek":"mainPage").isOpen),[f]),S=(0,a().K8)((()=>!!o&&(0,i().v)({collectionStore:o,collectionViewBlockStore:o.getParentBlockStore(),checkNavigableAncestorLocked:!1})),[o]),b=(0,a().K8)((()=>!!d&&d.getModules().page_details.length>0),[d]),{count:w,isPropertiesModuleInPageDetails:L}=(0,a().K8)((()=>b&&o?(0,u().pm)({collectionStore:o}):{count:0,isPropertiesModuleInPageDetails:!1}),[b,o]),C=l.useCallback((()=>{if(!d)return;const e={environment:P,layoutStore:d,from:t,panelLocation:f?"peek":"mainPage"};h?(0,r().F)(e):(0,r().j)(e)}),[P,t,h,f,d]),k=l.useMemo((()=>g!==s().Rr.InPageSnapShot&&(g!==s().Rr.DraftPostInInlineComposer&&(w>0||!!p&&(L&&S)))),[g,w,p,L,S]);return{pageDetailsPropertiesCount:w,toggleDetailsPanel:C,isDetailsPanelOpen:h,pageDetailsHasModules:b,canShowButton:k}}}}]);