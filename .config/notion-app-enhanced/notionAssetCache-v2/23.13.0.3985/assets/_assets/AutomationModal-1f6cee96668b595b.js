"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[2569],{387712:(e,n,t)=>{t.d(n,{A:()=>a});class o extends(()=>t(757695))().Store{getInitialState(){return{open:!1}}}const i=new o;(0,t(604341).exposeDebugValue)("AutomationModalStore",i);const a=i},767676:(e,n,t)=>{t.r(n),t.d(n,{AutomationModal:()=>j});var o=t(296540),i=()=>t(484714),a=()=>t(56366),r=()=>t(401497),l=()=>t(959013),s=()=>t(496603),c=()=>t(284371),d=()=>t(2220),u=()=>t(847743),m=()=>t(792540),p=()=>t(387712),f=()=>t(630116),x=()=>t(493823),g=()=>t(805751),b=()=>t(676007),h=()=>t(204063),S=()=>t(187820),y=()=>t(524702),A=t(474848);const v=(0,l().YK)({confirmationDialogAriaLabel:{defaultMessage:"Confirmation",id:"automations.ConfirmationDialog.ariaLabel"}});function j(){const e=(0,a().O$)(p().A),n=(0,i().v3)(),t=(0,i().Y0)(),l=(0,a().K8)((()=>t.isPhone),[t]),s=(0,r().IS)((e=>({innerStyle:{padding:24,width:l?"calc(100% - 20px)":320}})),[l]),c=(0,o.useCallback)((e=>{p().A.setState({open:!1,result:e});const t=p().A.state;(0,d().u)({environment:n,event:{eventName:"click_automation_modal_option",eventProperties:{automation_id:t.open&&t.recordStore instanceof f().dn?t.recordStore.id:void 0,option:e}}})}),[n]),u=(0,o.useCallback)((()=>c("cancel")),[c]),m=function(){const e=(0,a().O$)(p().A),[n,t]=(0,o.useReducer)(((e,n)=>e+1),1),i=(0,o.useRef)(void 0);return(0,o.useEffect)((()=>{e.open&&e.format!==i.current&&(t(void 0),i.current=e.format)}),[e,i]),n}();return(0,A.jsx)(b().a,{open:e.open,keepFocus:!0,innerStyle:s.innerStyle,transitionAppearance:"none",onDismiss:u,render:()=>e.open&&(0,A.jsx)(k,{id:`${m}`,modalState:e,onDismiss:c},`${m}`)})}function k(e){const{id:n,modalState:t,onDismiss:i}=e,{icon:a}=t.format,d=(0,l().tz)(),p=(0,o.useRef)(null);(0,o.useEffect)((()=>{null!==p.current&&p.current.focus()}),[]);const f=(0,r().IS)((e=>({wrap:{display:"flex",flexDirection:"column"},buttonWrap:{display:"flex",flexDirection:"column",gap:10,marginTop:10},textWrap:{whiteSpace:"pre-wrap",wordBreak:"break-word",textAlign:"center",fontWeight:c().Wy.medium,marginTop:10,marginBottom:10,display:"flex",flexDirection:"column",alignItems:"center"},icon:{marginBottom:10},cancelButton:{justifyContent:"center"}})),[]),{store:b}=(0,u().AI)({initialValue:t.format.text,onChange:()=>{}}),j=[(0,A.jsx)(h().A,{size:"lg",onClick:()=>i("continue"),ref:p,children:t.format.continueButtonText},"continue"),(0,A.jsx)(x().p,{size:"lg",onClick:()=>i("cancel"),isLightGray:!0,style:f.cancelButton,children:t.format.cancelButtonText},"cancel")],k=`automation-modal-dialog-${n}`;return(0,A.jsx)(g().A,{debugName:"AutomationModal",capture:!0,allowEsc:!0,children:(0,A.jsxs)("div",{"aria-modal":"true","aria-label":d.formatMessage(v.confirmationDialogAriaLabel),"aria-describedby":k,role:"dialog",style:f.wrap,children:[(0,A.jsxs)("div",{style:f.textWrap,children:[a?(0,A.jsx)("div",{style:f.icon,children:(0,A.jsx)(S().B6,{size:50,icon:{icon:a,pointer:t.recordStore.pointer},disabled:!0,isEmptyPage:!1,bucket:"public",onChange:s().lQ})}):void 0,(0,A.jsx)("div",{id:k,children:(0,A.jsx)(y().A,{disabled:!0,disableStyleAnnotations:!0,inPageFind:m().Os.none,store:b,parentStore:t.recordStore})})]}),(0,A.jsx)("div",{style:f.buttonWrap,children:j})]})})}}}]);