"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[4902,11126,31061,62342,66806,83728],{346:(e,t,o)=>{o.d(t,{MG:()=>m,T1:()=>g,a1:()=>y,dt:()=>f,kg:()=>b,lC:()=>v,n_:()=>h});var a=o(296540),n=()=>o(484714),i=()=>o(56366),r=()=>o(187174),s=()=>o(645873),l=()=>o(941463),d=()=>o(441199),c=()=>o(749687),u=()=>o(737230),p=()=>o(756114);const g=new(s().O2)("PerformanceToolbar",(()=>Promise.all([o.e(16471),o.e(92845),o.e(84468),o.e(48632),o.e(75078),o.e(95168),o.e(36908),o.e(21194),o.e(23930),o.e(61347),o.e(45624)]).then(o.bind(o,462407)))),m=(0,s()._h)(g,(e=>e.PerformanceToolbar)),f=(0,s()._h)(g,(e=>e.PerformanceToolbarSettings));function b(){const e=(0,n().v3)();return(0,i().K8)((()=>(0,p().D)(e,e.RouterStore.state)),[e])}function h(){const e=(0,n().v3)(),t=S("PerformanceToolbarStore"),o=S("isPerformanceToolbarVisible");return(0,i().K8)((()=>!(!t||!o)&&o(e,e.RouterStore.state,t.state)),[o,e,t])}function v(){const e=S("PerformanceToolbarStore");return(0,i().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function y(){const e=(0,n().v3)(),t=S("createPerformanceToolbarMouseListeners"),o=S("PerformanceToolbarStore"),{sidebarExpanded:r,sidebarWidth:s,secondarySidebarExpanded:p,secondarySidebarWidth:g,updateSidebarExpanded:m,updateSidebarWidth:f}=(0,i().K8)((()=>({sidebarExpanded:c().sidebarExpandedStore.state,sidebarWidth:c().sidebarWidthStore.state,secondarySidebarExpanded:d().default.isOpen(),secondarySidebarWidth:l().Ay.getWidth(),updateSidebarExpanded:u().Ay.state.expanded,updateSidebarWidth:u().Ay.state.width})),[]);return(0,a.useEffect)((()=>{if(o&&t)return t(e,(e=>o.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),r,s,p,g,m,f)}),[t,e,o,r,s,p,g,m,f])}function S(e){const t=b(),[{value:o}]=(0,r().Yb)((()=>t?g.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return o}},10123:(e,t,o)=>{o.d(t,{A:()=>i});var a=()=>o(570551);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){(0,a().A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===n(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},15154:(e,t,o)=>{o.d(t,{G:()=>n,_:()=>a});const a=.7,n=1},26440:(e,t,o)=>{o.d(t,{w:()=>i});o(296540);var a=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"0.12 2.37 17.51 15.26",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M3.442 13.102a.625.625 0 0 1-.884 0L.304 10.848a.625.625 0 0 1 .884-.884l1.187 1.187V10a7.625 7.625 0 1 1 2.303 5.46.625.625 0 1 1 .872-.895A6.375 6.375 0 1 0 3.625 10v1.151l1.187-1.187a.625.625 0 1 1 .884.884z"}),(0,a.jsx)("path",{d:"M9.375 5.725a.625.625 0 0 1 1.25 0v3.65H13.6a.625.625 0 0 1 0 1.25H10A.625.625 0 0 1 9.375 10z"})]})},i=(0,o(340498).wt)("clockArrowBack",n)},27569:(e,t,o)=>{o.d(t,{T:()=>d,I:()=>c});var a=()=>o(484714),n=()=>o(56366),i=()=>o(440209),r=()=>o(640653),s=()=>o(680074),l=()=>o(113806);const d={home:["hide_all_except_essential","hide_all_except_templates","hide_all_except_invite","hide_all_except_ai"],ai:["hide_all_except_essential","hide_all_except_home","hide_all_except_templates","hide_all_except_invite"],invite:["hide_all_except_essential","hide_all_except_home","hide_all_except_templates","hide_all_except_ai"],templates:["hide_all_except_essential","hide_all_except_home","hide_all_except_ai","hide_all_except_invite"],mail:["hide_all_except_essential","hide_all_except_home","hide_all_except_templates","hide_all_except_ai","hide_all_except_invite"],calendar:["hide_all_except_essential","hide_all_except_home","hide_all_except_templates","hide_all_except_ai","hide_all_except_invite"],inbox:["hide_all_except_essential","hide_all_except_home","hide_all_except_templates","hide_all_except_invite","hide_all_except_ai"],trash:["hide_all_except_essential","hide_all_except_home","hide_all_except_invite","hide_all_except_templates","hide_all_except_ai"],settings:["hide_all_except_essential","hide_all_except_home","hide_all_except_templates","hide_all_except_invite","hide_all_except_ai"],workspace_discovery:["hide_all_except_essential","hide_all_except_home","hide_all_except_templates","hide_all_except_invite","hide_all_except_ai"]};function c(e){let{environment:t,section:o}=e;const c=(0,n().K8)((()=>(0,r().s7)(t)),[t]),u=d[o],{isDesktop:p}=(0,a().Y0)(),g=(0,n().K8)((()=>(0,i().f1)({environment:t,experimentId:"adoption_hide_features_v2",variant:u,isUserWorkspaceOwner:c,isDesktop:p})),[t,c,u,p]),m=function(e){let{environment:t,age:o="2_weeks"}=e;const a=(0,n().K8)((()=>{var e;const o=(0,s().R$)(t);return(null==o||null===(e=o.getSettings())||void 0===e?void 0:e.signup_time)??!1}),[t]);return!!a&&(0,l().e)({signupTime:a,age:o})}({environment:t,age:"1_week"});return!(g&&m&&p)}},41444:(e,t,o)=>{o.d(t,{x:()=>_});o(898992),o(803949),o(581454);var a=o(296540),n=o(440961),i=()=>o(484714),r=()=>o(604995),s=()=>o(416504),l=()=>o(753514),d=()=>o(798880),c=()=>o(959013),u=()=>o(44729),p=()=>o(246826),g=()=>o(185544),m=()=>o(751156),f=()=>o(2220),b=()=>o(66323),h=()=>o(51493),v=()=>o(217429),y=o(474848);const S=90;function _(){const e=(0,i().v3)(),t=(0,c().tz)();return(0,a.useCallback)((o=>{var a;let{spaceStore:i,spaceViewStore:_}=o;const{performResult:x}=m().createAndCommit({userAction:"selfServeBusinessTrialsExplorePlanModal.createTestVerifiedPage",environment:e,canUndo:!0,perform:o=>{const a=g().IT({environment:e,spaceStore:i,spaceViewStore:_,isPrivate:!0,prepend:!0,transaction:o,title:t.formatMessage({id:"selfServeBusinessTrialsExplorePlanModal.testVerifiedPageTitle",defaultMessage:"Try out Page Verification"})}),r=function(e){return[{type:"text",format:{block_color:"gray"},title:e.formatMessage({id:"testVerifiedPage.title",defaultMessage:"👋 This page was created for you to explore Notion’s Page Verification feature."})},{type:"sub_sub_header",title:e.formatMessage({id:"testVerifiedPage.pageVerificationDescription.header",defaultMessage:"What’s Page Verification?"})},{type:"text",title:e.formatMessage({id:"testVerifiedPage.pageVerificationDescription.text",defaultMessage:"Page Verification helps your team identify trusted, up-to-date information by adding a “verified” badge to important pages. This badge is visible in mentions, search, and Q&A, making verified content easy to spot. Admins can track verified pages in Settings for better oversight and compliance⁠⁠. We’ve marked this page as ‘verified’ so that you can see what it would look like."})},{type:"sub_sub_header",title:e.formatMessage({id:"testVerifiedPage.howItWorks.header",defaultMessage:"How does it work?"})},{type:"numbered_list",title:e.formatMessage({id:"testVerifiedPage.howItWorks.step1",defaultMessage:"Open a page for which you have {canEdit} access or {fullAccess}."},{canEdit:(0,y.jsx)("code",{children:(0,y.jsx)(c().sA,{id:"testVerifiedPage.howItWorks.step1.canEditCode",defaultMessage:"Can edit"})}),fullAccess:(0,y.jsx)("code",{children:(0,y.jsx)(c().sA,{id:"testVerifiedPage.howItWorks.step1.fullAccess",defaultMessage:"Full access"})})})},{type:"numbered_list",title:e.formatMessage({id:"testVerifiedPage.howItWorks.step2",defaultMessage:"Hover over the page name."})},{type:"numbered_list",title:e.formatMessage({id:"testVerifiedPage.howItWorks.step3",defaultMessage:"Select {verify}."},{verify:(0,y.jsx)("code",{children:(0,y.jsx)(c().sA,{id:"testVerifiedPage.howItWorks.step3.verify",defaultMessage:"Verify"})})})},{type:"numbered_list",title:e.formatMessage({id:"testVerifiedPage.howItWorks.step4",defaultMessage:"Choose whether you want to verify the page until a specific time or indefinitely."})},{type:"numbered_list",title:e.formatMessage({id:"testVerifiedPage.howItWorks.step5",defaultMessage:"A blue verification icon will appear next to the page name across your workspace."})},{type:"numbered_list",title:e.formatMessage({id:"testVerifiedPage.howItWorks.step6",defaultMessage:"Workspace members will be able to see verified pages in {settings} > {verifiedPages}."},{settings:(0,y.jsx)("code",{children:(0,y.jsx)(c().sA,{id:"testVerifiedPage.howItWorks.step6.settings",defaultMessage:"Settings"})}),verifiedPages:(0,y.jsx)("code",{children:(0,y.jsx)(c().sA,{id:"testVerifiedPage.howItWorks.step6.verifiedPages",defaultMessage:"Verified pages"})})})},{type:"text",title:""},{type:"text",format:{block_color:"gray"},title:e.formatMessage({id:"testVerifiedPage.learnMore",defaultMessage:"👉 You can learn more about verification in the {link}."},{link:(0,y.jsx)("a",{href:"https://www.notion.com/help/wikis-and-verified-pages#:~:text=verify%20the%20page.-,Verify%20individual%20pages%20in%20your%20workspace,-Note%3A%20This",children:(0,y.jsx)(c().sA,{id:"testVerifiedPage.learnMore.link",defaultMessage:"Help Center"})})})}]}(t).map((i=>{const r=document.createElement("div");"string"==typeof i.title?r.setHTMLUnsafe(i.title):r.setHTMLUnsafe(i.title.map((e=>{if("string"==typeof e)return e;const o=document.createElement("div");return n.render((0,y.jsx)(c().Dk,{locale:t.locale,children:e}),o),o.innerHTML})).join(""));const s=(0,l().Hw)({window,node:r,stripText:!0,stripSurroundingWhitespace:!0,emojiData:{positionalEmojiData:{},emojiByCategory:{},emojiByColorRaw:{},emojiByName:{}}});return p().Wv({environment:e,inMemoryRecordCache:a.inMemoryRecordCache,transaction:o,type:i.type,format:i.format,properties:{title:s}})}));return r.forEach((e=>{u().NI({parentStore:a,childStore:e,transaction:o})})),a}}),w=r().ah((0,s().P)()),M={range:{start:w,end:w.plus({days:S})},option:`${S}d`},{range:C,option:k}=M,A=null===(a=e.currentUser)||void 0===a?void 0:a.id;if(!A)return;const T={table:d().oo,id:A},I=C?r().C6.toPersistedDateTimeRange(C):r().C6.toPersistedDateTime(w.toMillis());(0,f().u)({environment:e,event:{eventName:"page_verification_edited",eventProperties:{entrypoint:"self_serve_business_trial_explore_modal",page_type:"wiki",page_id:x.id,collection_id:x.getAssociatedCollectionId(),space_id:i.id,expiration:k}}}),v().default.logEvent("verification_update","add");const j={value:[T,I],metadata:{action:"add",entrypoint:"self_serve_business_trial_explore_modal",expiration:k,expiration_date:C?C.end.toMillis():void 0}};return b().h({environment:e,blockStore:x,verificationValue:j.value}),(0,h().q)({environment:e,blockStore:x,update:j}),x}),[e,t])}},51493:(e,t,o)=>{o.d(t,{q:()=>i,y:()=>r});var a=()=>o(534177),n=()=>o(2220);function i(e){const{environment:t,blockStore:o,update:i}=e,r=function(e){switch(e){case"add":return"page_verification_enabled";case"update":return"page_verification_edited";case"remove":return"page_verification_disabled";default:(0,a().HB)(e)}}(i.metadata.action),s=o.id,l=o.getAssociatedCollectionId(),d=o.getSpaceId(),c=i.metadata.entrypoint;let u=l?"db":"non_db";if(l){const e=o.getAssociatedCollectionStore();null!=e&&e.isPageTreeCollection()&&(u="wiki")}"page_verification_enabled"===r&&(0,n().u)({environment:t,event:{eventName:r,eventProperties:{entrypoint:c,page_type:u,page_id:s,collection_id:l,space_id:d,expiration:i.metadata.expiration??void 0,expiration_date:i.metadata.expiration_date??void 0}}}),"page_verification_edited"===r&&(0,n().u)({environment:t,event:{eventName:r,eventProperties:{entrypoint:c,page_type:u,page_id:s,collection_id:l,space_id:d,expiration:i.metadata.expiration??void 0,expiration_date:i.metadata.expiration_date??void 0}}}),"page_verification_disabled"===r&&(0,n().u)({environment:t,event:{eventName:r,eventProperties:{entrypoint:c,page_type:u,page_id:s,collection_id:l,space_id:d}}})}function r(e){const{environment:t,blockStore:o,entrypoint:a,action:i}=e,r=o.id,s=o.getAssociatedCollectionId(),l=o.getSpaceId();let d=s?"db":"non_db";if(s){const e=o.getAssociatedCollectionStore();null!=e&&e.isPageTreeCollection()&&(d="wiki")}(0,n().u)({environment:t,event:{eventName:"page_verification_owner_edited",eventProperties:{entrypoint:a,page_type:d,action:i,page_id:r,collection_id:s,space_id:l}}})}},59424:(e,t,o)=>{o.r(t),o.d(t,{estimateWillSkipTeamOnly:()=>y,getContextualizedOnboardingAnalyticsData:()=>u,getSpaceIntentOverride:()=>f,getStageName:()=>l,getStages:()=>d,isEducationFlowState:()=>c,isPublicAccessPageRedirect:()=>m,isWorkflowTemplatesEnabledForOnboarding:()=>h,shouldRedirectToJoinSpace:()=>p,shouldShowProgressIndicatorOnStage:()=>b,shouldShowWorkspaceInWorkspaceChooser:()=>g,shouldSkipStageTeamOnly:()=>v});o(16280);var a=()=>o(313127),n=()=>o(640653),i=()=>o(765957),r=()=>o(151168),s=()=>o(757156);function l(e){const{flowName:t,stageIndex:o,environment:a}=e;return d({flowName:t,environment:a})[o]}function d(e){let{flowName:t,environment:o}=e;const a=o.device.isMobile,n=s().onboardingFlowNameToFlowConfig[t];if(a){if(!n.isEnabledForMobile)throw new Error(`Mobile flow is not enabled for flow name: ${t}`);return n.getMobileStages(o)}if(!n.isEnabledForDesktop)throw new Error(`Desktop flow is not enabled for flow name: ${t}`);return n.getDesktopStages()}function c(e){var t,o;return"education_flow"===e.flowName&&void 0!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.educationRole)&&void 0!==(null===(o=e.planTypeAndSurveyInfo)||void 0===o||null===(o=o.surveyResponses)||void 0===o?void 0:o.educationLevel)}function u(e){var t,o,a,s,d,c,u;let{onboardingState:p,spaceJoinOrCreate:g,environment:m}=e;const{currentSpaceStore:f}=i().default.state,b=(0,n().p3)(),h=(null===(t=p.planTypeAndSurveyInfo)||void 0===t||null===(t=t.surveyResponses)||void 0===t?void 0:t.userPersona)??b.function,v=(null===(o=p.planTypeAndSurveyInfo)||void 0===o||null===(o=o.surveyResponses)||void 0===o?void 0:o.userRole)??b.role,y=(null===(a=p.planTypeAndSurveyInfo)||void 0===a||null===(a=a.surveyResponses)||void 0===a?void 0:a.companySize)??b.companySize,S=(null===(s=p.planTypeAndSurveyInfo)||void 0===s?void 0:s.planType)??b.intent,_=(null===(d=p.planTypeAndSurveyInfo)||void 0===d||null===(d=d.surveyResponses)||void 0===d?void 0:d.useCases)??b.useCases,x=(null===(c=p.planTypeAndSurveyInfo)||void 0===c||null===(c=c.surveyResponses)||void 0===c?void 0:c.categories)??b.categories,w=(null===(u=p.planTypeAndSurveyInfo)||void 0===u?void 0:u.collaborativeIntent)??b.collaborativeIntent;return{flow_name:p.flowName,flow_id:p.flowId,stage:l({flowName:p.flowName,stageIndex:p.currentStageIndex,environment:m}),initial_workspace_type:g,is_new_onboarding:Boolean(p.isFirstTimeOnboarding),is_create_or_join:!0,stage_number:p.currentStageIndex,num_of_joinable_spaces:p.joinableSpaces.length,historical_stages:p.historicalStages,selectedPresets:void 0,user_persona:h,user_team_role:v,user_use_cases:_,user_categories:x,user_company_size:y,plan_selection:S,collaborative_intent:w,plan_type:null==f?void 0:f.getPlanType(),stage_duration_in_ms:void 0,onboarding_templates:void 0,trial_id:(0,r().vy)((0,r().E5)()),performance_marketing_term:p.performanceMarketingTerm,is_invalid_redirect:p.isInvalidRedirect,is_dark_mode:"dark"===m.ThemeStore.state.mode,selected_workflow_templates:p.selectedWorkflowTemplateIds}}function p(e){return"guest_redirect"===e.type||"redirect_page"===e.type||"redirect_space"===e.type}function g(e){return["CAN_JOIN","CAN_REQUEST"].includes(e.joinabilityStatus)}function m(e){return"public_access_page_redirect"===e.type}function f(e){if("form_response_onboarding"===e.flowName)return"string"==typeof(t=e.formSpaceIntent)&&a().ay.includes(t)?e.formSpaceIntent:"personal";var t}function b(e,t,o){const a=o.device.isMobile,{currentStageIndex:n}=e,i=d({flowName:e.flowName,environment:o}),r=i.indexOf(a?"mobile_onboarding_plan_type_choose":"onboarding_plan_type_choose");if(-1===r)return!1;if(t){const e=i.indexOf(a?"mobile_profile":"profile");return-1!==e&&n>=e}return n>=r}function h(e){return!e.device.isMobile}function v(e){var t;return"team"!==(null===(t=e.planTypeAndSurveyInfo)||void 0===t?void 0:t.planType)}function y(e,t,o){var a;const n=null===(a=e.planTypeAndSurveyInfo)||void 0===a?void 0:a.planType;switch(o){case"team":return Boolean(n&&"team"!==n);case"personal":case"school":return"team"!==n}}},63467:(e,t,o)=>{o.d(t,{y:()=>c});var a=()=>o(637997),n=()=>o(267419);const i={ko:()=>o.e(2268).then(o.bind(o,224434)),es:()=>o.e(95264).then(o.bind(o,196425)),de:()=>o.e(35390).then(o.bind(o,653703)),fr:()=>o.e(3272).then(o.bind(o,94677)),pt:()=>o.e(27315).then(o.bind(o,766869)),zh:()=>o.e(69945).then(o.bind(o,516814)),ja:()=>o.e(77757).then(o.bind(o,824432)),da:()=>o.e(9423).then(o.bind(o,440761)),fi:()=>o.e(59337).then(o.bind(o,462135)),nb:()=>o.e(2040).then(o.bind(o,937314)),nl:()=>o.e(51106).then(o.bind(o,530897)),sv:()=>o.e(53631).then(o.bind(o,895222)),id:()=>o.e(69945).then(o.bind(o,516814)),th:()=>o.e(69945).then(o.bind(o,516814)),vi:()=>o.e(69945).then(o.bind(o,516814))};let r=!1,s=!1;async function l(e){for(const[o,n]of Object.entries(e.emojiLocaleKeywords)){var t;a().fB[o]={...a().fB[o],keywords:[...n,...(null===(t=a().fB[o])||void 0===t?void 0:t.keywords)||[]]}}await n().A.waitUntilLoaded(),n().A.update((t=>{let{emojiByName:o,...a}=t;return{...a,emojiByName:{...o,...e.emojiByName}}}))}async function d(){if(r)return;const[e]=o(662303).locale.split("-");e in i&&(await l(await i[e]()),r=!0)}const c=(0,o(279900).A)((async()=>{await async function(){s||(await l(await o.e(51872).then(o.bind(o,443716))),s=!0)}(),await d()}))},66323:(e,t,o)=>{o.d(t,{b:()=>l,h:()=>d});var a=()=>o(713998),n=()=>o(798880),i=()=>o(931075),r=()=>o(319975),s=()=>o(751156);function l(e){const{environment:t,blockStore:o,verificationValue:l}=e,d=o.getPropertyStore(i()._e.Verification),c=(0,a().j2)(l),u=o.getPropertyStore(i()._e.Owner),p=t.currentUser.id,g=p?{table:n().oo,id:p}:void 0;s().createAndCommit({userAction:"PageAddVerificationButton.verifyPage",environment:t,canUndo:!0,perform:e=>{r().R9({environment:t,store:d,value:c,transaction:e}),g&&s().applyOperation({transaction:e,store:u,operation:{path:u.path,pointer:u.pointer,command:"addPersonAfter",args:{pointer:g}}})}})}function d(e){const{environment:t,blockStore:o,verificationValue:n}=e,l=o.getPropertyStore(i()._e.Verification),d=(0,a().j2)(n);s().createAndCommit({userAction:"PageVerificationBadge.updatePageVerification",environment:t,canUndo:!0,perform:e=>{r().R9({environment:t,store:l,value:d,transaction:e})}})}},68913:(e,t,o)=>{o.r(t),o.d(t,{alarmIcon:()=>i,iconDefinition:()=>n});o(296540);var a=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"1.91 0.78 16.18 16.85",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M5.791 1.886a.625.625 0 1 0-.801-.96L2.138 3.31a.625.625 0 1 0 .802.96zm4.834 3.839a.625.625 0 1 0-1.25 0v3.65H6.4a.625.625 0 0 0 0 1.25H10c.345 0 .625-.28.625-.625z"}),(0,a.jsx)("path",{d:"M10 2.375a7.625 7.625 0 1 0 0 15.25 7.625 7.625 0 0 0 0-15.25M3.625 10a6.375 6.375 0 1 1 12.75 0 6.375 6.375 0 0 1-12.75 0M14.13 1.006a.625.625 0 0 0 .079.88l2.851 2.383a.625.625 0 1 0 .802-.96L15.01.927a.625.625 0 0 0-.88.079"})]})},i=(0,o(340498).wt)("alarm",n)},73337:(e,t,o)=>{o.d(t,{P:()=>i});o(296540);var a=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.12 16.79 14.42",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M18.507 11.112c.362 0 .655.293.655.656v4.369a.656.656 0 0 1-1.311 0V13.35l-4.997 4.997a.655.655 0 1 1-.927-.928l4.997-4.997h-2.786a.655.655 0 1 1 0-1.31z"}),(0,a.jsx)("path",{d:"M15.5 4.125c1.174 0 2.125.951 2.125 2.125v3.612h-1.25v-.987h-5.75v2.25h1.72a2 2 0 0 0-.103.448l-.01.195.01.195q.024.214.091.412h-1.708v2.25h2.33l-1.25 1.25H4.5a2.125 2.125 0 0 1-2.125-2.125v-7.5c0-1.174.951-2.125 2.125-2.125zM3.625 13.75c0 .483.392.875.875.875h4.875v-2.25h-5.75zm0-2.625h5.75v-2.25h-5.75zm.875-5.75a.875.875 0 0 0-.875.875v1.375h5.75v-2.25zm6.125 2.25h5.75V6.25a.875.875 0 0 0-.875-.875h-4.875z"})]})},i=(0,o(340498).wt)("collectionArrow",n)},77279:(e,t,o)=>{o.r(t),o.d(t,{default:()=>n});class a extends(()=>o(757695))().Store{getInitialState(){return{discussionIdToExpansionStartPointMap:{}}}}const n=new a},84161:(e,t,o)=>{o.d(t,{S:()=>d});o(944114),o(296540);var a=()=>o(26440),n=()=>o(133043),i=()=>o(920495),r=()=>o(959013),s=()=>o(37433),l=o(474848);function d(){const e=[];return(0,s().$H)()&&e.push({key:"personal_home",label:(0,l.jsx)(r().sA,{id:"pageOnAppStoreSetting.home.label",defaultMessage:"Home"}),icon:n().P}),e.push({key:"last_visited_page",label:(0,l.jsx)(r().sA,{id:"pageOnAppStoreSetting.lastVisitedPage.label",defaultMessage:"Last visited page"}),icon:a().w},{key:"first_page",label:(0,l.jsx)(r().sA,{id:"pageOnAppStoreSetting.firstPage.label",defaultMessage:"Top page in sidebar"}),icon:i().pageIcon}),e}},91511:(e,t,o)=>{o.d(t,{w:()=>f});o(898992),o(672577),o(581454);var a=o(296540),n=()=>o(484714),i=()=>o(56366),r=()=>o(496603),s=()=>o(955930),l=()=>o(439264),d=()=>o(667193),c=()=>o(765957),u=()=>o(929450),p=()=>o(846955),g=()=>o(754527),m=o(474848);function f(e){let{teams:t,reorderable:o,onNavigate:f,id:b,teamOutlinerType:h,shouldPersistToggleState:v,from:y}=e;const S=(0,n().v3)(),_=(0,d().p)(),{currentSpaceViewStore:x,currentSpaceStore:w}=(0,i().K8)((()=>{const{currentSpaceViewStore:e,currentSpaceStore:t}=c().default.state;return{currentSpaceViewStore:e,currentSpaceStore:t}}),[]),M=(0,i().K8)((()=>t.map((e=>e.id))),[t]),C=(0,i().K8)((()=>r().pY(t,"id")),[t]),[k,A]=(0,a.useState)({});(0,a.useEffect)((()=>{(null==w?void 0:w.id)&&A((e=>u().s({teamIds:M,oldState:e,spaceId:w.id,userId:S.currentUser.id})))}),[null==w?void 0:w.id,S.currentUser.id,M]);const T=(0,i().K8)((()=>{const e=p().default.state.initialTeamStoreId;return M.find((t=>t===e))??r().$1(M)}),[M]);return x&&_?(0,m.jsx)(l().Ay,{id:b,direction:"vertical",keys:M,disabled:!o,hoverCursorStyleOverride:"pointer",renderKey:e=>k[e]&&(0,m.jsx)(g().Q,{initialToggleState:v?void 0:"hidden",shouldPersistToggleState:Boolean(v),teamStore:C[e],sidebarState:_,isLastTeam:r().HV(M)===e,teamOutlinerType:h,customToggleStore:k[e],onNavigate:f,sidebarTourStep:T===e?"prebuilt_templates":void 0,from:y},e),onDrop:(e,t)=>{s().br({environment:S,currentSpaceViewStore:x,orderedTeamIds:e,userAction:"SidebarOutliner.SidebarOutliner",isExplicitUserAction:!0,dropArgs:t})}}):(0,m.jsx)(m.Fragment,{})}},97059:(e,t,o)=>{o.d(t,{W:()=>f,w:()=>m});o(944114);var a=()=>o(585515),n=()=>o(577449),i=()=>o(161479),r=()=>o(545285),s=()=>o(763824),l=()=>o(780054),d=()=>o(870618),c=()=>o(670631),u=()=>o(227440),p=()=>o(217429),g=()=>o(540758);async function m(e){const{environment:t}=e;return(await s().lX(Object.keys(c().A.state.offlinePages||{}),100,(e=>async function(e){const{environment:t,pageId:o}=e,s={page:{id:o,spaceId:(0,i().e)(void 0)},baseUrl:l().A.domainBaseUrl,publicDomainName:l().A.publicDomainName,shouldTraverseToggleBlocks:!0,limit:1/0,cursor:{stack:[]},verticalColumns:!1},c=[];return await a().T(s,n().h.sideEffect((e=>((0,r().u)(e)&&c.push(e.id),Promise.resolve())),n().h.fromMonomorphicFunctionUnsafe((async e=>{const o=await d().h7({environment:t,pointer:e,useInMemoryCacheOnly:!1,skipAccessWrites:!0});return null==o?void 0:o.model})))),c}({environment:t,pageId:e})))).flat()}function f(e,t){return!u().A.state.online&&(e.device.isElectron||e.device.isMobileNative)&&p().default.checkGate({gateName:"download_for_offline"})&&!(0,g().Bd)(t)}},101847:(e,t,o)=>{o.d(t,{T:()=>a});const a=(0,o(340498).xh)("gift",{default:{loader:()=>o.e(23202).then(o.bind(o,723202))},small:{loader:()=>o.e(2264).then(o.bind(o,902264))},mini:{loader:()=>o.e(42668).then(o.bind(o,542668))},large:{loader:()=>o.e(25196).then(o.bind(o,725196))}})},104077:(e,t,o)=>{o.d(t,{r:()=>n});o(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"2.79 2.35 14.41 15.68",svg:(0,o(474848).jsx)("path",{d:"M10 2.355a2.35 2.35 0 0 0-2.253 1.686 5.06 5.06 0 0 0-2.803 4.527v1.189c0 .919-.334 1.806-.939 2.498l-.818.935c-.881 1.007-.166 2.583 1.173 2.583h3.02a2.65 2.65 0 0 0 5.24 0h3.02c1.339 0 2.054-1.576 1.173-2.583l-.818-.935a3.8 3.8 0 0 1-.939-2.498v-1.19a5.06 5.06 0 0 0-2.803-4.526A2.35 2.35 0 0 0 10 2.355m1.5 13.418a1.55 1.55 0 0 1-2.998 0zM8.909 4.564A1.104 1.104 0 0 1 10 3.605c.556 0 1.017.415 1.091.96l.049.353.329.138a3.81 3.81 0 0 1 2.337 3.512v1.189c0 1.221.444 2.401 1.248 3.32l.818.936a.307.307 0 0 1-.232.51H4.36a.308.308 0 0 1-.232-.51l.818-.935a5.04 5.04 0 0 0 1.248-3.321v-1.19c0-1.58.963-2.936 2.337-3.511l.33-.138z"})},n=(0,o(340498).wt)("bell",a)},105748:(e,t,o)=>{o.r(t),o.d(t,{SidebarCard:()=>gn,SidebarFooter:()=>Oa,SidebarSectionWithPopup:()=>un,SidebarSwitcherMultiAccountPopup:()=>U().Ay,SidebarTeamBrowserContent:()=>O,TourTutorialContent:()=>pn().I});var a=o(296540),n=()=>o(484714),i=()=>o(56366),r=()=>o(401497),s=()=>o(959013),l=()=>o(946141),d=()=>o(778417),c=()=>o(805751),u=()=>o(623580),p=()=>o(765957),g=(o(581454),()=>o(591779)),m=()=>o(863330),f=()=>o(687646),b=()=>o(946065),h=()=>o(778078),v=()=>o(496603),y=()=>o(284371),S=()=>o(704152),_=()=>o(8980),x=()=>o(719147),w=()=>o(519618),M=()=>o(629875),C=()=>o(490044),k=()=>o(159588),A=()=>o(37433),T=()=>o(667193),I=()=>o(17090),j=()=>o(848237),P=()=>o(287351),B=()=>o(533621),N=()=>o(754527),L=()=>o(91511),R=o(474848);const D=10;function F(e){let{searchQuery:t,onClearSearchQueryClicked:o}=e;const l=(0,T().p)(),d=(0,i().O$)(p().AppStoreCurrentSpaceStore),c=(0,i().O$)(p().AppStoreCurrentSpaceViewStore),u=(0,n().v3)(),F=(0,A().D5)(),O=(0,P().U)(),{teams:E}=(0,A().Sm)({spaceStore:d}),U=(0,a.useMemo)((()=>F?E.map((e=>{let{store:t}=e;return t})):O),[E,O,F]),{teams:V}=(0,A().Un)({spaceStore:d}),K=(0,a.useMemo)((()=>V.sort(((e,t)=>{var o,a;return((null===(o=t.membershipSummary)||void 0===o?void 0:o.membersIncludingOwnersCount)??0)-((null===(a=e.membershipSummary)||void 0===a?void 0:a.membersIncludingOwnersCount)??0)})).map((e=>{let{store:t}=e;return t}))),[V]),W=(0,B()._)(),z=(0,i().K8)((()=>{return d?(e=W,v().Ul(e,(e=>{var t;return-1*((null===(t=(0,A().PF)({teamStore:e}))||void 0===t?void 0:t.memberCount)??0)}))):[];var e}),[d,W]),H=(0,a.useMemo)((()=>F?K:z),[K,z,F]),G=(0,i().uB)(void 0,I().A),Y=t.trim(),q=(0,g().lW)(Y,200,((e,t)=>e===t)),J=(0,i().K8)((()=>{if(""!==q)return(0,h().Ay)(q,[...U,...H],(e=>e.getName()??""))}),[U,q,H]),$=(0,i().K8)((()=>(0,A().sx)({environment:u,spaceStore:d})),[d,u]),[Z,Q]=(0,a.useState)(!1),X=(0,r().IS)((e=>({scroller:{height:"100%",paddingBottom:60,paddingLeft:8,paddingRight:8},noUnjoinedTeamsContainer:{marginLeft:15,...y().RC,fontSize:y().J.UIRegular.desktop},noFilterResultsContainer:{display:"flex",flexDirection:"column",padding:15,height:"100%",alignItems:"center",justifyContent:"center"},noFilterResultsTitle:{color:e.text.secondary,fontSize:y().J.UIRegular.desktop},noFilterResultsDescription:{color:e.text.secondary,fontSize:y().J.UIRegular.desktop,fontWeight:y().Wy.regular},noFilterResultsIcon:{width:30,height:30,marginBottom:10},sidebarItemButtonStyle:k().hG,hoveredButton:{background:e.sidebarItemSelectedBackground}})),[]);if(!d||!c||!l)return null;if(""!==q&&""!==Y&&0===(null==J?void 0:J.length))return(0,R.jsxs)("div",{style:X.noFilterResultsContainer,children:[(0,f().k)(X.noFilterResultsIcon),(0,R.jsx)("div",{style:X.noFilterResultsTitle,children:(0,R.jsx)(s().sA,{id:"teamBrowserOutliner.noFilterResults.title",defaultMessage:"No results"})}),(0,R.jsx)("div",{style:X.noFilterResultsDescription,children:(0,R.jsx)(s().sA,{id:"teamBrowserOutliner.noFilterResults.description",defaultMessage:"Try again or <linkbutton>clear search</linkbutton>",values:{linkbutton:e=>(0,R.jsx)(x().A,{onClick:o,children:e})}})})]});const ee=""!==q&&""!==Y,te={shouldPersistToggleState:!1,spaceStore:d,spaceViewStore:c,showAddButton:!1},oe=e=>{let{teams:t,teamOutlinerType:o}=e;const a=t.length-D,n=Z||a<2;return[...(n?t:t.slice(0,D)).map((e=>(0,R.jsx)(N().Q,{initialToggleState:"hidden",teamStore:e,sidebarState:l,isLastTeam:!1,shouldPersistToggleState:!1,teamOutlinerType:o,from:"secondary_sidebar"},e.id))),!n&&(0,R.jsx)(S().A,{onClick:()=>{Q((e=>!e))},style:X.sidebarItemButtonStyle,hoveredStyle:X.hoveredButton,children:(0,R.jsx)(C().A,{isBottomItem:!0,children:(0,R.jsx)(s().sA,{defaultMessage:"{numTeams} more teamspaces...",id:"teamBrowserOutliner.moreTeamsButton",values:{numTeams:a}})})},"more-teams-button")]};return(0,R.jsx)(w().d,{scrollerStore:G,scrollerStyle:X.scroller,children:ee?(0,R.jsx)(M().Ay,{...te,type:b().GU,from:"main_sidebar",sectionLabel:(0,R.jsx)(s().sA,{defaultMessage:"Search results",id:"teamBrowserOutliner.searchResultsLabel"}),renderSidebar:()=>oe({teams:J??[],teamOutlinerType:b().GU})}):(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(M().Ay,{...te,type:b().zt,from:"main_sidebar",labelTooltip:(0,R.jsx)(s().sA,{defaultMessage:"Teamspaces you have joined",id:"teamBrowserOutliner.joinedTeamsSection.tooltip"}),sectionLabel:(0,R.jsx)(s().sA,{defaultMessage:"Your teamspaces",id:"teamBrowserOutliner.joinedTeamsLabel"}),renderSidebar:e=>{let{contentsAriaId:t}=e;return(0,R.jsx)(L().w,{teams:U,reorderable:!0,id:t,teamOutlinerType:b().zt,from:"secondary_sidebar"})}}),(0,R.jsx)(M().Ay,{...te,type:b().AX,from:"main_sidebar",labelTooltip:(0,R.jsx)(s().sA,{defaultMessage:"Teamspaces you can join",id:"teamBrowserOutliner.unjoinedTeamsSection.tooltip"}),sectionLabel:(0,R.jsx)(s().sA,{defaultMessage:"More teamspaces",id:"teamBrowserOutliner.unjoinedTeamsLabel"}),renderSidebar:()=>0===H.length?$?(0,R.jsx)(S().A,{onClick:()=>j().vn("browse_teams"),style:X.sidebarItemButtonStyle,children:(0,R.jsx)(C().A,{left:(0,R.jsx)(_().I,{icon:m().plusSmallIcon,size:"sm",color:"secondary"}),children:(0,R.jsx)(s().sA,{defaultMessage:"New teamspace",id:"teamBrowserOutliner.createTeamspaceButton"})})}):(0,R.jsx)("div",{style:X.noUnjoinedTeamsContainer,children:(0,R.jsx)(s().sA,{id:"teamBrowserOutliner.noUnjoinedTeams",defaultMessage:"No teamspaces to join"})}):oe({teams:H,teamOutlinerType:b().AX})})]})})}function O(){const e=(0,n().v3)(),t=(0,i().O$)(p().AppStoreCurrentSpaceStore),o=(0,i().O$)(p().AppStoreCurrentSpaceViewStore),[s,d]=(0,a.useState)(""),c=(0,a.useCallback)((e=>d(e)),[]),u=(0,a.useCallback)((()=>{l().ED(e,{from:"empty_results_reset_link"}),d("")}),[e]),g=(0,a.useCallback)((()=>{l().ED(e,{from:"search_input"}),d("")}),[e]),m=(0,r().IS)((()=>({container:{display:"flex",flexDirection:"column",height:"100%",width:"100%"},outlinerContainer:{overflow:"hidden",flexGrow:1}})),[]);return t&&o?(0,R.jsxs)("div",{style:m.container,children:[(0,R.jsx)(E,{onChange:c,searchQuery:s,onClearButtonClicked:g}),(0,R.jsx)("div",{style:m.outlinerContainer,children:(0,R.jsx)(F,{searchQuery:s,onClearSearchQueryClicked:u})})]}):null}function E(e){let{onChange:t,searchQuery:o,onClearButtonClicked:i}=e;const l=(0,n().v3)(),p=(0,s().tz)(),[g,m]=(0,a.useState)(!0),f=(0,r().IS)((e=>({input:{borderRadius:6,backgroundColor:e.whiteButtonBackground},inputWrapper:{paddingTop:4,paddingBottom:12,paddingLeft:16,paddingRight:16}})),[]),b=(0,a.useCallback)((e=>t(e.target.value)),[t]),h=(0,a.useCallback)((()=>m(!1)),[]),v=(0,a.useCallback)((()=>{d().IU({environment:l}),m(!0)}),[l]),y=p.formatMessage({defaultMessage:"Search teamspaces...",id:"sidebarTeamBrowserHeader.searchFilter.placeholderWithoutSpaceName"});return(0,R.jsx)(c().A,{debugName:"SidebarTeamBrowserHeader",capture:g,allowEsc:!0,children:(0,R.jsx)("div",{style:f.inputWrapper,children:(0,R.jsx)(u().A,{placeholder:y,focusInitial:!0,showClearButton:!0,style:f.input,value:o,onChange:b,onBlur:h,onFocus:v,onClearButtonClick:i})})})}var U=()=>o(998883),V=()=>o(496414),K=()=>o(436572),W=()=>o(279047),z=()=>o(347930),H=()=>o(299487),G=()=>o(986229),Y=()=>o(686594),q=()=>o(620149),J=()=>o(960236),$=()=>o(15154),Z=()=>o(668721);var Q=()=>o(47170),X=()=>o(134217),ee=()=>o(749240);var te=()=>o(187174),oe=()=>o(534177),ae=()=>o(449506);var ne=()=>o(640653),ie=()=>o(27569),re=()=>o(285790),se=()=>o(897119),le=()=>o(972435),de=()=>o(320260),ce=()=>o(481887),ue=()=>o(962730),pe=()=>o(377586);const ge={calendar:(0,s().YK)({title:{id:"sidebar.appSwitcher.calendar.openTooltip",defaultMessage:"Open Notion Calendar"},subtitle:{id:"sidebar.appSwitcher.calendar.openTooltip.subtitle",defaultMessage:"Manage your personal life and work all in one place"},alt:{id:"sidebar.appSwitcher.calendar.openTooltip.alt",defaultMessage:"Notion Calendar promotional image"}}),mail:(0,s().YK)({title:{id:"sidebar.appSwitcher.mail.tooltip",defaultMessage:"Open Notion Mail"},subtitle:{id:"sidebar.appSwitcher.mail.openTooltip.subtitle",defaultMessage:"The self-organizing inbox, with everything you love about Notion"},alt:{id:"sidebar.appSwitcher.mail.openTooltip.alt",defaultMessage:"Notion Mail promotional image"}})},me={style:{transformOrigin:"50% bottom"},animationConfig:{duration:50,delay:0,timingFunction:"cubic-bezier(0.6, 0, 0.02, 1)"}};var fe=()=>o(859428);function be(e,t){let{active:o,icon:a,iconSize:n,label:i,onClick:s,onMouseEnter:l,isHighlighted:d}=e;const c=(0,r().IS)((e=>({button:{width:"28px",height:"28px"},highlightedButton:{border:`2px solid ${e.stroke.uiBlueSecondary}`,boxShadow:`0px 0px 0px 2px ${e.cardSidebarBackground}, 0px 0px 0px 3px ${e.stroke.uiBlueSecondary}`,borderRadius:"6px",boxSizing:"border-box"},icon:{width:`${n}px`,height:`${n}px`}})),[n]),u=d?{...c.button,...c.highlightedButton}:c.button;return(0,R.jsx)(fe().A,{renderTooltip:()=>Boolean(i)&&i,render:e=>(0,R.jsx)(re().A,{...e,icon:a,ariaLabel:i,style:u,iconStyle:c.icon,color:o?"primary":"secondary",onClick:s,ref:t,onMouseEnter:t=>{var o;(null==l||l(),Boolean(i))&&(null===(o=e.onMouseEnter)||void 0===o||o.call(e,t))}}),placement:ue().W.Top})}const he=(0,a.forwardRef)(be);var ve=()=>o(645873);const ye=new(ve().O2)("CalendarAgendaView",(async()=>await Promise.all([o.e(25580),o.e(50462)]).then(o.bind(o,730782)))),Se=(0,ve()._h)(ye,(e=>e.CalendarAgendaView));function _e(e){return(0,R.jsx)(de().y,{style:e})}const xe=(0,s().YK)({openTooltip:{id:"sidebar.appSwitcher.calendar.openTooltip",defaultMessage:"Open Notion Calendar"},exploreTooltip:{id:"sidebar.appSwitcher.calendar.exploreTooltip",defaultMessage:"Explore Notion Calendar"}});function we(e,t){const s=(0,i().O$)(o(749687).sidebarWidthStore),l=(0,a.useRef)(null),[d,c]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),g=(0,a.useRef)(),m=(0,a.useRef)(),f=(0,a.useCallback)((e=>{"function"==typeof t?t(e):t&&(t.current=e),l.current=e}),[t]),b=(0,n().v3)(),h=(0,o(464412).X)(),v=h?xe.openTooltip:xe.exploreTooltip,y=(0,a.useCallback)((()=>{o(40970).uX(b),h?(0,o(645200).Op)({environment:b,spaceStore:void 0,collectionViewStore:void 0,from:"appSwitcher"}):(o(694498).A.setState({signupCtaAttribution:"appSwitcher"}),H().UW(b,"notion_calendar_launch_promo"))}),[b,h]),S=(0,i().K8)((()=>(0,o(583238).mX)()),[]),{days:_,eventsLoadingState:x,displayState:w}=(0,o(196459).O)(),M={panelState:(0,o(658082).oM)(w),view:"notionAgendaView"},C=(0,r().IS)((()=>({button:{width:"28px",height:"28px"},icon:{width:20,height:20},popup:{display:"flex",flexDirection:"column",width:s-24+"px",maxHeight:"276px",minWidth:"376px",overflow:"visible",marginBottom:"10px"}})),[s]);if((0,a.useEffect)((()=>()=>{g.current&&(cancelAnimationFrame(g.current),g.current=void 0)}),[]),!S||"rejected"===x.status)return(0,R.jsx)(he,{ref:f,icon:_e,iconSize:20,label:S?le().A.formatMessage(v):void 0,onClick:y,onMouseEnter:e.showCalendarUpsellPopover});function k(){if(g.current&&(cancelAnimationFrame(g.current),g.current=void 0),e.hideUpsellPopover(),!m.current){const{panelState:e}=M;"connected_with_events"!==e&&"connected_no_events"!==e||(m.current=setTimeout((()=>(0,ce().qL)({environment:b,calendarPanelContext:(0,ce().sp)(M)})),200))}c(!0)}function A(){m.current&&(clearTimeout(m.current),m.current=void 0),g.current=requestAnimationFrame((()=>{c(!1),p(!1)}))}return(0,R.jsx)(o(296060).a.Provider,{value:M,children:(0,R.jsx)(se().Ay,{preventCaptureEsc:!0,forceInitialInbound:!0,disableDarkOverlayBackground:!0,trapFocus:!1,preventScaleTransition:!1,preventOpacityTransition:!1,popupWrapStyle:C.popup,disableMouseCapture:!0,open:d,popupType:pe().n.Popup,onAnimationEnd:()=>p(d),alignmentToOrigin:ue().C.Center,placementToOrigin:ue().W.Top,viewportPadding:6,originGap:6,style:me.style,animationConfig:me.animationConfig,render:()=>(0,R.jsx)(Se,{iconRef:l,openAnimationEnded:u,isLoading:"resolved"!==x.status,days:_,onMouseOver:k,onMouseLeave:A}),origin:(0,R.jsx)(re().A,{ref:f,style:C.button,iconStyle:C.icon,icon:_e,ariaLabel:le().A.formatMessage(v),onClick:y,onMouseEnter:k,onMouseLeave:A})})})}const Me=(0,a.forwardRef)(we);var Ce=()=>o(2220),ke=()=>o(131448),Ae=()=>o(217429),Te=()=>o(560198),Ie=()=>o(148307),je=()=>o(425946),Pe=()=>o(381349),Be=()=>o(554509),Ne=()=>o(478184);const Le={calendar:(0,Ne().j)(Ie().A.images.connectedApps.accountCreationUpsellTooltip.calendar),mail:(0,Ne().j)(Ie().A.images.connectedApps.accountCreationUpsellTooltip.mail)};function Re(e){let{calendarElement:t,mailElement:o,hoveredAppTarget:a,imageFailedToLoad:n,setImageFailedToLoad:i}=e;const s=(0,Pe().O4)({theme:"dark"});let l,d;switch(a){case"calendar":d=null==t?void 0:t.getBoundingClientRect();break;case"mail":d=null==o?void 0:o.getBoundingClientRect();break;default:d=void 0}d&&(l=d.left+1);const c=(0,r().IS)((e=>({container:{display:"flex",flexDirection:"column",padding:"4px",borderRadius:"10px",gap:"4px",background:s.surface.contrast,boxShadow:s.shadowMD},img:{borderRadius:"8px 8px 4px 4px",width:"218px",height:"146px"},text:{padding:"8px 10px",height:"68px",display:"flex",flexDirection:"column",alignSelf:"stretch"},subtitle:{padding:"2px 0px"},rectangle:void 0===l?{display:"none"}:{background:s.surface.contrast,transform:`translateX(${l}px) rotate(-45deg)`,borderRadius:"0px 2px",width:"14px",height:"14px",position:"absolute",bottom:"-7px",left:"0px",transition:"transform 100ms",transitionTimingFunction:me.animationConfig.timingFunction,transformOrigin:"center",..."dark"===e.mode?{boxShadow:s.shadowMD,clipPath:"polygon(-1px 1px, -1px 15px, 13px 15px, 13px 1px)"}:{}}})),[l,s]),u=ge[a],p=n?void 0:Le[a],g=n?je().M:(0,Ne().L)(Ie().A.images.connectedApps.accountCreationUpsellTooltip[a]["1XPng"]);return(0,R.jsx)(Te().wX,{mode:"dark",children:(0,R.jsxs)("div",{style:c.container,children:[(0,R.jsx)("img",{style:c.img,src:g,alt:le().A.formatMessage(u.alt),srcSet:p,onError:()=>i(!0)}),(0,R.jsxs)("div",{style:c.text,children:[(0,R.jsx)(Be().D,{styleName:"UIMedium-13px/Medium",colorName:"primary",children:le().A.formatMessage(u.title)}),(0,R.jsx)("div",{style:c.subtitle,children:(0,R.jsx)(Be().D,{styleName:"UISmall-12px/Regular",colorName:"secondary",children:le().A.formatMessage(u.subtitle)})})]}),(0,R.jsx)("div",{style:c.rectangle})]})})}const De="notion_mail_launch_2_callout";function Fe(e){let{children:t}=e;const o=(0,n().v3)(),[s,l]=(0,a.useState)(null),[d,c]=(0,a.useState)(null),[u,p]=(0,a.useState)(!1),[g,m]=(0,a.useState)(),[f,b]=(0,a.useState)();const h=Boolean(s),v=Boolean(d),y={calendar:l,mail:c},S=(0,i().K8)((()=>ke().default.isVisible(De)?{calendar:!1,mail:!1}:{calendar:h&&Ae().default.checkGate({gateName:"connected_apps_upsell--calendar"}),mail:v&&Ae().default.checkGate({gateName:"connected_apps_upsell--mail"})}),[h,v]),_=(0,r().IS)((()=>({setupUpsell:{display:"flex",flexDirection:"column",width:"226px",overflow:"visible",boxShadow:"none"}})),[]),x=Boolean(g&&S[g]);return(0,a.useEffect)((()=>{const e=setTimeout((()=>{g&&x&&(0,Ce().u)({environment:o,event:{eventName:"connected_apps_app_switcher_upsell_presented",eventProperties:{app_target:g}}})}),200);return()=>{clearTimeout(e)}}),[g,o,x]),(0,R.jsx)(se().Ay,{preventCaptureEsc:!0,forceInitialInbound:!0,disableDarkOverlayBackground:!0,disableMouseCapture:!0,trapFocus:!1,preventScaleTransition:!1,preventOpacityTransition:!1,preventSlideUpTransition:!1,open:Boolean(g),popupType:pe().n.Popup,alignmentToOrigin:ue().C.Start,placementToOrigin:ue().W.Top,viewportPadding:6,originGap:6,style:me.style,animationConfig:me.animationConfig,popupWrapStyle:_.setupUpsell,render:()=>f&&S[f]&&(0,R.jsx)(Re,{imageFailedToLoad:u,setImageFailedToLoad:p,calendarElement:s,mailElement:d,hoveredAppTarget:f}),origin:t({setElement:y,setTargetApplication:function(e){m(e),b(e??f),e&&p(!1)}})})}var Oe=()=>o(402673),Ee=()=>o(677338),Ue=()=>o(963589);function Ve(){const[e,t]=(0,a.useState)((0,Ee().HU)()?"true":"not-yet-known"),[o,i]=(0,a.useState)(!0),[r,s]=(0,a.useState)(!1),l=(0,n().v3)(),d=(0,a.useRef)(!1),c=(0,a.useCallback)((()=>{i(!0)}),[]),u=(0,Ue().X)("connected_apps_upsell--mail")&&o&&"true"!==e,p=(0,a.useCallback)((async()=>{if(!u)return;if(r)return;s(!0);const e=await async function(e){let{environment:t}=e;try{const e=await ae().callApi({eventName:"getIsMailUser",environment:t,data:{}});if("success"===e.type)return e.data.isMailUser}catch(o){return}}({environment:l});s(!1),void 0!==e&&(t(e?"true":"false"),i(!1),e&&(0,Ee().L_)(),window.removeEventListener("blur",c),window.addEventListener("blur",c,{once:!0}))}),[u,r,l,c]);return(0,a.useEffect)((()=>{if(!u)return;if(d.current)return;d.current=!0;(0,Oe().$)((()=>{p()}),2e3)}),[p,u]),(0,a.useEffect)((()=>()=>{window.removeEventListener("blur",c)}),[c]),{isMailUser:e,checkMailUser:p}}var Ke=()=>o(406533),We=()=>o(148024),ze=()=>o(406699),He=()=>o(240562),Ge=()=>o(732797);const Ye=new(o(463830).A),qe=(0,s().YK)({tooltip:{id:"sidebar.appSwitcher.help.tooltip",defaultMessage:"Help, contact, more..."}});function Je(){var e;const t=(0,n().v3)(),o=(null===(e=t.mobileNative)||void 0===e?void 0:e.supportsNativeHomeOnPhone())||!1;return(0,R.jsx)(ze().Ay,{buttonPopupStore:Ye,hidesMobileNativeBottomBar:o,preventSlideUpTransition:o,popupType:t.device.isMobile?ze().z7.SlideUp:ze().z7.Popup,onClick:()=>{Ge().A.setState({...Ge().A.state,open:!0}),We().VX(t,{from:"appswitcher"})},onClose:()=>{Ge().A.setState({...Ge().A.state,open:!1})},alignmentToOrigin:ze().yP.End,placementToOrigin:ze().sx.Top,originGap:4,renderOrigin:e=>(0,R.jsx)(he,{icon:Ke().questionMarkCircleIcon,iconSize:20,label:le().A.formatMessage(qe.tooltip),...e}),render:()=>(0,R.jsx)(He().p,{fromForAnalytics:"appswitcher"})})}var $e=()=>o(340498);const Ze={viewBox:"0 0 20 20",svg:(0,R.jsx)("path",{fillRule:"evenodd",d:"M17.4685918,3.4486694c-.276062-.4232178-.7411499-.6759033-1.2441406-.6759033-.1889648,0-.3743896.0357056-.5512085.1061401L3.0777837,7.8930664c-.40271.1603394-.6936035.5178223-.7687378.9447021s.0762329.8622437.4000244,1.1503906l2.4732056,2.2012329v4.2337646c0,.6617432.793457,1.0004272,1.2713013.5426636l1.9723511-1.8895264,2.0613403,1.8346558c.2311401.2056885.52771.3162842.8310547.3162842.088501,0,.1775513-.0094604.2657471-.0286255.390625-.0849609.71698-.3516235.8781738-.7174683l5.1207275-11.6225586c.2032471-.4614868.1604614-.9884644-.1143799-1.4099121ZM16.4390508,4.3546143l-5.1207275,11.6225586-3.963623-3.52771,5.2460327-5.0794067c.064209-.065918.0716553-.168457.0177002-.243042-.0568237-.0785522-.1638184-.1014404-.2478638-.0530396l-6.562439,3.9990234-2.2680054-2.0185547,12.5956421-5.0142822c.0299683-.0119019.0598755-.017395.0886841-.017395.15979,0,.2867432.1680908.2145996.3318481Z",clipRule:"evenodd"})},Qe=(0,$e().wt)("mail",Ze);var Xe=()=>o(838824);function et(e,t){const o=(0,n().v3)(),r=(0,s().tz)(),l=(0,i().K8)((()=>ke().default.isVisible("notion_mail_launch_2_callout")),[]),d=(0,a.useCallback)((()=>{!function(e){(0,Ce().u)({environment:e,event:{eventName:"click_mail_sidebar_link",eventProperties:{}}})}(o),(0,Xe().Z)({environment:o,from:"appSwitcher"})}),[o]);return(0,R.jsx)(he,{label:e.shouldShowDefaultTooltip?r.formatMessage(ge.mail.title):void 0,ref:t,icon:Qe,iconSize:20,onClick:d,onMouseEnter:e.showMailUpsellPopover,isHighlighted:l})}const tt=(0,a.forwardRef)(et);function ot(e){let{}=e;const{isMobile:t,isTablet:o,desktopTargetPlatform:a}=(0,n().Y0)(),s=(0,n().v3)(),{isMailUser:l,checkMailUser:d}=Ve(),c=(0,i().O$)(p().AppStoreCurrentSpaceStore),u="msStore"===a,g=(0,i().K8)((()=>!t&&c&&!(0,ne().XZ)(c)&&!u),[t,c,u]),m=!u,f=(0,ie().I)({environment:s,section:"calendar"}),{isNotionMailDisabled:b}=function(e){const{environment:t}=e,[{status:o,error:a,value:n}]=(0,te().Yb)((async()=>{const e=await ae().callApi({eventName:"getEmailDomainSettings",environment:t,data:{}});if("success"===e.type)return e.data;if("failed"===e.type)throw e.error;return(0,oe().HB)(e)}),[t]);return{loading:"pending"===o||"idle"===o,error:a,isNotionMailDisabled:Boolean(null==n?void 0:n.settings.disable_notion_mail)}}({environment:s}),h=(0,ie().I)({environment:s,section:"mail"}),v=!b&&m&&h,y=g&&f,S=(0,r().IS)((()=>({container:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:o?"13px 16px":"10px 12px",boxSizing:"border-box"},appContainer:{display:"flex",alignItems:"center",gap:4}})),[o]);return(0,R.jsx)(Fe,{children:e=>{let{setElement:t,setTargetApplication:o}=e;return(0,R.jsxs)("div",{style:S.container,onMouseEnter:d,children:[(0,R.jsxs)("div",{style:S.appContainer,onMouseLeave:()=>o(void 0),children:[y&&(0,R.jsx)(Me,{ref:t.calendar,showCalendarUpsellPopover:()=>o("calendar"),hideUpsellPopover:()=>o(void 0)}),v&&(0,R.jsx)(tt,{ref:t.mail,shouldShowDefaultTooltip:"false"!==l,showMailUpsellPopover:()=>o("false"===l?"mail":void 0)})]}),(0,R.jsx)(Je,{})]})}})}var at=()=>o(776040),nt=(o(16280),()=>o(917629)),it=()=>o(650829);const rt={viewBox:"0 0 16 16",fittedViewBox:"1.99 2.94 12.01 10.12",directional:!0,svg:(0,R.jsx)("path",{d:"M13.78 7.47 9.46 3.15A.75.75 0 0 0 8.4 4.21l3.04 3.04H2.702C2.315 7.25 2 7.586 2 8s.315.75.703.75h8.736L8.4 11.79a.75.75 0 0 0 1.061 1.06l4.32-4.32a.75.75 0 0 0 0-1.06"})},st=(0,$e().wt)("arrowStraightRightFillSmall",rt);var lt=()=>o(46124),dt=()=>o(427704),ct=()=>o(435009),ut=()=>o(861243);const pt=(0,s().YK)({calloutTitle:{defaultMessage:"Introducing webhooks",id:"integrationWebhooksSidebarCallout.title"},calloutBody:{defaultMessage:"Send real-time updates to your API integrations whenever content changes in Notion.",id:"integrationWebhooksSidebarCallout.body"},calloutLink:{defaultMessage:"Try them out here",id:"integrationWebhooksSidebarCallout.linkText"}});function gt(){const e=(0,s().tz)(),t=(0,n().v3)(),o=(0,r().IS)((e=>({integrationsIcon:{width:$e().Ev.lg,height:$e().Ev.lg,fill:e.icon.primary}})),[]),i=(0,a.useCallback)((()=>{ct().oo({environment:t,url:dt().JZ.creatorProfileIntegrations,openInNew:"tab"})}),[t]);return(0,R.jsx)(ut().Y,{messageKey:"integration_webhooks",title:e.formatMessage(pt.calloutTitle),icon:()=>(0,lt().L)(o.integrationsIcon),body:e.formatMessage(pt.calloutBody),buttons:[{text:`${e.formatMessage(pt.calloutLink)}`,onClick:i,rightIcon:st}]})}var mt=()=>o(123423),ft=()=>o(679924);var bt=()=>o(755199);const ht=(0,s().YK)({title:{defaultMessage:"Student orgs get our free Plus plan here",id:"sidebar.studentPlanPrompt.title"},body:{defaultMessage:"Get access to premium features and add unlimited members in your student org workspace.",id:"sidebar.studentPlanPrompt.body"},cta:{defaultMessage:"Apply now",id:"sidebar.studentPlanPrompt.cta"}});function vt(){const e=(0,s().tz)(),t=(0,n().v3)(),o=(0,a.useCallback)((()=>{!function(e){(0,ft().v)(e,"click_sidebar_student_org_promo")}(t),ct().oo({environment:t,url:dt().JZ.studentGroupSignup,openInNew:"tab"})}),[t]),i=(0,a.useCallback)((()=>{bt().gV(t)}),[t]);return(0,R.jsx)(ut().Y,{messageKey:"student_org_prompt",title:e.formatMessage(ht.title),body:e.formatMessage(ht.body),buttons:[{text:e.formatMessage(ht.cta),rightIcon:mt().g,onClick:o}],onDismiss:i})}var yt=()=>o(403733),St=()=>o(112799);const _t=(0,s().YK)({titleWindows:{id:"desktop_download_sidebar.title.windows",defaultMessage:"Try Notion for Windows"},titleMac:{id:"desktop_download_sidebar.title.mac",defaultMessage:"Try Notion for Mac"},titleDefault:{id:"desktop_download_sidebar.title.desktop",defaultMessage:"Try Notion for Desktop"},bodyCopyPerformance:{id:"desktop_download_sidebar.body.copy_performance",defaultMessage:"Get up to 30% faster loading time with the Notion desktop app."},cta:{id:"desktop_download_sidebar.cta",defaultMessage:"Get the app"}});function xt(){const e=(0,n().v3)(),t=(0,n().Y0)(),o=(0,s().tz)(),i=(0,r().IS)((e=>({iconStyles:{width:$e().Ev.xs,height:$e().Ev.xs,fill:e.icon.primary}})),[]),l=t.isWindows?_t.titleWindows:t.isMac?_t.titleMac:_t.titleDefault,d=_t.bodyCopyPerformance,c=(0,St().E)(),u=(0,a.useCallback)((()=>{c.current&&ct().oo({environment:e,url:c.current,openInNew:"tab"})}),[e,c]),p=(0,a.useCallback)((()=>{u(),H().a(e,"desktop_download_sidebar")}),[e,u]);return(0,R.jsx)(ut().Y,{messageKey:"desktop_download_sidebar",title:o.formatMessage(l),body:o.formatMessage(d),buttons:[{text:o.formatMessage(_t.cta),onClick:p,leftIcon:()=>(0,yt().g)(i.iconStyles)}]})}var wt=()=>o(569397),Mt=(o(944114),()=>o(722559)),Ct=()=>o(51367),kt=(o(898992),o(803949),()=>o(949306)),At=()=>o(84817),Tt=()=>o(493823),It=()=>o(460292);const jt=(0,a.createContext)(void 0);jt.displayName="AnimationDismissContext";const Pt=300;function Bt(e){const{children:t}=e,[o,n]=(0,a.useState)(100),i=(0,r().IS)((()=>({card:{marginBottom:`-${o}%`,transitionProperty:"margin-bottom",transitionDuration:`${Pt}ms`,transitionTimingFunction:"ease"}})),[o]);(0,a.useEffect)((()=>{n(0)}),[]);const s=(0,a.useCallback)((e=>{n(100),setTimeout(e,Pt)}),[]);return(0,R.jsx)(jt.Provider,{value:s,children:(0,R.jsx)("div",{style:i.card,children:t})})}function Nt(e){const{title:t,body:o,buttons:n,imageSources:i,onDismiss:s,icon:l,iconColor:d}=e,c=(0,r().DP)(),u=c.surface.contrast,p=(0,r().IS)((e=>({container:{backgroundColor:"transparent",margin:8,display:"flex"},card:{borderRadius:12,gap:0,boxShadow:e.shadowSM,position:"relative",padding:0,backgroundColor:e.surface.contrast},closeButton:{position:"absolute",top:8,right:8,width:20,height:20,zIndex:99999999,display:"flex",alignItems:"center",justifyContent:"center"},image:{width:"100%",height:"auto",alignSelf:"start",maxWidth:"100%",borderTopRightRadius:12,borderTopLeftRadius:12},icon:{width:$e().Ev.default,height:$e().Ev.default,fill:d??e.icon.primary},iconWrapper:{width:24,height:24,display:"flex",justifyContent:"center",alignItems:"center"},triangle:{content:'""',position:"absolute",bottom:-8,left:40,width:0,height:0,borderLeft:"10px solid transparent",borderRight:"10px solid transparent",borderTop:`10px solid ${u}`}})),[d,u]),g=(0,a.useContext)(jt),m=(0,a.useCallback)((()=>{g?g((()=>null==s?void 0:s())):null==s||s()}),[s,g]),f=[];let b,h;return n&&(0,oe().EI)(n)&&n.forEach(((e,t)=>f.push((0,R.jsx)(Lt,{...e},t)))),s&&(b=(0,R.jsx)(Te().wX,{mode:"light",children:(0,R.jsx)(Tt().p,{isGray:!0,size:"xs",style:p.closeButton,onClick:m,children:(0,R.jsx)(It().Q,{iconGroup:kt().Q,variantName:"mini",colorName:"secondary"})})})),i&&(h=(0,R.jsx)("img",{src:i[c.mode],style:p.image,alt:""})),(0,R.jsx)("div",{style:p.container,children:(0,R.jsxs)(At().Y1,{direction:"vertical",style:p.card,gap:8,children:[h,(0,R.jsxs)(At().Y1,{direction:"horizontal",children:[l?(0,R.jsx)("span",{style:p.iconWrapper,children:l(p.icon)}):null,(0,R.jsxs)(At().Y1,{gap:4,padding:"14px 12px",children:[(0,R.jsxs)(At().Y1,{gap:4,padding:"0px 8px",children:[(0,R.jsx)(Be().D,{styleName:"UIRegular-14px/Semibold",colorName:"contrastPrimary",children:t}),(0,R.jsx)(Be().D,{styleName:"UIRegular-14px/Regular",colorName:"contrastSecondary",children:o})]}),(0,R.jsx)("div",{children:f})]})]}),b,(0,R.jsx)("div",{style:p.triangle})]})})}function Lt(e){const{text:t,onClick:o,leftIcon:a,rightIcon:n,disabled:i}=e,s=(0,r().IS)((e=>({defaultIconStyles:{width:$e().Ev.sm,height:$e().Ev.sm,fill:e.icon.primary},button:{paddingTop:4,paddingRight:8,paddingBottom:4,paddingLeft:Boolean(a)?6:8,borderRadius:6}})),[a]);return(0,R.jsx)(At().Y1,{direction:"horizontal",children:(0,R.jsx)(S().A,{disabled:i,style:s.button,onClick:o,children:(0,R.jsxs)(At().Y1,{direction:"horizontal",align:"center-left",gap:Boolean(a)?4:6,width:"hug",children:[a?a(s.defaultIconStyles):null,(0,R.jsx)(Be().D,{styleName:"UISmall-12px/Semibold",colorName:i?"contrastSecondary":"contrastPrimary",children:t}),n?n(s.defaultIconStyles):null]})})})}function Rt(e){const{message:t,buttons:o}=e,i=(0,n().v3)();(0,a.useEffect)((()=>{Ct().DL(i,{callout_key:t.key,placement_key:(0,Mt().Q3)(t)})}),[i,t]);const r=(0,a.useCallback)((e=>{Ct().Y5(i,{callout_key:t.key,placement_key:(0,Mt().Q3)(t),click_type:"primary_cta"}),e&&e()}),[i,t]),s=(0,a.useCallback)((()=>{Ct().Sq(i,{callout_key:t.key,placement_key:(0,Mt().Q3)(t),dismiss_type:"sidebar_dismiss"}),H().OX(i,t),e.onDismiss&&e.onDismiss()}),[i,t,e]);let l;if(o){l=[];for(const e of o)l.push({...e,onClick:()=>{r(e.onClick)}})}return(0,R.jsx)(Bt,{children:(0,R.jsx)(Nt,{...e,buttons:l,onDismiss:s})})}function Dt(e){const{messageKey:t}=e,o={id:"",key:t,type:"static",props:{}};return(0,R.jsx)(Bt,{children:(0,R.jsx)(Rt,{...e,message:o})})}const Ft=(0,s().YK)({title:{id:"notion_mail_launch_2_callout.title",defaultMessage:"Find Notion Mail here"},body:{id:"notion_mail_launch_2_callout.body",defaultMessage:"It’s what you love about Notion, in your inbox. See it for yourself."},cta:{id:"notion_mail_launch_2_callout.cta",defaultMessage:"View your mail"}});function Ot(){const e=(0,s().tz)(),t=(0,n().v3)(),o=Ft.title,i=Ft.body,l=(0,r().IS)((e=>({iconStyles:{width:$e().Ev.xs,height:$e().Ev.xs,fill:e.icon.contrast}})),[]),d=(0,a.useCallback)((()=>{(0,Xe().Z)({environment:t,from:"callout"})}),[t]);return(0,R.jsx)(Dt,{messageKey:"notion_mail_launch_2_callout",title:e.formatMessage(o),body:e.formatMessage(i),imageSources:{light:Ie().A.images.notionMailSidebarCalloutPng,dark:Ie().A.images.notionMailSidebarCalloutPng},buttons:[{text:e.formatMessage(Ft.cta),onClick:d,rightIcon:()=>(0,wt().C)(l.iconStyles)}]})}var Et=()=>o(991249);const Ut=(0,s().YK)({title:{id:"resurrectionOfferSidebarAnnouncement.title",defaultMessage:"Work smarter"},body:{id:"resurrectionOfferSidebarAnnouncement.body",defaultMessage:"Unlimited content, charts and more. Get Plus at 50% off for 3 months."},cta:{id:"resurrectionOfferSidebarAnnouncement.upgradeAction",defaultMessage:"Redeem now"}});function Vt(){const e=(0,n().v3)(),t=(0,s().tz)(),o=(0,a.useCallback)((()=>{Et().K(e,{from:"resurrection_offer_sidebar",upsell:{type:"product",product:"plus",limit:{type:"none"},trialability:"none"}}),H().a(e,"resurrection_offer_sidebar")}),[e]);return(0,R.jsx)(ut().Y,{messageKey:"resurrection_offer_sidebar",title:t.formatMessage(Ut.title),body:t.formatMessage(Ut.body),imageSources:{light:Ie().A.images.pricing.light.rocketPng,dark:Ie().A.images.pricing.dark.rocketPng},buttons:[{text:t.formatMessage(Ut.cta),onClick:o,rightIcon:mt().g}]})}var Kt=()=>o(782215),Wt=()=>o(391657),zt=()=>o(832895);function Ht(e){const{message:t}=e,o=(0,a.useCallback)((()=>{t.props.buttonLink?window.open(t.props.buttonLink):t.props.action&&(0,Kt().W)(t.props.action)}),[t]),n=[];return t.props.buttonText&&n.push({text:t.props.buttonText,rightIcon:mt().g,onClick:o}),(0,R.jsx)(zt().Ue,{children:(0,R.jsx)(Wt().g,{message:t,title:t.props.title,body:t.props.body,buttons:n,imageSources:t.props.imageUrl?{light:t.props.imageUrl,dark:t.props.imageUrlDarkMode??t.props.imageUrl}:void 0})})}const Gt=(0,s().YK)({title:{defaultMessage:"Startups get up to 6 months free of Plus and AI",id:"callouts.startupSidebarCallout.title"},body:{defaultMessage:"Get access to premium features and add unlimited members in your student org workspace.",id:"callouts.startupSidebarCallout.body"},cta:{defaultMessage:"Apply now",id:"callouts.startupSidebarCallout.cta"}});function Yt(){const e=(0,s().tz)(),t=(0,n().v3)(),o=(0,a.useCallback)((()=>{ct().oo({environment:t,url:dt().JZ.startupsApplication,openInNew:"tab"})}),[t]);return(0,R.jsx)(ut().Y,{messageKey:"startup_sidebar_footer",title:e.formatMessage(Gt.title),body:e.formatMessage(Gt.body),buttons:[{text:e.formatMessage(Gt.cta),rightIcon:mt().g,onClick:o}]})}var qt=()=>o(584262),Jt=()=>o(857783),$t=()=>o(630116),Zt=()=>o(338477);const Qt=(0,s().YK)({title:{id:"feed_view_onboarding_callout.title",defaultMessage:"New database view just dropped: Feed View"},body:{id:"feed_view_onboarding_callout.body",defaultMessage:"Read pages in a content rich, streamlined way"},primaryButton:{id:"feed_view_onboarding_callout.primaryButton",defaultMessage:"Try it out"}});function Xt(){const e=(0,n().v3)(),t=(0,s().tz)(),o=(0,a.useCallback)((()=>{var t;const o=null===(t=p().default.state.currentSpaceStore)||void 0===t?void 0:t.id;o&&(H().a(e,"feed_view_onboarding_callout"),(0,Zt().m)({environment:e,spaceId:o}).then((e=>{if("success"!==e.type)return;const{pageId:t}=e.data;if(!t)return;const o=p().default.state.currentUserRootStore;if(!o)return;const a=$t().Bv.createChildStore(o,{table:"block",id:t});return a.load().then((()=>a))})).then((t=>{t&&Jt().uK({environment:e,store:t,pageVisitSource:qt().y8.Onboarding})})).catch((()=>{})))}),[e]);return(0,R.jsx)(ut().Y,{messageKey:"feed_view_onboarding_callout",title:t.formatMessage(Qt.title),body:t.formatMessage(Qt.body),buttons:[{text:t.formatMessage(Qt.primaryButton),onClick:o,rightIcon:mt().g}]})}var eo=()=>o(582094),to=()=>o(209660),oo=()=>o(957599);const ao=(0,s().YK)({title:{id:"collaboration_callout.title",defaultMessage:"Find friends to collaborate with"},body:{id:"collaboration_callout.body",defaultMessage:"Import your contacts to start collaborating with your friends."},cta:{id:"collaboration_callout.ctaImportContacts",defaultMessage:"Import contacts"}});function no(){const e=(0,s().tz)(),t=(0,a.useCallback)((()=>{to().Ow({currentTab:"members",subtab:"members"}),oo().F.openImportDropdown({shouldAddMembers:!1})}),[]);return(0,R.jsx)(ut().Y,{messageKey:"collaboration_callout",title:e.formatMessage(ao.title),body:e.formatMessage(ao.body),icon:eo().personCropCircleBadgePlusIcon,buttons:[{text:e.formatMessage(ao.cta),onClick:t,rightIcon:mt().g}]})}var io=()=>o(920495),ro=()=>o(162547);const so=(0,s().YK)({title:{id:"sidebar.createPagePanel.title",defaultMessage:"Create a new page"},body:{id:"sidebar.createPagePanel.description",defaultMessage:"Start from scratch with a blank page."},cta:{id:"sidebar.createPagePanel.button",defaultMessage:"New page"}});function lo(){const e=(0,n().v3)(),t=(0,s().tz)(),o=(0,a.useCallback)((async()=>{await(0,ro().s)({environment:e,panelType:"create_page"})}),[e]);return(0,R.jsx)(ut().Y,{messageKey:"anyone_with_the_link_sidebar_callout",title:t.formatMessage(so.title),body:t.formatMessage(so.body),icon:io().pageIcon,buttons:[{text:t.formatMessage(so.cta),onClick:o,rightIcon:mt().g}]})}var co=()=>o(604995),uo=()=>o(529099),po=()=>o(751156),go=()=>o(807778),mo=()=>o(450930);function fo(e,t,o){if(o){if("warning"===t){if("settings"===e)return{disableWarningNotificationInSettings:!0,disableWarningNotificationInSidebar:o.disableWarningNotificationInSidebar,disableLimitNotificationInSettings:o.disableLimitNotificationInSettings,disableLimitNotificationInSidebar:o.disableLimitNotificationInSidebar,expirationDate:o.expirationDate};if("sidebar"===e)return{disableWarningNotificationInSettings:o.disableWarningNotificationInSettings,disableWarningNotificationInSidebar:!0,disableLimitNotificationInSettings:o.disableLimitNotificationInSettings,disableLimitNotificationInSidebar:o.disableLimitNotificationInSidebar,expirationDate:o.expirationDate}}if("limit_reached"===t){if("settings"===e)return{disableWarningNotificationInSettings:o.disableWarningNotificationInSettings,disableWarningNotificationInSidebar:o.disableWarningNotificationInSidebar,disableLimitNotificationInSettings:!0,disableLimitNotificationInSidebar:o.disableLimitNotificationInSidebar,expirationDate:o.expirationDate};if("sidebar"===e)return{disableWarningNotificationInSettings:o.disableWarningNotificationInSettings,disableWarningNotificationInSidebar:o.disableWarningNotificationInSidebar,disableLimitNotificationInSettings:o.disableLimitNotificationInSettings,disableLimitNotificationInSidebar:!0,expirationDate:o.expirationDate}}}return{disableWarningNotificationInSettings:"warning"===t&&"settings"===e,disableWarningNotificationInSidebar:"warning"===t&&"sidebar"===e,disableLimitNotificationInSettings:"limit_reached"===t&&"settings"===e,disableLimitNotificationInSidebar:"limit_reached"===t&&"sidebar"===e,expirationDate:(0,co().K1)({date:Date.now(),daysToAdd:7})}}const bo=function(e){const t=(0,n().v3)(),l=(0,s().tz)(),d=t.currentUser.id,c=(0,i().K8)((()=>(0,go().up)(t)),[t]),u=(0,Q().O)(),g=(0,o(329304)._X)({name:"ai_usage",spaceId:u,userId:d,amount:"unknown"}),{canUserRequestUpgrade:m,openModal:f,userHasPendingRequest:b}=(0,o(270812).E)({type:"feature",featureAvailability:g,entrypoint:"ai_limit_nudge_sidebar",analyticsEntrypoint:"ai_limit_nudge_sidebar",isOptimisticUpsell:!1});(0,a.useEffect)((()=>{Ct().DL(t,{callout_key:"ai_limit_nudge",placement_key:"SidebarFooter"})}),[t]);const h=(0,r().IS)((e=>({requestedIcon:{color:e.icon.tertiary,width:16,height:16}})),[]),v=(0,i().K8)((()=>(0,go().Le)()),[]);if(!d)return null;const y=c&&m,S=c&&b;if("settings"===e.source)return null;if(void 0===g||(0,o(76118).e2)(g))return null;const _=g.limit.current,x="unlimited"===g.limit.total?0:g.limit.total,w=x?Number(_/x):0;if(w<$()._)return null;const M=w>=$().G?"limit_reached":"warning",C=function(e,t){return"warning"===e?t.formatMessage({id:"addOnLimitUsage.approachingAiLimitDescription",defaultMessage:"You're actively using AI. Upgrade to get to ideas and answers, faster"}):t.formatMessage({id:"addOnLimitUsage.reachedAiLimitDescription",defaultMessage:"You're out of free responses"})}(M,l),k=function(e,t,o,a,n){if(a)return(0,R.jsx)(s().sA,{id:"addOnLimitUsage.requestedAiLimitTooltip",defaultMessage:"You’ve already requested Notion AI to your workspace owner."});if("warning"!==e)return null;if(n)return(0,R.jsx)(s().sA,{id:"addOnLimitUsage.approachingAiLimitTooltipV2",defaultMessage:"You’ve used {usageNumber} of {usageLimit} free AI responses. Upgrade Notion AI to get more responses.",values:{usageNumber:t,usageLimit:o}});return(0,R.jsx)(s().sA,{id:"addOnLimitUsage.approachingAiLimitTooltip",defaultMessage:"You’ve used {usageNumber} of {usageLimit} free AI responses. Purchase the AI add-on to get more responses.",values:{usageNumber:t,usageLimit:o}})}(M,_,x,S,v),A=l.formatMessage({id:"spaceSettings.sidebar.addOnUpgradeLink",defaultMessage:"Notion AI"}),T=function(e,t,o,a){if(a)return t.formatMessage({id:"addOnLimitUsage.hasAlreadyRequested",defaultMessage:"Requested"});if(o)return t.formatMessage({id:"addOnLimitUsage.requestAiCta",defaultMessage:"Request Notion AI"});return"warning"===e?t.formatMessage({id:"addOnLimitUsage.approachingLimitCta",defaultMessage:"Unlock Notion AI"}):t.formatMessage({id:"addOnLimitUsage.reachedLimitCta",defaultMessage:"Upgrade now"})}(M,l,y,S);return(0,R.jsx)(ut().Y,{messageKey:"ai_limit_nudge",title:A,body:(0,R.jsxs)(R.Fragment,{children:[C,k?(0,R.jsx)(mo().B,{tooltipMessage:k,tooltipWidth:"250px"}):null]}),icon:uo().aiFaceIcon,onDismiss:()=>function(e,t,o){var a;const{currentUserSettingsStore:n}=p().default.state;if(!n)return;const i={addOnLimitNotifications:fo(t,o,null===(a=n.getSettings())||void 0===a?void 0:a.addOnLimitNotifications)};po().createAndCommit({userAction:"addOnLimitNotifications.ai.markNotificationAsDismissed",environment:e,canUndo:!0,perform:e=>{bt().mJ({transaction:e,userSettingsStore:n,data:i})}}),H().a(e,"ai_limit_nudge"),Ct().Sq(e,{callout_key:"ai_limit_nudge",dismiss_type:"sidebar_dismiss",placement_key:"SidebarFooter"})}(t,e.source,M),buttons:[{text:T,onClick:()=>function(e,t,o,a,n){o?n():Et().K(e,{from:"sidebar"===t?"ai_limit_sidebar":"ai_limit_settings",upsell:a});Ct().Y5(e,{callout_key:"ai_limit_nudge",click_type:"primary_cta",placement_key:"SidebarFooter"})}(t,e.source,y,g.upsell,f),rightIcon:S?void 0:mt().g,leftIcon:S?()=>(0,o(209969).checkmarkCircleFillIcon)(h.requestedIcon):void 0,disabled:S}]})};var ho=()=>o(916833),vo=()=>o(725340);function yo(e){return(0,R.jsx)(zt().Ue,{children:(0,R.jsx)(zt().wY,{...e})})}var So=()=>o(864943),_o=()=>o(78901),xo=()=>o(120303);function wo(e){const{title:t,description:o,cta:a,onClick:n,onDismiss:i,icon:s,iconStyle:l,progressFilledColor:d,progressPercent:c,isButtonDisabled:u,iconGroup:p,iconColorName:g}=e,m=(0,r().IS)((e=>({button:{width:"100%",border:`1px solid ${e.stroke.primary}`,borderRadius:6},buttonContainer:{width:"100%"},cardContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"12px 14px 20px 14px",gap:8,borderTop:`1px solid ${e.state.hover}`},contentWrapper:{display:"flex",padding:"0px 6px",flexDirection:"column",alignItems:"flex-start",gap:12,width:"100%"},cta:{textDecoration:"underline"},dismissButton:{position:"relative",top:0,right:0,left:4,background:"none"},filledBar:{color:e.icon.tertiary},icon:{width:16,color:e.icon.secondary},unfilledBar:{color:e.tint.regular}})),[]),f=void 0!==c;return(0,R.jsxs)("div",{style:m.cardContainer,children:[(0,R.jsxs)(At().Y1,{direction:"horizontal",gap:"auto",align:"center",padding:"0px 0px 0px 2px",children:[s?s({...m.icon,...l}):null,p?(0,R.jsx)(It().Q,{iconGroup:p,variantName:"large",colorName:g}):null,void 0!==i&&(0,R.jsx)(xo().R,{onClick:i,style:m.dismissButton})]}),(0,R.jsxs)("div",{style:m.contentWrapper,children:[(0,R.jsxs)(At().Y1,{gap:f?8:4,children:[(0,R.jsx)(Be().D,{styleName:"UIRegular-14px/Medium",colorName:"primary",children:t}),f&&(0,R.jsx)(_o().z,{percentage:100*c,height:6,filledColor:d??m.filledBar.color,unfilledColor:m.unfilledBar.color}),(0,R.jsx)(Be().D,{styleName:"UISmall-12px/Regular",colorName:"secondary",children:o})]}),(0,R.jsx)("div",{style:m.buttonContainer,children:(0,R.jsx)(So().A,{size:"lg",onClick:n,disabled:u,disabledFeedback:u,style:m.button,children:(0,R.jsx)(Be().D,{styleName:"Body-13px/Medium",colorName:"primary",children:a})})})]})]})}var Mo=()=>o(303096),Co=()=>o(979340);function ko(){const e=(0,n().v3)();return(0,i().K8)((()=>{var t;const o=null===(t=p().default.state.currentSpaceStore)||void 0===t?void 0:t.id,a=ee().subscriptionDataStoreInstance.state;return a&&o?{blockUsage:X().hr(e,a,o),percentageUsed:X().Bl(e,a,o)}:void 0}),[e])}function Ao(){const e=(0,n().v3)(),t=(0,Q().O)(),{approachingBlockLimit:o}=(0,i().K8)((()=>{const o=ee().subscriptionDataStoreInstance.state;return t?{approachingBlockLimit:!!o&&X().z8(e,o,t)}:{approachingBlockLimit:!1}}),[e,t]);return o}const To=function(){const e=(0,n().v3)(),t=(0,s().tz)(),o=(0,r().IS)((e=>({tooltip:{width:"210px"}})),[]),l=(0,i().K8)((()=>(0,go().Km)(e)),[e]),d=Ao(),c=(0,i().K8)((()=>X().qc(ee().subscriptionDataStoreInstance.state)),[]),u=ko();(0,a.useEffect)((()=>{Ct().DL(e,{callout_key:"block_limit_nudge",placement_key:"SidebarFooter"})}),[e]);const p=(0,a.useCallback)((()=>{c?(Et().K(e,{from:"block_limit_sidebar",upsell:{type:"product",product:"plus",limit:{type:"none"},trialability:"none"}}),Ct().Y5(e,{callout_key:"block_limit_nudge",variant:"approaching_block_limit",click_type:"primary_cta",placement_key:"SidebarFooter"})):to().Ow({currentTab:"members"})}),[e,c]),g=c?t.formatMessage(Mo().XZ.reachedBlockLimitCta):t.formatMessage(Mo().XZ.reachedBlockLimitCtaForMembers);return d?l?(0,R.jsx)(fe().A,{placement:ue().W.Right,style:o.tooltip,render:e=>(0,R.jsx)("span",{...e,children:(0,R.jsx)(yo,{title:t.formatMessage(Mo().xc.approachingBlockLimitTitle),body:t.formatMessage(Mo().xc.approachingBlockLimitDescription),icon:vo().U,iconColor:"yellowPrimary",buttons:[{text:g,rightIcon:mt().g,onClick:p}]})}),renderTooltip:()=>t.formatMessage(Mo().xc.approachingBlockLimitTooltip),textWrap:!0}):(0,R.jsx)(wo,{title:t.formatMessage(Mo().XZ.approachingBlockLimitTitle),description:(0,R.jsxs)(R.Fragment,{children:[t.formatMessage(Mo().XZ.approachingBlockLimitDescription),(0,R.jsx)(mo().B,{tooltipMessage:t.formatMessage(Mo().XZ.approachingBlockLimitTooltip,{percentageUsed:(0,R.jsx)(s().Gr,{value:u.percentageUsed,style:"percent",maximumSignificantDigits:2,maximumFractionDigits:0})})})]}),cta:c?(0,R.jsx)(s().sA,{id:"spaceSettings.sidebar.button.upgrade",defaultMessage:"Upgrade plan"}):(0,R.jsx)(s().sA,{id:"spaceSettings.sidebar.button.contactWorkspaceOwner",defaultMessage:"Contact a workspace owner"}),iconGroup:ho().z,iconColorName:"uiBlueSecondary",onClick:p}):null};var Io=()=>o(58293);const jo=function(){const e=(0,n().v3)(),t=(0,Io().r)(),o=(0,s().tz)(),l=(0,r().IS)((e=>({tooltip:{width:"210px"},tooltipDescription:{color:e.text.contrastSecondary}})),[]),d=(0,i().K8)((()=>t&&(0,ne().GK)(e,t)),[e,t]),c=(0,i().K8)((()=>(0,go().Km)(e)),[e]),u=(0,i().K8)((()=>(0,go().Mh)(e)),[e]),p=(0,i().K8)((()=>(0,go().PK)()),[]),g=(0,i().K8)((()=>X().qc(ee().subscriptionDataStoreInstance.state)),[]),m=u&&p>0,f=(0,a.useCallback)((()=>{g&&!m?Et().K(e,{from:"block_limit_sidebar",upsell:{type:"product",product:"plus",limit:{type:"none"},trialability:"none"}}):to().Ow({currentTab:"members"})}),[e,g,m]);if(!d)return null;const b=g?m?o.formatMessage(Mo().XZ.manageMembersCta):o.formatMessage(Mo().XZ.reachedBlockLimitCta):o.formatMessage(Mo().XZ.reachedBlockLimitCtaForMembers);if(c){const e=m?o.formatMessage(Mo().xc.enteringGracePeriodTooltip):o.formatMessage(Mo().xc.afterGracePeriodTooltip),t=m?o.formatMessage(Mo().xc.enteringGracePeriodTooltipSubtitle):null,{notificationTitle:a,notificationDescription:n}=function(e){const{intl:t,inGracePeriod:o,remainingDays:a,spaceName:n}=e;return{notificationTitle:o?t.formatMessage(Mo().xc.enteringGracePeriodTitle,{dayCount:a}):t.formatMessage(Mo().xc.afterGracePeriodTitle),notificationDescription:o?t.formatMessage(Mo().xc.enteringGracePeriodDescription,{spaceName:n}):t.formatMessage(Mo().xc.afterGracePeriodDescription)}}({intl:o,inGracePeriod:m,remainingDays:p,spaceName:d});return(0,R.jsx)(fe().A,{placement:ue().W.Right,style:l.tooltip,render:e=>(0,R.jsx)("span",{...e,children:(0,R.jsx)(yo,{title:a,body:n,icon:vo().U,iconColor:m?"yellowPrimary":"uiRedPrimary",buttons:[{text:b,rightIcon:mt().g,onClick:f}]})}),renderTooltip:()=>(0,R.jsxs)(R.Fragment,{children:[e,(0,R.jsx)("div",{style:l.tooltipDescription,children:t})]}),textWrap:!0})}return(0,R.jsx)(wo,{title:o.formatMessage(Mo().XZ.reachedBlockLimitTitle),description:(0,R.jsxs)(R.Fragment,{children:[o.formatMessage(Mo().XZ.reachedBlockLimitDescription,{spaceName:d}),(0,R.jsx)(mo().B,{tooltipMessage:o.formatMessage(Mo().XZ.reachedBlockLimitTooltip)})]}),cta:g?o.formatMessage(Mo().XZ.reachedBlockLimitCta):(0,R.jsx)(s().sA,{id:"spaceSettings.sidebar.button.contactWorkspaceOwner",defaultMessage:"Contact a workspace owner"}),iconGroup:ho().z,iconColorName:"uiRedSecondary",onClick:f})};var Po=()=>o(134696),Bo=()=>o(252105),No=()=>o(296798),Lo=()=>o(47373),Ro=()=>o(766343),Do=()=>o(998109);const Fo=function(e){let{scrollerStore:t,permissionsInviteStore:l,upsellVariant:d}=e;const c=(0,n().v3)(),u=(0,Io().r)(),{showMembersButton:p,canRequestMembers:g}=(0,i().K8)((()=>{if(!u||(0,ne().IL)(u)||!l)return{showMembersButton:!1,canRequestMembers:!1};const e=!u.canEditMembership()&&!u.getDisableMembershipRequests()&&(0,Lo().x3)();return{showMembersButton:u.canEditMembership()||e,canRequestMembers:e}}),[u,l]),m=d,f=(0,a.useCallback)((()=>{u&&p&&(u.canEditMembership()&&(null==l||l.setState({...l.state,modalOpen:!0}),Po().vX(c,{type:"invite",from:"sidebar_footer"})),g&&(Ro().A.open(),Po().vX(c,{type:"request",from:"sidebar_footer"})))}),[c,g,u,l,p]),b=(0,a.useCallback)((()=>{Bo().QP(c,{from:"sidebar_upgrade_nudge"}),to().Ow({currentTab:"plans",openedFrom:"upsell",upsellType:"sidebar_upgrade_nudge"})}),[c]),h=(0,r().IS)((e=>({buttonHover:{opacity:1,background:e.sidebarItemSelectedBackground,transition:"background 100ms ease-out"},icon:{height:16,width:16,fill:e.sidebarSecondaryColor},tooltipDescription:{color:e.text.contrastSecondary},nudgeContainerWithAppSwitcher:{display:"flex",alignItems:"center",padding:"12px 8px",paddingBottom:"0px"},nudgeButton:{alignItems:"center",display:"flex",borderRadius:"6px",width:"100%"}})),[]),v=(0,ie().I)({environment:c,section:"invite"});return"none"!==m&&v?(0,R.jsx)("div",{style:h.nudgeContainerWithAppSwitcher,children:(0,R.jsxs)(At().Y1,{children:["invite"===m?(0,R.jsx)(Do().n,{step:"invite_members",isFullWidth:!1,children:(0,R.jsx)(No().A,{style:h.nudgeButton,hoveredStyle:h.buttonHover,onClick:f,children:(0,R.jsx)(C().A,{left:(0,R.jsx)(_().I,{icon:o(97835).x,color:"secondary"}),disableMobileBorder:!0,children:(0,R.jsx)(s().sA,{id:"inviteMembersNudge.message",defaultMessage:"Invite members"})})})}):null,"upgrade"===m?(0,R.jsx)(fe().A,{renderTooltip:()=>(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(s().sA,{id:"upgradeNudge.tooltip.title",defaultMessage:"Do more with Notion"}),(0,R.jsx)("div",{style:h.tooltipDescription,children:(0,R.jsx)(s().sA,{id:"upgradeNudge.tooltip.description",defaultMessage:"Upgrade to access premium features"})})]}),originGap:6,placement:ue().W.Right,render:e=>(0,R.jsx)(No().A,{...e,style:h.nudgeButton,hoveredStyle:h.buttonHover,onClick:b,children:(0,R.jsx)(C().A,{left:(0,R.jsx)(It().Q,{iconGroup:o(256754).I,variantName:"default",colorName:"secondary"}),disableMobileBorder:!0,children:(0,R.jsx)(s().sA,{id:"upgradeNudge.upsellMessage.upgradePlan",defaultMessage:"Upgrade plan"})})})}):null]})}):null};var Oo=()=>o(852507),Eo=()=>o(68913),Uo=()=>o(762433),Vo=()=>o(461946),Ko=()=>o(922442),Wo=()=>o(324561),zo=()=>o(243670),Ho=()=>o(985315),Go=()=>o(753735);function Yo(){var e;const t=(0,n().v3)(),o=(0,s().tz)(),i=(0,Q().O)(),l=(0,Wo()._3)({spaceId:i}),d=(0,Ho().g)({spaceId:i}),c=(0,Go().z2)({billingData:l,claimedOffers:d}),u=c?qo.autoConverting:qo.notAutoConverting,p=(0,Co().u2)({product:(0,Uo().AI)(l),intl:o}),g=(0,Co().u2)({product:(0,Uo().AW)(l),intl:o}),m=(0,r().IS)((e=>({iconStyle:{width:$e().Ev.xs,height:$e().Ev.xs,fill:e.icon.primary}})),[]);(0,Oo().w)((()=>{void 0!==f&&void 0!==b&&(0,Ce().u)({environment:t,event:{eventName:"trial_sidebar_alert_viewed",eventProperties:{trial_length:f,days_remaining:b}}})}));const f=null===(e=(0,Vo().F$)(d))||void 0===e?void 0:e.offer.duration.days,b=(0,zo().r0)(l),h=0===b?o.formatMessage(u.titleLastDay,{plan:p}):o.formatMessage(u.title,{days:b}),v=0===b?o.formatMessage(u.bodyLastDay,{plan:p}):o.formatMessage(u.body,{plan:c?p:g}),y=(0,a.useCallback)((()=>{void 0!==f&&void 0!==b&&(0,Ce().u)({environment:t,event:{eventName:"trial_sidebar_cta_clicked",eventProperties:{trial_length:f,days_remaining:b}}}),c?to().Ow({openedFrom:"self_serve_business_trial_ending_soon_nudge",currentTab:"plans"}):(0,Ko().openSelfServeBusinessTrialEndingModal)({openedFrom:"self_serve_business_trial_ending_soon_nudge"})}),[b,t,c,f]),S=(0,a.useCallback)((()=>{(0,Ce().u)({environment:t,event:{eventName:"trial_sidebar_alert_dismissed",eventProperties:{trial_length:f,days_remaining:b}}}),(0,H().a)(t,"self_serve_business_trial_ending_soon")}),[b,t,f]);return(0,R.jsx)(yo,{iconColor:"orangePrimary",icon:Eo().alarmIcon,body:v,title:h,onDismiss:c?S:void 0,buttons:[{text:o.formatMessage(u.cta,{plan:p}),rightIcon:()=>(0,wt().C)(m.iconStyle),onClick:y}]})}const qo={notAutoConverting:(0,s().YK)({title:{id:"selfServeBusinessTrialEndingSoonNudge.title",defaultMessage:"{days, plural, one {# day} other {# days}} left in your free Business trial"},titleLastDay:{id:"selfServeBusinessTrialEndingSoonNudge.titleLastDay",defaultMessage:"Today is the last day of your {plan} trial"},body:{id:"selfServeBusinessTrialEndingSoonNudge.body",defaultMessage:"If you choose not to upgrade, you’ll be on a {plan} plan with limited usage of Notion"},bodyLastDay:{id:"selfServeBusinessTrialEndingSoonNudge.bodyLastDay",defaultMessage:"If you choose not to upgrade, you’ll be on a {plan} plan with limited usage of Notion"},cta:{id:"selfServeBusinessTrialEndingSoonNudge.cta",defaultMessage:"Keep using {plan}"}}),autoConverting:(0,s().YK)({title:{id:"selfServeBusinessTrialEndingSoonNudge.title",defaultMessage:"{days, plural, one {# day} other {# days}} left in your free Business trial"},titleLastDay:{id:"selfServeBusinessTrialEndingSoonNudge.titleLastDay",defaultMessage:"Today is the last day of your {plan} trial"},body:{id:"selfServeBusinessTrialEndingSoonNudge.hasPaymentMethod.body",defaultMessage:"Your workspace will be automatically upgraded to {plan} at the end of the trial. If you’d like to make changes, visit our plans page"},bodyLastDay:{id:"selfServeBusinessTrialEndingSoonNudge.hasPaymentMethod.bodyLastDay",defaultMessage:"You’ll be automatically on the {plan} plan when your trial ends. If you’d like to make changes, visit our plans page"},cta:{id:"selfServeBusinessTrialEndingSoonNudge.hasPaymentMethod.cta",defaultMessage:"Manage plan"}})};var Jo=()=>o(257545),$o=()=>o(818541),Zo=()=>o(115240),Qo=()=>o(546703),Xo=()=>o(35588);const ea={viewBox:"0 0 20 20",fittedViewBox:"5.31 1.92 9.37 16.15",svg:(0,R.jsx)("path",{d:"M12.02 10.83a.3.3 0 0 0 .062-.023 4.684 4.684 0 1 0-4.164 0q.03.014.062.023v5.225c0 .086.034.169.095.23L9.77 17.98a.325.325 0 0 0 .46 0l1.695-1.695a.325.325 0 0 0 0-.46l-1.465-1.466 1.465-1.465a.33.33 0 0 0 .095-.23zM10 6.67a1 1 0 1 1 0-2 1 1 0 0 1 0 2"})},ta=(0,$e().wt)("keyFill",ea);var oa=()=>o(471095),aa=()=>o(222299),na=()=>o(501305),ia=()=>o(841946),ra=()=>o(846955),sa=()=>o(41444),la=()=>o(671467),da=()=>o(281303);const ca={onboardingIntro:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.onboardingIntro.title",defaultMessage:"Welcome to Notion Business"},description:{id:"selfServeBusinessTrialNudge.onboardingIntro.description",defaultMessage:"Try our most loved team features on the Business plan, free for {days} days"},cta:{id:"selfServeBusinessTrialNudge.intro.cta",defaultMessage:"Learn more"}}),intro:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.intro.title",defaultMessage:"Get the most out of your {days} day Business trial"},description:{id:"selfServeBusinessTrialNudge.intro.description",defaultMessage:"Access Notion AI to create, ask about, and refine ideas faster — all in Notion"},cta:{id:"selfServeBusinessTrialNudge.intro.cta",defaultMessage:"Learn more"}}),inviteMembers:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.inviteMembers.title",defaultMessage:"Maximize your creation and collaboration in Notion"},description:{id:"selfServeBusinessTrialNudge.inviteMembers.description",defaultMessage:"Make sure to invite team members to get the most out of Notion Business"},cta:{id:"selfServeBusinessTrialNudge.inviteMembers.cta",defaultMessage:"Invite members"}}),connectWorkspace:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.connectWorkspace.title",defaultMessage:"Connect your workspace"},description:{id:"selfServeBusinessTrialNudge.connectWorkspace.description",defaultMessage:"Stay in Notion. Link Slack, GitHub & more to ask, create, and refine — all in one place"},cta:{id:"selfServeBusinessTrialNudge.connectWorkspace.cta",defaultMessage:"Set up now"}}),createTeamspaces:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.createTeamspaces.title",defaultMessage:"Your team, your space"},description:{id:"selfServeBusinessTrialNudge.createTeamspaces.description",defaultMessage:"Use private hubs for confidential collaboration"},cta:{id:"selfServeBusinessTrialNudge.createTeamspaces.cta",defaultMessage:"Create a teamspace"}}),verifyPages:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.verifyPages.title",defaultMessage:"Create trusted docs"},description:{id:"selfServeBusinessTrialNudge.verifyPages.description",defaultMessage:"Verify your pages and help teammates find accurate content"},cta:{id:"selfServeBusinessTrialNudge.verifyPages.cta",defaultMessage:"Try it out"}}),samlSSO:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.samlSSO.title",defaultMessage:"Streamline access and security with SAML SSO"},description:{id:"selfServeBusinessTrialNudge.samlSSO.description",defaultMessage:"Use one login across all of your tools. Verify a domain to get started"},cta:{id:"selfServeBusinessTrialNudge.samlSSO.cta",defaultMessage:"Configure now"}}),storeRecords:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.storeRecords.title",defaultMessage:"Safely store your records"},description:{id:"selfServeBusinessTrialNudge.storeRecords.description",defaultMessage:"Buy the right plan for your org - get easier exports, extended history and more on the Business plan"},cta:{id:"selfServeBusinessTrialNudge.storeRecords.cta",defaultMessage:"More on Notion Business"}}),notionAi:(0,s().YK)({title:{id:"selfServeBusinessTrialNudge.notionAi.title",defaultMessage:"Chat with Notion AI"},description:{id:"selfServeBusinessTrialNudge.notionAi.description",defaultMessage:"Search, draft, or just ask for help - use AI to do what you wanted to, faster"},cta:{id:"selfServeBusinessTrialNudge.notionAi.cta",defaultMessage:"Try Notion AI"}})};function ua(e){var t;let{permissionsInviteStore:o}=e;const r=(0,s().tz)(),l=(0,n().v3)(),d=(0,Io().r)(),c=(0,i().O$)(p().AppStoreCurrentSpaceViewStore),u=(0,Wo()._3)({spaceId:null==d?void 0:d.id}),g=(0,Ho().g)({spaceId:null==d?void 0:d.id}),m=(0,Uo().DS)(u),f=(0,Vo().yL)(g),b=null===(t=(0,Vo().F$)(g))||void 0===t?void 0:t.offer.duration.days,h=f?Math.floor(m.startOf("day").diff(f.startOf("day"),"days").days):void 0,v=(0,a.useMemo)((()=>{if(void 0!==b&&void 0!==h)return b-h}),[h,b]),y=(0,a.useMemo)((()=>({onboardingIntro:{imageSources:{light:Ie().A.images.pricing.original.businessPng,dark:Ie().A.images.pricing.original.businessPng}},intro:{icon:Xo()._,iconColor:"orangePrimary"},inviteMembers:{icon:Qo().r},connectWorkspace:{icon:$o().V},createTeamspaces:{icon:oa().i},verifyPages:{icon:Jo().Q,iconColor:"uiBluePrimary"},samlSSO:{icon:ta},storeRecords:{icon:Zo().U},notionAi:{icon:uo().aiFaceIcon}})),[]);(0,Oo().w)((()=>{void 0!==b&&void 0!==v&&(0,Ce().u)({environment:l,event:{eventName:"trial_sidebar_alert_viewed",eventProperties:{trial_length:b,days_remaining:v}}})}));const S=(0,a.useMemo)((()=>{if(f&&void 0!==h)return(0,zo().tk)(h)}),[f,h]),_=(0,a.useCallback)((function(){let{fireEvent:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e&&(0,Ce().u)({environment:l,event:{eventName:"trial_sidebar_alert_dismissed",eventProperties:{}}}),void 0!==h){const e=`self_serve_business_trial_nudge_d${h}`;e in ia().z&&H().a(l,e)}}),[h,l]),x=(0,da().a)(c),w=(0,la().e)(),M=(0,sa().x)(),C=(0,a.useCallback)((()=>{if(!d||!c)return void to().Ow({currentTab:"verified_pages"});if(void 0!==x&&Boolean(x.length))return void to().Ow({currentTab:"verified_pages"});const e=M({spaceStore:d,spaceViewStore:c});e&&(aa().Yf({blocks:[e],environment:l,pageVisitSource:qt().y8.VerifiedPagesSettings}),w||ra().default.setState({type:"verify_page",step:"verify_page"}))}),[M,x,l,w,d,c]),k=(0,a.useCallback)((()=>{switch(void 0!==b&&void 0!==v&&(0,Ce().u)({environment:l,event:{eventName:"trial_sidebar_cta_clicked",eventProperties:{trial_length:b,days_remaining:v}}}),S){case"onboardingIntro":case"intro":(0,Ko().openSelfServeBusinessTrialExplorePlanModal)({openedFrom:"self_serve_business_trial_nudge"});break;case"inviteMembers":null==o||o.update((e=>({...e,modalOpen:!0}))),(0,Ce().u)({environment:l,event:{eventName:"open_invite_members_modal",eventProperties:{from:"trial_sidebar_footer",type:"invite"}}});break;case"connectWorkspace":to().Ow({currentTab:"ai"});break;case"createTeamspaces":(0,j().vn)("self_serve_business_trial_nudge");break;case"verifyPages":C();break;case"samlSSO":to().Ow({currentTab:"identity_provisioning"});break;case"storeRecords":window.open("https://www.notion.com/pricing","_blank");break;case"notionAi":na().openAssistantRightHandSideMenu({environment:l,from:"self_serve_business_trial_nudge"})}_({fireEvent:!1})}),[v,l,S,_,C,o,b]);return S?(0,R.jsx)(yo,{iconColor:y[S].iconColor,icon:y[S].icon,imageSources:y[S].imageSources,imageHeight:36,onDismiss:_,title:r.formatMessage(ca[S].title,{days:b}),body:r.formatMessage(ca[S].description,{days:b}),buttons:[{text:r.formatMessage(ca[S].cta),rightIcon:wt().C,onClick:k}]}):null}const pa=(0,s().YK)({title:{id:"SidebarUpgradeNudge.title",defaultMessage:"Do more with Notion"},description:{id:"SidebarUpgradeNudge.description",defaultMessage:"Upgrade for access to premium features."},cta:{id:"SidebarUpgradeNudge.cta",defaultMessage:"View plans"}});const ga=function(){const e=(0,n().v3)(),t=(0,s().tz)();return(0,a.useEffect)((()=>{Ct().DL(e,{callout_key:"sidebar_upgrade_nudge",placement_key:"SidebarFooter"})}),[e]),(0,R.jsx)(wo,{title:t.formatMessage(pa.title),description:t.formatMessage(pa.description),cta:t.formatMessage(pa.cta),icon:o(793565).V,onClick:()=>function(e){Bo().QP(e,{from:"sidebar_upgrade_nudge"}),to().Ow({openedFrom:"upsell",upsellType:"sidebar_upgrade_nudge",currentTab:"plans"}),Ct().Y5(e,{callout_key:"sidebar_upgrade_nudge",click_type:"primary_cta",placement_key:"SidebarFooter"})}(e),onDismiss:()=>function(e){Bo().u4(e,{name:"sidebar_upgrade_nudge_dismiss"});const{currentUserSettingsStore:t}=p().default.state;if(!t)return;po().createAndCommit({userAction:"sidebarUpgradeNudge.markNotificationAsDismissed",environment:e,canUndo:!0,perform:e=>{bt().mJ({transaction:e,userSettingsStore:t,data:{dismissed_sidebar_upgrade_nudge:!0}})}}),H().a(e,"sidebar_upgrade_nudge"),Ct().Sq(e,{callout_key:"sidebar_upgrade_nudge",dismiss_type:"sidebar_dismiss",placement_key:"SidebarFooter"})}(e)})};var ma=()=>o(907917),fa=()=>o(775916);var ba=()=>o(244641),ha=()=>o(97065),va=()=>o(166386);var ya=()=>o(162342);function Sa(){const e=(0,s().tz)(),t=(0,n().v3)(),o=(0,fa().p)();(0,Oo().l)((()=>{o&&Ct().DL(t,{callout_key:"onboarding_reverse_trial_sidebar",placement_key:"SidebarFooter"})}));const i=(0,a.useCallback)((()=>{(0,ya().fR)({openedFrom:"onboarding_sidebar"}),Ct().Y5(t,{callout_key:"onboarding_reverse_trial_sidebar",click_type:"primary_cta",placement_key:"SidebarFooter"})}),[t]);if(!o||!(0,va().rM)(o))return null;const r=(0,Co().u2)({product:(0,va().i)(o),intl:e}),{title:l,description:d}=function(e){let{claimedTrial:t,planName:o,intl:a}=e;const n=(0,va().ER)(t),i=(0,va().b_)(t.offer).get("days"),r=i-n;switch(t.entrypoint){case"onboarding":case"admin_tool":return{title:0===r?a.formatMessage({id:"onboardingReverseTrialSidebar.title",defaultMessage:"Your {planName} trial starts today"},{planName:o}):a.formatMessage({id:"onboardingReverseTrialSidebar.title.daysAgo",defaultMessage:"Your {planName} trial started {daysAgo, plural, one {{daysAgo} day ago} other {{daysAgo} days ago}}"},{planName:o,daysAgo:r}),description:a.formatMessage({id:"onboardingReverseTrialSidebar.body",defaultMessage:"Try our most loved team features on the {planName} plan, free for {trialLength} days"},{planName:o,trialLength:i})};default:return{title:a.formatMessage({id:"onboardingReverseTrialSidebar.title.mp",defaultMessage:"Free {planName} for your team"},{planName:o}),description:a.formatMessage({id:"onboardingReverseTrialSidebar.body.mp",defaultMessage:"We've given you free access to {planName} with all of Notion's best collaboration features"},{planName:o})}}}({claimedTrial:o,planName:r,intl:e});return(0,R.jsx)(ut().Y,{messageKey:"onboarding_reverse_trial_sidebar",imageSources:{light:Ie().A.images.pricing.timedTrialGiftboxTransparentPng,dark:Ie().A.images.pricing.timedTrialGiftboxTransparentPng},title:l,body:d,buttons:[{text:e.formatMessage({id:"onboardingReverseTrialSidebar.button.learnMore",defaultMessage:"Learn more"}),rightIcon:mt().g,onClick:i}]})}var _a=()=>o(274570);function xa(){const e=(0,s().tz)(),t=(0,n().v3)(),o=(0,fa().p)(),i=(0,va().i)(o);(0,Oo().l)((()=>{o&&Ct().DL(t,{callout_key:"post_reverse_trial_sidebar",placement_key:"SidebarFooter"})}));const r=(0,a.useCallback)((()=>{Et().K(t,{from:"post_reverse_trial_sidebar",upsell:{type:"product",product:i??"plus",limit:{type:"none"},trialability:"none"}}),Ct().Y5(t,{callout_key:"post_reverse_trial_sidebar",click_type:"primary_cta",placement_key:"SidebarFooter"})}),[t,i]);return(0,R.jsx)(ut().Y,{messageKey:"post_reverse_trial_sidebar",title:e.formatMessage({id:"postReverseTrialSidebar.title",defaultMessage:"{hasPlan, select, true {Your free {plan} trial ended} other {Your free trial ended}}"},{hasPlan:Boolean(i),plan:(0,Co().u2)({product:i??"plus",intl:e})}),body:e.formatMessage({id:"postReverseTrialSidebar.body",defaultMessage:"This workspace is now on the free version of Notion"}),buttons:[{text:e.formatMessage({id:"postReverseTrialSidebar.button.upgrade",defaultMessage:"Upgrade"}),rightIcon:mt().g,onClick:r}],icon:_a().clockIcon,iconColor:"orangePrimary"})}const wa={viewBox:"0 0 20 20",fittedViewBox:"0.07 2.65 19.85 13.34",svg:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)("path",{d:"M6.802 3.759a.625.625 0 1 0-.804-.958l-1.49 1.25a.625.625 0 1 0 .804.958zm7.2-.958a.625.625 0 0 0-.804.958l1.49 1.25a.625.625 0 1 0 .804-.958zm3.976 2.255a.55.55 0 0 1 .746.222A9.9 9.9 0 0 1 19.92 10a9.76 9.76 0 0 1-1.155 4.65.55.55 0 0 1-.97-.52A8.66 8.66 0 0 0 18.82 10a8.8 8.8 0 0 0-1.064-4.198.55.55 0 0 1 .222-.746"}),(0,R.jsx)("path",{d:"M17.003 6.208a.55.55 0 1 0-.966.524c.528.973.833 2.094.833 3.268a6.76 6.76 0 0 1-.795 3.211.55.55 0 0 0 .97.518A7.86 7.86 0 0 0 17.97 10a7.95 7.95 0 0 0-.967-3.792M2.022 5.056a.55.55 0 0 1 .222.746A8.8 8.8 0 0 0 1.18 10c0 1.518.367 2.9 1.025 4.13a.55.55 0 0 1-.97.52A9.76 9.76 0 0 1 .08 10c0-1.704.434-3.314 1.196-4.722a.55.55 0 0 1 .746-.222"}),(0,R.jsx)("path",{d:"M3.964 6.732a.55.55 0 1 0-.967-.524A7.95 7.95 0 0 0 2.03 10c0 1.362.333 2.62.925 3.73a.55.55 0 0 0 .97-.519A6.76 6.76 0 0 1 3.13 10c0-1.174.305-2.295.834-3.268m6.661-.072a.625.625 0 0 0-1.25 0v2.715H7.19a.625.625 0 0 0 0 1.25H10c.345 0 .625-.28.625-.625z"}),(0,R.jsx)("path",{d:"M3.905 10A6.096 6.096 0 0 1 10 3.905 6.096 6.096 0 0 1 16.095 10a6.096 6.096 0 0 1-12.19 0M10 5.155A4.846 4.846 0 0 0 5.155 10a4.846 4.846 0 0 0 9.69 0A4.846 4.846 0 0 0 10 5.155"})]})},Ma=(0,$e().wt)("alarmVibrating",wa);function Ca(e){let{claimedTrial:t,permissionsInviteStore:o}=e;const r=(0,va().ER)(t),l=(0,va().b_)(t.offer).as("days"),d=(0,va().i)(t),c=l>30,u=(0,s().tz)(),g=(0,n().v3)(),m=function(e,t){const o=(0,n().v3)(),r=(0,Io().r)(),{showMembersButton:s,canRequestMembers:l}=(0,i().K8)((()=>{if(!r||(0,ne().IL)(r)||!t)return{showMembersButton:!1,canRequestMembers:!1};const e=!r.canEditMembership()&&!r.getDisableMembershipRequests()&&(0,Lo().x3)();return{showMembersButton:r.canEditMembership()||e,canRequestMembers:e}}),[r,t]);return(0,a.useCallback)((()=>{r&&s&&(r.canEditMembership()&&(null==t||t.setState({...t.state,modalOpen:!0}),Po().vX(o,{type:"invite",from:e})),l&&(Ro().A.open(),Po().vX(o,{type:"request",from:e})))}),[r,s,l,t,o,e])}("trial_sidebar_footer",o),f=(0,i().K8)((()=>p().default.state.currentUserSettingsStore),[]);(0,Oo().w)((()=>{(0,Ce().u)({environment:g,event:{eventName:"trial_sidebar_alert_viewed",eventProperties:{trial_length:l,days_remaining:r}}})}));const b=(0,i().K8)((()=>{var e;return Boolean(null==f||null===(e=f.getSettings())||void 0===e?void 0:e.reverse_trial_sidebar_alert_dismissed_at)}),[f]),h=a.useCallback((()=>{f&&((0,Ce().u)({environment:g,event:{eventName:"trial_sidebar_alert_dismissed",eventProperties:{}}}),po().createAndCommit({userAction:"ReverseTrialSidebarAlert.handleDismiss",environment:g,canUndo:!0,perform:e=>{bt().mJ({transaction:e,userSettingsStore:f,data:{reverse_trial_sidebar_alert_dismissed_at:Date.now()}})}}))}),[f,g]),v=a.useMemo((()=>{const e=Math.ceil(l/2),t=(0,Co().u2)({product:d,intl:u}),o={title:u.formatMessage({id:"reverseTrialSidebarAlert.daysLeft",defaultMessage:"{daysRemaining, plural, one {{daysRemaining} day left in your {plan} trial} other {{daysRemaining} days left in your {plan} trial}}"},{daysRemaining:r,plan:t}),body:u.formatMessage({id:"reverseTrialSidebarAlert.freePlan.body",defaultMessage:"If you choose not to upgrade, you'll be on a free plan with limited usage of Notion"}),icon:Eo().alarmIcon,iconColor:"orangePrimary",buttons:[{text:u.formatMessage({id:"reverseTrialSidebarAlert.upgradeAction",defaultMessage:"Keep using {plan}"},{plan:t}),onClick:()=>(0,Et().K)(g,{from:"timed_trial_sidebar",upsell:{type:"product",product:d,limit:{type:"none"},trialability:"none"}}),rightIcon:mt().g}]};return 0===r?{...o,title:u.formatMessage({id:"reverseTrialSidebarAlert.lastDay",defaultMessage:"Today is the last day of your {plan} plan trial"},{plan:t}),icon:_a().clockIcon,buttons:[{...o.buttons[0],onClick:()=>(0,ya().W$)({openedFrom:"sidebar",trialPlan:d})}]}:r<=2?{...o,icon:Ma,buttons:[{...o.buttons[0],onClick:()=>(0,ya().W$)({openedFrom:"sidebar",trialPlan:d})}]}:r<=4?o:!c&&r<=e?{...o,body:u.formatMessage({id:"reverseTrialSidebarAlert.inviteMembers.title",defaultMessage:"Make sure to invite team members and get the most out of Notion {plan}"},{plan:t}),onDismiss:h,buttons:[{text:u.formatMessage({id:"reverseTrialSidebarAlert.inviteMembers.action",defaultMessage:"Invite members"}),onClick:m,rightIcon:mt().g}]}:void 0}),[r,g,h,m,u,c,l,d]);return!v||b&&r>4?null:(0,R.jsx)(zt().Ue,{children:(0,R.jsx)(zt().wY,{...v})})}var ka=()=>o(559926),Aa=()=>o(522094),Ta=()=>o(160475);const Ia=(0,s().YK)({title:{id:"import_data_prompt.title",defaultMessage:"Try out data import!"},body:{id:"import_data_prompt.body",defaultMessage:"Use data from another platform to launch your next project in Notion."},buttonText:{id:"import_data_prompt.buttonText",defaultMessage:"Get started"}});function ja(){const e=(0,n().v3)(),t=(0,s().tz)();(0,Oo().w)((()=>{(0,Ta().t)({environment:e,action:"view",from:"import_sidebar_announcement"})}));const o=(0,a.useCallback)((()=>{const t=Aa().A.getOrCreateFlowId();ka().kY(e,{from:"import_sidebar_announcement",flowId:t}),to().Ow({currentTab:"imports",openedFrom:"import_sidebar_announcement"}),(0,Ta().t)({environment:e,action:"click",from:"import_sidebar_announcement"}),H().a(e,"import_data_prompt")}),[e]);return(0,R.jsx)(ut().Y,{messageKey:"import_data_prompt",title:t.formatMessage(Ia.title),body:t.formatMessage(Ia.body),imageHeight:28,imageSources:{light:Ie().A.images.onboarding.useCaseImportLightPng,dark:Ie().A.images.onboarding.useCaseImportDarkPng},buttons:[{text:t.formatMessage(Ia.buttonText),rightIcon:mt().g,onClick:o}],onDismiss:()=>{(0,Ta().t)({environment:e,action:"dismiss",from:"import_sidebar_announcement"})}})}var Pa=()=>o(73337),Ba=()=>o(179034),Na=()=>o(541801),La=()=>o(373444);const Ra=(0,s().YK)({title:{id:"sidebar.onboardingWorkflowTemplate.title",defaultMessage:"Finish where you left off"},body:{id:"sidebar.onboardingWorkflowTemplate.description",defaultMessage:"Set up your database to stay organized"},cta:{id:"sidebar.onboardingWorkflowTemplate.button",defaultMessage:"Continue building"}});function Da(){const e=(0,n().v3)(),[t,o]=(0,a.useState)(null),r=(0,s().tz)(),l=(0,i().K8)((()=>{var e;return null===(e=p().AppStoreCurrentSpaceStore.state)||void 0===e?void 0:e.id}),[]),d=(0,i().K8)((()=>{var e,t;const{currentUserSettingsStore:o}=p().default.state;if(!o)return[];const a=(null===(e=o.getSettings())||void 0===e?void 0:e.onboarding_workflow_template_blocks)||{},n=null===(t=p().AppStoreCurrentSpaceStore.state)||void 0===t?void 0:t.id;return n&&null!=a&&a[n]?a[n]:[]}),[]),c=null==d?void 0:d[0];(0,a.useEffect)((()=>{if(c){const t=new($t().Bv)(e,{table:Ba().ev,id:c,spaceId:l||void 0});o(t),t.load()}}),[e,c,l]);const u=(0,i().K8)((()=>{if(!t)return;const e=t.getFormat();return"workflow_template_placeholder"===e.collection_view_sub_type&&e.placeholder_workflow_template_id&&t.isCollectionView()?{collectionTemplateId:e.placeholder_workflow_template_id,collectionViewBlockStore:t}:void 0}),[t]),g=(0,a.useCallback)((async()=>{if(!u)return;const{collectionTemplateId:t,collectionViewBlockStore:o}=u,{getCollectionTemplateFromId:a}=await Na().tA.load(),n=a(t);if(!n)throw new Error("Collection template not found");const{onNavigateToPlaceholderWorkflowTemplateBlock:i}=await La().O.load();i({environment:e,collectionTemplate:n,collectionViewBlockStore:o}),H().a(e,"onboarding_workflow_template_callout"),bt().pr(e,{entryPoint:"onboarding_workflow_template_sidebar_announcement"})}),[e,u]);return(0,R.jsx)(ut().Y,{messageKey:"onboarding_workflow_template_callout",title:r.formatMessage(Ra.title),body:r.formatMessage(Ra.body),icon:Pa().P,buttons:[{text:r.formatMessage(Ra.cta),onClick:g,rightIcon:mt().g}],onDismiss:()=>{bt().pr(e,{entryPoint:"onboarding_workflow_template_sidebar_announcement"})}})}function Fa(e,t,o){const a=(0,Q().O)(),r=(0,fa().p)(),s=function(e,t){const o=(0,i().K8)((()=>{var e;return Boolean(null===(e=p().default.state.currentUserSettingsStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.reverse_trial_sidebar_alert_dismissed_at)}),[]),a=(0,Uo().i5)(e);if(!e||!t||!a||a<ba().c9.now())return!1;if((0,Vo().e3)(t))return!1;if(!(0,ha().DH)(t.offer.campaign)||e.paymentMethod)return!1;const n=(0,va().ER)(t),r=(0,va().b_)(t.offer).as("days");return!(n>Math.ceil(r/2))&&(o&&n>4?null:!(n<0))}(e,r),l=(0,i().K8)((()=>ke().default.getMessagesForPlacement("SidebarFooter")),[]),d=(0,ma().w)(a),c=function(){const e=(0,n().v3)(),t=Ao(),o=ko(),a=o&&o.blockUsage>0,r=o&&o.percentageUsed>=X().eF,s=(0,i().K8)((()=>{var e;return Boolean(null===(e=p().default.state.currentSpaceStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.reach_block_limit_time)}),[]),l=(0,i().K8)((()=>s&&(0,go().Km)(e)&&(0,go().PK)()<=0),[s,e]);return t&&a&&(r||l)}();return(0,i().K8)((()=>s&&r?{type:"footer",component:()=>(0,R.jsx)(Ca,{claimedTrial:r,permissionsInviteStore:o})}:c?{type:"footer",component:()=>(0,R.jsx)(jo,{})}:l.length>0?function(e,t){if("static"===e.type){const o=(0,nt().h2)(e.key);if(!o)throw new Error(`Invalid static message key: ${o}`);switch(o){case"anyone_with_the_link_sidebar_callout":return{type:"card",component:()=>(0,R.jsx)(lo,{})};case"startup_sidebar_footer":return{type:"card",component:()=>(0,R.jsx)(Yt,{})};case"sidebar_upgrade_nudge":return{type:"footer",component:()=>(0,R.jsx)(ga,{})};case"ai_limit_nudge":return{type:"footer",component:()=>(0,R.jsx)(bo,{source:"sidebar"})};case"resurrection_offer_sidebar":return{type:"card",component:()=>(0,R.jsx)(Vt,{})};case"block_limit_nudge":return{type:"footer",component:()=>(0,R.jsx)(To,{})};case"student_org_prompt":return{type:"card",component:()=>(0,R.jsx)(vt,{})};case"desktop_download_sidebar":return{type:"card",component:()=>(0,R.jsx)(xt,{})};case"notion_mail_launch_2_callout":return{type:"card",component:()=>(0,R.jsx)(Ot,{})};case"post_reverse_trial_sidebar":return{type:"card",component:()=>(0,R.jsx)(xa,{})};case"onboarding_reverse_trial_sidebar":return{type:"card",component:()=>(0,R.jsx)(Sa,{})};case"jira_ai_sidebar_reminder":return{type:"card",component:()=>(0,R.jsx)(it().LazyJiraAIAnnouncementSidebarReminder,{})};case"import_data_prompt":return{type:"card",component:()=>(0,R.jsx)(ja,{})};case"integration_webhooks":return{type:"card",component:()=>(0,R.jsx)(gt,{})};case"collaboration_callout":return{type:"card",component:()=>(0,R.jsx)(no,{})};case"self_serve_business_trial_nudge_d0":case"self_serve_business_trial_nudge_d1":case"self_serve_business_trial_nudge_d3":case"self_serve_business_trial_nudge_d5":case"self_serve_business_trial_nudge_d8":case"self_serve_business_trial_nudge_d11":case"self_serve_business_trial_nudge_d14":case"self_serve_business_trial_nudge_d17":case"self_serve_business_trial_nudge_d20":return{type:"footer",component:()=>(0,R.jsx)(ua,{permissionsInviteStore:t})};case"self_serve_business_trial_ending_soon":return{type:"card",component:()=>(0,R.jsx)(Yo,{})};case"onboarding_workflow_template_callout":return{type:"card",component:()=>(0,R.jsx)(Da,{})};case"feed_view_onboarding_callout":return{type:"card",component:()=>(0,R.jsx)(Xt,{})}}}else if("sidebar"===e.type){const t=e;return{type:"card",component:()=>(0,R.jsx)(Ht,{message:t})}}return}(l[0],o):"none"!==d?{type:"footer",component:()=>(0,R.jsx)(Fo,{scrollerStore:t,permissionsInviteStore:o,upsellVariant:d})}:{type:"footer",component:()=>null}),[s,r,c,l,d,o,t])}function Oa(e){let{scrollerStore:t}=e;const{canEditSpace:o,currentUserRootStore:l,currentSpaceStore:d}=(0,i().K8)((()=>{var e;return{canEditSpace:(null===(e=p().default.state.currentSpaceStore)||void 0===e?void 0:e.canEdit())??!1,currentUserRootStore:p().default.state.currentUserRootStore,currentSpaceStore:p().default.state.currentSpaceStore}}),[]),c=(0,i().O$)(q().l),u=(0,i().K8)((()=>Y().A.state.ready),[]),g=(0,i().uB)(void 0,G().A),m=(0,i().K8)((()=>g.state.modalOpen),[g]),f=(0,a.useCallback)((()=>{const e=(0,s().YK)({invitingMembers:{id:"sidebarFooter.inviteMember.loadingMessage",defaultMessage:"Updating…"}});V().m({message:e.invitingMembers})}),[]),b=(0,a.useCallback)(((e,t)=>{V().V();const o=e?(0,R.jsx)(s().sA,{id:"sidebarFooter.inviteMember.successToastMessage",defaultMessage:"Successfully sent"}):(0,R.jsx)(s().sA,{id:"sidebarFooter.inviteMember.failureToastMessage",defaultMessage:"Failed to send invites"});K().D6({label:o})}),[]);!function(){const e=(0,n().v3)(),t=(0,i().K8)((()=>{const e=Z().A.state,t=null==e?void 0:e.isEligible;if(e&&t)return e.spaceUsage/e.spaceLimit}),[]);(0,a.useEffect)((()=>{t&&t>=$()._&&H().HH(e,"ai_limit_nudge",{skipDefaultRules:["SeenExpirationRule","MinimumAccountAgeRule"]})}),[e,t])}(),function(){const e=(0,n().v3)(),t=(0,Q().O)(),o=(0,i().K8)((()=>!!t&&!e.device.isMobile&&ee().subscriptionDataStoreInstance.state&&(0,X().cG)(ee().subscriptionDataStoreInstance.state)&&(0,X().z8)(e,ee().subscriptionDataStoreInstance.state,t)),[e,t]);(0,a.useEffect)((()=>{o&&H().HH(e,"block_limit_nudge")}),[e,o])}();const h=(0,n().v3)();(0,a.useEffect)((()=>{H().HH(h,"collaboration_callout")}),[h]);const v=Fa((0,J().lh)({spaceId:null==d?void 0:d.id}),t,g),y=(0,r().IS)((e=>{const t={display:"block",flexGrow:0,flexShrink:0,flexBasis:"auto"};return{footer:t,canViewOnlyFooter:{...t,padding:14,boxShadow:`0 -1px 0 ${e.regularDividerColor}`},createWorkspaceButton:{marginTop:8,marginLeft:-8}}}),[]);return u&&l&&!c?o?(0,R.jsxs)("div",{style:y.footer,children:[(0,R.jsx)(W().A,{type:"bottom",scrollerStore:t}),"footer"===(null==v?void 0:v.type)?v.component():void 0,(0,R.jsx)(ot,{}),m&&d?(0,R.jsx)(z().H,{store:d,permissionsInviteStore:g,origin:(0,R.jsx)(R.Fragment,{}),membersOnly:!0,shouldGrow:!1,disabled:!1,isSubscribed:!1,upgradeButtonName:"space_permission_settings",onInviteClick:f,onInviteComplete:b,analyticsFrom:"sidebar_footer_invite_button"}):null]}):(0,R.jsx)(at().C,{currentSpaceStore:d,currentUserRootStore:l}):(0,R.jsx)(R.Fragment,{})}var Ea=()=>o(144114),Ua=()=>o(607859),Va=()=>o(161479),Ka=(o(672577),()=>o(529316));function Wa(e){const t=v().Bq(Object.values(Ka().yG).map((e=>v().oE(Object.values(e.sources)))));return Boolean(t.find((t=>{let{rootId:o}=t;return o===e})))}var za=()=>o(664713),Ha=()=>o(174723),Ga=()=>o(1130),Ya=()=>o(780054);class qa extends(()=>o(757695))().Store{getInitialState(){return{isLoaded:!1,left:0,top:0,width:0,height:0}}}const Ja=qa,$a=a.forwardRef((function(e,t){return(0,R.jsx)("div",{ref:t,className:"OnboardingHighlight",children:e.children})}));var Za=()=>o(204063),Qa=()=>o(125565),Xa=()=>o(38337);const en=function(e){let{parentStore:t,verticalOffset:a,useFlatStyles:r,children:s,handleNext:l,buttonText:d,handleSkip:c,skipText:u}=e;const p=(0,n().v3)(),{device:g}=p,m=(0,i().O$)(Ua().default),{top:f,left:b,height:h,width:v}=(0,i().O$)(t);if(!m.isOnboarding)return null;const y={originRect:{top:f+a,bottom:f+h,left:b+v,right:b+v},placementToOrigin:ue().W.Right,alignmentToOrigin:ue().C.Start},S=!Ea().Qf(m);return(0,R.jsx)(o(700180).A,{capture:S,preventType:o(756279).A.All,children:(0,R.jsx)(se().Ay,{popupType:g.isMobile?pe().n.SlideUp:pe().n.Popup,render:()=>(0,R.jsx)(nn,{useFlatStyles:r,children:s,handleNext:l,buttonText:d,handleSkip:c,skipText:u}),open:!0,originGap:0,preventBlockRenderQueueOnEnter:!0,preventScaleTransition:!0,disableMouseCapture:!0,useLightBoxShadow:r,...y})})};function tn(e){let{handleSkip:t,skipText:o}=e;return(0,R.jsx)(Qa().A,{style:{marginLeft:16},children:(0,R.jsx)(x().A,{onClick:t,disableUnderline:!0,children:o||(0,R.jsx)(s().sA,{defaultMessage:"Skip the Rest",id:"onboardingPopup.skip"})})})}function on(e){let{handleNext:t,buttonText:o,handleSkip:a,skipText:n}=e;return(0,R.jsxs)("div",{style:{...Ea().ZP,display:"flex",alignItems:"center"},children:[(0,R.jsx)(Za().A,{size:"lg",onClick:t,style:Ea().a3,children:o||(0,R.jsx)(s().sA,{defaultMessage:"Next",id:"onboardingPopup.next"})}),(0,R.jsx)(tn,{handleSkip:a,skipText:n})]})}function an(e,t){return{padding:"20px 24px 10px",borderRadius:4,fontSize:14,lineHeight:1.3,color:e.text.primary,backgroundColor:e.popoverBackground,width:360,minHeight:1,...t&&{boxShadow:void 0,backgroundColor:e.modalBackground}}}function nn(e){let{useFlatStyles:t,children:o,handleNext:a,buttonText:n,handleSkip:i,skipText:s}=e;const l=(0,r().DP)();return(0,R.jsxs)("div",{style:an(l,t),className:Xa().KVM,children:[o,(0,R.jsx)(on,{handleNext:a,buttonText:n,handleSkip:i,skipText:s})]})}const rn=function(e){let{show:t,highlight:r,hideOverlays:s,buttonText:l,skipText:d,useFlatStyles:c,verticalOffset:u,handleSkip:p,handleNext:g,renderContents:m}=e;const f=(0,n().v3)(),b=(0,i().uB)(void 0,Ja),h=(0,a.useRef)(null);return(0,a.useEffect)((()=>{const e=v().sg((()=>{dn(t,b,h)}),10);if(!Ya().A.isMobile)return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[f,t,b]),(0,a.useEffect)((()=>{!Ya().A.isMobile&&t&&dn(t,b,h)}),[f,t,b]),Ya().A.isMobile||!t?(0,R.jsx)(R.Fragment,{children:r()}):(0,R.jsxs)(a.Fragment,{children:[(0,R.jsx)($a,{ref:h,children:r()}),(0,R.jsxs)(o(594607).B,{shouldShow:!0,calloutId:"clear_templates_opt_out",children:[!s&&(0,R.jsx)(ln,{store:b}),(0,R.jsx)(en,{buttonText:l,skipText:d,parentStore:b,useFlatStyles:c,verticalOffset:u||0,handleSkip:p,handleNext:g,children:m})]})]})};function sn(e){const{top:t,left:o,height:a,width:n}=e;return{position:"absolute",top:t,left:o,height:a,width:n,zIndex:999}}function ln(e){let{store:t}=e;const o=(0,r().DP)(),{top:a,left:n,width:s,height:l}=(0,i().K8)((()=>{const{top:e,left:o,width:a,height:n}=t.state;return{top:e,left:o,width:a,height:n}}),[t]),d=[{...sn({top:0,left:0,width:n,height:"100vh"}),backgroundColor:o.onboardingContentOverlay},{...sn({top:0,left:n+s,width:"100vw",height:"100vh"}),backgroundColor:o.onboardingContentOverlay},{...sn({top:0,left:n,width:s,height:a}),backgroundColor:o.onboardingSidebarOverlay},{...sn({top:a+l,left:n,width:s,height:"100vh"}),backgroundColor:o.onboardingSidebarOverlay},{...sn({top:a,left:n,width:s,height:l})}];return(0,R.jsx)("div",{children:d.map(((e,t)=>(0,R.jsx)("div",{style:e},`onboardingOverlay${t}`)))})}function dn(e,t,o){if(e&&o&&o.current){const e=o.current.getBoundingClientRect();t.setState({...t.state,isLoaded:!0,top:e.top,left:e.left,width:e.width,height:e.height})}}function cn(e){const{content:t,pages:o,templateOptoutState:l}=e,d=(0,i().O$)(p().AppStoreCurrentSpaceStore),c=(0,n().v3)(),u=(0,r().IS)((e=>({onboardingSecondaryText:{...Ea().SY,...Ea().pk(e)}})),[]),g=(0,a.useCallback)((async()=>{const e=c.currentUser.id;if(!d||!e)return;Ga().jy(c);const t=await(0,Ha().AF)(o,(e=>!Wa(e)));await ae().callApi({eventName:"deleteBlocks",environment:c,data:{blocks:t.map((e=>({id:e.id,spaceId:(0,Va().e)(e.pointer.spaceId)}))),permanentlyDelete:!0}}),await za().Z({environment:c,spaceId:d.id,userId:e});const a=(await(0,Ha().AF)(o,Wa))[0];a&&Jt().uK({environment:c,store:a,pageVisitSource:qt().y8.Onboarding})}),[d,c,o]);return(0,R.jsx)(rn,{buttonText:(0,R.jsx)(s().sA,{defaultMessage:"OK",id:"outlinerToggleButton.popup.buttonText"}),skipText:(0,R.jsx)(s().sA,{defaultMessage:"Clear templates",id:"outlinerToggleButton.popup.skipText"}),highlight:()=>t,show:!0,renderContents:(0,R.jsxs)("div",{children:[(0,R.jsx)("span",{style:Ea().JF,children:(0,R.jsx)(s().sA,{defaultMessage:"Here are some templates to help you get started",id:"sidebar.templateIntro.title"})}),(0,R.jsx)("br",{}),(0,R.jsx)("div",{style:u.onboardingSecondaryText,children:(0,R.jsx)(s().sA,{defaultMessage:"Use them out of the box, or customize them to your own workflows.",id:"sidebar.templateIntro.content"})})]}),handleNext:()=>{Ga().K2(c,l)},handleSkip:g})}function un(e){const{type:t,content:o,spacePlan:a}=e,n=(0,i().O$)(Ua().default);return"team"===a&&"teams"===t?(0,R.jsx)(Do().n,{step:"teamspaces",children:o}):"team"===a&&"private"===t?(0,R.jsx)(Do().n,{step:"private",children:o}):Ea().kv(n)&&a&&"personal"===a&&"private"===t?(0,R.jsx)(cn,{content:o,pages:e.pages,templateOptoutState:n}):o}var pn=()=>o(734164);function gn(e){const t=(0,r().IS)((()=>({container:{position:"sticky",bottom:0,marginTop:"auto"}})),[]),o=(0,Io().r)(),a=Fa((0,J().lh)({spaceId:null==o?void 0:o.id}));return(0,R.jsx)("div",{style:t.container,children:"card"===(null==a?void 0:a.type)?null==a?void 0:a.component():void 0})}},105819:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>a,pencilLineIcon:()=>n});o(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"2.63 4.12 14.99 11.76",svg:(0,o(474848).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},n=(0,o(340498).wt)("pencilLine",a)},121510:(e,t,o)=>{o.d(t,{S:()=>i,j:()=>n});o(898992),o(354520),o(430670);var a=()=>o(56366);function n(e){return(0,a().K8)((()=>e?[...e.getSharedPages()??[],...e.getPrivatePageStores()].filter((e=>e.isPageBlock())):[]),[e])}function i(e){return(0,a().K8)((()=>e.flatMap((e=>e.getTeamPageStores())).filter((e=>e.isPageBlock()))),[e])}},124749:(e,t,o)=>{o.d(t,{$:()=>i});var a=()=>o(56366);const n=new(o(496506).ComputedStore)((()=>o(765957).default.state.currentUserStore),{debugName:"AppStoreCurrentUserStore"});function i(){return(0,a().O$)(n)}},132389:(e,t,o)=>{o.d(t,{A:()=>n});o(296540);var a=o(474848);function n(e){const t={display:"inline-block",minWidth:e.size,minHeight:e.size};return"x"===e.axis?t.minHeight=1:"y"===e.axis&&(t.minWidth=1),(0,a.jsx)("div",{style:t})}},141486:(e,t,o)=>{o.r(t),o.d(t,{default:()=>p});var a=o(296540),n=()=>o(484714),i=()=>o(959013),r=()=>o(264879),s=()=>o(691298),l=()=>o(963248),d=o(474848);function c(e,t){const{title:n,sectionTitle:r,showSectionTitle:s}=e,l=(0,o(401497).IS)((e=>({title:{marginRight:6},sectionTitle:{color:e.text.tertiary,marginRight:6}})),[]),c=(0,a.useCallback)((e=>{const a=s?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{style:l.title,children:(0,d.jsx)(i().sA,{...n})}),(0,d.jsx)("span",{style:l.sectionTitle,children:"·"}),(0,d.jsx)("span",{style:l.sectionTitle,children:r})]}):(0,d.jsx)(i().sA,{...n});return(0,d.jsx)(o(760217).A,{...e,ref:t,title:a,icon:(0,d.jsx)(o(8980).I,{icon:o(345016).C})})}),[t,n,r,s,l.title,l.sectionTitle]);return(0,d.jsx)(o(662971).A,{...e,title:(0,d.jsx)(i().sA,{...n}),disableDefaultClick:!0,renderOrigin:c,renderExtension:(t,o)=>(0,d.jsx)(u,{popupEvents:t,extensionParent:o,...e})})}function u(e){const{popupEvents:t,extensionParent:o,blocksToTransform:i,onAccept:c,...u}=e,p=(0,n().v3)(),[g,m]=(0,a.useState)("");return(0,s().A)({shouldPreserveTextSelection:!0,shouldPreserveBlockSelection:!1,shouldRestoreSelection:!0}),(0,d.jsx)(l().v,{...u,targetBlocks:i,isAddTo:!0,isCreateIn:!0,isTurnIntoPage:!0,parentBlockId:void 0,onAccept:async e=>{c&&c(),o.close(),await r().zz(p,{createInValue:e,blocksToTransform:i})},onCancel:o.close,autocompleteQuery:g,onAutocompleteQueryChange:m,onMouseEnter:t.onMouseEnter,desktopWidth:400})}const p=a.forwardRef(c)},142662:(e,t,o)=>{o.d(t,{Xy:()=>Y,du:()=>K,n5:()=>G});o(581454),o(296540);var a=()=>o(484714),n=()=>o(56366),i=()=>o(401497),r=()=>o(668725),s=()=>o(381138),l=()=>o(693954),d=()=>o(959013),c=()=>o(496603),u=()=>o(284371),p=()=>o(895876),g=()=>o(493823),m=()=>o(760217),f=()=>o(802790),b=()=>o(805751),h=()=>o(419357),v=()=>o(545805),y=()=>o(187485),S=()=>o(331542),_=()=>o(928600),x=()=>o(187820),w=()=>o(89924),M=()=>o(933117),C=()=>o(125565),k=()=>o(780054),A=()=>o(722872),T=()=>o(372657),I=()=>o(836251),j=()=>o(640653),P=()=>o(62856),B=()=>o(765957),N=()=>o(832820),L=()=>o(970585),R=()=>o(845566),D=()=>o(188669),F=()=>o(265665),O=()=>o(258805),E=()=>o(478495),U=()=>o(828048),V=o(474848);function K(e){const{targetBlocks:t,isCreateIn:o,onAccept:i,isAddTo:r,isTurnIntoPage:s,autocompleteQuery:l,onAutocompleteQueryChange:c,onMouseEnter:u,onCancel:p,desktopWidth:g,forceShowPrivatePageOption:m=!1,isLoading:f,allTargetsAreNavigable:h,autocompleteComponent:y}=e,S=(0,n().uB)(void 0,L().A),x=(0,n().uB)(void 0,R().A),M=(0,n().K8)((()=>(0,O().R3)()),[]),C=(0,n().K8)((()=>D().Ay.state.isOpen),[]),k=(0,a().WS)(),I=(0,n().K8)((()=>T().n6()),[]);if(!r&&!o&&!C)return null;let j,P;j=M?k?(0,V.jsx)(Y,{autocompleteQuery:l,onAutocompleteQueryChange:c,isAddTo:r,isTurnIntoPage:s,moveToSpaceMenuStore:x,menuListStore:S,isLoading:f}):(0,V.jsx)(w().A,{isInput:!0,children:(0,V.jsx)(Y,{autocompleteQuery:l,onAutocompleteQueryChange:c,isAddTo:r,isTurnIntoPage:s,moveToSpaceMenuStore:x,menuListStore:S,isLoading:f})}):void 0,P=k?{onMouseEnter:u,menuType:A().gu.Modal,title:s?(0,V.jsx)(d().sA,{defaultMessage:"Add to another page",id:"moveBlockMenu.mobileNewPageInj.label"}):r?(0,V.jsx)(d().sA,{defaultMessage:"Add new page in",id:"moveBlockMenu.mobileAddTo.label"}):(0,V.jsx)(d().sA,{defaultMessage:"Move to",id:"moveBlockMenu.mobileMoveTo.label"}),right:(0,V.jsx)(d().sA,{defaultMessage:"Done",id:"moveBlockMenu.rightDoneButton.label"}),onClickRight:p,header:j}:{onMouseEnter:u,menuType:A().gu.Popup,width:g,header:j};const B=!Boolean(l)&&!k||I&&!Boolean(l);return(0,V.jsxs)(b().A,{debugName:"MoveToOrCreateMenu",capture:!0,allowMenuList:!0,allowEsc:!0,allowLeft:!0,allowTabUntab:!1,allowUndo:!1,children:[(0,V.jsx)(v().A,{debugName:"MoveToOrCreateMenu",capture:!0,onEsc:p}),(0,V.jsx)(_().A,{...P,onClick:e=>{e.stopPropagation()},footer:(0,V.jsx)(G,{isCreateIn:o,isAddTo:r,moveToSpaceMenuStore:x,allTargetsAreNavigable:h}),children:B?(0,V.jsx)(H,{onAccept:i,targets:t,moveToSpaceMenuStore:x,menuListStore:S,allTargetsAreNavigable:h,forceShowPrivatePageOption:m}):y})]})}function W(e){return{width:10,marginLeft:4,fill:e.icon.tertiary}}function z(e){var t;return!!e&&e.getChosenSpaceId()!==(null===(t=B().default.state.currentSpaceStore)||void 0===t?void 0:t.id)}function H(e){let{onAccept:t,targets:o,moveToSpaceMenuStore:i,menuListStore:r,allTargetsAreNavigable:s,forceShowPrivatePageOption:l}=e;const d=(0,a().v3)(),c=(0,n().K8)((()=>(0,O().wc)(i)),[i]),u=(0,n().K8)((()=>(0,O().NA)(i)),[i]),p=(0,n().K8)((()=>T().n6()),[]),g=(0,n().K8)((()=>(0,j().IL)(c)),[c]);if(!u||!c)return null;const m=!s||g;return p?(0,V.jsx)(U().C,{spaceStore:c,spaceViewStore:u,onAccept:e=>(0,O().nG)(e,t,d),targets:o,menuListStore:r,moveToPagesOnly:m,forceShowPrivatePageOption:l,maxMenuItems:5}):(0,V.jsx)(E().Cr,{spaceStore:c,spaceViewStore:u,onAccept:t,targets:o,moveToPagesOnly:m,forceShowPrivatePageOption:l})}function G(e){let{isCreateIn:t,isAddTo:o,moveToSpaceMenuStore:s,allTargetsAreNavigable:l}=e;const u=(0,d().tz)(),p=(0,i().DP)(),b=(0,a().v3)(),{currentUserRootStore:h,currentSpaceStore:v}=(0,n().K8)((()=>{const{currentUserRootStore:e,currentSpaceStore:t}=B().default.state;return{currentUserRootStore:e,currentSpaceStore:t}}),[]),y=(0,n().K8)((()=>s.getChosenSpaceStore()),[s]),S=(0,n().K8)((()=>l&&!(null!=v&&v.getDisableMoveToSpace())&&!t&&!o),[l,v,t,o]),_=(0,n().K8)((()=>null==h?void 0:h.getSpaceViewStores()),[h]),w=(0,n().K8)((()=>c().hS(c().oE(null==_?void 0:_.map((e=>{const t=e.getSpaceStore();return!(0,j().IL)(t)&&t}))),(e=>e.id))),[_]);if(!h||!y||!v)return null;if(!S)return null;const C={menuTitle:u.formatMessage({defaultMessage:"Workspaces",id:"moveBlockMenu.spaceSwitcher.menuTitle"}),items:w,selectedItem:y,onSelect:e=>{s.setState({chosenSpaceId:e.id})},getKey:e=>e.id,renderItem:e=>(0,V.jsx)(m().A,{...e,isChecked:e.value.id===y.id,title:(0,j().GK)(b,e.value),icon:(0,V.jsx)(x().B6,{icon:(0,j().c2)(b,e.value),isEmptyPage:!1,size:20,disabled:!0,title:(0,j().GK)(b,e.value)})}),renderOrigin:e=>(0,V.jsxs)(g().p,{size:"sm",style:{fontWeight:"normal",fontSize:12,flexShrink:1},...e,children:[(0,V.jsx)(x().B6,{disabled:!0,icon:y.getIcon(),iconRecordCategory:"workspace",isEmptyPage:!1,size:16,title:y.getName(),style:{marginRight:4}}),(0,V.jsx)(F().j,{children:(0,j().GK)(b,y)}),(0,r().b)(W(p))]}),width:150};return(0,V.jsxs)("div",{children:[(0,V.jsx)(f().A,{size:1}),(0,V.jsx)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",padding:"4px"},children:(0,V.jsx)(M().A,{...C},"space-switcher")})]})}function Y(e){let{isLoading:t,autocompleteQuery:o,onAutocompleteQueryChange:a,isDataSource:r,isAddTo:c,isTurnIntoPage:g,moveToSpaceMenuStore:m,menuListStore:f}=e;const b=(0,d().tz)(),v=(0,i().DP)(),_=(0,n().K8)((()=>T().n6()&&D().Ay.state.isOpen&&"typed"===D().Ay.state.variant&&!N().c.state),[]),x=(0,n().K8)((()=>function(e){let{intl:t,isDataSource:o,isAddTo:a,isTurnIntoPage:n,moveToSpaceMenuStore:i}=e;if(o)return t.formatMessage({defaultMessage:"Move data source to…",id:"moveToMenuRenderer.moveDataSourceTo.label"});if(z(i))return t.formatMessage({defaultMessage:"Duplicate page…",id:"moveToMenuRenderer.duplicateToSpace.label"});if(T().n6()){const e=D().Ay.getDatabaseType();if(T().Hc()){const o=(0,p().$O)(e);return t.formatMessage({defaultMessage:"Move {typedItemName} to…",id:"moveToMenuRenderer.moveTo.typedLabel"},{typedItemName:o})}{const o=(0,p().$O)(e);return t.formatMessage({defaultMessage:"Search for a {typedItemName} database…",id:"moveToMenuRenderer.createIn.typedLabel"},{typedItemName:o})}}return n?t.formatMessage({defaultMessage:"Search page to add in…",id:"moveToMenuRenderer.addNewPageIn.label"}):a?t.formatMessage({defaultMessage:"Search page to add to…",id:"moveToMenuRenderer.addTo.label"}):t.formatMessage({defaultMessage:"Move page to…",id:"moveToMenuRenderer.moveTo.teamLabel"})}({intl:b,isDataSource:r,isAddTo:c,isTurnIntoPage:g,moveToSpaceMenuStore:m})),[b,r,c,g,m]),w=(0,n().K8)((()=>z(m)),[m]),M=(0,P().A)(t,400,0);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(h().Ay,{onCancel:()=>{D().Ay.state.isOpen&&D().Ay.setState({...D().Ay.state,isOpen:!1})},preventCaptureArrowShortcuts:!o,disabled:_,focus:!k().A.isMobile||void 0,focusAfterAnimation:!0,value:o,onChange:e=>{a(e.target.value),f.setState({...f.state,focus:{section:0,indexLocal:0,indexGlobal:0,footerFocused:!1}})},placeholder:x,inputLeft:(0,V.jsx)(h().Zf,{icon:s().q}),inputRight:M&&(0,V.jsx)(S().A,{style:{marginRight:2}}),style:{marginBottom:-2}}),w?(0,V.jsxs)(C().A,{isMultiline:!0,isSecondaryColor:!1,style:{background:v.palette.gray[30],marginTop:12,marginLeft:12,marginRight:12,padding:8,borderRadius:6},children:[(0,l().Q)({fill:v.palette.orange[400],width:14,height:14,marginRight:4,alignSelf:"center",display:"inline-block",verticalAlign:"text-bottom"}),(0,V.jsx)("span",{children:(0,V.jsx)(d().sA,{id:"moveBlockMenu.duplicateToSpace.message",defaultMessage:"You can only duplicate pages into another workspace — not move them."})}),(0,V.jsx)(y().A,{href:(0,I().xS)("guides.duplicateToSpace"),style:{color:v.palette.gray[500],fontWeight:u().Wy.semibold,marginTop:4},children:(0,V.jsx)(d().sA,{id:"moveBlockMenu.duplicateToSpace.learnMoreLink",defaultMessage:"Learn more"})})]}):void 0]})}},162342:(e,t,o)=>{o.d(t,{W$:()=>s,fR:()=>i,iv:()=>r});var a=()=>o(228814),n=()=>o(846199);function i(e){n().A.setState({open:!0,...e})}function r(){n().A.setState({open:!1})}function s(e){a().A.setState({open:!0,...e})}},162547:(e,t,o)=>{o.d(t,{s:()=>i});var a=()=>o(755362),n=()=>o(1130);async function i(e){const{environment:t,panelType:o}=e;(0,a().e)(t,{panel_type:o,action_type:"create"}),await n().sy(t,{type:"create-or-join",source:"public_share_link"})}},194188:(e,t,o)=>{function a(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}o.d(t,{A:()=>a})},196459:(e,t,o)=>{o.d(t,{O:()=>M});o(898992),o(354520),o(737550);var a=()=>o(244641),n=o(296540),i=()=>o(484714),r=()=>o(56366),s=()=>o(187174),l=()=>o(496603),d=()=>o(534177),c=()=>o(767525),u=()=>o(838924),p=()=>o(765957),g=()=>o(523239);o(823215);function m(e){if(0===e.length)return!0;const t=e[0];return e.every((e=>void 0!==e&&e===t))}var f=()=>o(185984),b=()=>o(90857),h=()=>o(614016),v=()=>o(823115),y=()=>o(377515),S=()=>o(379560),_=()=>o(677169),x=()=>o(541808);const w=1e4;function M(){var e;const t=(0,i().v3)(),o=(0,_().m)(),{timeZone:M}=(0,c().mn)(),T=(0,u().s5)(),{connectedAccounts:I,disconnectedAccounts:j}=(0,x().B)(),[P,B]=n.useState(0),[N,L]=n.useState(!0),R=(0,n.useMemo)((()=>(0,l().sg)((()=>{B((e=>e+1)),L(!1),setTimeout((()=>L(!0)),w)}),1e3,{leading:!0,trailing:!1})),[]),{currentSpaceViewStore:D,currentSpaceStore:F}=(0,r().K8)((()=>({currentSpaceViewStore:p().default.state.currentSpaceViewStore,currentSpaceStore:p().default.state.currentSpaceStore})),[]),O=(0,r().K8)((()=>void 0!==S().A.getStateForCurrentSpaceView()),[]),E=(0,r().K8)((()=>{var e,a;const{botSpaceId:n,botUserId:i}=o,r=null==D?void 0:D.getSpaceId(),s=null==D?void 0:D.getUserId(),l=null==F?void 0:F.id,d=null===(e=p().default.state.currentUserStore)||void 0===e?void 0:e.id,c=null===(a=t.currentUser)||void 0===a?void 0:a.id;return m([n,r,l])&&m([i,s,d,c])}),[o,null==F?void 0:F.id,D,null===(e=t.currentUser)||void 0===e?void 0:e.id]),U=n.useRef(void 0),[V]=(0,s().Yb)((async()=>{const e=o.botId;if(!E||!D)return"appNotSynced";if(!e)return o.loading||(0,g().F8)(),"noConnectedBot";const a=await(0,g().qq)({environment:t,currentSpaceViewStore:D,botId:e,forceRefetch:!1,timeRange:(0,h().M)(),reason:"foreground_load"}),n=!U.current,i=U.current&&(U.current.spaceViewId!==D.id||U.current.botId!==e);switch("skipped"===a&&(n||i)&&A({environment:t,currentSpaceViewStore:D,botId:e,forceRefetch:!0,timeRange:(0,h().M)(),updateMethod:"replace",reason:"background_load"}),U.current={spaceViewId:D.id,botId:e},a){case"success":case"skipped":return"loadCompleted";case"failure":return"loadError";default:(0,d().HB)(a)}}),[E,o.botId,o.loading,D,t,P]),{days:K,numDaysWithEvents:W}=(0,r().K8)((()=>{const e=o.botId;if(!e||"resolved"!==V.status||!O||!D)return{days:[],numDaysWithEvents:0};const{timeMin:t,timeMax:n}=(0,h().iI)(),i=(0,b().g2)({events:S().A.getEvents(),calendars:S().A.getCalendarMap(),startDate:a().c9.fromMillis(t,{zone:M}),endDateInclusive:a().c9.fromMillis(n,{zone:M}),getCalendarVisibility:t=>(0,y().Pj)({spaceViewStore:D,botId:e,calendar:t}),eventFilters:{all_day_events:(0,f().E)("all_day_events"),events_without_participants:(0,f().E)("events_without_participants"),events_without_location:(0,f().E)("events_without_location")},timeZone:M});let r=0;return{days:i.filter((e=>{const t=e.allDayEvents.length>0||e.timedEvents.length>0;return t&&r++,t||(0,v().cK)(e.date,T)})),numDaysWithEvents:r}}),[o.botId,V.status,O,D,T,M]),z=function(e){let{botIdState:t,eventsLoadingState:o,isEventsDataAvailable:a,numDaysWithEvents:n,connectedAccounts:i,disconnectedAccounts:r}=e;const s=i.filter((e=>C(e)||k(e))),l=r.filter((e=>C(e)||k(e)));return t.loading||"resolved"!==o.status&&"rejected"!==o.status||"resolved"===o.status&&"noConnectedBot"===o.value&&!t.loading&&void 0!==t.botId||"resolved"===o.status&&"loadCompleted"===o.value&&!a||"resolved"===o.status&&"appNotSynced"===o.value?"loading":!t.loading&&!t.botId||0===s.length&&0===l.length?"signedOut":0===i.filter(C).length&&r.filter(C).length>0?r.filter(C).some((e=>"missingScopes"===e.authorizationStatus))?"missingScopes":"disconnectedAccount":"rejected"===o.status||"resolved"===o.status&&"loadError"===o.value?"loadError":0===n?"noEvents":"events"}({botIdState:o,eventsLoadingState:V,isEventsDataAvailable:O,numDaysWithEvents:W,connectedAccounts:I,disconnectedAccounts:j});return{isRetryEventLoadingEnabled:N,retryEventLoading:R,displayState:z,eventsLoadingState:V,days:K}}function C(e){let{provider:t}=e;return"google"===t}function k(e){let{provider:t}=e;return"icloud"===t}const A=(0,l().sg)(g().qq,1e4,{leading:!0,trailing:!0})},205809:(e,t,o)=>{o.d(t,{A:()=>C});o(296540);var a=()=>o(484714),n=()=>o(56366),i=()=>o(401497),r=()=>o(584262),s=()=>o(859384),l=()=>o(340498),d=()=>o(116225),c=()=>o(959013),u=()=>o(874913),p=()=>o(285790),g=()=>o(35392),m=()=>o(859428),f=()=>o(47373),b=()=>o(728611),h=()=>o(492414),v=()=>o(640653),y=()=>o(963589),S=()=>o(962730),_=()=>o(765957),x=()=>o(551694),w=()=>o(869562),M=o(474848);function C(e){let{from:t,onClick:o,iconStyle:C}=e;const k=(0,a().v3)(),A=(0,c().tz)(),T=(0,n().O$)(_().AppStoreCurrentSpaceStore),I=(0,n().K8)((()=>_().default.state.currentUserRootStore),[]),j=(0,n().K8)((()=>(0,v().IL)(T)),[T]),P=(0,n().K8)((()=>(0,f().i3)({environment:k,spaceStore:T,userRootStore:I})),[k,T,I]),B=(0,y().X)("sidebar_add_new_pages_to_bottom"),N=(0,i().IS)((e=>({shortcutLabel:{color:e.text.contrastSecondary},button:{width:28,height:28,borderRadius:4},icon:{width:l().Ev.lg,height:l().Ev.lg,fill:e.text.primary,...C},iconDisabled:{opacity:.4},hovered:{background:e.sidebarItemSelectedBackground}})),[C]);return j?"sidebar_new_page_button"===t&&P?(0,M.jsx)(p().A,{icon:s().M,ariaLabel:A.formatMessage(w().newPageMessages.label),onClick:e=>{x().A.open()},style:N.button,iconStyle:{...N.icon,...N.iconDisabled}}):null:(0,M.jsx)(m().A,{renderTooltip:()=>(0,M.jsxs)(M.Fragment,{children:[A.formatMessage(w().newPageMessages.tooltip),k.device.isNative&&(0,M.jsx)("div",{children:(0,M.jsx)(g().A,{style:N.shortcutLabel,name:"newPage"})})]}),originGap:6,placement:S().W.Right,render:e=>(0,M.jsx)(p().A,{...e,icon:s().M,ariaLabel:A.formatMessage(w().newPageMessages.label),onClick:async e=>{if(T){const o=k.device.isElectron&&b().Vr(e),a=await w().quickAddPage({environment:k,from:t,event:e,navigateOnCreate:!o,prependPrivatePage:!B});if(o&&a){const e=(0,h().Ay)({store:a,pageVisitSource:r().y8.SidebarQuickAdd});u().openNotionUrl({makeTabActive:!0,url:e,position:"end",openInNew:o,isNewPage:!0,environment:k})}"sidebar_private_pane"===t&&d().u4({name:"page_created",args:{type:"private",from:"secondary_sidebar"}})}o&&o()},style:N.button,iconStyle:N.icon,hoveredStyle:N.hovered})})}},207207:(e,t,o)=>{o.d(t,{J:()=>n});o(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"2.62 2.62 15.26 15.26",svg:(0,o(474848).jsx)("path",{d:"M8.875 2.625a6.25 6.25 0 1 0 3.955 11.09l3.983 3.982a.625.625 0 1 0 .884-.884l-3.983-3.982a6.25 6.25 0 0 0-4.84-10.205m-5 6.25a5 5 0 1 1 10 0 5 5 0 0 1-10 0"})},n=(0,o(340498).wt)("magnifyingGlass",a)},208993:(e,t,o)=>{o.d(t,{W:()=>p});o(296540);var a=()=>o(401497),n=()=>o(246760),i=()=>o(84817),r=()=>o(704152),s=()=>o(460292),l=()=>o(554509),d=()=>o(859428),c=()=>o(962730),u=o(474848);function p(e){let{tooltipTitle:t,tooltipDescription:o,buttonProps:a,iconSize:r="small",iconColorName:p="tertiary",tooltipWidth:m}=e;return(0,u.jsx)(d().A,{placement:c().W.Top,style:m?{width:m}:void 0,renderTooltip:()=>(0,u.jsxs)(i().Y1,{gap:2,direction:"vertical",children:[(0,u.jsx)(l().D,{styleName:"UISmall-12px/Medium",colorName:"contrastPrimary",children:t}),o?(0,u.jsx)(l().D,{styleName:"UISmall-12px/Regular",colorName:"contrastSecondary",children:o}):null]}),render:e=>(0,u.jsx)(g,{buttonProps:a,...e,children:(0,u.jsx)(s().Q,{iconGroup:n().G,colorName:p,variantName:r})}),textWrap:Boolean(m)})}function g(e){let{children:t,buttonProps:o,...n}=e;const i=(0,a().IS)((()=>({button:{borderRadius:2}})),[]);return o?(0,u.jsx)(r().A,{style:i.button,...o,...n,children:t}):(0,u.jsx)("span",{...n,children:t})}},228814:(e,t,o)=>{o.d(t,{A:()=>a});const a=o(757695).Store.createValue({open:!1},{name:"TrialEndModalStore"})},257545:(e,t,o)=>{o.d(t,{Q:()=>n});o(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"1.57 1.57 16.86 16.86",svg:(0,o(474848).jsx)("path",{d:"M9.595 1.724a.624.624 0 0 1 .81 0l2.234 1.904 2.926.233a.625.625 0 0 1 .573.574l.234 2.926 1.904 2.234a.624.624 0 0 1 0 .81l-1.904 2.234-.234 2.926a.625.625 0 0 1-.573.573l-2.926.234-2.234 1.904a.624.624 0 0 1-.81 0L7.36 16.372l-2.926-.234a.625.625 0 0 1-.573-.573l-.234-2.926-1.904-2.234a.625.625 0 0 1 0-.81L3.628 7.36l.233-2.926a.625.625 0 0 1 .574-.573l2.926-.234zm3.21 6.35a.625.625 0 1 0-1.071-.643l-2.512 4.185-1.407-1.642a.625.625 0 1 0-.95.814l1.973 2.3a.625.625 0 0 0 1.01-.085z"})},n=(0,o(340498).wt)("badgeCheckFill",a)},277201:(e,t,o)=>{o.d(t,{I:()=>x,i:()=>M});var a=o(296540),n=()=>o(484714),i=()=>o(56366),r=()=>o(401497),s=()=>o(387964),l=()=>o(340498),d=()=>o(959013),c=()=>o(780054),u=()=>o(186445),p=()=>o(38337),g=()=>o(869562),m=()=>o(749687),f=()=>o(962730),b=()=>o(948914),h=()=>o(145214),v=()=>o(285790),y=()=>o(35392),S=()=>o(859428),_=o(474848);function x(e){const t=(0,n().v3)(),o=(0,n().Y0)(),a=(0,d().tz)(),r=(0,i().O$)(m().sidebarMouseEnteredStore),l=(0,i().O$)(b().b),c=(0,i().O$)(u().$o),p=a.formatMessage({defaultMessage:"Close sidebar",id:"sidebarUnexpandButton.closeSidebar.tooltip"}),f=(!o.isElectronMac||!c)&&!l&&r;return(0,_.jsx)(M,{isVisible:f,icon:s().S,caption:p,onClick:()=>{g().closeSidebarFromTopbarUnexpandButton(t)},keyboardShortcutName:"toggleSidebar",style:e.style,hoveredStyle:e.hoveredStyle})}const w={width:l().Ev.lg,height:l().Ev.lg,fill:"inherit"};function M(e){const t=(0,n().Y0)(),o=(0,r().IS)((e=>({keyboardShortcut:{color:e.text.contrastSecondary},button:{fill:e.icon.secondary}})),[]),i=(0,a.useMemo)((()=>({position:"relative",marginLeft:10,...c().A.isMobile&&{height:"100%"},...o.button,...e.style})),[e.style,o.button]);return e.isVisible?(0,_.jsx)(S().A,{renderTooltip:()=>(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{children:e.caption}),e.keyboardShortcutName?(0,_.jsx)(y().A,{style:o.keyboardShortcut,name:e.keyboardShortcutName}):void 0]}),originGap:6,placement:t.isElectron?f().W.Right:f().W.Bottom,render:t=>(0,_.jsx)(h().A,{tag:v().A,animate:{opacity:e.isVisible?1:0},ariaLabel:e.caption,disabled:!e.isVisible,icon:e.icon,style:i,hoveredStyle:e.hoveredStyle,iconStyle:w,onClick:e.onClick,className:p().P7S,...t})}):null}},279047:(e,t,o)=>{o.d(t,{A:()=>d});var a=o(296540),n=()=>o(56366),i=()=>o(401497),r=()=>o(141333),s=o(474848);const l=4;function d(e){let{scrollerStore:t,type:o,dividerColor:d,errorMargin:c=l}=e;const u=(0,n().K8)((()=>t.state.elementRef),[t]),p=(0,r().Xg)(u),g=(0,r().CR)(u),m=(0,r().sj)(u),f=(0,r().yE)(u),b=(0,r().o7)(u),h=(0,r().HJ)(u),v=(0,a.useMemo)((()=>{if(!t)return!1;switch(o){case"top":return Math.round(f)>c;case"bottom":return Math.abs(Math.round(f)-(g-b))>c;case"left":return Math.round(m)>c;case"right":return Math.abs(Math.round(m)-(p-h))>c}}),[t,o,c,p,g,m,f,b,h]),y="left"===o||"right"===o,S=(0,i().IS)((e=>({divider:{flexShrink:0,boxShadow:v?y?`1px 0 0 ${d??e.regularDividerColor}`:`0 1px 0 ${d??e.regularDividerColor}`:"0 0 0 transparent",transition:"box-shadow 300ms",...y?{width:1,height:"100%",marginLeft:-1}:{height:1,width:"100%",marginTop:-1},zIndex:99}})),[y,v,d]);return(0,s.jsx)("div",{style:S.divider})}},279900:(e,t,o)=>{function a(e){let t,o,a;return async function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t?(a=i,o||(o=t.then((()=>(o=void 0,t=e(...a),t))),o)):(t=e(...i),t)}}o.d(t,{A:()=>a})},281303:(e,t,o)=>{o.d(t,{a:()=>l});o(898992),o(354520);var a=o(296540),n=()=>o(56366),i=()=>o(470928),r=()=>o(287351),s=()=>o(121510);function l(e){const t=(0,s().j)(e),o=(0,r().U)(),l=(0,s().S)(o),d=(0,a.useMemo)((()=>[...t,...l]),[t,l]);return(0,n().K8)((()=>e?d.filter((e=>"verified"===(0,i().i1)(e).type)):[]),[d,e])}},281419:(e,t,o)=>{o.d(t,{b:()=>n});o(296540);var a=o(474848);const n=(0,o(340498).wt)("sidebarLeft",{viewBox:"0 0 18 14",directional:!0,svg:(0,a.jsx)("path",{d:"M3.1416 13.4561C2.40332 13.4561 1.84505 13.2669 1.4668 12.8887C1.08854 12.515 0.899414 11.9635 0.899414 11.2344V2.91504C0.899414 2.18132 1.08854 1.6276 1.4668 1.25391C1.84505 0.880208 2.40332 0.693359 3.1416 0.693359H14.8447C15.5876 0.693359 16.1481 0.880208 16.5264 1.25391C16.9046 1.6276 17.0938 2.18132 17.0938 2.91504V11.2344C17.0938 11.9635 16.9046 12.515 16.5264 12.8887C16.1481 13.2669 15.5876 13.4561 14.8447 13.4561H3.1416ZM3.22363 12.1094H14.7695C15.084 12.1094 15.3255 12.0273 15.4941 11.8633C15.6628 11.6992 15.7471 11.4508 15.7471 11.1182V3.02441C15.7471 2.69629 15.6628 2.4502 15.4941 2.28613C15.3255 2.12207 15.084 2.04004 14.7695 2.04004H3.22363C2.90462 2.04004 2.66081 2.12207 2.49219 2.28613C2.32812 2.4502 2.24609 2.69629 2.24609 3.02441V11.1182C2.24609 11.4508 2.32812 11.6992 2.49219 11.8633C2.66081 12.0273 2.90462 12.1094 3.22363 12.1094ZM6.33398 12.3281V1.80762H7.6123V12.3281H6.33398ZM4.99414 4.54199H3.59277C3.47428 4.54199 3.36947 4.49642 3.27832 4.40527C3.19173 4.31413 3.14844 4.21387 3.14844 4.10449C3.14844 3.986 3.19173 3.88346 3.27832 3.79688C3.36947 3.71029 3.47428 3.66699 3.59277 3.66699H4.99414C5.11719 3.66699 5.22201 3.71029 5.30859 3.79688C5.39974 3.88346 5.44531 3.986 5.44531 4.10449C5.44531 4.21387 5.39974 4.31413 5.30859 4.40527C5.22201 4.49642 5.11719 4.54199 4.99414 4.54199ZM4.99414 6.37402H3.59277C3.47428 6.37402 3.36947 6.33073 3.27832 6.24414C3.19173 6.15299 3.14844 6.04818 3.14844 5.92969C3.14844 5.81576 3.19173 5.71549 3.27832 5.62891C3.36947 5.54232 3.47428 5.49902 3.59277 5.49902H4.99414C5.11719 5.49902 5.22201 5.54232 5.30859 5.62891C5.39974 5.71549 5.44531 5.81576 5.44531 5.92969C5.44531 6.04818 5.39974 6.15299 5.30859 6.24414C5.22201 6.33073 5.11719 6.37402 4.99414 6.37402ZM4.99414 8.19922H3.59277C3.47428 8.19922 3.36947 8.15592 3.27832 8.06934C3.19173 7.98275 3.14844 7.88249 3.14844 7.76855C3.14844 7.65007 3.19173 7.54753 3.27832 7.46094C3.36947 7.37435 3.47428 7.33105 3.59277 7.33105H4.99414C5.11719 7.33105 5.22201 7.37435 5.30859 7.46094C5.39974 7.54753 5.44531 7.65007 5.44531 7.76855C5.44531 7.88249 5.39974 7.98275 5.30859 8.06934C5.22201 8.15592 5.11719 8.19922 4.99414 8.19922Z"})})},285518:(e,t,o)=>{o.d(t,{R:()=>n});o(898992),o(354520),o(581454);var a=()=>o(496603);function n(e){return e&&e.isReady()?a().sb(e.getSpaceViewStores().filter((e=>e.getJoined())).map((e=>e.getSpaceId()))).length:void 0}},287351:(e,t,o)=>{o.d(t,{U:()=>r});var a=()=>o(484714),n=()=>o(56366),i=()=>o(186445);function r(){var e;const t=(0,a().v3)();return(null===(e=(0,n().O$)((0,i().rp)(t)))||void 0===e?void 0:e.userJoinedTeamsStores)??[]}},291606:(e,t,o)=>{o.d(t,{AC:()=>i,dE:()=>s,Nw:()=>l,tn:()=>r});var a=()=>o(2220);const n=new(o(178624).R)({key:"offline_autosync_setting",namespace:o(419494).cd,important:!0,trackingType:"necessary"});function i(){return"on"===n.getState()}function r(e){let{environment:t}=e;const o=i()?"off":"on";(0,a().u)({environment:t,event:{eventName:"offline_autosyncing_toggled",eventProperties:{toggle_status:o}}}),n.setState(o)}function s(){return n.getState()}function l(e){n.setState(e)}},296060:(e,t,o)=>{o.d(t,{H:()=>n,a:()=>i});var a=o(296540);const n={panelState:void 0,view:"notionHomeTile"},i=(0,a.createContext)(n);i.displayName="CalendarAnalyticsContext"},305961:(e,t,o)=>{o.d(t,{d:()=>n});o(296540);var a=o(474848);const n=(0,o(340498).wt)("eyePadded",{viewBox:"0 0 24 24",svg:(0,a.jsx)("path",{d:"M12 17.9912C17.6055 17.9912 21.3857 13.4727 21.3857 12.0713C21.3857 10.6699 17.5986 6.1582 12 6.1582C6.47656 6.1582 2.60742 10.6699 2.60742 12.0713C2.60742 13.4727 6.46973 17.9912 12 17.9912ZM12 16.6787C7.63184 16.6787 4.15918 13.0283 4.15918 12.0713C4.15918 11.2715 7.63184 7.4707 12 7.4707C16.3613 7.4707 19.8408 11.2715 19.8408 12.0713C19.8408 13.0283 16.3613 16.6787 12 16.6787ZM12 15.7559C14.0508 15.7559 15.6914 14.0811 15.6914 12.0713C15.6914 10.0137 14.0508 8.39355 12 8.39355C9.94238 8.39355 8.29492 10.0137 8.30176 12.0713C8.31543 14.0811 9.94238 15.7559 12 15.7559ZM12 13.2607C11.3369 13.2607 10.7969 12.7275 10.7969 12.0713C10.7969 11.415 11.3369 10.8818 12 10.8818C12.6631 10.8818 13.1963 11.415 13.1963 12.0713C13.1963 12.7275 12.6631 13.2607 12 13.2607Z"})})},313633:(e,t,o)=>{o.d(t,{A:()=>s});o(296540);var a=()=>o(401497),n=()=>o(66913),i=()=>o(197190),r=o(474848);function s(e){const{top:t,right:o,onClick:s}=e,l=(0,a().IS)((e=>({buttonBackground:{position:"absolute",top:t??12,right:o??12,width:22,height:22,borderRadius:"100%",background:e.buttonBackground},button:{width:"100%",height:"100%",borderRadius:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:"transparent"},buttonHovered:{background:e.buttonHoveredBackground},icon:{width:14,fill:e.icon.secondary}})),[t,o]);return(0,r.jsx)("div",{style:l.buttonBackground,children:(0,r.jsx)(i().A,{style:l.button,hoveredStyle:l.buttonHovered,onClick:s,children:(0,n().V)(l.icon)})})}},322920:(e,t,o)=>{o.r(t),o.d(t,{getContextualizedOnboardingFlowName:()=>r,getMobileTutorialStages:()=>s});var a=()=>o(820103),n=()=>o(47373),i=()=>o(757156);async function r(e,t){for(const o of a().uL){const a=i().onboardingFlowNameToFlowConfig[o],n=e.device.isMobile,{isEnabledForMobile:r,isEnabledForDesktop:s}=a;if((n&&r||!n&&s)&&await a.shouldShowFlowToUser(e,t))return o}return a().JT}function s(e){switch((0,n().DV)({environment:e})){case"v1":return["mobile_onboarding_home","mobile_onboarding_creation","mobile_onboarding_share","mobile_onboarding_multi_platform"];case"v2":return["mobile_onboarding_home","mobile_onboarding_creation","mobile_onboarding_share"];case"v3":return["mobile_onboarding_skill_mab","mobile_onboarding_skill_filing","mobile_onboarding_skill_swipe"];default:return["mobile_onboarding_editor","mobile_onboarding_sidebar","mobile_onboarding_desktop","mobile_onboarding_web_clipper","mobile_onboarding_app_download"]}}},338477:(e,t,o)=>{o.d(t,{G:()=>s,m:()=>l});var a=()=>o(449506),n=()=>o(751156),i=()=>o(755199),r=()=>o(765957);function s(e){const{environment:t,transaction:o}=e,{currentUserSettingsStore:a}=r().default.state;if(!a)return;const s=e=>{i().mJ({userSettingsStore:a,transaction:e,data:{feed_view_new_button_clicked_at:Date.now()}})};o?s(o):n().createAndCommit({environment:t,userAction:"feedActions.markFeedViewNewButtonClicked",canUndo:!1,cellTarget:"main",perform:e=>s(e)})}function l(e){return a().callApi({eventName:"createFeedViewOnboardingPage",environment:e.environment,data:{spaceId:e.spaceId}})}},344417:(e,t,o)=>{o.d(t,{u:()=>n});o(296540);const a={viewBox:"0 0 16 16",fittedViewBox:"1.97 1.97 12.46 12.46",svg:(0,o(474848).jsx)("path",{d:"M7.1 1.975a5.125 5.125 0 1 0 3.155 9.164l3.107 3.107a.625.625 0 1 0 .884-.884l-3.107-3.107A5.125 5.125 0 0 0 7.1 1.975M3.225 7.1a3.875 3.875 0 1 1 7.75 0 3.875 3.875 0 0 1-7.75 0"})},n=(0,o(340498).wt)("magnifyingGlassSmall",a)},345578:(e,t,o)=>{o.d(t,{A:()=>l});o(296540);var a=()=>o(449552),n=()=>o(959013),i=()=>o(859428),r=()=>o(962730),s=o(474848);function l(e){let{iconStyle:t}=e;return(0,s.jsx)(i().A,{textWrap:!0,style:{width:210},placement:r().W.Bottom,renderTooltip:()=>(0,s.jsx)(n().sA,{id:"teamLockIcon.tooltip",defaultMessage:"Private teamspaces can only be accessed or joined by invitation"}),render:e=>(0,s.jsx)("div",{...e,children:(0,a().g)(t)})})}},369251:(e,t,o)=>{o.d(t,{A:()=>_,k:()=>S});var a=o(296540),n=()=>o(484714),i=()=>o(56366),r=()=>o(401497),s=()=>o(959013),l=()=>o(284371),d=()=>o(134696),c=()=>o(449506),u=()=>o(436572),p=()=>o(640653),g=()=>o(765957),m=()=>o(159026),f=()=>o(805751),b=()=>o(623580),h=()=>o(864943),v=()=>o(204063),y=o(474848);function S(e){const t=(0,n().v3)(),{onDismiss:o}=e,[S,_]=(0,a.useState)(""),x=(0,s().tz)(),w=(0,r().IS)((()=>({container:{padding:20,width:350,paddingBottom:15},title:{fontWeight:l().Wy.medium,marginBottom:10},input:{width:"100%",padding:"8px 12px",marginTop:10,marginBottom:10},button:{width:"100%",marginTop:10}})),[]),{currentSpaceStore:M}=(0,i().K8)((()=>({currentSpaceStore:g().default.state.currentSpaceStore})),[]),C=(0,i().K8)((()=>M?(0,p().GK)(t,M):"workspace"),[t,M]);return(0,y.jsxs)("div",{style:w.container,children:[(0,y.jsx)("div",{style:w.title,children:(0,y.jsx)(s().sA,{id:"GuestMembershipRequestModal.title",defaultMessage:"Request membership to {workspaceName}",values:{workspaceName:C}})}),(0,y.jsxs)(f().A,{debugName:"GuestMembershipRequestModal",capture:!0,allowEsc:!0,children:[(0,y.jsx)(b().A,{style:w.input,textarea:!0,value:S,placeholder:x.formatMessage({id:"GuestMembershipRequestModal.message.placeholder",defaultMessage:"Reason (optional)"}),onChange:e=>{_(e.target.value)}}),(0,y.jsx)(v().A,{size:"lg",style:w.button,onClick:()=>{const{currentUser:e}=t;e&&e.id&&M&&(d().RH(t,{invite_flow_id:void 0,user_count:1,new_user_count:1,is_bot:!1,space_role:"read_and_write",invite_message_length:S.length,invite_space_role_selection:m().NJ.request_workspace_member,from:"sidebar_guest_request"}),c().callApi({eventName:"requestAccess",environment:t,data:{type:"actor-to-space",forActorId:e.id,spaceId:M.id,message:S,attributes:{origin_id:M.id,origin_type:"sidebar_guest_request",origin_table:"space",add_permissions_on_approval:!1}}}).catch((()=>{u().D6({label:(0,y.jsx)(s().sA,{id:"guestMembershipRequestModal.confirmationToast.errorMessage",defaultMessage:"Failed to send membership request."})})})).finally((()=>{u().D6({label:(0,y.jsx)(s().sA,{id:"guestMembershipRequestModal.confirmationToast.successMessage",defaultMessage:"Sent membership request."})})})),_(""),o())},children:(0,y.jsx)(s().sA,{id:"GuestMembershipRequestModal.sendRequest.button",defaultMessage:"Send request"})}),(0,y.jsx)(h().A,{size:"lg",style:w.button,onClick:()=>{_(""),o()},children:(0,y.jsx)(s().sA,{id:"GuestMembershipRequestModal.cancel.button",defaultMessage:"Cancel"})})]})]})}const _=function(e){const t=(0,n().v3)(),[i,s]=(0,a.useState)(!1),{origin:l}=e,d=(0,r().IS)((()=>({modalStyle:{alignSelf:"center",overflow:"visible",top:0,width:350}})),[]);return(0,y.jsx)(o(433876).A,{modalStyle:d.modalStyle,open:i,origin:(0,y.jsx)("div",{onClick:()=>{o(701763).cK(t),s(!0)},children:l}),onDismiss:()=>s(!1),renderContent:()=>(0,y.jsx)(S,{onDismiss:()=>s(!1)})})}},384100:(e,t,o)=>{o.d(t,{l5:()=>r,z5:()=>i});var a=()=>o(798880),n=()=>o(630116);function i(e){let{userId:t,currentSpaceStore:o}=e;return n().LU.createChildStore(o,{table:a().oo,id:t})}function r(e){const{blockStore:t,actorPointer:o}=e;if(o.table===a().oo&&null!=t&&t.isDefined())return n().LU.createChildStore(t,{table:a().oo,id:o.id})}},387964:(e,t,o)=>{o.d(t,{S:()=>i});o(296540);var a=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"3.42 3.97 12.16 12.06",directional:!0,svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M3.608 10.442a.625.625 0 0 1 0-.884l5.4-5.4a.625.625 0 0 1 .884.884L4.934 10l4.958 4.958a.625.625 0 1 1-.884.884z"}),(0,a.jsx)("path",{d:"m14.508 4.158-5.4 5.4a.625.625 0 0 0 0 .884l5.4 5.4a.625.625 0 1 0 .884-.884L10.434 10l4.958-4.958a.625.625 0 1 0-.884-.884"})]})},i=(0,o(340498).wt)("arrowChevronDoubleBackward",n)},388601:(e,t,o)=>{o.d(t,{W:()=>f,o:()=>m});var a=o(296540),n=()=>o(484714),i=()=>o(56366),r=()=>o(401497),s=()=>o(396301),l=()=>o(963589),d=()=>o(765957),c=()=>o(620149),u=()=>o(578392),p=()=>o(26942),g=o(474848);function m(e){const{state:t,sidebarState:o,onNavigate:m,additionalOutlinerProps:f,id:b,isHeaderless:h,from:v}=e,y=(0,i().O$)(d().AppStoreCurrentSpaceStore),S=(0,i().O$)(d().AppStoreCurrentSpaceViewStore),_=(0,n().v3)(),{isMobile:x,isTablet:w}=(0,n().Y0)(),M=(0,i().K8)((()=>!c().l.state),[]),C=(0,i().K8)((()=>(null==y?void 0:y.canEdit())&&M),[y,M]),k=t,A="shared"===k.type&&o.showCrossWorkspaceGuestPagesPrototype,T=(0,l().X)("team_feed_as_any_other_db"),I=(0,i().K8)((()=>{if(S)return(0,s().o_)({currentSpaceViewStore:S,typeWithTeam:k,sidebarState:o,teamFeedAsAnyOtherDBEnabled:T})}),[S,o,k,T]),j=(0,i().K8)((()=>{if(S&&y&&!A)return(0,s().rE)({currentSpaceStore:y,currentSpaceViewStore:S,typeWithTeam:k})}),[y,S,A,k]),P=(0,a.useCallback)((e=>{(0,s().xy)({environment:_,store:e,type:k.type}),null==m||m()}),[_,m,k]),B=(0,r().IS)((()=>({outliner:{display:"block"},outlinerItem:{paddingTop:5,paddingBottom:w?3.5:5,paddingLeft:"team"===k.type?16:8,...x&&"team"===k.type?{paddingLeft:p().ph+p().RD}:void 0}})),[x,k.type,w]);return y&&S&&I?(0,g.jsx)(u().A,{from:v,type:k.type,disabled:!C,itemDepth:0,childStores:I,parentStore:j,style:B.outliner,itemStyle:B.outlinerItem,onNavigate:P,id:b,"aria-labelledby":e["aria-labelledby"],isHeaderless:h,...f}):null}const f=a.memo((e=>{const{type:t,sidebarState:o,contentsAriaId:n,labelAriaId:i,isHeaderless:r}=e,s=(0,a.useMemo)((()=>({type:t})),[t]);return(0,g.jsx)(m,{state:s,sidebarState:o,id:n,"aria-labelledby":i,isHeaderless:r,from:"main_sidebar"})}));f.displayName="MemoizedTopLevelSidebarOutliner"},392998:(e,t,o)=>{o.d(t,{A:()=>r});var a=()=>o(194188),n=()=>o(10123),i=()=>o(570551);function r(e,t){(0,i().A)(2,arguments);var o=(0,n().A)(e),r=(0,a().A)(t);return isNaN(r)?new Date(NaN):r?(o.setDate(o.getDate()+r),o):o}},403733:(e,t,o)=>{o.d(t,{g:()=>n});o(296540);const a={viewBox:"0 0 16 16",fittedViewBox:"3.05 2.12 9.9 11.76",svg:(0,o(474848).jsx)("path",{d:"M8 2.125a.61.61 0 0 0-.625.599v9.017L4.122 8.488a.625.625 0 1 0-.884.884l4.32 4.32c.244.244.64.244.884 0l4.32-4.32a.625.625 0 0 0-.884-.884l-3.253 3.253V2.724A.61.61 0 0 0 8 2.125"})},n=(0,o(340498).wt)("arrowStraightDownSmall",a)},454531:(e,t,o)=>{o.d(t,{W:()=>f});var a=()=>o(780054),n=()=>o(972435),i=()=>o(867772),r=()=>o(681810),s=()=>o(901389),l=()=>o(896628),d=()=>o(383594),c=()=>o(675925),u=()=>o(751156),p=()=>o(892632);const g=1500,m=(0,o(959013).YK)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},preparing:{defaultMessage:"Preparing...",id:"pageCover.status.preparing"},downloading:{defaultMessage:"Downloading...",id:"pageCover.status.downloading"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image link…",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function f(e){let{environment:t,intl:o,store:a,rect:n,from:i}=e;d().W(t,{originGap:3,originRect:n,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:o.formatMessage(m.pageCover),onDelete:()=>{!function(e){let{environment:t,store:o}=e;d().I(),u().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{l().PT({store:o,transaction:e})}})}({environment:t,store:a})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:o,position:n}=e;(0,c().o)(t,{action:"edit_cover",block_type:"page",from:i},(e=>{h({environment:t,store:a,url:{originUrl:o},position:n}),e()}))}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:o.formatMessage(m.fileTypeCaption,{idealImageWidth:g}),onUpload:e=>{(0,c().o)(t,{action:"edit_cover",block_type:"page",from:i},(n=>{var i;d().I(),p().QM({environment:t,file:e[0],bucket:"secure",record:(null===(i=a.getCoverStore())||void 0===i?void 0:i.pointer)??a.pointer,isFileBlock:!1,reportRichUploadMetrics:!0,onStart:v,onProgress:y,onComplete:e=>{var o;o={environment:t,store:a,url:{originUrl:e}},b({...o,position:.5})},onError:()=>{s().f1(o.formatMessage(m.uploadFailed))}}),n()}))}},{type:"embed",title:o.formatMessage(m.embedTitle),inputPlaceholder:o.formatMessage(m.embedPlaceholder),caption:o.formatMessage(m.embedCaption),buttonText:o.formatMessage(m.embedSubmit),onChange:e=>{(0,c().o)(t,{action:"edit_cover",block_type:"page",from:i},(o=>{var n;n={environment:t,store:a,url:e},b({...n,position:.5}),d().I(),o()}))}},{type:"unsplash",onChange:e=>{let{url:o,position:n}=e;(0,c().o)(t,{action:"edit_cover",block_type:"page",from:i},(e=>{h({environment:t,store:a,url:{originUrl:o},position:n}),e()}))}}]})}async function b(e){const{environment:t,store:o,url:a,position:s}=e,{serverCommitResult:d}=u().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{l().fg({store:o,url:a,position:s||.5,transaction:e})}});await d,r().A.state.loadingMode===i().vS&&r().A.setState({loadingMode:i().Gi,dataURL:r().A.state.dataURL,uploadProgress:t.device.isMobileNative?void 0:100,progressText:n().A.formatMessage(m.downloading)})}function h(e){b(e),a().A.isMobile&&d().I()}function v(e){const{file:t,name:o,size:a}=e;if(d().I(),r().A.setState({loadingMode:i().Wc,file:t,name:o,size:a}),t.type.indexOf("image")>=0)if(t instanceof File){const e=new FileReader;e.onload=e=>{r().A.state.loadingMode===i().Wc&&r().A.setState({...r().A.state,loadingMode:i().vS,uploadProgress:0,dataURL:e.target.result})},e.readAsDataURL(t)}else r().A.state.loadingMode===i().Wc&&r().A.setState({...r().A.state,loadingMode:i().vS,dataURL:t.dataURL,progressText:n().A.formatMessage(m.preparing)});else r().A.state.loadingMode===i().Wc&&r().A.setState({...r().A.state,loadingMode:i().vS,progressText:n().A.formatMessage(m.preparing)})}function y(e){const{progressPercent:t,progressText:o}=e;r().A.state.loadingMode===i().vS&&r().A.setState({...r().A.state,uploadProgress:t,progressText:o})}},471095:(e,t,o)=>{o.d(t,{i:()=>n});o(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"3.97 1.95 12.05 15.66",svg:(0,o(474848).jsx)("path",{d:"M6 5.95a4 4 0 1 1 8 0v1.433a2.426 2.426 0 0 1 2.025 2.392v5.4A2.425 2.425 0 0 1 13.6 17.6H6.4a2.425 2.425 0 0 1-2.425-2.425v-5.4c0-1.203.876-2.201 2.025-2.392zm6.75 1.4v-1.4a2.75 2.75 0 1 0-5.5 0v1.4zm-2.2 5.458a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 0 0 1.1 0z"})},n=(0,o(340498).wt)("lockFill",a)},519618:(e,t,o)=>{o.d(t,{d:()=>h});var a=o(296540),n=()=>o(484714),i=()=>o(56366),r=()=>o(401497),s=()=>o(620689),l=()=>o(347199),d=()=>o(756279),c=()=>o(765957),u=()=>o(714818),p=()=>o(712505),g=()=>o(279047),m=()=>o(2143),f=()=>o(13679),b=o(474848);function h(e){let{children:t,scrollerStore:o,scrollerStyle:h}=e;const v=(0,i().O$)(c().AppStoreCurrentSpaceStore),y=(0,i().O$)(c().AppStoreCurrentSpaceViewStore),{isTablet:S}=(0,n().Y0)(),_=(0,n().v3)(),x=(0,i().K8)((()=>p().default.isCenterPeekOpen()||u().A.state.open),[]),w=(0,r().IS)((()=>({scroller:{paddingTop:6,flexGrow:1,...h}})),[h]),M=(0,a.useCallback)((e=>{l().A.SidebarScroller=e}),[]);return v&&y?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g().A,{type:"top",scrollerStore:o}),(0,b.jsx)(f().A,{store:v,droppable:!0,disableRectangularSelection:!0,disableEditNearestBlock:!0,disable:x,render:e=>{let{selectableEvents:a}=e;return(0,b.jsx)(m().H,{type:d().A.Y,store:o,style:w.scroller,ref:M,preventType:S?s().u5(_):void 0,...a,children:t},y.id)}})]}):null}},533621:(e,t,o)=>{o.d(t,{_:()=>s});o(898992),o(354520);var a=()=>o(484714),n=()=>o(56366),i=()=>o(988499),r=()=>o(486130);function s(){const e=(0,a().v3)().currentUser.id,t=(0,n().O$)(i().A);return(0,n().K8)((()=>t.teams.filter((t=>e&&t.isDefined()&&!t.isNonGuestMember(e,r()._.getSpacePermissionGroupIds({userId:e,spaceId:t.getSpaceId()}))))),[e,t.teams])}},541808:(e,t,o)=>{o.d(t,{B:()=>r});var a=()=>o(56366),n=()=>o(496603),i=()=>o(379560);function r(){return(0,a().K8)((()=>{var e;const t=n().$z((null===(e=i().A.getStateForCurrentSpaceView())||void 0===e?void 0:e.accounts.getOrderedValues())??[],(e=>{let{authorized:t}=e;return String(t)}));return{connectedAccounts:t.true??[],disconnectedAccounts:t.false??[]}}),[])}},544862:(e,t,o)=>{o.d(t,{A:()=>w});var a=o(296540),n=()=>o(484714),i=()=>o(56366),r=()=>o(959013),s=()=>o(896628),l=()=>o(454531),d=()=>o(751156),c=()=>o(478726),u=()=>o(227440),p=()=>o(867772),g=()=>o(681810),m=()=>o(608581),f=()=>o(145214),b=()=>o(704152),h=()=>o(807683),v=()=>o(401497),y=()=>o(534177),S=o(474848);function _(e){let{src:t,placeholderSrc:o,placeholderBehavior:n,imageStyle:i,containerStyle:r,onLoadComplete:s,testId:l}=e;const[d,c]=(0,a.useState)(!0);let u;switch(n){case"force-show-placeholder":u=!0;break;case"force-show-src":u=!1;break;case"show-placeholder-if-loading-src":u=!!o&&(d||void 0===t);break;default:(0,y().HB)(n)}const p=(0,v().IS)((()=>{const e={gridColumn:1,gridRow:1};return{container:{display:"grid",...r},srcWrapper:{...u&&{display:"none"},...e},placeholderWrapper:{pointerEvents:"none",...e}}}),[r,u]);(0,a.useEffect)((()=>{void 0!==t&&c(!0)}),[t]);const g=(0,a.useCallback)((e=>{c(!1),null==s||s()}),[s]);return(0,S.jsxs)("div",{style:p.container,children:[(0,S.jsx)(h().Ay,{src:t,onLoad:g,style:i,placeholderStyle:p.srcWrapper,placeholderLoadedStyle:p.srcWrapper,testId:l}),o&&(0,S.jsx)(h().Ay,{src:o,style:i,placeholderStyle:p.placeholderWrapper,placeholderLoadedStyle:p.placeholderWrapper})]})}var x=()=>o(453101);const w=function(e){let{store:t,disabled:r,paddingRight:l,paddingLeft:c,height:u,proxyWidth:m}=e;const f=(0,n().v3)(),b=(0,n().Y0)(),v=(0,i().uB)(void 0,o(454305).A),y=(0,i().K8)((()=>r||"suggest"===o(77246).Uv.getMode(t)||(0,o(600871).aD)(b)),[r,t,b]),x=(0,i().K8)((()=>t.getCover()),[t]),w=(0,i().O$)(g().A),[k,A]=(0,a.useState)(void 0);if(!x)return null;const T=w.loadingMode!==p().pF&&w.loadingMode!==p().Wc;return(0,S.jsx)(o(801678).A,{mouseStore:v,onFlushTemporaryPosition:e=>function(e,t,o){const{imagePosition:a,reset:n}=e;d().createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:o,canUndo:!0,perform:e=>{s().yY({store:t,coverPosition:a,transaction:e}),n()}})}(e,t,f),renderControl:e=>{let{handleRepositionClick:o,handleSavePositionClick:a,handleCancelClick:n,isVisible:i,isRepositioning:r}=e;return(0,S.jsx)(C,{handleRepositionClick:o,handleSavePositionClick:a,handleCancelClick:n,isVisible:i,isRepositioning:r,lastProxiedUrl:k,store:t,disabled:y,paddingRight:l,paddingLeft:c,mouseStore:v})},source:"page",store:t,style:{display:"flex",flexDirection:"column",alignItems:"center",height:u,maxHeight:280,cursor:"default"},preventClickPropagation:!0,render:e=>(0,S.jsxs)(a.Fragment,{children:[(0,S.jsx)(o(360083).A,{url:x.cover,isAuthenticated:!0,permissionRecord:x.pointer,width:m,onFinishedLoadingProxyUrl:A,render:(t,o)=>{const a={width:"100%",height:u,maxHeight:280,objectFit:"cover",opacity:T?.5:1,objectPosition:`center ${100*(1-(e.imagePosition||0))}%`,borderRadius:0},n={width:"100%",height:u,maxHeight:280};return(0,S.jsx)(_,{src:o,placeholderSrc:T?w.dataURL:void 0,placeholderBehavior:T?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:n,imageStyle:a,onLoadComplete:M,testId:"pageCover"})}}),T&&(0,S.jsxs)("div",{style:h().fd,children:[(0,S.jsx)(o(331542).A,{size:"md",style:{marginRight:4}}),(0,S.jsx)("div",{style:{minWidth:30,textAlign:"right"},children:void 0!==w.uploadProgress?(0,S.jsx)(o(773382).A,{percentage:w.uploadProgress}):w.progressText?(0,S.jsx)("span",{children:w.progressText}):null})]})]})})};function M(){g().A.reset()}function C(e){let{isVisible:t,isRepositioning:o,handleCancelClick:s,handleRepositionClick:d,handleSavePositionClick:h,lastProxiedUrl:v,store:y,disabled:_,paddingRight:w,paddingLeft:M,mouseStore:C}=e;const k=(0,n().v3)(),A=(0,r().tz)(),T=(0,a.useCallback)((e=>function(e,t,o,a,n){n.reset();const i=e.target.getBoundingClientRect();l().W({environment:t,intl:o,store:a,rect:i,from:"page_header"})}(e,k,A,y,C)),[k,A,y,C]),I=(0,i().K8)((()=>g().A.state.loadingMode),[]),j=(0,i().K8)((()=>function(e){let t;return t=Boolean(e.isFullWidth())?"100%":c().x6,t}(y)),[y]),{device:P}=k,B=(0,i().O$)(u().e);if(_||I!==p().pF||!B)return null;const{isMobile:N}=P;return(0,S.jsx)(f().A,{animate:{width:j,opacity:t?1:0},style:{position:"absolute",pointerEvents:t?"auto":"none",maxWidth:"100%",top:48},children:(0,S.jsxs)(m().A,{isVisible:t,position:"bottom",style:{marginRight:w,marginLeft:M},children:[!o&&(0,S.jsx)(b().A,{style:{borderRight:N?"none":void 0,...x().k},onClick:T,children:(0,S.jsx)(r().sA,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})}),!o&&!N&&(0,S.jsx)(b().A,{style:{...x().k,borderRight:"none"},onClick:e=>d(e,v),children:(0,S.jsx)(r().sA,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})}),o&&!N&&(0,S.jsx)(b().A,{style:x().k,onClick:h,children:(0,S.jsx)(r().sA,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})}),o&&!N&&(0,S.jsx)(b().A,{style:{...x().k,borderRight:"none"},onClick:s,children:(0,S.jsx)(r().sA,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"})})]})})}},555267:(e,t,o)=>{o.d(t,{A:()=>l});var a=o(296540),n=()=>o(401497),i=()=>o(62856),r=()=>o(331542),s=o(474848);function l(e){let{loadingMessage:t}=e;const o=(0,n().DP)(),l=(0,i().A)(!0,400);return(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l?(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(r().A,{}),t?(0,s.jsx)("div",{style:{marginLeft:8,color:o.text.secondary},children:t}):void 0]}):void 0})}},556048:(e,t,o)=>{o.d(t,{C8:()=>p,Dz:()=>l,GC:()=>m,GL:()=>f,YY:()=>g,dM:()=>c,h9:()=>d,jX:()=>s,oF:()=>u,uj:()=>r});var a=()=>o(645873);const n={JiraSyncInfoPopup:new(a().O2)("JiraSyncInfoPopup",(async()=>await Promise.all([o.e(75134),o.e(68744)]).then(o.bind(o,408453)))),ImproveJiraSyncPopup:new(a().O2)("ImproveJiraSyncPopup",(async()=>await Promise.all([o.e(75134),o.e(2686)]).then(o.bind(o,484967)))),JiraDCAuthModal:new(a().O2)("JiraDCAuthModal",(async()=>await o.e(28763).then(o.bind(o,992567)))),ExternalImportAndSyncIndicator:new(a().O2)("ExternalImportAndSyncIndicator",(async()=>await o.e(98288).then(o.bind(o,244399)))),JiraSyncedAllProjectsTooltip:new(a().O2)("JiraSyncedAllProjectsTooltip",(async()=>await o.e(21446).then(o.bind(o,470020)))),JiraSyncedAllIssuesTooltip:new(a().O2)("JiraSyncedAllIssuesTooltip",(async()=>await o.e(21446).then(o.bind(o,470020)))),JiraSyncedDatabaseViewsAndFiltersTooltip:new(a().O2)("JiraSyncedDatabaseViewsAndFiltersTooltip",(async()=>await o.e(21446).then(o.bind(o,470020)))),JiraSyncSourceTooltip:new(a().O2)("JiraSyncSourceTooltip",(async()=>await o.e(21446).then(o.bind(o,470020)))),JiraSyncedSettingsToSetupProjectsAndIssuesTooltip:new(a().O2)("JiraSyncedSettingsToSetupProjectsAndIssuesTooltip",(async()=>await o.e(21446).then(o.bind(o,470020))))},i={JiraSyncTeamSpaceModal:new(a().O2)("JiraSyncTeamSpaceModal",(async()=>Promise.all([o.e(75134),o.e(92845),o.e(84468),o.e(5605),o.e(48486),o.e(95794),o.e(13677),o.e(56952),o.e(25497),o.e(74562),o.e(27711),o.e(30291),o.e(12913),o.e(28464),o.e(6463),o.e(50569),o.e(93449),o.e(56188)]).then(o.bind(o,604698))))},r=(0,a()._h)(i.JiraSyncTeamSpaceModal,(e=>e.default)),s=(0,a()._h)(n.JiraSyncedAllProjectsTooltip,(e=>e.JiraSyncedAllProjectsTooltip)),l=(0,a()._h)(n.JiraDCAuthModal,(e=>e.default)),d=(0,a()._h)(n.JiraSyncedAllIssuesTooltip,(e=>e.JiraSyncedAllIssuesTooltip)),c=(0,a()._h)(n.JiraSyncedDatabaseViewsAndFiltersTooltip,(e=>e.JiraSyncedDatabaseViewsAndFiltersTooltip)),u=(0,a()._h)(n.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip,(e=>e.JiraSyncedSettingsToSetupProjectsAndIssuesTooltip)),p=(0,a()._h)(n.JiraSyncSourceTooltip,(e=>e.JiraSyncSourceTooltip)),g=(0,a()._h)(n.JiraSyncInfoPopup,(e=>e.JiraSyncInfoPopup)),m=(0,a()._h)(n.ImproveJiraSyncPopup,(e=>e.ImproveJiraSyncPopup)),f=(0,a()._h)(n.ExternalImportAndSyncIndicator,(e=>e.ExternalImportAndSyncIndicator));(0,o(340498).xh)("jira",{default:{loader:()=>o.e(60677).then(o.bind(o,460677)),size:20},small:{loader:()=>o.e(60677).then(o.bind(o,460677)),size:16},mini:{loader:()=>o.e(60677).then(o.bind(o,460677)),size:14},large:{loader:()=>o.e(60677).then(o.bind(o,460677)),size:24}})},567121:(e,t,o)=>{o.d(t,{EG:()=>r,K5:()=>i,RH:()=>n,Yi:()=>s,ls:()=>a});const a=32,n=202,i=1e3,r="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",s="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},569397:(e,t,o)=>{o.d(t,{C:()=>n});o(296540);const a={viewBox:"0 0 16 16",fittedViewBox:"2.12 3.05 11.76 9.9",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M9.372 3.238a.625.625 0 1 0-.884.884l3.253 3.253H2.75a.625.625 0 0 0 0 1.25h8.991l-3.253 3.253a.625.625 0 0 0 .884.884l4.32-4.32a.625.625 0 0 0 0-.884z"})},n=(0,o(340498).wt)("arrowStraightRightSmall",a)},570551:(e,t,o)=>{function a(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}o.d(t,{A:()=>a})},572748:(e,t,o)=>{o.d(t,{t:()=>m});o(581454);var a=()=>o(484714),n=()=>o(56366),i=()=>o(401497),r=()=>o(187174),s=()=>o(959013),l=()=>o(524539),d=()=>o(372657),c=()=>o(810703),u=()=>o(765957),p=()=>o(845566),g=()=>o(258805);function m(e){let{allTargetsAreNavigable:t,forceShowPrivatePageOption:o,isAddTo:m,isCreateIn:f,isTurnIntoPage:b,onAccept:h,parentBlockId:v,query:y,searchResults:S,targets:_}=e;const x=(0,s().tz)(),w=(0,i().DP)(),M=(0,a().v3)(),C=(0,n().uB)(void 0,p().A),k=(0,n().O$)(u().AppStoreCurrentSpaceStore),A=(0,n().K8)((()=>(0,g().wc)(C)),[C]),[T]=(0,r().Yb)((async()=>A?await(0,c().pw)({spaceStore:A,currentUserId:M.currentUser.id}):void 0),[A,M.currentUser.id]),[I]=(0,r().Yb)((async()=>!y&&A?await l()._P(A,A.id):void 0),[y,A]),{blockResults:j,topLevelBlockResults:P,templateResults:B,recentPageResults:N}=(0,n().K8)((()=>{if(!A)return{blockResults:[],topLevelBlockResults:[],templateResults:[],recentPageResults:[]};const e=S.results.map((e=>({blockId:e.id,collectionId:e.collectionId})));return(0,g()._B)({chosenSpaceStore:A,environment:M,isCreateIn:f,query:y,recentPageIds:I.value,searchResults:e,targets:_})}),[A,M,f,y,I.value,S.results,_],{useDeepEqual:!0}),L=(0,n().K8)((()=>d().n6()),[]),[R]=(0,r().Yb)((async()=>{if(L&&A&&T.value)return await(0,g().N$)({chosenSpaceStore:A,savedQuickAddParent:T.value,query:y,blockResults:j,recentPageResults:N},M,f,h,_,m,C,t)}),[L,A,T.value,y,j,N,M,f,h,_,m,C,t]);return(0,n().K8)((()=>L?R.value??[]:A&&k&&T.value?f?(0,g().wU)({allTargetsAreNavigable:t,blockResults:j,chosenSpaceStore:A,environment:M,isAddTo:m,isCreateIn:f,isTurnIntoPage:b,moveToSpaceMenuStore:C,onAccept:h,parentBlockId:v,query:y,recentPageResults:N,targets:_,templateResults:B,topLevelBlockResults:P}):(0,g().OC)({allTargetsAreNavigable:t,blockResults:j,chosenSpaceStore:A,environment:M,forceShowPrivatePageOption:o,intl:x,isAddTo:m,isCreateIn:f,moveToSpaceMenuStore:C,onAccept:h,query:y,recentPageResults:N,savedQuickAddParent:T.value,targets:_,theme:w}):[]),[t,j,A,k,M,o,x,m,f,b,C,h,v,y,N,T.value,L,_,B,w,P,R.value])}},575104:(e,t,o)=>{o.d(t,{QH:()=>U,z_:()=>E,Ay:()=>z});o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(898992),o(803949);var a=o(296540),n=()=>o(484714),i=()=>o(56366),r=()=>o(401497),s=()=>o(175947),l=()=>o(959013),d=()=>o(899963),c=()=>o(496414),u=()=>o(664713),p=()=>o(406699),g=()=>o(780054),m=()=>o(37433),f=()=>o(765957),b=()=>o(999830),h=()=>o(263928),v=()=>o(320460),y=()=>o(214006),S=(o(354520),o(581454),()=>o(187174)),_=()=>o(763824),x=()=>o(534177),w=()=>o(449506),M=()=>o(640653),C=()=>o(646736);var k=()=>o(66913),A=()=>o(553034),T=()=>o(381349),I=()=>o(284371),j=()=>o(285790),P=()=>o(864943),B=()=>o(897119),N=()=>o(962730),L=()=>o(377586),R=()=>o(404141),D=o(474848);const F=(0,l().YK)({offlineIcon:{id:"offlineIndicator.icon",defaultMessage:"No internet connection"},closeIcon:{id:"offlineIndicator.popup.closeIcon",defaultMessage:"Close"}});function O(){const[e,t]=(0,a.useState)(!1),o=(0,l().tz)(),n=(0,T().O4)({theme:"dark"}),s=(0,r().IS)((e=>({iconButton:{width:28,height:28},icon:{width:22,height:22,fill:e.text.primary},iconHover:{background:e.sidebarItemSelectedBackground},popup:{background:e.tooltipBackground,color:e.text.contrastPrimary,width:280,padding:12,fontSize:14},title:{fontWeight:I().Wy.medium},subtitle:{color:e.text.secondary},closeButton:{width:24,height:24,position:"absolute",right:8,top:8},closeIcon:{width:14,height:14,fill:n.palette.translucentGray[800]},closeHovered:{background:n.state.hover},closePressed:{background:n.state.pressed},settingsButtonContainer:{display:"flex",justifyContent:"end",paddingTop:10},settingsButton:{border:`1px solid ${n.outlineButtonBorder}`},settingsHover:{background:n.state.hover},settingsPressed:{background:n.state.pressed}})),[n]),d=(0,a.useCallback)((()=>t(!e)),[e]),c=(0,a.useCallback)((()=>t(!1)),[]),u=(0,i().K8)((()=>(0,D.jsx)(j().A,{icon:A().C,ariaLabel:o.formatMessage(F.offlineIcon),onClick:d,style:s.iconButton,iconStyle:s.icon,hoveredStyle:s.iconHover})),[o,d,s]);return(0,D.jsx)(B().Ay,{origin:u,originGap:2,open:e,onClosed:c,onDismiss:c,popupType:L().n.Popup,placementToOrigin:N().W.Bottom,alignmentToOrigin:N().C.Start,popupWrapStyle:s.popup,render:()=>(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)("div",{style:s.title,children:(0,D.jsx)(l().sA,{id:"offlineIndicator.popup.title",defaultMessage:"No internet connection"})}),(0,D.jsx)(j().A,{ariaLabel:o.formatMessage(F.closeIcon),icon:()=>(0,k().V)(s.closeIcon),style:s.closeButton,hoveredStyle:s.closeHovered,pressedStyle:s.closePressed,onClick:c}),(0,D.jsx)("div",{style:s.subtitle,children:(0,D.jsx)(l().sA,{id:"offlineIndicator.popup.subtitle",defaultMessage:"Return online for full access, or manage your offline settings."})}),(0,D.jsx)("div",{style:s.settingsButtonContainer,children:(0,D.jsx)(P().A,{style:s.settingsButton,hoveredStyle:s.settingsHover,pressedStyle:s.settingsPressed,size:"sm",onClick:()=>{R().A.setState({open:!0,openedFrom:"sidebar_offline_indicator",currentTab:"offline",defaultSubtab:void 0,highlightedSetting:void 0}),c()},children:(0,D.jsx)(l().sA,{id:"offlineIndicator.popup.manageOfflinePagesButton",defaultMessage:"Manage offline pages"})})})]}),trapFocus:!0})}let E=function(e){return e[e.Regular=0]="Regular",e[e.DesktopMac=1]="DesktopMac",e[e.Mobile=2]="Mobile",e}({});const U=300,V={[E.Regular]:s().$C-8,[E.DesktopMac]:s().Uu,[E.Mobile]:"auto"},K={display:"flex",alignItems:"center",minWidth:0,height:"100%",width:"100%"},W=o(757695).Store.createClass(!1,{name:"SidebarSwitcherIsHoveredStore"});const z=function(e){let{shouldShowUnexpandButton:t,shouldShowCreatePageButton:s,disabled:k,format:A,buttonStyle:T,redirectURL:I,disableLoginLink:j,onSpaceClick:P,hideEmail:B,shouldShowCreateOrJoinWorkspaceButtonInFooter:N=!1}=e;const L=(0,n().v3)(),R=(0,i().uB)(void 0,W),F=(0,i().uB)(void 0,o(791627).A),E=(0,i().uB)(void 0,o(20489).A),{isTablet:z}=(0,n().Y0)(),{currentSpaceStore:G,currentUserStore:Y}=(0,i().K8)((()=>{const{currentSpaceStore:e,currentUserStore:t}=f().default.state;return{currentSpaceStore:e,currentUserStore:t}}),[]),q=(0,i().K8)((()=>{const{mainEditorCurrentBlockStore:e}=f().default.state;return null==e?void 0:e.getSpaceStore()}),[]),J=L.currentUser.loggedInUserIds,$=(0,i().K8)((()=>{if(!B)return J.length>1?null==Y?void 0:Y.getEmail():void 0}),[J,Y,B]),Z=(0,i().O$)(R),Q=(0,i().K8)((()=>o(846955).default.isTutorialStepActive("create_page_sidebar")&&s),[s]),{organizationsInfo:X}=(0,o(926938).q)(),{spaceInfo:ee}=function(e){const{userId:t}=e,o=(0,n().v3)(),a=(0,i().K8)((()=>t?y().A.getSpaceViewStores(o,t):[]),[o,t]),r=(0,i().K8)((()=>a.map((e=>e.getSpaceStore())).filter(x().O9)),[a]),s=(0,i().K8)((()=>t?r.map((e=>{const o=(0,C().dp)(e,t).isWorkspaceOwner(),a="enterprise"===e.getSubscriptionTier();if(o&&a)return e})).filter(x().O9):[]),[r,t]),[{value:l,status:d}]=(0,S().Yb)((async()=>(await(0,_().lX)(s,10,(e=>{const t=e.id;return w().callApi({eventName:"getOrganizationOnboardingInfo",environment:o,data:{spaceId:t}}).then((a=>{if("success"===a.type)return"ineligible"===a.data.result.onboardingStatus||"completed"===a.data.result.onboardingStatus?void 0:{spaceId:t,spaceName:(0,M().GK)(o,e)}}))}))).filter(x().O9)),[o,s]);return{spaceInfo:l??[],isLoading:"resolved"!==d}}({userId:L.currentUser.id}),te=(0,a.useMemo)((()=>({organizationsInfo:X,spaceInfo:ee})),[X,ee]),oe=(0,i().uB)(void 0,o(986229).A),ae=(0,i().K8)((()=>oe.state.modalOpen),[oe]),ne=(0,o(722038).y)(),ie=(0,i().O$)(o(227440).e),re=(0,r().IS)((e=>({popup:{...g().A.isMobile?{}:{width:U,overflow:"hidden"}},button:{...K,height:V[A],marginLeft:4,marginRight:4,marginTop:g().A.isMobile?0:4,width:"calc(100% - 8px)",borderRadius:4,marginBottom:$?g().A.isMobile?0:8:0,padding:0,...T},spaceName:{marginLeft:0},hoveredStyle:{background:e.sidebarItemSelectedBackground},unexpand:{borderRadius:4,width:28,height:28,marginRight:4},unexpandHover:{fill:e.text.primary,background:e.sidebarItemSelectedBackground},rightButtonsContainer:{display:"flex",alignItems:"center",height:"100%",marginLeft:"auto",marginRight:0},rightButtons:{alignItems:"center",display:"inline-flex",marginRight:2,gap:2}})),[$,T,A]),se=async()=>o(869562).quickAddPage({environment:L,from:"home_checklist"}),le=(0,a.useCallback)((()=>{const e=(0,l().YK)({invitingMembers:{id:"sidebarSwitcherMultiAccount.inviteMember.loadingMessage",defaultMessage:"Updating…"}});c().m({message:e.invitingMembers})}),[]),de=(0,a.useCallback)(((e,t)=>{c().V();const a=e?(0,D.jsx)(l().sA,{id:"sidebarSwitcherMultiAccount.inviteMember.successToastMessage",defaultMessage:"Successfully sent"}):(0,D.jsx)(l().sA,{id:"sidebarSwitcherMultiAccount.inviteMember.failureToastMessage",defaultMessage:"Failed to send invites"});o(436572).D6({label:a})}),[]),ce=G||q;if(!ce||!Y)return null;const ue=Boolean(k)||Q;return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(p().Ay,{popupType:g().A.isMobile?p().z7.SlideUp:p().z7.Popup,buttonPopupStore:v().A,renderOrigin:()=>(0,D.jsxs)(o(704152).A,{style:re.button,onClick:()=>function(e){v().A.setState({...v().A.state,open:!0}),d().PL(e),e.currentUser.loggedInUserIds.forEach((t=>{y().A.getSpaceViewStores(e,t).forEach((o=>{const a=o.getSpaceId();a&&(u().Z({environment:e,spaceId:a,userId:t}),(0,m().Qn)()?b().q.fetchUnfetchedTeams({userId:t,spaceId:a,teamTypes:new Set(["Joined"]),environment:e,callGetTeamsV2ApiFn:m().FK}):h().J({environment:e,spaceId:a,userId:t}))}))}))}(L),disabled:ue,className:o(38337).eGX,hovered:Z,hoveredStyle:re.hoveredStyle,ignoreLocalHoverState:!0,onMouseEnter:()=>R.setState(!0),onMouseLeave:()=>R.setState(!1),children:[(0,D.jsx)(o(771660).A,{isMobile:H(A),spaceStore:ce,activeUserEmailAddress:$,showExpand:!ue,type:"store",style:re.spaceName}),(0,D.jsx)("div",{style:re.rightButtonsContainer,children:(0,D.jsxs)("div",{style:re.rightButtons,children:[t&&(0,D.jsx)(o(277201).I,{style:re.unexpand,hoveredStyle:re.unexpandHover}),ne&&!ie?(0,D.jsx)(O,{}):null,!z&&s&&(0,D.jsx)(o(998109).n,{step:"create_page_sidebar",isFullWidth:!1,onNextButtonClick:se,wrapperStyle:{display:"flex"},children:(0,D.jsx)(o(205809).A,{from:"sidebar_new_page_button"})})]})})]}),originGap:0,disableMutationObserver:!0,forceInitialInbound:!0,style:re.popup,render:e=>(0,D.jsx)(o(362749).UL,{permissionsInviteStore:oe,parent:e,redirectURL:I,disableLoginLink:j,onSpaceClick:P,loginStore:E,loginPermissionsStore:F,organizationEntryPointProps:te,shouldShowCreateOrJoinWorkspaceButtonInFooter:N})}),ae&&(0,D.jsx)(o(347930).H,{store:ce,permissionsInviteStore:oe,origin:(0,D.jsx)(D.Fragment,{}),membersOnly:!0,shouldGrow:!1,disabled:!1,isSubscribed:!1,upgradeButtonName:"space_permission_settings",onInviteClick:le,onInviteComplete:de,analyticsFrom:"space_switcher_invite_button"}),(0,D.jsx)(o(562866).cx,{store:ce,origin:(0,D.jsx)(D.Fragment,{}),analyticsFrom:"space_switcher_add_members"})]})};function H(e){return e===E.Mobile}},578194:(e,t,o)=>{o.d(t,{r:()=>a});const a=(0,o(583835).Dv)("importEvernote")},582094:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,personCropCircleBadgePlusIcon:()=>i});o(296540);var a=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"0.5 2.37 17.12 17.13",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 5.992 7.45q.197-.587.228-1.23a6.4 6.4 0 0 0 4.454-.62c-.547-1.049-1.697-1.789-3.05-1.789a3.55 3.55 0 0 0-1.739.45q-.241-.587-.626-1.081A4.8 4.8 0 0 1 10 12.561c1.754 0 3.298.934 4.087 2.332A6.375 6.375 0 1 0 3.78 11.406q-.643.032-1.23.227A7.7 7.7 0 0 1 2.375 10"}),(0,a.jsx)("path",{d:"M4 12.5a3.5 3.5 0 0 0-1.137.189A3.502 3.502 0 0 0 4 19.5a3.5 3.5 0 1 0 0-7m-2.594 3.531c0-.345.28-.625.625-.625h1.375v-1.375a.625.625 0 0 1 1.25 0v1.375h1.375a.625.625 0 0 1 0 1.25H4.656v1.375a.625.625 0 1 1-1.25 0v-1.375H2.031a.625.625 0 0 1-.625-.625m6.349-9.862C8.277 5.519 9.05 5.125 10 5.125s1.723.393 2.245 1.044c.51.635.75 1.474.75 2.346s-.24 1.71-.75 2.346c-.522.65-1.294 1.044-2.245 1.044-.95 0-1.723-.394-2.245-1.044-.51-.635-.75-1.474-.75-2.346s.24-1.711.75-2.346m.975.782c-.293.365-.475.909-.475 1.564s.182 1.198.475 1.564c.281.35.694.576 1.27.576s.989-.226 1.27-.576c.294-.366.475-.909.475-1.564s-.181-1.199-.475-1.564c-.281-.35-.693-.576-1.27-.576-.576 0-.989.225-1.27.576"})]})},i=(0,o(340498).wt)("personCropCircleBadgePlus",n)},587989:(e,t,o)=>{o.d(t,{b:()=>h,c:()=>v});o(898992),o(672577);var a=o(296540),n=()=>o(56366),i=()=>o(959013),r=()=>o(251126),s=()=>o(939740),l=()=>o(64e3),d=()=>o(89924),c=()=>o(361330),u=()=>o(188669),p=()=>o(284371),g=o(474848);function m(e){let{loading:t,menuListItemProps:a}=e;const n=(0,o(484714).v3)(),{isMobile:r}=n.device,s=(0,o(401497).IS)((e=>({button:{display:"flex",flexDirection:"row",alignItems:"center",color:e.text.tertiary,...r?{fontSize:p().J.UIRegular.mobile,lineHeight:p().K_.UIRegular.mobile,padding:4}:{fontSize:p().J.UIRegular.desktop,lineHeight:p().K_.UIRegular.desktop,margin:"0px 4px 4px",padding:4,borderRadius:4}},icon:{width:14,height:14,marginRight:8,marginLeft:8,fill:e.icon.tertiary},loadingSpinner:{marginLeft:8}})),[r]);return(0,g.jsxs)(o(704152).A,{style:s.button,...a,children:[(0,o(158359).P)(s.icon),(0,g.jsx)(i().sA,{defaultMessage:"Load more",id:"moveToMenu.loadMoreButtonTitle"}),t?(0,g.jsx)(o(331542).A,{size:"sm",style:s.loadingSpinner}):void 0]})}const f=a.memo(m),b=1e3;function h(e){let{query:t,spaceId:o,menuListStore:i,requestStore:s,getAutocompleteItems:l}=e;const d=(0,n().K8)((()=>s.state.loading),[s]),p=(0,n().K8)((()=>u().Ay.state.isOpen&&u().Ay.state.canLoadMore),[]),m=(0,a.useCallback)((async()=>{!u().Ay.state.isOpen||u().Ay.state.queryLimit>=b||(u().Ay.setState({...u().Ay.state,queryLimit:u().Ay.state.queryLimit+20}),await s.refresh())}),[s]);return(0,g.jsx)(r().A,{request:{query:t,spaceId:o},render:(e,o)=>(0,g.jsx)(v,{sections:o,error:e,menuListStore:i,initialFocus:Boolean(t)?0:void 0,loading:d,canLoadMore:p,onLoadMore:m}),requestStore:s,debounce:c().tu,performRequest:l})}function v(e){let{sections:t,error:o,menuListStore:n,initialFocus:r,onLoadMore:c,canLoadMore:u,loading:p}=e;const m=(0,a.useMemo)((()=>u&&(null==t?void 0:t.find((e=>"pages"===e.key)))),[u,t]);if(o)return(0,g.jsx)(d().A,{children:(0,g.jsx)(l().A,{title:(0,g.jsx)(i().sA,{defaultMessage:"Something went wrong.",id:"moveBlockMenu.errorOnMove.label"})})});if(t&&0===t.length)return(0,g.jsx)(d().A,{children:(0,g.jsx)(l().A,{title:(0,g.jsx)(i().sA,{defaultMessage:"No results",id:"moveBlockMenu.noResults.label"})})});const b=[...t||[],...m?[{key:"moveTo load more section",render:e=>(0,g.jsx)(d().A,{disableDesktopPadding:!0,...e}),items:[{key:"moveTo load more button",render:e=>(0,g.jsx)(f,{menuListItemProps:e,loading:p}),action:c}]}]:[]];return(0,g.jsx)("div",{children:(0,g.jsx)(s().Ay,{type:s().Oh.Vertical,initialFocus:r,sections:b,store:n})})}},599500:(e,t,o)=>{o.d(t,{g:()=>v});o(296540);var a=()=>o(484714),n=()=>o(56366),i=()=>o(401497),r=()=>o(101847),s=()=>o(959013),l=()=>o(512062),d=()=>o(704152),c=()=>o(460292),u=()=>o(554509),p=()=>o(859428),g=()=>o(640653),m=()=>o(58293),f=()=>o(962730),b=()=>o(10984),h=o(474848);function v(e){let{onClick:t,showIcon:o=!0}=e;const i=S(o),r=(0,a().v3)(),l=(0,m().r)(),c=(0,n().K8)((()=>l&&(0,g().GK)(r,l)),[r,l]),v=(0,n().K8)((()=>(0,b().AI)()),[]);return void 0===t?(0,h.jsx)("div",{style:{...i.badge,cursor:"default"},children:(0,h.jsx)(y,{showIcon:o})}):(0,h.jsx)(p().A,{placement:f().W.Bottom,style:i.tooltip,render:e=>(0,h.jsx)(d().A,{onClick:t,style:{...i.badge,cursor:"pointer"},hoveredStyle:i.badgeHover,pressedStyle:i.badgePressed,...e,children:(0,h.jsx)(y,{showIcon:o})}),renderTooltip:()=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(u().D,{styleName:"UISmall-12px/Medium",colorName:"contrastPrimary",children:(0,h.jsx)(s().sA,{id:"trialBadge.tooltip.title",defaultMessage:"{hasSpaceName, select, true {{spaceName}} other {Your workspace}} is on a free {planName, select, plus {Plus} business {Business} enterprise {Enterprise} other {}} trial",values:{hasSpaceName:Boolean(c),spaceName:c,planName:v}})}),(0,h.jsx)(u().D,{styleName:"UISmall-12px/Regular",colorName:"contrastSecondary",children:(0,h.jsx)(s().sA,{id:"trialBadge.tooltip.description",defaultMessage:"Click to learn more"})})]}),textWrap:!0})}function y(e){let{showIcon:t}=e;const o=S(t);return(0,h.jsxs)(h.Fragment,{children:[t?(0,h.jsx)("span",{style:o.giftIcon,children:(0,h.jsx)(c().Q,{iconGroup:r().T,variantName:"mini",colorName:"orangePrimary"})}):null,(0,h.jsx)(u().D,{styleName:"UISmall-12px/Medium",children:(0,h.jsx)(s().sA,{id:"trialBadge.title",defaultMessage:"Free trial"})})]})}function S(e){return(0,i().IS)((t=>({badge:{display:"flex",flexDirection:"row",gap:4,justifyContent:"center",alignItems:"center",color:t.icon.orangePrimary,background:t.fill.orangeSecondary,padding:e?"0px 6px 0px 4px":"0px 6px",height:e?22:20,borderRadius:6,width:"fit-content"},badgeHover:{background:l().M[t.mode].orange[100]},badgePressed:{background:l().M[t.mode].orange[200]},tooltip:{maxWidth:"240px",width:"max-content",display:"flex",padding:"4px 6px",flexDirection:"column",alignItems:"flex-start",gap:2,borderRadius:4},giftIcon:{paddingBottom:1}})),[e])}},606982:(e,t,o)=>{o.d(t,{A:()=>i});var a=()=>o(10123),n=()=>o(570551);function i(e,t){(0,n().A)(2,arguments);var o=(0,a().A)(e),i=(0,a().A)(t),r=o.getTime()-i.getTime();return r<0?-1:r>0?1:r}},608581:(e,t,o)=>{o.d(t,{A:()=>u});o(898992),o(354520),o(581454),o(941795);var a=o(296540),n=()=>o(401497),i=()=>o(955825),r=()=>o(284371),s=()=>o(780054),l=()=>o(963575),d=o(474848);function c(e){const{button:t,isLast:o}=e,s=(0,n().IS)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:r().Wy.medium,borderRight:`1px solid ${e.regularDividerColor}`,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor},buttonLast:{borderRight:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return a.cloneElement(t,{...(0,i().AH)(t.props.style,s.button,o&&s.buttonLast),hoveredStyle:(0,i().AH)(s.buttonHovered,o&&s.buttonLast).style,pressedStyle:s.buttonPressed})}const u=function(e){let{children:t,isVisible:u,position:p,style:g}=e;const m=(0,n().IS)((e=>({container:{color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.shadowSM,display:"flex",whiteSpace:"nowrap",borderRadius:l().A.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:s().A.isMobile?"auto":"none",opacity:s().A.isMobile?1:0,fontFamily:r().vc(o(662303).locale).sans,position:"absolute",right:l().A.horizontal.small,bottom:l().A.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:l().A.vertical.small,bottom:void 0}})),[]),f=a.Children.toArray(t).filter(o(534177).O9),b=f.length;return(0,d.jsx)(o(145214).A,{animate:{opacity:u?1:0},...(0,i().AH)(m.container,g,u&&m.containerHover,"top"===p&&m.containerTop),children:f.map(((e,t)=>{const n=t===b-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===o(859428).A&&a.isValidElement(e))return a.cloneElement(e,{render:(t,o)=>{const a=e.props.render(t,o);return(0,d.jsx)(c,{isLast:n,button:a},e.key)}});if(e.type===o(704152).A&&a.isValidElement(e))return(0,d.jsx)(c,{isLast:n,button:e},e.key)}}))})}},610101:(e,t,o)=>{o.d(t,{A:()=>n});class a extends(()=>o(757695))().Store{getInitialState(){return!1}}const n=new a},612900:(e,t,o)=>{o.d(t,{u:()=>i});var a=()=>o(645873);const n=new(a().O2)("PulsingWrapper",(async()=>o.e(45248).then(o.bind(o,673962)))),i=(0,a().jQ)(n,(e=>e.PulsingWrapper),{renderLoading:(e,t)=>t.children})},667193:(e,t,o)=>{o.d(t,{p:()=>r});var a=()=>o(484714),n=()=>o(56366),i=()=>o(186445);function r(){const e=(0,a().v3)();return(0,n().O$)((0,i().rp)(e))}},671467:(e,t,o)=>{o.d(t,{e:()=>i});var a=()=>o(56366),n=()=>o(765957);function i(){const e=(0,a().K8)((()=>n().default.state.currentUserSettingsStore),[]),t=(0,a().K8)((()=>null==e?void 0:e.getSettings()),[e]);return Boolean(null==t?void 0:t.page_verification_tooltip_dismissed_at)}},677169:(e,t,o)=>{o.d(t,{f:()=>c,m:()=>d});o(898992),o(354520),o(672577),o(737550);var a=o(296540),n=()=>o(56366),i=()=>o(617871),r=()=>o(765957),s=()=>o(217429),l=()=>o(53137);function d(){const e=(0,a.useRef)(void 0);return(0,n().K8)((()=>{if(void 0===e.current){if(!s().default.isStatsigReady())return{loading:!0,botId:void 0,botSpaceId:void 0,botUserId:void 0};e.current=s().default.checkGate({gateName:"calendar_home_tile_caching"})}return e.current?c():function(){var e,t,o;const a=l().A.bots.state.filter((e=>e.integration_id===i().io)),n=null===(e=r().default.state.currentSpaceViewStore)||void 0===e?void 0:e.getSelectedCalendarBotId(),s=!l().A.state.loaded||!(null!==(t=r().default.state.currentSpaceViewStore)&&void 0!==t&&t.isReady()),{spaceId:d,userId:c}=l().A.state.loaded?l().A.state:{spaceId:void 0,userId:void 0},u=null===(o=a[0])||void 0===o?void 0:o.id;if(!n)return{loading:s,botId:u,botSpaceId:d,botUserId:c};const p=a.find((e=>e.id===n));return{loading:s,botId:(null==p?void 0:p.id)??u,botSpaceId:d,botUserId:c}}()}),[])}function c(){var e;const{currentSpaceViewStore:t}=r().default.state;if(!t||!t.isReady())return{loading:!0,botId:void 0,botSpaceId:void 0,botUserId:void 0};const o=t.getSelectedCalendarBotId();if(o&&!l().A.state.loaded)return{loading:!1,botId:o,botSpaceId:t.getSpaceId(),botUserId:t.getUserId()};const{spaceId:a,userId:n}=l().A.state.loaded?l().A.state:{spaceId:void 0,userId:void 0},s=l().A.bots.state.filter((e=>e.integration_id===i().io)),d=null===(e=s[0])||void 0===e?void 0:e.id,c=o&&s.some((e=>e.id===o))?o:d;return{loading:!l().A.state.loaded||l().A.state.loading,botId:c,botSpaceId:a,botUserId:n}}},681810:(e,t,o)=>{o.d(t,{A:()=>a});const a=new(o(867772).Ay)},701545:(e,t,o)=>{o.d(t,{p:()=>n});o(296540);var a=o(474848);const n=(0,o(340498).wt)("checkMarkLine",{viewBox:"0 0 16 16",svg:(0,a.jsx)("path",{d:"M6.79297 13.2871C6.48047 13.2871 6.21484 13.1523 5.99609 12.8828L2.96094 9.14453C2.875 9.04297 2.8125 8.94336 2.77344 8.8457C2.73828 8.74805 2.7207 8.64648 2.7207 8.54102C2.7207 8.30664 2.79883 8.11328 2.95508 7.96094C3.11133 7.80859 3.30859 7.73242 3.54688 7.73242C3.81641 7.73242 4.04297 7.84766 4.22656 8.07812L6.76953 11.3008L11.7324 3.4375C11.834 3.28125 11.9395 3.17188 12.0488 3.10938C12.1582 3.04297 12.2949 3.00977 12.459 3.00977C12.6973 3.00977 12.8926 3.08398 13.0449 3.23242C13.1973 3.38086 13.2734 3.57031 13.2734 3.80078C13.2734 3.89453 13.2578 3.98828 13.2266 4.08203C13.1953 4.17578 13.1465 4.27344 13.0801 4.375L7.5957 12.8594C7.4082 13.1445 7.14062 13.2871 6.79297 13.2871Z"})})},701751:(e,t,o)=>{o.d(t,{p:()=>i});o(296540);var a=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"3.97 1.94 14.91 15.66",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M10.55 12.808a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 1 0 1.1 0z"}),(0,a.jsx)("path",{d:"M15.4 1.95a3.48 3.48 0 0 0-3.48 3.48v1.92H6.4a2.425 2.425 0 0 0-2.425 2.425v5.4A2.425 2.425 0 0 0 6.4 17.6h7.2a2.425 2.425 0 0 0 2.425-2.425v-5.4A2.425 2.425 0 0 0 13.6 7.35h-.43V5.43a2.23 2.23 0 1 1 4.46 0v2.095a.625.625 0 1 0 1.25 0V5.43a3.48 3.48 0 0 0-3.48-3.48M5.225 9.775c0-.649.526-1.175 1.175-1.175h7.2c.649 0 1.175.526 1.175 1.175v5.4c0 .649-.526 1.175-1.175 1.175H6.4a1.175 1.175 0 0 1-1.175-1.175z"})]})},i=(0,o(340498).wt)("lockOpen",n)},708936:(e,t,o)=>{o.d(t,{E:()=>n});o(296540);var a=o(474848);const n=(0,o(340498).wt)("sidebarTeamspaces",{viewBox:"0 0 20 20",svg:(0,a.jsx)("path",{d:"M12.2399 16.1387V14.8555H14.9378C15.0316 14.8555 15.1019 14.832 15.1488 14.7852C15.1957 14.7383 15.2191 14.668 15.2191 14.5742V7.93555C15.2191 7.83789 15.1957 7.76562 15.1488 7.71875C15.1019 7.67188 15.0316 7.64844 14.9378 7.64844H12.6559V6.36523H15.2718C15.6585 6.36523 15.9593 6.48438 16.1742 6.72266C16.3929 6.95703 16.5023 7.28125 16.5023 7.69531V14.8086C16.5023 15.2227 16.3929 15.5469 16.1742 15.7812C15.9593 16.0195 15.6585 16.1387 15.2718 16.1387H12.2399ZM3.49774 14.8086V4.74219C3.49774 4.32812 3.60712 4.00391 3.82587 3.76953C4.04462 3.53125 4.34735 3.41211 4.73407 3.41211H12.1345C12.5212 3.41211 12.822 3.53125 13.0368 3.76953C13.2556 4.00391 13.3649 4.32812 13.3649 4.74219V14.8086C13.3649 15.2227 13.2556 15.5469 13.0368 15.7812C12.822 16.0195 12.5212 16.1387 12.1345 16.1387H4.73407C4.34735 16.1387 4.04462 16.0195 3.82587 15.7812C3.60712 15.5469 3.49774 15.2227 3.49774 14.8086ZM4.78094 14.5742C4.78094 14.668 4.80438 14.7383 4.85126 14.7852C4.89813 14.832 4.96844 14.8555 5.06219 14.8555H11.8005C11.8942 14.8555 11.9645 14.832 12.0114 14.7852C12.0583 14.7383 12.0817 14.668 12.0817 14.5742V4.97656C12.0817 4.88281 12.0583 4.8125 12.0114 4.76562C11.9645 4.71875 11.8942 4.69531 11.8005 4.69531H5.06219C4.96844 4.69531 4.89813 4.71875 4.85126 4.76562C4.80438 4.8125 4.78094 4.88281 4.78094 4.97656V14.5742ZM6.30438 15.4766V13.1797C6.30438 12.9297 6.36493 12.7422 6.48602 12.6172C6.60712 12.4883 6.7829 12.4238 7.01337 12.4238H9.8493C10.0876 12.4238 10.2653 12.4883 10.3825 12.6172C10.5036 12.7422 10.5641 12.9297 10.5641 13.1797V15.4766H9.58563V13.543C9.58563 13.4219 9.52704 13.3613 9.40985 13.3613H7.45868C7.34149 13.3613 7.2829 13.4219 7.2829 13.543V15.4766H6.30438ZM6.5329 7.20312C6.38446 7.20312 6.31024 7.12695 6.31024 6.97461V5.90234C6.31024 5.74609 6.38446 5.66797 6.5329 5.66797H7.63446C7.79071 5.66797 7.86884 5.74609 7.86884 5.90234V6.97461C7.86884 7.12695 7.79071 7.20312 7.63446 7.20312H6.5329ZM9.23407 7.20312C9.08173 7.20312 9.00555 7.12695 9.00555 6.97461V5.90234C9.00555 5.74609 9.08173 5.66797 9.23407 5.66797H10.3298C10.4821 5.66797 10.5583 5.74609 10.5583 5.90234V6.97461C10.5583 7.12695 10.4821 7.20312 10.3298 7.20312H9.23407ZM6.5329 9.40039C6.38446 9.40039 6.31024 9.32227 6.31024 9.16602V8.09375C6.31024 7.9375 6.38446 7.85938 6.5329 7.85938H7.63446C7.79071 7.85938 7.86884 7.9375 7.86884 8.09375V9.16602C7.86884 9.32227 7.79071 9.40039 7.63446 9.40039H6.5329ZM9.23407 9.40039C9.08173 9.40039 9.00555 9.32227 9.00555 9.16602V8.09375C9.00555 7.9375 9.08173 7.85938 9.23407 7.85938H10.3298C10.4821 7.85938 10.5583 7.9375 10.5583 8.09375V9.16602C10.5583 9.32227 10.4821 9.40039 10.3298 9.40039H9.23407ZM6.5329 11.5918C6.38446 11.5918 6.31024 11.5137 6.31024 11.3574V10.2852C6.31024 10.1289 6.38446 10.0508 6.5329 10.0508H7.63446C7.79071 10.0508 7.86884 10.1289 7.86884 10.2852V11.3574C7.86884 11.5137 7.79071 11.5918 7.63446 11.5918H6.5329ZM9.23407 11.5918C9.08173 11.5918 9.00555 11.5137 9.00555 11.3574V10.2852C9.00555 10.1289 9.08173 10.0508 9.23407 10.0508H10.3298C10.4821 10.0508 10.5583 10.1289 10.5583 10.2852V11.3574C10.5583 11.5137 10.4821 11.5918 10.3298 11.5918H9.23407Z"})})},710857:(e,t,o)=>{o.d(t,{x:()=>n});const a={greeting:!0,tasks:!1,tips:!1,templates:!1,calendar:!1,custom_db:!1,suggested:!0,trending:!0};function n(e){const t=(null==e?void 0:e.getHomeEnabledFeatures())??{};return{...a,...t}}},725340:(e,t,o)=>{o.d(t,{U:()=>i});o(296540);var a=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"2.72 1.77 17.28 16.45",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M10.302 1.853a.63.63 0 0 0-.604 0l-6.65 3.669c-.2.11-.323.32-.323.547v7.862c0 .228.124.437.323.547l6.65 3.67a.63.63 0 0 0 .604 0l2.801-1.546a4.6 4.6 0 0 1-.713-1.034l-1.765.973v-6.434l5.4-2.98v1.797a4.7 4.7 0 0 1 1.25.04V6.07a.63.63 0 0 0-.323-.547zM3.975 7.127l5.4 2.98v6.434l-5.4-2.98zM15.356 6.07 10 9.024 4.644 6.069 10 3.114z"}),(0,a.jsx)("path",{d:"M13.592 15.449a3.5 3.5 0 1 1 5.815-3.897 3.5 3.5 0 0 1-5.815 3.897M16.5 11.03a.5.5 0 0 0-.5.5v2.031a.5.5 0 0 0 1 0v-2.03a.5.5 0 0 0-.5-.5m0 5a.625.625 0 1 0 0-1.25.625.625 0 0 0 0 1.25"})]})},i=(0,o(340498).wt)("blockLimit",n)},734164:(e,t,o)=>{o.d(t,{I:()=>G});var a=o(296540),n=()=>o(484714),i=()=>o(56366),r=()=>o(401497),s=()=>o(381349),l=()=>o(496603),d=()=>o(620689),c=()=>o(244641),u=()=>o(959013),p=()=>o(751156),g=()=>o(755199),m=()=>o(962730),f=()=>o(765957),b=()=>o(191197),h=()=>o(846955),v=o(474848);const y=function(e){let{type:t,step:i,trackingFrom:s,onDismiss:l,style:d,onNextButtonClick:c,onPrevButtonClick:u,...p}=e;const g=(0,r().IS)((e=>({tooltipStyle:{marginLeft:6,...d}})),[d]),m=(0,n().v3)(),f=a.useRef(!1),[y,S,_]=(0,o(875464).Jg)(t,i);a.useEffect((()=>{f.current||(f.current=!0,b().i(m,{from:s}))}),[m,s]);const x=a.useCallback((()=>{var e,o;(null==c||c(),null===_)?(null===(e=(o=h().default.state).onCompleteOrClose)||void 0===e||e.call(o),h().default.setState({type:"inactive"})):h().default.setState({...h().default.state,type:t,step:_})}),[t,_,c]),w=a.useCallback((()=>{S&&(h().default.setState({...h().default.state,type:t,step:S}),null==u||u())}),[t,S,u]),M=a.useCallback((()=>{var e,t;null==l||l(),null===(e=(t=h().default.state).onCompleteOrClose)||void 0===e||e.call(t),h().default.setState({type:"inactive"}),b().z(m,{from:s})}),[m,l,s]);return(0,v.jsx)(o(953006).k,{pointerDotSize:0,pointerLength:0,style:g.tooltipStyle,headerStyle:{display:"block"},onCloseClick:M,numSteps:y.length,currStepIndex:y.indexOf(i),onPrimaryButtonClick:x,onSkipButtonClick:M,onBackButtonClick:S?w:void 0,...p})};function S(e){let{type:t,contentRef:o}=e;const i=(0,n().v3)(),s=a.useCallback((()=>function(e){const{currentUserSettingsStore:t}=f().default.state;if(!t)return;h().default.setState({type:"inactive"}),p().createAndCommit({userAction:"PageVerificationTourTooltip.markPageVerificationTooltipAsSeen",environment:e,canUndo:!0,perform:e=>{g().mJ({userSettingsStore:t,transaction:e,data:{page_verification_tooltip_dismissed_at:c().c9.now().toMillis()}})}})}(i)),[i]),l=(0,r().IS)((()=>({tooltipStyle:{marginTop:4,width:280}})),[]);return(0,v.jsx)(y,{placementToOrigin:"bottom",alignmentToOrigin:m().C.Center,origin:o,style:l.tooltipStyle,header:(0,v.jsx)(u().sA,{id:"PageVerificationTourTooltip.header",defaultMessage:"Verified docs you can trust"}),content:(0,v.jsx)(u().sA,{id:"PageVerificationTourTooltip.content",defaultMessage:"Mark any Notion page as verified, so team members find up-to-date into. Hover above the page title to add this badge to any page."}),type:t,onDismiss:s,skipButtonContent:null,finalButtonContent:(0,v.jsx)(u().sA,{id:"PageVerificationTourTooltip.tryItNowButton",defaultMessage:"Try it now"}),onNextButtonClick:s,step:"verify_page",trackingFrom:"sidebar_tour_home"})}var _=()=>o(347199),x=()=>o(747651),w=()=>o(779181),M=()=>o(449552),C=()=>o(806411),k=()=>o(441977),A=()=>o(281419),T=()=>o(708936),I=()=>o(81271),j=()=>o(926329),P=()=>o(8980),B=()=>o(59424),N=()=>o(806638),L=()=>o(694874);function R(e){const{style:t}=e,o=(0,r().IS)((e=>({tooltipStyle:{marginLeft:6,...t}})),[t]);return(0,v.jsx)(y,{...e,style:o.tooltipStyle,placementToOrigin:"right",alignmentToOrigin:m().C.Start})}const D={width:20,height:20,marginBottom:8};function F(e){let{type:t,contentRef:o}=e;return(0,v.jsx)(R,{origin:o,header:(0,v.jsxs)(v.Fragment,{children:[(0,x().x)(D),(0,v.jsx)(u().sA,{id:"TeamCreatorWelcomeTooltip.header",defaultMessage:"Welcome to your workspace"})]}),content:(0,v.jsx)(u().sA,{id:"TeamCreatorWelcomeTooltip.content",defaultMessage:"A workspace is a virtual home to create, organize, and share content"}),skipButtonContent:(0,v.jsx)(u().sA,{id:"TeamCreatorWelcomeTooltip.skipButton",defaultMessage:"Skip"}),style:{width:300},type:t,step:"welcome",trackingFrom:"sidebar_tour_welcome"})}function O(e){let{type:t,contentRef:o}=e;return(0,v.jsx)(R,{origin:o,header:(0,v.jsxs)(v.Fragment,{children:[(0,A().b)(D),(0,v.jsx)(u().sA,{id:"TeamCreatorActionsTooltip.header",defaultMessage:"Get around with your sidebar"})]}),content:(0,v.jsx)(u().sA,{id:"TeamCreatorActionsTooltip.content",defaultMessage:"Jump to pages, keep track of work, and access workspace settings"}),style:{width:300,marginLeft:4},type:t,step:"actions",trackingFrom:"sidebar_tour_actions"})}function E(e){let{type:t,contentRef:o}=e;const a=(0,n().v3)(),r=(0,i().K8)((()=>(0,B().isWorkflowTemplatesEnabledForOnboarding)(a)),[a]);return(0,v.jsx)(R,{origin:o,header:(0,v.jsxs)(v.Fragment,{children:[(0,T().E)(D),r?(0,v.jsx)(u().sA,{id:"TeamCreatorTeamspacesTooltip.header.workflow_templates",defaultMessage:"Set up your team’s workflows"}):(0,v.jsx)(u().sA,{id:"TeamCreatorTeamspacesTooltip.header",defaultMessage:"Every team, side-by-side"})]}),content:r?(0,v.jsx)(u().sA,{id:"TeamCreatorTeamspacesTooltip.content.workflow_templates",defaultMessage:"Based on what you told us earlier, we’ve set up some templates to help you get started"}):(0,v.jsx)(u().sA,{id:"TeamCreatorTeamspacesTooltip.content",defaultMessage:"Teamspaces are dedicated spaces to help keep every team’s unique content and workflows organized"}),style:{width:300,marginLeft:12},type:t,step:"teamspaces",trackingFrom:"sidebar_tour_teamspaces",skipButtonContent:r?null:void 0})}function U(e){let{type:t,contentRef:o}=e;return(0,v.jsx)(R,{origin:o,header:(0,v.jsxs)(v.Fragment,{children:[(0,I().F)(D),(0,v.jsx)(u().sA,{id:"TeamCreatorPrebuiltTemplatesTooltip.header",defaultMessage:"Setups to get started"})]}),content:(0,v.jsx)(u().sA,{id:"TeamCreatorPrebuiltTemplatesTooltip.content",defaultMessage:"Get your team started with these ready-to-use, customizable templates"}),style:{width:300},type:t,step:"prebuilt_templates",trackingFrom:"sidebar_tour_prebuilt_templates"})}function V(e){let{type:t,contentRef:o}=e;return(0,v.jsx)(R,{origin:o,header:(0,v.jsxs)(v.Fragment,{children:[(0,M().g)({height:16,width:16,marginBottom:8}),(0,v.jsx)(u().sA,{id:"TeamCreatorPrivateTooltip.header",defaultMessage:"Draft in private"})]}),content:(0,v.jsx)(u().sA,{id:"TeamCreatorPrivateTooltip.content",defaultMessage:"A space for anything you want to work on individually before sharing with others, like notes or tasks"}),style:{width:300,marginLeft:12},type:t,step:"private",trackingFrom:"sidebar_tour_private"})}function K(e){let{type:t,contentRef:o}=e;return(0,v.jsx)(y,{origin:o,header:(0,v.jsxs)(v.Fragment,{children:[(0,C().x)({height:16,width:16,marginBottom:8}),(0,v.jsx)(u().sA,{id:"TeamCreatorAIAssistantTooltip.header",defaultMessage:"Knowledge, answers, ideas with AI"})]}),content:(0,v.jsx)(u().sA,{id:"TeamCreatorAIAssistantTooltip.content",defaultMessage:"More help is always just a click away"}),type:t,style:{width:300,marginRight:8},step:"ai_assistant",trackingFrom:"sidebar_tour_ai_assistant",placementToOrigin:"left",alignmentToOrigin:m().C.Center})}function W(e){let{type:t,contentRef:o}=e;const a=(0,n().v3)();return(0,v.jsx)(R,{origin:o,header:(0,v.jsxs)(v.Fragment,{children:[(0,j().b)(D),(0,v.jsx)(u().sA,{id:"TeamCreatorExploreTemplatesTooltip.header",defaultMessage:"Build anything with templates"})]}),content:(0,v.jsx)(u().sA,{id:"TeamCreatorExploreTemplatesTooltip.content",defaultMessage:"Explore thousands of templates handpicked by our editorial team"}),style:{width:300,marginLeft:12},type:t,step:"explore_templates",trackingFrom:"sidebar_tour_explore_templates",onNextButtonClick:()=>{"explore_community_templates"!==h().default.state.type&&"explore_template_marketplace"!==h().default.state.type||(0,N().P)({environment:a})}})}function z(e){let{type:t,contentRef:o}=e;const i=(0,n().v3)(),r=a.useCallback((()=>(0,L().tL)(i)),[i]);return(0,v.jsx)(R,{origin:o,style:{width:300,marginLeft:12},header:(0,v.jsxs)(v.Fragment,{children:[(0,k().J)(D),(0,v.jsx)(u().sA,{id:"HomeAvailableTooltip.header",defaultMessage:"Your work now has a Home!"})]}),content:(0,v.jsx)(u().sA,{id:"HomeAvailableTooltip.content",defaultMessage:"Jump back into recent projects, docs, and notes. It's all here"}),type:t,onDismiss:r,hideActions:!0,step:"home",trackingFrom:"sidebar_tour_home"})}function H(e){let{type:t,contentRef:o}=e;return(0,v.jsx)(R,{origin:o,header:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(P().I,{icon:w().S,color:"contrast",size:"sm"}),(0,v.jsx)("div",{style:{marginTop:"8px"}}),(0,v.jsx)(u().sA,{id:"InviteMembersTooltip.header",defaultMessage:"Supercharge your Notion"})]}),content:(0,v.jsx)(u().sA,{id:"InviteMembersTooltip.content",defaultMessage:"Invite anyone to work together in one place"}),style:{width:300,marginLeft:12},type:t,step:"invite_members",trackingFrom:"adoption_push_invite"})}function G(e){let{contentRef:t,step:o,showSidebarOverlays:r,onNextButtonClick:s,onBackButtonClick:l,tutorialMetadata:c}=e;const u=(0,i().K8)((()=>h().default.state),[]),p=(0,n().v3)();if(a.useEffect((()=>{(0,h().tourIsActiveInSidebarStep)(h().default.state)&&t.current&&"inactive"!==u.type&&u.step===o&&d().hT({element:t.current,environment:p,scrollerContext:{verticalScroller:_().A.SidebarScroller,horizontalScroller:void 0},vertical:{reveal:"closest"},horizontal:void 0})}),[p,u,o,t]),"inactive"===u.type||u.step!==o)return null;const g={type:u.type,contentRef:t,onNextButtonClick:s,onBackButtonClick:l,tutorialMetadata:c};let m,f=!1;switch(o){case"welcome":m=(0,v.jsx)(F,{...g});break;case"actions":m=(0,v.jsx)(O,{...g});break;case"teamspaces":m=(0,v.jsx)(E,{...g});break;case"prebuilt_templates":m=(0,v.jsx)(U,{...g});break;case"private":m=(0,v.jsx)(V,{...g});break;case"explore_templates":m=(0,v.jsx)(W,{...g});break;case"home":m=(0,v.jsx)(z,{...g}),f=!0;break;case"ai_assistant":m=(0,v.jsx)(K,{...g});break;case"verify_page":m=(0,v.jsx)(S,{...g});break;case"invite_members":m=(0,v.jsx)(H,{...g});break;default:m=null}return(0,v.jsxs)(v.Fragment,{children:[r&&(0,v.jsx)(Y,{contentRef:t,allowClickthrough:f}),m]})}function Y(e){let{contentRef:t,allowClickthrough:o}=e;const[n,i]=a.useState(null);a.useEffect((()=>{var e;const o=l().sg((()=>{var e;i((null===(e=t.current)||void 0===e?void 0:e.getBoundingClientRect())||null)}),50,{leading:!0}),a=new ResizeObserver(o),n=null===(e=_().A.SidebarScroller)||void 0===e?void 0:e.getNode();return n&&a.observe(n),window.addEventListener("resize",o),()=>{a.disconnect(),window.removeEventListener("resize",o)}}),[t]);const d=o?"none":void 0,c=(0,r().IS)((e=>({highlight:{position:"absolute",top:n?n.top:0,left:4,height:n?n.height:0,width:"calc(100% - 8px)",background:"dark"===e.mode?s().Ay.whiteWithAlpha(.05):s().Ay.blackWithAlpha(.05),boxShadow:e.buttonBlueFocusRing,borderRadius:4,pointerEvents:d},topOpacityLayer:{position:"absolute",top:0,height:n?n.top-2:0,width:"100%",zIndex:999,background:e.surface.wash,opacity:.6},bottomOpacityLayer:{position:"absolute",top:n?n.top+n.height+2:void 0,height:n?"100vh":0,width:"100%",zIndex:999,background:e.surface.wash,opacity:.6},interactionGuard:{position:"absolute",top:0,height:n?"100vh":0,width:"100%",zIndex:999,pointerEvents:d}})),[n,d]);return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{style:c.highlight}),(0,v.jsx)("div",{style:c.bottomOpacityLayer}),(0,v.jsx)("div",{style:c.topOpacityLayer}),(0,v.jsx)("div",{style:c.interactionGuard})]})}},747651:(e,t,o)=>{o.d(t,{x:()=>n});o(296540);var a=o(474848);const n=(0,o(340498).wt)("cubeOutline",{viewBox:"0 0 14 16",svg:(0,a.jsx)("path",{d:"M1.01855 11.96C0.694987 11.7777 0.448893 11.568 0.280273 11.3311C0.116211 11.0895 0.0341797 10.7272 0.0341797 10.2441V4.7207C0.0341797 4.35612 0.104818 4.05306 0.246094 3.81152C0.38737 3.56543 0.610677 3.35579 0.916016 3.18262L5.72168 0.489258C6.14551 0.252279 6.57161 0.133789 7 0.133789C7.42839 0.133789 7.85221 0.252279 8.27148 0.489258L13.0771 3.18262C13.3825 3.35579 13.6058 3.56543 13.7471 3.81152C13.8883 4.05306 13.959 4.35612 13.959 4.7207V10.2441C13.959 10.7272 13.877 11.0895 13.7129 11.3311C13.5488 11.568 13.3027 11.7777 12.9746 11.96L7.68359 14.9268C7.22786 15.1774 6.76986 15.1774 6.30957 14.9268L1.01855 11.96ZM1.75684 10.9072L6.36426 13.5117V8.0293L1.25098 5.14453V10.1211C1.25098 10.2988 1.28743 10.4492 1.36035 10.5723C1.43783 10.6953 1.56999 10.807 1.75684 10.9072ZM12.2363 10.9072C12.4232 10.807 12.5531 10.6953 12.626 10.5723C12.7035 10.4492 12.7422 10.2988 12.7422 10.1211V5.14453L7.62891 8.0293V13.5117L12.2363 10.9072ZM7 6.9082L12.0518 4.07812L7.73145 1.64453C7.24837 1.36654 6.75846 1.36654 6.26172 1.64453L1.94824 4.07812L7 6.9082Z"})})},748539:(e,t,o)=>{o.d(t,{f:()=>a});const a=new(o(645873).O2)("pageCovers",(async()=>{const{pageCovers:e}=await o.e(40198).then(o.bind(o,519737));return e}))},751348:(e,t,o)=>{o.d(t,{n:()=>i});var a=()=>o(56366),n=()=>o(303742);function i(e){return(0,a().K8)((()=>(0,n().o)(e)),[e])}},754527:(e,t,o)=>{o.d(t,{Q:()=>v});o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(581454);var a=o(296540),n=()=>o(484714),i=()=>o(56366),r=()=>o(854150),s=()=>o(959013),l=()=>o(629875),d=()=>o(780054),c=()=>o(836251),u=()=>o(963589),p=()=>o(765957),g=()=>o(633892),m=()=>o(998109),f=()=>o(768148),b=()=>o(962877),h=o(474848);function v(e){let{teamStore:t,sidebarState:o,isLastTeam:a,initialToggleState:v,shouldPersistToggleState:S,customToggleStore:_,teamOutlinerType:x,onNavigate:w,sidebarTourStep:M,from:C}=e;const{currentSpaceStore:k,currentSpaceViewStore:A,currentUserSettingsStore:T}=(0,i().K8)((()=>{const{currentSpaceStore:e,currentSpaceViewStore:t,currentUserSettingsStore:o}=p().default.state;return{currentSpaceStore:e,currentSpaceViewStore:t,currentUserSettingsStore:o}}),[]),I=(0,i().uB)(void 0,g().A),j=_??I,P=(0,u().X)("team_feed_as_any_other_db"),B=(0,i().K8)((()=>t.getTeamPagesStores(P)),[t,P]),N=(0,n().v3)(),L=(0,i().K8)((()=>{const e=p().default.state.mainEditorCurrentBlockStore,o=(null==e?void 0:e.getParentTable())===r().yK&&(null==e?void 0:e.getParentId())===t.id;return!d().A.isMobile&&o&&j.state.isHidden}),[t.id,j]),R=(0,i().K8)((()=>L||(0,c().Gn)({teamStore:t,environment:N})),[N,L,t]);return k&&A&&T?(0,h.jsx)(l().Ay,{type:"team",from:"main_sidebar",outlinerToggleButtonStore:j,forceHoveredButtonStyle:L,initialToggleState:v,shouldPersistToggleState:S,teamHeaderLabel:(0,h.jsx)(f().j,{teamStore:t,withSelectedStyle:R}),teamStore:t,spaceStore:k,spaceViewStore:A,showAddButton:!1,isLastTeam:a,teamOutlinerType:x,labelTooltip:(0,h.jsx)(s().sA,{defaultMessage:"One of your teams",id:"sidebar.teamSection.tooltip"}),marginBottomOverrideWhenExpanded:d().A.isMobile?0:16,marginBottomOverrideWhenCollapsed:d().A.isMobile?0:1,renderSidebar:e=>{let{labelAriaId:a,contentsAriaId:n}=e;if(!t)return;const i=new Set(B.map((e=>e.id))),r=(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(y,{teamSectionType:x,sidebarState:o,teamStore:t,onNavigate:w,labelAriaId:a,contentsAriaId:n,from:C}),(0,h.jsx)(b().c,{numTeamPages:i.size,teamStore:t,currentSpaceStore:k})]});return M?(0,h.jsx)(m().n,{step:M,children:r}):r}}):null}const y=a.memo((function(e){const{teamSectionType:t,teamStore:n,sidebarState:i,contentsAriaId:r,onNavigate:s,labelAriaId:l,from:d}=e,c=(0,a.useMemo)((()=>({type:"team",teamSectionType:t,teamStore:n})),[t,n]),u=(0,a.useMemo)((()=>({id:r,"aria-labelledby":l})),[r,l]);return(0,h.jsx)(o(388601).o,{state:c,sidebarState:i,onNavigate:s,additionalOutlinerProps:u,from:d})}))},756114:(e,t,o)=>{o.d(t,{D:()=>a});function a(e,t){t.route.name;return!1}},756581:(e,t,o)=>{o.d(t,{C:()=>d,V:()=>l});var a=()=>o(47170),n=()=>o(249847),i=()=>o(963589),r=()=>o(329304),s=()=>o(722038);function l(){const e=(0,s().y)(),t=(0,i().X)("offline_monetization"),o=(0,a().O)(),l=(0,n().T)(),d=(0,r()._X)({name:"offline_auto_sync",spaceId:o,userId:l});if(e)return t?d:{expiry:void 0,limit:{type:"none"},type:"available",upsell:void 0}}function d(){const e=l();return Boolean("available"===(null==e?void 0:e.type))}},757156:(e,t,o)=>{o.r(t),o.d(t,{onboardingFlowNameToFlowConfig:()=>f});var a=o.n(o(794148)),n=()=>o(677338),i=()=>o(867899),r=()=>o(496414),s=()=>o(780054),l=()=>o(285518),d=()=>o(144114),c=()=>o(765957),u=()=>o(589994),p=()=>o(151168),g=()=>o(322920),m=()=>o(235921);const f={partner_program_onboarding_flow:{isEnabledForDesktop:!0,isEnabledForMobile:!0,getDesktopStages:()=>["profile","offer_eligibility_workspace_choose","onboarding_plan_type_choose","onboarding_collaborative_intent_choose","onboarding_category_survey","team_onboarding_persona_survey","team_onboarding_use_cases","team_onboarding_workspace_create","partner_program_onboarding_checkout"],getMobileStages:e=>["mobile_partner_program_redeem_info","mobile_profile","mobile_onboarding_workspace_choose","mobile_onboarding_plan_type_choose","mobile_onboarding_collaborative_intent_choose","mobile_team_onboarding_function","mobile_team_onboarding_role","mobile_team_onboarding_company_size","mobile_onboarding_category_survey","mobile_team_onboarding_use_cases","mobile_team_onboarding_workspace_create","mobile_team_onboarding_invite",...(0,g().getMobileTutorialStages)(e)],onStartFlow:()=>{},onCompleteFlow:async(e,t,o)=>{if("partner_program_onboarding_flow"!==t.flowName||!t.onboardingData)return;if((0,n().fu)(),t.selectedEligibleWorkspaceId){var a,r;const{redirectAfterContextualizedOnboardingComplete:o}=await i().F.contextualizedOnboardingActions.load(),n=(0,d().sg)(t.onboardingData);return void(await o({environment:e,spaceViewId:null===(a=c().default.state.currentSpaceViewStore)||void 0===a?void 0:a.id,spaceId:null===(r=c().default.state.currentSpaceStore)||void 0===r?void 0:r.id,onboardingData:t.onboardingData,spaceJoinOrCreate:"join",redirectData:n,onboardingFlow:t.flowName,onboardingState:t,permissionLevel:(0,d().S1)(n)}))}const{defaultOnboardingComplete:s}=await i().F.contextualizedOnboardingActions.load();await s(e,o)},shouldShowFlowToUser:e=>void 0!==(0,n().OC)()},education_flow:{isEnabledForDesktop:!0,isEnabledForMobile:!1,getDesktopStages:()=>["profile","onboarding_workspace_choose","education_persona_survey","education_category_picker"],onStartFlow:()=>{},shouldShowFlowToUser:e=>!1},meeting_notes_flow:{isEnabledForDesktop:!0,isEnabledForMobile:!0,getDesktopStages:()=>["profile","onboarding_workspace_choose","onboarding_plan_type_choose","onboarding_collaborative_intent_choose","team_onboarding_workspace_create","team_onboarding_timed_trial_checkout"],getMobileStages:e=>["mobile_profile","mobile_onboarding_workspace_choose","mobile_onboarding_plan_type_choose","mobile_onboarding_collaborative_intent_choose","mobile_team_onboarding_workspace_create"],onStartFlow:()=>{},shouldShowFlowToUser:(e,t)=>0===((0,l().R)(c().default.state.currentUserRootStore)??0)&&"meeting_notes"===(0,n().J0)()},form_response_onboarding:{isEnabledForDesktop:!0,isEnabledForMobile:!0,getDesktopStages:()=>["profile","onboarding_workspace_choose"],getMobileStages:()=>["mobile_profile","mobile_onboarding_workspace_choose"],onStartFlow:()=>{},onCompleteFlow:async(e,t,n)=>{a()("form_response_onboarding"===t.flowName);const{defaultOnboardingComplete:r}=await i().F.contextualizedOnboardingActions.load();await r(e,n),o(464510).V(t.formResponseId,t.secretKey,t.formSpaceId)},shouldShowFlowToUser:()=>0===(0,l().R)(c().default.state.currentUserRootStore)&&(0,o(326406).A)()},mail_onboarding:{isEnabledForDesktop:!0,isEnabledForMobile:!0,getDesktopStages:()=>[],getMobileStages:()=>[],onStartFlow:()=>{},onCompleteFlow:async(e,t,a)=>{const{setAndTrackContextualizedOnboardingComplete:l}=await i().F.contextualizedOnboardingActions.load(),{onboardingData:c,joinableSpaces:p}=t;if(!c)return;const{onboardingStateActions:g}=await o(935370).onboardingActionsDependency.load();if(r().m({message:g.messages.creatingWorkspace}),0===p.length&&c.canUserCreateSpace){const a=o(972435).A.getIntl(),n=c.userStore.getFullName(a),{spaceViewStore:i}=await o(426116).bz({environment:e,planType:"personal",planSelection:"personal",name:n?(0,d().JR)(n,a):(0,d().CD)(a),userRootStore:c.userRootStore,analyticsFrom:"onboarding",icon:void 0,userPersona:"unfilled"});o(72234).I$(e,i,!0),l({environment:e,onboardingState:t,userStore:c.userStore,spaceJoinOrCreate:"create",permissionLevel:"member"})}await u().transactionQueue.drain(),r().V();const m=(0,n().dw)();o(857639).log({data:{miscDataToConvertToString:{from:"getPostOnboardingRedirectURL",redirectUrl:m}},from:"contextualizedOnboardingflowDefinitions",level:"debug",type:"mail_onboarding:onCompleteFlow"});const f=null==m?void 0:m.startsWith(`${s().A.mail.domainBaseUrl}/`);Boolean(m&&f)?o(435009).oo({environment:e,url:`${m}?from=contextualizedOnboarding2#activeUserID=${e.currentUser.id}`}):await(0,o(838824).Z)({environment:e,from:"contextualizedOnboarding",targetSelf:!0})},shouldShowFlowToUser:()=>"mail"===(0,n().dY)()},calendar_onboarding:{isEnabledForDesktop:!0,isEnabledForMobile:!0,getDesktopStages:()=>["profile"],getMobileStages:()=>["mobile_profile"],onStartFlow:()=>{},onCompleteFlow:async(e,t,a)=>{await u().transactionQueue.drain(),await(0,o(645200).J7)({environment:e,url:`${s().A.domainBaseUrl}/calendarAuth/`,from:"contextualizedOnboarding",targetSelf:!0})},shouldShowFlowToUser:()=>0===(0,l().R)(c().default.state.currentUserRootStore)&&"calendar"===(0,n().dY)()},performance_marketing_term_onboarding:{isEnabledForDesktop:!0,isEnabledForMobile:!1,getDesktopStages:()=>["profile","onboarding_workspace_choose","onboarding_plan_type_choose","onboarding_collaborative_intent_choose","team_onboarding_invite"],onStartFlow:()=>{},onCompleteFlow:async(e,t,o)=>{const{defaultOnboardingComplete:a}=await i().F.contextualizedOnboardingActions.load();await a(e,o)},shouldShowFlowToUser:e=>!e.device.isMobile&&("gantt"===(0,p().TQ)()||"crm"===(0,p().TQ)()||"projectManagement"===(0,p().TQ)())},mobile_tutorial_onboarding:{isEnabledForDesktop:!1,isEnabledForMobile:!0,getMobileStages:e=>(0,g().getMobileTutorialStages)(e),onStartFlow:()=>{},onCompleteFlow:async(e,t,o)=>{var a,n;const r=t.onboardingData;if(!r)return;const{redirectAfterContextualizedOnboardingComplete:s}=await i().F.contextualizedOnboardingActions.load(),l=(0,d().sg)(r);await s({environment:e,spaceViewId:null===(a=c().default.state.currentSpaceViewStore)||void 0===a?void 0:a.id,spaceId:null===(n=c().default.state.currentSpaceStore)||void 0===n?void 0:n.id,onboardingData:r,spaceJoinOrCreate:"join",redirectData:l,onboardingFlow:t.flowName,onboardingState:t,permissionLevel:(0,d().S1)(l)})},shouldShowFlowToUser:(e,t)=>Boolean(t)},mobile_promote_app_download:{isEnabledForDesktop:!1,isEnabledForMobile:!0,getMobileStages:e=>["mobile_onboarding_promote_app_download"],onStartFlow:()=>{},onCompleteFlow:()=>{},shouldShowFlowToUser:(e,t)=>0===(0,l().R)(c().default.state.currentUserRootStore)&&"required_to_download"===(0,o(47373).el)({environment:e})},default:{isEnabledForDesktop:!0,isEnabledForMobile:!0,getDesktopStages:()=>{const e="on"===b({experimentId:"onboarding_split_team_survey",disableExposureLogging:!0})?["team_onboarding_function","team_onboarding_role","team_onboarding_company_size"]:["team_onboarding_persona_survey"],t="on"===b({experimentId:"adoption_diy_onboarding_template",disableExposureLogging:!0});return["profile","onboarding_workspace_choose","onboarding_plan_type_choose","onboarding_collaborative_intent_choose",t?"onboarding_use_case_picker":"onboarding_category_survey","desktop_onboarding_promote_app_download","onboarding_calendar_signup",...e,t?"team_onboarding_use_case_picker":"team_onboarding_use_cases","team_onboarding_workspace_create","team_onboarding_invite","team_onboarding_timed_trial_offer","team_onboarding_timed_trial_checkout","team_desktop_onboarding_promote_app_download"]},getMobileStages:e=>["mobile_onboarding_promote_app_download",...["mobile_profile","mobile_onboarding_workspace_choose","mobile_onboarding_plan_type_choose","mobile_onboarding_collaborative_intent_choose",..."on"===b({experimentId:"onboarding_split_team_survey",disableExposureLogging:!0})?["mobile_team_onboarding_function","mobile_team_onboarding_role","mobile_team_onboarding_company_size"]:["mobile_team_onboarding_persona_survey"],"mobile_onboarding_category_survey","mobile_team_onboarding_use_cases","mobile_team_onboarding_workspace_create","mobile_team_onboarding_invite"],...(0,g().getMobileTutorialStages)(e)],onStartFlow:()=>{},shouldShowFlowToUser:(e,t)=>(void 0===(0,l().R)(c().default.state.currentUserRootStore)&&(0,o(2220).u)({environment:e,event:{eventName:"onboarding_undefined_space_view_count",eventProperties:{}}}),!t)},undefined:{isEnabledForDesktop:!0,isEnabledForMobile:!0,getDesktopStages:()=>[],getMobileStages:()=>[],onStartFlow:()=>{},onCompleteFlow:async()=>{},shouldShowFlowToUser:()=>!1}};function b(e){const{experimentId:t,disableExposureLogging:a}=e,n=m().A.state.onboardingExperiments;if(null!=n&&n[t])return n[t];const i=o(217429).default.getEligibleGroup({experimentId:t,defaultGroup:"control",disableExposureLogging:a});return m().A.setState({...m().A.state,onboardingExperiments:{...n,[t]:i}}),i}},768148:(e,t,o)=>{o.d(t,{j:()=>u});o(296540);var a=()=>o(56366),n=()=>o(401497),i=()=>o(284371),r=()=>o(554509),s=()=>o(780054),l=()=>o(37433),d=()=>o(345578),c=o(474848);function u(e){let{teamStore:t,withSelectedStyle:o,style:u,shouldUseStyledText:p}=e;const g=(0,a().K8)((()=>{var e;return{teamName:t.getName()??"",shouldShowLock:(0,l().tM)(null==t||null===(e=t.getSettingsStore())||void 0===e?void 0:e.getValue())}}),[t]),m=(0,n().IS)((e=>({container:{display:"flex",alignItems:"center",overflow:"hidden"},lockIcon:{width:15,marginLeft:6,marginBottom:1,fill:e.icon.secondary},labelText:{...i().RC,color:o?e.text.primary:e.darkTextColor,fontWeight:i().Wy.medium,fontSize:s().A.isMobile?i().J.UIRegular.mobile:i().J.UIRegular.desktop,...u}})),[o,u]);return g?(0,c.jsxs)("div",{style:m.container,children:[p?(0,c.jsx)(r().D,{styleName:"UIRegular-14px/Regular",colorName:"primary",children:g.teamName}):(0,c.jsx)("div",{style:m.labelText,children:g.teamName}),g.shouldShowLock&&(0,c.jsx)(d().A,{iconStyle:m.lockIcon})]}):null}},771660:(e,t,o)=>{o.d(t,{A:()=>v});var a=o(296540),n=()=>o(484714),i=()=>o(56366),r=()=>o(401497),s=()=>o(343916),l=()=>o(284371),d=()=>o(640653),c=()=>o(179534),u=()=>o(802963),p=()=>o(460292),g=()=>o(187820),m=()=>o(490044),f=o(474848);const b=function(e){const{showIcon:t}=e,a=(0,r().DP)(),n=(0,r().IS)((e=>{const o=Math.ceil(60),a=Math.floor(85),n=`${Math.floor(Math.random()*(a-o+1))+o}%`;return{placeholderPageStyle:{height:28,display:"flex",alignItems:"center",width:"100%",padding:t?"0 15px":"0 0px"},placeholderTextWrapStyle:{flexGrow:1,marginLeft:t?10:0,height:28,display:"flex",alignItems:"center"},placeholderTextStyle:{height:4,background:e.buttonHoveredBackground,width:n}}}),[t]);return(0,f.jsxs)("div",{style:n.placeholderPageStyle,children:[t&&(0,o(926329).b)({width:16,height:16,fill:a.buttonHoveredBackground}),(0,f.jsx)("div",{style:n.placeholderTextWrapStyle,children:(0,f.jsx)("div",{style:n.placeholderTextStyle})})]})},h={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"};const v=function(e){const t=(0,r().DP)(),s=(0,n().v3)(),{device:c}=s,u="name"===e.type?e.spaceName:void 0,p="store"===e.type?e.spaceStore:void 0,g=(0,o(751348).n)(p),b=(0,i().K8)((()=>"store"===e.type&&p?(0,d().GK)(s,p):u),[s,e.type,u,p]);return(0,a.useEffect)((()=>{"store"===e.type&&(null==p||p.getValue())}),[p,e.type]),g?(0,f.jsx)(m().A,{left:(0,f.jsx)(w,{}),children:(0,f.jsx)(o(959013).sA,{defaultMessage:"External Pages",id:"sidebarSwitcher.externalPagesButton.title"})}):(0,f.jsxs)(m().A,{style:{overflow:"hidden",paddingLeft:8,paddingRight:8,...e.isMobile&&{fontSize:14,padding:0,marginRight:12},...e.style},left:b?(0,f.jsx)(_,{title:b,icon:"store"===e.type?void 0:e.spaceIcon,isMobile:e.isMobile,spaceStore:"store"===e.type?e.spaceStore:void 0}):(0,f.jsx)(y,{}),disableMobileBorder:!0,children:[!b&&(0,f.jsx)(S,{}),b&&(0,f.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:e.activeUserEmailAddress?"space-between":"start"},className:"notranslate",children:[(0,f.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginRight:6,marginTop:c.isAndroid?3:0,...h},children:[(0,f.jsx)("div",{style:{color:t.text.primary,fontWeight:l().Wy.medium,...h,lineHeight:"20px"},children:b}),(0,f.jsx)("div",{style:{color:t.text.secondary,fontSize:11,lineHeight:"16px",fontWeight:l().Wy.regular,...h},children:e.activeUserEmailAddress})]}),e.showExpand&&(0,f.jsx)("div",{style:{flexGrow:0,flexShrink:0,width:10,height:10,marginLeft:2,fill:t.icon.secondary},children:(0,o(883234)._)()})]})]})};function y(){return(0,f.jsx)("div",{style:{opacity:.25},children:(0,f.jsx)(u().A,{size:20,title:void 0})})}function S(){return(0,f.jsx)(b,{showIcon:!1})}function _(e){let{title:t,icon:o,isMobile:a,spaceStore:s}=e;const u=(0,r().DP)(),p=(0,n().v3)(),m=(0,i().K8)((()=>s?(0,d().c2)(p,s):o?{icon:o,pointer:{table:"space",id:"undefined"}}:void 0),[s,p,o]),b=(0,i().K8)((()=>s?(0,d().GK)(p,s):t),[s,p,t]),h=(0,i().K8)((()=>c().A.getUnreadMentionsCountForOtherSpaces()>0),[]);return(0,f.jsxs)("div",{style:{position:"relative"},children:[(0,f.jsx)(g().B6,{disabled:!0,icon:m,iconRecordCategory:"workspace",isEmptyPage:!1,title:b,size:a?24:22,style:{marginTop:1,color:u.text.primary,fontWeight:l().Wy.medium}}),h&&(0,f.jsx)(x,{})]})}function x(){const e=(0,r().IS)((e=>({unreadBadge:{backgroundColor:e.redBadgeBackground,position:"absolute",top:0,right:-3,width:8,height:8,borderRadius:4,border:`1px solid ${e.surface.wash}`}})),[]);return(0,f.jsx)("div",{style:e.unreadBadge})}function w(){const e=(0,r().IS)((e=>({iconWrapper:{height:24,width:24,background:e.surface.wash,borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center"}})),[]);return(0,f.jsx)("div",{style:e.iconWrapper,children:(0,f.jsx)(p().Q,{colorName:"graySecondary",iconGroup:s().i,variantName:"default"})})}},776040:(e,t,o)=>{o.d(t,{C:()=>x,X:()=>C});var a=o(296540),n=()=>o(484714),i=()=>o(56366),r=()=>o(401497),s=()=>o(187174),l=o(474848);const d=(0,o(340498).wt)("personCircleDashed",{viewBox:"0 0 20 20",svg:(0,l.jsx)("path",{d:"M4.33301 10.0645C4.33301 10.3607 4.35352 10.6501 4.39453 10.9326C4.4401 11.2152 4.50391 11.4909 4.58594 11.7598L3.30078 12.2998C3.18229 11.9443 3.09115 11.5798 3.02734 11.2061C2.96354 10.8324 2.93164 10.4518 2.93164 10.0645C2.93164 9.67708 2.96354 9.29655 3.02734 8.92285C3.09115 8.5446 3.18001 8.18001 3.29395 7.8291L4.58594 8.36914C4.50391 8.63802 4.4401 8.91374 4.39453 9.19629C4.35352 9.47884 4.33301 9.76823 4.33301 10.0645ZM7.36133 5.0332C6.85091 5.30208 6.39062 5.64388 5.98047 6.05859C5.57031 6.46875 5.23307 6.93132 4.96875 7.44629L3.68359 6.91309C4.02539 6.23405 4.46517 5.62565 5.00293 5.08789C5.54525 4.54557 6.15592 4.10124 6.83496 3.75488L7.36133 5.0332ZM9.98633 4.39746C9.69466 4.39746 9.40527 4.42025 9.11816 4.46582C8.83105 4.50684 8.55534 4.57064 8.29102 4.65723L7.75098 3.37207C8.10189 3.24902 8.46419 3.15788 8.83789 3.09863C9.21615 3.03483 9.59896 3.00293 9.98633 3.00293C10.3783 3.00293 10.7611 3.03483 11.1348 3.09863C11.5085 3.15788 11.8708 3.24902 12.2217 3.37207L11.6953 4.65723C11.4264 4.57064 11.1484 4.50684 10.8613 4.46582C10.5742 4.42025 10.2826 4.39746 9.98633 4.39746ZM15.0244 7.43945C14.7555 6.91992 14.4137 6.45508 13.999 6.04492C13.5889 5.63477 13.1263 5.29753 12.6113 5.0332L13.1445 3.75488C13.819 4.09668 14.4274 4.53874 14.9697 5.08105C15.512 5.62337 15.9564 6.23405 16.3027 6.91309L15.0244 7.43945ZM15.6602 10.0645C15.6602 9.76823 15.6374 9.47884 15.5918 9.19629C15.5508 8.90918 15.487 8.63118 15.4004 8.3623L16.6855 7.82227C16.8086 8.17773 16.902 8.5446 16.9658 8.92285C17.0296 9.29655 17.0615 9.67708 17.0615 10.0645C17.0615 10.4518 17.0296 10.8346 16.9658 11.2129C16.902 11.5866 16.8086 11.9512 16.6855 12.3066L15.4072 11.7598C15.4893 11.4954 15.5508 11.222 15.5918 10.9395C15.6374 10.6523 15.6602 10.3607 15.6602 10.0645ZM9.99316 17.126C9.09082 17.126 8.23405 16.9619 7.42285 16.6338C6.61165 16.3102 5.88477 15.8545 5.24219 15.2666C4.59961 14.6787 4.08236 13.9951 3.69043 13.2158L4.96875 12.6895C5.20573 13.1361 5.49512 13.5462 5.83691 13.9199C6.07389 13.6556 6.3929 13.4118 6.79395 13.1885C7.19954 12.9606 7.67122 12.776 8.20898 12.6348C8.7513 12.4935 9.34603 12.4229 9.99316 12.4229C10.6449 12.4229 11.2396 12.4935 11.7773 12.6348C12.3151 12.7715 12.7845 12.9538 13.1855 13.1816C13.5911 13.4095 13.9124 13.6556 14.1494 13.9199C14.318 13.7376 14.4753 13.5439 14.6211 13.3389C14.7669 13.1292 14.9014 12.9128 15.0244 12.6895L16.3027 13.2158C15.9062 13.9951 15.3867 14.6787 14.7441 15.2666C14.1016 15.8545 13.3747 16.3102 12.5635 16.6338C11.7568 16.9619 10.9001 17.126 9.99316 17.126ZM9.99316 11.2949C9.55566 11.2904 9.15918 11.1764 8.80371 10.9531C8.44824 10.7298 8.16569 10.4245 7.95605 10.0371C7.75098 9.64518 7.64616 9.20312 7.6416 8.71094C7.63704 8.25065 7.73958 7.8291 7.94922 7.44629C8.15885 7.06348 8.44141 6.75814 8.79688 6.53027C9.1569 6.29785 9.55566 6.18164 9.99316 6.18164C10.4352 6.18164 10.8317 6.29785 11.1826 6.53027C11.5381 6.75814 11.8206 7.06348 12.0303 7.44629C12.2445 7.8291 12.3516 8.25065 12.3516 8.71094C12.3516 9.20312 12.2467 9.64518 12.0371 10.0371C11.8275 10.429 11.5449 10.7389 11.1895 10.9668C10.834 11.1901 10.4352 11.2995 9.99316 11.2949Z"})});var c=()=>o(959013),u=()=>o(284371),p=()=>o(449506),g=()=>o(493823),m=()=>o(125565),f=()=>o(369251),b=()=>o(47373),h=()=>o(1130),v=()=>o(311337),y=()=>o(217429),S=()=>o(134217),_=()=>o(515512);function x(e){let{currentSpaceStore:t,currentUserRootStore:o}=e;const a=(0,n().v3)(),r=(0,_().Q)(),{isEligibleForGuestMembershipRequest:d,isEligibleForGuestMembershipRequestStatus:c}=C({currentSpaceStore:t,environment:a}),u=(0,i().K8)((()=>{if(r||"pending"===c)return!0;if((0,v().y)(a))return!0;if(!(!o||(0,b().C4)({userRootStore:o})))return!1;return"control"===y().default.getEligibleGroup({experimentId:"sharing_allow_guest_membership_request_for_existing_members",defaultGroup:"control"})}),[r,c,o,a]),[{value:g,status:m}]=(0,s().Yb)((async()=>{if(u)return;const e=await p().callApi({eventName:"getJoinableSpaces",environment:a,data:{}});return"failed"!==e.type&&e.data.results.length>0}),[a,u]);return u||"pending"===m?null:(0,l.jsx)(M,{currentSpaceStore:t,isEligibleForGuestMembershipRequest:d,hasJoinableSpaces:g})}const w=(0,c().YK)({joinOnlyDescription:{defaultMessage:"To see more pages and unlock all of Notion’s features, become a member of this workspace",id:"sidebar.guestPopup.joinOnlyDescription"},createOnlyDescription:{defaultMessage:"To unlock all of Notion’s features, try creating your own workspace",id:"sidebar.guestPopup.createOnlyDescription"},joinOrCreateDescription:{defaultMessage:"To see more pages and unlock all of Notion’s features, become a member of this workspace, or try creating your own",id:"sidebar.guestPopup.joinOrCreateDescription"},createOrJoinOtherDescription:{defaultMessage:"To unlock all of Notion’s features, try creating your own workspace or joining an existing one",id:"sidebar.guestPopup.createOrJoinOtherDescription"},createWorkspaceCTA:{defaultMessage:"Create a workspace",id:"sidebar.guestPopup.createWorkspaceCTA"},requestMembershipCTA:{defaultMessage:"Request membership",id:"sidebar.guestPopup.requestMembershipCTA"},createOrJoinWorkspaceCTA:{defaultMessage:"Create or join a workspace",id:"sidebar.guestPopup.createOrJoinWorkspaceCTA"}});function M(e){let{currentSpaceStore:t,isEligibleForGuestMembershipRequest:o,hasJoinableSpaces:i}=e;const s=(0,n().v3)(),p=(0,r().IS)((e=>({personCircleDashedIcon:{width:20,height:20,color:e.icon.secondary},title:{color:e.text.primary},description:{lineHeight:u().K_.UIRegular.desktop,fontWeight:u().Wy.regular},guestPopupCard:{padding:14,borderRadius:8,margin:"auto 8px 8px 8px",background:e.surface.elevated,border:`1px solid ${e.stroke.secondary}`},popupCTAButton:{width:"100%",height:"inherit",justifyContent:"center",padding:8,marginTop:8,fontWeight:u().Wy.regular,whiteSpace:"normal",textAlign:"center"},tintedBlueButton:{background:e.tint.uiBlue,color:e.text.uiBluePrimary},secondaryButton:{color:e.text.secondary,marginTop:4}})),[]),b=(0,a.useCallback)((()=>{h().Ig(s,"guest_popup")}),[s]),v=(0,a.useCallback)((e=>{let{cta:o}=e;return t?(0,l.jsx)(f().A,{origin:(0,l.jsx)(g().p,{style:{...p.popupCTAButton,...p.tintedBlueButton},children:(0,l.jsx)(c().sA,{...o})})}):null}),[t,p.popupCTAButton,p.tintedBlueButton]),y=(0,a.useCallback)((e=>{let{cta:t,isPrimary:o}=e;return(0,l.jsx)(g().p,{onClick:b,style:{...p.popupCTAButton,...o?p.tintedBlueButton:p.secondaryButton},children:(0,l.jsx)(c().sA,{...t})})}),[b,p.popupCTAButton,p.tintedBlueButton,p.secondaryButton]);let S,_;return o&&i?(S=w.joinOrCreateDescription,_=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(v,{cta:w.requestMembershipCTA}),(0,l.jsx)(y,{cta:w.createOrJoinWorkspaceCTA,isPrimary:!1})]})):o&&!i?(S=w.joinOnlyDescription,_=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(v,{cta:w.requestMembershipCTA}),(0,l.jsx)(y,{cta:w.createWorkspaceCTA,isPrimary:!1})]})):!o&&i?(S=w.createOrJoinOtherDescription,_=(0,l.jsx)(y,{cta:w.createOrJoinWorkspaceCTA,isPrimary:!0})):o||i||(S=w.createOnlyDescription,_=(0,l.jsx)(y,{cta:w.createWorkspaceCTA,isPrimary:!0})),(0,l.jsxs)("div",{style:p.guestPopupCard,children:[d(p.personCircleDashedIcon),(0,l.jsx)(m().A,{style:p.title,children:(0,l.jsx)(c().sA,{defaultMessage:"You’re a guest",id:"sidebar.guestPopup.title"})}),(0,l.jsx)(m().A,{isSmall:!0,isMultiline:!0,isSecondaryColor:!0,style:p.description,children:(0,l.jsx)(c().sA,{...S})}),_]})}function C(e){let{currentSpaceStore:t,environment:o}=e;const[{value:a,status:n}]=(0,s().Yb)((async()=>{if(!t)return!1;if(!(0,S().dW)())return!1;const e=await p().callApi({eventName:"isEligibleForGuestMembershipRequest",environment:o,data:{spaceId:t.id}});return"failed"!==e.type&&e.data.isEligible}),[t,o]);return{isEligibleForGuestMembershipRequest:a,isEligibleForGuestMembershipRequestStatus:n}}},782215:(e,t,o)=>{o.d(t,{W:()=>r});var a=()=>o(534177),n=()=>o(209660),i=()=>o(457638);function r(e){switch(e.type){case"link":window.open(e.link);break;case"open_settings":const t=(0,i().lR)(e.page);t&&n().Ow({currentTab:t});break;default:(0,a().HB)(e)}}},788621:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,personCircleIcon:()=>i});o(296540);var a=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.26 15.25",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M7.755 6.169C8.277 5.519 9.05 5.125 10 5.125s1.723.393 2.245 1.044c.51.635.75 1.474.75 2.346s-.24 1.71-.75 2.346c-.522.65-1.294 1.044-2.245 1.044-.95 0-1.723-.394-2.245-1.044-.51-.635-.75-1.474-.75-2.346s.24-1.711.75-2.346m.975.782c-.293.365-.475.909-.475 1.564s.182 1.198.475 1.564c.281.35.694.576 1.27.576s.989-.226 1.27-.576c.294-.366.475-.909.475-1.564s-.181-1.199-.475-1.564c-.281-.35-.693-.576-1.27-.576-.576 0-.989.225-1.27.576"}),(0,a.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 0 0-4.087 11.267c.789-1.397 2.333-2.33 4.087-2.33s3.298.933 4.087 2.33A6.375 6.375 0 0 0 10 3.625M13.049 15.6c-.547-1.049-1.697-1.789-3.05-1.789-1.351 0-2.501.74-3.048 1.789a6.35 6.35 0 0 0 3.049.775 6.34 6.34 0 0 0 3.049-.775"})]})},i=(0,o(340498).wt)("personCircle",n)},791627:(e,t,o)=>{o.d(t,{A:()=>n});class a extends(()=>o(757695))().Store{getInitialState(){return{contacts:!1}}}const n=a},801678:(e,t,o)=>{o.d(t,{A:()=>m});var a=o(296540),n=()=>o(662303),i=()=>o(56366),r=()=>o(959013),s=()=>o(381349),l=()=>o(496603),d=()=>o(284371),c=()=>o(720665),u=()=>o(145214),p=o(474848);const g={isRepositioning:!1};const m=function(e){const t=(0,a.useRef)(null),n=(0,o(484714).v3)(),[r,s]=(0,a.useState)(g),d=(0,a.useCallback)((()=>{s(g)}),[]),{renderControl:u,onFlushTemporaryPosition:m,style:b,source:h,store:v}=e,{isRepositioning:y,image:S,startDragRenderedPosition:_,startDragImageScreenHeight:x}=r,w=(0,i().K8)((()=>0===o(502438).default.state.stores.length),[]),[M,C]=(0,a.useState)(!1),k=(0,i().uB)(e.mouseStore,o(454305).A),A=(0,i().K8)((()=>k.state.mouseEntered),[k]),T=(0,o(401497).IS)((()=>({dragContainer:{width:"100%",cursor:y?"move":"inherit"},container:{position:"relative",width:"100%",zIndex:1}})),[y]),I=(0,i().K8)((()=>function(e,t,o){return(0,l().Et)(o)?o:function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,l().Et)(e))return e}const o=.5;if(t.isCollectionView()){const e=t.getCollectionStore();if(e){const t=e.getFormat().collection_cover_position;return(0,c().pN)(t)?o:t}}const a=t.getFormat(),n=a.page_cover_position;if((0,l().Et)(n))return n;return o}(e,t)}(h,v,r.temporaryPosition)),[r.temporaryPosition,h,v]);(0,a.useEffect)((()=>{const e=e=>{const o=t.current;o&&!o.contains(e.target)&&y&&m({imagePosition:I,reset:()=>{k.reset(),d()}})};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)}),[I,y,k,m,d]),y&&!w&&d();const j=(0,a.useMemo)((()=>(0,l().nF)((e=>{k.setState({...k.state,mouseEntered:!0})}),100)),[k]),P=(0,a.useMemo)((()=>(0,l().sg)((e=>{k.setState({...k.state,mouseEntered:!1})}),100)),[k]),B=(0,a.useCallback)(((e,t)=>{o(778417).IU({environment:n});const a=new Image;a.onload=()=>{s((e=>({...e,isRepositioning:!0,image:a})))},t&&(a.src=t)}),[n]),N=(0,a.useCallback)((e=>{m({imagePosition:I,reset:()=>{d()}})}),[I,m,d]),L=(0,a.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,o(819121).p)(t)&&C(!0)}),[]),R=(0,a.useCallback)((()=>{C(!0)}),[]),D=(0,a.useCallback)((e=>{if(S&&y){const e=t.current;if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/S.width*S.height;s((e=>({...e,startDragImageScreenHeight:t,startDragRenderedPosition:I})))}}}),[S,I,y]),F=(0,a.useCallback)((e=>{if(y){const t=e.diffY/(x||0)+(_||0);s((e=>({...e,temporaryPosition:(0,l().LI)((0,o(40845).A)(t,0,1),4)})))}}),[y,x,_]),O=(0,a.useCallback)((()=>{s((e=>({...e,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})))}),[]),E=(0,i().K8)((()=>u({handleRepositionClick:B,handleSavePositionClick:N,handleCancelClick:d,isVisible:A||M||y,isRepositioning:y})),[B,N,M,y,A,u,d]),U=(0,o(79043).A)(Boolean(e.preventClickPropagation));return(0,p.jsxs)("div",{ref:t,onFocus:L,onBlur:R,onMouseEnter:j,onMouseMove:j,onMouseLeave:P,...U,...(0,o(955825).AH)(T.container,b),children:[(0,p.jsx)(o(603820).A,{onDraggableDragStart:D,onDraggableDragMove:F,onDraggableDragEnd:O,onDraggableDragCancel:O,disabled:!y,render:t=>(0,p.jsx)("div",{style:T.dragContainer,...t,children:e.render({imagePosition:I,isRepositioning:y})})}),(0,p.jsx)(f,{small:e.small,isRepositioning:y}),E]})};function f(e){let{small:t,isRepositioning:o}=e;if(t)return null;const a={background:s().Ay.blackWithAlpha(.4),borderRadius:4,color:s().Ay.white,fontSize:12,fontFamily:d().vc(n().locale).sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"};return(0,p.jsx)(u().A,{visible:o,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:a,children:(0,p.jsx)(r().sA,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})}},827774:(e,t,o)=>{o.d(t,{C:()=>b});var a=o(296540),n=()=>o(484714),i=()=>o(56366),r=()=>o(762433),s=()=>o(461946),l=()=>o(640653),d=()=>o(645873),c=()=>o(58293),u=()=>o(679616),p=()=>o(324561),g=()=>o(753735),m=()=>o(985315);const f={TrialModals:new(d().O2)("TrialModals",(()=>Promise.all([o.e(1172),o.e(71677)]).then(o.bind(o,161163))))};function b(){const e=(0,n().v3)(),t=(0,c().r)(),o=(0,p().f_)({spaceId:null==t?void 0:t.id}),d=(0,m().g)({spaceId:null==t?void 0:t.id}),f=(0,i().K8)((()=>(0,l().s7)(e)),[e]),b=v("showTimedTrialInfoModal"),y=v("showTimedTrialCancelModal"),S=v("isSelfServeBusinessTrialsEnabled"),_=v("openSelfServeBusinessTrialExplorePlanModal"),x=v("openSelfServeBusinessTrialLossAversionModal"),w=(0,i().K8)((()=>null==S?void 0:S()),[S]);return{showTrialInfoModal:(0,a.useCallback)((e=>{let{openedFrom:t}=e;if(!w)return void(null==b||b({openedFrom:t}));const a=(0,r().DS)(o);if(h(o)){const e=(0,r().i5)(o);if(!e)return;f&&!(0,g().z2)({billingData:o,claimedOffers:d})&&a>e.minus({days:s().$G})?u().uI({openedFrom:t,modalState:"initial"}):null==_||_({openedFrom:t})}else null==b||b({openedFrom:t})}),[w,o,d,f,_,b]),showTrialCancelModal:(0,a.useCallback)((t=>{let{openedFrom:a,trialPlan:n}=t;w&&h(o)?null==x||x({openedFrom:a}):null==y||y({environment:e,trialPlan:n,openedFrom:a})}),[w,o,e,x,y])}}function h(e){return Boolean((0,r().TB)(e)&&"business"===(0,r().AI)(e))}function v(e){var t;const o=(0,d().fJ)(f.TrialModals);return null==o||null===(t=o.value)||void 0===t?void 0:t[e]}},831098:(e,t,o)=>{o.d(t,{y:()=>n});o(296540);var a=o(474848);const n=(0,o(340498).wt)("jira",{viewBox:"0 0 20 20",svg:(0,a.jsx)("path",{d:"M16.8784 2.5H9.65698C9.65698 4.3 11.1141 5.75714 12.9141 5.75714H14.2427V7.04288C14.2427 8.84288 15.6998 10.3 17.4998 10.3V3.12143C17.4998 2.77857 17.2212 2.5 16.8784 2.5Z M13.3001 6.10001H6.07861C6.07861 7.9 7.53574 9.35713 9.33574 9.35713H10.6643V10.6429C10.6643 12.4429 12.1215 13.9 13.9215 13.9V6.72144C13.9215 6.37856 13.6429 6.10001 13.3001 6.10001Z M9.72144 9.70001H2.5C2.5 11.5 3.95714 12.9571 5.75714 12.9571H7.08569V14.2429C7.08569 16.0429 8.54287 17.5 10.3429 17.5V10.3214C10.3429 9.97857 10.0643 9.70001 9.72144 9.70001Z"})})},845566:(e,t,o)=>{o.d(t,{A:()=>i});o(898992),o(672577);var a=()=>o(765957);class n extends(()=>o(757695))().Store{getInitialState(){return{chosenSpaceId:void 0}}getChosenSpaceId(){const{chosenSpaceId:e}=this.state,{currentSpaceStore:t}=a().default.state;return e||(null==t?void 0:t.id)}getChosenSpaceStore(){var e;return null===(e=this.getChosenSpaceViewStore())||void 0===e?void 0:e.getSpaceStore()}getChosenSpaceViewStore(){const{chosenSpaceId:e}=this.state,{currentSpaceViewStore:t,currentUserRootStore:o}=a().default.state;if(!e&&t)return t;if(e&&o){return o.getSpaceViewStores().find((t=>t.getSpaceId()===e))}}}const i=n},846199:(e,t,o)=>{o.d(t,{A:()=>a});const a=o(757695).Store.createValue({open:!1},{name:"TrialInfoModalStore"})},851775:(e,t,o)=>{o.d(t,{A:()=>r});var a=()=>o(194188),n=()=>o(10123),i=()=>o(570551);function r(e,t){(0,i().A)(2,arguments);var o=(0,n().A)(e),r=(0,a().A)(t),s=o.getFullYear(),l=o.getDate(),d=new Date(0);d.setFullYear(s,r,15),d.setHours(0,0,0,0);var c=function(e){(0,i().A)(1,arguments);var t=(0,n().A)(e),o=t.getFullYear(),a=t.getMonth(),r=new Date(0);return r.setFullYear(o,a+1,0),r.setHours(0,0,0,0),r.getDate()}(d);return o.setMonth(r,Math.min(l,c)),o}},867772:(e,t,o)=>{o.d(t,{Ay:()=>l,Gi:()=>i,Wc:()=>a,pF:()=>r,vS:()=>n});const a="loadingLocalImage",n="uploading",i="downloading",r="loaded";class s extends(()=>o(757695))().Store{getInitialState(){return{loadingMode:r}}}const l=s},894074:(e,t,o)=>{o.d(t,{A:()=>l});var a=()=>o(10123),n=()=>o(851775),i=()=>o(194188),r=()=>o(570551);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){if((0,r().A)(2,arguments),"object"!==s(t)||null===t)throw new RangeError("values parameter must be an object");var o=(0,a().A)(e);return isNaN(o.getTime())?new Date(NaN):(null!=t.year&&o.setFullYear(t.year),null!=t.month&&(o=(0,n().A)(o,t.month)),null!=t.date&&o.setDate((0,i().A)(t.date)),null!=t.hours&&o.setHours((0,i().A)(t.hours)),null!=t.minutes&&o.setMinutes((0,i().A)(t.minutes)),null!=t.seconds&&o.setSeconds((0,i().A)(t.seconds)),null!=t.milliseconds&&o.setMilliseconds((0,i().A)(t.milliseconds)),o)}},907917:(e,t,o)=>{o.d(t,{w:()=>l,x:()=>s});var a=()=>o(762433),n=()=>o(979340),i=()=>o(240865),r=()=>o(324561);function s(e){const{billingData:t,memberCount:o}=e,i=(0,a().AI)(t),r=(0,n().dL)(i),s=(0,n().sP)(i);return r&&o<5?"invite":r?"upgrade":o<5&&!s?"invite":"none"}function l(e){const t=(0,r().f_)({spaceId:e}),o=(0,i().V)()??1;return t?s({billingData:t,memberCount:o}):"none"}},911706:(e,t,o)=>{o.d(t,{A:()=>s});o(296540);var a=()=>o(401497),n=()=>o(30626),i=()=>o(704152),r=o(474848);function s(e){let{onClick:t,className:o,isMobile:s,style:l,onFocus:d,onBlur:c,onMouseDown:u,onMouseEnter:p,onMouseLeave:g}=e;const{buttonStyle:m,iconStyle:f}=(0,a().IS)((e=>({buttonStyle:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,borderRadius:6,width:s?45:24,height:s?45:24,marginRight:s?-8:-6,...l},iconStyle:{width:s?18:14,height:s?18:14,fill:e.icon.secondary}})),[s,l]);return(0,r.jsx)(i().A,{onClick:t,style:m,className:o,onFocus:d,onBlur:c,onMouseDown:u,onMouseEnter:p,onMouseLeave:g,children:(0,n()._)(f)})}},916833:(e,t,o)=>{o.d(t,{z:()=>a});const a=(0,o(340498).xh)("arrowUpCircled",{default:{loader:()=>o.e(32296).then(o.bind(o,632296))},small:{loader:()=>o.e(25406).then(o.bind(o,825406))},mini:{loader:()=>o.e(50086).then(o.bind(o,850086))},large:{loader:()=>o.e(73718).then(o.bind(o,73718))}})},934999:(e,t,o)=>{o.d(t,{B:()=>i});o(296540);var a=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"3.12 3.12 13.75 13.76",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("path",{d:"M8 9.875a.625.625 0 1 0 0 1.25h4a.625.625 0 1 0 0-1.25z"}),(0,a.jsx)("path",{d:"M3.125 4.75c0-.897.728-1.625 1.625-1.625h10.5c.898 0 1.625.728 1.625 1.625v1.57c0 .676-.413 1.256-1 1.5v7.43c0 .898-.727 1.625-1.625 1.625h-8.5a1.625 1.625 0 0 1-1.625-1.625V7.82c-.587-.244-1-.824-1-1.5zm11.5 3.195h-9.25v7.305c0 .207.168.375.375.375h8.5a.375.375 0 0 0 .375-.375zm1-1.625V4.75a.375.375 0 0 0-.375-.375H4.75a.375.375 0 0 0-.375.375v1.57c0 .205.164.372.369.375h10.512a.375.375 0 0 0 .369-.375"})]})},i=(0,o(340498).wt)("archiveBox",n)},937199:(e,t,o)=>{o.d(t,{LH:()=>i,Op:()=>n,bi:()=>l,sf:()=>s,v$:()=>r});o(16280);var a=o(296540);const n=(0,a.createContext)(null);function i(){const e=(0,a.useContext)(n);if(!e)throw new Error("usePageLayoutEditorContext must be used inside BaseLayoutEditorContext.Provider");return e}function r(){return(0,a.useContext)(n)}n.displayName="BaseLayoutEditorContext";const s=(0,a.createContext)(null);function l(){const e=(0,a.useContext)(s);if(!e)throw new Error("usePageLayoutEditorContext must be used inside PageLayoutEditorContextProvider");return e}s.displayName="PageLayoutEditorContext"},942906:(e,t,o)=>{o.d(t,{Lj:()=>s,W2:()=>l,xw:()=>r});var a=()=>o(416504),n=()=>o(751156),i=()=>o(755199);function r(e){const{environment:t,userSettingsStore:o}=e,n=o.getSettings(),i=null==n?void 0:n.time_zone,r=(0,a().P)();i!==r&&s({environment:t,userSettingsStore:o,timeZone:r})}function s(e){const{environment:t,userSettingsStore:o,timeZone:a}=e;n().createAndCommit({userAction:"checkUserTimeZoneAction.updateTimeZone",environment:t,canUndo:!0,perform:e=>{i().mJ({userSettingsStore:o,transaction:e,data:{time_zone:a}})},userId:o.id})}function l(e){const{environment:t,userSettingsStore:o,disableAutoSetTimezone:a}=e;n().createAndCommit({userAction:"checkUserTimeZoneAction.updateDisableAutoSetTimezone",environment:t,canUndo:!0,perform:e=>{i().mJ({userSettingsStore:o,transaction:e,data:{disable_auto_set_timezone:a}})},userId:o.id})}},950705:(e,t,o)=>{function a(e){return{"en-US":{languageNameInThatLanguage:"English (US)",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"English (US)",id:"languagePicker.captions.englishUS"})},"de-DE":{languageNameInThatLanguage:"Deutsch",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"German",id:"languagePicker.captions.germanDE"})},"ko-KR":{languageNameInThatLanguage:"한국어",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Korean",id:"languagePicker.captions.koreanKo"})},"zh-CN":{languageNameInThatLanguage:"简体中文",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Simplified Chinese",id:"languagePicker.captions.chineseS"})},"zh-TW":{languageNameInThatLanguage:"繁體中文",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Traditional Chinese",id:"languagePicker.captions.chineseT"})},"ja-JP":{languageNameInThatLanguage:"日本語",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Japanese",id:"languagePicker.captions.japaneseJa"})},"es-ES":{languageNameInThatLanguage:"Español (España)",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Spanish (Spain)",id:"languagePicker.captions.spanishEs"})},"es-LA":{languageNameInThatLanguage:"Español (Latinoamérica)",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Spanish (Latin America)",id:"languagePicker.captions.spanishLatam"})},"pt-BR":{languageNameInThatLanguage:"Português (Brasil)",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Portuguese (Brazil)",id:"languagePicker.captions.portugueseBr"})},"fr-FR":{languageNameInThatLanguage:"Français (France)",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"French (France)",id:"languagePicker.captions.frenchFr"})},"da-DK":{languageNameInThatLanguage:"Dansk",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Danish",id:"languagePicker.captions.danishDk"})},"fi-FI":{languageNameInThatLanguage:"Suomi",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Finnish",id:"languagePicker.captions.finnishFi"})},"nb-NO":{languageNameInThatLanguage:"Norsk",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Norwegian",id:"languagePicker.captions.norwegianNo"})},"nl-NL":{languageNameInThatLanguage:"Nederlands",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Dutch",id:"languagePicker.captions.dutchNl"})},"sv-SE":{languageNameInThatLanguage:"Svenska",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Swedish",id:"languagePicker.captions.swedishSe"})},"en-GB":{languageNameInThatLanguage:"English (GB)",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"English (GB)",id:"languagePicker.captions.englishGB"})},"th-TH":{languageNameInThatLanguage:"ภาษาไทย",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Thai",id:"languagePicker.captions.thaiTh"})},"id-ID":{languageNameInThatLanguage:"Bahasa Indonesia",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Indonesian",id:"languagePicker.captions.indonesianId"})},"vi-VN":{languageNameInThatLanguage:"Tiếng Việt",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Vietnamese",id:"languagePicker.captions.vietnameseVn"})},pseudo:{languageNameInThatLanguage:"🤡Pseudolocale🤡",languageNameInCurrentLanguage:e.formatMessage({defaultMessage:"Pseudolocale",id:"languagePicker.captions.pseudolocale"})}}}function n(e){return{en:{name:e.formatMessage({defaultMessage:"English",id:"languagePicker.name.english"}),abbreviation:e.formatMessage({defaultMessage:"EN",id:"languagePicker.abbreviation.english"})},de:{name:e.formatMessage({defaultMessage:"German",id:"languagePicker.name.german"}),abbreviation:e.formatMessage({defaultMessage:"DE",id:"languagePicker.abbreviation.german"})},ko:{name:e.formatMessage({defaultMessage:"Korean",id:"languagePicker.name.korean"}),abbreviation:e.formatMessage({defaultMessage:"KO",id:"languagePicker.abbreviation.korean"})},zh:{name:e.formatMessage({defaultMessage:"Chinese",id:"languagePicker.name.chinese"}),abbreviation:e.formatMessage({defaultMessage:"ZH",id:"languagePicker.abbreviation.chinese"})},ja:{name:e.formatMessage({defaultMessage:"Japanese",id:"languagePicker.name.japanese"}),abbreviation:e.formatMessage({defaultMessage:"JA",id:"languagePicker.abbreviation.japanese"})},es:{name:e.formatMessage({defaultMessage:"Spanish",id:"languagePicker.name.spanish"}),abbreviation:e.formatMessage({defaultMessage:"ES",id:"languagePicker.abbreviation.spanish"})},pt:{name:e.formatMessage({defaultMessage:"Portuguese",id:"languagePicker.name.portuguese"}),abbreviation:e.formatMessage({defaultMessage:"PT",id:"languagePicker.abbreviation.portuguese"})},fr:{name:e.formatMessage({defaultMessage:"French",id:"languagePicker.name.french"}),abbreviation:e.formatMessage({defaultMessage:"FR",id:"languagePicker.abbreviation.french"})},da:{name:e.formatMessage({defaultMessage:"Danish",id:"languagePicker.name.danish"}),abbreviation:e.formatMessage({defaultMessage:"DA",id:"languagePicker.abbreviation.danish"})},fi:{name:e.formatMessage({defaultMessage:"Finnish",id:"languagePicker.name.finnish"}),abbreviation:e.formatMessage({defaultMessage:"FI",id:"languagePicker.abbreviation.finnish"})},nb:{name:e.formatMessage({defaultMessage:"Norwegian",id:"languagePicker.name.norwegian"}),abbreviation:e.formatMessage({defaultMessage:"NB",id:"languagePicker.abbreviation.norwegian"})},nl:{name:e.formatMessage({defaultMessage:"Dutch",id:"languagePicker.name.dutch"}),abbreviation:e.formatMessage({defaultMessage:"NL",id:"languagePicker.abbreviation.dutch"})},sv:{name:e.formatMessage({defaultMessage:"Swedish",id:"languagePicker.name.swedish"}),abbreviation:e.formatMessage({defaultMessage:"SV",id:"languagePicker.abbreviation.swedish"})},th:{name:e.formatMessage({defaultMessage:"Thai",id:"languagePicker.name.thai"}),abbreviation:e.formatMessage({defaultMessage:"TH",id:"languagePicker.abbreviation.thai"})},vi:{name:e.formatMessage({defaultMessage:"Vietnamese",id:"languagePicker.name.vietnamese"}),abbreviation:e.formatMessage({defaultMessage:"VI",id:"languagePicker.abbreviation.vietnamese"})},id:{name:e.formatMessage({defaultMessage:"Indonesian",id:"languagePicker.name.indonesian"}),abbreviation:e.formatMessage({defaultMessage:"ID",id:"languagePicker.abbreviation.indonesian"})}}}o.d(t,{V:()=>a,W:()=>n})},963248:(e,t,o)=>{o.d(t,{v:()=>w});o(898992),o(823215);var a=o(296540),n=()=>o(484714),i=()=>o(56366),r=()=>o(401497),s=()=>o(245241),l=()=>o(959013),d=()=>o(372657),c=()=>o(810703),u=()=>o(135599),p=()=>o(963589),g=()=>o(765957),m=()=>o(970585),f=()=>o(845566),b=()=>o(188669),h=()=>o(40851),v=()=>o(572748),y=()=>o(587989),S=()=>o(258805),_=()=>o(142662),x=o(474848);function w(e){return(0,p().X)("move_to_menu_use_search_results_hook")?(0,x.jsx)(C,{...e}):(0,x.jsx)(M,{...e})}function M(e){const{targetBlocks:t,isCreateIn:o,onAccept:s,isAddTo:u,isTurnIntoPage:p,parentBlockId:b,autocompleteQuery:v,forceShowPrivatePageOption:w=!1}=e,M=(0,l().tz)(),C=(0,r().DP)(),k=(0,n().v3)(),A=(0,i().uB)(void 0,m().A),T=(0,i().uB)(void 0,h().A),I=(0,i().uB)(void 0,f().A),j=(0,i().K8)((()=>t.length>0&&t.every((e=>e.isNavigableBlock()))),[t]),P=(0,a.useCallback)((e=>async function(e,t,o,a,n,i,r,s,l,u,p,m,f){const{currentUserRootStore:b,currentSpaceStore:h}=g().default.state,{query:v}=e,y=p.getChosenSpaceStore();if(!b||!y||!h)return[];const _=(0,c().pw)({spaceStore:y,currentUserId:t.currentUser.id}),{blockResults:x,topLevelBlockResults:w,templateResults:M,recentPageResults:C}=await(0,S().aE)(y,v,a,n,t,h),k=await _;if(d().n6())return await(0,S().N$)({chosenSpaceStore:y,savedQuickAddParent:k,query:v,blockResults:x,recentPageResults:C},t,n,i,a,r,p,m);if(n)return(0,S().wU)({allTargetsAreNavigable:m,blockResults:x,chosenSpaceStore:y,environment:t,isAddTo:r,isCreateIn:n,isTurnIntoPage:s,moveToSpaceMenuStore:p,onAccept:i,parentBlockId:l,query:v,recentPageResults:C,targets:a,templateResults:M,topLevelBlockResults:w});return(0,S().OC)({allTargetsAreNavigable:m,blockResults:x,chosenSpaceStore:y,environment:t,forceShowPrivatePageOption:f,intl:u,isAddTo:r,isCreateIn:n,moveToSpaceMenuStore:p,onAccept:i,query:v,recentPageResults:C,savedQuickAddParent:k,targets:a,theme:o})}(e,k,C,t,o,s,u,p,b,M,I,j,w)),[k,C,t,o,s,u,p,b,M,I,j,w]),B=(0,i().K8)((()=>{var e;return null===(e=(0,S().wc)(I))||void 0===e?void 0:e.id}),[I]),N=(0,i().K8)((()=>!T.state.ready&&v.length>0),[T,v]);return(0,x.jsx)(_().du,{...e,isLoading:N,allTargetsAreNavigable:j,autocompleteComponent:(0,x.jsx)(y().b,{query:v,spaceId:B,menuListStore:A,requestStore:T,getAutocompleteItems:P})})}function C(e){const{autocompleteQuery:t,forceShowPrivatePageOption:o=!1,isAddTo:a,isCreateIn:n,isTurnIntoPage:r,onAccept:l,parentBlockId:d,targetBlocks:c}=e,p=(0,i().uB)(void 0,m().A),g=(0,i().uB)(void 0,f().A),h=(0,i().K8)((()=>(0,S().wc)(g)),[g]),w=(0,i().K8)((()=>c.length>0&&c.every((e=>e.isNavigableBlock()))),[c]),M=(0,i().K8)((()=>(0,S().L2)(b().Ay.state)),[]),C=(0,u().W)({type:s().Vz.BlocksInSpace,query:t,limit:M,source:"move_to_menu",filters:{requireEditPermissions:!1,excludeTemplates:!1},options:{disable:!1,overrideSpaceStore:h}}),k=(0,v().t)({allTargetsAreNavigable:w,forceShowPrivatePageOption:o,isAddTo:a,isCreateIn:n,isTurnIntoPage:r,onAccept:l,parentBlockId:d,query:t,searchResults:C,targets:c});return(0,x.jsx)(_().du,{...e,isLoading:C.isResultsLoading,allTargetsAreNavigable:w,autocompleteComponent:(0,x.jsx)(y().c,{sections:k,error:void 0,menuListStore:p,initialFocus:t?0:void 0,loading:C.isResultsLoading,canLoadMore:C.hasMoreResults,onLoadMore:()=>{var e;return null===(e=C.fetchAdditionalServerResultsOnChange)||void 0===e?void 0:e.call(C,M)}})})}},980151:(e,t,o)=>{o.d(t,{WO:()=>u,_V:()=>p,hK:()=>g});var a=()=>o(869558),n=()=>o(854150),i=()=>o(751156),r=()=>o(108014),s=()=>o(100875),l=()=>o(162674),d=()=>o(710857),c=()=>o(765957);function u(e){const{environment:t,currentSpaceViewStore:o,...a}=e;if(!o.getModel())return;const n=!(0,d().x)(o)[e.feature];i().createAndCommit({userAction:"userHomeActions.toggleHomeFeature",environment:t,canUndo:!0,perform:t=>{i().applyOperation({store:o,operation:{pointer:o.pointer,path:["settings","personal_home","enabled_features"],command:"update",args:{[e.feature]:n}},transaction:t})}}),(0,l().f_)({environment:t,show:n,...a})}function p(e){let{environment:t,option:o,from:a,userAction:n}=e;const r=c().default.state.currentSpaceViewStore;if(!r)return!1;const d=r.getOnAppStartStore().getValue();return i().createAndCommit({userAction:n,environment:t,canUndo:!0,perform:e=>{i().applyOperation({store:r,operation:{pointer:r.pointer,path:["settings","on_app_start"],command:"set",args:o},transaction:e})}}),(0,s().cq)({spaceView:r.getModel(),preference:o}),(0,l().lr)({environment:t,oldValue:d,newValue:o,from:a}),!0}function g(e){const{environment:t,selectedStore:o,currentSpaceViewStore:s,collectionContextStore:d}=e,c=d.collectionViewStore(),u=d.collectionStore(),p=d.collectionViewBlockStore();if(!(u&&c&&p&&s))return;const g=s.getTeamsStores(),m=o.table===n().yK?g.indexOf(o)+1:0,f=o.table===n().yK?o.id:void 0;i().createAndCommit({environment:t,userAction:"PersonalHomeTrendingPanel.setCollectionViewSourceTeamId",canUndo:!0,perform:e=>{i().applyOperation({store:c,operation:{pointer:{id:c.id,table:a().Gy},path:["format","collection_view_source","teamId"],command:"set",args:f},transaction:e}),(0,r().d)({environment:t,collectionViewBlockStore:p,collectionViewStore:c,collectionStore:u,collectionContextStore:d,isFullScreen:!1,isRootChild:!1,isInPeekRenderer:!1,viewsModuleContext:void 0})}}),(0,l().AP)({environment:t,teamId:f,index:m})}},990402:(e,t,o)=>{o.d(t,{m:()=>n});var a=()=>o(46986);function n(e){return("workflow"===e.getType()||e.isCollectionView()&&e.getWorkflowStore())&&e.canEdit()&&!e.isSystemBlock()&&(0,a().re)()}}}]);