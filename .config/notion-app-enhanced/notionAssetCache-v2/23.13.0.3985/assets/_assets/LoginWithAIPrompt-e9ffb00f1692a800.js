"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[15961,68126],{234342:(e,t,i)=>{i.r(t),i.d(t,{LoginWithAIPrompt:()=>b});i(581454);var r=()=>i(153321),n=(i(296540),()=>i(401497)),o=()=>i(148307),a=()=>i(959013),l=()=>i(995062),c=()=>i(84817),s=()=>i(710149),m=()=>i(554509),h=()=>i(515517),d=i(474848);const g={type:"spring",stiffness:150,damping:20,delay:.2};function b(e){let{loginStore:t,loginPermissionsStore:i,showMobileLayout:b}=e;const u=(0,n().IS)((e=>({container:{width:"100%",height:"95%",marginTop:"1vh",display:"flex",alignItems:"center",borderRadius:12,border:`1px solid ${e.stroke.secondary}`},previewWrapper:{width:"100%",height:"100%"},previewContainer:{borderRight:`1px solid ${e.stroke.secondary}`,backgroundColor:"dark"===e.mode?e.popoverWaxPaperBackground:void 0,backgroundImage:`url(${o().A.images.workflowTemplates.bgDotsPng})`,backgroundRepeat:"repeat",backgroundSize:"70px 70px",backgroundPosition:"0% 0%",backgroundBlendMode:"multiply",userSelect:"none",inset:0,zIndex:10,padding:"64px 48px"},header:{opacity:.6,paddingBottom:20,borderBottom:`1px solid ${e.stroke.primary}`},columns:{display:"grid",gridTemplateColumns:"3fr 2fr 2fr",gap:45},shimmer:{width:"50%",height:9,borderRadius:5},shimmerWide:{width:"100%",height:9,borderRadius:5},login:{flex:1,minWidth:"400px",padding:"32px"},title:{marginBottom:"24px"}})),[]);return(0,d.jsxs)("div",{style:u.container,children:[(0,d.jsx)(r().P.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:g,style:u.previewWrapper,children:(0,d.jsxs)(c().Y1,{direction:"vertical",height:"fill",width:"fill",style:u.previewContainer,gap:30,children:[(0,d.jsxs)(c().Y1,{direction:"horizontal",align:"center-left",gap:12,height:50,style:u.header,children:[(0,d.jsx)(l().AssistantAnimatedFaceInner,{sizeVariant:"large",highLevelState:"writing",includeBoxShadow:!0}),(0,d.jsx)(m().D,{styleName:"UITitle-30px/Semibold",children:(0,d.jsx)(a().sA,{id:"loginPage.header.fromAIPrompt",defaultMessage:"Almost ready to buildâ€¦"})})]}),(0,d.jsx)("div",{style:u.columns,children:Array.from({length:3}).map(((e,t)=>(0,d.jsxs)(c().Y1,{direction:"vertical",gap:25,children:[(0,d.jsx)(s().A,{style:u.shimmer}),Array.from({length:5}).map(((e,t)=>(0,d.jsx)(s().A,{style:u.shimmerWide},t)))]},t)))})]})}),(0,d.jsxs)("div",{style:u.login,children:[(0,d.jsx)("div",{style:u.title,children:(0,d.jsx)(m().D,{styleName:"UITitle-22px/Semibold",children:(0,d.jsx)(a().sA,{id:"loginPage.title.fromAIPrompt",defaultMessage:"Create a Notion account to continue building"})})}),(0,d.jsx)(h().A,{isSmallScreen:b,loginStore:t,loginPermissionsStore:i,emailLabelType:"email",isSignup:!1,from:"frontLoginPage"})]})]})}},631611:(e,t,i)=>{i.d(t,{Ui:()=>m,hP:()=>V,jw:()=>I,wy:()=>A});i(16280);var r,n=i(296540),o=i(474848);const a={fullPage:!0,mobileNative:!0,mobileWeb:!0,commandSearch:!0,mobileNativeTab:!0,searchPane:!0,mobileSearch:!1,writer:!1,corner:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,inferenceTranscriptChatView:!1},l={fullPage:!0,mobileNative:!0,mobileWeb:!0,mobileNativeTab:!0,commandSearch:!1,searchPane:!1,mobileSearch:!1,writer:!1,corner:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,inferenceTranscriptChatView:!1},c={mobileNative:!0,mobileWeb:!0,mobileSearch:!0,mobileWriter:!0,mobileNativeTab:!0,fullPage:!1,writer:!1,corner:!1,searchPane:!1,commandSearch:!1,workflowEditor:!1,conflictingContentComment:!1,inferenceTranscriptChatView:!1},s={writer:!0,mobileWriter:!0,mobileWeb:!1,mobileNative:!1,mobileSearch:!1,fullPage:!1,corner:!1,searchPane:!1,commandSearch:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1};function m(e){return s[e]}const h={corner:!0,searchPane:!0,fullPage:!1,mobileNative:!1,mobileWeb:!1,mobileSearch:!1,commandSearch:!1,writer:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},d={corner:!0,searchPane:!0,fullPage:!0,mobileNative:!0,mobileWeb:!0,mobileSearch:!0,commandSearch:!0,mobileNativeTab:!0,writer:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,inferenceTranscriptChatView:!1},g={corner:!0,searchPane:!0,fullPage:!0,mobileNative:!0,mobileNativeTab:!0,commandSearch:!0,mobileWeb:!1,mobileSearch:!1,writer:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,inferenceTranscriptChatView:!0},b={corner:!0,searchPane:!0,fullPage:!0,commandSearch:!0,writer:!0,mobileWriter:!0,workflowEditor:!0,mobileNative:!1,mobileWeb:!1,mobileSearch:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},u={corner:!0,searchPane:!0,commandSearch:!0,mobileNative:!0,mobileSearch:!0,mobileWeb:!0,writer:!1,fullPage:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},w={corner:!0,writer:!0,mobileWriter:!0,fullPage:!1,searchPane:!1,commandSearch:!1,mobileNative:!1,mobileWeb:!1,mobileSearch:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},f={corner:!0,fullPage:!0,searchPane:!0,mobileNative:!0,mobileNativeTab:!0,commandSearch:!0,mobileWeb:!0,mobileSearch:!0,writer:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,inferenceTranscriptChatView:!1},p={corner:!0,fullPage:!0,searchPane:!1,mobileNative:!1,commandSearch:!1,mobileWeb:!1,mobileSearch:!1,writer:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},S={corner:!0,fullPage:!0,commandSearch:!1,searchPane:!1,mobileNative:!1,mobileWeb:!1,mobileSearch:!1,writer:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},C={fullPage:!0,writer:!0,corner:!0,commandSearch:!1,searchPane:!1,mobileNative:!1,mobileWeb:!1,mobileSearch:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},v={corner:!0,fullPage:!1,writer:!1,commandSearch:!1,searchPane:!1,mobileNative:!1,mobileWeb:!1,mobileSearch:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},T={fullPage:!0,writer:!1,corner:!1,commandSearch:!1,searchPane:!1,mobileNative:!1,mobileWeb:!1,mobileSearch:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},y={writer:!0,fullPage:!1,corner:!1,commandSearch:!1,searchPane:!1,mobileNative:!1,mobileWeb:!1,mobileSearch:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},P={corner:!0,fullPage:!1,searchPane:!1,mobileNative:!1,commandSearch:!1,mobileWeb:!1,mobileSearch:!1,writer:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},W={corner:!0,fullPage:!0,searchPane:!1,mobileNative:!1,commandSearch:!1,mobileWeb:!1,mobileSearch:!1,writer:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},k={fullPage:!0,corner:!1,searchPane:!1,mobileNative:!1,commandSearch:!1,mobileWeb:!1,mobileSearch:!1,writer:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},N={fullPage:!0,corner:!1,searchPane:!1,mobileNative:!1,commandSearch:!1,mobileWeb:!1,mobileSearch:!1,writer:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},x={commandSearch:!1,searchPane:!1,fullPage:!0,writer:!0,corner:!0,mobileNative:!0,mobileWeb:!0,mobileSearch:!0,mobileWriter:!0,workflowEditor:!0,conflictingContentComment:!0,mobileNativeTab:!0,inferenceTranscriptChatView:!0};class A{constructor(e){this.type=e}get renderAsFullPage(){return a[this.type]}get renderChatHistoryAsFullPage(){return l[this.type]}get isCommandSearchOrSearchPane(){return this.isType("commandSearch")||this.isType("searchPane")}get isQuickSearchMode(){return this.isType("commandSearch")}get isMobile(){return c[this.type]}get isWriter(){return s[this.type]}isType(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.includes(this.type)}get shouldShowExpandToFullPageChat(){return h[this.type]}get isValidSurfaceForAttachmentUploads(){return g[this.type]}get shouldShowChatHistory(){return d[this.type]}get canUseCurrentPageContext(){return b[this.type]}get showCloseButton(){return u[this.type]}get surfaceSupportsContextWithSelection(){return w[this.type]}get surfaceSupportsParameterization(){return f[this.type]}get surfaceSupportsTutorialAction(){return p[this.type]}get surfaceSupportsShareAnswerAction(){return S[this.type]}get canShowNewChonkifiedInput(){return C[this.type]}canShowSessionStarterInContext(e){return A[e.from].isWriter===this.isWriter}get canUseUpdatedSkillDisplayFormat(){return P[this.type]}get canUseGetAiConnectorScopeMenuFooter(){return W[this.type]}get canShowNewFullPageWelcomeState(){return T[this.type]}get canShowNewWriterDesign(){return y[this.type]}get canShowNewCornerChatWelcomeState(){return v[this.type]}get supportsStartingNewChatAsInferenceTranscript(){return k[this.type]}get supportsChatHistoryWithInferenceTranscripts(){return N[this.type]}get shouldOpenAssistantMenuOnRestoreChatSession(){return x[this.type]}}r=A,A.fullPage=new r("fullPage"),A.corner=new r("corner"),A.searchPane=new r("searchPane"),A.commandSearch=new r("commandSearch"),A.mobileNative=new r("mobileNative"),A.mobileNativeTab=new r("mobileNativeTab"),A.writer=new r("writer"),A.mobileWeb=new r("mobileWeb"),A.mobileSearch=new r("mobileSearch"),A.mobileWriter=new r("mobileWriter"),A.workflowEditor=new r("workflowEditor"),A.inferenceTranscriptChatView=new r("inferenceTranscriptChatView"),A.conflictingContentComment=new r("conflictingContentComment");const E=n.createContext(void 0);function V(e){return(0,o.jsx)(E.Provider,{value:e.surface,children:e.children})}function I(){const e=n.useContext(E);return e||A.corner}E.displayName="AssistantSurfaceContext"},995062:(e,t,i)=>{i.r(t),i.d(t,{AssistantAnimatedFace:()=>N,AssistantAnimatedFaceInner:()=>x});i(18107),i(967357);var r=()=>i(303848),n=()=>i(244641),o=i(296540),a=()=>i(624919),l=()=>i(56366),c=()=>i(401497),s=()=>i(604341),m=()=>i(592328),h=()=>i(336811),d=()=>i(999752),g=()=>i(763824),b=()=>i(534177),u=()=>i(631611),w=()=>i(295169),f=()=>i(337567),p=()=>i(865241),S=()=>i(998109),C=()=>i(846955),v=()=>i(278589),T=()=>i(783793);const y=i.p+"bc69e69669ca365b.riv",P=["Base_Idle","Idle A","Idle B","Idle C"];var W=i(474848);r().RuntimeLoader.setWasmUrl(i(390654));const k=!1;function N(e){const{sizeVariant:t,includeBoxShadow:i,onMouseEnter:r}=e,n=function(){const e=(0,u().jw)().isWriter,t=(0,l().K8)((()=>{const t=e?(0,f().K1)():w().default.getActiveSession();if(!t)return"idle";const i=t.evaluator.getTranscript().at(-1);if(i&&"observation"===i.type&&"error"===i.observationType)return"error";const r=t.isStreaming();if(!r)return"idle";const n=t.getCombinedSteps().at(-1),o="assistantSearch"===(null==n?void 0:n.type)||"assistantShowSearchResults"===(null==n?void 0:n.type),a="assistantLoading"===(null==n?void 0:n.type)||"human"===(null==n?void 0:n.type);return"groupedEditCard"===(null==n?void 0:n.type)?"writing":o?"searching":a?"thinking":r?"writing":"idle"}),[e]);return(0,o.useEffect)((()=>{k&&A("HighLevelState","Pink",t)}),[t]),t}();return(0,W.jsx)(S().n,{step:"ai_assistant",isFullWidth:!1,highlightStyle:{borderRadius:"100%"},children:(0,W.jsx)(x,{sizeVariant:t,includeBoxShadow:i,highLevelState:n,onMouseEnter:r})})}function x(e){const{sizeVariant:t,highLevelState:i,includeBoxShadow:n,onMouseEnter:u}=e,[w,f]=(0,o.useState)(!1),S=(0,o.useCallback)((()=>{f(!0)}),[]),{onStateChange:N,waitUntilState:x,animationState:E}=function(){const e=(0,o.useRef)("Idle B"),t=(0,o.useMemo)((()=>new(m().A)),[]),i=(0,o.useCallback)((i=>{if(Array.isArray(i.data)&&1===i.data.length){const r=i.data[0];k&&A("State change","DarkGreen",r),e.current=r,t.emit(r)}}),[t]),r=(0,o.useCallback)((()=>new Promise((e=>{const i=r=>{t.removeListener(i),e(r)};t.addListener(i)}))),[t]),n=(0,o.useCallback)((async t=>{(await g().nQ(2e3,(async()=>{for(;!t(e.current);)await r()})())).timeout&&(0,a().NK)("Timed out while waiting for an assistant face state change.")}),[r]);return{animationState:e,waitUntilState:n,onStateChange:i}}(),{rive:V,RiveComponent:I}=(0,r().useRive)({src:y,stateMachines:["Main"],autoplay:!0,onAdvance:S,onStateChange:N});!function(e){const t=(0,l().K8)((()=>p().A.state.isVisible),[]),i=(0,o.useCallback)((()=>{null==e||e.startRendering()}),[e]),r=(0,o.useCallback)((()=>{null==e||e.stopRendering()}),[e]);(0,o.useEffect)((()=>{t?i():r()}),[t,r,i])}(V);const j=function(e){const t=(0,o.useMemo)((()=>{const t=null==e?void 0:e.stateMachineInputs("Main"),i=new Map;if(!t)return i;for(const e of t)i.set(e.name,e);return i}),[e]);(0,o.useEffect)((()=>{(0,s().exposeDebugValue)("AssistantAnimatedFaceTriggers",t)}),[t]);const i=(0,h().T)(),r=(0,o.useCallback)((e=>{var r;i.current&&(k&&A("Firing trigger","MediumBlue",e),null===(r=t.get(e))||void 0===r||r.fire())}),[i,t]);return r}(V),M=(0,o.useMemo)((()=>new(d().O)(1)),[]);(0,o.useEffect)((()=>{M.enqueue((async()=>{"writing"===i?j("WritingInTrigger"):"idle"===i?(await async function(){"Writing_In"===E.current&&await x((e=>"Writing_Loop"===e)),"Writing_Loop"===E.current&&(j("WritingOutTrigger"),await x((e=>(0,b().Xk)(P,e)))),"Thinking_In"!==E.current&&"Thinking_Loop"!==E.current||(j("ThinkingOutTrigger"),await x((e=>(0,b().Xk)(P,e)))),"Searching_In"===E.current&&await x((e=>"Searching_Loop"===e)),"Searching_Loop"===E.current&&(j("SearchingOutTrigger"),await x((e=>(0,b().Xk)(P,e))))}(),j("IdleTrigger")):"searching"===i?j("SearchingInTrigger"):"thinking"===i?j("ThinkingInTrigger"):"error"===i?j("ErrorTrigger"):(0,b().HB)(i)}))}),[i,j,x,M,E]);const L=(0,c().IS)((e=>{const i=(0,v().N)(t);return{wrap:{width:i,height:i,...n&&{boxShadow:e.shadowXS,borderRadius:"100%"},position:"relative"},faceImg:{position:"absolute",height:i,width:i},staticFace:{position:"absolute",left:0,top:0}}}),[t,n]);return(0,W.jsxs)("div",{style:L.wrap,onMouseEnter:e=>{e.stopPropagation(),null==u||u(e),setTimeout((()=>C().default.dismissTourTutorial()),400)},children:[(0,W.jsx)(I,{style:L.faceImg,onMouseEnter:()=>{Math.random()<.1&&j("GreetingTrigger")}}),w?void 0:(0,W.jsx)(T().o,{variant:t,wrapWithPadding:!0,style:L.staticFace,shadowVariant:n?"strong":"none"})]})}function A(e,t){const i=n().c9.local().toFormat("HH:mm:ss.SSS");for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];console.log(`%c[${i}] %c${e}:`,"color: Grey;",`color: ${t}; font-weight: bold;`,...o)}}}]);