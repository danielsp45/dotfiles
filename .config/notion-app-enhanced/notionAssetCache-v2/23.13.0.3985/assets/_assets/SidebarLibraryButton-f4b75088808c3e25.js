"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[40902],{490044:(e,i,t)=>{t.d(i,{A:()=>p});t(296540);var r=()=>t(484714),o=()=>t(56366),n=()=>t(401497),a=()=>t(500066),l=()=>t(159588),s=()=>t(644914),d=t(474848);function c(){const e=(0,n().IS)((e=>({icon:{position:"absolute",width:"50%",height:"50%",right:0,bottom:0,fill:"dark"===e.mode?e.text.primary:"#3E3C38",stroke:"dark"===e.mode?e.surface.wash:"white",strokeWidth:"dark"===e.mode?"1.85px":"1.5px"}})),[]);return(0,d.jsx)("div",{children:(0,a().G)(e.icon)})}function p(e){var i;const t=(0,r().v3)(),a=t.device.isMobile,{isTablet:p}=(0,r().Y0)(),v=(0,o().K8)((()=>{var i,r;if(a)return t.WindowSizeStore.getSafePaddingLeftCSS("number"==typeof(null===(i=e.style)||void 0===i?void 0:i.paddingLeft)?null===(r=e.style)||void 0===r?void 0:r.paddingLeft:10)}),[t.WindowSizeStore,a,null===(i=e.style)||void 0===i?void 0:i.paddingLeft]),y=(0,n().IS)((i=>({wrapper:{...a?{display:"flex",alignItems:"center",width:"100%",minHeight:26,fontSize:16,paddingTop:p?4:8,paddingBottom:p?4:8,paddingLeft:v,paddingRight:10,userSelect:"none",WebkitUserSelect:"none",boxShadow:void 0,marginBottom:e.shouldShowMobileMarginBottom?12:1}:{display:"flex",alignItems:"center",width:"100%",fontSize:14,minHeight:e.isBottomItem?24:27,height:s().Zr,paddingTop:4,paddingBottom:4,...(0,l().ic)()},...e.style},icon:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,width:a?28:22,height:a?24:18,marginRight:8,position:"relative"},right:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,flexGrow:0,height:"100%",...e.rightStyle},left:{flexShrink:0,flexGrow:0,borderRadius:4,color:i.text.secondary,width:a?24:s().ry,height:a?24:s().ry,display:"flex",alignItems:"center",justifyContent:"center",marginRight:e.icon?0:8},children:{flexGrow:1,flexShrink:1,flexBasis:"auto",whiteSpace:"nowrap",minWidth:0,overflow:"hidden",textOverflow:e.right&&!a?"clip":"ellipsis",...e.childrenStyle}})),[a,p,v,e.shouldShowMobileMarginBottom,e.isBottomItem,e.style,e.rightStyle,e.icon,e.right,e.childrenStyle]);return(0,d.jsxs)("div",{role:e.role,dir:"ltr","aria-current":e["aria-current"],"aria-expanded":e["aria-expanded"],"aria-owns":e["aria-owns"],"aria-labelledby":e["aria-labelledby"],style:y.wrapper,onFocus:e.onFocus,onBlur:e.onBlur,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick,className:e.className,children:[e.left&&(0,d.jsx)("div",{style:y.left,children:e.left}),e.icon&&(0,d.jsxs)("div",{style:y.icon,children:[e.icon,e.isAlias&&(0,d.jsx)(c,{})]}),(0,d.jsx)("div",{style:y.children,children:e.children}),e.right&&(0,d.jsx)("div",{style:y.right,children:e.right})]})}},605777:(e,i,t)=>{t.r(i),t.d(i,{bookIcon:()=>o,iconDefinition:()=>r});t(296540);const r={viewBox:"0 0 20 20",fittedViewBox:"2.01 3.43 15.98 13.13",svg:(0,t(474848).jsx)("path",{d:"M10 4.563c-2.385-1.586-5.433-1.496-7.742.271a.63.63 0 0 0-.246.497v10.607a.625.625 0 0 0 1.005.496c1.986-1.52 4.617-1.52 6.603 0a.624.624 0 0 0 .76 0c1.986-1.52 4.617-1.52 6.603 0a.625.625 0 0 0 1.005-.497V5.332a.63.63 0 0 0-.246-.497c-2.31-1.767-5.357-1.857-7.742-.27M3.262 14.8V5.65c1.871-1.283 4.242-1.283 6.113 0v9.15a6.56 6.56 0 0 0-6.113 0m7.363 0V5.65c1.87-1.283 4.242-1.283 6.113 0v9.15a6.56 6.56 0 0 0-6.113 0"})},o=(0,t(340498).wt)("book",r)},624959:(e,i,t)=>{t.r(i),t.d(i,{SidebarLibraryButton:()=>B});var r=t(296540),o=()=>t(484714),n=()=>t(56366),a=()=>t(401497),l=()=>t(605777),s=()=>t(959013),d=()=>t(284371),c=()=>t(296798),p=()=>t(8980),v=()=>t(859428),y=()=>t(490044),u=()=>t(742943),h=()=>t(644914),m=()=>t(962730),_=(t(581454),()=>t(584262)),b=()=>t(179034),g=()=>t(869558),f=()=>t(257216),S=()=>t(246826),w=()=>t(435009),I=()=>t(751156),x=()=>t(492414),k=()=>t(765957),C=()=>t(589994),M=()=>t(630116);var j=t(474848);function B(e){const i=(0,o().v3)(),t=(0,s().tz)(),B=(0,n().K8)((()=>(0,u().T0)(i)),[i]),W=(0,r.useCallback)((()=>{!async function(e){const i=e.currentUser.id;if(!i)return;const t=k().default.state.currentSpaceStore;if(!t)return;const r=t.getSpaceId(),o=e.idCreator.getSpaceIdCreatorSync(r),n=(0,u().hY)(i,o),a=M().sk.createUniqueRootStore(e,{id:n,table:b().ev,spaceId:r});if(await a.load(),!a.isDefined()){const o=e.idCreator.getSpaceIdCreatorSync(r),{block:n,collectionViews:a}=(0,u().ZH)({userId:i,spaceIdCreator:o});I().createAndCommit({environment:e,userAction:"sidebar.createLibraryPage",canUndo:!0,perform:i=>{const r=S().Wv({environment:e,id:n.id,type:n.type,properties:n.properties,format:n.format,permissions:n.permissions,transaction:i,inMemoryRecordCache:e.defaultRecordCache.inMemoryRecordCache});f().bn({parentStore:t,childStore:r,alive:!0,transaction:i}),S().zv({store:r,data:{view_ids:a.map((e=>e.id))},transaction:i});for(const t of a)S().eC({environment:e,table:g().Gy,value:t,transaction:i,inMemoryRecordCache:e.defaultRecordCache.inMemoryRecordCache})}}),await C().transactionQueue.drain()}const l=(0,x().Ay)({store:a,fullyQualified:!1,pageVisitSource:_().y8.LibraryPage});w().oo({environment:e,url:l})}(i)}),[i]),R=(0,a().IS)((e=>({sidebarItem:{...B&&{fontWeight:d().Wy.semibold,background:e.sidebarItemSelectedBackground}},iconWrapper:{position:"relative"}})),[B]),L=(0,h().ab)();return(0,j.jsx)(v().A,{renderTooltip:()=>(0,j.jsx)("div",{children:t.formatMessage(V.tooltip)}),originGap:6,placement:m().W.Right,render:i=>{var r;return(0,j.jsx)(c().A,{style:{...L.baseSidebarItem,...R.sidebarItem,...B&&L.currentSelectedSidebarItem},onClick:W,hoveredStyle:null===(r=e.styles)||void 0===r?void 0:r.buttonHoveredStyle,...i,children:(0,j.jsx)(y().A,{left:(0,j.jsx)("div",{style:R.iconWrapper,children:(0,j.jsx)(p().I,{icon:l().bookIcon,color:"secondary",size:"lg"})}),children:t.formatMessage(V.title)})})}})}const V=(0,s().YK)({tooltip:{id:"sidebar.library.tooltip",defaultMessage:"View all the pages related to you"},title:{id:"sidebar.library.button",defaultMessage:"Library"}})},742943:(e,i,t)=>{t.d(i,{T0:()=>d,ZH:()=>v,hY:()=>c});t(581454);var r=()=>t(179034),o=()=>t(869558),n=()=>t(96689),a=()=>t(919709),l=()=>t(765957);const s="3";function d(e){var i;const t=l().default.state.currentSpaceStore;if(!t)return!1;const r=t.getSpaceId(),o=e.currentUser.id;if(!o)return!1;return c(o,e.idCreator.getSpaceIdCreatorSync(r))===(null===(i=l().default.state.mainEditorCurrentBlockStore)||void 0===i?void 0:i.id)}function c(e,i){return i.deterministicIdInSavedSpace(r().ev,`${e}:${i.getSpaceId()}:library-v${s}:collectionViewBlock`)}function p(e,i,t){return i.deterministicIdInSavedSpace(o().Gy,`${e}:${i.getSpaceId()}:library-v${s}:collectionView:${t}`)}function v(e){const{userId:i,spaceIdCreator:t}=e,o=t.getSpaceId(),l=c(i,t),s=function(e){const{userId:i,spaceIdCreator:t,collectionViewBlockId:o}=e,n=t.getSpaceId(),a={id:p(i,t,"myPages"),version:1,alive:!0,space_id:n,parent_table:r().ev,parent_id:o,name:"My Pages",type:"list",format:{collection_view_source:{type:"myPages",spaceId:n},collection_view_icon:"/icons/grid_gray.svg",hide_linked_collection_name:!0,collection_peek_mode:"side_peek",list_properties:[{property:"title",visible:!0},{property:"created_time",visible:!1},{property:"created_by",visible:!1},{property:"last_edited_by",visible:!1},{property:"last_edited_time",visible:!0},{property:"last_visited_time",visible:!1}]}},l={id:p(i,t,"recents"),version:1,alive:!0,space_id:n,parent_table:r().ev,parent_id:o,name:"Recents",type:"list",format:{collection_view_source:{type:"recents",spaceId:n},collection_view_icon:"/icons/clock-alternate_gray.svg",list_properties:[{property:"title",visible:!0},{property:"created_by",visible:!1},{property:"created_time",visible:!1},{property:"last_edited_by",visible:!1},{property:"last_edited_time",visible:!1},{property:"last_visited_time",visible:!0}],hide_linked_collection_name:!0,collection_peek_mode:"side_peek"}},s={id:p(i,t,"sharedWithMe"),version:1,alive:!0,space_id:n,parent_table:r().ev,parent_id:o,name:"Shared with me",type:"list",format:{collection_view_source:{type:"sharedWithMe",spaceId:n},collection_view_icon:"/icons/friends_gray.svg",hide_linked_collection_name:!0,collection_peek_mode:"side_peek",list_properties:[{property:"title",visible:!0},{property:"created_time",visible:!1},{property:"created_by",visible:!0},{property:"last_edited_by",visible:!1},{property:"last_edited_time",visible:!0},{property:"last_visited_time",visible:!1}]}};return{myPagesView:a,recentsView:l,sharedWithMeView:s}}({userId:i,spaceIdCreator:t,collectionViewBlockId:l}),d=Object.values(s);return{block:{id:l,version:1,alive:!0,type:"collection_view_page",space_id:o,parent_table:n().NX,parent_id:o,permissions:[{type:"exclusive_user_permission",user_id:i,role:"read_and_write"}],properties:{title:(0,a().x9d)("Library")},view_ids:d.map((e=>e.id))},collectionViews:d}}}}]);