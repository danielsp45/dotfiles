"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[9647],{2609:(e,t,i)=>{i.d(t,{J2:()=>j,NF:()=>S,gA:()=>w,hr:()=>k,jl:()=>M,p6:()=>_,rQ:()=>I});i(898992),i(672577),i(581454),i(296540);var n=()=>i(56366),a=()=>i(401497),o=()=>i(803960),s=()=>i(959013),r=()=>i(722872),l=()=>i(115512),d=()=>i(700250),c=()=>i(493823),u=()=>i(843189),p=()=>i(760217),m=()=>i(406699),g=()=>i(331542),h=()=>i(928600),f=()=>i(939740),x=()=>i(554509),b=()=>i(204063),v=()=>i(73332),y=()=>i(89924),A=()=>i(475971),C=i(474848);const w=24,j=440,S=j+40;function I(e){const{icon:t,title:i,byline:n,bylineWidthOverride:o}=e,s=(0,a().IS)((()=>({container:{margin:"0 auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",gap:8},title:{textAlign:"center"},byline:{textAlign:"center"}})),[]);return(0,C.jsxs)("div",{style:s.container,children:[t,(0,C.jsx)(x().D,{styleName:"Heading-17px/Semibold",customStyles:s.title,children:i}),(0,C.jsx)(x().D,{styleName:"UIRegular-14px/Regular",colorName:"secondary",customStyles:o?{...s.byline,width:o}:s.byline,children:n})]})}function M(e){const{primaryText:t,primaryAction:i,primaryDisabled:n,secondaryText:o,secondaryAction:s,isLightRed:r,isDarkRed:l,isLoading:d}=e,p=!(r||l),m=(0,a().IS)((e=>({container:{margin:"0 auto",display:"flex",flexDirection:p?"row-reverse":"column",alignItems:"center",justifyContent:p?"flex-start":"flex-end",gap:8,padding:"0 20px",marginLeft:-20,width:"calc(100% + 40px)"},fullWidth:p?{}:{width:"100%",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center"},cancelButton:{...A().W,height:32,color:e.text.secondary}})),[p]);return(0,C.jsxs)("div",{style:m.container,children:[r?(0,C.jsx)(u().E,{size:"lg",onClick:i,color:r?"uiRed":void 0,disabled:n,style:m.fullWidth,children:d?(0,C.jsx)(g().A,{}):t}):(0,C.jsx)(b().A,{size:"lg",onClick:i,disabled:n,style:m.fullWidth,isRed:l,children:d?(0,C.jsx)(g().A,{}):t}),(0,C.jsx)(c().p,{size:"lg",onClick:s,style:{...m.fullWidth,...m.cancelButton},children:o})]})}function k(e){const{selectedId:t,options:i,onChange:n}=e,l=(0,a().IS)((e=>({container:{display:"flex",flexDirection:"column",gap:8},chevron:{width:12,marginLeft:3,marginRight:3,fill:e.icon.tertiary},selectedButton:{width:"100%",margin:0,paddingTop:4,paddingBottom:4,border:`1px solid ${e.outlineButtonBorder}`},icon:{alignSelf:"start",marginTop:0,fill:e.icon.secondary,height:18,width:18}})),[]);return(0,C.jsxs)("div",{style:l.container,children:[(0,C.jsx)(x().D,{styleName:"UISmall-12px/Medium",colorName:"secondary",children:(0,C.jsx)(s().sA,{id:"orgConsole.modal.dropdown.title",defaultMessage:"Select role"})}),(0,C.jsx)(m().Ay,{popupType:m().z7.Popup,renderOrigin:e=>{const n=i.find((e=>e.id===t));return n?(0,C.jsx)(p().A,{...e,title:n.title,caption:n.caption,icon:n.icon({fill:l.icon.fill}),desktopIconStyle:l.icon,disabled:!1,right:(0,o().arrowChevronSingleDownIcon)(l.chevron),shouldWrapCaption:!0,buttonStyle:l.selectedButton,focused:!1}):null},originGap:8,placementToOrigin:d().UV.Bottom,alignmentToOrigin:d().MY.Center,sameWidthAsOrigin:!0,render:e=>{const a=[{key:"options",render:e=>(0,C.jsx)(y().A,{...e,topBorder:0!==e.index}),items:i.map((i=>{const a=i.id===t;return{key:i.id,render:e=>(0,C.jsx)(p().A,{...e,title:i.title,caption:i.caption,icon:i.icon({fill:l.icon.fill}),desktopIconStyle:l.icon,isChecked:a,shouldWrapCaption:!0}),action:()=>{n(i.id),e.close()}}}))}];return(0,C.jsx)(h().A,{menuType:r().gu.Popup,children:(0,C.jsx)(f().Ay,{type:f().Oh.Vertical,initialFocus:void 0,sections:a})})}})]})}function _(e){const{items:t,selectedIds:i,disabledIds:o,onSelectHeader:s,onSelect:r,titleText:d,headerText:c,headerAction:u}=e,p=(0,a().IS)((e=>({container:{display:"flex",flexDirection:"column",gap:8,marginBottom:4},selectorContainer:{border:`1px solid ${e.stroke.secondary}`,boxShadow:"0px 2px 4px 0px #0000000a",borderRadius:8},checkbox:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},headerText:{display:"flex",justifyContent:"center",alignItems:"flex-start",flexDirection:"column"},right:{display:"flex",justifyContent:"flex-end",alignItems:"flex-end",flexDirection:"row"},workspace:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",gap:8},byline:{display:"flex",flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},bylineWithoutCheckboxes:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center"},iconContainer:{display:"flex",alignItems:"center",justifyContent:"center",height:28,width:28},textContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",gap:2},selectorHeader:{padding:"4px 12px",borderBottom:`1px solid ${e.stroke.secondary}`,display:"grid",gridTemplateColumns:"24px 1fr 1fr"},selectorHeaderWithAction:{padding:"4px 4px 4px 12px",borderBottom:`1px solid ${e.stroke.secondary}`,display:"grid",gridTemplateColumns:"24px 1fr 1fr"},selectorBody:{paddingInline:12,display:"flex",flexDirection:"column",alignItems:"center",justifyItems:"center",width:"100%",maxHeight:204,overflowX:"hidden",overflowY:"auto"},selectorBodyRow:{display:"grid",gridTemplateColumns:"24px minmax(auto, 50%) 1fr",width:"100%",paddingBlock:8,gap:8,borderTop:`1px solid ${e.stroke.secondary}`}})),[]),m=void 0!==i&&void 0!==o&&r&&s,g=void 0!==o?t.length-o.length:0,h=(0,n().K8)((()=>{if(void 0===i)return!1;let e=0;for(const n of t)i.includes(n.id)&&(e+=1);return 0!==e&&(e===g?0!==g:"partial")}),[t,i,g]);return(0,C.jsxs)("div",{style:p.container,children:[(0,C.jsx)(x().D,{styleName:"UISmall-12px/Medium",colorName:"secondary",children:d}),(0,C.jsxs)("div",{style:p.selectorContainer,children:[(0,C.jsxs)("div",{style:{...u?p.selectorHeaderWithAction:p.selectorHeader,gridTemplateColumns:m?"24px 1fr 1fr":"1fr 1fr"},children:[m?(0,C.jsx)("div",{style:p.checkbox,children:(0,C.jsx)(v().T,{checked:h,size:14,onClick:s})}):null,(0,C.jsx)(x().D,{styleName:"UISmall-12px/Medium",colorName:"secondary",customStyles:p.headerText,children:c}),(0,C.jsx)("div",{style:p.right,children:u})]}),(0,C.jsx)("div",{style:p.selectorBody,children:t.map(((e,t)=>{let{id:n,icon:a,name:s,caption:d,byline:c}=e;return(0,C.jsxs)("div",{style:{...p.selectorBodyRow,borderTopWidth:0===t?0:1,gridTemplateColumns:m?"24px minmax(auto, 50%) 1fr":"minmax(auto, 50%) 1fr"},children:[m?(0,C.jsx)("div",{style:p.checkbox,children:(0,C.jsx)(v().T,{checked:i.includes(n)||o.includes(n),size:14,onClick:()=>r(n),disabled:o.includes(n),style:{opacity:o.includes(n)?.3:1}})}):null,(0,C.jsxs)("div",{style:p.workspace,children:[(0,C.jsx)("div",{style:p.iconContainer,children:a}),(0,C.jsxs)("div",{style:p.textContainer,children:[(0,C.jsx)(x().D,{styleName:"UIRegular-14px/Medium",customStyles:{...(0,l().pA)(1),textOverflow:"ellipsis"},children:s}),d?(0,C.jsx)(x().D,{styleName:"UISmall-12px/Regular",colorName:"secondary",customStyles:{...(0,l().pA)(1),textOverflow:"ellipsis"},children:d}):null]})]}),(0,C.jsx)("div",{style:p.byline,children:c})]},n)}))})]})]})}},73332:(e,t,i)=>{i.d(t,{T:()=>c});var n=i(296540),a=()=>i(401497),o=()=>i(340498),s=i(474848);const r=(0,o().wt)("roundedCheckPartial",{viewBox:"0 0 14 14",svg:(0,s.jsx)("path",{d:"M5.33496 7.91016C4.85645 7.91016 4.5 7.63672 4.5 7.14355C4.5 6.64551 4.85645 6.37695 5.33496 6.37695H8.66016C9.14355 6.37695 9.5 6.64551 9.5 7.14355C9.5 7.63672 9.14355 7.91016 8.66016 7.91016H5.33496Z"})}),l=(0,o().wt)("roundedSquareCheckbox",{viewBox:"0 0 14 14",svg:(0,s.jsx)("rect",{x:"0.5",y:"0.5",width:"13",height:"13",rx:"2.5"})});var d=()=>i(381349);const c=n.memo(n.forwardRef((function(e,t){const{checked:o,disabled:c=!1,onClick:u,size:p,fill:m="none",stroke:g=d().Ay.uiLightGray,round:h=!1,thinOutline:f=!1,tooltipHeader:x,tapArea:b,checkedColor:v=d().Ay.blue,withComma:y,style:A,id:C,disallowTabbing:w,...j}=e,S=(0,n.useMemo)((()=>{switch(p){case 10:return 8;case 12:return 10;case 14:return 12;case 16:return 14;case 20:return 16;case 22:return 18}}),[p]),I=(0,a().IS)((()=>{const e=b?b.size:p;return{root:{width:p,height:p,display:"flex",alignItems:"center",justifyContent:"center",transition:"background 200ms ease-out",borderRadius:10===p?2:3,...!1!==o&&{background:v},...h&&{borderRadius:"50%"},...A},input:{width:e,height:e,top:-(e-p)/2,left:-(e-p)/2},iconWhite:{fill:d().Ay.white,width:S,height:S},iconDefault:{fill:m,stroke:g}}}),[b,p,o,v,h,A,S,m,g]),M=(0,a().DP)(),k=(0,n.useMemo)((()=>!0===o||"partial"===o?("partial"===o?r:i(980585).n)(I.iconWhite):h?f?"light"===M.mode?(0,i(953624).k)(I.iconDefault):(0,i(753476).e)(I.iconDefault):(0,i(968307).Z)(I.iconDefault):l(I.iconDefault)),[o,h,f,I.iconDefault,I.iconWhite,M.mode]),_=(0,n.useCallback)((()=>x),[x]),P=(0,n.useCallback)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i(435801)._,{ref:t,checked:o,disabled:c,onClick:u,style:I.root,inputStyle:I.input,id:C,disallowTabbing:w,...j,...e,children:(0,s.jsx)("div",{"aria-hidden":"true",children:k})}),y?", ":""]})}),[t,o,c,u,I.root,I.input,C,w,j,k,y]);return x?(0,s.jsx)(i(859428).A,{renderTooltip:_,render:P}):P()})))},113507:(e,t,i)=>{i.d(t,{A:()=>n});const n=new(i(463830).A)},163580:(e,t,i)=>{i.d(t,{VT:()=>r,b0:()=>l,gz:()=>d});i(517642),i(658004),i(733853),i(845876),i(432475),i(515024),i(731698),i(898992),i(354520),i(581454);var n=()=>i(799288),a=()=>i(332393),o=()=>i(765957),s=()=>i(630116);function r(e,t){const i=t.getAlive(),a=(0,n().hu)(t),o=!l(t),s=l(t),r=Boolean(e.currentUser.id===t.getParentId());return i&&a&&(s&&r||o)}function l(e){if(!e.getAlive||!(0,n().hu)(e))return!1;const{currentUserRootStore:t}=o().default.state,i=e.getIntegrationId();if(!t||!i)return!1;const r=(0,s().Oo)(t,{id:i,table:a().Li}).getKeyStore("type").getValue();return!e.isInternalBot(r?{type:r}:void 0)}function d(e){const{externalIntegrationStoreState:t,integrationId:i}=e;if(!t.loaded)return;const a=t.externalAuthentications.map((e=>{let{parent_id:t}=e;return t})),o=new Set(a),s=t.bots.filter((e=>e.alive&&o.has(e.id)&&(0,n().Sd)(e)&&e.integration_id===i));return s.length?s[0]:void 0}},192591:(e,t,i)=>{i.d(t,{P:()=>b,_:()=>v});var n=()=>i(861017),a=()=>i(939768),o=()=>i(559926),s=()=>i(901389),r=()=>i(780054),l=()=>i(725951),d=()=>i(522094),c=()=>i(313961),u=()=>i(404141),p=()=>i(250933),m=()=>i(449506),g=()=>i(874913),h=()=>i(496414),f=()=>i(957416);const x=(0,i(959013).YK)({authenticatingWithTrello:{id:"trelloActions.authenticatingWithTrello.loadingMessage",defaultMessage:"Authenticating with Trello…"},titleMessage:{defaultMessage:"Trello login",id:"trelloActions.loginPopupModal.title"}});async function b(e){const{environment:t,requestStore:i}=e,p=d().A.getOrCreateFlowId();o()._$(t,{import_source:"trello",data:{import_type:"api",status:"initiated",userId:t.currentUser.id},flowId:p});const b=(0,l().LX)(t);let y=(0,n().bQ)(r().A.domainBaseUrl,{authType:b,userId:t.currentUser.id,isElectronDevice:t.device.isElectron});if(y=b.redirectToAuth?y:await(0,l().YN)(t,y),t.device.isElectron)return void g().openExternalUrl(y);const A=await f().P(t,{width:580,height:700,url:y,titleMessage:x.titleMessage});if(!A)return;const C=a().qg(A),w=C.query.oauth_token,j=C.query.oauth_verifier;if(!w||!j)return;h().m({message:x.authenticatingWithTrello});const S=await m().callApi({eventName:"authWithTrello",environment:t,data:{requestToken:w,verifier:j}});"failed"===S.type?(o()._$(t,{import_source:"trello",data:{import_type:"api",status:"failure",error:S.error,userId:t.currentUser.id},flowId:p}),console.error(S.error),s().Qg(S),h().V()):(o()._$(t,{import_source:"trello",data:{import_type:"api",status:"success",userId:t.currentUser.id},flowId:p}),o().mu(t,{integration_name:"trello"}),await i.refresh(),c().A.setState({open:!0}),u().A.setState({...u().A.state,open:!0,currentTab:"imports",highlightedSetting:void 0,defaultSubtab:void 0}),await v(t,i),h().V())}async function v(e,t){p().A.setState({...p().A.state,isFetchingBoards:!0,showLoader:!0});const i=await m().callApi({eventName:"getTrelloBoards",environment:e,data:{}});return await t.refresh(),"success"===i.type?(p().A.setState({...p().A.state,boardsResponse:i.data,isFetchingBoards:!1,showLoader:!1}),i.data):(console.error(i.error),{boards:[]})}},197534:(e,t,i)=>{i.d(t,{Q:()=>a});i(296540);var n=i(474848);const a=(0,i(340498).wt)("settingsMembersFilled",{viewBox:"0 0 20 13",svg:(0,n.jsx)("path",{d:"M13.582 6.00293C15.0723 6.00293 16.3369 4.67676 16.3369 2.96094C16.3369 1.28613 15.0654 0.0078125 13.582 0.0078125C12.0986 0.0078125 10.8203 1.30664 10.8271 2.97461C10.8271 4.67676 12.0918 6.00293 13.582 6.00293ZM5.67969 6.16016C6.97852 6.16016 8.0791 4.99805 8.0791 3.50781C8.0791 2.04492 6.97168 0.9375 5.67969 0.9375C4.3877 0.9375 3.27344 2.06543 3.28027 3.52148C3.28027 4.99805 4.38086 6.16016 5.67969 6.16016ZM1.91309 12.3604H7.0332C6.30859 11.3145 7.1084 9.25 8.64648 8.04688C7.89453 7.55469 6.91016 7.19922 5.67969 7.19922C2.62402 7.19922 0.648438 9.44824 0.648438 11.3076C0.648438 11.9775 0.990234 12.3604 1.91309 12.3604ZM9.31641 12.3604H17.8408C18.9619 12.3604 19.3516 12.0186 19.3516 11.3965C19.3516 9.63281 17.123 7.21289 13.5752 7.21289C10.0342 7.21289 7.80566 9.63281 7.80566 11.3965C7.80566 12.0186 8.19531 12.3604 9.31641 12.3604Z"})})},212727:(e,t,i)=>{i.r(t),i.d(t,{gearIcon:()=>o,iconDefinition:()=>a});i(296540);var n=i(474848);const a={viewBox:"0 0 20 20",fittedViewBox:"2.19 2.19 15.58 15.6",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M7.29 10c0 1.5 1.22 2.71 2.71 2.71 1.5 0 2.71-1.21 2.71-2.71S11.5 7.29 10 7.29 7.29 8.5 7.29 10m1.25 0c0-.81.66-1.46 1.46-1.46.81 0 1.46.65 1.46 1.46s-.65 1.46-1.46 1.46-1.46-.65-1.46-1.46"}),(0,n.jsx)("path",{d:"M8.49 17.64q.75.15 1.53.15v-.01c.47 0 .94-.04 1.41-.13.26-.05.46-.25.5-.51l.26-1.53.15-.06 1.28.91c.21.14.49.14.71 0 .41-.28.8-.61 1.18-.98.33-.33.63-.7.9-1.09.15-.21.15-.5 0-.71l-.9-1.27.06-.15 1.55-.27c.26-.05.46-.25.51-.5a7.8 7.8 0 0 0 .02-2.94.62.62 0 0 0-.51-.5l-1.53-.26-.06-.15.91-1.28c.14-.21.14-.49 0-.71a7.9 7.9 0 0 0-2.07-2.08.62.62 0 0 0-.71 0l-1.27.9-.15-.06-.27-1.55a.64.64 0 0 0-.5-.51c-.5-.1-1-.15-1.53-.15-.47 0-.95.04-1.41.13-.26.05-.46.25-.5.51l-.26 1.53-.15.06-1.28-.91a.65.65 0 0 0-.71 0 7.9 7.9 0 0 0-2.08 2.07c-.15.21-.15.5 0 .71l.9 1.27-.06.15-1.55.27c-.26.05-.46.25-.51.5-.1.5-.15 1-.15 1.53 0 .47.04.95.13 1.41.05.26.25.46.51.5l1.53.26.06.15-.91 1.28c-.14.21-.15.49 0 .71.29.42.61.81.98 1.18.34.34.7.65 1.09.91.21.15.5.15.71 0l1.27-.9.15.06.27 1.55c.05.26.25.46.5.51m2.29-1.15c-.53.07-1.09.07-1.63 0l-.25-1.47a.62.62 0 0 0-.42-.49 6 6 0 0 1-.68-.28.63.63 0 0 0-.65.04l-1.2.85a6.8 6.8 0 0 1-1.14-1.16l.86-1.21c.13-.19.15-.43.05-.64-.11-.22-.21-.45-.28-.68a.62.62 0 0 0-.49-.43l-1.45-.25a6.7 6.7 0 0 1 0-1.63l1.47-.25c.23-.04.42-.2.49-.42.07-.23.17-.46.28-.68.11-.21.09-.46-.04-.65l-.85-1.2A6.8 6.8 0 0 1 6.01 4.8l1.21.86c.19.13.43.15.64.05.22-.11.45-.21.68-.28s.39-.26.43-.49l.25-1.45c.53-.07 1.09-.07 1.63 0l.25 1.47c.04.23.2.42.42.49.23.07.46.17.68.28.21.11.46.09.65-.04l1.2-.85A6.8 6.8 0 0 1 15.19 6l-.86 1.21c-.13.19-.15.43-.05.64.11.22.21.45.28.68s.26.39.49.43l1.45.25a6.7 6.7 0 0 1 0 1.63l-1.47.25c-.23.04-.42.2-.49.42-.07.23-.17.46-.28.68-.11.21-.09.46.04.65l.85 1.2a6.8 6.8 0 0 1-1.16 1.14l-1.21-.86a.64.64 0 0 0-.64-.05c-.22.11-.45.21-.68.28s-.39.26-.43.49z"})]})},o=(0,i(340498).wt)("gear",a)},250933:(e,t,i)=>{i.d(t,{A:()=>a});class n extends(()=>i(757695))().Store{getInitialState(){return{boardsResponse:{boards:[]},isFetchingBoards:!0,showLoader:!1}}}const a=new n},265665:(e,t,i)=>{i.d(t,{j:()=>c});var n=i(296540),a=()=>i(484714),o=()=>i(401497),s=()=>i(284371),r=()=>i(859428);var l=()=>i(962730),d=i(474848);function c(e){let{children:t,style:i,tooltipStyle:c,placement:u=l().W.Bottom}=e;const{isSafari:p}=(0,a().Y0)(),m=(0,n.useRef)(null),g=function(e){const[t,i]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{const{current:t}=e;if(!t)return void i(!1);const n="ResizeObserver"in window?new ResizeObserver((e=>{let[t]=e;i(t.target.scrollWidth>t.target.clientWidth)})):void 0;return null==n||n.observe(t),()=>null==n?void 0:n.unobserve(t)}),[]),t}(m),h=(0,o().IS)((()=>({overflowText:{...s().RC,...i}})),[i]);return(0,d.jsx)(r().A,{delayThreshold:500,placement:u,textWrap:!0,style:c,forceVisibleState:!(p||!g)&&void 0,renderTooltip:()=>g?t:void 0,render:e=>(0,d.jsx)("div",{ref:m,style:h.overflowText,...e,children:t})})}},313961:(e,t,i)=>{i.d(t,{A:()=>n});const n=new(i(463830).A)},319567:(e,t,i)=>{i.d(t,{N:()=>a});i(296540);var n=i(474848);const a=(0,i(340498).wt)("topbarComment",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M5.9375 18.4844C6.38281 18.4844 6.71094 18.2656 7.25 17.7891L9.92969 15.4297H14.6328C16.9844 15.4297 18.3047 14.0703 18.3047 11.75V5.67969C18.3047 3.35938 16.9844 2 14.6328 2H4.67188C2.32812 2 1 3.35938 1 5.67969V11.75C1 14.0781 2.36719 15.4297 4.61719 15.4297H4.9375V17.3438C4.9375 18.0391 5.30469 18.4844 5.9375 18.4844ZM6.32812 16.7344V14.5078C6.32812 14.0469 6.125 13.8672 5.6875 13.8672H4.72656C3.25781 13.8672 2.55469 13.125 2.55469 11.7031V5.72656C2.55469 4.30469 3.25781 3.5625 4.72656 3.5625H14.5859C16.0469 3.5625 16.75 4.30469 16.75 5.72656V11.7031C16.75 13.125 16.0469 13.8672 14.5859 13.8672H9.84375C9.36719 13.8672 9.13281 13.9453 8.80469 14.2891L6.32812 16.7344Z"})})},320865:(e,t,i)=>{i.d(t,{A:()=>a});i(296540);var n=i(474848);const a=function(){return(0,n.jsx)(i(678553).Ay,{title:(0,n.jsx)(i(331542).A,{})})}},324009:(e,t,i)=>{i.d(t,{J:()=>b,p:()=>v});var n=()=>i(861017),a=()=>i(939768),o=()=>i(559926),s=()=>i(901389),r=()=>i(780054),l=()=>i(725951),d=()=>i(372555),c=()=>i(113507),u=()=>i(522094),p=()=>i(404141),m=()=>i(449506),g=()=>i(874913),h=()=>i(496414),f=()=>i(957416);const x=(0,i(959013).YK)({authenticatingWithEvernote:{id:"evernoteActions.authenticatingWithEvernote.loadingMessage",defaultMessage:"Authenticating with Evernote…"},titleMessage:{defaultMessage:"Evernote login",id:"evernoteActions.loginPopupModal.title"}});async function b(e){const{environment:t,requestStore:i}=e,b=u().A.getOrCreateFlowId();o()._$(t,{import_source:"evernote",data:{import_type:"api",status:"initiated",userId:t.currentUser.id},flowId:b});const y=(0,l().LX)(t);let A=(0,n().TD)(r().A.domainBaseUrl,{authType:y,userId:t.currentUser.id,isElectronDevice:t.device.isElectron});if(A=y.redirectToAuth?A:await(0,l().YN)(t,A),t.device.isElectron)return h().m({message:x.authenticatingWithEvernote}),d().A.setState({...d().A.state,linkingAccount:!0,showLoader:!0}),void g().openExternalUrl(A);const C=await f().P(t,{width:580,height:700,url:A,titleMessage:x.titleMessage});if(!C)return;const w=a().qg(C),j=w.query.oauth_token,S=w.query.oauth_verifier;if(!j||!S)return;h().m({message:x.authenticatingWithEvernote});const I=await m().callApi({eventName:"authWithEvernote",environment:t,data:{requestToken:j,verifier:S}});if("failed"===I.type)return o()._$(t,{import_source:"evernote",data:{import_type:"api",status:"failure",error:I.error,userId:t.currentUser.id},flowId:b}),console.error(I.error),s().Qg(I),void h().V();o()._$(t,{import_source:"evernote",data:{import_type:"api",status:"success",userId:t.currentUser.id},flowId:b}),o().mu(t,{integration_name:"evernote"}),await i.refresh(),c().A.setState({open:!0}),p().A.setState({...p().A.state,open:!0,currentTab:"imports",highlightedSetting:void 0,defaultSubtab:void 0}),await v({environment:t,requestStore:i}),h().V()}async function v(e){const{environment:t,requestStore:i}=e;try{d().A.setState({...d().A.state,isFetchingNotebooks:!0,showLoader:!0});const e=await m().callApi({eventName:"getEvernoteNotebooks",environment:t,data:{}});if(await i.refresh(),"success"===e.type){d().A.setState({...d().A.state,notebooksResponse:e.data,isFetchingNotebooks:!1,showLoader:!1});const{userInfo:t,notebooks:i}=e.data;return{userInfo:t,notebooks:i}}return console.error(e.error),{notebooks:[],userInfo:void 0}}catch(n){return console.error(n),{notebooks:[],userInfo:void 0}}}},347930:(e,t,i)=>{i.d(t,{H:()=>o});var n=()=>i(645873);const a=new(n().O2)("permissionsInviteWithModal",(async()=>await Promise.all([i.e(75134),i.e(9304),i.e(16471),i.e(58550),i.e(44711),i.e(53321),i.e(90825),i.e(96346),i.e(55373),i.e(37353),i.e(29151),i.e(78191),i.e(62475),i.e(3151),i.e(98629),i.e(49889),i.e(97727),i.e(22900),i.e(85128),i.e(95555),i.e(14659),i.e(92845),i.e(84468),i.e(5605),i.e(48486),i.e(95794),i.e(13677),i.e(56952),i.e(48632),i.e(74562),i.e(27711),i.e(4422),i.e(11341),i.e(46414),i.e(95168),i.e(28271),i.e(34877),i.e(36908),i.e(17254),i.e(84185),i.e(32421),i.e(15315),i.e(24587),i.e(78708),i.e(43777),i.e(74752),i.e(91194),i.e(81197),i.e(98659),i.e(20502),i.e(6266),i.e(8184),i.e(83884),i.e(65881),i.e(99809),i.e(93282),i.e(43678),i.e(15019),i.e(90978),i.e(3910),i.e(77213),i.e(6912),i.e(21194),i.e(30291),i.e(39541),i.e(12913),i.e(45620),i.e(54220),i.e(19930),i.e(81768),i.e(58102),i.e(52836),i.e(26483),i.e(19687),i.e(6463),i.e(68137),i.e(50569),i.e(40925),i.e(24975),i.e(282),i.e(87250),i.e(93847),i.e(79928),i.e(7203),i.e(61349),i.e(55197),i.e(94256),i.e(76690),i.e(29669),i.e(24930),i.e(62573),i.e(33882),i.e(44763),i.e(1440),i.e(5044),i.e(31782),i.e(93449),i.e(63996),i.e(895),i.e(66559),i.e(35986),i.e(45683),i.e(78862),i.e(38536),i.e(92924),i.e(64819),i.e(67378),i.e(40186),i.e(97339),i.e(55717),i.e(63797),i.e(56352),i.e(52811),i.e(28398),i.e(21367),i.e(65351),i.e(22686),i.e(4112),i.e(31889),i.e(36009),i.e(81973),i.e(2600),i.e(77663),i.e(97832),i.e(75681)]).then(i.bind(i,543950)))),o=(0,n()._h)(a,(e=>e.PermissionsInviteWithModal))},362006:(e,t,i)=>{i.r(t),i.d(t,{OauthAuthorization:()=>qe});i(517642),i(658004),i(733853),i(845876),i(432475),i(515024),i(731698),i(898992),i(354520),i(803949),i(581454);var n=i(296540),a=()=>i(484714),o=()=>i(56366),s=()=>i(401497),r=()=>i(725252),l=()=>i(757695),d=()=>i(799288),c=()=>i(187174),u=()=>i(59326),p=()=>i(824862),m=()=>i(332393),g=()=>i(798880),h=()=>i(322769),f=()=>i(20498),x=()=>i(381349),b=()=>i(498212),v=()=>i(534177),y=()=>i(284371),A=()=>i(939768),C=()=>i(908928),w=()=>i(755636),j=()=>i(426116),S=()=>i(664713),I=()=>i(725951),M=()=>i(640653),k=()=>i(37433),_=()=>i(249847),P=()=>i(320460),T=()=>i(765957),N=()=>i(630116),B=()=>i(999830),z=()=>i(263928),L=()=>i(555267),V=()=>i(750559),W=()=>i(406018),H=()=>i(959013),D=()=>i(816074),R=()=>i(864943),E=()=>i(204063),U=()=>i(719147),O=i(474848);function Z(e){const{integrationValue:t,oauthParams:i}=e,n=(0,a().v3)(),{oauthErrorType:o,title:r,body:l,primaryAction:d}=function(e){const t=(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.error.genericError.title",defaultMessage:"Something went wrong"});if("invalidClientId"===e.type)return{oauthErrorType:W().l.invalid_request,title:t,body:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.error.invalidClientId.body",defaultMessage:"Missing or incomplete Client ID. See <inlinetextlink>developer docs</inlinetextlink> for more help.",values:{inlinetextlink:e=>(0,O.jsx)(U().A,{href:"https://developers.notion.com/#handling-errors",children:e})}})};if("clientNotFound"===e.type)return{oauthErrorType:W().l.invalid_request,title:t,body:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.error.clientNotFound.body",defaultMessage:"Missing or incomplete Client ID. See <inlinetextlink>developer docs</inlinetextlink> for more help.",values:{inlinetextlink:e=>(0,O.jsx)(U().A,{href:"https://developers.notion.com/#handling-errors",children:e})}})};if("invalidResponseType"===e.type)return{oauthErrorType:W().l.invalid_request,title:t,body:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.error.invalidResponseType",defaultMessage:"Missing or invalid response_type. See <inlinetextlink>developer docs</inlinetextlink> for more help.",values:{inlinetextlink:e=>(0,O.jsx)(U().A,{href:"https://developers.notion.com/#handling-errors",children:e})}})};if("integrationAlreadyInstalled"===e.type)return{oauthErrorType:W().l.access_denied,title:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.error.integrationAlreadyInstalled.title",defaultMessage:"This integration has already been added to {workspaceName}",values:{workspaceName:e.spaceName}}),body:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.error.integrationAlreadyInstalled.body",defaultMessage:"You can review and remove added integrations in Settings."}),primaryAction:{onClick:e.primaryAction,title:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.error.integrationAlreadyInstalled.openWorkspaceSettingsButton.label",defaultMessage:"Open Settings"})}};if("notAnAdmin"===e.type)return{oauthErrorType:W().l.access_denied,title:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.error.notAnAdmin.title",defaultMessage:"As a guest, you can't install this integration to {workspaceName}.",values:{workspaceName:e.spaceName}}),body:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.error.notAnAdmin.body",defaultMessage:"You can ask a workspace owner to install the integration, or ask to be upgraded as a member."}),primaryAction:{onClick:e.primaryAction,title:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.error.notAnAdmin.switchWorkspaceButton.label",defaultMessage:"Switch workspace"})}};if("integrationNotApproved"===e.type)return{oauthErrorType:W().l.access_denied,title:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.error.integrationNotApproved.title",defaultMessage:"As a member, you can't install this integration to {workspaceName}",values:{workspaceName:e.spaceName}}),body:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.error.integrationNotApproved.body",defaultMessage:"You can ask a workspace owner to install the integration for you."}),primaryAction:{onClick:e.primaryAction,title:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.error.notAnAdmin.switchWorkspaceButton.label",defaultMessage:"Switch workspace"})}};if("invalidRedirectUri"===e.type)return{oauthErrorType:W().l.invalid_request,title:t,body:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.error.invalidRedirectUri.body",defaultMessage:"Missing or invalid redirect_uri. See <inlinetextlink>developer docs</inlinetextlink> for more help.",values:{inlinetextlink:e=>(0,O.jsx)(U().A,{href:"https://developers.notion.com/#handling-errors",children:e})}})};(0,v().HB)(e.type)}(e),c=function(){const{isMobile:e}=(0,a().Y0)(),t=e?25:48,i=e?18:20;return(0,s().IS)((()=>({container:{textAlign:"center",flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},icon:{fill:x().Ay.red,width:t,height:t,marginBottom:20,display:"inline-block"},title:{fontSize:i,margin:"0 50px 32px",textAlign:"center",fontWeight:y().Wy.medium,marginBottom:12},body:{marginTop:0,marginBottom:24,width:"80%"}})),[t,i])}();return(0,O.jsxs)("section",{style:c.container,children:[(0,V().f)(c.icon),(0,O.jsx)("header",{style:c.title,children:r}),(0,O.jsx)("p",{style:c.body,children:l}),d&&(0,O.jsx)("div",{style:c.body,children:(0,O.jsx)(E().A,{size:"lg",onClick:d.onClick,children:d.title})}),(0,O.jsx)(R().A,{size:"lg",onClick:()=>{D().D({environment:n,integration:t,errorType:o,params:i})},children:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.error.cancelButton.label",defaultMessage:"Cancel"})})]})}var F=()=>i(584262),K=()=>i(792071),Y=()=>i(433847);const q="1f8d872b-594c-80a4-b2f4-00370af2b13f";var G=()=>i(763824),$=()=>i(559926),Q=()=>i(901389),X=()=>i(510683),J=()=>i(496414),ee=()=>i(857783),te=()=>i(435009),ie=()=>i(2220),ne=()=>i(780054),ae=()=>i(163580),oe=()=>i(972435),se=()=>i(963589),re=()=>i(53137),le=()=>i(84817),de=()=>i(187820),ce=()=>i(340498);const ue=(0,ce().wt)("pageAdd",{viewBox:"0 0 16 17",svg:(0,O.jsx)("path",{d:"M4.135 8.707c2.46 0 4.491 2.023 4.491 4.484 0 .828-.232 1.607-.636 2.277h5.647c1.463 0 2.221-.773 2.221-2.242V7.107h-5.113c-.854 0-1.265-.417-1.265-1.271V.668H6.356c-1.462 0-2.221.772-2.221 2.242v5.797zm6.733-2.598h4.915c-.04-.307-.266-.601-.615-.963l-3.74-3.794c-.334-.342-.642-.575-.956-.616V5.72c0 .26.136.39.396.39zM4.135 16.712c1.914 0 3.52-1.593 3.52-3.52 0-1.928-1.593-3.514-3.52-3.514-1.928 0-3.52 1.592-3.52 3.513a3.537 3.537 0 003.52 3.52zm0-1.285a.441.441 0 01-.465-.465v-1.299h-1.3a.441.441 0 01-.465-.465c0-.287.192-.471.465-.471h1.3v-1.292c0-.274.184-.465.465-.465.28 0 .465.184.465.465v1.292h1.298c.28 0 .465.184.465.471 0 .28-.184.465-.465.465H4.6v1.299a.441.441 0 01-.465.465z"})}),pe=(0,ce().wt)("taskList",{viewBox:"0 0 18 17",svg:(0,O.jsx)("path",{d:"M3.48438 7.29688C5.35938 7.29688 6.92188 5.73438 6.92188 3.85938C6.92188 1.96875 5.35938 0.40625 3.48438 0.40625C1.59375 0.40625 0.0390625 1.96875 0.0390625 3.85938C0.0390625 5.73438 1.60156 7.29688 3.48438 7.29688ZM3.07031 5.70312C2.89844 5.70312 2.77344 5.61719 2.65625 5.47656L1.78125 4.42969C1.69531 4.32812 1.66406 4.23438 1.66406 4.10156C1.66406 3.85938 1.85156 3.67188 2.08594 3.67188C2.24219 3.67188 2.35156 3.73438 2.45312 3.875L3.05469 4.625L4.44531 2.39062C4.54688 2.23438 4.67969 2.15625 4.83594 2.15625C5.07031 2.15625 5.26562 2.33594 5.26562 2.55469C5.26562 2.66406 5.24219 2.76562 5.16406 2.88281L3.5 5.46875C3.39844 5.61719 3.25 5.70312 3.07031 5.70312ZM9.39844 4.54688H17.2578C17.6406 4.54688 17.9531 4.24219 17.9531 3.85938C17.9531 3.47656 17.6406 3.17188 17.2578 3.17188H9.39844C9.01562 3.17188 8.71875 3.47656 8.71875 3.85938C8.71875 4.24219 9.01562 4.54688 9.39844 4.54688ZM3.48438 16.3281C5.35938 16.3281 6.92188 14.7656 6.92188 12.8828C6.92188 10.9922 5.35938 9.4375 3.48438 9.4375C1.59375 9.4375 0.0390625 11 0.0390625 12.8828C0.0390625 14.7656 1.60156 16.3281 3.48438 16.3281ZM3.48438 15C2.32812 15 1.36719 14.0312 1.36719 12.8828C1.36719 11.7344 2.33594 10.7578 3.48438 10.7578C4.625 10.7578 5.60156 11.7344 5.60156 12.8828C5.60156 14.0312 4.625 15 3.48438 15ZM9.39844 13.5859H17.2578C17.6406 13.5859 17.9531 13.2812 17.9531 12.8984C17.9531 12.5156 17.6406 12.2109 17.2578 12.2109H9.39844C9.01562 12.2109 8.71875 12.5156 8.71875 12.8984C8.71875 13.2812 9.01562 13.5859 9.39844 13.5859Z"})});var me=()=>i(731320),ge=()=>i(885475);function he(e){const{integrationValue:t,validIntegrationTemplateId:i,botAccessOption:a,setBotAccessOption:o}=e,[{value:r}]=(0,c().Yb)((async()=>!!i&&await(0,me().zQ)(i)),[i]);n.useEffect((()=>{o(r?"duplicate_template":"pick_pages")}),[r,o]);const l=(0,s().IS)((()=>({container:{display:"grid",gridTemplateRows:"1fr 1fr",gap:8,marginTop:8},icon:{fill:x().Ay.red,width:20,height:20,marginRight:12},errorContainer:{display:"flex",alignItems:"center"}})),[]);return(0,O.jsxs)("div",{style:l.container,children:[(0,O.jsx)(fe,{disabled:!r,title:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.botAccessOption.useTemplate.title",defaultMessage:"Use a template provided by the developer"}),subtitle:r?(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.botAccessOption.useTemplate.subtitle",defaultMessage:"{integrationName} will duplicate this template into the Private pages of your workspace. The integration will then be able to {capabilities} content in this new page.",values:{capabilities:(0,O.jsx)(H().dT,{value:(0,ge().sm)(t.capabilities),type:"conjunction"}),integrationName:t.name}}):(0,O.jsx)("div",{style:l.errorContainer,children:(0,O.jsx)("div",{children:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.error.invalidTemplate.body",defaultMessage:"The page template is no longer public. <inlinetextlink>Contact the developer</inlinetextlink> for more help.",values:{inlinetextlink:e=>(0,O.jsx)(U().A,{href:`mailto:${t.info.email}`,children:e})}})})}),icon:ue,isSelected:"duplicate_template"===a,selectOption:()=>o("duplicate_template")}),(0,O.jsx)(fe,{title:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.botAccessOption.pickPages.title",defaultMessage:"Select pages to share with {integrationName}",values:{integrationName:t.name}}),subtitle:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.botAccessOption.pickPages.subtitle",defaultMessage:"Select one or multiple pages to share with {integrationName}",values:{integrationName:t.name}}),icon:pe,isSelected:"pick_pages"===a,selectOption:()=>o("pick_pages")})]})}function fe(e){const{title:t,subtitle:i,icon:n,isSelected:a,selectOption:o,disabled:r}=e,l=(0,s().IS)((e=>({button:{height:"none",padding:12,width:"100%",borderWidth:1,borderColor:e.outlineButtonBorder,borderRadius:4,cursor:r?"not-allowed":void 0},buttonSelected:{background:"white",borderWidth:2,borderColor:x().Ay.blue,padding:11,boxShadow:"0px 4px 8px rgba(66, 129, 219, 0.09), 0px 0px 2px rgba(0, 0, 0, 0.06), 0px 0px 1px rgba(0, 0, 0, 0.04)"},option:{width:"100%",whiteSpace:"normal",display:"grid",gridTemplateColumns:"min-content auto min-content",padding:6},text:{overflowWrap:"normal"},title:{fontSize:14,fontWeight:y().Wy.medium,color:x().Ay.frontTextMedium,marginBottom:6},subtitle:{fontSize:12,lineHeight:"140%",color:e.text.secondary},icon:{width:14,height:14,color:x().Ay.regularIconColor,marginRight:12}})),[r]);return(0,O.jsx)(R().A,{size:"lg",onClick:o,style:l.button,hovered:a,hoveredStyle:l.buttonSelected,pressedStyle:l.buttonSelected,disabled:r,children:(0,O.jsxs)("div",{style:l.option,children:[n(l.icon),(0,O.jsxs)("div",{style:l.text,children:[(0,O.jsx)("div",{style:l.title,children:t}),(0,O.jsx)("div",{style:l.subtitle,children:i})]})]})})}var xe=()=>i(388693),be=()=>i(855939),ve=()=>i(723786),ye=()=>i(489725);function Ae(e){const{integrationValue:t,selectedBlockIdsStore:i}=e,n=(0,xe().v_)(t),a=(0,se().X)("public_api_clearer_integration_access_oauth_page_picker"),r=(0,o().O$)(T().AppStoreCurrentSpaceViewStore),l=(0,o().O$)(T().AppStoreCurrentSpaceStore),d=(0,o().K8)((()=>r.getSharedPageIds()),[r]),{teamPagesByTeam:c,allTeams:u,allPrivatePages:p,allSharedPages:m,allWorkspacePages:g}=(0,ve().g)({currentSpaceViewStore:r,spaceStore:l,pageIdsSharedWithUser:d}),h=(0,s().IS)((e=>({subtitle:{fontSize:14,textAlign:"center",fontWeight:y().Wy.medium},linkPreviewSubtitle:{fontSize:14,textAlign:"left",color:e.text.tertiary}})),[]);return(0,O.jsxs)(le().Y1,{direction:"vertical",gap:24,children:[(0,O.jsx)("div",{style:h.subtitle,children:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.selectPagesStep.title",defaultMessage:"Allow “{integrationName}” to access these pages",values:{integrationName:t.name}})}),n&&(0,O.jsx)("div",{style:h.linkPreviewSubtitle,children:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.selectPagesStep.linkPreviewSubtitle",defaultMessage:"Your selections here will not impact this integration’s ability to unfurl links across your workspace"})}),a?(0,O.jsx)(be().C,{teamPagesByTeam:c,privatePages:p,pagesSharedWithUser:m,spaceId:l.id,allTeams:u,spaceStore:l,selectedBlockIdsStore:i,workspacePages:g,heightOverride:350}):(0,O.jsx)(ye().L,{selectedBlockIdsStore:i})]})}i(16280);var Ce=()=>i(546806),we=()=>i(851979);const je=(0,ce().wt)("notificationUnread",{viewBox:"0 0 20 20",svg:(0,O.jsx)("path",{d:"M3.622 12.683v-5.25c0-.62.05-1.172.15-1.655.105-.483.333-.9.684-1.25.351-.352.768-.58 1.251-.684a7.906 7.906 0 0 1 1.654-.157h4.69a2.893 2.893 0 0 0-.185 1.086 1.325 1.325 0 0 0-.007.13l.014.13H7.204c-.36 0-.697.032-1.012.096-.314.064-.567.189-.758.376a1.514 1.514 0 0 0-.376.759c-.06.31-.09.645-.09 1.005v5.605c0 .355.03.688.09.998.063.305.189.554.376.745.191.187.442.315.752.383.314.064.649.096 1.004.096h5.62c.35 0 .68-.032.99-.096.315-.064.566-.191.753-.383.191-.191.319-.44.382-.745.064-.31.096-.643.096-.998V8.191l.123.014c.046 0 .091-.002.137-.007.191.01.378-.002.56-.034.183-.036.356-.087.52-.15v4.669c0 .629-.052 1.184-.157 1.668-.1.483-.324.9-.67 1.25-.356.351-.777.58-1.265.684a7.944 7.944 0 0 1-1.66.157H7.374c-.624 0-1.18-.052-1.668-.157a2.478 2.478 0 0 1-1.25-.683 2.411 2.411 0 0 1-.685-1.251c-.1-.484-.15-1.04-.15-1.668Zm11.56-5.408a2.26 2.26 0 0 1-1.19-.32 2.455 2.455 0 0 1-.854-.862 2.27 2.27 0 0 1-.322-1.183c0-.433.107-.827.322-1.182.214-.36.499-.648.854-.862a2.26 2.26 0 0 1 1.19-.321c.423 0 .813.107 1.169.321.36.214.647.502.86.862.215.355.322.75.322 1.182 0 .429-.107.823-.321 1.183-.214.36-.501.647-.861.861a2.223 2.223 0 0 1-1.17.321Z"})}),Se=(0,ce().wt)("scribble",{viewBox:"0 0 16 15",svg:(0,O.jsx)("path",{d:"M1.048 9.972c.424.41 1.237.505 1.866-.069.226-.198.67-.67 1.367-1.374 3.418-3.459 5.524-5.64 5.9-5.298.3.274-.862 1.921-2.024 3.535-2.126 2.946-3.917 5.1-2.57 6.446 1.053 1.053 2.652.096 5.216-2.153 1.374-1.21 2.33-2.106 2.57-1.873.15.15-.212.745-.677 1.544-.656 1.135-1.531 2.42-.676 3.275.594.595 1.729.335 3.048-.97.274-.267.335-.589.103-.814-.212-.212-.513-.178-.738.027-.855.82-1.49 1.176-1.593 1.06-.13-.123.232-.773.861-1.894.868-1.552 1.401-2.59.602-3.37-1.074-1.04-2.331.061-4.512 1.982-1.853 1.627-2.611 2.051-2.782 1.867-.246-.26.437-1.183 2.46-4.013 2.188-3.049 3.487-5.031 2.257-6.234-1.607-1.566-3.767-.41-9.12 4.887-.779.766-1.264 1.23-1.503 1.518-.623.718-.486 1.51-.055 1.92z"})});var Ie=()=>i(197534),Me=()=>i(319567);const ke=(0,ce().wt)("topbarCommentFilled",{viewBox:"0 0 20 20",svg:(0,O.jsx)("path",{d:"M6.27344 19.0703C5.96094 19.0703 5.71615 18.9688 5.53906 18.7656C5.36719 18.5625 5.28125 18.2865 5.28125 17.9375V16.0156H4.85938C4.10417 16.0156 3.45573 15.8698 2.91406 15.5781C2.3776 15.2865 1.96354 14.8698 1.67188 14.3281C1.38542 13.7812 1.24219 13.1198 1.24219 12.3438V6.28125C1.24219 5.50521 1.38542 4.84635 1.67188 4.30469C1.95833 3.75781 2.3724 3.33854 2.91406 3.04688C3.46094 2.75521 4.1276 2.60938 4.91406 2.60938H15.0781C15.8594 2.60938 16.5234 2.75521 17.0703 3.04688C17.6172 3.33854 18.0339 3.75781 18.3203 4.30469C18.6068 4.84635 18.75 5.50521 18.75 6.28125V12.3438C18.75 13.1198 18.6068 13.7812 18.3203 14.3281C18.0339 14.8698 17.6172 15.2865 17.0703 15.5781C16.5234 15.8698 15.8594 16.0156 15.0781 16.0156H10.25L7.57812 18.3828C7.3125 18.6172 7.08333 18.7891 6.89062 18.8984C6.69792 19.013 6.49219 19.0703 6.27344 19.0703ZM6.65625 17.3438L9.13281 14.8906C9.29948 14.724 9.45312 14.6146 9.59375 14.5625C9.73958 14.5052 9.93229 14.4766 10.1719 14.4766H15.0312C15.7708 14.4766 16.3177 14.2943 16.6719 13.9297C17.0312 13.5599 17.2109 13.013 17.2109 12.2891V6.32812C17.2109 5.60938 17.0312 5.06771 16.6719 4.70312C16.3177 4.33333 15.7708 4.14844 15.0312 4.14844H4.95312C4.21875 4.14844 3.67188 4.33333 3.3125 4.70312C2.95833 5.06771 2.78125 5.60938 2.78125 6.32812V12.2891C2.78125 13.013 2.95833 13.5599 3.3125 13.9297C3.67188 14.2943 4.21875 14.4766 4.95312 14.4766H6.02344C6.24219 14.4766 6.40104 14.526 6.5 14.625C6.60417 14.7188 6.65625 14.8828 6.65625 15.1172V17.3438ZM6.02344 7.25781C5.88802 7.25781 5.77344 7.21094 5.67969 7.11719C5.58594 7.01823 5.53906 6.90104 5.53906 6.76562C5.53906 6.63542 5.58333 6.52344 5.67188 6.42969C5.76562 6.33594 5.88281 6.28906 6.02344 6.28906H13.8828C14.0234 6.28906 14.1406 6.33594 14.2344 6.42969C14.3281 6.52344 14.375 6.63542 14.375 6.76562C14.375 6.90104 14.3281 7.01823 14.2344 7.11719C14.1406 7.21094 14.0234 7.25781 13.8828 7.25781H6.02344ZM6.02344 9.74219C5.88802 9.74219 5.77344 9.69531 5.67969 9.60156C5.58594 9.50781 5.53906 9.39062 5.53906 9.25C5.53906 9.125 5.58333 9.01302 5.67188 8.91406C5.76562 8.8151 5.88281 8.76562 6.02344 8.76562H13.8828C14.0234 8.76562 14.1406 8.8151 14.2344 8.91406C14.3281 9.01302 14.375 9.125 14.375 9.25C14.375 9.39062 14.3281 9.50781 14.2344 9.60156C14.1406 9.69531 14.0234 9.74219 13.8828 9.74219H6.02344ZM6.02344 12.2344C5.88802 12.2344 5.77344 12.1875 5.67969 12.0938C5.58594 12 5.53906 11.8854 5.53906 11.75C5.53906 11.6146 5.58333 11.5 5.67188 11.4062C5.76562 11.3073 5.88281 11.2578 6.02344 11.2578H11.1406C11.276 11.2578 11.3906 11.3073 11.4844 11.4062C11.5833 11.5 11.6328 11.6146 11.6328 11.75C11.6328 11.8854 11.5833 12 11.4844 12.0938C11.3906 12.1875 11.276 12.2344 11.1406 12.2344H6.02344Z"})});var _e=()=>i(512062);function Pe(e){const{integrationValue:t,spaceName:i,existingBot:n}=e;if((0,m().SF)(t))throw new Error("Internal integrations should not be part of the Oauth authorization flow");const a=t.info.website_url,o=(0,Y()._L)(t.capabilities),r=(0,f().IM)(t.id),l=e=>a?(0,O.jsx)(U().A,{href:a,style:c.inlineTextLink,children:e}):e,d=t.capabilities,c=(0,s().IS)((()=>({inlineTextLink:{color:"black",textDecoration:"none"}})),[]);if(n){const e={};return Object.keys(t.capabilities).forEach((i=>{const a=i;t.capabilities[a]&&!n.capabilities[a]&&(e[a]=!0)})),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{children:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.existingCapabilties",defaultMessage:"<inlinetextlink>{integrationName}</inlinetextlink> already has the following permissions",values:{integrationName:t.name,inlinetextlink:l}})}),(0,O.jsx)(Te,{spaceName:i,capabilities:n.capabilities,integrationName:t.name,integrationInheritsCreatorAccess:o,integrationHasAdminAccess:r}),Object.keys(e).length>0&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{style:{marginTop:24},children:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.newCapabilties",defaultMessage:"<inlinetextlink>{integrationName}</inlinetextlink> will have the following additional permissions",values:{integrationName:t.name,inlinetextlink:l}})}),(0,O.jsx)(Te,{spaceName:i,capabilities:e,integrationName:t.name,integrationInheritsCreatorAccess:o,integrationHasAdminAccess:r})]})]})}return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{children:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.intro",defaultMessage:"<inlinetextlink>{integrationName}</inlinetextlink> will have permission to",values:{integrationName:t.name,inlinetextlink:l}})}),(0,O.jsx)(Te,{spaceName:i,capabilities:d,integrationName:t.name,integrationInheritsCreatorAccess:o,integrationHasAdminAccess:r})]})}function Te(e){const{spaceName:t,capabilities:i,integrationName:n,integrationInheritsCreatorAccess:a,integrationHasAdminAccess:o}=e;return(0,O.jsxs)(O.Fragment,{children:[(null==i?void 0:i.read_content)&&(0,O.jsx)(Ne,{icon:we().h,title:a?(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readContentWithInheritedAccess",defaultMessage:"View pages you have access to"}):o?(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readContentWithAdminAccess",defaultMessage:"View all pages"}):(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readContent",defaultMessage:"View pages you select"}),children:a?(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readContentWithInheritedAccess.description",defaultMessage:"{integrationName} will be able to view pages you can view.",values:{integrationName:n}}):o?(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readContentWithAdminAccess.description",defaultMessage:"{integrationName} will be able to view all pages in your workspace",values:{integrationName:n}}):(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readContent.description",defaultMessage:"{integrationName} will be able to view pages you select in the next step. You can also share pages later with {integrationName} in Notion",values:{integrationName:n}})}),(null==i?void 0:i.update_content)&&(0,O.jsx)(Ne,{icon:Se,title:a?(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.updateContentWithInheritedAccess",defaultMessage:"Edit pages you have access to"}):o?(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.updateContentWithAdminAccess",defaultMessage:"Edit all pages"}):(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.updateContent",defaultMessage:"Edit pages you select"}),children:a?(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.updateContentWithInheritedAccess.description",defaultMessage:"{integrationName} will be able to edit pages you can edit",values:{integrationName:n}}):o?(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.updateContentWithAdminAccess.description",defaultMessage:"{integrationName} will be able to edit all pages",values:{integrationName:n}}):(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.updateContent.description",defaultMessage:"{integrationName} will be able to edit pages you select in the next step. You can also share pages later with {integrationName} in Notion",values:{integrationName:n}})}),(null==i?void 0:i.insert_content)&&(0,O.jsx)(Ne,{icon:ue,title:a?(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertContentWithInheritedAccess",defaultMessage:"Create new content within pages you have access to"}):(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertContent",defaultMessage:"Create new content within pages you select"}),children:a?(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertContentWithInheritedAccess.description",defaultMessage:"{integrationName} will be able to add new content or sub-pages wherever you have permission to add new content or sub-pages",values:{integrationName:n,workspaceName:t}}):(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertContent.description",defaultMessage:"{integrationName} will be able to add new content or sub-pages to pages you select in the next step. You can also share pages later with {integrationName} in Notion",values:{integrationName:n,workspaceName:t}})}),(null==i?void 0:i.read_comment)&&(0,O.jsx)(Ne,{icon:Me().N,title:a?(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readCommentWithInheritedAccess",defaultMessage:"View comments within pages you have access to"}):o?(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readCommentWithAdminAccess",defaultMessage:"View all comments"}):(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readComment",defaultMessage:"View comments within pages you select"}),children:a?(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readCommentWithInheritedAccess.description",defaultMessage:"{integrationName} will be able to view comments within pages you can access",values:{integrationName:n}}):o?(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readCommentWithAdminAccess.description",defaultMessage:"{integrationName} will be able to view comments within all pages",values:{integrationName:n}}):(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.readComment.description",defaultMessage:"{integrationName} will be able to view comments within pages you select in the next step. You can also share pages later with {integrationName} in Notion",values:{integrationName:n}})}),(null==i?void 0:i.insert_comment)&&(0,O.jsx)(Ne,{icon:ke,title:a?(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertCommentWithInheritedAccess",defaultMessage:"Create comments within pages you have access to"}):(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertComment",defaultMessage:"Create comments within pages you select"}),children:a?(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertCommentWithInheritedAccess.description",defaultMessage:"{integrationName} will be able to create comments within pages you can access",values:{integrationName:n}}):(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.insertComment.description",defaultMessage:"{integrationName} will be able to create comments within pages you select in the next step. You can also share pages later with {integrationName} in Notion",values:{integrationName:n}})}),((null==i?void 0:i.read_user_without_email)||(null==i?void 0:i.read_user_with_email))&&(0,O.jsx)(Ne,{icon:Ie().Q,title:null!=i&&i.read_user_with_email?(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.viewUsersAndEmail",defaultMessage:"View workspace users and their emails"}):(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.viewUsers",defaultMessage:"View workspace users"}),children:null!=i&&i.read_user_with_email?(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.viewUsersAndEmail.detail",defaultMessage:"{integrationName} will be able to see basic information about all workspace members and guest data, including their names, profile images, and email addresses",values:{integrationName:n}}):(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.viewUsers.detail",defaultMessage:"{integrationName} will be able to see basic information about all workspace members and guests, like their names and profile images, but not their email addresses",values:{integrationName:n}})}),(null==i?void 0:i.webhooks)&&(0,O.jsx)(Ne,{icon:je,title:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.sendWebhooks",defaultMessage:"Receive updates on workspace activity"}),children:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.permissionListItem.sendWebhooks.description",defaultMessage:"Changes to pages, permissions, or workspace settings will be shared with {integrationName}",values:{integrationName:n}})})]})}function Ne(e){const[t,i]=n.useState(!1),a=(0,s().IS)((e=>({permissionItem:{border:`1px ${_e().M.dark.gray[850]} solid`,borderRadius:4,marginTop:8},permissionItemTitle:{display:"flex",justifyContent:"space-between",padding:"6px 12px",cursor:"pointer",userSelect:"none"},permissionItemHeading:{display:"flex",alignItems:"center"},permissionItemDetails:{paddingLeft:38,paddingRight:24,transition:"all 0.2s ease",color:e.text.secondary},sharedIconStyle:{width:24,height:16,textAlign:"center"}})),[]);return(0,O.jsxs)("div",{style:a.permissionItem,children:[(0,O.jsxs)("div",{style:a.permissionItemTitle,onClick:()=>i(!t),children:[(0,O.jsxs)("div",{style:a.permissionItemHeading,children:[(0,O.jsx)("div",{style:a.sharedIconStyle,children:e.icon({width:16,height:16,color:x().Ay.regularIconColor})}),(0,O.jsx)("div",{children:e.title})]}),e.children&&(0,O.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,Ce().e)({width:12,height:12,color:x().Ay.lightIconColor,transform:t?"rotate(180deg)":void 0,transition:"transform 0.2s ease"})})]}),(0,O.jsx)("div",{style:{...a.permissionItemDetails,opacity:t?1:0,flex:t?1:0,paddingBottom:t?8:0,transform:t?"translate3d(0,-4px,0)":"translate3d(0,-8px,0)"},children:t&&e.children})]})}const Be={permissions:{header:!0,warning:!0,footer:!0},bot_access_option:{header:!0,warning:!1,footer:!0},page_picker:{header:!1,warning:!1,footer:!1}},ze=(0,H().YK)({loadingMessage:{id:"oauthAuthorization.loadingMessage",defaultMessage:"Authorizing…"},redirectToIntegrationTimeout:{id:"oauthAuthorization.redirectToIntegrationTimeout",defaultMessage:"Integration appears to have timed out. Please refresh and try again."},mcpIntegrationTimeout:{id:"oauthAuthorization.mcpIntegrationTimeout",defaultMessage:"Access Notion AI tools from your MCP client. If there’s a connection problem, refresh and try again."}});function Le(e){const{showApprovalWarning:t}=e,[i,a]=n.useState("permissions"),[o,s]=n.useState("duplicate_template"),[r,l]=n.useState(void 0),d=Be[i].header,c=t&&Be[i].warning,u=Be[i].footer;return(0,O.jsxs)(le().Y1,{direction:"vertical",gap:24,children:[d&&(0,O.jsx)(Re,{...e}),(0,O.jsx)("div",{children:(0,O.jsx)(Ee,{...e,currentStep:i,botAccessOption:o,setBotAccessOption:s})}),(0,O.jsx)(Ue,{...e,currentStep:i,setCurrentStep:a,acceptedIntegrationCapabilities:r,setAcceptedIntegrationCapabilities:l,botAccessOption:o}),c&&(0,O.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.integrationApprovalNotice",defaultMessage:"Authorizing this integration will add it to your workspace’s approval list. Other workspace members will be able to install this integration."})}),u&&(0,O.jsx)(Ze,{...e})]})}async function Ve(e){const{environment:t,botAccessOption:i,integrationValue:n,acceptedIntegrationCapabilities:a,setIsLoading:o,oauthParams:s,spaceId:r,selectedBlockIds:l,createdBotValue:d}=e;let c;"duplicate_template"===i&&(c=n.info.template_page_id),o(!0),J().m({message:ze.loadingMessage});const u=c?[]:Object.keys(l).filter((e=>l[e])),{currentSpaceStore:p,currentSpaceViewStore:m}=T().default.state;if(d){const e=await C().L2({environment:t,templatePageId:c,botValue:d,spaceStore:p,spaceViewStore:m,pages:u});e?ee().uK({environment:t,store:e,pageVisitSource:F().y8.Duplicate}):te().Vl(t),J().V(),o(!1)}else{await D().D({environment:t,params:s,integration:n,acceptedIntegrationCapabilities:a,spaceId:r,blockIdsForBot:u,templatePageId:c}),$().ry(t,{selection:i}),await(0,G().wR)(3e4),J().V(),o(!1);const e=n.id===q?ze.mcpIntegrationTimeout:ze.redirectToIntegrationTimeout;Q().f1(oe().A.formatMessage(e))}}function We(){return(0,s().IS)((e=>({title:{fontSize:ne().A.isMobile?18:20,textAlign:"center",fontWeight:y().Wy.medium},inlineTextLink:{color:"black",textDecoration:"none"},buttonGroup:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},footer:{fontSize:y().J.UISmall.desktop,color:e.text.secondary},innerFooterContainer:{color:e.text.primary,fontWeight:y().Wy.semibold}})),[])}const He={cancel:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.cancelButton.label",defaultMessage:"Cancel"}),back:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.selectPagesStep.backButton.label",defaultMessage:"Back"})},De={bot_access_option:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.nextButton.label",defaultMessage:"Next"}),page_picker:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.continueButton.label",defaultMessage:"Select pages"}),authorize:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.selectPagesStep.finishButton.label",defaultMessage:"Allow access"})};function Re(e){const{integrationValue:t}=e,i=t.info,n=i.website_url,a=i.icon?{pointer:{table:m().Li,id:t.id},icon:i.icon}:void 0,o=We();return(0,O.jsxs)(le().Y1,{children:[(0,O.jsx)("div",{children:(0,O.jsx)(de().B6,{icon:a,disabled:!0,title:t.name,size:54,isEmptyPage:!1,style:{margin:"auto"}})}),(0,O.jsx)("div",{style:o.title,children:(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.title",defaultMessage:"Connect with <inlinetextlink>{integrationName}</inlinetextlink>",values:{integrationName:t.name,inlinetextlink:e=>n?(0,O.jsx)(U().A,{style:o.inlineTextLink,href:n,children:e}):e}})})]})}function Ee(e){const{currentStep:t,integrationValue:i,spaceName:n,existingBot:a}=e;return"permissions"===t?(0,O.jsx)(Pe,{integrationValue:i,spaceName:n,existingBot:a}):"bot_access_option"===t?(0,O.jsx)(he,{...e,integrationValue:i}):"page_picker"===t?(0,O.jsx)(Ae,{...e,integrationValue:i}):void(0,v().HB)(t)}function Ue(e){const{currentStep:t,setCurrentStep:i,acceptedIntegrationCapabilities:s,setAcceptedIntegrationCapabilities:r,integrationValue:l,validIntegrationTemplateId:d,oauthParams:c,botAccessOption:u,spaceId:p,selectedBlockIdsStore:g}=e,h=(0,a().v3)(),[x,b]=n.useState(!1),y=(0,o().O$)(g),A=(0,se().X)("public_api_clearer_integration_access_oauth_page_picker"),C=(0,o().K8)((()=>{const e=re().A.state;return(0,ae().gz)({integrationId:l.id,externalIntegrationStoreState:e})}),[l]),w=function(e){const{integrationValue:t,validIntegrationTemplateId:i,botAccessOption:n}=e;if((0,Y()._L)(t.capabilities))return["permissions"];if(i){if("duplicate_template"===n)return["permissions","bot_access_option"];if("pick_pages"===n)return["permissions","bot_access_option","page_picker"];if("admin"===n)return["permissions"];(0,v().HB)(n)}return["permissions","page_picker"]}({integrationValue:l,validIntegrationTemplateId:d,botAccessOption:u}),j=w.indexOf(t),S=(0,f().NV)(l.id),I=w[j-1],M=S?void 0:w[j+1],k=I?He.back:He.cancel,_=I?()=>{i(I)}:()=>{!function(e){const{environment:t,oauthParams:i,integrationValue:n,createdBotValue:a}=e;a?te().Vl(t):D().D({environment:t,params:i,integration:n,errorType:W().l.access_denied})}({environment:h,oauthParams:c,integrationValue:l,createdBotValue:C})},P=M?De[M]:De.authorize,T=M?()=>{"permissions"===t&&r(l.capabilities),i(M)}:async()=>{if(S)await X().NB({environment:h,spaceId:p,from:"workspace_connections_redirect",integration:K().Bj6.fromValue(m().Li,l)}),window.close();else{if(A){const e=Object.values(y).filter((e=>e)).length,t=Object.values(y).filter((e=>!e)).length;(0,ie().u)({environment:h,event:{eventName:"clearer_integration_access_page_access_updated",eventProperties:{triggered_from:"oauth_flow_page_picker",pages_added:e,pages_removed:t,space_id:p,bot_id:l.id}}})}Ve({environment:h,botAccessOption:u,integrationValue:l,setIsLoading:b,oauthParams:c,spaceId:p,selectedBlockIds:y,createdBotValue:C,acceptedIntegrationCapabilities:s})}},N=We();return(0,O.jsxs)("div",{style:N.buttonGroup,children:[(0,O.jsx)(R().A,{size:"lg",onClick:_,children:k}),(0,O.jsx)(E().A,{size:"lg",onClick:T,disabled:x,children:P})]})}const Oe="https://notion.notion.site/Integration-Gallery-Terms-of-Service-b74cada95062442d98c2abb1fe3efd9b";function Ze(e){const{integrationValue:t,oauthParams:i}=e,n=We();if((0,m().SF)(t))return null;const a=t.info.terms_of_use_url,o=t.info.privacy_policy_url,s=(i.redirectUri||t.redirect_uris[0]||"").replace("http://","").replace("https://","").split(/[/?#]/)[0],r=(0,f().NV)(t.id)?(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.warning.body.partnerIntegration",defaultMessage:"The third-party products or services to which this integration connects are non-Notion Applications. By enabling this integration, you agree to Notion’s <notiontermslink>Integration Gallery Terms</notiontermslink>.",values:{notiontermslink:e=>(0,O.jsx)(U().A,{href:Oe,children:e})}}):(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.warning.body",defaultMessage:"If you continue, you may be sharing sensitive information. Notion does not review third party integrations such as “{integrationName}”. Learn how “{integrationName}” handles your data by reviewing their <privacypolicylink>Privacy Policy</privacypolicylink> and <termsofservicelink>Terms of Service</termsofservicelink>.",values:{integrationName:t.name,privacypolicylink:e=>o?(0,O.jsx)(U().A,{href:o,children:e}):e,termsofservicelink:e=>a?(0,O.jsx)(U().A,{href:a,children:e}):e}});return(0,O.jsxs)("footer",{style:n.footer,children:[(0,O.jsxs)("div",{style:n.innerFooterContainer,children:[" ",(0,O.jsx)(H().sA,{id:"oauthAuthorizationPage.permissionStep.warning.title",defaultMessage:"Make sure you trust {integrationName} ({redirectUriDomain})",values:{integrationName:t.name,redirectUriDomain:s}})]}),(0,O.jsx)("div",{children:r})]})}var Fe=()=>i(863513);const Ke={"929cdebb-09e8-4c5c-bfe5-e8c3c3902987":"development","5dbd3ed0-1160-4532-b10a-1a6749748fc4":"staging"},Ye=["makenotion.com","qasource.com"];function qe(e){const t=e.userId,i=e.spaceId,n=(0,a().v3)(),r=(0,o().K8)((()=>T().default.state.currentUserRootStore),[]),l=(0,o().O$)(T().AppStoreCurrentSpaceStore),d=(0,o().O$)(T().AppStoreCurrentSpaceViewStore),c=(0,o().K8)((()=>{var e;return null===(e=T().default.state.currentUserStore)||void 0===e?void 0:e.getEmail()}),[]),u=(0,o().K8)((()=>!!(t&&i&&d)&&(d.getSpaceId()===i&&d.getUserRootParentId()===t)),[t,i,d]),p=function(e){const{WindowSizeStore:t}=e.environment,i=(0,o().K8)((()=>t.state.width>500),[t]),n=(0,o().K8)((()=>t.state.height<900),[t]);return(0,s().IS)((e=>({layoutContainer:{height:"100%",overflow:"auto",backgroundColor:i?x().Ay.frontCreamBackground:x().Ay.white},pageContainer:{display:"flex",justifyContent:"center"},contentBox:{width:"500px",minHeight:"600px",borderRadius:5,backgroundColor:x().Ay.white,boxShadow:i?e.shadowSM:"none",display:"flex",flexDirection:"column",fontSize:y().J.UIRegular.desktop,marginTop:n?16:i?"calc((100vh - 900px) / 2)":0,marginBottom:40,transition:"all 0.2s ease"},contentBody:{paddingLeft:40,paddingRight:40,paddingTop:25,paddingBottom:25,flex:1,display:"flex",flexDirection:"column"}})),[i,n])}({environment:n});return(0,O.jsx)("div",{style:p.layoutContainer,children:(0,O.jsx)("div",{style:p.pageContainer,children:(0,O.jsxs)("div",{style:p.contentBox,children:[(0,O.jsx)(Fe().A,{disableAccountSwitcher:u,singleSpaceToSelect:i,onSpaceSwitch:async t=>{await j().yV({environment:n,spaceViewStore:t});const i=t.getSpaceId(),a=Ye.find((e=>null==c?void 0:c.endsWith(e)));if(i&&a&&Ke[i]&&e.integrationId&&e.redirectUri){const t=(0,A().P0)({baseUrl:(0,I().sZ)(Ke[i]),clientId:e.integrationId,redirectUri:e.redirectUri,state:e.state});w().f({environment:n,url:t,targetSelf:!0})}}}),(0,O.jsx)("div",{style:p.contentBody,children:(0,O.jsx)(Ge,{oauthParams:e,spaceStore:l,userRootStore:r})})]})})})}function Ge(e){const{oauthParams:t,spaceStore:i,userRootStore:n}=e;return i&&n?(0,O.jsx)($e,{oauthParams:t,spaceStore:i,userRootStore:n}):(0,O.jsx)(L().A,{})}function $e(e){const{oauthParams:t,spaceStore:i,userRootStore:s}=e,{integrationId:x,responseType:y}=t,A=(0,a().v3)(),w=(0,o().K8)((()=>M().GK(A,i)),[A,i]),[j,I]=n.useState(),T=(0,o().K8)((()=>{if(x){const e=(0,N().Oo)(s,{id:x,table:m().Li}).getValue();return e&&"internal"!==e.type?e:void 0}}),[x,s]),V=(0,r().L)({value:T,waitTimeInMs:1e3}),[{value:W}]=(0,c().Yb)((async()=>{if(!T)return;return(await C().Ju({environment:A,table:g().oo,id:s.id,type:T.type})).botIds}),[A,s,T]),H=(0,o().K8)((()=>{if(W&&W.length>0){return W.map((e=>{const t=(0,N().Oo)(s,{table:p().GP,id:e}).getValue();if(t&&t.alive&&(0,d().hu)(t)&&t.created_by_id===s.id&&t.created_by_table===g().oo&&t.integration_id===x)return{botValue:t}})).filter(v().O9)[0]}}),[s,x,W]),D=(0,r().L)({value:W,waitTimeInMs:1e3}),[{value:R}]=(0,c().Yb)((async()=>{if(H)return await C().GO({environment:A,currentSpaceStore:i,botIds:[null==H?void 0:H.botValue.id]})}),[A,H,i]),E=i.id,U=(0,_().T)(),[F]=(0,c().Yb)((async()=>await S().y(A,{spaceId:E})),[A,E]),[K]=(0,c().Yb)((async()=>{if(U)return(0,k().Qn)()?void 0:await z().J({environment:A,spaceId:E,userId:U})}),[U,A,E]);(0,n.useEffect)((()=>{E&&U&&(0,k().Qn)()&&B().q.fetchUnfetchedTeams({userId:U,spaceId:E,teamTypes:new Set(["Joined"]),environment:A,callGetTeamsV2ApiFn:k().FK})}),[U,A,E]);const Y=(0,c().fQ)([F,K]),q=(0,o().K8)((()=>{const e=null==H?void 0:H.botValue.id,t={};if(!e||!R||!R.bots[e])return l().Store.createValue(t);return(R.bots[e].pageIds??[]).forEach((e=>{t[e]=!0})),l().Store.createValue(t)}),[R,H]),G=(0,o().K8)((()=>{if(!x)return!1;const e=i.getBotSettingsStore().getValue();if(!e)return!0;if((0,h().az)(e)){const t=e.integration_approval_statuses;return!(!t||!t[x])&&Boolean("approved"===t[x].status)}return!0}),[x,i]),$=(0,o().K8)((()=>{const e=V.value;if(e&&!(0,m().SF)(e))return e.info.template_page_id}),[V]),Q=(0,o().K8)((()=>Boolean(x&&("datadog"===(0,f().Q2)(x)||(0,f().IM)(x)))),[x]),X=(0,o().K8)((()=>M().IL(i)),[i]),J=(0,o().K8)((()=>i.canAdmin()),[i]);n.useEffect((()=>{V.value&&!j&&I(T)}),[j,I,T,V]);const ee=V.value??j;return"pending"===V.status||"pending"===D.status||"pending"===Y.status||"idle"===Y.status?(0,O.jsx)(L().A,{}):x&&(0,b().uj)(x)||Q?ee?"code"===y||Q?X?(0,O.jsx)(Z,{oauthParams:t,spaceName:w,type:"notAnAdmin",integrationValue:ee,primaryAction:()=>{P().A.setState({...P().A.state,open:!0})}}):J||G?u().H(ee,t.redirectUri)||Q?(0,O.jsx)(Le,{integrationValue:ee,existingBot:null==H?void 0:H.botValue,validIntegrationTemplateId:$,spaceName:w,spaceId:i.id,oauthParams:t,showApprovalWarning:J&&!G&&!Q,selectedBlockIdsStore:q}):(0,O.jsx)(Z,{oauthParams:t,spaceName:w,type:"invalidRedirectUri",integrationValue:ee}):(0,O.jsx)(Z,{oauthParams:t,spaceName:w,type:"integrationNotApproved",integrationValue:ee,primaryAction:()=>{P().A.setState({...P().A.state,open:!0})}}):(0,O.jsx)(Z,{type:"invalidResponseType",oauthParams:t,spaceName:w,integrationValue:ee}):(0,O.jsx)(Z,{type:"clientNotFound",oauthParams:t,spaceName:w}):(0,O.jsx)(Z,{type:"invalidClientId",oauthParams:t,spaceName:w})}},372555:(e,t,i)=>{i.d(t,{A:()=>a});class n extends(()=>i(757695))().Store{getInitialState(){return{notebooksResponse:{notebooks:[]},isFetchingNotebooks:!0,showLoader:!1,linkingAccount:!1}}}const a=new n},374693:(e,t,i)=>{i.d(t,{_:()=>n});const n=(0,i(340498).xh)("notion",{default:{loader:()=>i.e(60858).then(i.bind(i,558687))},darkMode:{loader:()=>i.e(60858).then(i.bind(i,633137))}})},394783:(e,t,i)=>{i.d(t,{A:()=>r});i(296540);var n=()=>i(284371),a=()=>i(722872),o=()=>i(406699),s=i(474848);const r=function(e){let{emailAddress:t,disabled:r,accountActions:l,prefix:d}=e;const c=(0,i(484714).v3)(),{device:u}=c,p=(0,i(56366).uB)(void 0,i(463830).A);let m;m=u.isMobile?{menuType:a().gu.ActionSheet}:{menuType:a().gu.Popup};const g=(0,i(401497).IS)((e=>({container:{height:u.isMobile?24:20,marginTop:d?1:u.isMobile?20:8,marginLeft:12,marginRight:12,display:"flex",alignItems:"center",justifyContent:"space-between",color:e.text.secondary,transition:"opacity 150ms ease"},text:{fontSize:(0,i(115512).ny)(c,"UISmall"),lineHeight:n().K_.UISmall.desktop,fontWeight:n().Wy.medium,marginRight:6},button:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:u.isMobile?24:20,height:u.isMobile?24:20,borderRadius:4},buttonIcon:{width:u.isMobile?18:12,height:u.isMobile?18:12},prefix:{textAlign:"right",height:u.isMobile?16:18,marginTop:u.isMobile?8:4,marginLeft:12,marginRight:18,color:e.text.secondary,transition:"opacity 150ms ease"}})),[u.isMobile,c,d]);return(0,s.jsxs)(s.Fragment,{children:[d&&(0,s.jsx)("div",{style:g.prefix,children:d}),(0,s.jsxs)("div",{style:g.container,children:[(0,s.jsx)(i(265665).j,{style:g.text,children:t}),(0,s.jsx)(o().Ay,{popupType:u.isMobile?o().z7.SlideUp:o().z7.Popup,buttonPopupStore:p,renderOrigin:e=>{if(!r)return(0,s.jsx)(i(704152).A,{...e,style:g.button,children:(0,i(30626)._)(g.buttonIcon)})},render:()=>(0,s.jsx)(i(928600).A,{...m,children:(0,s.jsx)(i(452558).A,{sections:[{key:"option section",render:e=>(0,s.jsx)(i(89924).A,{...e}),actions:l}],context:{environment:c,blocks:[],publicEditMode:void 0}})})})]})]})}},475971:(e,t,i)=>{i.d(t,{M:()=>a,W:()=>n});const n={height:28,paddingLeft:8,paddingRight:8,paddingTop:4,paddingBottom:4,fontWeight:i(284371).Wy.medium},a={opacity:.4}},562866:(e,t,i)=>{i.d(t,{$c:()=>r,aI:()=>s,cx:()=>o,uf:()=>a});var n=()=>i(645873);const a={RequestMembersModal:new(n().O2)("RequestMembersModal",(()=>Promise.all([i.e(75134),i.e(16471),i.e(58550),i.e(44711),i.e(53321),i.e(90825),i.e(96346),i.e(55373),i.e(37353),i.e(29151),i.e(78191),i.e(92845),i.e(84468),i.e(5605),i.e(48486),i.e(95794),i.e(13677),i.e(56952),i.e(48632),i.e(75078),i.e(25497),i.e(74562),i.e(27711),i.e(4422),i.e(11341),i.e(46414),i.e(95168),i.e(28271),i.e(34877),i.e(36908),i.e(17254),i.e(84185),i.e(32421),i.e(15315),i.e(24587),i.e(78708),i.e(43777),i.e(74752),i.e(91194),i.e(81197),i.e(98659),i.e(20502),i.e(6266),i.e(8184),i.e(83884),i.e(65881),i.e(99809),i.e(93282),i.e(43678),i.e(15019),i.e(90978),i.e(3910),i.e(77213),i.e(80781),i.e(34442),i.e(94233),i.e(77282)]).then(i.bind(i,123350)))),GoogleImportsInviteWithModal:new(n().O2)("GoogleImportsInviteWithModal",(()=>Promise.all([i.e(92845),i.e(84468),i.e(5605),i.e(48486),i.e(95794),i.e(13677),i.e(56952),i.e(50569),i.e(51226)]).then(i.bind(i,720193)))),InviteDropdownMenuItemLabel:new(n().O2)("InviteDropdownMenuItemLabel",(()=>i.e(25171).then(i.bind(i,726799)))),personPropertyInviteActions:new(n().O2)("personPropertyInviteActions",(()=>Promise.all([i.e(92845),i.e(84468),i.e(5605),i.e(48486),i.e(95794),i.e(13677),i.e(57613)]).then(i.bind(i,980270))))},o=(0,n()._h)(a.RequestMembersModal,(e=>e.RequestMembersModal)),s=(0,n()._h)(a.GoogleImportsInviteWithModal,(e=>e.GoogleImportsInviteWithModal)),r=(0,n()._h)(a.InviteDropdownMenuItemLabel,(e=>e.InviteDropdownMenuItemLabel))},566254:(e,t,i)=>{i.d(t,{HC:()=>d,Pz:()=>u,_s:()=>r,ml:()=>p,rA:()=>c,x_:()=>l});var n=()=>i(559926),a=()=>i(666803),o=()=>i(449506),s=()=>i(908928);async function r(e,t){const i=await o().callApi({eventName:"getConnectedAppsStatus",environment:e,data:{spaceId:t}});if("failed"===i.type){const e=i.error;return console.error(e),{drive:[],evernote:void 0,trello:void 0,asana:void 0,confluence:void 0}}return i.data}async function l(e,t){await o().callApi({eventName:"disconnectTrello",environment:e,data:{}}),await t.refresh(),n().kO(e,{integration_name:"trello"})}async function d(e,t){await o().callApi({eventName:"disconnectAsana",environment:e,data:{}}),await t.refresh(),n().kO(e,{integration_name:"asana"})}async function c(e,t){await o().callApi({eventName:"disconnectEvernote",environment:e,data:{}}),await t.refresh(),n().kO(e,{integration_name:"evernote"})}async function u(e,t,i){await o().callApi({eventName:"disconnectConfluence",environment:e,data:{spaceId:i}}),await t.refresh(),n().kO(e,{integration_name:"confluence"})}async function p(e){const{environment:t,requestStore:i,botId:o}=e;await s().KA({environment:t,botId:o,onSuccess:()=>{!async function(e){const{environment:t,requestStore:i}=e;await i.refresh();const o=a().Ay.getInitialState();a().Ay.setState(o),n().kO(t,{integration_name:"jira"})}({environment:t,requestStore:i})}})}},583690:(e,t,i)=>{i.d(t,{AC:()=>p,I2:()=>c,YC:()=>u});i(296540);var n=()=>i(401497),a=()=>i(212050),o=()=>i(413267),s=()=>i(959013),r=()=>i(554509),l=i(474848);function d(e){const{enabled:t,labelIfEnabled:i,labelIfDisabled:s}=e,d=(0,n().IS)((e=>({container:{color:t?e.text.secondary:e.text.tertiary,display:"flex",alignItems:"center",gap:5},iconStyles:{width:12,display:"inline",verticalAlign:"middle",color:t?e.icon.uiBluePrimary:e.text.tertiary}})),[t]);return(0,l.jsxs)("div",{style:d.container,children:[t?(0,o().b)(d.iconStyles):(0,a().u)(d.iconStyles),(0,l.jsx)(r().D,{styleName:"UISmall-12px/Regular",children:t?i:s})]})}function c(e){const t="none"!==e;return[(0,l.jsx)(d,{enabled:t&&e.read_content,labelIfEnabled:(0,l.jsx)(s().sA,{id:"capabilitiesTooltip.mixedAccess.readContent.enabled",defaultMessage:"Can read content"}),labelIfDisabled:(0,l.jsx)(s().sA,{id:"capabilitiesTooltip.mixedaccess.readContent.disabled",defaultMessage:"Cannot read content"})},"read_content"),(0,l.jsx)(d,{enabled:t&&e.insert_content,labelIfEnabled:(0,l.jsx)(s().sA,{id:"capabilitiesTooltip.mixedaccess.insertContent.enabled",defaultMessage:"Can insert content"}),labelIfDisabled:(0,l.jsx)(s().sA,{id:"capabilitiesTooltip.mixedaccess.insertContent.disabled",defaultMessage:"Cannot insert content."})},"insert_content"),(0,l.jsx)(d,{enabled:t&&e.update_content,labelIfEnabled:(0,l.jsx)(s().sA,{id:"capabilitiesTooltip.mixedaccess.updateContent.enabled",defaultMessage:"Can update content"}),labelIfDisabled:(0,l.jsx)(s().sA,{id:"capabilitiesTooltip.mixedaccess.updateContent.disabled",defaultMessage:"Cannot update content"})},"update_content"),(0,l.jsx)(d,{enabled:t&&e.insert_comment,labelIfEnabled:(0,l.jsx)(s().sA,{id:"capabilitiesTooltip.insertComment.enabled",defaultMessage:"Can comment"}),labelIfDisabled:(0,l.jsx)(s().sA,{id:"capabilitiesTooltip.insertComment.disabled",defaultMessage:"Cannot comment"})},"insert_comment"),(0,l.jsx)(d,{enabled:t&&e.read_comment,labelIfEnabled:(0,l.jsx)(s().sA,{id:"capabilitiesTooltip.readComment.enabled",defaultMessage:"Can read comments"}),labelIfDisabled:(0,l.jsx)(s().sA,{id:"capabilitiesTooltip.readComment.disabled",defaultMessage:"Cannot read comments"})},"read_comment")]}function u(e){return[(0,l.jsx)(d,{enabled:e.read_user_without_email,labelIfEnabled:(0,l.jsx)(s().sA,{id:"capabilitiesTooltip.userAccess.readUsers.enabled",defaultMessage:"Can view users"}),labelIfDisabled:(0,l.jsx)(s().sA,{id:"capabilitiesTooltip.userAccess.readUsers.disabled",defaultMessage:"Cannot view users"})},"read_user_without_email"),(0,l.jsx)(d,{enabled:e.read_user_with_email,labelIfEnabled:(0,l.jsx)(s().sA,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.enabled",defaultMessage:"Can view user email addresses"}),labelIfDisabled:(0,l.jsx)(s().sA,{id:"capabilitiesTooltip.userAccess.readUserEmailAddresses.disabled",defaultMessage:"Cannot view user email addresses"})},"read_user_with_email")]}function p(e){return[(0,l.jsx)(d,{enabled:e.link_preview,labelIfEnabled:(0,l.jsx)(s().sA,{id:"capabilitiesTooltip.linkPreview.enabled",defaultMessage:"Can preview links."}),labelIfDisabled:(0,l.jsx)(s().sA,{id:"capabilitiesTooltip.linkPreview.disabled",defaultMessage:"Cannot preview links."})},"link_preview"),(0,l.jsx)(d,{enabled:e.synced_database,labelIfEnabled:(0,l.jsx)(s().sA,{id:"capabilitiesTooltip.syncedDatabase.enabled",defaultMessage:"Can sync databases."}),labelIfDisabled:(0,l.jsx)(s().sA,{id:"capabilitiesTooltip.syncedDatabase.disabled",defaultMessage:"Cannot sync databases."})},"synced_database")]}},663929:(e,t,i)=>{i.d(t,{hC:()=>m,vd:()=>g});i(581454);var n=i(296540),a=()=>i(401497),o=()=>i(902006),s=()=>i(203717),r=()=>i(374693),l=()=>i(534177),d=()=>i(284371),c=()=>i(460292),u=i(474848);const p=5;function m(e){const{connectors:t,maxBubbles:i,iconSize:o,bubbleStyles:l,disableNumericalEllipsis:m}=e,g=(0,n.useMemo)((()=>[...t.slice(0,i)].reverse()),[t,i]),h=Math.max(0,t.length-i),f=(0,a().IS)((e=>({bubbleWrapper:{display:"flex",alignItems:"center",flexDirection:"row-reverse",justifyContent:"flex-end",marginLeft:p},bubble:{boxShadow:e.connectorBubbleShadow,borderRadius:"100%",width:20,height:20,backgroundColor:e.whiteButtonBackground,display:"flex",alignItems:"center",justifyContent:"center",marginLeft:-p,fontSize:9,fontWeight:d().Wy.medium,color:e.text.tertiary,...l}})),[l]),x="dark"===(0,a().eP)(),b=(0,n.useCallback)((e=>"notion"===e?"default":x?"darkMode":"default"),[x]);return 0===t.length?null:(0,u.jsxs)("div",{style:f.bubbleWrapper,children:[!m&&h>0&&(0,u.jsx)("div",{style:f.bubble,children:(0,u.jsx)("div",{children:`+${h}`})}),g.map(((e,t)=>{return(0,u.jsx)("div",{style:f.bubble,children:(0,u.jsx)(c().Q,{iconGroup:(i=e,"notion"===i?r()._:s().G[i]),overrideSize:()=>o,variantName:b(e)})},`${e}-${t}`);var i}))]})}function g(e){return"notion"===e.type?"notion":(0,o().SC)(e.type)?e.type:"everything"===e.type||"universal-workspace"===e.type||"workspace"===e.type||"page"===e.type||"collection"===e.type||"teamspace"===e.type||"site"===e.type||"notion-none"===e.type||"ai-knowledge"===e.type||"helpdocs"===e.type||"web"===e.type||"universal-none"===e.type||"slackbot"===e.type||"labeler"===e.type?void 0:(0,l().HB)(e.type)}},701545:(e,t,i)=>{i.d(t,{p:()=>a});i(296540);var n=i(474848);const a=(0,i(340498).wt)("checkMarkLine",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M6.79297 13.2871C6.48047 13.2871 6.21484 13.1523 5.99609 12.8828L2.96094 9.14453C2.875 9.04297 2.8125 8.94336 2.77344 8.8457C2.73828 8.74805 2.7207 8.64648 2.7207 8.54102C2.7207 8.30664 2.79883 8.11328 2.95508 7.96094C3.11133 7.80859 3.30859 7.73242 3.54688 7.73242C3.81641 7.73242 4.04297 7.84766 4.22656 8.07812L6.76953 11.3008L11.7324 3.4375C11.834 3.28125 11.9395 3.17188 12.0488 3.10938C12.1582 3.04297 12.2949 3.00977 12.459 3.00977C12.6973 3.00977 12.8926 3.08398 13.0449 3.23242C13.1973 3.38086 13.2734 3.57031 13.2734 3.80078C13.2734 3.89453 13.2578 3.98828 13.2266 4.08203C13.1953 4.17578 13.1465 4.27344 13.0801 4.375L7.5957 12.8594C7.4082 13.1445 7.14062 13.2871 6.79297 13.2871Z"})})},709062:(e,t,i)=>{i.d(t,{C_:()=>u,Iu:()=>g,MG:()=>m});i(296540);var n=()=>i(340498),a=i(474848);const o={viewBox:"0 0 20 20",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("rect",{width:"16",height:"16",x:"2",y:"2",fill:"#039",rx:"8"}),(0,a.jsx)("rect",{width:"15",height:"15",x:"2.5",y:"2.5",stroke:"#544831",strokeOpacity:".15",rx:"7.5",fill:"#039"}),(0,a.jsx)("path",{fill:"#FC0",d:"m10 4 .168.518h.545l-.44.32.168.519-.441-.32-.44.32.168-.518-.441-.32h.545L10 4ZM10 14.5l.168.518h.545l-.44.32.168.519-.441-.32-.44.32.168-.518-.441-.32h.545L10 14.5ZM15.25 9.063l.168.518h.545l-.44.32.168.518-.441-.32-.44.32.168-.518-.441-.32h.545l.168-.518ZM4.75 9.063l.168.518h.545l-.44.32.168.518-.441-.32-.44.32.168-.518-.441-.32h.545l.168-.518ZM7.422 4.75l.168.518h.545l-.44.32.168.519-.441-.32-.441.32.168-.518-.44-.32h.544l.169-.519ZM7.422 13.532l.168.518h.545l-.44.32.168.518-.441-.32-.441.32.168-.518-.44-.32h.544l.169-.518ZM12.578 4.75l.168.518h.545l-.44.32.168.519-.441-.32-.44.32.168-.518-.441-.32h.545l.168-.519ZM12.578 13.532l.168.518h.545l-.44.32.168.518-.441-.32-.44.32.168-.518-.441-.32h.545l.168-.518ZM5.5 6.547l.168.518h.545l-.44.32.168.519-.441-.32-.44.32.168-.519-.441-.32h.545l.168-.518ZM5.5 11.579l.168.518h.545l-.44.32.168.518-.441-.32-.44.32.168-.518-.441-.32h.545l.168-.518ZM14.5 6.547l.168.518h.545l-.44.32.168.519-.441-.32-.44.32.168-.519-.441-.32h.545l.168-.518ZM14.5 11.579l.168.518h.545l-.44.32.168.518-.441-.32-.44.32.168-.518-.441-.32h.545l.168-.518Z"})]})},s=(0,n().wt)("flagEu",o),r={viewBox:"0 0 20 20",svg:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("rect",{x:"2",y:"2",width:"16",height:"16",rx:"8",fill:"#D9D9D9"}),(0,a.jsx)("rect",{x:"2.5",y:"2.5",width:"15",height:"15",rx:"7.5",stroke:"#544831",strokeOpacity:"0.15",fill:"#D9D9D9"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 10H2C2 9.105 2.1488 8.24494 2.41992 7.44141L2.83008 7.73926L2.49316 8.77637L3.375 8.13574L4.25684 8.77637L3.91992 7.73926L4.80176 7.09863H3.71191L3.375 6.0625L3.03809 7.09863H2.54492C3.20107 5.41387 4.41027 4.00679 5.95117 3.10059L6.83008 3.73926L6.49316 4.77637L7.375 4.13574L8.25684 4.77637L7.91992 3.73926L8.80176 3.09863H7.71191L7.48633 2.4043C8.27693 2.1428 9.12173 2 10 2V10ZM7.03809 7.09863H5.94824L6.83008 7.73926L6.49316 8.77637L7.375 8.13574L8.25684 8.77637L7.91992 7.73926L8.80176 7.09863H7.71191L7.375 6.0625L7.03809 7.09863Z",fill:"#0052B4"}),(0,a.jsx)("path",{d:"M7.03809 3.09863H5.95508C6.3607 2.86038 6.7881 2.65494 7.23535 2.49023L7.03809 3.09863Z",fill:"#0052B4"}),(0,a.jsx)("path",{d:"M16.9268 14C16.4911 14.7529 15.9373 15.4281 15.2891 16H4.71094C4.06269 15.4281 3.50893 14.7529 3.07324 14H16.9268Z",fill:"#D80027"}),(0,a.jsx)("path",{d:"M18 10C18 10.6906 17.9126 11.3608 17.748 12H2.25195C2.08743 11.3608 2 10.6906 2 10H18Z",fill:"#D80027"}),(0,a.jsx)("path",{d:"M10 6H16.9268C17.2852 6.61938 17.5653 7.28996 17.748 8H10V6Z",fill:"#D80027"}),(0,a.jsx)("path",{d:"M10 2C12.0282 2 13.879 2.75604 15.2891 4H10V2Z",fill:"#D80027"})]})},l=(0,n().wt)("flagUsa",r);var d=()=>i(959013),c=()=>i(534177);function u(){return(0,a.jsx)(d().sA,{id:"organization.workspaceSettings.locked.tooltip",defaultMessage:"This setting is being managed by your organization."})}const p=(0,d().YK)({"us-west-2":{id:"organization.dataResidency.location.us",defaultMessage:"United States"},"eu-central-1":{id:"organization.dataResidency.location.eu",defaultMessage:"Europe"},unknown:{id:"organization.dataResidency.location.unknown",defaultMessage:"N/A"}});function m(e){switch(e){case"us-west-2":case"eu-central-1":return p[e];case void 0:return p.unknown;default:(0,c().HB)(e)}}function g(e){switch(e){case"us-west-2":return l;case"eu-central-1":return s;default:(0,c().HB)(e)}}},751109:(e,t,i)=>{i.d(t,{z:()=>a});i(296540);var n=i(474848);const a=(0,i(340498).wt)("slackLogo",{viewBox:"0 0 16 16",svg:(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M1.68078 11.7915C2.60586 11.7915 3.36156 11.0358 3.36156 10.1107V8.42993H1.68078C0.755701 8.42993 0 9.18563 0 10.1107C0 11.0358 0.755701 11.7915 1.68078 11.7915Z",fill:"#E01E5A"}),(0,n.jsx)("path",{d:"M5.88928 8.42993C4.9642 8.42993 4.2085 9.18563 4.2085 10.1107V14.3192C4.2085 15.2443 4.9642 16 5.88928 16C6.81436 16 7.57006 15.2443 7.57006 14.3192V10.1107C7.57006 9.18563 6.81436 8.42993 5.88928 8.42993Z",fill:"#E01E5A"}),(0,n.jsx)("path",{d:"M4.2085 1.68078C4.2085 2.60586 4.9642 3.36156 5.88928 3.36156H7.57006V1.68078C7.57006 0.755701 6.81436 0 5.88928 0C4.9642 0 4.2085 0.755701 4.2085 1.68078Z",fill:"#36C5F0"}),(0,n.jsx)("path",{d:"M7.57003 5.88928C7.57003 4.9642 6.81433 4.2085 5.88925 4.2085H1.68078C0.755701 4.2085 0 4.9642 0 5.88928C0 6.81436 0.755701 7.57006 1.68078 7.57006H5.88925C6.81433 7.57006 7.57003 6.81436 7.57003 5.88928Z",fill:"#36C5F0"}),(0,n.jsx)("path",{d:"M10.1107 7.57003C11.0358 7.57003 11.7915 6.81433 11.7915 5.88925V1.68078C11.7915 0.755701 11.0358 0 10.1107 0C9.18563 0 8.42993 0.755701 8.42993 1.68078V5.88925C8.42993 6.81433 9.18563 7.57003 10.1107 7.57003Z",fill:"#2EB67D"}),(0,n.jsx)("path",{d:"M14.3192 4.2085C13.3941 4.2085 12.6384 4.9642 12.6384 5.88928V7.57006H14.3192C15.2443 7.57006 16 6.81436 16 5.88928C16 4.9642 15.2443 4.2085 14.3192 4.2085Z",fill:"#2EB67D"}),(0,n.jsx)("path",{d:"M8.42993 10.1107C8.42993 11.0358 9.18563 11.7915 10.1107 11.7915H14.3192C15.2443 11.7915 16 11.0358 16 10.1107C16 9.18563 15.2443 8.42993 14.3192 8.42993H10.1107C9.18563 8.42993 8.42993 9.18563 8.42993 10.1107Z",fill:"#ECB22E"}),(0,n.jsx)("path",{d:"M11.7915 14.3192C11.7915 13.3941 11.0358 12.6384 10.1107 12.6384H8.42993V14.3192C8.42993 15.2443 9.18563 16 10.1107 16C11.0358 16 11.7915 15.2443 11.7915 14.3192Z",fill:"#ECB22E"})]})})},831098:(e,t,i)=>{i.d(t,{y:()=>a});i(296540);var n=i(474848);const a=(0,i(340498).wt)("jira",{viewBox:"0 0 20 20",svg:(0,n.jsx)("path",{d:"M16.8784 2.5H9.65698C9.65698 4.3 11.1141 5.75714 12.9141 5.75714H14.2427V7.04288C14.2427 8.84288 15.6998 10.3 17.4998 10.3V3.12143C17.4998 2.77857 17.2212 2.5 16.8784 2.5Z M13.3001 6.10001H6.07861C6.07861 7.9 7.53574 9.35713 9.33574 9.35713H10.6643V10.6429C10.6643 12.4429 12.1215 13.9 13.9215 13.9V6.72144C13.9215 6.37856 13.6429 6.10001 13.3001 6.10001Z M9.72144 9.70001H2.5C2.5 11.5 3.95714 12.9571 5.75714 12.9571H7.08569V14.2429C7.08569 16.0429 8.54287 17.5 10.3429 17.5V10.3214C10.3429 9.97857 10.0643 9.70001 9.72144 9.70001Z"})})},851979:(e,t,i)=>{i.d(t,{h:()=>a});i(296540);var n=i(474848);const a=(0,i(340498).wt)("eye",{viewBox:"0 0 32 32",svg:(0,n.jsx)("path",{d:"M16.006 25.812c8.863 0 14.994-7.17 14.994-9.406C31 14.16 24.858 7 16.006 7 7.252 7 1 14.16 1 16.406c0 2.236 6.252 9.406 15.006 9.406zm0-3.242a6.194 6.194 0 01-6.197-6.164c-.012-3.452 2.744-6.164 6.197-6.164 3.419 0 6.185 2.711 6.185 6.164 0 3.364-2.766 6.164-6.185 6.164zm0-3.94c1.228 0 2.246-1.007 2.246-2.224 0-1.228-1.018-2.235-2.246-2.235-1.24 0-2.258 1.007-2.258 2.235 0 1.217 1.018 2.224 2.258 2.224z"})})},863513:(e,t,i)=>{i.d(t,{A:()=>h});i(296540);var n=()=>i(484714),a=()=>i(56366),o=()=>i(401497),s=()=>i(517592),r=()=>i(959013),l=()=>i(381349),d=()=>i(284371),c=()=>i(575104),u=()=>i(765957),p=()=>i(394783),m=i(474848);const g={borderRadius:4,marginBottom:0};function h(e){const{onSpaceSwitch:t,disableAccountSwitcher:i,singleSpaceToSelect:h,useEmailAccount:f}=e,x=(0,r().tz)(),b=function(){const{isMobile:e}=(0,n().Y0)();return(0,o().IS)((()=>({container:{display:"flex",alignItems:"center",justifyContent:"space-between",height:60,paddingLeft:20,paddingRight:8,borderBottomWidth:1,borderBottomStyle:"solid",borderBottomColor:l().Ay.contentBorder},notionLogo:{width:e?28:30,height:e?28:30,marginRight:10,flexShrink:0},notionTitle:{fontWeight:d().Wy.medium,fontSize:16},switcherButton:{borderRadius:4,marginBottom:0}})),[e])}(),{currentUserEmail:v,currentUserId:y}=(0,a().K8)((()=>{const{currentUserStore:e}=u().default.state;return{currentUserEmail:null==e?void 0:e.getEmail(),currentUserId:null==e?void 0:e.id}}),[]);return(0,m.jsxs)("div",{style:b.container,children:[(0,s().A)(b.notionLogo),(0,m.jsx)("div",{style:b.notionTitle,children:"Notion"}),(0,m.jsx)("div",{style:{flexGrow:1,flexShrink:1}}),(0,m.jsx)("div",{style:{flexShrink:0},children:f?v&&y?(0,m.jsx)(p().A,{prefix:x.formatMessage({id:"oauthAuthorizationTopBar.loggedInAs",defaultMessage:"Logged in as"}),emailAddress:v,userId:y,disabled:!0,accountActions:[]}):(0,m.jsx)(m.Fragment,{}):(0,m.jsx)(c().Ay,{format:c().z_.Regular,onSpaceClick:e=>{let{spaceViewStore:i}=e;return t(i)},shouldShowUnexpandButton:!1,shouldShowCreatePageButton:!1,disableLoginLink:!0,buttonStyle:g,disabled:i,singleSpaceToSelect:h})})]})}},908928:(e,t,i)=>{i.d(t,{GO:()=>N,Ju:()=>T,KA:()=>P,L0:()=>V,L2:()=>H,dA:()=>B,gI:()=>_,iN:()=>W,oG:()=>L,sK:()=>z});i(898992),i(354520),i(803949);var n=()=>i(386164),a=()=>i(433847),o=()=>i(68263),s=()=>i(388821),r=()=>i(179034),l=()=>i(824862),d=()=>i(161479),c=()=>i(96689),u=()=>i(798880),p=()=>i(763824),m=()=>i(534177),g=()=>i(901389),h=()=>i(855801),f=()=>i(594794),x=()=>i(972435),b=()=>i(731320),v=()=>i(630116),y=()=>i(449506),A=()=>i(496414),C=()=>i(579627),w=()=>i(246826),j=()=>i(436572),S=()=>i(751156),I=()=>i(633457);const M=(0,i(959013).YK)({duplicatingTemplate:{id:"botActions.duplicatingTemplate.loadingMessage",defaultMessage:"Duplicating template..."},duplicatingTemplateError:{id:"botActions.duplicateTemplateAndShareWithBot.snackbar.failure",defaultMessage:"Failed to duplicate template for to your workspace"}});function k(e,t){const{environment:i,spaceStore:n,spaceRole:a}=t,o=function(e){const{name:t,spaceStore:i,userId:n,icon:a,type:o,environment:s}=e,r=Date.now(),d={name:t,created_at:r,created_by_table:u().oo,created_by_id:n,alive:!0,icon:a,space_id:i.id,last_edited_at:r,last_edited_by_id:n,last_edited_by_table:u().oo};switch(o){case"guest":return{...d,type:"guest",capabilities:e.capabilities,parent_table:c().NX,parent_id:i.id,integration_id:void 0};case"scim":return{...d,id:(0,f().Z1)({environment:s,table:l().GP,spaceId:i.id}),type:"scim",parent_table:u().oo,parent_id:n};default:(0,m().HB)(o)}}(t),s=w().eC({environment:i,table:l().GP,value:o,inMemoryRecordCache:i.defaultRecordCache.inMemoryRecordCache,transaction:e});return C().dy({environment:i,spaceStore:n,permissionItems:[{type:"bot_permission",role:a,bot_id:s.id}],transaction:e}),{botStore:s}}function _(e){const{environment:t}=e,{serverCommitResult:i,performResult:{botStore:n}}=S().createAndCommit({userAction:"botActions.createSpaceBot",environment:t,canUndo:!0,perform:t=>k(t,e)});return{botStore:n,transactionPromise:i}}async function P(e){const{environment:t,botId:i,onSuccess:n}=e,a=await y().callApi({eventName:"deleteBot",environment:t,data:{botId:i}});"failed"===a.type?g().Qg(a):"success"===a.type&&n&&(await I().oX({environment:t}),n())}async function T(e){const{environment:t,table:i,id:a,type:o}=e,s=await y().callApi({eventName:"getBots",environment:t,data:{table:i,id:a,type:o},headers:(0,n().WS)({spaceId:i===c().NX?a:void 0})});return"failed"===s.type?(g().Qg(s),{botIds:[],recordMap:{}}):{botIds:s.data.botIds,recordMap:s.data.recordMap}}async function N(e){const{environment:t,currentSpaceStore:i,botIds:n}=e;if(!i)return;const a=await y().callApi({eventName:"getBotSharedPageIds",environment:t,data:{spaceId:i.id,botIds:n}});if("failed"!==a.type)return a.data;g().Qg(a)}async function B(e){const{environment:t,botId:i}=e,n=await y().callApi({eventName:"getBotToken",environment:t,data:{botId:i}});if("failed"!==n.type)return n.data.token;g().Qg(n)}function z(e){const{botValue:t,store:i,environment:n}=e,{id:o,parent_id:s,parent_table:r,capabilities:l}=t,d={type:"bot_permission",bot_id:o,parent_id:s,parent_table:r,role:(0,a().MD)(l)};S().createAndCommit({userAction:"TopbarMoreButton.handleAddingConnection",environment:n,canUndo:!0,perform:e=>{C().zP({environment:n,store:i,permissionItems:[d],transaction:e})}})}function L(e){const{botId:t,store:i,environment:n}=e,a=i.getPermissionItems().filter((e=>!!(0,o().P3)(e)));for(const o of a)if(o.bot_id===t){const e={...o,role:"none"};S().createAndCommit({userAction:"TopbarMoreButton.handleRemovingConnection",environment:n,canUndo:!0,perform:t=>{C().zP({environment:n,store:i,permissionItems:[e],transaction:t})}})}}function V(e){const{currentSpaceStore:t,environment:i,pages:n,botStore:a,addPermission:o}=e;if(!t)return;const s=(0,b().Ws)({botStore:a,addPermission:o});n.forEach((e=>{const n=v().sk.createChildStore(t,{table:r().ev,id:e,spaceId:t.getSpaceId()});S().createAndCommit({userAction:"botActions.updateBlockPermissionsForBot",environment:i,canUndo:!0,perform:e=>{C().zP({environment:i,store:n,permissionItems:[s],transaction:e})}})}))}async function W(e){const{environment:t,spaceStore:i,botStore:n,pageIdAndOperations:a,concurrency:o=20}=e;0!==a.length&&await(0,p().lX)(a,o,(async e=>{const a=v().sk.createChildStore(i,{table:r().ev,id:e.pageId,spaceId:i.getSpaceId()}),o=(0,b().Ws)({botStore:n,addPermission:"add"===e.operationType}),{serverCommitResult:s}=S().createAndCommit({userAction:`botActions.updateBotPermissionsForPages.${e.operationType}`,environment:t,canUndo:!0,perform:e=>{C().zP({environment:t,store:a,permissionItems:[o],transaction:e})}});await s}))}async function H(e){const{environment:t,spaceStore:i,spaceViewStore:a,templatePageId:o,botValue:r,pages:c}=e;if(!i)return;const u=v().sk.createChildStore(i,{table:l().GP,id:r.id});if(o)return await async function(e){const{environment:t,spaceStore:i,spaceViewStore:a,templatePageId:o,botStore:r}=e;if(!i||!a)return;try{A().m({message:M.duplicatingTemplate});const e=await y().callApi({eventName:"loadBlockSubtree",environment:t,data:{block:{id:o,spaceId:(0,d().e)(void 0)},shallow:!1},headers:(0,n().WS)({recordId:o})});if("failed"===e.type)return;const l=s().RecordMapWithRole.create(e.data.subtreeRecordMap),{createAndDuplicatePageInSpace:c}=await(0,h().nd)(),{performResult:u}=S().createAndCommit({userAction:"botActions.duplicateTemplateAndShareWithBot",environment:t,canUndo:!0,perform:e=>{const n=c({environment:t,recordMap:l,copyPageId:o,isPrivate:!0,spaceStore:i,spaceViewStore:a,transaction:e,allowCopyExternalObjectInstances:!1}),s=a.getPrivatePageIds();s.length>0&&w().zv({store:a,data:{private_pages:[n.id,...s]},transaction:e});const d=(0,b().Ws)({botStore:r,addPermission:!0});return C().zP({environment:t,store:n,permissionItems:[d],transaction:e}),n}});return u}catch(l){j().D6({label:x().A.formatMessage(M.duplicatingTemplateError)})}finally{A().V()}}({environment:t,templatePageId:o,botStore:u,spaceStore:i,spaceViewStore:a});V({environment:t,currentSpaceStore:i,botStore:u,pages:c,addPermission:!0})}},911706:(e,t,i)=>{i.d(t,{A:()=>r});i(296540);var n=()=>i(401497),a=()=>i(30626),o=()=>i(704152),s=i(474848);function r(e){let{onClick:t,className:i,isMobile:r,style:l,onFocus:d,onBlur:c,onMouseDown:u,onMouseEnter:p,onMouseLeave:m}=e;const{buttonStyle:g,iconStyle:h}=(0,n().IS)((e=>({buttonStyle:{display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,borderRadius:6,width:r?45:24,height:r?45:24,marginRight:r?-8:-6,...l},iconStyle:{width:r?18:14,height:r?18:14,fill:e.icon.secondary}})),[r,l]);return(0,s.jsx)(o().A,{onClick:t,style:g,className:i,onFocus:d,onBlur:c,onMouseDown:u,onMouseEnter:p,onMouseLeave:m,children:(0,a()._)(h)})}},926329:(e,t,i)=>{i.d(t,{b:()=>a});i(296540);var n=i(474848);const a=(0,i(340498).wt)("templates",{viewBox:"0 0 20 20",svg:(0,n.jsxs)("g",{children:[(0,n.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),(0,n.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),(0,n.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"})]})})},926938:(e,t,i)=>{i.d(t,{q:()=>r});var n=()=>i(484714),a=()=>i(187174),o=()=>i(534177),s=()=>i(449506);function r(){const e=(0,n().v3)(),[{status:t,error:i,value:r},l]=(0,a().Yb)((async()=>{const t=await s().callApi({eventName:"getUserOrganizations",environment:e,data:{}});if("success"===t.type)return t.data;if("failed"===t.type)throw t.error;return(0,o().HB)(t)}),[e]);return{organizationsInfo:(null==r?void 0:r.organizationsInfo)??[],loading:"pending"===t||"idle"===t,error:i,refresh:l}}},980585:(e,t,i)=>{i.d(t,{n:()=>a});i(296540);var n=i(474848);const a=(0,i(340498).wt)("roundedCheck",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{d:"M6.00879 11.4033C5.70605 11.4033 5.45378 11.2829 5.25195 11.042L2.73242 7.99023C2.64453 7.88932 2.58268 7.79167 2.54688 7.69727C2.51107 7.60286 2.49316 7.50521 2.49316 7.4043C2.49316 7.17318 2.56966 6.98275 2.72266 6.83301C2.87891 6.68001 3.07422 6.60352 3.30859 6.60352C3.56901 6.60352 3.78548 6.70931 3.95801 6.9209L5.98926 9.43555L9.97852 3.13184C10.0794 2.97884 10.1836 2.87142 10.291 2.80957C10.4017 2.74447 10.5368 2.71191 10.6963 2.71191C10.9307 2.71191 11.1243 2.78678 11.2773 2.93652C11.4303 3.08626 11.5068 3.27507 11.5068 3.50293C11.5068 3.58757 11.4922 3.67546 11.4629 3.7666C11.4336 3.85775 11.388 3.95215 11.3262 4.0498L6.78027 11.0078C6.60124 11.2715 6.34408 11.4033 6.00879 11.4033Z"})})}}]);