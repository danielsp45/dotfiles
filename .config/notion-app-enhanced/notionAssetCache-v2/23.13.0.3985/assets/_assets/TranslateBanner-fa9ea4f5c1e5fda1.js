"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[2411,3773,4876,5834,27942,34208,59388,70593,90871],{5580:(e,t,a)=>{a.d(t,{n:()=>s});var n=()=>a(56366),o=()=>a(209199),r=()=>a(765957);function s(){return(0,n().K8)((()=>{var e;const t=(null===(e=r().default.state.currentUserSettingsStore)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.preferred_locale)??o().q;return(0,o().o_)(t)}),[])}},53528:(e,t,a)=>{a.d(t,{OH:()=>i,T2:()=>l,do:()=>d});var n=()=>a(597777),o=()=>a(869190),r=()=>a(604995),s=()=>a(416504);function i(e){const{dateTime:t,intl:a,shortenDateAndRange:n}=e,s=r().C6.toPersistedDate(t.valueOf());return o().ZF({value:s,allowRelativeDates:!0,intl:a,shortenDateAndRange:n,displayInUserTimezone:!0})}function l(e){const{dateTime:t,intl:a,userTimeZone:n,displayInUserTimezone:s,alwaysIncludeTimezone:i}=e,l=r().C6.toPersistedDateTime(t.valueOf(),t.zoneName);return o().ZF({value:l,allowRelativeDates:!0,intl:a,userTimeZone:n,displayInUserTimezone:s,alwaysIncludeTimezone:i})}function d(e){const{luxonRange:t,intl:a}=e,i=r().C6.toPersistedDateRange(t),l=o().ZF({value:i,allowRelativeDates:!1,shortenDateAndRange:!0,intl:a,displayInUserTimezone:!0}),d=t.end.setZone((0,s().P)()),c=o().fU({start_time:d.toFormat(n().GE),humanReadable:!1,intl:a});return a.formatMessage({id:"verification.timeRange",defaultMessage:"{formattedDateRange} at {formattedEndTime}"},{formattedDateRange:l,formattedEndTime:c})}},53592:(e,t,a)=>{a.r(t),a.d(t,{attemptServerBackedLocalDuplicate:()=>y,serverBackedLocalDuplicate:()=>T});a(944114),a(581454);var n=()=>a(857639),o=()=>a(386164),r=()=>a(388821),s=()=>a(912720),i=()=>a(199378),l=()=>a(502800),d=()=>a(763824),c=()=>a(466614),u=()=>a(449506),g=()=>a(666144),p=()=>a(751156),m=()=>a(974233),f=()=>a(611191),L=()=>a(603815),h=()=>a(261450),v=()=>a(503388),S=()=>a(966152),M=()=>a(59110),C=()=>a(605605),w=()=>a(677733);function T(e){const{environment:t,sourceBlock:a,targetInMemoryRecordCache:n,transaction:o,options:s,targetSpaceId:i,installationImprint:l,templateInstallationMetadata:c={},shouldUseSynchronousDuplicationAPI:u,stopwatch:g}=e,p=performance.now();null==g||g.mark("server_duplicate_start");const m=e.copyIndicators??(0,v().U8)({environment:t,sourceBlocks:[a],targetRecordCache:n,transaction:o,spaceId:i});null==g||g.mark("create_copy_indicators");const f=d().yX();return o.postSubmitCallbacks.push((async e=>{if(null==g||g.mark("transaction_post_submit_callback"),e)return(0,S().P0)({environment:t,type:"server_duplicate_transaction_post_submit_callback_error",data:{copyIndicatorIds:m.map((e=>e.id)),error:e,targetSpaceId:i,options:s}}),void(0,v().Jc)(e,f);(0,v().Yj)(m),null==g||g.mark("initialize_copy_indicators_progress_state");const{success:n,size:d}=await y({environment:t,sourceBlockPointer:a,targetBlockStore:m[0],options:s,templateInstallationMetadata:c,stopwatch:g});if(n)return(0,h().E)({environment:t,success:!0,time:performance.now()-p,user_action:o.getUserActionForAnalyticsPurposesOnly(),is_duplication_local:!0,duplication_size:d,method:"server_backed_local_duplication"}),null==g||g.mark("server_backed_local_duplicate_success"),(0,v().dH)(m),void f.resolve({status:"success"});const L=await(0,w().performServerDuplicate)({environment:t,copyIndicators:m,sourceBlocks:[a],targetSpaceId:i,options:s,templateInstallationMetadata:c,installationImprint:l,shouldUseSynchronousDuplicationAPI:u,stopwatch:g});if((0,v().dH)(m),!L.success)return(0,v().uC)({environment:t,copyIndicators:m}),(0,S().P0)({environment:t,type:"server_duplicate_iterator_error",data:{errorMessage:L.errorMessage}}),void f.resolve({status:"error",errorMessage:L.errorMessage,error:L.error});(0,h().E)({environment:t,success:!0,time:performance.now()-p,user_action:o.getUserActionForAnalyticsPurposesOnly(),is_duplication_local:!0,duplication_size:L.size,method:"sbld_fallback_server_duplication"}),null==g||g.mark("server_duplicate_success"),f.resolve({status:"success",recordIdMap:L.recordIdMapJson?r().RecordMapPolymorphic.create(L.recordIdMapJson):void 0})})),{blockStores:m,onComplete:f.promise}}async function y(e){const{environment:t,sourceBlockPointer:a,targetBlockStore:d,options:h,templateInstallationMetadata:v,recordLimit:w=500,targetInMemoryRecordCache:T,stopwatch:y}=e;null==y||y.mark("attempt_server_backed_local_duplicate_start"),(0,S().JW)({environment:t,type:"server_duplicate_attempt_server_backed_local_duplicate",data:{sourceBlockPointer:a,targetBlockStore:d,targetSpaceId:d.getSpaceId(),options:h}});const b=(0,f().$J)(),k=await async function(e){const{environment:t,sourceBlockPointer:a,targetBlockStore:s,targetInMemoryRecordCache:i,options:d,enableLegacyTransclusionFixing:c,recordLimit:p}=e,f=i??s.inMemoryRecordCache,h={blockId:a.id,allowCopyCollections:!0,requireFullSubtree:!0,skipTransclusionContainerChildren:!d.deepCopyTransclusionContainers,allowCopyExternalObjectInstances:!d.convertExternalObjectInstancesToPlaceholders,includeLegacyTransclusionBlockValues:c,inMemoryRecordCache:f};let v;if(v=(0,M().loadLocalSubtree)(t,h),!v.recordMap&&f===t.defaultRecordCache.inMemoryRecordCache)try{(0,S().JW)({environment:t,type:"performInexactPagePreload",data:{message:"No local subtree found, performing performInexactPagePreload",loadLocalSubtreeArgs:h}}),await(0,L().A$)(t,{table:"block",id:a.id,spaceId:a.spaceId}),v=(0,M().loadLocalSubtree)(t,h)}catch(C){n().log({level:"warning",from:"attemptServerBackedLocalDuplicate",type:"persistedRecordCachePreloadError",error:(0,l().convertErrorToLog)(C),data:{message:"Failed to preload subtree from persisted record cache"}})}v.recordMap||((0,S().JW)({environment:t,type:"loadLocalSubtreeApi",data:{message:"No local subtree found from previous attempts, attemping API call to loadBlockSubtree",currentLocalSubtreeResponse:v}}),v=await async function(e){const{environment:t,sourceBlockPointer:a,recordLimit:s,targetBlockStore:i,loadLocalSubtreeArgs:d}=e;try{const e=await u().callApi({eventName:"loadBlockSubtree",environment:t,data:{block:{id:a.id,spaceId:a.spaceId},shallow:!1,recordCountLimit:s},headers:(0,o().WS)({spaceId:a.spaceId})});if((0,S().JW)({environment:t,type:"loadBlockSubtreeApiResult",data:{message:"Result from loadBlockSubtree API call",subtreeResult:e,apiArgs:{block:{id:a.id,spaceId:a.spaceId},shallow:!1,recordCountLimit:s}}}),"success"===e.type){const a=r().RecordMapWithRole.create(e.data.subtreeRecordMap);return await g()._O({environment:t,inMemoryRecordCache:d.inMemoryRecordCache,recordMap:a,debugSource:"load_local_subtree_from_server"}),(0,M().loadLocalSubtree)(t,d)}{const t=(0,m().V)(e);n().log({level:"warning",from:"attemptServerBackedLocalDuplicate",type:"loadBlockSubtreeFailure",data:{message:"Error fetching subtree",miscDataToConvertToString:{error:t,sourceBlockPointer:a,cacheSize:i.inMemoryRecordCache.size,targetBlockPointer:{id:i.id,spaceId:i.getSpaceId(),type:i.getType()}}}})}}catch(C){n().log({level:"error",from:"attemptServerBackedLocalDuplicate",type:"subtreeLoadError",error:(0,l().convertErrorToLog)(C),data:{message:"Error loading subtree",miscDataToConvertToString:{sourceBlockPointer:a,cacheSize:i.inMemoryRecordCache.size,targetBlockPointer:{id:i.id,spaceId:i.getSpaceId(),type:i.getType()}}}})}}({environment:t,sourceBlockPointer:a,recordLimit:p,targetBlockStore:s,loadLocalSubtreeArgs:h}));v&&!v.recordMap&&n().log({level:"warning",from:"attemptServerBackedLocalDuplicate",type:"subtreeLoadFailure",data:{message:"Failed to load subtree",miscDataToConvertToString:{sourceBlockPointer:a,cacheSize:s.inMemoryRecordCache.size,reason:"error"===v.type?v.reason:void 0,targetBlockPointer:{id:s.id,spaceId:s.getSpaceId(),type:s.getType()},missingRecord:"error"===v.type?v.pointer:void 0}}});return v}({environment:t,sourceBlockPointer:a,targetBlockStore:d,targetInMemoryRecordCache:T,options:h,enableLegacyTransclusionFixing:b,recordLimit:w});if(null==y||y.mark("try_load_local_subtree_finished"),!k||!k.recordMap)return{success:!1,size:void 0,pageStore:d};var x;if(c().Lw({sourceSpaceId:a.spaceId,targetSpaceId:d.getSpaceId(),sourceBlockSubtree:k.recordMap}))return n().log({level:"warning",from:"attemptServerBackedLocalDuplicate",type:"accessLockingWarning",data:{message:"Unable to perform local duplication",miscDataToConvertToString:{sourceBlockPointer:a,targetBlockPointer:{id:d.id,spaceId:d.getSpaceId(),type:d.getType()}}}}),null==y||y.mark("attempt_server_backed_local_duplicate_failure"),{success:!1,size:null===(x=k.recordMap)||void 0===x?void 0:x.getSize(),pageStore:d};for(const o of k.recordMap.getTables()){var I;if(o===s().yB||o===i().SC)return n().log({level:"warning",from:"attemptServerBackedLocalDuplicate",type:"invalidRecordType",data:{message:"Local duplication does not support automation tables",miscDataToConvertToString:{sourceBlockPointer:a,targetBlockPointer:{id:d.id,spaceId:d.getSpaceId(),type:d.getType()}}}}),null==y||y.mark("attempt_server_backed_local_duplicate_failure"),{success:!1,size:null===(I=k.recordMap)||void 0===I?void 0:I.getSize(),pageStore:d}}try{var _;(0,S().JW)({environment:t,type:"server_backed_duplicate_start_transaction",data:{message:"Starting transactionActions.createAndCommit for localDuplicate",sourceBlockPointer:a,targetBlockPointer:{id:d.id,spaceId:d.getSpaceId(),type:d.getType()}}});const{serverCommitResult:e}=p().createAndCommit({userAction:"server_backed_local_duplicate",environment:t,canUndo:!0,isTemplateInstantiationTransaction:Boolean(v),perform:e=>(0,C().localDuplicate)({environment:t,sourceBlockId:a.id,targetBlockPointer:d.pointer,sourceBlockSubtree:k.recordMap,targetInMemoryRecordCache:d.inMemoryRecordCache,transaction:e,templateInstallationMetadata:v,stopwatch:y,options:{...h,preventLegacyTransclusions:b}})});return await e,null==y||y.mark("server_backed_local_duplicate_finished"),(0,S().JW)({environment:t,type:"server_duplicate_attempt_server_backed_local_duplicate_success",data:{targetSpaceId:d.getSpaceId(),options:h}}),{success:!0,size:null===(_=k.recordMap)||void 0===_?void 0:_.getSize(),pageStore:d,transactionPromise:e}}catch(P){var B;return n().log({level:"error",from:"attemptServerBackedLocalDuplicate",type:"subtreeLoadError",error:(0,l().convertErrorToLog)(P),data:{message:"Failed to load subtree",miscDataToConvertToString:{sourceBlockPointer:a,targetBlockPointer:{id:d.id,spaceId:d.getSpaceId(),type:d.getType()}}}}),{success:!1,size:null===(B=k.recordMap)||void 0===B?void 0:B.getSize(),pageStore:d}}}},151985:(e,t,a)=>{a.r(t),a.d(t,{TranslateBanner:()=>Z,TranslateLanguageSelectButtonPopup:()=>$});a(16280);var n=a(296540),o=()=>a(484714),r=()=>a(56366),s=()=>a(401497),i=()=>a(318890),l=()=>a(701545),d=()=>a(546806),c=()=>a(764781),u=()=>a(644161),g=()=>a(959013),p=()=>a(319625),m=()=>a(534177),f=()=>a(934839),L=()=>a(910302),h=()=>a(801611),v=()=>a(755199),S=()=>a(2220),M=()=>a(5580),C=()=>a(514799),w=()=>a(13898),T=()=>a(704152),y=()=>a(406699),b=()=>a(331542),k=()=>a(928600),x=()=>a(480095),I=()=>a(179030),_=()=>a(8980),B=()=>a(554509),P=()=>a(864943),j=()=>a(897119),A=()=>a(204063),D=()=>a(946548),R=()=>a(125565),E=()=>a(21140),N=()=>a(391435),z=()=>a(650843),F=()=>a(722872),U=()=>a(963589),H=()=>a(746426),O=()=>a(448360),G=()=>a(430483),V=()=>a(463830),W=()=>a(77246),Y=()=>a(150193),K=()=>a(198874),q=a(474848);const J=(0,g().YK)({selectLanguage:{id:"translateBanner.selectLanguage",defaultMessage:"Translate from"},translateTo:{id:"translateBanner.translateTo",defaultMessage:"Translate to"},translatingTo:{id:"translateBanner.translatingTo",defaultMessage:"Translating to"},translatedTo:{id:"translateBanner.translatedTo",defaultMessage:"Translated to"},viewOnly:{id:"translateBanner.viewOnly",defaultMessage:"View only"},mobileDismissForever:{id:"translateBanner.mobileDismissForever",defaultMessage:"Stop showing translation suggestions?"}});function Z(e){const{blockStore:t}=e,a=(0,r().K8)((()=>W().Uv.getTranslateModeForBlock(t.id)),[t.id]);return a?(0,q.jsx)(X,{editorModeConfigTranslateState:a,...e}):null}function Q(e){const{pageStore:t}=e,a=(0,o().v3)(),i=(0,g().tz)(),[l,d]=(0,n.useState)(void 0),c=(0,r().K8)((()=>L().r5({environment:a,pageStore:t})),[a,t]),u=(0,r().K8)((()=>L().XA()),[]),m=(0,s().IS)((e=>({viewOnlyText:{color:e.text.uiBlueSecondary,margin:0,padding:0}})),[]),f=(0,n.useCallback)((e=>{(0,K().l)({pageStore:t,environment:a,duplicateTo:e,triggeredFrom:"banner"})}),[t,a]),v=(0,H().J)(a,t,!0),S=(0,U().X)("translate_template_top_bar")&&v.templateListingExists,M=(0,r().K8)((()=>W().Uv.getTranslateModeForBlock(t.id)),[t.id]),C=(0,n.useCallback)((async()=>{try{if(!M||!M.targetLanguage||!M.sourceLanguage)throw new Error("Invalid state for translating template");await h().a({pageStore:t,targetLanguage:M.targetLanguage,sourceLanguage:M.sourceLanguage,environment:a,from:"translate_banner"})}catch(l){const t=(0,p().A)(l);d(t)}}),[t,a,M]);if(!M)return null;if(!c&&!u)return(0,q.jsx)("p",{style:m.viewOnlyText,children:i.formatMessage(J.viewOnly)});const w=function(e,t){if(e)return"parent";if(t)return"private_pages";throw new Error("Invalid state for duplicating translated page")}(c,u);return S?(0,q.jsx)(te,{onClickDuplicateWithoutSubpages:()=>f(w),onClickDuplicateWithSubpages:C,error:l}):(0,q.jsx)(ee,{onClick:()=>f(w)})}function X(e){const{editorModeConfigTranslateState:t,blockStore:a}=e,d=(0,g().tz)(),c=(0,o().v3)(),u=(0,o().Y0)(),p=(0,r().K8)((()=>G().zD.isFullPageTranslateEnabled()),[]),{detectedLanguage:h}=(0,C().H)({pageStore:a,enabled:p}),w=(0,M().n)(),y=t.sourceLanguage??h??w,k=(0,n.useMemo)((()=>"dismiss_forever"===t.status?"gray":"blue"),[t.status]),x=(0,s().IS)((e=>({bannerContentWrapper:{display:"flex",flexGrow:1,justifyContent:u.isMobile?"flex-start":"center",position:"relative",gap:6,minHeight:24},viewOnlyText:{margin:0,padding:0},bannerContentSectionWrapper:{display:"flex",alignItems:"center",justifyContent:u.isMobile?"space-between":"center",gap:12,width:"100%"},bannerContentDropdown:{display:"flex",alignItems:"center"},bannerContentSection:{display:"flex",gap:8,alignItems:"center"},loadingSpinner:{color:e.text.uiBlueSecondary}})),[u.isMobile]),_=(0,n.useMemo)((()=>new(V().A)),[]),P=(0,n.useCallback)((e=>{const{sourceLanguage:t}=e;L().as({pageStore:a,sourceLanguage:t,environment:c,triggeredFrom:"banner"})&&_.setState({open:!1})}),[a,c,_]),j=(0,n.useCallback)((e=>{const{targetLanguage:t}=e;L().Ww({pageStore:a,targetLanguage:t,sourceLanguage:y,environment:c,triggeredFrom:"banner"}),_.setState({open:!1})}),[a,y,c,_]),A=(0,n.useCallback)((()=>{"suggest_translation"===t.status?L().Ww({pageStore:a,targetLanguage:t.targetLanguage,sourceLanguage:y,environment:c,triggeredFrom:"banner"}):"dismiss_forever"===t.status&&(L().DL({pageStore:a,environment:c,triggeredFrom:"banner"}),f().zA({id:"TranslateBanner",bannerStore:Y().A}),O().W.setState(!0),v().h9(c),(0,S().u)({environment:c,event:{eventName:"click_dismiss_translation_suggestion_forever",eventProperties:{source_language:t.sourceLanguage,suggested_language:t.targetLanguage,page_id:a.id}}}))}),[a,c,t,y]),D=(0,n.useCallback)((()=>{"suggest_translation"===t.status?L().A0({pageStore:a}):(L().DL({pageStore:a,environment:c,triggeredFrom:"banner"}),f().zA({id:"TranslateBanner",bannerStore:Y().A}))}),[t,a,c]),R=(0,n.useMemo)((()=>{const e=t.status;return(0,q.jsxs)("div",{style:x.bannerContentSectionWrapper,children:[(0,q.jsxs)("div",{style:x.bannerContentDropdown,children:[(0,q.jsxs)("div",{style:x.bannerContentSection,children:[!u.isMobile&&(0,i().K)({width:16,height:16}),"select_language"===e?d.formatMessage(J.selectLanguage):"loading"===e?d.formatMessage(J.translatingTo):"active"===e?d.formatMessage(J.translatedTo):"suggest_translation"===e?d.formatMessage(J.translateTo):"dismiss_forever"===e?d.formatMessage(J.mobileDismissForever):void(0,m().HB)(t)]}),"dismiss_forever"!==e&&(0,q.jsx)($,{editorModeConfigTranslateState:t,onSelectTargetLanguage:j,onSelectSourceLanguage:P,sourceLanguage:y,detectedPageLanguage:h,preferredLanguage:w,buttonPopupStore:_,pageId:a.id},"translate_button")]}),"select_language"===e&&(0,q.jsx)("p",{style:x.viewOnlyText,children:d.formatMessage(J.viewOnly)}),"loading"===e&&(0,q.jsx)(b().A,{size:"sm",circleColorStyle:x.loadingSpinner}),"active"===e&&(0,q.jsx)(Q,{pageStore:a}),("suggest_translation"===e||"dismiss_forever"===e)&&(0,q.jsx)(T().A,{onClick:A,style:{width:20,height:20},children:(0,l().p)({width:18,height:18})})]})}),[t,x.bannerContentSection,x.bannerContentDropdown,x.bannerContentSectionWrapper,x.viewOnlyText,x.loadingSpinner,d,j,P,A,y,w,_,h,a,u.isMobile]);return(0,q.jsx)(I().l,{content:(0,q.jsx)(B().D,{as:"div",styleName:"UIRegular-14px/Medium",style:x.bannerContentWrapper,children:R}),display:"full-width-no-content",tint:k,onDismiss:D})}function $(e){const{onSelectTargetLanguage:t,onSelectSourceLanguage:a,editorModeConfigTranslateState:r,sourceLanguage:i,buttonPopupStore:l,detectedPageLanguage:c,preferredLanguage:p,pageId:f}=e,L=(0,o().v3)(),h=(0,g().tz)(),v=(0,s().IS)((e=>({buttonPopup:{minWidth:200},buttonContent:{display:"flex",gap:6,alignItems:"center"},button:{padding:"2px 4px",borderRadius:4},chevron:{width:14,height:14,fill:e.text.uiBlueSecondary},popupWrap:{left:-12},buttonHovered:{background:e.palette.uiBlue[200]},buttonPressed:{background:e.palette.uiBlue[300]}})),[]),S="loading"===r.status,M=(0,n.useMemo)((()=>"select_language"===r.status?(0,q.jsxs)("div",{style:v.buttonContent,children:[(0,q.jsx)("span",{children:h.formatMessage((0,u().Bj)(i))}),(0,d().e)(v.chevron)]}):S||"active"===r.status||"suggest_translation"===r.status?(0,q.jsxs)("div",{style:v.buttonContent,children:[h.formatMessage((0,u().Bj)(r.targetLanguage)),!S&&(0,d().e)(v.chevron)]}):"dismiss_forever"===r.status?null:void(0,m().HB)(r)),[r,v,i,S,h]);return(0,q.jsx)(y().Ay,{buttonPopupStore:l,originGap:8,style:v.buttonPopup,popupWrapStyle:L.device.isMobile?void 0:v.popupWrap,render:e=>{const n=L.device.isMobile?{menuType:F().gu.Modal,right:(0,q.jsx)(x().DoneMenuText,{}),onClickRight:e.close}:{menuType:F().gu.Popup};return(0,q.jsx)(k().A,{...n,onClick:e=>{e.stopPropagation()},children:(0,q.jsx)(N().Z,{onSelectTargetLanguage:t,onSelectSourceLanguage:a,editorModeConfigTranslateState:r,sourceLanguage:i,detectedPageLanguage:c,preferredLanguage:p,pageId:f})})},popupType:L.device.isMobile?j().nl.BottomSheet:j().nl.Popup,renderOrigin:e=>(0,q.jsx)(T().A,{disabled:S,style:v.button,hoveredStyle:v.buttonHovered,pressedStyle:v.buttonPressed,...e,children:M}),alignmentToOrigin:y().yP.Start,placementToOrigin:y().sx.Bottom})}function ee(e){const{onClick:t}=e,a=(0,o().Y0)().isMobile,n=(0,s().IS)((()=>({button:{borderRadius:4}})),[]);return a?(0,q.jsx)(T().A,{onClick:t,children:(0,q.jsx)(g().sA,{id:"DuplicateToEditButton.mobileDuplicateToEdit",defaultMessage:"Edit"})}):(0,q.jsx)(P().A,{color:"uiBlue",size:"sm",iconLeading:c().V,onClick:t,style:n.button,children:(0,q.jsx)(g().sA,{id:"DuplicateToEditButton.duplicateToEdit",defaultMessage:"Duplicate to edit"})})}function te(e){const{onClickDuplicateWithoutSubpages:t,onClickDuplicateWithSubpages:a,error:r}=e,i=(0,o().Y0)().isMobile,l=(0,s().IS)((()=>({popup:{display:"flex",flexDirection:"column",gap:12,margin:18,width:i?void 0:260},title:{display:"flex",flexDirection:"column",alignItems:"center",gap:10,fontSize:16,fontWeight:600},continueButton:{width:"100%"},toggleContainer:{display:"flex",justifyContent:"space-between"}})),[i]),[d,u]=(0,n.useState)(!1),[p,m]=(0,n.useState)(!1);return(0,q.jsx)(y().Ay,{renderOrigin:e=>{let{onClick:t}=e;return(0,q.jsx)(ee,{onClick:t})},popupType:i?y().z7.BottomSheet:y().z7.Popup,render:()=>r?(0,q.jsx)(z().LargeSurfaceRenderError,{error:r}):(0,q.jsxs)("div",{style:l.popup,children:[(0,q.jsxs)("div",{style:l.title,children:[(0,q.jsx)(_().I,{icon:c().V,size:"lg",color:"secondary"}),(0,q.jsx)(g().sA,{id:"DuplicateTranslatedPagePopup.title",defaultMessage:"Duplicate translated page"})]}),(0,q.jsxs)("div",{style:l.toggleContainer,children:[(0,q.jsxs)(E().Ye,{children:[(0,q.jsx)(R().A,{children:(0,q.jsx)(g().sA,{id:"DuplicateTranslatedPagePopup.includeSubpages",defaultMessage:"Include subpages"})}),(0,q.jsx)(w().A,{})]}),(0,q.jsx)(D().A,{on:d,onClick:()=>u(!d)})]}),(0,q.jsx)(A().A,{size:"lg",style:l.continueButton,disabled:p,onClick:()=>{m(!0),d?a():t()},children:(0,q.jsx)(g().sA,{id:"DuplicateTranslatedPagePopup.button.label",defaultMessage:"Continue"})})]})})}},179030:(e,t,a)=>{a.d(t,{l:()=>n().lZ});var n=()=>a(661764)},185078:(e,t,a)=>{a.d(t,{FM:()=>d,cE:()=>i,h5:()=>p,hr:()=>l,kl:()=>g,oQ:()=>u,vQ:()=>c});var n=()=>a(534177),o=()=>a(700500),r=()=>a(644161);const s=["ar","bg","cs","da","de","el","es","et","fi","fr","hu","id","it","ja","ko","lt","lv","nb","nl","pl","ro","ru","sk","sl","sv","tr","uk","zh","en","pt"];function i(e){return(0,n().Xk)(s,e)}const l=["en-US","ko","ja","fr","de","es","pt-BR","pt-PT","fi","da","nl","nb","sv","zh-HANS","zh-HANT","ru","it","id"];function d(e){return function(e){return(0,n().Xk)(l,e)}((0,r().JE)(e))}function c(){return l.map((e=>({key:e,name:(0,r().Bj)(e)})))}function u(e){return(0,o().Db)(e,void 0)||"form"===e?"title":(0,o().z9)(e)?"caption":"table_row"===e||"collection_view"===e||"collection_view_page"===e?"properties":(0,o().Mp)(e)||"column"===e||"column_list"===e||"table"===e?"unmapped":void(0,n().HB)(e)}let g=function(e){return e.NAME="name",e.VIEW_NAME="view_name",e.DESCRIPTION="description",e.SCHEMA_PROPERTY_NAME="schema_property_name",e.SCHEMA_PROPERTY_OPTION="schema_property_option",e.SCHEMA_PROPERTY_AI_INFERENCE="schema_property_ai_inference_prompt",e}({});const p={questionName:"question_name",questionDescription:"question_description",checkboxLabel:"checkbox_label"}},198874:(e,t,a)=>{a.d(t,{l:()=>w});a(16280),a(898992),a(803949);var n=()=>a(584262),o=()=>a(179034),r=()=>a(534177),s=()=>a(896628),i=()=>a(910302),l=()=>a(44729),d=()=>a(857783),c=()=>a(185544),u=()=>a(319975),g=()=>a(751156),p=()=>a(2220),m=()=>a(568131),f=()=>a(450486),L=()=>a(765957),h=()=>a(430483),v=()=>a(77246),S=()=>a(630116),M=()=>a(611371),C=()=>a(825726);function w(e){try{const{pageStore:t,environment:a,duplicateTo:o,triggeredFrom:u}=e,{currentUserStore:S,currentSpaceStore:C,currentSpaceViewStore:w}=L().default.state;if(!h().zD.isFullPageTranslateEnabled())throw new Error("Invalid call to duplicateTranslatedPage: full page translate is not enabled");if(!S||!C||!w)throw new Error("Cannot duplicate translated page: missing required stores");if(!(0,M().EF)(a))throw new Error("Cannot duplicate translated page: user cannot create page");const y=v().Uv.getStateForBlock(t.id);if(!y)throw new Error("Cannot duplicate translated page: no editor mode state");if("translate_locked"!==y.mode||"active"!==y.status)throw new Error("Cannot duplicate translated page: invalid editor mode state");const b=async e=>{const{duplicateStore:o,duplicateBlockResultStatusPromise:r}=e;try{"success"===(await r).status&&(o.isLocked()&&g().createAndCommit({userAction:"fullPageTranslationActions.duplicateTranslatedPage.unlockPage",environment:a,canUndo:!0,perform:e=>{s()._l({environment:a,store:o,isLocked:!1,transaction:e})}}),d().uK({environment:a,store:o,pageVisitSource:n().y8.SavePageTranslationCopy}),i().DL({pageStore:t,environment:a,triggeredFrom:"navigation"}))}catch(l){throw new Error("Error duplicating translated page",{cause:l})}};if((0,p().u)({environment:a,event:{eventName:"duplicate_translated_page",eventProperties:{duplicate_to:o,triggered_from:u,page_id:t.id}}}),"parent"===o){const e=t.getParentStore();if("block"!==(null==e?void 0:e.table)&&"team"!==(null==e?void 0:e.table)&&"space"!==(null==e?void 0:e.table)&&"collection"!==(null==e?void 0:e.table))throw new Error("Cannot duplicate translated page: invalid parent store table");const n=g().createAndCommit({userAction:"fullPageTranslationActions.duplicateTranslatedPageToParent",environment:a,canUndo:!0,perform:n=>{const{blockStores:o,onComplete:s}=m().duplicateBlock({environment:a,stores:[t],transaction:n,targetSpaceId:C.id,preferDuplicateLocation:"local",options:{addCopyName:!1,allowRedundancy:!1,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!t.isInsideTemplate(),returnRecordIdMap:!0}}),i=o[0],d={type:"append",after:t.id};switch(e.table){case"team":(0,f().moveToTeamImpl)({transaction:n,currentSpaceViewStore:w,teamStore:e,targets:[i],environment:a,location:d,action:"move",value:{type:"team",id:e.id,spaceId:C.id}});break;case"block":l().NI({parentStore:e,childStore:i,transaction:n,after:d.after});break;case"space":c().yM({environment:a,spaceStore:C,spaceViewStore:w,pageStore:i,isPrivate:!0,location:d,transaction:n});break;case"collection":l().X$({childStore:i,parentStore:e,transaction:n});break;default:(0,r().HB)(e)}const u=s.then((e=>("success"===e.status&&e.recordIdMap&&T({environment:a,blockToTranslateStore:i,applyTranslationMap:y.translationMap,recordIdMap:e.recordIdMap}),e)));return{duplicateStore:i,duplicateBlockResultStatusPromise:u}}}).performResult;return b(n),n.duplicateStore}if("private_pages"===o){const e=g().createAndCommit({userAction:"fullPageTranslationActions.duplicateTranslatedPageToPrivatePages",environment:a,canUndo:!0,perform:e=>{const{blockStores:n,onComplete:o}=m().duplicateBlock({environment:a,stores:[t],transaction:e,targetSpaceId:C.id,preferDuplicateLocation:"local",options:{addCopyName:!1,allowRedundancy:!1,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!t.isInsideTemplate(),returnRecordIdMap:!0}}),r=n[0];c().yM({environment:a,spaceStore:C,spaceViewStore:w,pageStore:r,isPrivate:!0,location:{type:"prepend"},transaction:e});const s=o.then((e=>("success"===e.status&&e.recordIdMap&&T({environment:a,blockToTranslateStore:r,applyTranslationMap:y.translationMap,recordIdMap:e.recordIdMap}),e)));return{duplicateStore:r,duplicateBlockResultStatusPromise:s}}}).performResult;return b(e),e.duplicateStore}(0,r().HB)(o)}catch(t){(0,C().l)(t)}}function T(e){const{environment:t,blockToTranslateStore:a,applyTranslationMap:n,recordIdMap:s}=e,l=i().Js({translationMap:n,recordIdMap:s});g().createAndCommit({userAction:"serverDuplicate.applyTranslationMap",environment:t,canUndo:!0,perform(e){for(const[n,s]of Object.entries(l)){const i=S().Bv.createChildStore(a,{table:o().ev,id:n,spaceId:a.getSpaceId()});let l;if("title"===s.mapping)l=i.getBlockTitleStore();else if("caption"===s.mapping)l=i.getPropertyStore("caption");else{if("unmapped"===s.mapping)continue;if("properties"===s.mapping){Object.entries(s.properties??{}).forEach((a=>{let[n,o]=a;const r=i.getPropertyStore(n);u().R9({environment:t,store:r,value:o.value,transaction:e})}));continue}(0,r().HB)(s.mapping)}u().R9({environment:t,store:l,value:s.value,transaction:e})}}})}},243581:(e,t,a)=>{a.d(t,{r:()=>o});a(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.48 3.92 13.04 12.85",svg:(0,a(474848).jsx)("path",{d:"M3.483 4.55c0-.345.28-.625.625-.625h3.5a.625.625 0 1 1 0 1.25H5.617L8.86 8.42A6 6 0 0 1 10 10.007a6 6 0 0 1 1.14-1.588l3.243-3.244h-1.99a.625.625 0 1 1 0-1.25h3.5c.344 0 .624.28.624.625v3.5a.625.625 0 0 1-1.25 0V6.06l-3.243 3.244a4.78 4.78 0 0 0-1.399 3.358v4.108h-1.25v-4.108a4.78 4.78 0 0 0-1.398-3.358L4.733 6.059V8.05a.625.625 0 1 1-1.25 0z"})},o=(0,a(340498).wt)("arrowBranch",n)},247123:(e,t,a)=>{a.d(t,{QU:()=>p,f2:()=>g,r6:()=>m});a(581454),a(296540);var n=()=>a(56366),o=()=>a(401497),r=()=>a(959013),s=()=>a(534177),i=()=>a(756279),l=()=>a(765957),d=()=>a(2143),c=()=>a(921194),u=a(474848);function g(e){const{openState:t}=e,{mainEditorCurrentBlockStore:a,currentSpaceStore:r}=(0,n().K8)((()=>{const{mainEditorCurrentBlockStore:e,currentSpaceStore:t}=l().default.state;return{mainEditorCurrentBlockStore:e,currentSpaceStore:t}}),[]),s=(0,o().IS)((e=>({scroller:{display:"flex",flexDirection:"column",maxHeight:290,border:`1px solid ${e.lightDividerColor}`,borderRadius:6,paddingTop:8,paddingLeft:12,paddingRight:12,paddingBottom:12,marginTop:15,marginBottom:5,marginLeft:-12,marginRight:-12},editContainer:{marginTop:2,marginBottom:2,color:e.text.primary}})),[]);if(!a||!r)return null;const g=Date.now();return(0,u.jsx)(d().H,{type:i().A.Y,style:s.scroller,children:t.permissionChanges.map(((e,t)=>{let[n,o]=e;const i={timestamp:g,space_id:r.id,type:"permission-changed",permission_data:{before:n,after:o}};return(0,u.jsx)("div",{style:s.editContainer,children:(0,u.jsx)(c().A,{rootStore:a,edit:i})},`${n.type}-${t}`)}))})}function p(e){return["remove","restrict"].includes(e.type)?(0,u.jsx)(r().sA,{id:"restrictedPermissionConfirmationModal.actionButton.restrictAccessV2",defaultMessage:"Change and unlink"}):(0,u.jsx)(r().sA,{id:"restrictedPermissionConfirmationModal.actionButton.relink",defaultMessage:"Relink"})}function m(e){switch(e.type){case"remove":case"restrict":return(0,u.jsx)(r().sA,{id:"restrictedPermissionConfirmationModal.remove.descriptionV2",defaultMessage:"Change access and unlink share settings from parent page?"});case"restore":case"restoreTeamPermissions":return(0,u.jsx)(r().sA,{id:"restrictedPermissionConfirmationModal.relink.description",defaultMessage:"Relink share settings?"});default:throw s().HB(e)}}},391435:(e,t,a)=>{a.d(t,{Z:()=>y});a(944114),a(898992),a(354520),a(581454);var n=a(296540),o=()=>a(484714),r=()=>a(401497),s=()=>a(529324),i=()=>a(644161),l=()=>a(185078),d=()=>a(959013),c=()=>a(778078),u=()=>a(2220),g=()=>a(722872),p=()=>a(760217),m=()=>a(419357),f=()=>a(928600),L=()=>a(939740),h=()=>a(64e3),v=()=>a(460292),S=()=>a(89924),M=()=>a(662971),C=a(474848);const w=1,T=(0,d().YK)({sourceLanguage:{id:"translation.languageMenuList.sourceLanguage",defaultMessage:"From"},selectLanguage:{id:"translation.languageMenuList.selectLanguage",defaultMessage:"To"},detectedLanguage:{id:"translation.languageMenuList.detectedLanguage",defaultMessage:"Detected language"},preferredLanguage:{id:"translation.languageMenuList.preferredLanguage",defaultMessage:"Preferred language"},languageSearchPlaceholder:{id:"translation.languageMenuList.languageSearchPlaceholder",defaultMessage:"Search languagesâ€¦"}});function y(e){const{onSelectTargetLanguage:t,onSelectSourceLanguage:a,editorModeConfigTranslateState:s,sourceLanguage:l,detectedPageLanguage:c,preferredLanguage:g,subMenuPlacement:m,subMenuAlignment:f,pageId:h}=e,v=(0,o().v3)(),y=(0,d().tz)(),I="loading"===s.status,_=b(I),B=(0,r().IS)((e=>({menuItemSectionBottomBorder:{boxShadow:`${e.regularDividerColor} 0px 1px 0px`},..._})),[_]);(0,n.useEffect)((()=>{if("pre_activation"===s.status){const e=setTimeout((()=>{(0,u().u)({environment:v,event:{eventName:"translate_page_interaction",eventProperties:{type:"action_menu_rendered",page_id:h}}})}),750);return()=>clearTimeout(e)}}),[s.status,h,v]);const P=s.targetLanguage,j=x({disabled:I,filter:e=>l!==e,currentSelectedLanguage:s.targetLanguage,onSelectLanguage:e=>{t({targetLanguage:e})}});return(0,C.jsx)(L().Ay,{initialFocus:w,type:L().Oh.Vertical,sections:[{key:"sourceLanguage",render:e=>(0,C.jsx)(S().A,{...e,title:y.formatMessage(T.sourceLanguage),desktopTitleStyle:{marginLeft:2,marginRight:2},style:B.menuItemSectionBottomBorder}),items:[{key:l,render:(e,t)=>{let{onFocus:n}=t;return(0,C.jsx)(M().A,{...e,onFocus:n,disableDefaultClick:!0,placementToOrigin:m,alignmentToOrigin:f,renderOrigin:(e,t)=>(0,C.jsx)(p().A,{...e,disabled:I,buttonStyle:B.button,ref:t,title:y.formatMessage((0,i().Bj)(l)),caption:l===c?y.formatMessage(T.detectedLanguage):l===g?y.formatMessage(T.preferredLanguage):void 0}),renderExtension:e=>(0,C.jsx)(k,{disabled:I,extensionPopupButtonEvents:e,currentTargetLanguage:P,sourceLanguage:l,onSelectSourceLanguage:a})})},action:()=>{}}]},{key:"selectLanguage",render:e=>(0,C.jsx)(S().A,{...e,title:y.formatMessage(T.selectLanguage),desktopTitleStyle:{marginLeft:2,marginRight:2}}),items:j}]})}function b(e){return(0,r().IS)((t=>({button:{color:e?t.text.tertiary:t.text.primary}})),[e])}function k(e){const{extensionPopupButtonEvents:t,currentTargetLanguage:a,disabled:n,sourceLanguage:r,onSelectSourceLanguage:s}=e,{isMobile:i}=(0,o().Y0)(),l=x({disabled:n,filter:e=>e!==a,currentSelectedLanguage:r,onSelectLanguage:e=>{s({sourceLanguage:e})}}),d=i?{menuType:g().gu.ActionSheet,...t}:{menuType:g().gu.Popup,width:200,height:380,...t};return(0,C.jsx)(f().A,{...d,onClick:e=>{e.preventDefault()},children:(0,C.jsx)(L().Ay,{initialFocus:void 0,type:L().Oh.Vertical,sections:[{key:"originalLanguage",render:e=>(0,C.jsx)(S().A,{...e}),items:l}]})})}function x(e){const{disabled:t,filter:a,currentSelectedLanguage:r,onSelectLanguage:u}=e,g=(0,d().tz)(),{isMobile:f}=(0,o().Y0)(),[L,S]=(0,n.useState)(""),M=b(t),w=(0,n.useMemo)((()=>({key:"language-search-input",render:e=>(0,C.jsx)(m().Ay,{...e,disabled:t,placeholder:g.formatMessage(T.languageSearchPlaceholder),value:L,onChange:e=>S(e.target.value),autoFocus:!f,inputLeft:(0,C.jsx)(v().Q,{iconGroup:s().C,colorName:"lightGrayPrimary",variantName:"default"})}),action:()=>{}})),[L,t,g,f]),y=(0,n.useMemo)((()=>({key:"no-results",render:()=>(0,C.jsx)(h().A,{title:(0,C.jsx)(d().sA,{defaultMessage:"No results found",id:"TranslationLanguageMenuList.noResults"})}),action:()=>{}})),[]),k=(0,n.useMemo)((()=>{const e=[];for(const t of l().hr)if(a(t)){const a=g.formatMessage((0,i().Bj)(t));e.push({languageCode:t,languageName:a})}return e.sort(((e,t)=>e.languageName.localeCompare(t.languageName)))}),[a,g]),x=(0,n.useMemo)((()=>(0,c().Ay)(L,k,(e=>{let{languageName:t}=e;return t.toLowerCase()}))),[L,k]),I=(0,n.useMemo)((()=>x.map((e=>{let{languageCode:a,languageName:n}=e;return{key:a,render:e=>(0,C.jsx)(p().A,{...e,buttonStyle:M.button,disabled:t,title:n,isChecked:r===a}),action:()=>{t||u(a)}}}))),[x,t,r,u,M.button]);return 0===I.length?[w,y]:[w,...I]}},406859:(e,t,a)=>{a.d(t,{M:()=>o});class n extends(()=>a(757695))().Store{getInitialState(){return{blockStoreMode:{},siteTemplateStatus:{}}}getStateForBlock(e){if(e in this.state.blockStoreMode)return this.state.blockStoreMode[e]}setStateForBlock(e,t){this.update((a=>({...a,blockStoreMode:{...a.blockStoreMode,[e]:t}})))}setSiteTemplateStatus(e,t){this.update((a=>({...a,siteTemplateStatus:{[e]:t}})))}isTemplateListing(e){var t;return(null===(t=this.state.siteTemplateStatus[e])||void 0===t?void 0:t.templateListingExists)??!1}clearStateForBlock(e){e in this.state.blockStoreMode&&(delete this.state.blockStoreMode[e],this.emit())}}const o=new n;(0,a(604341).exposeDebugValue)("MarketplaceTemplateStore",o)},427636:(e,t,a)=>{a.d(t,{A:()=>o});a(296540);var n=a(474848);const o=function(e){const{botStore:t,avatarSize:o,shouldShowBadge:r,style:s,inline:i}=e,l=(0,a(959013).tz)(),d=(0,a(484714).Y0)(),c=(0,a(56366).K8)((()=>null==t?void 0:t.getDisplayName(l)),[t,l]),{outerStyle:u,avatarWrapStyle:g,badgeStyle:p}=(0,a(401497).IS)((e=>({outerStyle:{display:"flex",alignItems:"center",minWidth:0,...s},avatarWrapStyle:i?{width:"none",minHeight:"none",marginRight:6}:{marginRight:6},badgeStyle:{padding:"2px 6px",borderRadius:4,color:e.text.secondary,background:e.legacyDefaultSelectColor,fontSize:a(780054).A.isMobile?11:9,lineHeight:d.isAndroid?1.5:1,textTransform:"uppercase",letterSpacing:"0.04em",marginLeft:8,marginTop:1}})),[s,i,d]);return(0,n.jsxs)("div",{style:u,children:[(0,n.jsx)("div",{style:g,children:(0,n.jsx)(a(256863).A,{botStore:t,size:o})}),(0,n.jsx)("div",{style:{...a(284371).RC},children:c}),r&&(0,n.jsx)("div",{style:p,children:"Bot"})]})}},438632:(e,t,a)=>{a.d(t,{PD:()=>c,cb:()=>d,yR:()=>u});a(16280),a(944114),a(898992),a(354520),a(803949),a(581454);var n=a.n(a(625473)),o=a.n(a(716471)),r=()=>a(496603),s=()=>a(534177),i=()=>a(634201),l=()=>a(919709);let d=function(e){return e[e.removed=-1]="removed",e[e.added=1]="added",e[e.same=0]="same",e}({});function c(e,t){const a=new(o())({timeout:2,editCost:6}),n=a.main(t,e);return a.cleanupSemantic(n),n}function u(e){const{before:t,after:a,isIncompleteAfter:o,insertCursor:u}=e,g={count:0,encoding:{},decoding:{},annotationEncoding:{},annotationDecoding:{}},p=e=>{const t=g.encoding[e];if(t)return t;{const t=String.fromCharCode(g.count);return g.count++,g.encoding[e]=t,g.decoding[t]=e,t}},m=e=>{const t=n()(e),a=g.annotationEncoding[t];if(a)return a;{const a=String.fromCharCode(g.count);return g.count++,g.annotationEncoding[t]=a,g.annotationDecoding[a]=e,a}},f=t=>r().Bq(l().RQ(t).map((t=>{let a=[];if("word"===e.mode||"wordUnderlineFinal"===e.mode){if("undefined"==typeof Intl||!Intl.Segmenter)throw new Error("Intl.Segmenter is not supported");{const e=new Intl.Segmenter(void 0,{granularity:"word"}).segment(t[0]);a=Array.from(e).map((e=>e.segment))}}else a=i().PE(t[0]);const n=a.map(p);if(l().qXl(t)){const e=l().uPN(t),a=l().jhx(e);a&&(n[0]=m({type:"mention",value:a}),e.forEach((e=>{l().iGj(e)||l().gir(e)||l().lfl(e)||(n.unshift(m({type:"start",value:e})),n.push(m({type:"end",value:e})))})))}else if(l().GiG(t)){const e=l().uPN(t),a=l().j1D(e);if(a){n[0]=m({type:"equation",value:a});for(const t of e)l().iGj(t)||l().gir(t)||l().lfl(t)||(n.unshift(m({type:"start",value:t})),n.push(m({type:"end",value:t})))}}else if(l().BEe(t)){l().uPN(t).forEach((e=>{n.unshift(m({type:"start",value:e})),n.push(m({type:"end",value:e}))}))}return n}))).join("");if(g.count>65535)throw new Error("This string has way too many different characters.");const L=c(f(a),f(t)),h=[];let v=[],S=0;const M=o?r().Kl(L,(e=>0===e[0]||1===e[0])):0;let C=!1;const w=e.insertionAnnotation,T=e.deletionAnnotation;return L.forEach((t=>{let[a,n]=t;n.split("").forEach((t=>{if(g.decoding[t]){const n=g.decoding[t];a===d.added?h.push([n,[...v,"wordUnderlineFinal"===e.mode?e.underlineAnnotation:w]]):a===d.removed&&(!o||S<=M)?"wordUnderlineFinal"!==e.mode&&h.push([n,[...v,T]]):(o&&u&&!C&&S===M+1&&(C=!0,h.push(["",[["tc"]]])),h.push([n,v]))}else{const n=g.annotationDecoding[t];if(a===d.added)if("mention"===n.type)h.push([l().Sj,[...v,"wordUnderlineFinal"===e.mode?e.underlineAnnotation:w,n.value]]);else if("start"===n.type)v=[...v,n.value];else if("end"===n.type)v=v.filter((e=>!r().n4(e,n.value)));else if("equation"===n.type){const e=l().U35(n.value),t=l().G0H(e,[...v,w]);h.push(t)}else(0,s().HB)(n);else if(a===d.removed){if("mention"===n.type)"wordUnderlineFinal"!==e.mode&&h.push([l().Sj,[...v,T,n.value]]);else if("equation"===n.type){const e=l().U35(n.value),t=l().G0H(e,[...v,T]);h.push(t)}}else if(a===d.same)if("mention"===n.type)h.push([l().Sj,[...v,n.value]]);else if("start"===n.type)v=[...v,n.value];else if("end"===n.type)v=v.filter((e=>!r().n4(e,n.value)));else if("equation"===n.type){const e=l().U35(n.value),t=l().G0H(e,v);h.push(t)}else(0,s().HB)(n)}})),o&&(S+=1)})),l().__s(h)}},442277:(e,t,a)=>{a.d(t,{B:()=>o});a(296540);var n=a(474848);const o=(0,a(340498).wt)("arrowRightSmaller",{viewBox:"0 0 16 16",directional:!0,svg:(0,n.jsx)("path",{d:"M15.383 8.352a.877.877 0 01-.274.64l-5.156 5.14a.864.864 0 01-.617.266.831.831 0 01-.602-.234.795.795 0 01-.234-.586c0-.12.02-.232.063-.336a.912.912 0 01.187-.273l1.75-1.766 2.914-2.656.274.5-2.711.156H1.484c-.26 0-.471-.078-.632-.234a.851.851 0 01-.235-.617c0-.256.078-.461.235-.618a.856.856 0 01.632-.242h9.493l2.71.164-.273.508L10.5 5.5 8.75 3.727a.946.946 0 01-.188-.266.917.917 0 01-.062-.344c0-.234.078-.43.234-.586a.831.831 0 01.602-.234.79.79 0 01.328.07c.104.047.203.117.297.211l5.148 5.133a.877.877 0 01.274.64z"})})},448360:(e,t,a)=>{a.d(t,{W:()=>n});const n=a(757695).Store.createValue(!1,{name:"AiPageTranslationCalloutStore"})},450486:(e,t,a)=>{a.r(t),a.d(t,{moveToTeamImpl:()=>l});var n=()=>a(496603),o=()=>a(534177),r=()=>a(44729),s=()=>a(955930),i=()=>a(375078);function l(e){let{transaction:t,currentSpaceViewStore:a,teamStore:l,targets:d,location:c,environment:u}=e;const g=a.getTeamsStores(),p=l.getTeamPagesStore();i().maybeTurnCollectionViewIntoCollectionViewPage({environment:u,blocks:d,transaction:t});for(const i of d){const e=n().I6(g,(e=>{const t=e.getTeamPagesStore().getValue();if(t)return t.includes(i.id)}));(null==e?void 0:e.id)!==l.id&&("append"===c.type?r().NI({parentStore:p,childStore:i,after:c.after,transaction:t}):"prepend"===c.type?r().Ti({parentStore:p,childStore:i,before:c.before,transaction:t}):(0,o().HB)(c),e&&s().Ex({teamStore:e,store:i,transaction:t}))}return l}},514799:(e,t,a)=>{a.d(t,{H:()=>i});var n=()=>a(484714),o=()=>a(56366),r=()=>a(185078),s=()=>a(910302);function i(e){const{detectedLanguage:t,canSuggestInConfidence:a}=function(e){const{pageStore:t,enabled:a,forceUpdate:r=!1}=e,i=(0,n().v3)();return(0,o().K8)((()=>a?s().bY({pageStore:t,environment:i,enabled:a,forceUpdate:r}):{detectedLanguage:void 0,canSuggestInConfidence:!1}),[t,i,a,r])}(e);return t&&!(0,r().cE)(t)?{detectedLanguage:void 0,canSuggestInConfidence:!1}:{detectedLanguage:t,canSuggestInConfidence:a}}},529324:(e,t,a)=>{a.d(t,{C:()=>n});const n=(0,a(340498).xh)("magnifyingGlass",{default:{loader:()=>a.e(1827).then(a.bind(a,901827))},small:{loader:()=>a.e(41805).then(a.bind(a,741805))},mini:{loader:()=>a.e(20283).then(a.bind(a,420283))},large:{loader:()=>a.e(61969).then(a.bind(a,861969))}})},546806:(e,t,a)=>{a.d(t,{e:()=>o});a(296540);var n=a(474848);const o=(0,a(340498).wt)("chevronDownThin",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M8 11.4795C7.77214 11.4795 7.56478 11.3883 7.37793 11.2061L2.17578 5.88086C2.09831 5.80794 2.03906 5.72591 1.99805 5.63477C1.96159 5.53906 1.94336 5.43652 1.94336 5.32715C1.94336 5.17676 1.97754 5.04004 2.0459 4.91699C2.11882 4.79395 2.21452 4.69824 2.33301 4.62988C2.4515 4.55697 2.58594 4.52051 2.73633 4.52051C2.95508 4.52051 3.14648 4.60254 3.31055 4.7666L8.33496 9.91406H7.67188L12.6895 4.7666C12.8535 4.60254 13.0449 4.52051 13.2637 4.52051C13.4141 4.52051 13.5485 4.55697 13.667 4.62988C13.7855 4.69824 13.8789 4.79395 13.9473 4.91699C14.0202 5.04004 14.0566 5.17676 14.0566 5.32715C14.0566 5.54134 13.9792 5.72591 13.8242 5.88086L8.62207 11.2061C8.53548 11.2972 8.43978 11.3656 8.33496 11.4111C8.23014 11.4567 8.11849 11.4795 8 11.4795Z"})})},568131:(e,t,a)=>{a.r(t),a.d(t,{duplicateBlock:()=>y});a(16280),a(898992),a(823215),a(581454),a(737550);var n=()=>a(179034),o=()=>a(665344),r=()=>a(854150),s=()=>a(466614),i=()=>a(970330),l=()=>a(901389),d=()=>a(863168),c=()=>a(594794),u=()=>a(611191),g=()=>a(972435),p=()=>a(494043),m=()=>a(406792);class f{constructor(e){this.environment=void 0,this.metricName=void 0,this.startMetric=void 0,this.prevLapMetric=void 0,this.extraData=void 0,this.environment=e.environment,this.metricName=e.metricName,this.startMetric=m().default.mark(e.metricName),this.prevLapMetric=m().default.mark(e.metricName),this.extraData=e.extraData??{}}mark(e){m().default.measure(this.prevLapMetric,{environment:this.environment,data:{type:e,...this.extraData},sampleDecision:"default"}),this.prevLapMetric=m().default.mark(this.metricName)}end(){m().default.measure(this.startMetric,{environment:this.environment,data:{type:"total",...this.extraData},sampleDecision:"default"})}}var L=()=>a(765957),h=()=>a(227440),v=()=>a(630116),S=()=>a(261450),M=()=>a(59110),C=()=>a(605605),w=()=>a(53592),T=()=>a(677733);function y(e){const{environment:t,stores:a,transaction:m,targetSpaceId:y,preferDuplicateLocation:b,analyticsFrom:k,options:x,installationImprint:I,shouldAttemptServerBackedLocalDuplication:_,templateInstallationMetadata:B,shouldUseSynchronousDuplicationAPI:P}=e,j=new f({environment:t,metricName:"duplicate_block_stopwatch",extraData:{duplication_type:"local"===b?"local_duplication":_?"server_backed_local_duplication":P?"server_synchronous_duplication":"server_duplication",from:k}});if(0===a.length)throw new Error("Must duplicate at least one block");const A=a[0].getSpaceId();if(!a.every((e=>e.getSpaceId()===A)))throw new Error("All stores must be in the same space");if(a.length>1&&!a.every((e=>e.isTypedCollectionViewBlock())))throw new Error("Multiple source blocks only supported for grouped typed DB duplication");!function(e){const{environment:t,stores:a,analyticsFrom:n}=e;for(const s of a){var o;const e=s.getRecordStoreAtRootPath().getValue();if(!e)continue;const{currentSpaceStore:a}=L().default.getState();let l;a&&e.parent_table===r().yK&&(l=v().h4.createChildStore(a,{table:r().yK,id:e.parent_id})),i().v(t,{from:n??"copy",type:e.type,teamStore:l,is_toggleable:(0,p().Yt)(e.type,e.format),collection_id:s.getAssociatedCollectionId()??(null===(o=s.getCollectionStore())||void 0===o?void 0:o.id),new_page_id:"page"===e.type?s.id:void 0,creating_block_id:s.id,parent_collection_id:s.getParentCollectionIdUpToTwoLevels(),form_id:s.getFirstFormIdInCollectionViewBlock()})}}({environment:t,stores:a,analyticsFrom:k}),j.mark("track_create_blocks"),x.convertExternalObjectInstancesToPlaceholders=A!==y;const D=B&&(0,o().Fe)(B.source)&&B.isListedTemplate;if("local"===b&&1===a.length&&!D){const e=function(e){const{environment:t,store:a,sourceSpaceId:o,targetSpaceId:r,transaction:i,options:l,installationImprint:g,templateInstallationMetadata:p,stopwatch:m}=e,f=(0,u().$J)(),L=(0,M().loadLocalSubtree)(t,{blockId:a.id,inMemoryRecordCache:a.inMemoryRecordCache,allowCopyCollections:!1,requireFullSubtree:!0,skipTransclusionContainerChildren:!l.deepCopyTransclusionContainers,allowCopyExternalObjectInstances:!l.convertExternalObjectInstancesToPlaceholders,includeLegacyTransclusionBlockValues:f}).recordMap;if(null==m||m.mark("load_local_subtree"),!L||s().Lw({sourceSpaceId:o,targetSpaceId:r,sourceBlockSubtree:L}))return;const{targetBlockStore:h}=(0,C().localDuplicate)({environment:t,sourceBlockId:a.id,targetBlockPointer:(0,c().zP)({environment:t,table:n().ev,spaceId:r}),sourceBlockSubtree:L,targetInMemoryRecordCache:a.inMemoryRecordCache,options:{...l,preventLegacyTransclusions:f},transaction:i,installationImprint:g,templateInstallationMetadata:p,stopwatch:m});"ai_block"===h.getType()&&d().EF.setState(h.pointer.id);return{blockStores:[h],onComplete:Promise.resolve({status:"success"})}}({environment:t,store:a[0],options:x,sourceSpaceId:A,targetSpaceId:y,transaction:m,installationImprint:I,templateInstallationMetadata:B,stopwatch:j});if(e)return j.mark("try_local_duplication_success"),j.end(),e;j.mark("try_local_duplication_failure")}const R=t.defaultRecordCache.inMemoryRecordCache;if(a.some((e=>e.inMemoryRecordCache!==R)))throw new Error("Can only server duplicate from the environment.defaultRecordCache.inMemoryRecordCache.");let E;return h().A.state.online||l().f1(g().A.formatMessage(S().V.offlineError)),E=1===a.length&&_?(0,w().serverBackedLocalDuplicate)({environment:t,sourceBlock:{id:a[0].id,spaceId:a[0].getSpaceId()},targetInMemoryRecordCache:R,transaction:m,targetSpaceId:y,installationImprint:I,templateInstallationMetadata:B,stopwatch:j,shouldUseSynchronousDuplicationAPI:P,options:x}):(0,T().serverDuplicate)({environment:t,sourceBlocks:a.map((e=>({id:e.id,spaceId:e.getSpaceId()}))),targetInMemoryRecordCache:R,transaction:m,targetSpaceId:y,installationImprint:I,templateInstallationMetadata:B,stopwatch:j,shouldUseSynchronousDuplicationAPI:P,options:x}),async function(){const{blockStores:e,onComplete:t}=E;if("success"===(await t).status)for(const a of e)if("ai_block"===a.getType())return void d().EF.setState(a.pointer.id)}(),j.mark("duplicate_block_immediate_return"),E.onComplete.then((e=>{j.end()})),E}},577466:(e,t,a)=>{a.d(t,{B:()=>r});var n=()=>a(401497),o=()=>a(963589);function r(e){const t=(0,o().X)("more_rounded_block_container");return(0,n().IS)((e=>({wrapper:{background:e.surface.wash,borderRadius:t?10:5,padding:"8px 12px",userSelect:"none",width:"100%"}})),[t])}},644161:(e,t,a)=>{a.d(t,{Bj:()=>c,JE:()=>l,gi:()=>g});var n=()=>a(959013),o=()=>a(534177);const r=(0,n().YK)({aa:{id:"translation.iso639TwoLetterLanguageCodes.aa",defaultMessage:"Afar"},ab:{id:"translation.iso639TwoLetterLanguageCodes.ab",defaultMessage:"Abkhazian"},af:{id:"translation.iso639TwoLetterLanguageCodes.af",defaultMessage:"Afrikaans"},ak:{id:"translation.iso639TwoLetterLanguageCodes.ak",defaultMessage:"Akan"},sq:{id:"translation.iso639TwoLetterLanguageCodes.sq",defaultMessage:"Albanian"},am:{id:"translation.iso639TwoLetterLanguageCodes.am",defaultMessage:"Amharic"},ar:{id:"translation.iso639TwoLetterLanguageCodes.ar",defaultMessage:"Arabic"},an:{id:"translation.iso639TwoLetterLanguageCodes.an",defaultMessage:"Aragonese"},hy:{id:"translation.iso639TwoLetterLanguageCodes.hy",defaultMessage:"Armenian"},as:{id:"translation.iso639TwoLetterLanguageCodes.as",defaultMessage:"Assamese"},av:{id:"translation.iso639TwoLetterLanguageCodes.av",defaultMessage:"Avaric"},ae:{id:"translation.iso639TwoLetterLanguageCodes.ae",defaultMessage:"Avestan"},ay:{id:"translation.iso639TwoLetterLanguageCodes.ay",defaultMessage:"Aymara"},az:{id:"translation.iso639TwoLetterLanguageCodes.az",defaultMessage:"Azerbaijani"},ba:{id:"translation.iso639TwoLetterLanguageCodes.ba",defaultMessage:"Bashkir"},bm:{id:"translation.iso639TwoLetterLanguageCodes.bm",defaultMessage:"Bambara"},eu:{id:"translation.iso639TwoLetterLanguageCodes.eu",defaultMessage:"Basque"},be:{id:"translation.iso639TwoLetterLanguageCodes.be",defaultMessage:"Belarusian"},bn:{id:"translation.iso639TwoLetterLanguageCodes.bn",defaultMessage:"Bengali"},bh:{id:"translation.iso639TwoLetterLanguageCodes.bh",defaultMessage:"Bihari languages"},bi:{id:"translation.iso639TwoLetterLanguageCodes.bi",defaultMessage:"Bislama"},bs:{id:"translation.iso639TwoLetterLanguageCodes.bs",defaultMessage:"Bosnian"},br:{id:"translation.iso639TwoLetterLanguageCodes.br",defaultMessage:"Breton"},bg:{id:"translation.iso639TwoLetterLanguageCodes.bg",defaultMessage:"Bulgarian"},my:{id:"translation.iso639TwoLetterLanguageCodes.my",defaultMessage:"Burmese"},ca:{id:"translation.iso639TwoLetterLanguageCodes.ca",defaultMessage:"Catalan; Valencian"},ch:{id:"translation.iso639TwoLetterLanguageCodes.ch",defaultMessage:"Chamorro"},ce:{id:"translation.iso639TwoLetterLanguageCodes.ce",defaultMessage:"Chechen"},zh:{id:"translation.iso639TwoLetterLanguageCodes.zh",defaultMessage:"Chinese"},cu:{id:"translation.iso639TwoLetterLanguageCodes.cu",defaultMessage:"Church Slavic; Old Slavonic; Church Slavonic; Old Bulgarian; Old Church Slavonic"},cv:{id:"translation.iso639TwoLetterLanguageCodes.cv",defaultMessage:"Chuvash"},kw:{id:"translation.iso639TwoLetterLanguageCodes.kw",defaultMessage:"Cornish"},co:{id:"translation.iso639TwoLetterLanguageCodes.co",defaultMessage:"Corsican"},cr:{id:"translation.iso639TwoLetterLanguageCodes.cr",defaultMessage:"Cree"},cs:{id:"translation.iso639TwoLetterLanguageCodes.cs",defaultMessage:"Czech"},da:{id:"translation.iso639TwoLetterLanguageCodes.da",defaultMessage:"Danish"},dv:{id:"translation.iso639TwoLetterLanguageCodes.dv",defaultMessage:"Divehi; Dhivehi; Maldivian"},nl:{id:"translation.iso639TwoLetterLanguageCodes.nl",defaultMessage:"Dutch"},dz:{id:"translation.iso639TwoLetterLanguageCodes.dz",defaultMessage:"Dzongkha"},en:{id:"translation.iso639TwoLetterLanguageCodes.en",defaultMessage:"English"},eo:{id:"translation.iso639TwoLetterLanguageCodes.eo",defaultMessage:"Esperanto"},et:{id:"translation.iso639TwoLetterLanguageCodes.et",defaultMessage:"Estonian"},ee:{id:"translation.iso639TwoLetterLanguageCodes.ee",defaultMessage:"Ewe"},fo:{id:"translation.iso639TwoLetterLanguageCodes.fo",defaultMessage:"Faroese"},fj:{id:"translation.iso639TwoLetterLanguageCodes.fj",defaultMessage:"Fijian"},fi:{id:"translation.iso639TwoLetterLanguageCodes.fi",defaultMessage:"Finnish"},fr:{id:"translation.iso639TwoLetterLanguageCodes.fr",defaultMessage:"French"},fy:{id:"translation.iso639TwoLetterLanguageCodes.fy",defaultMessage:"Western Frisian"},ff:{id:"translation.iso639TwoLetterLanguageCodes.ff",defaultMessage:"Fulah"},ka:{id:"translation.iso639TwoLetterLanguageCodes.ka",defaultMessage:"Georgian"},de:{id:"translation.iso639TwoLetterLanguageCodes.de",defaultMessage:"German"},gd:{id:"translation.iso639TwoLetterLanguageCodes.gd",defaultMessage:"Gaelic; Scottish Gaelic"},ga:{id:"translation.iso639TwoLetterLanguageCodes.ga",defaultMessage:"Irish"},gl:{id:"translation.iso639TwoLetterLanguageCodes.gl",defaultMessage:"Galician"},gv:{id:"translation.iso639TwoLetterLanguageCodes.gv",defaultMessage:"Manx"},el:{id:"translation.iso639TwoLetterLanguageCodes.el",defaultMessage:"Greek"},gn:{id:"translation.iso639TwoLetterLanguageCodes.gn",defaultMessage:"Guarani"},gu:{id:"translation.iso639TwoLetterLanguageCodes.gu",defaultMessage:"Gujarati"},ht:{id:"translation.iso639TwoLetterLanguageCodes.ht",defaultMessage:"Haitian; Haitian Creole"},ha:{id:"translation.iso639TwoLetterLanguageCodes.ha",defaultMessage:"Hausa"},he:{id:"translation.iso639TwoLetterLanguageCodes.he",defaultMessage:"Hebrew"},hz:{id:"translation.iso639TwoLetterLanguageCodes.hz",defaultMessage:"Herero"},hi:{id:"translation.iso639TwoLetterLanguageCodes.hi",defaultMessage:"Hindi"},ho:{id:"translation.iso639TwoLetterLanguageCodes.ho",defaultMessage:"Hiri Motu"},hr:{id:"translation.iso639TwoLetterLanguageCodes.hr",defaultMessage:"Croatian"},hu:{id:"translation.iso639TwoLetterLanguageCodes.hu",defaultMessage:"Hungarian"},ig:{id:"translation.iso639TwoLetterLanguageCodes.ig",defaultMessage:"Igbo"},is:{id:"translation.iso639TwoLetterLanguageCodes.is",defaultMessage:"Icelandic"},io:{id:"translation.iso639TwoLetterLanguageCodes.io",defaultMessage:"Ido"},ii:{id:"translation.iso639TwoLetterLanguageCodes.ii",defaultMessage:"Sichuan Yi; Nuosu"},iu:{id:"translation.iso639TwoLetterLanguageCodes.iu",defaultMessage:"Inuktitut"},ie:{id:"translation.iso639TwoLetterLanguageCodes.ie",defaultMessage:"Interlingue; Occidental"},ia:{id:"translation.iso639TwoLetterLanguageCodes.ia",defaultMessage:"Interlingua (International Auxiliary Language Association)"},id:{id:"translation.iso639TwoLetterLanguageCodes.id",defaultMessage:"Indonesian"},ik:{id:"translation.iso639TwoLetterLanguageCodes.ik",defaultMessage:"Inupiaq"},it:{id:"translation.iso639TwoLetterLanguageCodes.it",defaultMessage:"Italian"},jv:{id:"translation.iso639TwoLetterLanguageCodes.jv",defaultMessage:"Javanese"},ja:{id:"translation.iso639TwoLetterLanguageCodes.ja",defaultMessage:"Japanese"},kl:{id:"translation.iso639TwoLetterLanguageCodes.kl",defaultMessage:"Kalaallisut; Greenlandic"},kn:{id:"translation.iso639TwoLetterLanguageCodes.kn",defaultMessage:"Kannada"},ks:{id:"translation.iso639TwoLetterLanguageCodes.ks",defaultMessage:"Kashmiri"},kr:{id:"translation.iso639TwoLetterLanguageCodes.kr",defaultMessage:"Kanuri"},kk:{id:"translation.iso639TwoLetterLanguageCodes.kk",defaultMessage:"Kazakh"},km:{id:"translation.iso639TwoLetterLanguageCodes.km",defaultMessage:"Central Khmer"},ki:{id:"translation.iso639TwoLetterLanguageCodes.ki",defaultMessage:"Kikuyu; Gikuyu"},rw:{id:"translation.iso639TwoLetterLanguageCodes.rw",defaultMessage:"Kinyarwanda"},ky:{id:"translation.iso639TwoLetterLanguageCodes.ky",defaultMessage:"Kirghiz; Kyrgyz"},kv:{id:"translation.iso639TwoLetterLanguageCodes.kv",defaultMessage:"Komi"},kg:{id:"translation.iso639TwoLetterLanguageCodes.kg",defaultMessage:"Kongo"},ko:{id:"translation.iso639TwoLetterLanguageCodes.ko",defaultMessage:"Korean"},kj:{id:"translation.iso639TwoLetterLanguageCodes.kj",defaultMessage:"Kuanyama; Kwanyama"},ku:{id:"translation.iso639TwoLetterLanguageCodes.ku",defaultMessage:"Kurdish"},lo:{id:"translation.iso639TwoLetterLanguageCodes.lo",defaultMessage:"Lao"},la:{id:"translation.iso639TwoLetterLanguageCodes.la",defaultMessage:"Latin"},lv:{id:"translation.iso639TwoLetterLanguageCodes.lv",defaultMessage:"Latvian"},li:{id:"translation.iso639TwoLetterLanguageCodes.li",defaultMessage:"Limburgan; Limburger; Limburgish"},ln:{id:"translation.iso639TwoLetterLanguageCodes.ln",defaultMessage:"Lingala"},lt:{id:"translation.iso639TwoLetterLanguageCodes.lt",defaultMessage:"Lithuanian"},lb:{id:"translation.iso639TwoLetterLanguageCodes.lb",defaultMessage:"Luxembourgish; Letzeburgesch"},lu:{id:"translation.iso639TwoLetterLanguageCodes.lu",defaultMessage:"Luba-Katanga"},lg:{id:"translation.iso639TwoLetterLanguageCodes.lg",defaultMessage:"Ganda"},mk:{id:"translation.iso639TwoLetterLanguageCodes.mk",defaultMessage:"Macedonian"},mh:{id:"translation.iso639TwoLetterLanguageCodes.mh",defaultMessage:"Marshallese"},ml:{id:"translation.iso639TwoLetterLanguageCodes.ml",defaultMessage:"Malayalam"},mi:{id:"translation.iso639TwoLetterLanguageCodes.mi",defaultMessage:"Maori"},mr:{id:"translation.iso639TwoLetterLanguageCodes.mr",defaultMessage:"Marathi"},ms:{id:"translation.iso639TwoLetterLanguageCodes.ms",defaultMessage:"Malay"},mg:{id:"translation.iso639TwoLetterLanguageCodes.mg",defaultMessage:"Malagasy"},mt:{id:"translation.iso639TwoLetterLanguageCodes.mt",defaultMessage:"Maltese"},mn:{id:"translation.iso639TwoLetterLanguageCodes.mn",defaultMessage:"Mongolian"},na:{id:"translation.iso639TwoLetterLanguageCodes.na",defaultMessage:"Nauru"},nv:{id:"translation.iso639TwoLetterLanguageCodes.nv",defaultMessage:"Navajo; Navaho"},nr:{id:"translation.iso639TwoLetterLanguageCodes.nr",defaultMessage:"Ndebele, South; South Ndebele"},nd:{id:"translation.iso639TwoLetterLanguageCodes.nd",defaultMessage:"Ndebele, North; North Ndebele"},ng:{id:"translation.iso639TwoLetterLanguageCodes.ng",defaultMessage:"Ndonga"},ne:{id:"translation.iso639TwoLetterLanguageCodes.ne",defaultMessage:"Nepali"},nn:{id:"translation.iso639TwoLetterLanguageCodes.nn",defaultMessage:"Norwegian Nynorsk; Nynorsk, Norwegian"},nb:{id:"translation.iso639TwoLetterLanguageCodes.nb",defaultMessage:"Norwegian"},no:{id:"translation.iso639TwoLetterLanguageCodes.no",defaultMessage:"Norwegian"},ny:{id:"translation.iso639TwoLetterLanguageCodes.ny",defaultMessage:"Chichewa; Chewa; Nyanja"},oc:{id:"translation.iso639TwoLetterLanguageCodes.oc",defaultMessage:"Occitan (post 1500)"},oj:{id:"translation.iso639TwoLetterLanguageCodes.oj",defaultMessage:"Ojibwa"},or:{id:"translation.iso639TwoLetterLanguageCodes.or",defaultMessage:"Oriya"},om:{id:"translation.iso639TwoLetterLanguageCodes.om",defaultMessage:"Oromo"},os:{id:"translation.iso639TwoLetterLanguageCodes.os",defaultMessage:"Ossetian; Ossetic"},pa:{id:"translation.iso639TwoLetterLanguageCodes.pa",defaultMessage:"Panjabi; Punjabi"},fa:{id:"translation.iso639TwoLetterLanguageCodes.fa",defaultMessage:"Persian"},pi:{id:"translation.iso639TwoLetterLanguageCodes.pi",defaultMessage:"Pali"},pl:{id:"translation.iso639TwoLetterLanguageCodes.pl",defaultMessage:"Polish"},pt:{id:"translation.iso639TwoLetterLanguageCodes.pt",defaultMessage:"Portuguese"},ps:{id:"translation.iso639TwoLetterLanguageCodes.ps",defaultMessage:"Pushto; Pashto"},qu:{id:"translation.iso639TwoLetterLanguageCodes.qu",defaultMessage:"Quechua"},rm:{id:"translation.iso639TwoLetterLanguageCodes.rm",defaultMessage:"Romansh"},ro:{id:"translation.iso639TwoLetterLanguageCodes.ro",defaultMessage:"Romanian; Moldavian; Moldovan"},rn:{id:"translation.iso639TwoLetterLanguageCodes.rn",defaultMessage:"Rundi"},ru:{id:"translation.iso639TwoLetterLanguageCodes.ru",defaultMessage:"Russian"},sg:{id:"translation.iso639TwoLetterLanguageCodes.sg",defaultMessage:"Sango"},sa:{id:"translation.iso639TwoLetterLanguageCodes.sa",defaultMessage:"Sanskrit"},si:{id:"translation.iso639TwoLetterLanguageCodes.si",defaultMessage:"Sinhala; Sinhalese"},sk:{id:"translation.iso639TwoLetterLanguageCodes.sk",defaultMessage:"Slovak"},sl:{id:"translation.iso639TwoLetterLanguageCodes.sl",defaultMessage:"Slovenian"},se:{id:"translation.iso639TwoLetterLanguageCodes.se",defaultMessage:"Northern Sami"},sm:{id:"translation.iso639TwoLetterLanguageCodes.sm",defaultMessage:"Samoan"},sn:{id:"translation.iso639TwoLetterLanguageCodes.sn",defaultMessage:"Shona"},sd:{id:"translation.iso639TwoLetterLanguageCodes.sd",defaultMessage:"Sindhi"},so:{id:"translation.iso639TwoLetterLanguageCodes.so",defaultMessage:"Somali"},st:{id:"translation.iso639TwoLetterLanguageCodes.st",defaultMessage:"Sotho, Southern"},es:{id:"translation.iso639TwoLetterLanguageCodes.es",defaultMessage:"Spanish"},sc:{id:"translation.iso639TwoLetterLanguageCodes.sc",defaultMessage:"Sardinian"},sr:{id:"translation.iso639TwoLetterLanguageCodes.sr",defaultMessage:"Serbian"},ss:{id:"translation.iso639TwoLetterLanguageCodes.ss",defaultMessage:"Swati"},su:{id:"translation.iso639TwoLetterLanguageCodes.su",defaultMessage:"Sundanese"},sw:{id:"translation.iso639TwoLetterLanguageCodes.sw",defaultMessage:"Swahili"},sv:{id:"translation.iso639TwoLetterLanguageCodes.sv",defaultMessage:"Swedish"},ty:{id:"translation.iso639TwoLetterLanguageCodes.ty",defaultMessage:"Tahitian"},ta:{id:"translation.iso639TwoLetterLanguageCodes.ta",defaultMessage:"Tamil"},tt:{id:"translation.iso639TwoLetterLanguageCodes.tt",defaultMessage:"Tatar"},te:{id:"translation.iso639TwoLetterLanguageCodes.te",defaultMessage:"Telugu"},tg:{id:"translation.iso639TwoLetterLanguageCodes.tg",defaultMessage:"Tajik"},tl:{id:"translation.iso639TwoLetterLanguageCodes.tl",defaultMessage:"Tagalog"},th:{id:"translation.iso639TwoLetterLanguageCodes.th",defaultMessage:"Thai"},bo:{id:"translation.iso639TwoLetterLanguageCodes.bo",defaultMessage:"Tibetan"},ti:{id:"translation.iso639TwoLetterLanguageCodes.ti",defaultMessage:"Tigrinya"},to:{id:"translation.iso639TwoLetterLanguageCodes.to",defaultMessage:"Tonga (Tonga Islands)"},tn:{id:"translation.iso639TwoLetterLanguageCodes.tn",defaultMessage:"Tswana"},ts:{id:"translation.iso639TwoLetterLanguageCodes.ts",defaultMessage:"Tsonga"},tk:{id:"translation.iso639TwoLetterLanguageCodes.tk",defaultMessage:"Turkmen"},tr:{id:"translation.iso639TwoLetterLanguageCodes.tr",defaultMessage:"Turkish"},tw:{id:"translation.iso639TwoLetterLanguageCodes.tw",defaultMessage:"Twi"},ug:{id:"translation.iso639TwoLetterLanguageCodes.ug",defaultMessage:"Uighur; Uyghur"},uk:{id:"translation.iso639TwoLetterLanguageCodes.uk",defaultMessage:"Ukrainian"},ur:{id:"translation.iso639TwoLetterLanguageCodes.ur",defaultMessage:"Urdu"},uz:{id:"translation.iso639TwoLetterLanguageCodes.uz",defaultMessage:"Uzbek"},ve:{id:"translation.iso639TwoLetterLanguageCodes.ve",defaultMessage:"Venda"},vi:{id:"translation.iso639TwoLetterLanguageCodes.vi",defaultMessage:"Vietnamese"},vo:{id:"translation.iso639TwoLetterLanguageCodes.vo",defaultMessage:"VolapÃ¼k"},cy:{id:"translation.iso639TwoLetterLanguageCodes.cy",defaultMessage:"Welsh"},wa:{id:"translation.iso639TwoLetterLanguageCodes.wa",defaultMessage:"Walloon"},wo:{id:"translation.iso639TwoLetterLanguageCodes.wo",defaultMessage:"Wolof"},xh:{id:"translation.iso639TwoLetterLanguageCodes.xh",defaultMessage:"Xhosa"},yi:{id:"translation.iso639TwoLetterLanguageCodes.yi",defaultMessage:"Yiddish"},yo:{id:"translation.iso639TwoLetterLanguageCodes.yo",defaultMessage:"Yoruba"},za:{id:"translation.iso639TwoLetterLanguageCodes.za",defaultMessage:"Zhuang; Chuang"},zu:{id:"translation.iso639TwoLetterLanguageCodes.zu",defaultMessage:"Zulu"}});const s=["en-US","en-GB","zh-HANS","zh-HANT","pt-BR","pt-PT"];const i={en:"en-US",zh:"zh-HANT",pt:"pt-BR"};function l(e){return(0,o().O)(i,e)?i[e]:e}const d=(0,n().YK)({"en-US":{id:"translation.iso639TwoLetterLanguageCodes.en-US",defaultMessage:"English"},"en-GB":{id:"translation.iso639TwoLetterLanguageCodes.en-GB",defaultMessage:"English (United Kingdom)"},"zh-HANT":{id:"translation.iso639TwoLetterLanguageCodes.zh-HANT",defaultMessage:"Chinese (Traditional)"},"zh-HANS":{id:"translation.iso639TwoLetterLanguageCodes.zh-HANS",defaultMessage:"Chinese (Simplified)"},"pt-BR":{id:"translation.iso639TwoLetterLanguageCodes.pt-BR",defaultMessage:"Portuguese (Brazil)"},"pt-PT":{id:"translation.iso639TwoLetterLanguageCodes.pt-PT",defaultMessage:"Portuguese (Portugal)"}});function c(e){return function(e){return(0,o().Xk)(s,e)}(e)?function(e){return d[e]}(e):function(e){return r[e]}(e)}const u={"en-US":"en-US","ko-KR":"ko","ja-JP":"ja","fr-FR":"fr","de-DE":"de","es-ES":"es","es-LA":"es","pt-BR":"pt-BR","zh-CN":"zh-HANS","zh-TW":"zh-HANT","fi-FI":"fi","da-DK":"da","nl-NL":"nl","nb-NO":"nb","sv-SE":"sv","en-GB":"en-GB","vi-VN":"vi","th-TH":"th","id-ID":"id",pseudo:"en"};function g(e){return(0,o().O)(u,e)?u[e]:void 0}},650843:(e,t,a)=>{a.r(t),a.d(t,{LargeSurfaceRenderError:()=>i});a(296540);var n=()=>a(167355),o=()=>a(840071),r=()=>a(113414),s=a(474848);function i(e){return(0,s.jsx)(o().L,{...e,iconGroup:n().F,children:(0,s.jsx)(r().g,{})})}},654734:(e,t,a)=>{a.d(t,{A:()=>d});var n=a(296540),o=()=>a(597777),r=()=>a(869190),s=()=>a(604995),i=()=>a(416504),l=a(474848);const d=function(e){const t=(0,a(959013).tz)(),d=(0,a(401497).DP)(),g=(0,a(396182).I)(),p=(0,n.useRef)(),m=(0,n.useCallback)((()=>{const t=e.value;if(!t)return;const n=s().q8(t,(0,i().P)());if(!n)return;const o=n.valueOf(),r=o-Date.now();r<0||r>a(720665).nD||p.current&&p.current.timestamp===o||(p.current&&clearTimeout(p.current.timer),p.current={timestamp:o,timer:setTimeout((()=>g("DateBox","DateBox/createReminderTimer")),r)})}),[g,e.value]),f=(0,n.useCallback)((()=>{p.current&&(clearTimeout(p.current.timer),p.current=void 0)}),[]);(0,n.useEffect)((()=>{m()}),[m]),(0,n.useEffect)((()=>()=>{f()}),[f]);const{value:L,withComma:h}=e,v=(0,a(56366).K8)((()=>L?(0,r().ZF)({value:L,date_format:e.dateFormat,time_format:e.timeFormat,userTimeZone:(0,i().P)(),allowRelativeDates:!0,intl:t,shortenDateAndRange:e.shortenDateAndRange,displayInUserTimezone:e.displayInUserTimezone,getToday:a(838924).x1}):void 0),[t,e.dateFormat,e.displayInUserTimezone,e.shortenDateAndRange,e.timeFormat,L]);if(!L)return null;const S=s().AA(L,(0,i().P)(),a(662303).locale);let M;if((0,o().Lh)(L)){const e=s().Zs(L,(0,i().P)());M=e?{color:d.errorText}:{color:a(381349).Ay.blue}}const C=(0,l.jsxs)(l.Fragment,{children:[v,(0,o().Lh)(L)&&(0,a(599987).P)({display:"inline-block",width:"1em",marginLeft:6,marginRight:2,paddingBottom:4,verticalAlign:"middle"}),h?", ":null]});return e.disableTooltip?(0,l.jsx)("div",{className:e.className,style:{...e.style,...M},children:C}):(0,l.jsx)(a(859428).A,{renderTooltip:()=>(0,l.jsxs)(l.Fragment,{children:[e.tooltipHeader,(0,l.jsxs)("div",{style:u(d,e.tooltipHeader),children:[c(S.start),S.end?` â†’ ${c(S.end)}`:""]})]}),render:t=>(0,l.jsx)("div",{className:e.className,style:{...e.style,...M},...t,children:C}),placement:e.tooltipPlacement})};function c(e){return(0,r().eV)({value:e,preset:"medium"})}function u(e,t){return t?{color:e.text.contrastSecondary}:{}}},661764:(e,t,a)=>{a.d(t,{fT:()=>k,lZ:()=>j,pq:()=>M});a(581454),a(296540);var n=()=>a(484714),o=()=>a(401497),r=()=>a(246760),s=()=>a(995847),i=()=>a(340498),l=()=>a(959013),d=()=>a(84817),c=()=>a(285790),u=()=>a(864943),g=()=>a(859428),p=()=>a(460292),m=()=>a(554509),f=a(474848);const L=(0,l().YK)({learnMore:{id:"banner.learnMore",defaultMessage:"Learn more"},dismiss:{id:"banner.dismiss",defaultMessage:"Dismiss"}}),h={red:"uiRedPrimary",yellow:"uiYellowPrimary",blue:"uiBluePrimary",gray:"secondary"},v={red:"uiRedSecondary",yellow:"uiYellowSecondary",blue:"uiBlueSecondary",gray:"secondary"},S={red:e=>e.tint.uiRed,yellow:e=>e.tint.uiYellow,blue:e=>e.tint.uiBlue,gray:e=>e.surface.wash},M={red:e=>e.text.uiRedPrimary,blue:e=>e.text.uiBluePrimary,yellow:e=>e.text.uiYellowPrimary,gray:e=>"dark"===e.mode?e.text.primary:e.text.secondary},C={red:e=>e.icon.uiRedSecondary,blue:e=>e.icon.uiBlueSecondary,yellow:e=>e.icon.uiYellowSecondary,gray:e=>"dark"===e.mode?e.text.secondary:e.text.quaternary};function w(e,t){return(0,o().IS)((a=>({container:{backgroundColor:S[e](a),padding:"8px 12px"},icon:{width:i().Ev.sm,height:i().Ev.sm,fill:a.icon[t??h[e]]},content:{color:M[e](a)},learnMoreIcon:{fill:M[e](a)},titleIcon:{marginRight:8}})),[e,t])}function T(e){const{onDismiss:t}=e,a=(0,l().tz)();return t?(0,f.jsx)(c().A,{size:"xs",onClick:t,icon:s().xMarkSmallIcon,color:"primary",ariaLabel:a.formatMessage(L.dismiss)}):(0,f.jsx)("div",{})}function y(e){const{tint:t,iconGroup:a,style:n}=e;return a?(0,f.jsx)(p().Q,{iconGroup:a,variantName:"small",colorName:h[t],style:n}):null}function b(e){const{tint:t,iconGroup:a}=e;return a?(0,f.jsx)(p().Q,{iconGroup:a,variantName:"small",colorName:v[t]}):null}function k(e){const{tint:t,action:a}=e,{label:n,onClick:r,iconGroup:s}=a,i=(0,o().IS)((e=>({button:{color:"gray"===t?e.text.primary:M[t](e),borderWidth:1,borderStyle:"solid",borderColor:C[t](e),padding:s?"4px 10px 4px 8px":"4px 8px",height:"unset",gap:s&&4},buttonContent:{display:"flex",flexDirection:"row",alignItems:"center"}})),[t,s]);return(0,f.jsx)(u().A,{size:"lg",iconLeading:()=>(0,f.jsx)(b,{iconGroup:s,tint:t}),onClick:r,buttonStyle:i.button,children:(0,f.jsx)(m().D,{styleName:"UIRegular-14px/Medium",customStyles:i.buttonContent,children:n})})}function x(e){const{label:t,iconGroup:a,tint:n,onDismiss:o,actions:s,onLearnMoreClick:i}=e,u=w(n),g=(0,l().tz)();return(0,f.jsxs)(d().Y1,{style:u.container,gap:"auto",direction:"horizontal",align:"center",width:"fill",children:[(0,f.jsxs)(d().Y1,{style:u.content,direction:"horizontal",align:"center",width:"hug",children:[(0,f.jsx)(y,{tint:n,iconGroup:a,style:u.titleIcon}),(0,f.jsx)(m().D,{styleName:"UIRegular-14px/Medium",children:t}),i&&(0,f.jsx)(c().A,{onClick:i,icon:()=>(0,f.jsx)(p().Q,{iconGroup:r().G,variantName:"large",colorName:"secondary",style:u.learnMoreIcon}),ariaLabel:g.formatMessage(L.learnMore)})]}),(0,f.jsxs)(d().Y1,{direction:"horizontal",align:"center-right",gap:12,children:[(0,f.jsx)(d().Y1,{direction:"horizontal",align:"center",gap:8,width:"hug",children:null==s?void 0:s.map(((e,t)=>e.isCustom?e.render():(0,f.jsx)(k,{tint:n,action:e},t)))}),(0,f.jsx)(T,{onDismiss:o})]})]})}function I(e){const{label:t,iconGroup:a,staticIcon:n,iconColor:o,tint:s,onDismiss:i,actions:u,onLearnMoreClick:h}=e,v=w(s,o),S=(0,l().tz)(),M=a?(0,f.jsx)(y,{tint:s,iconGroup:a,style:v.titleIcon}):n?n({...v.icon,...v.titleIcon}):null;return(0,f.jsxs)(d().Y1,{style:v.container,gap:"auto",direction:"horizontal",align:"center",children:[(0,f.jsx)("div",{}),(0,f.jsxs)(d().Y1,{style:v.content,direction:"horizontal",align:"center",width:"hug",gap:24,children:[(0,f.jsxs)(d().Y1,{direction:"horizontal",align:"center",width:"hug",children:[M,(0,f.jsx)(m().D,{styleName:"UIRegular-14px/Medium",children:t}),h&&(0,f.jsx)(g().A,{renderTooltip:()=>S.formatMessage(L.learnMore),render:e=>(0,f.jsx)(c().A,{onClick:h,icon:()=>(0,f.jsx)(p().Q,{iconGroup:r().G,variantName:"large",colorName:"secondary",style:v.learnMoreIcon}),ariaLabel:S.formatMessage(L.learnMore),...e})})]}),u?(0,f.jsx)(d().Y1,{direction:"horizontal",gap:8,width:"hug",children:null==u?void 0:u.map(((e,t)=>e.isCustom?e.render():(0,f.jsx)(k,{tint:s,action:e},t)))}):null]}),(0,f.jsx)(T,{onDismiss:i})]})}function _(e){const{label:t,description:a,iconGroup:n,staticIcon:r,iconColor:s,tint:i,onDismiss:l,actions:c}=e,u=w(i,s),g=(0,o().IS)((e=>({container:{backgroundColor:S[i](e),padding:16,borderRadius:8},content:{color:M[i](e)},iconContainer:{height:20,display:"flex",alignItems:"center",justifyContent:"center"}})),[i]),p=n?(0,f.jsx)(y,{tint:i,iconGroup:n}):r?r(u.icon):null;return(0,f.jsxs)(d().Y1,{style:g.container,gap:8,direction:"horizontal",children:[p?(0,f.jsx)("div",{style:g.iconContainer,children:p}):null,(0,f.jsxs)(d().Y1,{style:g.content,gap:8,children:[(0,f.jsxs)(d().Y1,{gap:4,children:[(0,f.jsx)(m().D,{styleName:"UIRegular-14px/Medium",colorName:"gray"===i?"primary":void 0,children:t}),a?(0,f.jsx)(m().D,{styleName:"UIRegular-14px/Regular",children:a}):null]}),c?(0,f.jsx)(d().Y1,{direction:"horizontal",gap:8,children:null==c?void 0:c.map(((e,t)=>e.isCustom?e.render():(0,f.jsx)(k,{tint:i,action:e},t)))}):null]}),(0,f.jsx)(T,{onDismiss:l})]})}function B(e){const{label:t,staticIcon:a,tint:n,iconColor:r,onDismiss:s,actions:i}=e,l=w(n,r),c=(0,o().IS)((e=>({container:{backgroundColor:S[n](e),padding:"8px 8px 8px 12px",borderRadius:8},content:{color:M[n](e)},iconContainer:{height:20,display:"flex",alignItems:"center",justifyContent:"center"}})),[n]);return(0,f.jsxs)(d().Y1,{style:c.container,gap:8,direction:"horizontal",align:"center",children:[a?(0,f.jsx)("div",{style:c.iconContainer,children:a(l.icon)}):null,(0,f.jsxs)(d().Y1,{style:c.content,gap:"auto",direction:"horizontal",align:"center",children:[(0,f.jsx)(d().Y1,{gap:4,children:(0,f.jsx)(m().D,{styleName:"UIRegular-14px/Medium",children:t})}),i?(0,f.jsx)(d().Y1,{direction:"horizontal",gap:8,width:"hug",children:null==i?void 0:i.map(((e,t)=>e.isCustom?e.render():(0,f.jsx)(k,{tint:n,action:e},t)))}):null]}),(0,f.jsx)(T,{onDismiss:s})]})}function P(e){const{tint:t,onDismiss:a,content:n}=e,o=w(t);return(0,f.jsxs)(d().Y1,{style:o.container,align:"center",gap:8,direction:"horizontal",children:[(0,f.jsx)("div",{style:{flex:1,...o.content},children:n}),(0,f.jsx)(T,{onDismiss:a})]})}function j(e){const{display:t}=e,a=(0,n().v3)();switch(t){case"inline":return(0,f.jsx)(_,{...e});case"full-width":return a.device.isMobile?(0,f.jsx)(x,{...e}):(0,f.jsx)(I,{...e});case"full-width-no-content":return(0,f.jsx)(P,{...e});case"inline-compact":return(0,f.jsx)(B,{...e})}return(0,f.jsx)(f.Fragment,{})}},701545:(e,t,a)=>{a.d(t,{p:()=>o});a(296540);var n=a(474848);const o=(0,a(340498).wt)("checkMarkLine",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M6.79297 13.2871C6.48047 13.2871 6.21484 13.1523 5.99609 12.8828L2.96094 9.14453C2.875 9.04297 2.8125 8.94336 2.77344 8.8457C2.73828 8.74805 2.7207 8.64648 2.7207 8.54102C2.7207 8.30664 2.79883 8.11328 2.95508 7.96094C3.11133 7.80859 3.30859 7.73242 3.54688 7.73242C3.81641 7.73242 4.04297 7.84766 4.22656 8.07812L6.76953 11.3008L11.7324 3.4375C11.834 3.28125 11.9395 3.17188 12.0488 3.10938C12.1582 3.04297 12.2949 3.00977 12.459 3.00977C12.6973 3.00977 12.8926 3.08398 13.0449 3.23242C13.1973 3.38086 13.2734 3.57031 13.2734 3.80078C13.2734 3.89453 13.2578 3.98828 13.2266 4.08203C13.1953 4.17578 13.1465 4.27344 13.0801 4.375L7.5957 12.8594C7.4082 13.1445 7.14062 13.2871 6.79297 13.2871Z"})})},735790:(e,t,a)=>{a.d(t,{M:()=>r});a(296540);var n=a(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.25 15.25 11.5",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M3 7.375h6.829a2.501 2.501 0 0 0 4.842 0H17a.625.625 0 1 0 0-1.25h-2.329a2.501 2.501 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25M12.25 5.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M7.75 15.75a2.5 2.5 0 0 0 2.421-1.875H17a.625.625 0 1 0 0-1.25h-6.829a2.5 2.5 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25h2.329A2.5 2.5 0 0 0 7.75 15.75m0-1.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"})]})},r=(0,a(340498).wt)("sliders",o)},746426:(e,t,a)=>{a.d(t,{J:()=>l});var n=a(296540),o=()=>a(857639),r=()=>a(187174),s=()=>a(449506),i=()=>a(406859);function l(e,t,a){const[{value:l,status:d}]=(0,r().Yb)((async()=>{if(!a)return{templateListingExists:!1};try{const a=await s().callApi({eventName:"inAppGetBannerByBlockId",environment:e,data:{blockId:t.id}});var n,r,l;if("success"===a.type&&a.data.success)return i().M.setSiteTemplateStatus((null===(n=a.data.template)||void 0===n?void 0:n.root_block_id)??"",{templateListingExists:Boolean(null===(r=a.data.template)||void 0===r?void 0:r.listing_id),template:a.data.template,status:"resolved"}),{templateListingExists:Boolean(null===(l=a.data.template)||void 0===l?void 0:l.listing_id),template:a.data.template}}catch(d){o().log({level:"error",from:"AllPublishedSiteSettings",type:"getTemplateByBlockId",data:{blockId:t.id}})}return i().M.setSiteTemplateStatus(t.id,{templateListingExists:!1,template:void 0,status:"rejected"}),{templateListingExists:!1}}),[e,a,t]);return(0,n.useMemo)((()=>({templateListingExists:(null==l?void 0:l.templateListingExists)??!1,status:d,template:null==l?void 0:l.template})),[l,d])}},801611:(e,t,a)=>{a.d(t,{a:()=>P});a(16280),a(898992),a(672577);var n=()=>a(584262),o=()=>a(857639),r=()=>a(126818),s=()=>a(313784),i=()=>a(644161),l=()=>a(68263),d=()=>a(44729),c=()=>a(857783),u=()=>a(185544),g=()=>a(2220),p=()=>a(568131),m=()=>a(34542),f=()=>a(972435),L=()=>a(396301),h=()=>a(731320),v=()=>a(640653),S=()=>a(450486),M=()=>a(976721),C=()=>a(928074),w=()=>a(525700),T=()=>a(765957),y=()=>a(217429),b=()=>a(406859),k=()=>a(436572),x=()=>a(812182),I=()=>a(751156);const _="template_translation_toast",B="Template size too large";async function P(e){const{environment:t,pageStore:a,targetLanguage:P,sourceLanguage:D,spaceStore:R,openInNewTab:E,from:N}=e,{currentSpaceStore:z,currentUserRootStore:F}=T().default.state,U=R||z,H=R?null==F?void 0:F.getSpaceViewStores().find((e=>e.getSpaceId()===R.id)):T().default.state.currentSpaceViewStore;if(!y().default.checkGate({gateName:"translate_template_top_bar"}))throw new Error("Translate template is not enabled");if(!P||!D||null==U||!U.id)return;const O=f().A.getIntl(),G=await(0,m().oC)(t,a.id),V=null==G?void 0:G.name,W=performance.now();!function(e){const{intl:t,toastProps:a={},isMobile:n=!1}=e;if(n)return void k().D6({label:t.formatMessage({id:"inApp.template.translation.started.toast.mobile.message",defaultMessage:"Template is being translated. We will let you know when it's ready to use."}),position:"bottom",style:{maxWidth:"calc(100% - 40px)",justifyContent:"center",textAlign:"center"}});x().HK({id:_,title:t.formatMessage({id:"inApp.template.translation.started.toast.title",defaultMessage:"Template is being translated"}),message:t.formatMessage({id:"inApp.template.translation.started.toast.message",defaultMessage:"We will let you know when it's ready to access"}),presentationType:"transient",icon:s().S,...a})}({intl:O});const Y=b().M.getStateForBlock(a.id),K=await new Promise((e=>{I().createAndCommit({userAction:"translateTemplateActions.translateTemplateBlock",environment:t,canUndo:!0,perform:s=>{const l=a.getParentStore();if(!l)throw new Error("Cannot duplicate with no parent store found");const m=(e=>{const{environment:t,pageStore:a}=e,n=a.getParentStore();return!!n&&("block"===(null==n?void 0:n.table)||"team"===(null==n?void 0:n.table)||"space"===(null==n?void 0:n.table)||"collection"===(null==n?void 0:n.table))&&!("collection"===n.table&&!n.canEditCollection())&&!("team"===n.table&&!(0,L().dp)({teamStore:n,environment:t}))&&(0,h().MI)({environment:t,blockStore:a})})({environment:t,pageStore:a}),f=!(0,v().IL)(U),M=s.getUserActionForAnalyticsPurposesOnly();o().log({level:"info",from:"translateTemplateActions",type:"translateTemplateBlockStart",data:{miscDataToConvertToString:{pageStoreId:a.id,spaceId:a.getSpaceId(),parentStoreId:a.getParentId(),targetLanguage:P,sourceLanguage:D}}}),b().M.setStateForBlock(a.id,{...Y,mode:"translate",status:"loading",sourceLanguage:D,targetLanguage:P});const{blockStores:C,onComplete:w}=p().duplicateBlock({environment:t,stores:[a],transaction:s,targetSpaceId:null==U?void 0:U.id,preferDuplicateLocation:"server",options:{addCopyName:!1,allowRedundancy:!1,deepCopyTransclusionContainers:!0,resolveTemplateVariables:!a.isInsideTemplate(),shouldTranslate:!0,targetLanguage:P,sourceLanguage:D}}),T=C[0];let y="parent";if(m)switch(l.table){case"team":if(!H)throw new Error("Missing space view store for duplication");(0,S().moveToTeamImpl)({transaction:s,currentSpaceViewStore:H,teamStore:l,targets:[T],environment:t,location:{type:"append",after:a.id},action:"move",value:{type:"team",id:l.id,spaceId:U.id}});break;case"block":d().NI({parentStore:l,childStore:T,transaction:s,after:a.id});break;case"space":if(!H)throw new Error("Missing space view store for duplication");u().yM({environment:t,spaceStore:U,spaceViewStore:H,pageStore:T,isPrivate:!0,location:{type:"append",after:a.id},transaction:s});break;case"collection":d().X$({childStore:T,parentStore:l,transaction:s});break;default:throw new Error("Invalid parent store table for duplication")}else{if(!f)throw new Error("Cannot duplicate to destination");if(!H)throw new Error("Missing space view store for duplication");y="private_pages",u().yM({environment:t,spaceStore:U,spaceViewStore:H,pageStore:T,isPrivate:!0,location:{type:"append",after:a.id},transaction:s})}return(0,g().u)({environment:t,event:{eventName:"translate_template_block",eventProperties:{duplicate_to:y,page_id:a.id,source_language:D,target_language:P,triggered_from:N,template_id:null==G?void 0:G.id}}}),w.then((s=>{var l,d;"error"===s.status?(j({intl:O,templateName:V,blockLimitError:null===(l=s.error)||void 0===l?void 0:l.message.includes(B)}),b().M.clearStateForBlock(a.id),o().log({level:"error",from:"translateTemplateActions",type:"translateTemplateBlockError",data:{miscDataToConvertToString:{pageStoreId:a.id,spaceId:a.getSpaceId(),parentStoreId:a.getParentId(),targetLanguage:P,sourceLanguage:D,errorMessage:null===(d=s.error)||void 0===d?void 0:d.message}}}),e({success:!1,userAction:M})):(!function(e){const{sourceLanguage:t,targetLanguage:a,intl:o,environment:s,blockStores:l,toastProps:d={},isMobile:u=!1,templateName:g,openInNewTab:p=!1}=e,m=o.formatMessage((0,i().Bj)(t)),f=o.formatMessage((0,i().Bj)(a));if(u)return k().N2(),void k().AC({blockToOpenStore:l[0],onOpenBlock:()=>{c().uK({environment:s,store:l[0],pageVisitSource:n().y8.Duplicate})},item:{label:o.formatMessage({id:"inApp.template.translation.finished.toast.mobile.message",defaultMessage:"Template is ready"}),position:"bottom",style:{maxWidth:"calc(100% - 40px)",justifyContent:"center",textAlign:"center"}}});x().HK({id:_,title:o.formatMessage({id:"inApp.template.translation.finished.toast.title",defaultMessage:"Template is ready"}),message:m&&f&&g?o.formatMessage({id:"inApp.template.translation.finished.toast.templateName.message",defaultMessage:"''{templateName}'' has been translated from {sourceLanguage} to {targetLanguage}. View your template to continue editing."},{sourceLanguage:m,targetLanguage:f,templateName:g}):o.formatMessage({id:"inApp.template.translation.finished.toast.message",defaultMessage:"Template has been added to your workspace"}),presentationType:"persistent",iconGroup:r().g,iconGroupColorName:"greenPrimary",iconGroupVariant:"default",actions:{primary:{title:o.formatMessage({id:"inApp.template.translation.finished.toast.seeTemplate.button",defaultMessage:"See template"}),onAction:()=>{c().uK({environment:s,store:l[0],pageVisitSource:n().y8.Duplicate,openInNew:p?"tab":void 0}),x().UW(_)}}},...d})}({environment:t,blockStores:C,sourceLanguage:D,targetLanguage:P,intl:O,templateName:V,openInNewTab:E}),b().M.clearStateForBlock(a.id),o().log({level:"info",from:"translateTemplateActions",type:"translateTemplateBlockSuccess",data:{miscDataToConvertToString:{pageStoreId:a.id,spaceId:a.getSpaceId(),parentStoreId:a.getParentId(),targetLanguage:P,sourceLanguage:D}}}),e({success:!0,duplicateStore:T,userAction:M}))})).catch((t=>{j({intl:O,templateName:V}),b().M.clearStateForBlock(a.id),o().log({level:"error",from:"translateTemplateActions",type:"translateTemplateBlockError",data:{miscDataToConvertToString:{pageStoreId:a.id,spaceId:a.getSpaceId(),parentStoreId:a.getParentId(),targetLanguage:P,sourceLanguage:D,error:t}}}),e({success:!1,userAction:M})})),{duplicateStore:T,onComplete:w}}})}));if(K.success&&K.duplicateStore){var q;A({environment:t,success:!0,time:performance.now()-W,user_action:K.userAction,page_block_id:K.duplicateStore.id,source_language:D,target_language:P});const e=C().dR({store:K.duplicateStore,environment:t}).mostPermissivePublicItem,{permissionItem:a,from:n}=e,o=(0,l().Yi)(n),r=!(null===(q=T().default.state.currentSpaceStore)||void 0===q?void 0:q.getDisableMoveToSpace())&&a.allow_duplicate;w().d8({environment:t,type:"site",store:K.duplicateStore}),await(0,M().Hc)({oldPermissionItem:a,newPermissionItem:{...a,role:"reader",allow_duplicate:r},wasInherited:o!==K.duplicateStore.id,environment:t,store:K.duplicateStore,sudoModeStore:void 0})}else!1===K.success&&A({environment:t,success:!1,time:performance.now()-W,user_action:K.userAction})}function j(e){const{intl:t,toastProps:a={},isMobile:n=!1,templateName:o,blockLimitError:r}=e;n?k().D6({label:t.formatMessage({id:"inApp.template.translation.error.toast.mobile.message",defaultMessage:"Template translation failed. Please try again."}),position:"bottom",style:{maxWidth:"calc(100% - 40px)",justifyContent:"center",textAlign:"center"}}):x().HK({id:_,title:t.formatMessage({id:"inApp.template.translation.error.toast.title",defaultMessage:"Template translation failed"}),message:o?r?t.formatMessage({id:"inApp.template.translation.blockLimitError.toast.templateName.message",defaultMessage:"Unable to translate ''{templateName}'' â€“ template size exceeds limit"},{templateName:o}):t.formatMessage({id:"inApp.template.translation.error.toast.templateName.message",defaultMessage:"Unable to translate ''{templateName}''. Please try again."},{templateName:o}):t.formatMessage({id:"inApp.template.translation.error.toast.message",defaultMessage:"Please try again."}),presentationType:"transient",icon:s().S,...a})}function A(e){(0,g().u)({environment:e.environment,event:{eventName:"translate_template_duration",eventProperties:{time:e.time,success:e.success,user_action:e.user_action,total_blocks:e.total_blocks,page_block_id:e.page_block_id,source_language:e.source_language,target_language:e.target_language}}})}},840071:(e,t,a)=>{a.d(t,{L:()=>i});a(296540);var n=()=>a(84817),o=()=>a(577466),r=()=>a(434663),s=a(474848);function i(e){let{backgroundColor:t,children:a,...i}=e;const l=(0,o().B)(t),d={wrapper:{...l.wrapper,background:t?l.wrapper.background:"initial",height:"100%",padding:"20px 12px"}};return(0,s.jsx)(n().Y1,{style:d.wrapper,align:"center",children:(0,s.jsx)(r().r,{...i,direction:"vertical",overrideSize:()=>48,children:a})})}},976721:(e,t,a)=>{a.d(t,{Dw:()=>C,Hc:()=>M,o5:()=>S});a(16280),a(296540);var n=()=>a(857639),o=()=>a(243581),r=()=>a(340498),s=()=>a(273900),i=()=>a(161479),l=()=>a(959013),d=()=>a(496603),c=()=>a(701763),u=()=>a(901389),g=()=>a(579627),p=()=>a(751156),m=()=>a(125565),f=()=>a(247123),L=()=>a(406792),h=()=>a(630116),v=a(474848);async function S(e){let{newRole:t,...a}=e;const n=a.oldPermissionItem,o=(0,d().o8)(n);return o.role=t,await M({newPermissionItem:o,...a})}async function M(e){const{oldPermissionItem:t,newPermissionItem:a,wasInherited:o,environment:r,store:l,sudoModeStore:d,restrictingVisibility:u,fromPermissionWrapper:m,trustedDomainsLoggingData:f}=e;if(!(0,s().nK)(t,a))throw new Error("Permission type mismatch.");const v=!!d&&d.shouldSaveTransactionWithSudoMode(l),S=(0,s().$q)(t.role,a.role);if(o&&S!==a.role||u){return await C({environment:r,useSudoMode:v,store:l,permissionItem:a,fromPermissionWrapper:m,shouldInherit:!0,trustedDomainsLoggingData:f})}return l instanceof h().Bv&&!l.isTopLevel()&&t.role!==a.role&&S!==t.role&&c().MR(r),p().createAndCommit({userAction:"PermissionItem.handlePermissionItemChange",environment:r,canUndo:!0,useSudoMode:v,perform:t=>{const n=L().default.DO_NOT_USE_markLegacy("share_menu.update_page_permission_lag");g().wd({environment:r,store:l,permissionItems:[a],transaction:t,pagePermissionChangeLocation:e.location,metric:n,fromPermissionWrapper:m})}}),"trusted_domain_permission"===a.type&&n().log({level:"warning",from:"shareMenu.handlePermissionItemChange",type:"TrustedDomainPermissionChange",spaceId:(0,i().e)(l.pointer.spaceId),data:{miscDataToConvertToString:{message:"shareMenu.handlePermissionItemChange updating trusted domain permission",blockId:l.id,oldPermissionItem:t,newPermissionItem:a,trustedDomainsLoggingData:f}}}),!0}async function C(e){const{environment:t,useSudoMode:a,store:n,permissionItem:s,fromPermissionWrapper:i,shouldInherit:d,trustedDomainsLoggingData:c}=e,L="none"===(null==s?void 0:s.role)?{type:"remove",permissionItem:s}:{type:"restrict"};return!!("user_permission"===(null==s?void 0:s.type)&&(null==s?void 0:s.user_id)===t.currentUser.id||(await u().Gh({message:(0,f().r6)(L),description:(0,v.jsx)(m().A,{isSmall:!0,isMultiline:!0,children:(0,v.jsx)(l().sA,{id:"restrictedPermissionConfirmationModal.footer.whisperTextV2",defaultMessage:"Changing this will unlink this page from its parent, so it will no longer inherit share settings. Admins can still restore settings on unlinked pages."})}),acceptLabel:(0,f().QU)(L),icon:(0,o().r)({height:r().Ev.xl,width:r().Ev.xl})})).accept)&&(p().createAndCommit({userAction:"PermissionItem.onAccept",environment:t,canUndo:!0,useSudoMode:a,perform:e=>{g().wW({environment:t,store:n,permissionItem:s,shouldInherit:d,transaction:e,fromPermissionWrapper:i,trustedDomainsLoggingData:c})}}),!0)}},995847:(e,t,a)=>{a.r(t),a.d(t,{iconDefinition:()=>n,xMarkSmallIcon:()=>o});a(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"3.17 3.17 9.66 9.66",svg:(0,a(474848).jsx)("path",{d:"M12.642 3.358a.625.625 0 0 0-.884 0L8 7.116 4.242 3.358a.625.625 0 1 0-.884.884L7.116 8l-3.758 3.758a.625.625 0 0 0 .884.884L8 8.884l3.758 3.758a.625.625 0 1 0 .884-.884L8.884 8l3.758-3.758a.625.625 0 0 0 0-.884"})},o=(0,a(340498).wt)("xMarkSmall",n)}}]);