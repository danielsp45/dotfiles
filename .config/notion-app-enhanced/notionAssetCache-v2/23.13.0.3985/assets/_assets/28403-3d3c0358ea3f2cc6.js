"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[28403],{68336:(t,n,e)=>{e.d(n,{F4:()=>m});e(16280),e(581454),e(944114),e(517642),e(658004),e(733853),e(845876),e(432475),e(515024),e(731698),e(898992),e(803949);let r;function s(t,n){const{sql:e,tagName:s,className:i}=t,a=(null==n?void 0:n.stylize)??(t=>t),o=function(t){try{return r?r.highlight(t):t}catch{return t}}(e),u=o.split("\n"),c=[i?a(`(${i}) `,"undefined"):"",a(s??"sql","special"),a("`","string")];return u.length>2?(e.startsWith("\n")||c.push("\n"),c.push(u.map((t=>`  ${t}`)).join("\n")),e.endsWith("\n")||c.push("\n")):c.push(o),c.push(a("`","string")),c.join("")}function i(t,n){for(const e of n)t.push(e)}const a=Symbol("QueryArg");class o{constructor(t){this.value=t}}const u=new Set(["IS NULL","IS NOT NULL","IS TRUE","IS FALSE","=","!=","<","<=",">",">=","IS","IN","NOT IN","LIKE","NOT LIKE","MATCH"]);function c(t){if(u.has(t))return t;throw new Error(`Not a SQL operator: "${t}"`)}const p={createForDialect:t=>function(n){for(var e=arguments.length,r=new Array(e>1?e-1:0),s=1;s<e;s++)r[s-1]=arguments[s];return(new t).appendTemplate(n,...r)}};class l{constructor(){this.chunks=[],this.args=[]}appendTemplate(t){if(!Array.isArray(t)||!Array.isArray(t.raw))throw new Error("sql`` can only be used as a template literal tag");for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];for(const s of t)if(this.appendRaw_DANGEROUS(s),e.length){const t=e.shift();if(t instanceof o){this.appendIdentifier(t);continue}if(t instanceof l){this.append(t);continue}this.appendArg(t)}return this}append(t){return i(this.chunks,t.chunks),i(this.args,t.args),this}appendArg(t){return this.chunks.push(a),this.args.push(t),this}appendRaw_DANGEROUS(t){return this.chunks.push(t),this}appendIdentifier(t){const n=t instanceof o?t.value:t;return this.appendRaw_DANGEROUS(this.escapeIdentifier(n))}escapeIdentifier(t){if(/^[\w]+$/.test(t))return`"${t}"`;throw new Error(`Unexpected SQL identifier format: ${t}`)}sql(){let t=0;return this.chunks.map((n=>n===a?"$"+ ++t:n)).join("")}toString(){const t=JSON.stringify(this.args),n=this.constructor;return`${n===l?"Sql":n.name||n.TagName}(\`${this.sql()}\`, ${t})`}DEBUG_ONLY_getInterpolatedQuery(){let t=0;return this.chunks.map((n=>{if(n===a){const n=this.args[t];return t++,function(t){if(Array.isArray(t)){let n=!1;const e=t.map((t=>"string"==typeof t?w(t):("number"==typeof t||(n=!0),t)));if(!n)return`ARRAY[${e.join(",")}]`}if(null==t)return"NULL";switch(typeof t){case"string":case"symbol":return w(String(t));case"number":case"bigint":case"boolean":return String(t);case"function":case"object":case"undefined":return w(JSON.stringify(t))}}(n)}return n})).join("")}}if(l.TagName="sql","undefined"==typeof window){l.prototype[Symbol.for("nodejs.util.inspect.custom")]=function(t,n,e){return s({sql:this.DEBUG_ONLY_getInterpolatedQuery(),tagName:this.constructor.TagName||"sql",className:this.constructor===l?void 0:this.constructor.name},n)}}function h(t,n){if(n instanceof l)return n;if("string"==typeof n){if(!/^[ \t]*$/.test(n))throw new Error(`Unexpected indent format ${n}`);return t.raw_DANGEROUS(n)}if(n<0)return;const e="  ".repeat(n);return t`\n`.appendRaw_DANGEROUS(`${e}`)}function f(t,n,e){const r=t``;return n.forEach(((t,s)=>{r.append(t),s!==n.length-1&&r.append(e)})),r}const d=(new l).appendRaw_DANGEROUS(" "),g=new l;function w(t){let n=!1,e="'";for(let r=0;r<t.length;r++){const s=t[r];"'"===s?e+=s+s:"\\"===s?(e+=s+s,n=!0):e+=s}return e+="'",!0===n&&(e=` E${e}`),e}var N=()=>e(430476);class y extends l{static fromColumnType(t){if(!(0,e(732524).tx)(t))throw new Error(`Not a valid Sqlite column type: "${t}"`);return m.raw_DANGEROUS(t)}sql(){return this.chunks.map((t=>t===a?"?":t)).join("")}asRead(){return{sql:this.sql(),args:this.args,getData:!0}}asWrite(){return{sql:this.sql(),args:this.args}}async all(t,n){return(0,N().qU)({connection:t,sql:this.sql(),args:this.args,queryName:n})}async first(t){return(await this.all(t))[0]}async run(t){return(0,N().kx)({connection:t,sql:this.sql(),args:this.args})}}y.TagName="sqlite";const m=function(t){const n=p.createForDialect(t),e=n;return e.raw_DANGEROUS=n=>(new t).appendRaw_DANGEROUS(n),e.ident=n=>(new t).appendIdentifier(n),e.col=(n,e)=>{const r=new t;return e?(r.appendIdentifier(n),r.appendRaw_DANGEROUS("."),r.appendIdentifier(e)):r.appendIdentifier(n),r},e.op=n=>(new t).appendRaw_DANGEROUS(c(n)),e.expr=(n,e,r)=>{const s=new t;if("string"==typeof n){const t=n.split(".");for(let n=0;n<t.length;n++)0!==n&&s.appendRaw_DANGEROUS("."),s.appendIdentifier(t[n])}else s.append(n);return s.appendRaw_DANGEROUS(` ${c(e)} `),void 0!==r&&s.append(r),s},e.join=(t,n)=>f(e,t,n),e.and=(t,n)=>function(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(0===n.length)return t`TRUE`;if(1===n.length)return t`(${n[0]})`;const r=h(t,e),s=f(t,n,t`${r??d}AND `);return t`(${r??g}${s})`}(e,t,n),e.or=(t,n)=>function(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;if(0===n.length)return t`FALSE`;if(1===n.length)return t`(${n[0]})`;const r=h(t,e),s=f(t,n,t`${r??d}OR `);return t`(${r??g}${s})`}(e,t,n),e.comma=(t,n)=>function(t,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;return f(t,n,t`,${h(t,e)??d}`)}(e,t,n),e.newline=t=>h(e,t??0)??n`\n`,e.comment=n=>(new t).appendRaw_DANGEROUS(`/* ${n.replace(/\/(?=\*)|\*(?=\/)/g,"$& ")} */`),e}(y)},732524:(t,n,e)=>{function r(t){return"INTEGER"===t||"TEXT"===t||"BLOB"===t}e.d(n,{Ll:()=>s,Xb:()=>i,tx:()=>r});function s(t){return"Error"===t.type||"ErrorBefore"===t.type||"PreconditionFailed"===t.type||"OutOfSpace"===t.type||"SharedWorkerFailedToDelegate"===t.type}function i(t){return t}},882362:(t,n,e)=>{e.d(n,{u:()=>r});const r=new class{setTimeout(t,n){for(var e=arguments.length,r=new Array(e>2?e-2:0),s=2;s<e;s++)r[s-2]=arguments[s];setTimeout(t,n,...r)}}}}]);