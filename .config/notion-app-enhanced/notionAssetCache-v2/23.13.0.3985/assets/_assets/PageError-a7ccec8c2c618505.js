"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[66960],{6731:(e,t,i)=>{i.d(t,{D:()=>d});i(898992),i(803949);var o=i(296540),r=()=>i(56366),n=()=>i(476158),s=()=>i(388821),a=()=>i(751156),l=()=>i(841696),c=()=>i(765957);function d(e){let{unpersistedInMemoryRecordCache:t}=e;const i=(0,r().K8)((()=>{var e;return null===(e=c().default.state.currentUserStore)||void 0===e?void 0:e.userId}),[]),d=(0,o.useCallback)((e=>{let{perform:o}=e;const r=new(l().Z)({deadlockTimeoutMs:a().DEADLOCK_WARNING_TIMEOUT_MS}),c=o(r),d=s().RecordMap.create();r.stores.forEach((e=>{const t=e.getRecordModel(e.pointer);t&&d.addModel(t)})),(0,n().applyOperationsToRecordMap)({operations:r.operations,recordMap:d,updateOnly:!1});for(const n of d){const{model:e,pointer:o}=n;t.setModelAndRole({pointer:o,userId:i},e,"editor")}return t.emitAll(),{performResult:c,serverCommitResult:Promise.resolve(void 0),transactionId:r.id}}),[t,i]);return(0,o.useMemo)((()=>({createAndCommit:d})),[d])}},75491:(e,t,i)=>{i.d(t,{ED:()=>x,Kb:()=>S});i(296540);var o=()=>i(56366),r=()=>i(401497),n=()=>i(668725),s=()=>i(722872),a=()=>i(463830),l=()=>i(406699),c=()=>i(928600),d=()=>i(939740),u=()=>i(897119),g=()=>i(89924),p=()=>i(125565),m=()=>i(493823),h=()=>i(566468),f=i(474848);function x(e){let{title:t,items:i,disabled:n,hideDropdownIcon:p,itemMaxWidth:m,itemMinWidth:h,...x}=e;const S=(0,o().uB)(void 0,a().A),y=(0,r().IS)((()=>({container:{minWidth:180}})),[]),j={key:"workspace-users-menu",render:e=>(0,f.jsx)(g().A,{...e}),items:i};return(0,f.jsx)(l().Ay,{popupType:u().nl.Popup,style:y.container,buttonPopupStore:S,disabled:n,renderOrigin:e=>(0,f.jsx)(v,{title:t,hideDropdownIcon:p,disabled:n,styles:x.styles,...e}),render:()=>(0,f.jsx)(c().A,{menuType:s().gu.Popup,maxWidth:m??250,minWidth:h,children:(0,f.jsx)(d().Ay,{type:d().Oh.Vertical,initialFocus:0,sections:[j],onAccept:()=>{S.setState({open:!1})}})})})}function v(e){let{title:t,hideDropdownIcon:i,disabled:o,...s}=e;const a=(0,r().IS)((e=>({container:{display:"inline-flex",flexDirection:"row",justifyContent:"center",alignItems:"center",maxWidth:"100%",...s.styles},chevron:{width:10,height:10,marginLeft:4,color:e.icon.tertiary}})),[s.styles]);return(0,f.jsxs)(m().p,{style:a.container,disabled:o,...s,children:[(0,f.jsx)(p().A,{showTooltipWhenTruncated:!0,children:t}),i||o?null:(0,n().b)(a.chevron)]})}function S(){const e=(0,r().IS)((()=>({title:{width:"50%"}})),[]);return(0,f.jsx)(h().mf,{titleStyles:e.title})}},90907:(e,t,i)=>{i.d(t,{h:()=>n});i(296540);var o=i(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"3.97 1.95 12.06 15.66",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M10.55 12.808a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 0 0 1.1 0z"}),(0,o.jsx)("path",{d:"M10 1.95a4 4 0 0 0-4 4v1.433a2.426 2.426 0 0 0-2.025 2.392v5.4A2.425 2.425 0 0 0 6.4 17.6h7.2a2.425 2.425 0 0 0 2.425-2.425v-5.4A2.426 2.426 0 0 0 14 7.383V5.95a4 4 0 0 0-4-4m2.75 5.4h-5.5v-1.4a2.75 2.75 0 0 1 5.5 0zM5.225 9.775c0-.649.526-1.175 1.175-1.175h7.2c.649 0 1.175.526 1.175 1.175v5.4c0 .649-.526 1.175-1.175 1.175H6.4a1.175 1.175 0 0 1-1.175-1.175z"})]})},n=(0,i(340498).wt)("lock",r)},313786:(e,t,i)=>{i.d(t,{A:()=>n});var o=i(296540),r=()=>i(874913);function n(e){return(0,o.useEffect)((()=>{document.title=e.title,r().setWindowTitle(e.title)}),[e.title]),e.children}},339702:(e,t,i)=>{i.d(t,{j:()=>r});var o=()=>i(679924);function r(e,t){(0,o().v)(e,"offline_access_failure",t)}},517592:(e,t,i)=>{i.d(t,{A:()=>r});i(296540);var o=i(474848);const r=(0,i(340498).wt)("notionLogoStroked",{viewBox:"0 0 41 42",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M4.253 2.903h0-.01c-1.02.09-1.806.481-2.322 1.142-.5.642-.671 1.441-.671 2.21v23.228c0 1.267.47 2.316 1.416 3.577h0l.006.008 4.99 6.477h0l.005.005c.465.593.963 1.017 1.617 1.256.63.23 1.33.26 2.138.221h.01l24.652-1.49h.008c1.137-.08 2.038-.396 2.632-1.071.588-.668.746-1.543.746-2.431V9.904c0-.584-.133-1.05-.508-1.486-.27-.311-.669-.602-1.113-.925a54.305 54.305 0 01-.176-.13l-.007-.004-.005-.004-6.772-4.761c-.838-.609-1.516-1.017-2.365-1.21-.824-.187-1.75-.156-3.047-.044L4.253 2.903z",fill:"#fff",stroke:"#fff",strokeWidth:"1.5"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.257 3.158L5.176 4.637c-1.62.14-2.184 1.197-2.184 2.464v21.971c0 .987.352 1.83 1.198 2.959l4.72 6.126c.776.987 1.48 1.198 2.96 1.127l23.32-1.408c1.973-.14 2.537-1.057 2.537-2.606V10.552c0-.801-.316-1.032-1.25-1.714l-.16-.117-6.41-4.507c-1.55-1.126-2.184-1.268-4.65-1.056zM12.4 10.146c-1.904.129-2.337.158-3.418-.72l-2.75-2.183c-.28-.283-.14-.635.565-.705L26.102 5.13c1.62-.141 2.466.423 3.1.916l3.311 2.394c.141.07.493.492.07.492L12.645 10.13l-.245.016zM10.179 35.06V14.074c0-.916.281-1.338 1.126-1.41l22.898-1.337c.777-.07 1.128.423 1.128 1.338v20.844c0 .916-.14 1.691-1.41 1.761l-21.91 1.268c-1.269.07-1.832-.352-1.832-1.48zm21.63-19.86c.141.635 0 1.268-.635 1.34l-1.056.21v15.492c-.916.493-1.761.775-2.466.775-1.128 0-1.41-.352-2.255-1.408l-6.905-10.845v10.493l2.185.493s0 1.267-1.763 1.267l-4.86.282c-.142-.282 0-.986.492-1.127l1.269-.351V17.947l-1.761-.142c-.141-.634.21-1.549 1.197-1.62l5.214-.351 7.187 10.986V17.1l-1.832-.21c-.14-.776.422-1.339 1.127-1.409l4.863-.283z",fill:"#222"})]})})},566468:(e,t,i)=>{i.d(t,{Ji:()=>w,bd:()=>M,f0:()=>k,mf:()=>_,s7:()=>P});i(944114),i(296540);var o=()=>i(56366),r=()=>i(401497),n=()=>i(30626),s=()=>i(959013),a=()=>i(496603),l=()=>i(534177),c=()=>i(722872),d=()=>i(962730),u=()=>i(463830),g=()=>i(760217),p=()=>i(406699),m=()=>i(285790),h=()=>i(710149),f=()=>i(928600),x=()=>i(939740),v=()=>i(897119),S=()=>i(89924),y=()=>i(859428),j=()=>i(125565),A=i(474848);const b=20,w=12;function P(e){let{title:t,byline:i,icon:o,iconSize:r,iconMargin:n,useThinTitle:s,useSecondaryColorTitle:a,containerStyles:l,summaryStyles:c,rightContent:d,badge:u}=e;const g=k({icon:o,iconSize:r,iconMargin:n,useThinTitle:s,containerStyles:l,summaryStyles:c});return(0,A.jsxs)("div",{style:g.container,children:[o?(0,A.jsx)("div",{style:g.iconContainer,children:o}):null,(0,A.jsxs)("div",{style:g.summaryContainer,children:[(0,A.jsxs)("div",{style:g.nameContainer,children:[(0,A.jsx)(j().A,{style:g.name,isSecondaryColor:a,showTooltipWhenTruncated:!0,children:t}),u?(0,A.jsx)("div",{style:g.badge,children:u}):null]}),i?(0,A.jsx)(j().A,{style:g.byline,children:i}):null]}),d]})}function k(e){const{icon:t,iconSize:i,iconMargin:o,useThinTitle:n,containerStyles:s,summaryStyles:a}=e,l=o??w,c=t?i??b:0;return(0,r().IS)((e=>({container:{position:"relative",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:"8px 0",width:"100%",...s},summaryContainer:{width:`calc(100% - ${c}px)`,...a},iconContainer:{height:c,width:c,flexGrow:0,flexShrink:0,flexBasis:c,marginRight:l,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:6},badge:{marginRight:8},nameContainer:{display:"flex",alignItems:"center",gap:6},name:{fontSize:14,fontWeight:n?400:500},byline:{fontSize:12,lineHeight:1.3,opacity:.5}})),[c,l,n,s,a])}function _(e){let{titleStyles:t,includeByline:i,bylineStyles:o,includeIcon:n,iconStyles:s,containerStyles:a}=e;const l=(0,r().IS)((()=>({container:{height:53,display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",padding:"8px 0",width:"100%",gap:8,...a},icon:{borderRadius:4,height:24,width:24,marginLeft:-2,...s},textContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",width:"calc(100% - 32px)",gap:4},title:{borderRadius:4,height:14,width:"80%",...t},byline:{borderRadius:4,height:12,width:"60%",...o}})),[a,t,o,s]);return(0,A.jsxs)("div",{style:l.container,children:[n?(0,A.jsx)(h().A,{style:l.icon}):null,(0,A.jsxs)("div",{style:l.textContainer,children:[(0,A.jsx)(h().A,{style:l.title}),i?(0,A.jsx)(h().A,{style:l.byline}):null]})]})}function M(e){const t=(0,s().tz)(),i=(0,o().uB)(void 0,u().A),h=(0,r().IS)((()=>({popupMenu:{width:312}})),[]);let j=[];const b=[];for(const o of e.items)if("divider"===o.type){const t=b.length>0,i={key:`actions-${b.length}`,render:i=>(0,A.jsx)(S().A,{title:e.title,topBorder:t,...i}),items:j};b.push(i),j=[]}else if("action"===o.type){const e={key:o.key,render:e=>(0,A.jsx)(y().A,{textWrap:!0,render:t=>(0,A.jsx)(g().A,{...e,...t,isRedOnHover:o.isDestructive,shouldWrapCaption:!0,icon:o.icon,title:o.title,caption:o.caption,disabled:o.disabled,disabledFeedback:o.disabled}),renderTooltip:()=>o.tooltipTitle,disableTooltip:o.tooltipDisabled??!0,placement:d().W.Right}),action:()=>{o.action(),i.setState({...i.state,open:!1})}};j.push(e)}else(0,l().HB)(o);const w={key:`actions-${b.length}`,render:t=>(0,A.jsx)(S().A,{title:e.title,topBorder:b.length>0,...t}),items:j};return b.push(w),(0,A.jsx)(p().Ay,{stopClickPropagation:!0,popupType:v().nl.Popup,alignmentToOrigin:d().C.Start,placementToOrigin:d().W.Bottom,style:h.popupMenu,render:()=>(0,A.jsx)(f().A,{menuType:c().gu.Popup,width:312,children:(0,A.jsx)(x().Ay,{type:x().Oh.Vertical,initialFocus:void 0,sections:b})}),onClose:a().lQ,buttonPopupStore:i,renderOrigin:e=>(0,A.jsx)(m().A,{ariaLabel:t.formatMessage({id:"iconCellActionMenu.iconButton.ariaLabel",defaultMessage:"More actions"}),icon:n()._,...e})})}},596106:(e,t,i)=>{i.d(t,{A:()=>g});i(296540);var o=()=>i(56366),r=()=>i(401497),n=()=>i(677338),s=()=>i(959013),a=()=>i(284371),l=()=>i(326406),c=()=>i(477293),d=()=>i(905654),u=i(474848);function g(e){let{isUpworkSignup:t,isPerfmarkTrialSignup:i,isAddAnotherAccount:g,isReferralSignup:p}=e;const m=(0,r().DP)(),h="on"===(0,c().r)("acquisition_update_signup_copy"),f=(0,o().K8)((()=>(0,l().A)()),[]),x=(0,d().Nz)(),v=(0,d().EB)(),S=n().J0(),y="meeting_notes"===S?(0,u.jsx)(s().sA,{id:"signupPage.meetingNotes.title",defaultMessage:"Try AI Meeting Notes."}):t?(0,u.jsx)(s().sA,{id:"signupPage.upwork.title",defaultMessage:"Try Notion Plus, on us"}):i?(0,u.jsx)(s().sA,{id:"signupPage.perfmarkTrial.title",defaultMessage:"Start your free Notion Plus trial"}):f?(0,u.jsx)(s().sA,{id:"signupPage.formResponse.title",defaultMessage:"Sign up to see a copy of your form response"}):x?(0,u.jsx)(s().sA,{id:"signupPage.mail.title",defaultMessage:"Welcome to Notion Mail"}):v?(0,u.jsx)(s().sA,{id:"signupPage.calendar.title",defaultMessage:"Welcome to Notion Calendar"}):p?(0,u.jsx)(s().sA,{id:"signupPage.referral.title",defaultMessage:"Try Notion Business, on us"}):h?(0,u.jsx)(s().sA,{id:"signupPage.revamped.titlev2",defaultMessage:"Your AI workspace."}):(0,u.jsx)(s().sA,{id:"signupPage.revamped.title",defaultMessage:"Think it. Make it."}),j="meeting_notes"===S?(0,u.jsx)(s().sA,{id:"signupPage.revamped.signInText",defaultMessage:"Create your Notion account"}):t?(0,u.jsx)(s().sA,{id:"signupPage.upwork.signInText",defaultMessage:"Sign up to get started"}):i?(0,u.jsx)(s().sA,{id:"signupPage.smbTrial.signInText",defaultMessage:"No credit card required"}):f?void 0:g?(0,u.jsx)(s().sA,{id:"signupPage.addAnotherAccount.subtitle",defaultMessage:"Log in or create an account"}):(0,u.jsx)(s().sA,{id:"signupPage.revamped.signInText",defaultMessage:"Create your Notion account"});return(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"column",textAlign:"left",fontWeight:a().Wy.semibold,fontSize:22,lineHeight:"26px",width:320},children:[(0,u.jsx)("div",{children:y}),(0,u.jsx)("div",{style:{color:m.text.tertiary},children:j})]})}},736316:(e,t,i)=>{i.d(t,{f:()=>r});var o=()=>i(449412);function r(e){const{name:t,startTime:i,endTime:r}=e;try{performance.measure(t,{start:i,end:r})}catch(n){o().Fg(n,{extra:{name:t,startTime:i,endTime:r}})}}},817411:(e,t,i)=>{i.d(t,{A:()=>u});i(581454),i(296540);var o=()=>i(484714),r=()=>i(56366),n=()=>i(401497);const s=[[2,1,3,1],[1,0,2,0],[0,2,0,3],[3,3,0,2],[1,1,2,2]];var a=()=>i(710149),l=()=>i(948914),c=()=>i(749687),d=i(474848);function u(e){let{skipFadeinDelay:t}=e;const{isElectronMac:i}=(0,o().Y0)(),u=(0,r().O$)(l().b),p=i&&!u,m=(0,r().O$)(c().sidebarExpandedStore),h=(0,r().K8)((()=>m?c().sidebarWidthStore.state:0),[m]),f=(0,n().IS)((e=>{const t={width:20,height:20,borderRadius:4},i={height:10,minHeight:10,borderRadius:10};return{sidebar:{backgroundColor:e.surface.wash,boxShadow:e.sidebarBoxShadow,display:m?"flex":"none",minWidth:h,flexDirection:"column",padding:"12px 14px",overflow:"hidden"},heroSection:{paddingTop:p?36:0,marginBottom:22,display:"flex",alignItems:"center"},heroSectionIcon:{padding:"1px",...t,width:22,height:22},heroSectionTitle:{width:177,marginLeft:8,...i},toplevelMenu:{marginBottom:20,width:78,...i},toplevelMenuLast:{marginBottom:36,width:135,...i},sectionHeader:{marginBottom:14,width:56,...i},pageRow:{display:"flex",alignItems:"center",marginBottom:11},pageIcon:{...t},pageTitle:{marginLeft:8,...i}}}),[m,h,p]),x=(0,d.jsxs)("div",{style:f.heroSection,children:[(0,d.jsx)(a().A,{style:f.heroSectionIcon,emphasized:!0}),(0,d.jsx)(a().A,{style:f.heroSectionTitle,emphasized:!0})]}),v=(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(a().A,{style:f.toplevelMenu,emphasized:!0}),(0,d.jsx)(a().A,{style:f.toplevelMenu,emphasized:!0}),(0,d.jsx)(a().A,{style:f.toplevelMenu,emphasized:!0}),(0,d.jsx)(a().A,{style:f.toplevelMenuLast,emphasized:!0})]}),S=(0,d.jsx)(a().A,{style:f.sectionHeader,emphasized:!0}),y=s.map(((e,i)=>e.map(((e,o)=>(0,d.jsxs)("div",{style:{...!t&&g(i),...f.pageRow},children:[(0,d.jsx)(a().A,{style:f.pageIcon,emphasized:!0}),(0,d.jsx)(a().A,{style:{...f.pageTitle,width:80+20*e},emphasized:!0})]},`${i}-${o}`)))));return(0,d.jsxs)("div",{style:f.sidebar,children:[x,v,S,y]})}function g(e){return 0===e?{}:{animation:`1s ease-in ${e}s 1 normal both running fadein`}}},892008:(e,t,i)=>{i.d(t,{Bs:()=>d,L:()=>c,Ob:()=>l});i(517642),i(658004),i(733853),i(845876),i(432475),i(515024),i(731698),i(898992),i(354520),i(803949);var o=i(296540),r=()=>i(852507),n=()=>i(118884),s=()=>i(994310),a=()=>i(347320);const l=new class{constructor(){this.currentPageId=void 0,this._localStorage=void 0}startCachingViewIds(e){this.currentPageId=e;this.entryForPage(e).v=[]}stopCachingViewIds(){const e=this.currentPageId;if(this.currentPageId=void 0,e){0===this.entryForPage(e).v.length&&delete this.localStorage[e]}}registerView(e,t){if(this.currentPageId!==e)return;const i=this.entryForPage(e);i.v=[...new Set([...i.v,t])],i.t=Date.now(),this.writeToLocalStorage()}unregisterView(e,t){const i=this.localStorage[e];i&&(i.v=i.v.filter((e=>e!==t)),0===i.v.length&&delete this.localStorage[e],this.writeToLocalStorage())}lookupViewIds(e){const t=this.localStorage[e];return(null==t?void 0:t.v)??[]}clear(){this.currentPageId=void 0,this._localStorage=void 0}get localStorage(){return this._localStorage??(this._localStorage=s().A.get(a().O)||Object.create(null))}entryForPage(e){let t=this.localStorage[e];return t||(t={v:[],t:0},this.localStorage[e]=t),t}writeToLocalStorage(){this.limitLocalStorageSize(),s().A.set(a().O,this.localStorage)}limitLocalStorageSize(){const e=Object.keys(this.localStorage);if(e.length>=100){const t={timestamp:Number.MAX_SAFE_INTEGER,key:void 0};e.forEach((e=>{e!==this.currentPageId&&this.localStorage[e].t<t.timestamp&&(t.timestamp=this.localStorage[e].t,t.key=e)})),t.key&&delete this.localStorage[t.key]}}};function c(e){let{collectionContextStore:t,isFullScreen:i,wasCreatedThisSessionStore:r,didDelayOffscreenRenderRef:n,environment:s}=e;const a=(0,o.useCallback)((()=>{var e;const i=null===(e=t.collectionViewStore())||void 0===e?void 0:e.id,o=s.RouterStore.state.route;if("page"!==o.name)return;const r=o.blockId;r&&i&&(n.current?(l.unregisterView(r,i),t.shouldDelayRenderStore.removeListener(a)):l.registerView(r,i))}),[t,n,s]);(0,o.useEffect)((()=>{var e;if(i||r.state)return;const o=null===(e=t.collectionViewStore())||void 0===e?void 0:e.id,n=s.RouterStore.state.route;if("page"!==n.name)return;return n.blockId&&o?(t.shouldDelayRenderStore.addListener(a),a(),()=>{t.shouldDelayRenderStore.removeListener(a)}):void 0}),[t,i,r,s,a])}function d(e){let{pageId:t,isFrameContext:i}=e;(0,r().l)((()=>{i&&l.startCachingViewIds(t)})),(0,n().X)((()=>{i&&l.stopCachingViewIds()}))}},915086:(e,t,i)=>{i.r(t),i.d(t,{measurePageRenderMetrics:()=>w,setInitialRenderCompleted:()=>A,setSubMetric:()=>S,setSubMetricsAtRenderCallback:()=>v,updateMetricData:()=>y,updateMetricDataWithIsPushTag:()=>b,updateOPFSMetricData:()=>j});i(898992),i(581454),i(737550),i(814603),i(147566),i(198721);var o=()=>i(906510),r=()=>i(410690),n=()=>i(2220),s=()=>i(892008),a=()=>i(807054),l=()=>i(347320),c=()=>i(150749),d=()=>i(836251),u=()=>i(671973),g=()=>i(406792),p=()=>i(736316),m=()=>i(217429),h=()=>i(961581),f=()=>i(977390),x=()=>i(606932);function v(e){const{mainStartTime:t,prefetchInitiatedTime:i,statsigBootupBlockingStartTime:o,renderStartTime:n,renderEndTime:s}=e,a=r().getAppStartTime();if(!a)return;const l={app_start_to_main_start:{startTime:a,endTime:t},main_start_to_prefetch_initiated:{startTime:t,endTime:i},prefetch_initiated_to_statsig_bootup_blocking_start:{startTime:i,endTime:o},statsig_bootup_blocking:{startTime:o,endTime:n},render_start_to_render_end:{startTime:n,endTime:s}};for(const[r,c]of Object.entries(l)){const e=null==c?void 0:c.startTime,t=null==c?void 0:c.endTime;e&&t&&(0,p().f)({name:r,startTime:e,endTime:t})}h().A.state.subMetricsStore.update((e=>({...e,...l})))}function S(e){const{name:t,endTime:i}=e,o=e.startTime(h().A.state.subMetricsStore.state);o&&(h().A.state.subMetricsStore.update((e=>({...e,[t]:{startTime:o,endTime:i}}))),(0,p().f)({name:t,startTime:o,endTime:i}))}function y(e){h().A.state.metricDataStore.update((t=>({...t,...e})))}function j(e){h().A.state.OPFSMetricDataStore.update((t=>({...t,...e})))}function A(){h().A.update((e=>({...e,initialRenderCompleted:!0}))),u().N.markInitialPageRendered()}function b(e){const t=e.RouterStore.state;let i;var o;"page"===t.route.name&&(i=t.route.mobileData,y({is_push:null===(o=i)||void 0===o?void 0:o.isPush}))}function w(e){let{environment:t,isEditable:i,isHomePage:s,isWikiHome:l,isPageWithCustomLayout:c,idSchema:p}=e;const{initialRoute:{name:v},route:y}=t.RouterStore.state,{initialRenderCompleted:j,initialRenderAfterLoginCompleted:b}=h().A.state,w=a().isPrewarmedTabInitialRender(t),_=(0,d().w6)(t);j?b||"login"!==v?function(e,t){const i="page"===t.name?t.mobileData:void 0,o=x().A.popTimings();if(o){const{navigationStart:r,requestFirstChunkStart:n,requestFirstChunkEnd:s,requestFirstChunkSource:a,requestFirstChunkLocalSource:l,pageViewBlockRender:c}=o,d=performance.now(),p="page"===t.name?e.prefetchCache.getPrefetchAnalytic(`loadCachedPageChunk(${t.blockId})`):void 0;g().default.measure({metricName:"navigation_page_render",startTime:r,endTime:d},{environment:e,data:{sub_metrics:{navigation_start_to_request_first_chunk_start:n?n-r:0,request_first_chunk_start_to_request_first_chunk_end:n&&s?s-n:0,request_first_chunk_end_to_pvb_render:s&&c?c-s:0,pvb_render_to_handle_navigation_render:c?d-c:0},chunk_source:a,local_source:l,is_push:(null==i?void 0:i.isPush)??!1,wasm_sqlite_initialized:h().A.state.metricDataStore.state.wasm_sqlite_initialized,...p?{page_chunk_prefetch:p,page_chunk_prefetch_type:p.type}:{}}}),u().N.markNavigationRender(e)}f().A.state.isMeasuring&&f().A.update((e=>({...e,isMeasuring:!1})))}(t,y):function(e){g().default.DO_NOT_USE_measureLegacy("initial_page_render_after_login",{environment:e}),h().A.update((e=>({...e,initialRenderAfterLoginCompleted:!0})))}(t):w?function(e){let{environment:t,initialRoute:i,isEditable:o,isHomePage:r,isWikiHome:n,isPageWithCustomLayout:s,isPublicDomain:a,idSchema:l}=e;A();const c=performance.now();S({name:"await_page_chunk_end_to_browser_repaint_start",startTime:e=>{var t;return null===(t=e.await_page_chunk_start_to_await_page_chunk_end)||void 0===t?void 0:t.endTime},endTime:c});const d=h().A.state.prewarmedTabAppStartTimeOverride;d&&g().default.measure({metricName:"initial_page_render",startTime:d,endTime:c},{environment:t,data:P({initialRoute:i,isEditable:o,isHomePage:r,isWikiHome:n,isPageWithCustomLayout:s,isPublicDomain:a,idSchema:l,isPrewarmedTab:!0,prewarmedTabNavigationStart:d}),shouldSendIfStatsigNotInitialized:!0});f().A.state.isMeasuring&&f().A.update((e=>({...e,isMeasuring:!1})))}({environment:t,initialRoute:v,isEditable:i,isHomePage:s,isWikiHome:l,isPageWithCustomLayout:c,isPublicDomain:_,idSchema:p}):function(e){var t;let{environment:i,initialRoute:s,isEditable:a,isHomePage:l,isWikiHome:c,isPageWithCustomLayout:d,isPublicDomain:u,idSchema:p}=e;const{initialLoadCachedPageChunkCalledAt:f}=h().A.state;A();const x=Boolean(null===(t=performance)||void 0===t?void 0:t.mark)?performance.mark("initial_page_render").startTime:performance.now();o().S3.mark("initial_page_render"),S({name:"await_page_chunk_end_to_browser_repaint_start",startTime:e=>{var t;return null===(t=e.await_page_chunk_start_to_await_page_chunk_end)||void 0===t?void 0:t.endTime},endTime:x});const v=r().getAppStartTime(),y=r().getPageOriginTime();v&&y&&y>0&&v>y&&S({name:"page_origin_to_app_start",startTime:()=>y,endTime:v});g().default.measureFromPageOrigin({metricName:"initial_page_render",endTime:x},{environment:i,data:P({initialRoute:s,isEditable:a,isHomePage:l,isWikiHome:c,isPageWithCustomLayout:d,isPublicDomain:u,idSchema:p,prefetchedQueryCollection:k(i),isPrewarmedTab:!1}),shouldSendIfStatsigNotInitialized:!0});h().A.state.subMetricsStore.state;void 0!==f&&g().default.DO_NOT_USE_measureFromPageOriginLegacy({metricName:"load_cached_page_chunk_wait_time",endTime:f},{environment:i,data:{initial_route:s},shouldSendIfStatsigNotInitialized:!0,sendToStatsig:!0});m().default.checkGate({gateName:"beacon_pre_ipr_assets"})&&function(e,t){var i;if(null===(i=performance)||void 0===i||!i.getEntriesByType)return;const o=performance.getEntriesByType("resource"),r={eventName:"pre_ipr_assets",eventProperties:{ipr_end:t,assets:o.map((e=>{let t;try{t=new URL(e.name).pathname}catch{t=e.name}return{url:t,initiator_type:e.initiatorType,time:e.duration,perf_start:e.startTime,perf_end:e.startTime+e.duration,decoded_body_size:e.decodedBodySize,transfer_size:e.transferSize}}))}};(0,n().u)({environment:e,event:r})}(i,x)}({environment:t,initialRoute:v,isEditable:i,isHomePage:s,isWikiHome:l,isPageWithCustomLayout:c,isPublicDomain:_,idSchema:p})}function P(e){const{initialRoute:t,isEditable:i,isHomePage:o,isWikiHome:n,isPageWithCustomLayout:s,isPublicDomain:l,isPrewarmedTab:d,idSchema:u,prefetchedQueryCollection:g}=e;return{...a().getSubMetricsAndMetricDataForTracking(e.isPrewarmedTab?{isPrewarmedTab:!0,prewarmedTabNavigationStart:e.prewarmedTabNavigationStart}:{isPrewarmedTab:!1}),initial_route:t,is_editable:i,is_home_page:o,is_page_with_custom_layout:s,is_public_domain:l,profiling_tool:(0,c().getProfilingToolForSession)(),is_wiki_home:n,time_origin_to_app_start:r().getAppStartTime(),includes_page_origin_to_app_start:!0,id_schema:u,prefetched_cvb:g,is_prewarmed_tab:d,desktop_load_origin:a().getDesktopLoadOrigin(d),desktop_tab_count:h().A.state.desktopTabCount}}function k(e){const t=e.RouterStore.state.route;if("page"!==t.name||!t.blockId)return!1;return s().Ob.lookupViewIds(t.blockId).some((t=>{var i;const o=(0,l().A)(t),r=null===(i=e.prefetchCache)||void 0===i?void 0:i.getPrefetchAnalytic(o);return"hit-match"===(null==r?void 0:r.type)||"attempted"===(null==r?void 0:r.type)||"hit-mismatch"===(null==r?void 0:r.type)}))}},949571:(e,t,i)=>{i.r(t),i.d(t,{PageError:()=>Dt,PageError404:()=>$t});i(898992),i(823215),i(672577);var o=i(296540),r=()=>i(662303),n=()=>i(484714),s=()=>i(56366),a=()=>i(401497),l=()=>i(584262),c=()=>i(148307),d=()=>i(416504),u=()=>i(711901),g=i(474848);const p=(0,i(340498).wt)("googlePlay",{viewBox:"0 0 14 14",svg:(0,g.jsx)("path",{d:"M3.41741,13.7929001 L13.0843,8.42241009 C14.2002,7.80245009 14.2002,6.19755009 13.0843,5.57759009 L3.41741,0.207109087 C2.33284,-0.395426913 1,0.388821087 1,1.62952009 L1,12.3705001 C1,13.6112001 2.33284,14.3954001 3.41741,13.7929001 Z"})});var m=()=>i(735384),h=()=>i(427704),f=()=>i(677338),x=()=>i(959013),v=()=>i(381349),S=()=>i(284371),y=()=>i(245981),j=()=>i(874913),A=()=>i(915086),b=()=>i(331964),w=()=>i(857783),P=()=>i(755636),k=()=>i(435009),_=()=>i(904671),M=()=>i(675925),T=()=>i(345913),I=()=>i(2220),C=()=>i(482707),E=()=>i(972435),D=()=>i(836251),R=()=>i(640653),B=()=>i(991221),W=()=>i(515517),L=()=>i(684381),N=()=>i(997513),z=()=>i(211212),O=()=>i(133234),F=()=>i(222130),V=()=>i(215152),U=()=>i(20489),H=()=>i(623275),K=()=>i(437487),q=()=>i(869562),Y=()=>i(817411),J=()=>i(962730),$=()=>i(756279),Z=()=>i(765957),G=()=>i(227440),X=()=>i(869360),Q=()=>i(217429),ee=()=>i(529183);class te extends(()=>i(757695))().Store{getInitialState(){return{isCreatingSpace:!1,didPerformAction:!1,flowId:i(206267).JW()}}}const ie=te;var oe=()=>i(990261),re=()=>i(712505),ne=()=>i(454354),se=()=>i(47582),ae=()=>i(11048),le=()=>i(493823),ce=()=>i(297872),de=()=>i(296798),ue=()=>i(204063),ge=()=>i(187820),pe=()=>i(2143),me=()=>i(125565),he=()=>i(313786),fe=()=>i(908470),xe=()=>i(21140),ve=()=>i(932736),Se=()=>i(322114),ye=()=>i(530216),je=()=>i(426116),Ae=()=>i(994877);function be(e){const{publicPageData:t,environment:i,flowId:o,store:r,skipClickLogging:n}=e;r.setState({...r.state,didPerformAction:!0}),n||ye().Xx(i,{button_name:"join-workspace",flow_id:o});const{currentUserRootStore:s,currentUserSettingsStore:a}=Z().default.state;if(s&&a&&t.spaceId){const e=t.spaceId;je().DT({environment:i,userRootStore:s,spaceId:e,navigate:!0,analyticsFrom:"page_error",userSettingsStore:a})}}function we(e){Ae().SI({environment:e,from:"page_error"})}function Pe(e,t,i){ye().xn(i,{type:e,flow_id:t})}function ke(e){let{pageTitle:t}=e;return t?(0,g.jsx)(x().sA,{id:"fullPageError.changePermissions.titleWithPageName",defaultMessage:"Change permissions for {pageTitle}",values:{pageTitle:t}}):(0,g.jsx)(x().sA,{id:"fullPageError.changePermissions.title",defaultMessage:"Change permissions for this page"})}function _e(){const e=(0,s().K8)((()=>{var e;return null===(e=Z().default.state.currentSpaceStore)||void 0===e?void 0:e.getName()}),[]);return e?(0,g.jsx)(x().sA,{id:"fullPageError.workspaceOwner.changePermissions.descriptionWithSpaceName",defaultMessage:"As a workspace owner for <b>{spaceName}</b>, you can change the permissions of this page.",values:{b:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,g.jsx)("b",{children:t})},spaceName:e}}):(0,g.jsx)(x().sA,{id:"fullPageError.workspaceOwner.changePermissions.description",defaultMessage:"As an owner of this workspace, you can change the permissions of this page.",values:{b:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,g.jsx)("b",{children:t})}}})}var Me=()=>i(306622),Te=()=>i(186445),Ie=()=>i(38337),Ce=()=>i(719431),Ee=()=>i(905654),De=()=>i(589994),Re=()=>i(453697),Be=()=>i(719147),We=()=>i(426388),Le=()=>i(187485),Ne=()=>i(517592),ze=()=>i(175947),Oe=()=>i(224011),Fe=()=>i(948914);function Ve(e){let{children:t,style:i={},...o}=e;const r=(0,a().IS)((e=>({wrapper:{width:"100vw",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",...i}})),[i]);return(0,g.jsx)("section",{style:r.wrapper,...o,children:t})}function Ue(){const{isMobile:e,isElectronMac:t,isElectron:i}=(0,n().Y0)(),{isShowingTabBar:o,isFullscreen:r}=Ye(),l=(0,n().v3)(),c=(0,s().K8)((()=>l.WindowSizeStore.state.paddingTop),[l.WindowSizeStore]),d=(0,a().IS)((n=>({container:{display:"flex",alignItems:"center",alignSelf:"flex-start",paddingTop:e?c:!i||o||r?20:(0,ze().ek)(t),maxWidth:1300,paddingLeft:20,paddingRight:20},text:{fontWeight:S().Wy.medium,fontSize:16}})),[e,i,t,r,o,c]);return(0,g.jsxs)("header",{style:d.container,children:[(0,Ne().A)({width:e?28:30,height:e?28:30,marginRight:10,flexShrink:0}),(0,g.jsx)("div",{style:d.text,children:"Notion"})]})}function He(){const{isElectron:e,isElectronMac:t}=(0,n().Y0)(),{isShowingTabBar:i,isFullscreen:o}=Ye(),r=(0,a().IS)((e=>({desktopDragArea:{width:"100%",height:(0,ze().ek)(t),position:"absolute",top:0,left:0}})),[t]);return!e||i||o?null:(0,g.jsx)("div",{className:Ie().sbV,style:r.desktopDragArea})}function Ke(e){let{actionButtons:t,children:i,description:o,icon:r,title:s,descriptionWidth:l}=e;const{isMobile:c}=(0,n().Y0)(),d=(0,a().IS)((e=>({actionButtons:{marginTop:"15px"},description:{color:e.text.secondary,fontSize:c?S().J.UIRegular.mobile:S().J.UIRegular.desktop,lineHeight:c?S().K_.UIRegular.mobile:S().K_.UIRegular.desktop,margin:0,maxWidth:l??"340px",padding:"0 8px",textAlign:"center"},title:{color:e.text.primary,fontSize:"17px",fontWeight:S().Wy.semibold,lineHeight:"22px",margin:0,maxWidth:"340px",padding:"0 8px",textAlign:"center"}})),[c,l]);return(0,g.jsxs)(xe().wt,{alignItems:"center",flexGrow:1,gap:8,justifyContent:"center",children:[r??null,void 0!==s?(0,g.jsx)("p",{style:d.title,children:s}):null,void 0!==o?(0,g.jsx)("p",{style:d.description,children:o}):null,void 0!==t?(0,g.jsx)(xe().Ye,{gap:6,style:d.actionButtons,children:t}):null,i]})}function qe(e){let{children:t,style:i}=e;const o=(0,a().IS)((e=>({PageErrorFooter:{paddingBottom:"44px",paddingTop:"44px",marginTop:"auto",textAlign:"center",...i}})),[i]);return(0,g.jsx)("footer",{style:o.PageErrorFooter,children:t})}function Ye(){return{isShowingTabBar:(0,s().O$)(Fe().b),isFullscreen:(0,s().K8)((()=>Oe().A.state.isFullScreen),[])}}function Je(e){let{forceTheme:t}=e;const i=(0,n().v3)(),o=(0,a().IS)((e=>({flexContainer:{alignItems:"center",display:"flex",gap:"6px"},secondaryColor:{color:t?t.text.secondary:e.text.secondary},button:{color:t?t.text.secondary:e.text.secondary,padding:0},buttonPressed:{background:t?t.buttonPressedBackground:e.buttonPressedBackground}})),[t]);return(0,g.jsxs)(qe,{style:o.flexContainer,children:[(0,g.jsx)(me().A,{isInline:!0,style:o.secondaryColor,children:(0,g.jsxs)(Le().A,{href:"https://www.notion.com/product",external:!0,style:{...o.flexContainer,...o.secondaryColor},children:[(0,We().S)({width:16,height:16}),(0,g.jsx)(x().sA,{id:"fullPageError.whatIsNotionButton.label",defaultMessage:"What is Notion?"})]})}),(0,g.jsx)(me().A,{isInline:!0,style:o.secondaryColor,children:"·"}),(0,g.jsx)(me().A,{isInline:!0,style:o.secondaryColor,children:(0,g.jsx)(le().p,{isGray:!0,onClick:()=>we(i),pressedStyle:o.buttonPressed,style:o.button,children:(0,g.jsx)(x().sA,{id:"fullPageError.messageSupport.message",defaultMessage:"Message support"})})}),(0,g.jsx)(me().A,{isInline:!0,style:o.secondaryColor,children:"·"}),(0,g.jsx)(me().A,{isInline:!0,style:o.secondaryColor,children:(0,g.jsx)(Le().A,{href:h().JZ.termsAndPrivacy,external:!0,children:(0,g.jsx)(x().sA,{id:"fullPageError.termsAndPrivacyButton.label",defaultMessage:"Terms"})})})]})}function $e(e){const t=(0,a().DP)(),i=(0,n().v3)(),r=(0,s().K8)((()=>(0,Te()._m)(i)),[i]),l=(0,s().O$)(Z().AppStoreMainEditorCurrentBlockStore),c=(0,s().K8)((()=>null==r?void 0:r.getEmail()),[r]);return(0,o.useEffect)((()=>{l&&Me().bC({environment:i,store:l})}),[i,l]),r?(0,g.jsx)(qe,{children:(0,g.jsxs)(xe().Ye,{alignItems:"center",flexWrap:"wrap",gap:6,justifyContent:"center",children:[(0,g.jsx)(Re().A,{userStore:r}),(0,g.jsx)(me().A,{isInline:!0,isSecondaryColor:!0,children:(0,g.jsx)(x().sA,{id:"fullPageError.loggedInUserCurrentAccount.message",defaultMessage:"Logged in as {currentlyLoggedInUser}",values:{currentlyLoggedInUser:(0,g.jsx)("span",{style:{color:t.text.primary},children:c})}})}),(0,g.jsx)(me().A,{isInline:!0,isSecondaryColor:!0,children:"·"}),(0,g.jsx)(Ze,{...e})]})}):(0,g.jsx)(Je,{})}function Ze(e){const t=(0,n().v3)(),i=(0,s().uB)(e.loginStore,U().A),o=(0,s().uB)(e.loginModalStore,V().A);return De().transactionQueue.hasTasks()?(0,g.jsx)(me().A,{isInline:!0,isSecondaryColor:!0,children:(0,g.jsx)(Be().A,{disableUnderline:!0,onClick:()=>we(t),children:(0,g.jsx)(x().sA,{id:"fullPageError.messageSupport.message",defaultMessage:"Message support"})})}):(0,g.jsx)(me().A,{isInline:!0,isSecondaryColor:!0,style:{fontWeight:S().Wy.medium},children:Ee().T_(t)?(0,g.jsxs)(Be().A,{disableUnderline:!0,onClick:()=>{o.setState({open:!0})},children:[(0,g.jsx)(x().sA,{id:"fullPageError.loggedInUserSwitchAccount.message",defaultMessage:"Switch account"}),(0,g.jsx)(N().z,{loginModalStore:o,loginStore:i,title:(0,g.jsx)(x().sA,{id:"sidebarSwitcherMultiAccount.addAccount.title",defaultMessage:"Add an account"}),description:(0,g.jsx)(x().sA,{id:"sidebarSwitcherMultiAccount.addAccount.description",defaultMessage:"Use an existing account, or sign up with a new email. Your current account will remain logged in."}),className:Ie().w7$,trustedDomain:e.trustedDomain})]}):(0,g.jsx)(Be().A,{disableUnderline:!0,href:h().JZ.logout,onClick:()=>Ce().logout(t),children:(0,g.jsx)(x().sA,{id:"fullPageError.loggedInUserSwitchAccount.message",defaultMessage:"Switch account"})})})}var Ge=()=>i(433052),Xe=()=>i(235921),Qe=()=>i(1130),et=()=>i(144114),tt=()=>i(607859),it=()=>i(864943);function ot(e){let{canJoinSpaceWithData:t,color:i,route:o,store:r}=e;const a=(0,n().v3)(),c=(0,s().K8)((()=>{const{currentUserRootStore:e}=Z().default.state;return e&&0===e.getSpaceViewPointers().length}),[]),{isCreatingSpace:d,flowId:u}=(0,s().K8)((()=>{const{isCreatingSpace:e,flowId:t}=r.state;return{isCreatingSpace:e,flowId:t}}),[r]),p=(0,s().K8)((()=>{const{currentUserStore:e}=Z().default.state;return!(null!=e&&e.getOnboardingCompleted())}),[]);return t?(0,g.jsx)(rt,{color:i,size:"lg",onClick:()=>be({publicPageData:t,environment:a,flowId:u,store:r}),children:(0,g.jsx)(x().sA,{id:"fullPageError.joinSpaceButton.label",defaultMessage:"Join the space"})}):"onboarding"===o.name||p?(0,g.jsx)(rt,{color:i,size:"lg",onClick:()=>function(e,t){ye().Xx(e,{button_name:"back-to-onboarding",flow_id:t}),Ge().Aj();const i=tt().default.state;i.isOnboarding?et().up(i)?Qe().sy(e,{type:"new-user",disableRedirectUrl:!0,source:"page_error"}):et().Cy(i)?Qe().sy(e,{type:"create-or-join",disableRedirectUrl:!0,source:"page_error"}):(tt().default.reset(),Xe().A.reset(),k().oo({environment:e,url:h().JZ.root})):(tt().default.reset(),Xe().A.reset(),k().oo({environment:e,url:h().JZ.root}))}(a,u),children:(0,g.jsx)(x().sA,{id:"fullPageError.returnToOnboardingButton.label",defaultMessage:"Back to onboarding"})}):c||d?(0,g.jsx)(rt,{color:i,disabled:d,size:"lg",onClick:()=>async function(e,t,i){ye().Xx(e,{button_name:"create-account",flow_id:t});const{currentUserRootStore:o,currentUserStore:r}=Z().default.state;o&&r&&(i.setState({...i.state,isCreatingSpace:!0}),await Qe().Ig(e,"handle_create_account"),i.setState({...i.state,isCreatingSpace:!1}))}(a,u,r),children:(0,g.jsx)(x().sA,{id:"fullPageError.createOrJoinWorkspaceButton.label",defaultMessage:"Create or join a workspace"})}):(0,g.jsx)(rt,{color:i,size:"lg",onClick:()=>function(e,t){if(ye().Xx(e,{button_name:"back-to-my-content",flow_id:t}),D().UL(e))return void k().aX(e);const{currentUserRootStore:i,currentUserSettingsStore:o,currentSpaceViewStore:r}=Z().default.state;if(!i||!o)return void k().oo({environment:e,url:h().JZ.root,redirect:!0});if(r)return void je().tR({environment:e,spaceViewStore:r,userRootStore:i,userSettingsStore:o,pageVisitSource:l().y8.PageError,navigationType:"switchingToOrLoadingSpace"});je().t9({environment:e,userRootStore:i,userSettingsStore:o,pageVisitSource:l().y8.PageError})}(a,u),children:(0,g.jsx)(x().sA,{id:"fullPageError.backToMyContentButton.label",defaultMessage:"Back to my content"})})}function rt(e){let{color:t,...i}=e;const o=(0,a().DP)();return"blue"===t?(0,g.jsx)(ue().A,{size:"lg",...i}):(0,g.jsx)(it().A,{size:"lg",backgroundColor:o.whiteButtonBackground,...i,style:{fontWeight:S().Wy.medium,...i.style}})}function nt(e){let{isElectron:t}=e;const i=(0,x().tz)();return t?(0,g.jsx)(he().A,{title:i.formatMessage({defaultMessage:"No access",id:"errorPage.workspaceNoAccess.title"})}):null}function st(e){let{canRequestAccess:t,pageTitle:i,inSudoModeAndInTrash:o}=e;return t?o?i?(0,g.jsx)(x().sA,{id:"fullPageError.canReqestAccess.inTrash.titleWithPageName",defaultMessage:"No access to {pageTitle} in Trash",values:{pageTitle:i}}):(0,g.jsx)(x().sA,{id:"fullPageError.canRequestAccess.inTrash.title",defaultMessage:"No access to this page in Trash"}):i?(0,g.jsx)(x().sA,{id:"fullPageError.canRequestAccess.titleWithPageName",defaultMessage:"No access to {pageTitle}",values:{pageTitle:i}}):(0,g.jsx)(x().sA,{id:"fullPageError.canRequestAccess.title",defaultMessage:"No access to this page"}):(0,g.jsx)(x().sA,{id:"fullPageError.noAccess.title",defaultMessage:"Page not found"})}function at(e){let{canRequestAccess:t,inSudoModeAndInTrash:i}=e;return t?i?(0,g.jsx)(x().sA,{id:"fullPageError.pageInTrash.message",defaultMessage:"As a <bold>workspace owner</bold>, you can restore this page to update access to it",values:{bold:e=>(0,g.jsx)("b",{children:e})}}):(0,g.jsx)(x().sA,{id:"fullPageError.canRequestAccess.message",defaultMessage:"You can access this page if someone approves your request."}):(0,g.jsx)(x().sA,{id:"fullPageError.cannotRequestAccess.message",defaultMessage:"You don’t have permission to access this page."})}var lt=()=>i(126553);function ct(e){let{sudoModeStore:t}=e;const i=(0,a().IS)((e=>({WorkspaceOwnerPermissions:{background:e.cardBackground,borderRadius:4,padding:18,margin:24,maxWidth:400,textAlign:"center"},WorkspaceOwnerPermissionsButton:{fontWeight:S().Wy.medium,justifyContent:"center",margin:"18px auto 12px"}})),[]),o=(0,s().K8)((()=>t.shouldUserHaveAccessToPrivatePageBlock()),[t]),r=(0,s().O$)(t);return o&&r.privatePageStore&&!r.changePermissionsEnabled?(0,g.jsxs)("div",{style:i.WorkspaceOwnerPermissions,children:[(0,g.jsx)(me().A,{isMultiline:!0,style:{textAlign:"center"},children:(0,g.jsx)(x().sA,{id:"fullPageError.workspaceOwner.canChangePermissionsMessage",defaultMessage:"As a <b>workspace owner</b>, you can change the permissions of this page to add yourself or others. Any changes will appear in the audit log.",values:{b:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return(0,g.jsx)("b",{children:t})}}})}),(0,g.jsxs)(it().A,{size:"lg",style:i.WorkspaceOwnerPermissionsButton,onClick:()=>t.setState({...t.state,changePermissionsEnabled:!0}),children:[(0,lt().x)({width:16,height:16,marginRight:6}),(0,g.jsx)(x().sA,{id:"fullPageError.workspaceOwner.canChangePermissionsMessageButton",defaultMessage:"Change permissions"})]})]}):null}var dt=()=>i(278715);function ut(e){var t;let{route:i,store:r,hideBranding:s}=e;const a=(0,n().v3)(),l=null===(t=a.currentUser)||void 0===t?void 0:t.isLoggedIn();return(0,o.useEffect)((()=>{Pe("content_classification_block",r.state.flowId,a)}),[a,r]),(0,g.jsxs)(Ve,{children:[(0,g.jsx)(He,{}),s?null:(0,g.jsx)(Ue,{}),(0,g.jsx)(Ke,{icon:(0,g.jsx)(ve().fD,{type:"unsafe"}),title:(0,g.jsx)(x().sA,{id:"fullPageError.unsafePageError.title",defaultMessage:"Page may be unsafe"}),description:(0,g.jsx)(x().sA,{id:"fullPageError.unsafePageError.description",defaultMessage:"This page was flagged as containing spam, phishing, illegal, or inappropriate content. If you trust this source, you can <proceedanywaylink>proceed anyway</proceedanywaylink>",values:{proceedanywaylink:e=>(0,g.jsx)(Be().A,{onClick:()=>function(e){const{mainEditorCurrentBlockStore:t}=Z().default.state;t&&(dt().A.bypassPage(t.id),ye().bL(e))}(a),children:e})}}),actionButtons:l?(0,g.jsx)(ot,{route:i,store:r,color:"white"}):null}),s?null:l?(0,g.jsx)($e,{}):(0,g.jsx)(Je,{})]})}var gt=()=>i(852507),pt=()=>i(799954),mt=()=>i(668725),ht=()=>i(90907),ft=()=>i(558687),xt=()=>i(728611),vt=()=>i(791627),St=()=>i(362749),yt=()=>i(986229),jt=()=>i(155004),At=()=>i(406699),bt=()=>i(364280);const wt={cant_access_workspace_from_network:{admin:(0,g.jsx)(x().sA,{id:"router.enterpriseWorkspaceRestrictedPageError.cantAccessWorkspaceFromNetworkErrorAdminDescription",defaultMessage:"Your organization’s security settings prevent access to this workspace from your current network"}),default:(0,g.jsx)(x().sA,{id:"router.enterpriseWorkspaceRestrictedPageError.cantAccessWorkspaceFromNetworkErrorDescription",defaultMessage:"You do not have access to this workspace on your current network"})},cant_access_workspace_from_client:{admin:(0,g.jsx)(x().sA,{id:"router.enterpriseWorkspaceRestrictedPageError.cantAccessWorkspaceFromClientErrorAdminDescription",defaultMessage:"Unfortunately, we can’t access this workspace from your current client due to your organization’s security settings"}),default:(0,g.jsx)(x().sA,{id:"router.enterpriseWorkspaceRestrictedPageError.cantAccessWorkspaceFromClientError",defaultMessage:"Unfortunately, we can’t access this workspace from your current client"})},cant_access_workspace_from_ekm:{admin:(0,g.jsx)(x().sA,{id:"router.enterpriseWorkspaceRestrictedPageError.cantAccessWorkspaceFromEkmErrorAdminDescription",defaultMessage:"Please update security configurations or reach out to support@makenotion.com for support"}),default:(0,g.jsx)(x().sA,{id:"router.enterpriseWorkspaceRestrictedPageError.cantAccessWorkspaceFromEkmErrorDescription",defaultMessage:"Please contact your workspace owners to enable access. You may switch workspaces"})}};function Pt(e){let{errorType:t}=e;const i=(0,a().IS)((()=>({reactErrorStyle:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",paddingBottom:100,...(0,pt().xH)(r().locale)},reactErrorMessageStyle:{fontSize:14,textAlign:"center",marginTop:6,marginBottom:12,color:v().Ay.mediumTextColor},reactErrorMessageIdStyle:{fontSize:10,marginTop:8}})),[]),o=(0,n().v3)(),l=(0,s().K8)((()=>(0,R().s7)(o)),[o]);(0,gt().w)((()=>{j().navigationReady(!1)}));return(0,g.jsxs)(jt().s,{allowSelectionWithin:!0,style:i.reactErrorStyle,children:[(0,g.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16,position:"absolute",top:24,left:24,zIndex:2},children:[(0,ft().notionIcon)({width:32,height:32}),(0,g.jsx)("div",{style:{height:24,width:1,background:"#E3E3E3",margin:"0 6px"}}),(0,g.jsx)(kt,{})]}),(0,g.jsxs)(Ve,{children:[(0,g.jsx)(He,{}),(0,g.jsx)(Ke,{icon:(0,ht().h)({width:42,height:42}),title:(0,g.jsx)(x().sA,{id:"router.workspaceAccessRenderErrorPage.message",defaultMessage:"This workspace cannot be accessed"}),description:(()=>{if(t)return l?wt[t].admin:wt[t].default})(),descriptionWidth:360,actionButtons:(0,g.jsx)(bt().fI,{wrap:"wrap",gap:8,children:(0,g.jsx)(ue().A,{size:"lg",onClick:()=>{window.location.reload()},children:(0,g.jsx)(x().sA,{id:"router.workspaceAccessRenderErrorPage.logoutButton.label",defaultMessage:"Try again"})})})})]})]})}function kt(){const e=(0,n().v3)(),t=(0,s().uB)(void 0,vt().A),i=(0,s().uB)(void 0,U().A);(0,gt().w)((()=>{j().navigationReady(!1)}));const r=(0,s().uB)(void 0,yt().A),a=(0,o.useMemo)((()=>({organizationsInfo:[],spaceInfo:[]})),[]),c=(0,o.useCallback)((async t=>{let{event:i,spaceViewStore:o}=t;const r=xt().Vr(i);await je().tR({environment:e,spaceViewStore:o,userSettingsStore:Z().default.state.currentUserSettingsStore,userRootStore:Z().default.state.currentUserRootStore,openInNew:r,pageVisitSource:l().y8.SwitchSpace,navigationType:"switchingToOrLoadingSpace"})}),[e]);return(0,g.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:(0,g.jsx)(At().Ay,{popupType:At().z7.Popup,renderOrigin:e=>{let{onClick:t}=e;return(0,g.jsxs)(le().p,{onClick:t,isGray:!0,children:[(0,g.jsx)(x().sA,{defaultMessage:"Select workspace",id:"router.workspaceAccessRenderErrorPage.switchWorkspaceButton.label"}),(0,mt().b)({width:10,marginLeft:4})]})},render:e=>(0,g.jsx)(St().UL,{parent:e,onSpaceClick:c,loginStore:i,loginPermissionsStore:t,organizationEntryPointProps:a,permissionsInviteStore:r,isEnterpriseWorkspaceAccessRestriction:!0})})})}var _t=()=>i(857639);function Mt(e){let{href:t,store:i}=e;const r=(0,n().v3)();return(0,o.useEffect)((()=>Pe("incorrect_domain_interstitial_block",i.state.flowId,r)),[i,r]),(0,g.jsxs)(Ve,{children:[(0,g.jsx)(He,{}),(0,g.jsx)(Ue,{}),(0,g.jsx)(Ke,{icon:(0,g.jsx)(ve().fD,{type:"incorrectDomain"}),title:(0,g.jsx)(x().sA,{id:"fullPageError.publicDomainInterstitial.title",defaultMessage:"Continue to external site"}),description:(0,g.jsx)(x().sA,{id:"fullPageError.publicDomainInterstitial.description",defaultMessage:"If you are not redirected to the external site automatically, <redirectlink>click here</redirectlink>",values:{redirectlink:e=>(0,g.jsx)(Be().A,{href:t,external:!1,children:e})}}),actionButtons:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(it().A,{size:"lg",onClick:()=>{(0,_t().log)({level:"info",from:"PageError",type:"incorrectDomainInterstitial",data:{miscDataToConvertToString:{action:"navigateBack",canGoBack:(0,D().UL)(r)}}}),(0,D().UL)(r)?k().aX(r):k().oo({environment:r,url:"/home"})},children:(0,g.jsx)(x().sA,{id:"PageError.IncorrectDomainInterstitialButton.back.label",defaultMessage:"Go back"})}),(0,g.jsx)(ue().A,{size:"lg",onClick:()=>{(0,_t().log)({level:"info",from:"PageError",type:"incorrectDomainInterstitial",data:{miscDataToConvertToString:{action:"navigateHome"}}}),k().oo({environment:r,url:"/home"})},children:(0,g.jsx)(x().sA,{id:"PageError.IncorrectDomainInterstitialButton.home.label",defaultMessage:"Take me Home"})})]})}),(0,g.jsx)($e,{})]})}function Tt(e){var t;let{route:i,store:r}=e;const s=(0,n().v3)(),a=null===(t=s.currentUser)||void 0===t?void 0:t.isLoggedIn();return(0,o.useEffect)((()=>{Pe("oauth_no_access",r.state.flowId,s)}),[s,r]),(0,g.jsxs)(Ve,{children:[(0,g.jsx)(He,{}),(0,g.jsx)(nt,{isElectron:s.device.isElectron}),(0,g.jsx)(Ue,{}),(0,g.jsx)(Ke,{icon:(0,g.jsx)(ve().fD,{type:"notFound"}),title:(0,g.jsx)(x().sA,{id:"fullPageError.oauthNoAccess.title",defaultMessage:"You need access to this page"}),description:(0,g.jsx)(x().sA,{id:"fullPageError.oauthNoAccess.description",defaultMessage:"Contact the owner or try switching to a different account with access"}),actionButtons:a?(0,g.jsx)(ot,{route:i,store:r,color:"white"}):null}),(0,g.jsx)($e,{})]})}var It=()=>i(339702);function Ct(e){let{store:t}=e;const i=(0,n().v3)();return(0,o.useEffect)((()=>{Pe("offline",t.state.flowId,i),(0,It().j)(i,{type:"page_error"})}),[t,i]),(0,g.jsxs)(Ve,{children:[(0,g.jsx)(Ue,{}),(0,g.jsx)(He,{}),(0,g.jsx)(Ke,{icon:(0,g.jsx)(ve().fD,{type:"offline"}),title:(0,g.jsx)(x().sA,{id:"fullPageError.offlineError.title",defaultMessage:"You’re offline"}),description:(0,g.jsx)(x().sA,{id:"fullPage.offlineError.description",defaultMessage:"This page isn’t available offline. Check your network connection and try again."}),actionButtons:(0,g.jsx)(it().A,{size:"lg",onClick:()=>window.location.reload(),children:(0,g.jsx)(x().sA,{id:"router.renderErrorPage.reloadButton.label",defaultMessage:"Refresh"})})}),(0,g.jsx)($e,{})]})}const Et={width:14,height:14,marginRight:6,flexShrink:0};function Dt(e){let{route:t,publicPageData:i,shouldRedirectFromHome:r}=e;const a=(0,n().v3)(),c=Bt(a),d=(0,s().uB)(void 0,ie),u=(0,s().uB)(void 0,ne().A),p=(0,s().uB)(void 0,ee().Ay),m=(0,s().uB)(X().z),h=(0,o.useRef)(!1),x=(0,s().K8)((()=>d.state.flowId),[d]),v=(0,s().K8)((()=>{var e;return null===(e=Z().default.state.mainEditorCurrentBlockStore)||void 0===e?void 0:e.id}),[]),S=(0,s().K8)((()=>{var e;return(null===(e=Z().default.state.mainEditorCurrentBlockStore)||void 0===e?void 0:e.isPlaceholderWorkflowTemplateBlock())??!1}),[]),y=(0,s().K8)((()=>d.state.didPerformAction),[d]),M=!(0,s().O$)(G().e),T=(0,s().K8)((()=>{var e;const{mainEditorCurrentBlockStore:t}=Z().default.state;return null==t||null===(e=t.getModel())||void 0===e?void 0:e.isNonverifiedContentClassification()}),[]),C=(0,s().O$)(Z().AppStoreCurrentSpaceStore),E=(0,s().K8)((()=>C?m.getWorkspaceAccessRestrictionForSpace(C.id):void 0),[m,C]);(0,o.useEffect)((()=>{re().default.state.open&&b().J(re().default.state.presenceStore,a,oe().o,re().default.state.targetStore),b().J(Z().default.state.presenceStore,a,oe().uk,Z().default.state.mainEditorCurrentBlockStore),q().cancelSidebarInitialRenderLog()}),[a]),(0,o.useEffect)((()=>{if(!h.current&&(h.current=!0,A().setInitialRenderCompleted(),r&&async function(e){let{environment:t,flowId:i}=e;const o=Z().default.state.currentSpaceViewStore;if(!o)return;Pe("invalid_home_block",i,t);const r=await(0,R().zd)(t,o);r&&w().uK({environment:t,store:r,openInNew:void 0,templateGalleryItem:void 0,projectManagementLaunch:!1,pageVisitSource:l().y8.PersonalHomeErrorRedirect})}({environment:a,flowId:x}),Bt(a)||(0,f().$P)(window.location.href),a.device.isElectron||a.mobileNative)){const e=null==i?void 0:i.requireInterstitial;if(e){const t=e+window.location.hash;P().f({environment:a,url:t}),D().UL(a)?k().aX(a):j().closeTab()}}}),[a,x,null==i?void 0:i.requireInterstitial,r]),(0,o.useEffect)((()=>{_().B({environment:a,sudoModeStore:u,pageBlockId:v,currentSpaceStore:C})}),[a,v,u,C]);return(0,g.jsx)(ae().A,{name:"PageError",children:y?null:M?(0,g.jsx)(Ct,{store:d}):"teamsInvite"===t.name&&c?(0,g.jsx)(qt,{publicPageData:i,route:t,store:d,sudoModeStore:u,inviteTargetsStore:p,source:"teamsInvite",canJoinSpace:!0}):E?((0,I().u)({environment:a,event:{eventName:"enterprise_workspace_restriction_encountered",eventProperties:{restriction_type:E.errorType}}}),(0,g.jsx)(Pt,{errorType:E.errorType})):"initiateExternalAuthenticationFromDesktop"===t.name?(0,g.jsx)(Tt,{route:t,store:d}):S?(0,g.jsx)($t,{route:t,store:d}):i?i&&"onboarding"===t.name?(0,g.jsx)(qt,{publicPageData:i,route:t,store:d,sudoModeStore:u,inviteTargetsStore:p,source:"onboarding",canJoinSpace:!1}):i.spaceName?T&&!i.requireInterstitial?(0,g.jsx)(ut,{route:t,store:d,hideBranding:D().$o(t)}):T||D().nR(t)?(0,g.jsx)($t,{route:t,store:d,hideBranding:D().$o(t)}):i.requireInterstitial?(0,g.jsx)(Mt,{href:i.requireInterstitial+window.location.hash,store:d}):c?(0,g.jsx)(Zt,{route:t,publicPageData:i,pageErrorStore:d,sudoModeStore:u,inviteTargetsStore:p}):(0,g.jsx)(Ft,{store:d,publicPageData:i}):(0,g.jsx)($t,{route:t,store:d}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(He,{}),(0,g.jsx)(Y().A,{skipFadeinDelay:!0})]})})}function Rt(e){let{inviteeEmail:t}=e;return(0,g.jsx)("div",{style:{color:"#535353",fontSize:"18px",fontWeight:S().Wy.regular,lineHeight:"145.34%",marginBottom:24,maxWidth:358,opacity:.78,textAlign:"center",width:"100%"},children:(0,g.jsx)(x().sA,{id:"signupPage.subtitle.invitationVersion",defaultMessage:"Please check {invitee_email} for your temporary login code.",values:{invitee_email:(0,g.jsx)("b",{children:t})}})})}function Bt(e){return Boolean(e.currentUser.id)}function Wt(e){let{environment:t,currentRoute:i}=e;return(0,o.useEffect)((()=>{k().oo({environment:t,url:`/home?p=${i.peekViewBlockId}&pm=${i.peekMode}`})}),[t,i]),null}function Lt(e){let{isElectron:t,publicPageData:i,showInvitationVersion:o,inviterName:s,greetingStyle:l,iconBoxInitialStyle:c,trustedDomain:d}=e;const u=(0,n().v3)(),p=(0,x().tz)(),m=Boolean(d)&&"none"===i.publicAccessRole,h=(0,a().IS)((()=>({invitation:{fontSize:28,fontWeight:S().Wy.bold,maxWidth:358,letterSpacing:.364,lineHeight:1.2,textAlign:"center",fontFamily:S().vc(r().locale).sans},normal:{fontSize:u.device.isMobile?18:20,fontWeight:S().Wy.medium,marginBottom:10,maxWidth:358,textAlign:"center",...l}})),[u.device.isMobile,l]);return(0,g.jsxs)(g.Fragment,{children:[t&&(0,g.jsx)(he().A,{title:p.formatMessage({defaultMessage:"Log in",id:"errorPage.loggedOutWorkspace.title"})}),o?(0,g.jsx)("div",{style:h.invitation,children:s?(0,g.jsx)(x().sA,{id:"signupPage.title.showInvitationVersion",defaultMessage:"Verify your email to accept {inviter_name}’s invite",values:{inviter_name:s}}):(0,g.jsx)(x().sA,{id:"signupPage.title.showInvitationVersion.noInviterName",defaultMessage:"Verify your email to accept the invite"})}):(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{style:{marginBottom:12},children:(0,g.jsx)(ve().HS,{publicPageData:i,iconBoxInitialStyle:c,size:"lg"})}),(0,g.jsx)("div",{style:h.normal,children:m?(0,g.jsx)(x().sA,{id:"fullPageError.domainSharingPage.message",defaultMessage:"Sign in to view this shared page"}):(0,g.jsx)(x().sA,{id:"fullPageError.improveLoggedOutLandingExp.message",defaultMessage:"Sign in to see this page in {workspaceName}",values:{workspaceName:(0,g.jsx)("b",{children:i.spaceName})}})})]})]})}function Nt(e){let{sudoModeStore:t,inviteTargetsStore:i}=e;const o=(0,a().DP)(),r=(0,s().K8)((()=>t.shouldUserHaveAccessToPrivatePageBlock()),[t]),n=(0,s().O$)(t);return r&&n.privatePageStore&&n.changePermissionsEnabled?(0,g.jsx)("div",{style:{textAlign:"left",borderRadius:4,background:o.modalBackground,position:"relative",boxShadow:o.shadowMD,width:H().$D,margin:"24px auto"},children:(0,g.jsx)(C().k,{store:n.privatePageStore,sudoModeStore:t,inviteTargetsStore:i,location:"no_access_page",onClose:()=>K().Ay.reset()})}):null}function zt(e){const t=e.state.privatePageStore;if(!e.shouldUserHaveAccessToPrivatePageBlock()||!t)return;const i=t.getModel();if(!i)return;const o=i.getRenderTitleWithPlaceholder({getRecordModel:t.getRecordModel,userTimeZone:(0,d().P)(),intl:E().A.getIntl(),isWorkflowsContainerWithCreationEnabled:!1}),r=i.getRenderIcon({getRecordModel:t.getRecordModel});return(0,g.jsxs)(g.Fragment,{children:[r&&(0,g.jsx)(ge().B6,{isEmptyPage:!0,disabled:!0,icon:r,iconRecordCategory:(0,ge().Te)(t),size:24,style:{display:"inline-block",marginRight:4}}),o&&(0,g.jsx)("span",{children:o})]})}function Ot(e){const t=(0,a().IS)((t=>{const i=e.themeOverride??t;return{backgroundImg:{position:"absolute",top:230,WebkitMask:"linear-gradient(to bottom, rgba(0,0,0,1) 50%, rgba(0,0,0,0) 100%)",zIndex:0},wrapper:{boxShadow:i.shadowMD,zIndex:1,border:`1px ${i.stroke.primary}`,background:i.modalBackground,borderRadius:20,display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",padding:40},loginDisclaimer:{color:i.text.secondary,maxWidth:400}}}),[e.themeOverride]);return e.isEnabled?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("img",{alt:"",src:c().A.images.onboarding.skeletonPageSvg,style:t.backgroundImg}),(0,g.jsx)("div",{style:t.wrapper,children:e.children}),(0,g.jsx)(L().z,{style:t.loginDisclaimer,themeOverride:e.themeOverride})]}):(0,g.jsx)(g.Fragment,{children:e.children})}function Ft(e){var t;let{publicPageData:i,store:r}=e;const l=(0,a().DP)(),c=(0,n().v3)(),{device:d}=c,{inviteeEmail:m,inviterName:S,showInvitationVersion:y}=(0,s().K8)((()=>{const{inviteeEmail:e,inviterName:t}=F().A.state;return{inviteeEmail:e,inviterName:t,showInvitationVersion:O().A.isTemporaryPasscode()&&e===O().A.state.email}}),[]),j=(0,v().O4)({theme:"light"}),A=null!==(t=i.domainLinkSharingEnabledDomains)&&void 0!==t&&t.length&&"none"===i.publicAccessRole?i.domainLinkSharingEnabledDomains[0]:void 0;(0,o.useEffect)((()=>{Pe("team_login",r.state.flowId,c),(0,f().wA)({url:window.location.href})}),[r,c]);const b=(0,s().K8)((()=>!(d.isMobile||d.isElectron||y)),[d.isElectron,d.isMobile,y]),w=(0,o.useMemo)((()=>b?{paddingTop:"5vh"}:{}),[b]),P=(0,s().K8)((()=>O().A.isMfa()),[]),_=(0,g.jsx)(ce().A,{capture:!0,allowMobileAutoScroll:!0,render:e=>(0,g.jsx)(fe().A,{analyticsName:"team_login",hideNavItems:!0,hideNotificationBanner:!0,children:(0,g.jsxs)(Ve,{style:w,...e,children:[(0,g.jsxs)(Ot,{isEnabled:b,themeOverride:j,children:[(0,g.jsx)(Lt,{isElectron:c.device.isElectron,publicPageData:i,showInvitationVersion:y,inviterName:S,greetingStyle:{color:j.text.primary,overflow:"hidden",textOverflow:"ellipsis"},iconBoxInitialStyle:{background:j.regularDividerColor,color:j.text.secondary},trustedDomain:A}),m&&y?(0,g.jsx)(Rt,{inviteeEmail:m}):null,P?(0,g.jsx)(z().A,{loginStore:O().A}):(0,g.jsx)(W().A,{emailLabelType:"email",style:{maxWidth:300},from:"pageError",loginStore:O().A,showInvitationVersion:y,isSignup:y,themeOverride:j,disableDisclaimer:b})]}),d.isMobile&&!d.isMobileNative&&!y&&(0,g.jsxs)(o.Fragment,{children:[(0,g.jsx)("div",{style:{height:1,width:"100vw",background:l.regularDividerColor,marginTop:36,marginBottom:36}}),(0,g.jsxs)(ue().A,{style:{width:280},size:"lg",onClick:()=>{k().eG({url:window.location.href,environment:c})},children:[d.isIOS?(0,u().L)(Et):p(Et),(0,g.jsx)(x().sA,{id:"fullPageError.openInMobileAppButton.label",defaultMessage:"Open in mobile app"})]}),(0,g.jsx)(de().A,{href:d.isIOS?h().JZ.appStore:h().JZ.playStore,external:!0,innerStyle:{marginTop:16},children:(0,g.jsx)(me().A,{isSmall:!0,style:{textDecoration:"underline",fontSize:14,color:j.text.secondary},children:(0,g.jsx)(x().sA,{id:"fullPageError.downloadMobileAppButton.label",defaultMessage:"Get mobile app"})})})]}),(0,g.jsx)(Je,{forceTheme:j})]})})});return c.device.isMobileNative?(0,g.jsx)(pe().H,{type:$().A.Y,style:{width:"100%",height:"100%",overflow:"auto",WebkitOverflowScrolling:"touch"},children:_}):_}function Vt(e){let{publicPageData:t,sudoModeStore:i,inSudoModeAndInTrash:r,route:a,store:l}=e;const c=(0,s().K8)((()=>l.state.flowId),[l]),d=(0,n().v3)(),{spaceId:u,pageId:p}={...t},m=(0,o.useCallback)((async()=>{const{currentSpaceStore:e}=Z().default.state,t=i.state.privatePageStore;if(!e||!t)return;const o="page_error";await(0,M().o)(d,{action:"restore_page",from:o,block_type:t.getType()},(i=>T().iN({environment:d,blockStore:t,spaceId:t.pointer.spaceId||e.id,from:o}))),i.reset()}),[i,d]);return t&&t.canRequestAccess&&u&&p?(0,g.jsxs)(xe().Ye,{gap:8,children:[(0,g.jsx)(ot,{route:a,store:l,color:"white"}),r?(0,g.jsx)(ue().A,{onClick:m,size:"lg",children:(0,g.jsx)(x().sA,{id:"fullPageError.pageInTrash.restoreButton",defaultMessage:"Restore page"})}):(0,g.jsx)(Se().A,{type:"current-actor-to-block",block:{id:p,spaceId:u},flowId:c})]}):(0,g.jsx)(ot,{route:a,store:l,color:"white"})}function Ut(e){let{route:t,store:i}=e;const o=(0,s().K8)((()=>i.state.flowId),[i]);if("teamsInvite"!==t.name)return(0,g.jsx)(ot,{route:t,store:i,color:"white"});const{teamId:r}=t;return r?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ot,{route:t,store:i,color:"white"}),(0,g.jsx)(Se().A,{buttonType:"primary",type:"current-actor-to-space-via-team",teamId:r,flowId:o})]}):(0,g.jsx)(ot,{route:t,store:i,color:"white"})}function Ht(e){let{route:t,store:i,sudoModeStore:o,publicPageData:r,trustedDomain:a}=e;const l=(0,n().v3)(),c=(0,s().uB)(void 0,U().A),d=(0,s().uB)(void 0,V().A);return(0,g.jsxs)(Ve,{children:[(0,g.jsx)(He,{}),(0,g.jsx)(nt,{isElectron:l.device.isElectron}),(0,g.jsx)(Ue,{}),(0,g.jsx)(Ke,{icon:(0,g.jsx)(ve().fD,{type:"noAccess",publicPageData:r}),title:(0,g.jsx)(x().sA,{id:"fullPageError.domainSharingPage.title",defaultMessage:"No access to this shared page"}),description:(0,g.jsx)(x().sA,{id:"fullPageError.domainSharingPage.messageV2",defaultMessage:"You can access this page by signing in to an account with a <b>@{trustedDomain}</b> email address.",values:{trustedDomain:a,b:e=>(0,g.jsx)("b",{children:e})}}),actionButtons:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ot,{route:t,store:i,color:"white"}),(0,g.jsxs)(ue().A,{size:"lg",onClick:()=>d.setState({open:!0}),children:[(0,g.jsx)(x().sA,{id:"fullPageError.domainSharingPage.login.",defaultMessage:"Log in"}),(0,g.jsx)(N().z,{loginModalStore:d,loginStore:c,title:(0,g.jsx)(x().sA,{id:"sidebarSwitcherMultiAccount.addAccount.title",defaultMessage:"Add an account"}),description:(0,g.jsx)(x().sA,{id:"sidebarSwitcherMultiAccount.addAccount.descriptionV2",defaultMessage:"Log in/sign up with a @makenotion.com email address. Your current account will remain logged in."}),className:"notion-space-settings",trustedDomain:a})]})]}),children:(0,g.jsx)(ct,{sudoModeStore:o})}),(0,g.jsx)($e,{loginModalStore:d,loginStore:c,trustedDomain:a})]})}function Kt(e){let{publicPageData:t,route:i,store:o,sudoModeStore:r,inviteTargetsStore:a}=e;const l=(0,n().v3)(),c=(0,s().K8)((()=>r.state.loading),[r]),d=(0,s().K8)((()=>r.shouldUserHaveAccessToPrivatePageBlock&&r.shouldUserHaveAccessToPrivatePageBlock()&&r.state.changePermissionsEnabled),[r]),u=(0,s().K8)((()=>r.shouldUserHaveAccessToPrivatePageBlock()),[r]),p=(0,s().K8)((()=>{if(!u||!Q().default.checkGate({gateName:"cdrr_deleted_from_trash_view"}))return!1;const e=r.state.privatePageStore;return!!e&&(e.pathHasDeletedPermission()&&!e.pathHasPurgedDeletedPermission())}),[r,u]),m=(0,s().K8)((()=>Boolean(r.state.privatePageStore&&r.state.privatePageStore.pathIsDead()&&Q().default.checkGate({gateName:"cdrr_deleted_from_trash_view"}))),[r]),h=(0,s().K8)((()=>zt(r)),[r]);return c?(0,g.jsx)(Y().A,{skipFadeinDelay:!0}):p?(0,g.jsx)(Jt,{sudoModeStore:r,route:i,store:o}):(0,g.jsxs)(Ve,{children:[(0,g.jsx)(He,{}),(0,g.jsx)(nt,{isElectron:l.device.isElectron}),(0,g.jsx)(Ue,{}),(0,g.jsxs)(Ke,{icon:(0,g.jsx)(ve().fD,{type:"noAccess",publicPageData:t}),title:d?(0,g.jsx)(ke,{pageTitle:h}):(0,g.jsx)(st,{canRequestAccess:Boolean(null==t?void 0:t.canRequestAccess),pageTitle:h,inSudoModeAndInTrash:m}),description:d?(0,g.jsx)(_e,{}):(0,g.jsx)(at,{canRequestAccess:Boolean(null==t?void 0:t.canRequestAccess),inSudoModeAndInTrash:m}),actionButtons:(0,g.jsx)(Vt,{publicPageData:t,sudoModeStore:r,inSudoModeAndInTrash:m,route:i,store:o}),children:[u?(0,g.jsx)(Nt,{sudoModeStore:r,inviteTargetsStore:a}):null,m?null:(0,g.jsx)(ct,{sudoModeStore:r})]}),(0,g.jsx)($e,{})]})}function qt(e){const t=(0,n().v3)(),{source:i,canJoinSpace:r,publicPageData:s,route:a,store:l,sudoModeStore:c,inviteTargetsStore:d}=e;if((0,o.useEffect)((()=>{"onboarding"===i?Pe("onboarding_error",l.state.flowId,t):"teamsInvite"===i?Pe("team_invite_no_access",l.state.flowId,t):s&&Pe("team_no_access",l.state.flowId,t)}),[s,i,l,t]),s){var u;const e=null!==(u=s.domainLinkSharingEnabledDomains)&&void 0!==u&&u.length?s.domainLinkSharingEnabledDomains[0]:void 0;return e?(0,g.jsx)(Ht,{route:a,store:l,sudoModeStore:c,publicPageData:s,trustedDomain:e}):(0,g.jsx)(Kt,{publicPageData:s,route:a,store:l,sudoModeStore:c,inviteTargetsStore:d})}return(0,g.jsxs)(Ve,{children:[(0,g.jsx)(He,{}),(0,g.jsx)(nt,{isElectron:t.device.isElectron}),(0,g.jsx)(Ue,{}),(0,g.jsx)(Ke,{icon:s?(0,g.jsx)(ve().fD,{type:"noAccess",publicPageData:s}):null,title:r?(0,g.jsx)(x().sA,{id:"fullPageError.notInWorkspace.message",defaultMessage:"You are not in this workspace."}):(0,g.jsx)(x().sA,{id:"fullPageError.accessNotAllowed.message",defaultMessage:"You do not have access to this page."}),description:"teamsInvite"===i?(0,g.jsx)(x().sA,{id:"fullPageError.canRequestWorkspaceAccess.message",defaultMessage:"You can access this workspace if someone approves your request."}):null,actionButtons:(0,g.jsx)(Ut,{route:a,store:l}),children:(0,g.jsx)(ct,{sudoModeStore:c})}),(0,g.jsx)($e,{})]})}function Yt(e){let{publicPageData:t,route:i,store:r,sudoModeStore:s,inviteTargetsStore:a}=e;const l=(0,n().v3)();return(0,o.useEffect)((()=>{Pe("team_page_no_access",r.state.flowId,l)}),[l,r]),(0,g.jsx)(Kt,{publicPageData:t,route:i,store:r,sudoModeStore:s,inviteTargetsStore:a})}function Jt(e){let{sudoModeStore:t,route:i,store:r}=e;const a=(0,n().v3)(),l=(0,s().K8)((()=>t.state.privatePageStore),[t]),c=(0,s().K8)((()=>t.shouldUserHaveAccessToPrivatePageBlock()),[t]),d=(0,B().T)(),u=(0,o.useCallback)((()=>{l&&T().tz({environment:a,blockStore:l,handleSuccess:()=>{y().L(a,{pageId:l.id,from:"page"}),k().VP({environment:a,blocks:[l]})}})}),[a,l]),p=(0,o.useCallback)((e=>(0,g.jsx)(ue().A,{...e,size:"lg",children:(0,g.jsx)(x().sA,{id:"fullPageError.deletedFromTrashPage.restoreButton",defaultMessage:"Restore page"})})),[]),h=(0,s().K8)((()=>zt(t)),[t]);return l&&c?(0,g.jsxs)(Ve,{children:[(0,g.jsx)(He,{}),(0,g.jsx)(nt,{isElectron:a.device.isElectron}),(0,g.jsx)(Ue,{}),(0,g.jsx)(Ke,{title:(0,g.jsx)(x().sA,{id:"fullPageError.deletedFromTrashPage.titleWithPageName",defaultMessage:"<bold>{pageTitle}</bold> has been deleted from the Trash",values:{pageTitle:h,bold:e=>(0,g.jsx)("b",{children:e})}}),description:(0,g.jsx)(x().sA,{id:"fullPageError.deletedFromTrashPage.message",defaultMessage:"As a workspace owner, you can restore this page. <br>This will be recorded in the audit log.</br>",values:{br:e=>(0,g.jsx)("div",{children:e})}}),actionButtons:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(ot,{route:i,store:r,color:"white"}),(0,g.jsx)(se().V,{renderPopupOrigin:p,blockStore:l,environment:a,placementToOrigin:J().W.Bottom,includeNonRestoreActions:!1,getValidDeletedPermissions:d,from:"retainedPage"})]}),children:(0,g.jsx)(le().p,{iconLeading:m().I,isGray:!0,size:"lg",onClick:u,children:(0,g.jsx)(x().sA,{id:"fullPageError.deletedFromTrashPage.permanentlyDeleteButton",defaultMessage:"Permanently delete"})})}),(0,g.jsx)($e,{})]}):null}function $t(e){let{store:t,route:i,hideBranding:r=!1}=e;const s=(0,n().v3)(),{device:a}=s,{isElectron:l}=a,c=Bt(s),d=(0,x().tz)();return(0,o.useEffect)((()=>Pe("404",t.state.flowId,s)),[t,s]),(0,g.jsxs)(Ve,{children:[l?(0,g.jsx)(he().A,{title:d.formatMessage({defaultMessage:"Not found",id:"errorPage.contentDoesNotExist.tabTitle"})}):null,(0,g.jsx)(He,{}),r?null:(0,g.jsx)(Ue,{}),(0,g.jsx)(Ke,{title:(0,g.jsx)(x().sA,{id:"fullPageError.notFoundError.title",defaultMessage:"This page couldn’t be found"}),description:(0,g.jsx)(x().sA,{id:"fullPageError.notFoundError.description",defaultMessage:"You may not have access, or it might have been deleted or moved. Check the link and try again."}),actionButtons:c?(0,g.jsx)(ot,{route:i,store:t,color:"white"}):null}),r?null:c?(0,g.jsx)($e,{}):(0,g.jsx)(Je,{})]})}function Zt(e){let{route:t,publicPageData:i,pageErrorStore:o,sudoModeStore:r,inviteTargetsStore:a}=e;const l=(0,n().v3)(),{allStoresLoaded:c,foundSpaceView:d}=(0,s().K8)((()=>{const{currentUserRootStore:e}=Z().default.state;if(!e||!e.isReady())return{allStoresLoaded:!1,foundSpaceView:null};const t=(null==e?void 0:e.getSpaceViewStores())||[];if(!t.every((e=>e.isReady())))return{allStoresLoaded:!1,foundSpaceView:null};return{allStoresLoaded:!0,foundSpaceView:t.find((e=>e.getSpaceId()===i.spaceId))}}),[i.spaceId]);return c?d&&"page"===t.name?t.peekViewBlockId?(0,g.jsx)(Wt,{environment:l,currentRoute:t}):(0,g.jsx)(Yt,{publicPageData:i,route:t,store:o,sudoModeStore:r,inviteTargetsStore:a}):i.canJoinSpace?"space"===t.name?(0,g.jsx)(Gt,{publicPageData:i,pageErrorStore:o}):(0,g.jsx)(qt,{publicPageData:i,route:t,store:o,sudoModeStore:r,inviteTargetsStore:a,source:"workspace",canJoinSpace:!0}):(0,g.jsx)(qt,{publicPageData:i,route:t,store:o,sudoModeStore:r,inviteTargetsStore:a,source:"workspace",canJoinSpace:!1}):null}function Gt(e){let{publicPageData:t,pageErrorStore:i}=e;const r=(0,n().v3)(),a=(0,s().K8)((()=>i.state.flowId),[i]);return(0,o.useEffect)((()=>{be({publicPageData:t,environment:r,flowId:a,store:i,skipClickLogging:!0})}),[t,r,a,i]),null}},969339:(e,t,i)=>{i.d(t,{C6:()=>s,HQ:()=>n,Yo:()=>a});var o=()=>i(645873);const r=new(o().O2)("login",(async()=>{const{default:e}=await Promise.all([i.e(44711),i.e(35837),i.e(19687),i.e(25049),i.e(30873),i.e(96966)]).then(i.bind(i,465209)),{default:t}=await Promise.all([i.e(44711),i.e(35837),i.e(19687),i.e(25049),i.e(30873),i.e(96966)]).then(i.bind(i,406370)),{default:o}=await Promise.all([i.e(44711),i.e(35837),i.e(19687),i.e(25049),i.e(30873),i.e(96966)]).then(i.bind(i,737515)),{default:r}=await Promise.all([i.e(44711),i.e(35837),i.e(19687),i.e(25049),i.e(30873),i.e(96966)]).then(i.bind(i,936419)),{default:n}=await Promise.all([i.e(44711),i.e(35837),i.e(19687),i.e(25049),i.e(30873),i.e(96966)]).then(i.bind(i,52542));return{LoginPage:e,LoginDesktop:t,LoginMobileNative:o,FrontLoginPage:r,LoginModalContent:n}})),n=(0,o()._h)(r,(e=>e.LoginPage)),s=(0,o()._h)(r,(e=>e.FrontLoginPage)),a=(0,o()._h)(r,(e=>e.LoginModalContent))},986229:(e,t,i)=>{i.d(t,{A:()=>r});class o extends(()=>i(757695))().Store{getInitialState(){return{modalOpen:!1,tokenQuery:"",inviteTargets:[],inviteRole:"editor",table:i(179034).ev,flowId:void 0,inputFocus:"invitee",emailMessage:""}}}const r=o},987264:(e,t,i)=>{i.d(t,{s:()=>r});i(296540);var o=i(474848);const r=(0,i(340498).wt)("eyes",{viewBox:"0 0 72 72",svg:(0,o.jsx)("path",{d:"M17.0312 64.4375C26.25 64.4375 33.5625 52.9688 33.5625 36.4375C33.5625 19.9062 26.25 8.46875 17.0312 8.46875C7.8125 8.46875 0.5 19.9062 0.5 36.4375C0.5 52.9688 7.8125 64.4375 17.0312 64.4375ZM54.9688 64.4375C64.1875 64.4375 71.5 52.9688 71.5 36.4375C71.5 19.9062 64.1875 8.46875 54.9688 8.46875C45.75 8.46875 38.4375 19.9062 38.4375 36.4375C38.4375 52.9688 45.75 64.4375 54.9688 64.4375ZM10.0625 47.1875C15.125 47.1875 18.4688 43.6562 18.4688 38.3438C18.4688 33.0938 15.125 29.5625 10.0625 29.5625C7.6875 29.5625 5.71875 30.3125 4.25 31.6875C5.375 19.9375 10.6875 11.9375 17.0312 11.9062C24.25 11.875 30.125 22.0312 30.125 36.4375C30.125 50.7812 24.25 60.9688 17.0312 61C11.5312 61.0312 6.78125 54.9688 4.90625 45.5938C6.28125 46.625 8.03125 47.1875 10.0625 47.1875ZM47.9688 47.1875C53 47.1875 56.4062 43.6562 56.4062 38.3438C56.4062 33.0938 53 29.5625 47.9688 29.5625C45.5938 29.5625 43.5938 30.3438 42.1562 31.6875C43.2812 19.9375 48.5938 11.9375 54.9688 11.9375C62.1562 11.9062 68 22.0938 68 36.4375C68 50.7812 62.1562 60.9688 54.9688 60.9688C49.4375 61 44.6875 54.9375 42.7812 45.5938C44.1562 46.5938 45.9375 47.1875 47.9688 47.1875ZM45.5312 37.4062C44.4375 37.25 43.75 35.9688 44.0312 34.6562C44.3125 33.3125 45.3125 32.3438 46.375 32.5312C47.4688 32.75 48.0938 34.0312 47.8438 35.3125C47.5938 36.6562 46.5938 37.5938 45.5312 37.4062ZM7.625 37.4062C6.53125 37.25 5.84375 35.9688 6.09375 34.6562C6.375 33.3125 7.40625 32.3438 8.4375 32.5312C9.5625 32.7812 10.1875 34.0312 9.9375 35.3125C9.6875 36.6562 8.65625 37.5938 7.625 37.4062Z"})})},997513:(e,t,i)=>{i.d(t,{z:()=>p});var o=i(296540),r=()=>i(484714),n=()=>i(56366),s=()=>i(401497),a=()=>i(959013),l=()=>i(107683),c=()=>i(2143),d=()=>i(969339),u=()=>i(756279),g=i(474848);function p(e){let{loginModalStore:t,loginStore:i,title:s,description:a,isSignup:c,disableLoginLink:u,redirectURL:p,className:x,onDismiss:v,trustedDomain:S}=e;const y=(0,r().v3)(),j=(0,n().K8)((()=>t.state.open),[t]),A=(0,o.useId)(),b=(0,o.useId)(),w={loginStore:i,title:s,description:a,isSignup:c,redirectURL:p,disableLoginLink:u,titleAriaId:A,descriptionAriaId:b,trustedDomain:S};return(0,g.jsx)(l().s,{ariaLabelledBy:A,ariaDescribedBy:b,isOpen:j,onDismiss:()=>{f({loginModalStore:t,loginStore:i,onDismiss:v})},areaConstraint:{width:{type:"fixed",length:480},height:{type:"unlimited",scroll:"allow"}},deprecatedCompatibilityOverrides:{tabletsUsePhoneDisplayMode:!0},render:()=>(0,g.jsx)(m,{children:(0,g.jsxs)("div",{className:x,children:[!y.device.isMobile&&(0,g.jsx)(h,{loginModalStore:t,loginStore:i,onDismiss:v}),(0,g.jsx)(d().Yo,{...w})]})})})}function m(e){let{children:t}=e;return(0,r().v3)().device.isMobile?(0,g.jsx)(c().H,{type:u().A.Y,children:t}):t}function h(e){let{loginModalStore:t,loginStore:i,onDismiss:o}=e;const r=(0,s().DP)();return(0,g.jsx)("div",{style:{fontSize:14,color:r.text.secondary,position:"absolute",right:0,marginTop:16,marginRight:16,cursor:"pointer",zIndex:1},onClick:()=>{f({loginModalStore:t,loginStore:i,onDismiss:o})},children:(0,g.jsx)(a().sA,{defaultMessage:"Cancel",id:"sidebarSwitcherMultiAccount.addAccountModal.cancelButton.label"})})}function f(e){const{loginModalStore:t,loginStore:i,onDismiss:o}=e;i.reset(),t.setState({open:!1}),o&&o()}}}]);