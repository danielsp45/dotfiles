"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[8340,47381],{136768:(e,t,s)=>{s.r(t),s.d(t,{TopbarAmbientSuggestTranslateButton:()=>w,TranslateBanner:()=>M().TranslateBanner});var n=s(296540),a=()=>s(484714),i=()=>s(56366),o=()=>s(401497),r=()=>s(318890),l=()=>s(66913),g=()=>s(413267),u=()=>s(644161),c=()=>s(959013),d=()=>s(534177),m=()=>s(910302),b=()=>s(755199),p=()=>s(2220),h=()=>s(704152),f=()=>s(285790),v=()=>s(614415),S=()=>s(745766),x=()=>s(645873),y=()=>s(737230),I=()=>s(448360),B=()=>s(948914),L=s(474848);const k=(0,c().YK)({translateToLabel:{defaultMessage:"Translate to {language}",id:"topbar.ambientSuggestTranslate.label"},dismissLabel:{defaultMessage:"Dismiss translation suggestion",id:"topbar.ambientSuggestTranslate.dismiss"},acceptSuggestionLabel:{defaultMessage:"Stop showing translation suggestions.",id:"topbar.ambientSuggestTranslate.accept"},dismissSuggestionLabel:{defaultMessage:"Dismiss translation suggestion for this page, but keep suggesting translations.",id:"topbar.ambientSuggestTranslate.dismissSuggestionLabel"}});function w(e){const{value:t}=(0,x().fJ)(v().fM),[s,a]=n.useState("suggesting");return t?"suggesting"===s?(0,L.jsx)(T,{...e,framerMotion:t,showDismissForeverMessage:()=>{a("dismissing")}}):"dismissing"===s?(0,L.jsx)(P,{suggestedPageTranslationLanguage:e.suggestedPageTranslationLanguage,detectedPageLanguage:e.detectedPageLanguage,store:e.store,onDismiss:()=>{e.setTranslationSuggestionDismissed(),a("suggesting")}}):(0,d().HB)(s):null}function T(e){let{store:t,isVisible:s,compact:g,framerMotion:d,suggestedPageTranslationLanguage:b,detectedPageLanguage:p,setTranslationSuggestionDismissed:v,showDismissForeverMessage:x}=e;const{AnimatePresence:I,motion:w}=d,T=(0,a().v3)(),P=(0,c().tz)(),M=(0,i().O$)(B().b),j=(0,i().K8)((()=>y().Ay.state.expanded),[]),C=(0,n.useMemo)((()=>g||j),[g,j]),A=(0,o().IS)((e=>({button:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:256,color:e.text.uiBluePrimary,gap:2,height:28,background:e.palette.uiBlue[100],...(0,S().g)({noDrag:T.device.isElectron&&!M})},hoveredButton:{background:e.palette.uiBlue[200]},pressedButton:{background:e.palette.uiBlue[300]},translateIcon:{height:18,width:18,marginLeft:9,marginRight:3},text:{fontSize:14,lineHeight:1.428},closeIcon:{height:14,width:14,fill:e.text.uiBlueSecondary},closeIconHovered:{background:e.palette.uiBlue[200]},closeIconPressed:{background:e.palette.uiBlue[300]},dismissIconContainer:{borderRadius:14,marginRight:2,marginTop:2,marginBottom:2}})),[T.device.isElectron,M]),_=(0,n.useCallback)((()=>{m().Z9({pageStore:t,environment:T}),m().Ww({pageStore:t,targetLanguage:b,sourceLanguage:p,environment:T,triggeredFrom:"ambient_suggestion"}),v()}),[T,t,p,b,v]),D=(0,n.useRef)(null),H=(0,n.useCallback)((()=>{C?v():x()}),[C,v,x]);return(0,L.jsx)(I,{children:s&&(0,L.jsx)(w.div,{ref:D,initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.1},children:(0,L.jsxs)(h().A,{style:A.button,hoveredStyle:A.hoveredButton,pressedStyle:A.pressedButton,onClick:_,ariaLabel:P.formatMessage((0,u().Bj)(b)),children:[(0,r().K)(A.translateIcon),(0,L.jsx)(I,{initial:j,children:!C&&(0,L.jsx)(w.div,{initial:{width:0},exit:{width:0},animate:{width:"auto"},transition:{duration:.1},style:A.text,children:(0,L.jsx)(c().sA,{...k.translateToLabel,values:{language:P.formatMessage((0,u().Bj)(b))}})})}),(0,L.jsx)(f().A,{style:A.dismissIconContainer,icon:l().V,iconStyle:A.closeIcon,hoveredStyle:A.closeIconHovered,pressedStyle:A.closeIconPressed,onClick:H,ariaLabel:P.formatMessage(k.dismissLabel)})]},"button")})})}function P(e){const{store:t,suggestedPageTranslationLanguage:s,detectedPageLanguage:i,onDismiss:r}=e,u=(0,c().tz)(),d=(0,a().v3)(),m=(0,n.useCallback)((()=>{r(),I().W.setState(!0),b().h9(d),(0,p().u)({environment:d,event:{eventName:"click_dismiss_translation_suggestion_forever",eventProperties:{source_language:i,suggested_language:s,page_id:t.id}}})}),[r,d,t,i,s]),h=(0,o().IS)((e=>({wrapper:{display:"flex",alignItems:"center",color:e.text.uiBluePrimary,fontSize:14,lineHeight:1.428,gap:6},iconWrapper:{display:"flex",alignItems:"center"},iconContainer:{borderRadius:"100%",marginTop:2,marginBottom:2},checkIcon:{height:13,width:13,fill:e.text.uiBluePrimary},closeIcon:{height:14,width:14,fill:e.text.uiBluePrimary},blueIconHover:{background:e.palette.uiBlue[200]},blueIconPressed:{background:e.palette.uiBlue[300]}})),[]);return(0,L.jsxs)("div",{style:h.wrapper,children:[(0,L.jsx)(c().sA,{defaultMessage:"Stop showing translation suggestions?",id:"topbar.ambientSuggestTranslate.dismissConfirmation"}),(0,L.jsxs)("div",{style:h.iconWrapper,children:[(0,L.jsx)(f().A,{style:h.iconContainer,icon:g().b,iconStyle:h.checkIcon,onClick:m,ariaLabel:u.formatMessage(k.acceptSuggestionLabel),hoveredStyle:h.blueIconHover,pressedStyle:h.blueIconPressed}),(0,L.jsx)(f().A,{style:h.iconContainer,icon:l().V,iconStyle:h.closeIcon,onClick:r,ariaLabel:u.formatMessage(k.dismissSuggestionLabel),hoveredStyle:h.blueIconHover,pressedStyle:h.blueIconPressed})]})]})}var M=()=>s(151985)},413267:(e,t,s)=>{s.d(t,{b:()=>a});s(296540);var n=s(474848);const a=(0,s(340498).wt)("thinCheck",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M6.385 14.162c.362 0 .642-.15.84-.444L13.652 3.71c.144-.226.205-.417.205-.602 0-.485-.341-.82-.833-.82-.335 0-.54.123-.746.444l-5.926 9.4-3.042-3.903c-.205-.267-.417-.376-.718-.376-.492 0-.848.348-.848.827 0 .212.075.417.253.629l3.541 4.416c.24.3.492.437.848.437z"})})},614415:(e,t,s)=>{s.d(t,{Wx:()=>i,fM:()=>n,sM:()=>a});const n=new(s(645873).O2)("framer-motion",(async()=>await Promise.all([s.e(44711),s.e(53321),s.e(37043)]).then(s.bind(s,301716))));function a(e){return e.useAnimation()}function i(e){for(var t=arguments.length,s=new Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return e.useInView(...s)}}}]);