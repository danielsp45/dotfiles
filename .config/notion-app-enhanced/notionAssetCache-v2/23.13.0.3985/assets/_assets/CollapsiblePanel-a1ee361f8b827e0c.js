"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[35905],{829298:(e,t,i)=>{i.r(t),i.d(t,{CollapsiblePanel:()=>k});var r=i(296540),a=()=>i(484714),o=()=>i(819121),s=()=>i(93583),l=()=>i(401497),n=()=>i(959013),d=()=>i(496603),c=()=>i(778417),u=()=>i(553965),h=()=>i(906537),g=()=>i(346923),b=()=>i(962730),p=()=>i(145214),v=()=>i(84817),z=()=>i(603820),x=()=>i(545805),f=()=>i(554509),w=()=>i(859428),m=i(474848);const C=10;function k(e){const{isOpen:t,anchorToSide:i,children:a,isResizable:o=!1,minSize:s=200,maxSize:n=600,onWidthChange:d,onClose:c,keyboardShortcut:u}=e,h=(0,g().l)(e.width),[b,z]=(0,r.useState)({width:h,isOpen:t});(0,r.useEffect)((()=>{z((e=>e.isOpen!==t?{...e,isOpen:t,width:{size:h.size,speed:"animate"}}:{...e,width:h}))}),[t,h]);const x=(0,r.useCallback)((e=>{if(!o)return;const t={size:e,speed:"immediate"};z((e=>({...e,width:t}))),null==d||d(t)}),[o,d]),f=(0,l().IS)((()=>({outer:{overflow:"hidden",height:"100%",position:"relative",minWidth:0},inner:{overflow:"hidden",height:"100%"},borderArea:{position:"absolute",top:0,height:"100%",zIndex:100,display:"flex",right:"left"===i?0:void 0,left:"right"===i?0:void 0}})),[i]),w="left"===i?-b.width.size:b.width.size,C=o?(0,m.jsx)(y,{size:b.width.size,minSize:s,maxSize:n,anchorToSide:i,onSizeChange:x,onClose:c,keyboardShortcut:u}):(0,m.jsx)(S,{}),k="animate"===b.width.speed;return(0,m.jsx)(p().A,{visible:b.isOpen,style:f.outer,forceCompositeLayer:!0,initial:{width:0},animate:{width:b.width.size},exit:{width:0},skip:!k,children:(0,m.jsx)(p().A,{visible:b.isOpen,style:f.inner,forceCompositeLayer:!0,initial:{opacity:.7,translateX:w,width:b.width.size},exit:{opacity:.7,translateX:w,width:b.width.size},animate:{opacity:1,translateX:0,width:b.width.size},skip:!k,children:(0,m.jsxs)(v().Y1,{direction:"horizontal",height:"fill",width:"fill",children:[a,(0,m.jsx)("div",{style:f.borderArea,children:C})]})})})}function S(){const e=(0,l().IS)((e=>({separator:{width:1,backgroundColor:e.stroke.secondary}})),[]);return(0,m.jsx)("div",{style:e.separator})}function y(e){const{size:t,anchorToSide:i,minSize:g,maxSize:p,onSizeChange:v,onClose:k,keyboardShortcut:S}=e,y=(0,n().tz)(),j=(0,a().v3)(),{device:R}=j,[M,A]=(0,r.useState)(!1),[D,E]=(0,r.useState)({x:0,y:0}),[T,I]=(0,o().A)(),O=(0,r.useRef)(null),X=(0,s().A)(T,O),L=(0,r.useRef)(null),P=(0,r.useRef)(!1),_=(0,r.useCallback)((e=>Math.max(g,Math.min(p,e))),[g,p]),F=(0,r.useCallback)((e=>{c().IU({environment:j}),L.current={startX:e.currentX,startSize:t},P.current=!1}),[j,t]),W=(0,r.useCallback)((e=>{if(!L.current)return;h().clear(j),P.current=!0;const{startX:t,startSize:r}=L.current,a=e.currentX-t,o=_("right"===i?r-a:r+a);null==v||v(o)}),[i,j,_,v]),B=(0,r.useCallback)((()=>{!P.current&&k&&k(),L.current=null}),[k]),N=(0,r.useCallback)((()=>{L.current=null}),[]),q=(0,r.useCallback)((()=>{var e;const t=null===(e=O.current)||void 0===e?void 0:e.getBoundingClientRect();t&&E((e=>({x:t.left+t.width/2,y:e.y||t.top+t.height/2})))}),[]),U=(0,r.useCallback)((e=>{var t;A(!0);const i=null===(t=O.current)||void 0===t?void 0:t.getBoundingClientRect();i&&E({x:i.left+i.width/2,y:e.clientY})}),[]),Y=(0,r.useCallback)((()=>{A(!0)}),[]),G=(0,r.useCallback)((()=>{A(!1)}),[]),H=(0,r.useCallback)((()=>{const e=_(t-C);null==v||v(e),requestAnimationFrame(q)}),[t,_,v,q]),V=(0,r.useCallback)((()=>{const e=_(t+C);null==v||v(e),requestAnimationFrame(q)}),[t,_,v,q]),J=(0,r.useCallback)((()=>{k&&k()}),[k]);(0,r.useEffect)((()=>{requestAnimationFrame(q)}),[I,q]);const K=(t-g)/(p-g),Q=e=>(0,m.jsx)(f().D,{as:"span",colorName:"contrastSecondary",children:e}),Z=(0,r.useCallback)((()=>{const e=Boolean(k),t=Boolean(S);return e&&t?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(n().sA,{defaultMessage:"Close <invertedcolor>Click or {keyboardShortcut}</invertedcolor>",id:"collapsiblePanelResizer.tooltip.closeWithShortcut",values:{invertedcolor:Q,keyboardShortcut:S}}),(0,m.jsx)("br",{}),(0,m.jsx)(n().sA,{defaultMessage:"Resize <invertedcolor>Drag</invertedcolor>",id:"collapsiblePanelResizer.tooltip.resizeMessage",values:{invertedcolor:Q}})]}):e?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(n().sA,{defaultMessage:"Close <invertedcolor>Click</invertedcolor>",id:"collapsiblePanelResizer.tooltip.closeMessage",values:{invertedcolor:Q}}),(0,m.jsx)("br",{}),(0,m.jsx)(n().sA,{defaultMessage:"Resize <invertedcolor>Drag</invertedcolor>",id:"collapsiblePanelResizer.tooltip.resizeMessage",values:{invertedcolor:Q}})]}):(0,m.jsx)(n().sA,{defaultMessage:"Resize <invertedcolor>Drag</invertedcolor>",id:"collapsiblePanelResizer.tooltip.resizeMessage",values:{invertedcolor:Q}})}),[k,S]),$="left"===i?H:V,ee="right"===i?H:V,te=(0,l().IS)((e=>({wrapper:{height:"100%",zIndex:1},draggable:{cursor:"col-resize",height:"100%",width:12,position:"absolute",..."right"===i?{left:0}:{right:0},top:0},resizer:{position:"absolute",..."right"===i?{left:0}:{right:0},top:0,height:"100%",width:1,backgroundColor:M?e.stroke.primary:e.stroke.secondary,pointerEvents:"none"}})),[i,M]);return R.isChromebook?null:(0,m.jsx)(x().A,{capture:I,debugName:"SidebarResizer",onLeft:$,onRight:ee,onUp:d().D_,onDown:d().D_,onTab:d().D_,onUntab:d().D_,onEnter:J,children:(0,m.jsx)(w().A,{renderTooltip:Z,originRect:new DOMRect(D.x,D.y,0,0),placement:"right"===i?b().W.Left:b().W.Right,originGap:16,delayThreshold:0,render:e=>(0,m.jsxs)("div",{className:"wrapper",style:te.wrapper,...(0,u().A)(e,{onMouseMove:Y,onMouseLeave:G,onMouseEnter:U}),children:[(0,m.jsx)("div",{style:te.resizer}),(0,m.jsx)(z().A,{onDraggableDragStart:F,onDraggableDragMove:W,onDraggableDragEnd:B,onDraggableDragCancel:N,disableVerticalEdgeScroll:!0,disableHorizontalEdgeScroll:!0,render:e=>(0,m.jsx)("div",{className:"separator",ref:X,role:"separator",tabIndex:0,"aria-label":y.formatMessage({id:"sidebarResizer.tooltip.resizeLabel",defaultMessage:"Resize with left and right arrow keys"}),"aria-orientation":"vertical","aria-valuenow":Math.round(100*K),"aria-valuemin":0,"aria-valuemax":100,style:te.draggable,...e})})]})})})}}}]);