"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[58657],{465677:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});n(898992),n(354520),n(581454),n(737550);var o=n(296540),i=()=>n(484714),s=()=>n(56366),r=()=>n(798880),a=()=>n(112069),l=()=>n(534177),d=()=>n(939768),c=()=>n(780054),u=()=>n(682497),h=()=>n(124749),p=()=>n(331542),g=n(474848);function v(e){const{redirectUri:t}=e,[n,v]=(0,o.useState)(!0),[f,x]=(0,o.useState)(!1),b=(0,i().v3)(),m=(0,s().K8)((()=>b.currentUser.loggedInUserIds),[b]),k=(0,h().$)(),y=(0,s().K8)((()=>k?m.map((e=>k.getRecordModel({table:r().oo,id:e}))).filter(l().O9):[]),[k,m]),I=(0,o.useCallback)((()=>{m.length!==y.length||f||v(!1)}),[m,y,f]);return(0,o.useEffect)((()=>{var e;if(!t)return void v(!1);const n=decodeURIComponent(t),o=d().bk(n)&&d().qg(n);if(!o||(i=o,s=c().A,!i.host||"local"!==s.env&&!s.domainBaseUrl.includes(i.host)&&!a().IM[s.env].includes(i.host)))return void v(!1);var i,s;let r;if(null!==(e=o.path)&&void 0!==e&&e.includes("/eap/app")){const e=decodeURIComponent(n),t=d().qg(e).query.notion_state,o=t&&JSON.parse(t);r=o?o.userId:void 0}else r=o.query.notion_user_id;y.some((e=>e.id===r))?(x(!0),window.location.href=n):I()}),[t,y,I]),(0,g.jsx)("div",{style:{height:"100%"},children:n?(0,g.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",flexWrap:"wrap",height:"100%"},children:(0,g.jsx)(p().A,{legacySize:20})}):(0,g.jsx)(u().o,{route:{name:"initiateExternalAuthenticationFromDesktop"},publicPageData:void 0})})}}}]);