"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[2411,5287,5834,34208,67608],{346:(e,t,o)=>{o.d(t,{MG:()=>h,T1:()=>g,a1:()=>b,dt:()=>m,kg:()=>f,lC:()=>x,n_:()=>v});var n=o(296540),i=()=>o(484714),r=()=>o(56366),a=()=>o(187174),s=()=>o(645873),l=()=>o(941463),d=()=>o(441199),c=()=>o(749687),u=()=>o(737230),p=()=>o(756114);const g=new(s().O2)("PerformanceToolbar",(()=>Promise.all([o.e(16471),o.e(92845),o.e(84468),o.e(48632),o.e(75078),o.e(95168),o.e(36908),o.e(21194),o.e(23930),o.e(61347),o.e(45624)]).then(o.bind(o,462407)))),h=(0,s()._h)(g,(e=>e.PerformanceToolbar)),m=(0,s()._h)(g,(e=>e.PerformanceToolbarSettings));function f(){const e=(0,i().v3)();return(0,r().K8)((()=>(0,p().D)(e,e.RouterStore.state)),[e])}function v(){const e=(0,i().v3)(),t=y("PerformanceToolbarStore"),o=y("isPerformanceToolbarVisible");return(0,r().K8)((()=>!(!t||!o)&&o(e,e.RouterStore.state,t.state)),[o,e,t])}function x(){const e=y("PerformanceToolbarStore");return(0,r().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function b(){const e=(0,i().v3)(),t=y("createPerformanceToolbarMouseListeners"),o=y("PerformanceToolbarStore"),{sidebarExpanded:a,sidebarWidth:s,secondarySidebarExpanded:p,secondarySidebarWidth:g,updateSidebarExpanded:h,updateSidebarWidth:m}=(0,r().K8)((()=>({sidebarExpanded:c().sidebarExpandedStore.state,sidebarWidth:c().sidebarWidthStore.state,secondarySidebarExpanded:d().default.isOpen(),secondarySidebarWidth:l().Ay.getWidth(),updateSidebarExpanded:u().Ay.state.expanded,updateSidebarWidth:u().Ay.state.width})),[]);return(0,n.useEffect)((()=>{if(o&&t)return t(e,(e=>o.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),a,s,p,g,h,m)}),[t,e,o,a,s,p,g,h,m])}function y(e){const t=f(),[{value:o}]=(0,a().Yb)((()=>t?g.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return o}},29037:(e,t,o)=>{o.r(t),o.d(t,{checkmarkIcon:()=>i,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.92 3.91 12.17 12.18",svg:(0,o(474848).jsx)("path",{d:"M15.784 4.002a.625.625 0 0 1 .214.857L9.445 15.784a.625.625 0 0 1-1.01.085l-4.37-5.098a.625.625 0 0 1 .948-.814l3.806 4.44 6.109-10.181a.625.625 0 0 1 .857-.214"})},i=(0,o(340498).wt)("checkmark",n)},63467:(e,t,o)=>{o.d(t,{y:()=>c});var n=()=>o(637997),i=()=>o(267419);const r={ko:()=>o.e(2268).then(o.bind(o,224434)),es:()=>o.e(95264).then(o.bind(o,196425)),de:()=>o.e(35390).then(o.bind(o,653703)),fr:()=>o.e(3272).then(o.bind(o,94677)),pt:()=>o.e(27315).then(o.bind(o,766869)),zh:()=>o.e(69945).then(o.bind(o,516814)),ja:()=>o.e(77757).then(o.bind(o,824432)),da:()=>o.e(9423).then(o.bind(o,440761)),fi:()=>o.e(59337).then(o.bind(o,462135)),nb:()=>o.e(2040).then(o.bind(o,937314)),nl:()=>o.e(51106).then(o.bind(o,530897)),sv:()=>o.e(53631).then(o.bind(o,895222)),id:()=>o.e(69945).then(o.bind(o,516814)),th:()=>o.e(69945).then(o.bind(o,516814)),vi:()=>o.e(69945).then(o.bind(o,516814))};let a=!1,s=!1;async function l(e){for(const[o,i]of Object.entries(e.emojiLocaleKeywords)){var t;n().fB[o]={...n().fB[o],keywords:[...i,...(null===(t=n().fB[o])||void 0===t?void 0:t.keywords)||[]]}}await i().A.waitUntilLoaded(),i().A.update((t=>{let{emojiByName:o,...n}=t;return{...n,emojiByName:{...o,...e.emojiByName}}}))}async function d(){if(a)return;const[e]=o(662303).locale.split("-");e in r&&(await l(await r[e]()),a=!0)}const c=(0,o(279900).A)((async()=>{await async function(){s||(await l(await o.e(51872).then(o.bind(o,443716))),s=!0)}(),await d()}))},73223:(e,t,o)=>{o.r(t),o.d(t,{dismissTutorial:()=>c,resetTutorials:()=>u,tutorialAdvanceToStep:()=>p,tutorialAdvanceToStepAfter:()=>g,tutorialGoToNextStep:()=>l,tutorialGoToPrevStep:()=>d});var n=()=>o(541235),i=()=>o(751156),r=()=>o(755199),a=()=>o(739135),s=()=>o(765957);function l(e,t){var o;const{currentUserSettingsStore:n}=s().default.state;if(!n)return;const i=null===(o=n.getSettings())||void 0===o?void 0:o.tutorials;h({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{r().mJ({userSettingsStore:n,transaction:e,data:{tutorials:{...i,[t]:(0,a().i9)(n,t)}}})},userId:n.id})}function d(e,t){var o;const{currentUserSettingsStore:n}=s().default.state;if(!n)return;const i=null===(o=n.getSettings())||void 0===o?void 0:o.tutorials;h({userAction:"TutorialActions.prevStep",environment:e,perform:e=>{r().mJ({userSettingsStore:n,transaction:e,data:{tutorials:{...i,[t]:(0,a().KD)(n,t)}}})},userId:n.id})}function c(e,t){var o;const{currentUserSettingsStore:i}=s().default.state;if(!i)return;const a=null===(o=i.getSettings())||void 0===o?void 0:o.tutorials;(null==a?void 0:a[t])!==n().YD&&h({userAction:"TutorialActions.dismissTutorial",environment:e,perform:e=>{r().mJ({userSettingsStore:i,transaction:e,data:{tutorials:{...a,[t]:n().YD}}})},userId:i.id})}function u(e){const{currentUserSettingsStore:t}=s().default.state;t&&h({userAction:"TutorialActions.resetTutorialsDebug",environment:e,perform:e=>{r().mJ({userSettingsStore:t,transaction:e,data:{tutorials:{}}})},userId:t.id})}function p(e,t,o){var i;const{currentUserSettingsStore:l}=s().default.state;if(!l||(0,a().x$)(l,t))return;const d=(0,a().gt)(l,t);n().c$[t].steps.findIndex((e=>e.id===d))>=n().c$[t].steps.findIndex((e=>e.id===o))||r().mJ({userSettingsStore:l,transaction:e,data:{tutorials:{...null===(i=l.getSettings())||void 0===i?void 0:i.tutorials,[t]:o}}})}function g(e,t,o){if((0,a().ll)(o))return;const n=(0,a().tb)(t,o);n&&p(e,t,n)}function h(e){return i().createAndCommit({...e,canUndo:!1})}},77279:(e,t,o)=>{o.r(t),o.d(t,{default:()=>i});class n extends(()=>o(757695))().Store{getInitialState(){return{discussionIdToExpansionStartPointMap:{}}}}const i=new n},105819:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,pencilLineIcon:()=>i});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.63 4.12 14.99 11.76",svg:(0,o(474848).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},i=(0,o(340498).wt)("pencilLine",n)},115562:(e,t,o)=>{o.d(t,{W:()=>l});o(296540);var n=()=>o(819121),i=()=>o(401497),r=()=>o(955825),a=()=>o(677195),s=o(474848);function l(e){const{selectorSize:t="normal",...o}=e,{disabled:l,checked:d}=o,[c,u]=(0,n().A)(),p=function(e){const{checked:t,disabled:o,isFocusVisible:n,selectorSize:r}=e;return(0,i().IS)((e=>({root:{position:"absolute",display:"flex",width:"large"===r?15:11,height:"large"===r?15:11,margin:1.5,justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"large"===r?2:1,transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${o?e.tint.regular:e.blueColor}`,background:o?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${o?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...n&&{boxShadow:e.buttonBlueFocusRing}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"large"===r?18:void 0,height:"large"===r?18:void 0,...o?{pointerEvents:"none"}:{cursor:"pointer"}},icon:{color:e.text.contrastPrimary,width:"large"===r?12:10,height:"large"===r?12:10,ariaHidden:!0}})),[r,t,o,n])}({checked:d,disabled:l,selectorSize:t,isFocusVisible:u});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{ref:c,type:"checkbox",style:p.input,...o}),(0,s.jsx)("span",{...(0,r().AH)(p.root,l?{}:{pseudoActive:p.active}),children:d&&(0,a().R)(p.icon)})]})}},132389:(e,t,o)=>{o.d(t,{A:()=>i});o(296540);var n=o(474848);function i(e){const t={display:"inline-block",minWidth:e.size,minHeight:e.size};return"x"===e.axis?t.minHeight=1:"y"===e.axis&&(t.minWidth=1),(0,n.jsx)("div",{style:t})}},132855:(e,t,o)=>{o.r(t),o.d(t,{arrowInCircleUpFillIcon:()=>i,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,o(474848).jsx)("path",{d:"M10 17.625a7.625 7.625 0 1 0 0-15.25 7.625 7.625 0 0 0 0 15.25m3.042-8.07a.625.625 0 0 1-.884 0L10.625 8.02v5.466a.625.625 0 1 1-1.25 0V8.021L7.842 9.554a.625.625 0 1 1-.884-.883l2.6-2.6a.625.625 0 0 1 .884 0l2.6 2.6a.625.625 0 0 1 0 .883"})},i=(0,o(340498).wt)("arrowInCircleUpFill",n)},207207:(e,t,o)=>{o.d(t,{J:()=>i});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.62 2.62 15.26 15.26",svg:(0,o(474848).jsx)("path",{d:"M8.875 2.625a6.25 6.25 0 1 0 3.955 11.09l3.983 3.982a.625.625 0 1 0 .884-.884l-3.983-3.982a6.25 6.25 0 0 0-4.84-10.205m-5 6.25a5 5 0 1 1 10 0 5 5 0 0 1-10 0"})},i=(0,o(340498).wt)("magnifyingGlass",n)},240865:(e,t,o)=>{o.d(t,{V:()=>r});var n=()=>o(56366),i=()=>o(765957);function r(e){return(0,n().K8)((()=>{var t;return e?e.getMemberCountFromPublicSpaceData()??void 0:(null===(t=i().default.state.currentSpaceStore)||void 0===t?void 0:t.getMemberCountFromPublicSpaceData())??void 0}),[e])}},271084:(e,t,o)=>{o.d(t,{k:()=>i});o(581454);class n extends(()=>o(757695))().Store{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}getSortedUserIds(){return Object.entries(this.state||{}).sort(((e,t)=>{let[o,n]=e,[i,r]=t;return r-n})).map((e=>{let[t,o]=e;return t}))}}const i=new n;(0,o(604341).exposeDebugValue)("UserSimilarityStore",i)},279900:(e,t,o)=>{function n(e){let t,o,n;return async function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t?(n=r,o||(o=t.then((()=>(o=void 0,t=e(...n),t))),o)):(t=e(...r),t)}}o.d(t,{A:()=>n})},406533:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>i,questionMarkCircleIcon:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.26 15.25",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M9.978 7.154c-.804 0-1.333.456-1.438.874a.625.625 0 0 1-1.213-.303c.28-1.121 1.44-1.82 2.65-1.82 1.365 0 2.714.905 2.714 2.298 0 .812-.49 1.477-1.13 1.872l-.755.516a.84.84 0 0 0-.381.677.625.625 0 1 1-1.25 0c0-.688.36-1.318.921-1.706l.003-.002.784-.535.014-.008c.374-.228.544-.537.544-.814 0-.459-.517-1.049-1.463-1.049m.662 6.336a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,n.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},r=(0,o(340498).wt)("questionMarkCircle",i)},413267:(e,t,o)=>{o.d(t,{b:()=>i});o(296540);var n=o(474848);const i=(0,o(340498).wt)("thinCheck",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M6.385 14.162c.362 0 .642-.15.84-.444L13.652 3.71c.144-.226.205-.417.205-.602 0-.485-.341-.82-.833-.82-.335 0-.54.123-.746.444l-5.926 9.4-3.042-3.903c-.205-.267-.417-.376-.718-.376-.492 0-.848.348-.848.827 0 .212.075.417.253.629l3.541 4.416c.24.3.492.437.848.437z"})})},454531:(e,t,o)=>{o.d(t,{W:()=>m});var n=()=>o(780054),i=()=>o(972435),r=()=>o(867772),a=()=>o(681810),s=()=>o(901389),l=()=>o(896628),d=()=>o(383594),c=()=>o(675925),u=()=>o(751156),p=()=>o(892632);const g=1500,h=(0,o(959013).YK)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},preparing:{defaultMessage:"Preparing...",id:"pageCover.status.preparing"},downloading:{defaultMessage:"Downloading...",id:"pageCover.status.downloading"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image link…",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function m(e){let{environment:t,intl:o,store:n,rect:i,from:r}=e;d().W(t,{originGap:3,originRect:i,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:o.formatMessage(h.pageCover),onDelete:()=>{!function(e){let{environment:t,store:o}=e;d().I(),u().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{l().PT({store:o,transaction:e})}})}({environment:t,store:n})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:o,position:i}=e;(0,c().o)(t,{action:"edit_cover",block_type:"page",from:r},(e=>{v({environment:t,store:n,url:{originUrl:o},position:i}),e()}))}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:o.formatMessage(h.fileTypeCaption,{idealImageWidth:g}),onUpload:e=>{(0,c().o)(t,{action:"edit_cover",block_type:"page",from:r},(i=>{var r;d().I(),p().QM({environment:t,file:e[0],bucket:"secure",record:(null===(r=n.getCoverStore())||void 0===r?void 0:r.pointer)??n.pointer,isFileBlock:!1,reportRichUploadMetrics:!0,onStart:x,onProgress:b,onComplete:e=>{var o;o={environment:t,store:n,url:{originUrl:e}},f({...o,position:.5})},onError:()=>{s().f1(o.formatMessage(h.uploadFailed))}}),i()}))}},{type:"embed",title:o.formatMessage(h.embedTitle),inputPlaceholder:o.formatMessage(h.embedPlaceholder),caption:o.formatMessage(h.embedCaption),buttonText:o.formatMessage(h.embedSubmit),onChange:e=>{(0,c().o)(t,{action:"edit_cover",block_type:"page",from:r},(o=>{var i;i={environment:t,store:n,url:e},f({...i,position:.5}),d().I(),o()}))}},{type:"unsplash",onChange:e=>{let{url:o,position:i}=e;(0,c().o)(t,{action:"edit_cover",block_type:"page",from:r},(e=>{v({environment:t,store:n,url:{originUrl:o},position:i}),e()}))}}]})}async function f(e){const{environment:t,store:o,url:n,position:s}=e,{serverCommitResult:d}=u().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{l().fg({store:o,url:n,position:s||.5,transaction:e})}});await d,a().A.state.loadingMode===r().vS&&a().A.setState({loadingMode:r().Gi,dataURL:a().A.state.dataURL,uploadProgress:t.device.isMobileNative?void 0:100,progressText:i().A.formatMessage(h.downloading)})}function v(e){f(e),n().A.isMobile&&d().I()}function x(e){const{file:t,name:o,size:n}=e;if(d().I(),a().A.setState({loadingMode:r().Wc,file:t,name:o,size:n}),t.type.indexOf("image")>=0)if(t instanceof File){const e=new FileReader;e.onload=e=>{a().A.state.loadingMode===r().Wc&&a().A.setState({...a().A.state,loadingMode:r().vS,uploadProgress:0,dataURL:e.target.result})},e.readAsDataURL(t)}else a().A.state.loadingMode===r().Wc&&a().A.setState({...a().A.state,loadingMode:r().vS,dataURL:t.dataURL,progressText:i().A.formatMessage(h.preparing)});else a().A.state.loadingMode===r().Wc&&a().A.setState({...a().A.state,loadingMode:r().vS,progressText:i().A.formatMessage(h.preparing)})}function b(e){const{progressPercent:t,progressText:o}=e;a().A.state.loadingMode===r().vS&&a().A.setState({...a().A.state,uploadProgress:t,progressText:o})}},477293:(e,t,o)=>{o.d(t,{r:()=>r});var n=()=>o(56366),i=()=>o(217429);function r(e){let{disableExposureLogging:t,disableEventTrailLogging:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n().K8)((()=>i().default.getEligibleGroup({experimentId:e,defaultGroup:"control",disableExposureLogging:t,disableEventTrailLogging:o})),[e,t,o])}},505108:(e,t,o)=>{o.d(t,{a:()=>g});var n=o(296540),i=()=>o(401497),r=()=>o(534177),a=()=>o(284371),s=()=>o(84817),l=()=>o(819121),d=()=>o(955825),c=o(474848);function u(e){const{disabled:t,checked:o,selectorSize:n}=e,[r,a]=(0,l().A)(),s=function(e){const{checked:t,disabled:o,isFocusVisible:n,selectorSize:r}=e;return(0,i().IS)((e=>({root:{position:"absolute",display:"flex",width:15,height:15,padding:5,margin:1.5,justifyContent:"center",alignItems:"center",gap:8,flexShrink:0,borderRadius:"50%",transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${o?e.tint.regular:e.blueColor}`,background:o?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${o?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...n&&{boxShadow:e.buttonBlueFocusRing}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"small"===r?14:18,height:"small"===r?14:18,...o?{pointerEvents:"none"}:{cursor:"pointer"}}})),[t,o,n,r])}({checked:o,disabled:t,isFocusVisible:a,selectorSize:n});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{ref:r,type:"radio",style:s.input,className:"radio-button",...e}),(0,c.jsx)("span",{...(0,d().AH)("custom-radio-button",s.root,t?{}:{pseudoActive:s.active})})]})}var p=()=>o(554509);const g=n.forwardRef((function(e,t){let{additionalContent:o,description:r,isDisabled:l,isSelected:d,label:u,name:p,onChange:g,width:f="fill",selectorSize:v="normal",selectAlignXAxis:x="left",selectAlignYAxis:b="center",selectType:y="checkbox",style:S,supportText:C,value:k,colorName:A,alignAdditionalContent:w,...j}=e;const M=(0,n.useId)(),P=function(e){const{isSelected:t,isDisabled:o,selectAlignYAxis:n,alignAdditionalContent:r}=e;return(0,i().IS)((e=>{const i=t&&!o?e.blueColor:e.selectorBorderUnselected;return{container:{display:"flex",alignItems:r??"center",gap:12,userSelect:"none",padding:"9px 16px 10px 10px",borderRadius:6,border:`1px solid ${i}`,...!o&&{cursor:"pointer"}},title:{fontWeight:a().Wy.medium,fontSize:14,userSelect:"none",lineHeight:18},additionalContentWrapper:{flexShrink:0},selectorWrapper:{display:"flex",..."top"===n?{marginTop:2}:{}},rightAlignSelectorWrapper:{display:"flex"}}}),[t,o,n,r])}({isSelected:d,isDisabled:l,selectAlignYAxis:b,alignAdditionalContent:w}),R=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===b?"top-left":"center-left",gap:12,width:f,children:[(0,c.jsx)("div",{style:P.selectorWrapper,children:(0,c.jsx)(m,{id:M,selectType:y,name:p,value:k,onChange:g,isSelected:d,selectorSize:v,isDisabled:l,...j})}),(0,c.jsx)(h,{colorName:A,description:r,label:u,selectorSize:v,supportText:C,isDisabled:l})]}),T=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===b?"top-center":"center",gap:12,children:[(0,c.jsx)(h,{colorName:A,description:r,label:u,selectorSize:v,supportText:C,isDisabled:l}),(0,c.jsx)("div",{style:{...P.selectorWrapper,...P.rightAlignSelectorWrapper},children:(0,c.jsx)(m,{id:M,selectType:y,name:p,value:k,onChange:g,selectorSize:v,isSelected:d,isDisabled:l,...j})})]}),B=o?(0,c.jsx)("div",{style:P.additionalContentWrapper,children:o}):null;return(0,c.jsx)("label",{ref:t,style:{...P.container,...S},htmlFor:M,children:"left"===x?(0,c.jsxs)(c.Fragment,{children:[R,B]}):(0,c.jsxs)(c.Fragment,{children:[B,T]})})}));function h(e){const{description:t,label:o,supportText:n,selectorSize:i,isDisabled:a,colorName:l}=e;let d;return"large"===i?d="Page-Content/Text-Block":"normal"===i||void 0===i?d="Body-13px/Medium":"small"===i?d="Body-12px/Regular":(0,r().HB)(i),(0,c.jsxs)(s().Y1,{gap:4,children:[(0,c.jsxs)(s().Y1,{gap:2,children:[(0,c.jsx)(p().D,{styleName:d,colorName:l||(a?"quaternary":"primary"),children:o}),t?(0,c.jsx)(p().D,{styleName:"Caption-12px/Regular",colorName:a?"quaternary":"secondary",children:t}):null]}),n?(0,c.jsx)(p().D,{styleName:"Caption-12px/Medium",colorName:"tertiary",children:n}):null]})}function m(e){const{selectType:t,selectorSize:n="normal",id:a,name:s,value:l,onChange:d,isSelected:p,isDisabled:g,...h}=e,m=(0,i().IS)((()=>({checkboxWrapper:{minWidth:18,display:"flex",justifyContent:"center"}})),[]);switch(t){case"radio":return(0,c.jsx)(u,{id:a,name:s,value:l,onChange:d,checked:p,disabled:g,selectorSize:n,...h});case"checkbox":return(0,c.jsx)("div",{style:m.checkboxWrapper,children:(0,c.jsx)(o(115562).W,{id:a,name:s,value:l,onChange:d,checked:p,disabled:g,selectorSize:n,...h})});case"none":return null;default:(0,r().HB)(t)}}},541235:(e,t,o)=>{o.d(t,{YD:()=>r,c$:()=>n,q_:()=>i});const n={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]}},i="completed",r="dismissed"},544862:(e,t,o)=>{o.d(t,{A:()=>k});var n=o(296540),i=()=>o(484714),r=()=>o(56366),a=()=>o(959013),s=()=>o(896628),l=()=>o(454531),d=()=>o(751156),c=()=>o(478726),u=()=>o(227440),p=()=>o(867772),g=()=>o(681810),h=()=>o(608581),m=()=>o(145214),f=()=>o(704152),v=()=>o(807683),x=()=>o(401497),b=()=>o(534177),y=o(474848);function S(e){let{src:t,placeholderSrc:o,placeholderBehavior:i,imageStyle:r,containerStyle:a,onLoadComplete:s,testId:l}=e;const[d,c]=(0,n.useState)(!0);let u;switch(i){case"force-show-placeholder":u=!0;break;case"force-show-src":u=!1;break;case"show-placeholder-if-loading-src":u=!!o&&(d||void 0===t);break;default:(0,b().HB)(i)}const p=(0,x().IS)((()=>{const e={gridColumn:1,gridRow:1};return{container:{display:"grid",...a},srcWrapper:{...u&&{display:"none"},...e},placeholderWrapper:{pointerEvents:"none",...e}}}),[a,u]);(0,n.useEffect)((()=>{void 0!==t&&c(!0)}),[t]);const g=(0,n.useCallback)((e=>{c(!1),null==s||s()}),[s]);return(0,y.jsxs)("div",{style:p.container,children:[(0,y.jsx)(v().Ay,{src:t,onLoad:g,style:r,placeholderStyle:p.srcWrapper,placeholderLoadedStyle:p.srcWrapper,testId:l}),o&&(0,y.jsx)(v().Ay,{src:o,style:r,placeholderStyle:p.placeholderWrapper,placeholderLoadedStyle:p.placeholderWrapper})]})}var C=()=>o(453101);const k=function(e){let{store:t,disabled:a,paddingRight:l,paddingLeft:c,height:u,proxyWidth:h}=e;const m=(0,i().v3)(),f=(0,i().Y0)(),x=(0,r().uB)(void 0,o(454305).A),b=(0,r().K8)((()=>a||"suggest"===o(77246).Uv.getMode(t)||(0,o(600871).aD)(f)),[a,t,f]),C=(0,r().K8)((()=>t.getCover()),[t]),k=(0,r().O$)(g().A),[j,M]=(0,n.useState)(void 0);if(!C)return null;const P=k.loadingMode!==p().pF&&k.loadingMode!==p().Wc;return(0,y.jsx)(o(801678).A,{mouseStore:x,onFlushTemporaryPosition:e=>function(e,t,o){const{imagePosition:n,reset:i}=e;d().createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:o,canUndo:!0,perform:e=>{s().yY({store:t,coverPosition:n,transaction:e}),i()}})}(e,t,m),renderControl:e=>{let{handleRepositionClick:o,handleSavePositionClick:n,handleCancelClick:i,isVisible:r,isRepositioning:a}=e;return(0,y.jsx)(w,{handleRepositionClick:o,handleSavePositionClick:n,handleCancelClick:i,isVisible:r,isRepositioning:a,lastProxiedUrl:j,store:t,disabled:b,paddingRight:l,paddingLeft:c,mouseStore:x})},source:"page",store:t,style:{display:"flex",flexDirection:"column",alignItems:"center",height:u,maxHeight:280,cursor:"default"},preventClickPropagation:!0,render:e=>(0,y.jsxs)(n.Fragment,{children:[(0,y.jsx)(o(360083).A,{url:C.cover,isAuthenticated:!0,permissionRecord:C.pointer,width:h,onFinishedLoadingProxyUrl:M,render:(t,o)=>{const n={width:"100%",height:u,maxHeight:280,objectFit:"cover",opacity:P?.5:1,objectPosition:`center ${100*(1-(e.imagePosition||0))}%`,borderRadius:0},i={width:"100%",height:u,maxHeight:280};return(0,y.jsx)(S,{src:o,placeholderSrc:P?k.dataURL:void 0,placeholderBehavior:P?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:i,imageStyle:n,onLoadComplete:A,testId:"pageCover"})}}),P&&(0,y.jsxs)("div",{style:v().fd,children:[(0,y.jsx)(o(331542).A,{size:"md",style:{marginRight:4}}),(0,y.jsx)("div",{style:{minWidth:30,textAlign:"right"},children:void 0!==k.uploadProgress?(0,y.jsx)(o(773382).A,{percentage:k.uploadProgress}):k.progressText?(0,y.jsx)("span",{children:k.progressText}):null})]})]})})};function A(){g().A.reset()}function w(e){let{isVisible:t,isRepositioning:o,handleCancelClick:s,handleRepositionClick:d,handleSavePositionClick:v,lastProxiedUrl:x,store:b,disabled:S,paddingRight:k,paddingLeft:A,mouseStore:w}=e;const j=(0,i().v3)(),M=(0,a().tz)(),P=(0,n.useCallback)((e=>function(e,t,o,n,i){i.reset();const r=e.target.getBoundingClientRect();l().W({environment:t,intl:o,store:n,rect:r,from:"page_header"})}(e,j,M,b,w)),[j,M,b,w]),R=(0,r().K8)((()=>g().A.state.loadingMode),[]),T=(0,r().K8)((()=>function(e){let t;return t=Boolean(e.isFullWidth())?"100%":c().x6,t}(b)),[b]),{device:B}=j,I=(0,r().O$)(u().e);if(S||R!==p().pF||!I)return null;const{isMobile:L}=B;return(0,y.jsx)(m().A,{animate:{width:T,opacity:t?1:0},style:{position:"absolute",pointerEvents:t?"auto":"none",maxWidth:"100%",top:48},children:(0,y.jsxs)(h().A,{isVisible:t,position:"bottom",style:{marginRight:k,marginLeft:A},children:[!o&&(0,y.jsx)(f().A,{style:{borderRight:L?"none":void 0,...C().k},onClick:P,children:(0,y.jsx)(a().sA,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})}),!o&&!L&&(0,y.jsx)(f().A,{style:{...C().k,borderRight:"none"},onClick:e=>d(e,x),children:(0,y.jsx)(a().sA,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})}),o&&!L&&(0,y.jsx)(f().A,{style:C().k,onClick:v,children:(0,y.jsx)(a().sA,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})}),o&&!L&&(0,y.jsx)(f().A,{style:{...C().k,borderRight:"none"},onClick:s,children:(0,y.jsx)(a().sA,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"})})]})})}},555267:(e,t,o)=>{o.d(t,{A:()=>l});var n=o(296540),i=()=>o(401497),r=()=>o(62856),a=()=>o(331542),s=o(474848);function l(e){let{loadingMessage:t}=e;const o=(0,i().DP)(),l=(0,r().A)(!0,400);return(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l?(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(a().A,{}),t?(0,s.jsx)("div",{style:{marginLeft:8,color:o.text.secondary},children:t}):void 0]}):void 0})}},567121:(e,t,o)=>{o.d(t,{EG:()=>a,K5:()=>r,RH:()=>i,Yi:()=>s,ls:()=>n});const n=32,i=202,r=1e3,a="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",s="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},578194:(e,t,o)=>{o.d(t,{r:()=>n});const n=(0,o(583835).Dv)("importEvernote")},608581:(e,t,o)=>{o.d(t,{A:()=>u});o(898992),o(354520),o(581454),o(941795);var n=o(296540),i=()=>o(401497),r=()=>o(955825),a=()=>o(284371),s=()=>o(780054),l=()=>o(963575),d=o(474848);function c(e){const{button:t,isLast:o}=e,s=(0,i().IS)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:a().Wy.medium,borderRight:`1px solid ${e.regularDividerColor}`,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor},buttonLast:{borderRight:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return n.cloneElement(t,{...(0,r().AH)(t.props.style,s.button,o&&s.buttonLast),hoveredStyle:(0,r().AH)(s.buttonHovered,o&&s.buttonLast).style,pressedStyle:s.buttonPressed})}const u=function(e){let{children:t,isVisible:u,position:p,style:g}=e;const h=(0,i().IS)((e=>({container:{color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.shadowSM,display:"flex",whiteSpace:"nowrap",borderRadius:l().A.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:s().A.isMobile?"auto":"none",opacity:s().A.isMobile?1:0,fontFamily:a().vc(o(662303).locale).sans,position:"absolute",right:l().A.horizontal.small,bottom:l().A.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:l().A.vertical.small,bottom:void 0}})),[]),m=n.Children.toArray(t).filter(o(534177).O9),f=m.length;return(0,d.jsx)(o(145214).A,{animate:{opacity:u?1:0},...(0,r().AH)(h.container,g,u&&h.containerHover,"top"===p&&h.containerTop),children:m.map(((e,t)=>{const i=t===f-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===o(859428).A&&n.isValidElement(e))return n.cloneElement(e,{render:(t,o)=>{const n=e.props.render(t,o);return(0,d.jsx)(c,{isLast:i,button:n},e.key)}});if(e.type===o(704152).A&&n.isValidElement(e))return(0,d.jsx)(c,{isLast:i,button:e},e.key)}}))})}},612900:(e,t,o)=>{o.d(t,{u:()=>r});var n=()=>o(645873);const i=new(n().O2)("PulsingWrapper",(async()=>o.e(45248).then(o.bind(o,673962)))),r=(0,n().jQ)(i,(e=>e.PulsingWrapper),{renderLoading:(e,t)=>t.children})},681810:(e,t,o)=>{o.d(t,{A:()=>n});const n=new(o(867772).Ay)},701751:(e,t,o)=>{o.d(t,{p:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"3.97 1.94 14.91 15.66",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M10.55 12.808a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 1 0 1.1 0z"}),(0,n.jsx)("path",{d:"M15.4 1.95a3.48 3.48 0 0 0-3.48 3.48v1.92H6.4a2.425 2.425 0 0 0-2.425 2.425v5.4A2.425 2.425 0 0 0 6.4 17.6h7.2a2.425 2.425 0 0 0 2.425-2.425v-5.4A2.425 2.425 0 0 0 13.6 7.35h-.43V5.43a2.23 2.23 0 1 1 4.46 0v2.095a.625.625 0 1 0 1.25 0V5.43a3.48 3.48 0 0 0-3.48-3.48M5.225 9.775c0-.649.526-1.175 1.175-1.175h7.2c.649 0 1.175.526 1.175 1.175v5.4c0 .649-.526 1.175-1.175 1.175H6.4a1.175 1.175 0 0 1-1.175-1.175z"})]})},r=(0,o(340498).wt)("lockOpen",i)},735790:(e,t,o)=>{o.d(t,{M:()=>r});o(296540);var n=o(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.25 15.25 11.5",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M3 7.375h6.829a2.501 2.501 0 0 0 4.842 0H17a.625.625 0 1 0 0-1.25h-2.329a2.501 2.501 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25M12.25 5.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5"}),(0,n.jsx)("path",{fillRule:"evenodd",d:"M7.75 15.75a2.5 2.5 0 0 0 2.421-1.875H17a.625.625 0 1 0 0-1.25h-6.829a2.5 2.5 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25h2.329A2.5 2.5 0 0 0 7.75 15.75m0-1.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"})]})},r=(0,o(340498).wt)("sliders",i)},739135:(e,t,o)=>{o.d(t,{KD:()=>d,gt:()=>c,i9:()=>l,ll:()=>a,tb:()=>s,x$:()=>r});var n=()=>o(541235),i=()=>o(496603);function r(e,t){return a(c(e,t))}function a(e){return void 0!==e&&(e===n().q_||e===n().YD)}function s(e,t){if(a(t))return;const o=n().c$[e],i=o.steps.findIndex((e=>e.id===t));return-1===i?o.steps[0].id:i===o.steps.length-1?n().q_:o.steps[i+1].id}function l(e,t){const o=c(e,t);if(o&&!a(o))return s(t,o)}function d(e,t){const o=c(e,t);if(o)return function(e,t){const o=n().c$[e];var r;if(a(t))return null===(r=(0,i().HV)(o.steps))||void 0===r?void 0:r.id;const s=o.steps.findIndex((e=>e.id===t));return-1!==s&&0!==s?o.steps[s-1].id:void 0}(t,o)}function c(e,t){var o;if(!e)return;const i=((null===(o=e.getSettings())||void 0===o?void 0:o.tutorials)||{})[t];return void 0===i?n().c$[t].steps[0].id:i}},748539:(e,t,o)=>{o.d(t,{f:()=>n});const n=new(o(645873).O2)("pageCovers",(async()=>{const{pageCovers:e}=await o.e(40198).then(o.bind(o,519737));return e}))},756114:(e,t,o)=>{o.d(t,{D:()=>n});function n(e,t){t.route.name;return!1}},801678:(e,t,o)=>{o.d(t,{A:()=>h});var n=o(296540),i=()=>o(662303),r=()=>o(56366),a=()=>o(959013),s=()=>o(381349),l=()=>o(496603),d=()=>o(284371),c=()=>o(720665),u=()=>o(145214),p=o(474848);const g={isRepositioning:!1};const h=function(e){const t=(0,n.useRef)(null),i=(0,o(484714).v3)(),[a,s]=(0,n.useState)(g),d=(0,n.useCallback)((()=>{s(g)}),[]),{renderControl:u,onFlushTemporaryPosition:h,style:f,source:v,store:x}=e,{isRepositioning:b,image:y,startDragRenderedPosition:S,startDragImageScreenHeight:C}=a,k=(0,r().K8)((()=>0===o(502438).default.state.stores.length),[]),[A,w]=(0,n.useState)(!1),j=(0,r().uB)(e.mouseStore,o(454305).A),M=(0,r().K8)((()=>j.state.mouseEntered),[j]),P=(0,o(401497).IS)((()=>({dragContainer:{width:"100%",cursor:b?"move":"inherit"},container:{position:"relative",width:"100%",zIndex:1}})),[b]),R=(0,r().K8)((()=>function(e,t,o){return(0,l().Et)(o)?o:function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,l().Et)(e))return e}const o=.5;if(t.isCollectionView()){const e=t.getCollectionStore();if(e){const t=e.getFormat().collection_cover_position;return(0,c().pN)(t)?o:t}}const n=t.getFormat(),i=n.page_cover_position;if((0,l().Et)(i))return i;return o}(e,t)}(v,x,a.temporaryPosition)),[a.temporaryPosition,v,x]);(0,n.useEffect)((()=>{const e=e=>{const o=t.current;o&&!o.contains(e.target)&&b&&h({imagePosition:R,reset:()=>{j.reset(),d()}})};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)}),[R,b,j,h,d]),b&&!k&&d();const T=(0,n.useMemo)((()=>(0,l().nF)((e=>{j.setState({...j.state,mouseEntered:!0})}),100)),[j]),B=(0,n.useMemo)((()=>(0,l().sg)((e=>{j.setState({...j.state,mouseEntered:!1})}),100)),[j]),I=(0,n.useCallback)(((e,t)=>{o(778417).IU({environment:i});const n=new Image;n.onload=()=>{s((e=>({...e,isRepositioning:!0,image:n})))},t&&(n.src=t)}),[i]),L=(0,n.useCallback)((e=>{h({imagePosition:R,reset:()=>{d()}})}),[R,h,d]),W=(0,n.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,o(819121).p)(t)&&w(!0)}),[]),E=(0,n.useCallback)((()=>{w(!0)}),[]),D=(0,n.useCallback)((e=>{if(y&&b){const e=t.current;if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/y.width*y.height;s((e=>({...e,startDragImageScreenHeight:t,startDragRenderedPosition:R})))}}}),[y,R,b]),U=(0,n.useCallback)((e=>{if(b){const t=e.diffY/(C||0)+(S||0);s((e=>({...e,temporaryPosition:(0,l().LI)((0,o(40845).A)(t,0,1),4)})))}}),[b,C,S]),z=(0,n.useCallback)((()=>{s((e=>({...e,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})))}),[]),F=(0,r().K8)((()=>u({handleRepositionClick:I,handleSavePositionClick:L,handleCancelClick:d,isVisible:M||A||b,isRepositioning:b})),[I,L,A,b,M,u,d]),H=(0,o(79043).A)(Boolean(e.preventClickPropagation));return(0,p.jsxs)("div",{ref:t,onFocus:W,onBlur:E,onMouseEnter:T,onMouseMove:T,onMouseLeave:B,...H,...(0,o(955825).AH)(P.container,f),children:[(0,p.jsx)(o(603820).A,{onDraggableDragStart:D,onDraggableDragMove:U,onDraggableDragEnd:z,onDraggableDragCancel:z,disabled:!b,render:t=>(0,p.jsx)("div",{style:P.dragContainer,...t,children:e.render({imagePosition:R,isRepositioning:b})})}),(0,p.jsx)(m,{small:e.small,isRepositioning:b}),F]})};function m(e){let{small:t,isRepositioning:o}=e;if(t)return null;const n={background:s().Ay.blackWithAlpha(.4),borderRadius:4,color:s().Ay.white,fontSize:12,fontFamily:d().vc(i().locale).sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"};return(0,p.jsx)(u().A,{visible:o,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:n,children:(0,p.jsx)(a().sA,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})}},843189:(e,t,o)=>{o.d(t,{E:()=>a});var n=o(296540),i=()=>o(960715),r=o(474848);const a=n.forwardRef(((e,t)=>{let{children:n,color:a,disabled:s,iconLeading:l,iconStyle:d,iconTrailing:c,isLoading:u,shape:p="default",size:g="md",style:h,...m}=e;const f=(0,o(963589).X)("nds_button_gap")||Boolean(c),v=(0,o(401497).IS)((e=>{const t=a?`${a}Primary`:"primary",r=a||"regular",c=a?`${a}Hover`:"primaryHover",m=a?`${a}Pressed`:"primaryPressed";return{button:{...(0,i().qq)({shape:p,size:g,hasIconOnly:Boolean(l)&&!n,isButtonGapEnabled:f}),justifyContent:"center",color:e.text[t],background:e.tint[r],opacity:s||u?.3:1,fontWeight:o(284371).Wy.medium,...h},hovered:{background:s?e.tint[r]:e.tint[c]},pressed:{background:s?e.tint[r]:e.tint[m]},icon:{...(0,i().D3)({size:g,hasIconOnly:!n,isButtonGapEnabled:f}),...d}}}),[n,a,s,l,d,f,u,p,g,h]);return(0,r.jsxs)(o(197190).A,{ref:t,style:v.button,hoveredStyle:v.hovered,pressedStyle:v.pressed,disabled:s||u,...m,children:[u?(0,r.jsx)(o(331542).A,{style:{marginRight:4}}):null,l?l(v.icon):null,n,c?c(v.icon):null]})}));a.displayName="TintButton"},867772:(e,t,o)=>{o.d(t,{Ay:()=>l,Gi:()=>r,Wc:()=>n,pF:()=>a,vS:()=>i});const n="loadingLocalImage",i="uploading",r="downloading",a="loaded";class s extends(()=>o(757695))().Store{getInitialState(){return{loadingMode:a}}}const l=s},901226:(e,t,o)=>{o.r(t),o.d(t,{CollectionLinkExistingModal:()=>F});o(898992),o(354520),o(581454);var n=o(296540),i=()=>o(484714),r=()=>o(56366),a=()=>o(401497),s=()=>o(670913),l=()=>o(592269),d=()=>o(289915),c=()=>o(416504),u=()=>o(689094),p=()=>o(798880),g=()=>o(245241),h=()=>o(959013),m=()=>o(284371),f=()=>o(612008),v=()=>o(751156),x=()=>o(704152),b=()=>o(760217),y=()=>o(364280),S=()=>o(285790),C=()=>o(297872),k=()=>o(623580),A=()=>o(710149),w=()=>o(928600),j=()=>o(939740),M=()=>o(187820),P=()=>o(16006),R=()=>o(89924),T=()=>o(586481),B=()=>o(862292),I=()=>o(186445),L=()=>o(873050),W=()=>o(722872),E=()=>o(135599),D=()=>o(645873),U=()=>o(217429),z=o(474848);function F(e){let{collectionContextStore:t,groupFormat:o,onClose:l,onAddOrLink:u}=e;const m=(0,h().tz)(),f=(0,i().v3)(),v=(0,r().K8)((()=>t.collectionStore()),[t]),[x,b]=n.useState(""),y=(0,n.useMemo)((()=>o?[o]:[]),[o]),S=(0,r().K8)((()=>{var e;const o=(0,L().Ay)(t,!1);if(!o)return;const n=t.collectionStore();if(!n)return;const i=f.currentUser.id;return(0,d().oR)({context:{schema:n.getSchema(),userId:i,userTimeZone:(0,c().P)(),userStartOfWeek:I().XX.state,relativeVariableResult:t.relativeVariableStore.state,currentPageInRelatedCollection:null===(e=t.viewsModuleContextStore.currentPageStore())||void 0===e?void 0:e.id,intl:m,collectionFeatureGates:(0,s().v)({experimentService:U().default,actor:i?{table:p().oo,id:i}:void 0,spaceId:n.getSpaceId()})},propertyMapping:n.getPropertyMapping(),filter:o})}),[t,f.currentUser.id,m]),{results:k,isResultsLoading:A}=(0,E().W)({type:g().Vz.BlocksInCollection,collectionId:(null==v?void 0:v.id)??"",query:x,limit:50,source:"link_existing_menu",filters:{requireEditPermissions:!0,excludeTemplates:!0,navigableBlockContentOnly:!0},options:{disable:!Boolean(null==v?void 0:v.id)}}),{value:j}=(0,D().fJ)(B().T.formulas),M=(0,r().K8)((()=>{const e=new Map,t=new Map,o=new Map;return k.filter((n=>{let{store:i}=n;const r=i.getModel();return!S||!r||!S({block:r,getRecordModel:i.getRecordModel,propertyMapping:null==v?void 0:v.getPropertyMapping(),resultCache:e,regExpCache:t,formatDateCache:o,experimentService:U().default,formulasModule:j})})).slice(0,10)}),[v,S,k,j]),P=(0,a().IS)((()=>({menuContent:f.device.isMobile?{maxHeight:180,width:"full"}:{}})),[f.device]);return(0,z.jsx)(C().A,{capture:!0,allowMenuList:!0,allowEsc:!0,allowUndo:!0,allowTabUntab:!0,render:()=>(0,z.jsx)(w().A,{menuType:W().gu.Popup,header:(0,z.jsx)(_,{searchQuery:x,onSearchQueryChange:b}),footer:x&&(0,z.jsx)(N,{searchQuery:x,collectionContextStore:t,groupsPointer:y,onClose:l,onAddOrLink:u}),children:(0,z.jsx)("div",{style:P.menuContent,children:A?(0,z.jsx)(K,{}):(0,z.jsx)(H,{searchResults:M,collectionContextStore:t,groupsPointer:y,onClose:l,onAddOrLink:u})})})})}function H(e){let{searchResults:t,collectionContextStore:o,groupsPointer:n,onClose:s,onAddOrLink:d}=e;const u=(0,i().v3)(),p=(0,h().tz)(),{collectionStore:g,icon:m}=(0,r().K8)((()=>{const e=o.collectionStore();return{collectionStore:e,icon:null==e?void 0:e.getIcon()}}),[o]),f=(0,a().IS)((e=>({sectionTitleWrapper:{display:"flex",alignItems:"center",gap:4},collectionTitleWrapper:{display:"flex",alignItems:"center",color:e.text.primary,gap:2}})),[]),x=(0,z.jsx)("div",{style:f.sectionTitleWrapper,children:(0,z.jsx)(h().sA,{id:"CollectionLinkExistingModal.resultsSection",defaultMessage:"Link a page from {relationName}",values:{relationName:(0,z.jsxs)("div",{style:f.collectionTitleWrapper,children:[(0,z.jsx)(M().B6,{icon:m,iconRecordCategory:"collection",disabled:!0,isEmptyPage:!0,size:12}),g&&(0,z.jsx)(P().A,{store:g})]})}})});return(0,z.jsx)(j().Ay,{type:j().Oh.Vertical,initialFocus:0,sections:[{key:"results",showNoResultMessage:!0,items:t.map((e=>{let{store:t}=e;return function(e){let{blockStore:t,collectionContextStore:o,groupsPointer:n,onClose:i,onAddOrLink:r,environment:a,intl:s}=e;return{key:t.id,action:()=>{const e=o.collectionStore();if(!e)return;const i=t.getModel();i&&v().createAndCommit({userAction:"CollectionLinkExistingModal.onLinkExisting",environment:a,canUndo:!0,perform:d=>{var u;const{update:p}=l().H3({block:i,schema:e.getSchema(),propertyMapping:e.getPropertyMapping(),userFilterContext:{userId:a.currentUser.id,userTimeZone:(0,c().P)(),userStartOfWeek:I().XX.state},filter:(0,L().Ay)(o,!1),groupBy:o.getGroupByAndGroupFormats().groupBy,groupsPointer:n,relativeVariableResult:o.relativeVariableStore.state,currentPageInRelatedCollection:null===(u=o.viewsModuleContextStore.currentPageStore())||void 0===u?void 0:u.id,getRecordModel:e.getRecordModel,intl:s,resultCache:new Map,regExpCache:new Map,formatDateCache:new Map,experimentService:U().default});T().L({environment:a,store:t,properties:p,transaction:d}),r&&r(d,t,p)}}).performResult},render:e=>{let{ref:o,...n}=e;return(0,z.jsx)(V,{blockStore:t,...n})}}}({blockStore:t,collectionContextStore:o,groupsPointer:n,onClose:s,onAddOrLink:d,environment:u,intl:p})})),render:e=>(0,z.jsx)(R().A,{title:x,children:e.children})}]})}function V(e){let{blockStore:t,...o}=e;const{focused:n,onClick:i}=o,s=(0,h().tz)(),l=(0,r().K8)((()=>t.getIcon()),[t]),d=(0,r().K8)((()=>(0,M().Te)(t)),[t]),c=(0,a().IS)((e=>({item:{height:32},itemRight:{marginRight:4},pageTitleWrapper:{display:"flex",alignItems:"center"},icon:{marginRight:4},title:{...m().RC,maxWidth:"100%",fontWeight:500},iconButton:{right:6,background:e.popoverBackground,boxShadow:e.shadowSM,padding:2},iconButtonHover:{borderRadius:4}})),[]);return(0,z.jsx)(b().A,{...o,textWrapperStyle:{marginLeft:6},title:(0,z.jsxs)("div",{style:c.pageTitleWrapper,children:[(0,z.jsx)(M().B6,{icon:l,iconRecordCategory:d,style:c.icon,disabled:!0,isEmptyPage:!0,size:20}),(0,z.jsx)(P().A,{underline:!0,enableHover:!0,store:t,style:c.title})]}),right:n?(0,z.jsx)(S().A,{hasBackground:!1,ariaLabel:s.formatMessage({id:"CollectionLinkExistingModal.linkButton.ariaLabel",defaultMessage:"Link page"}),icon:u().W,onClick:i,hoveredStyle:c.iconButtonHover,style:c.iconButton}):void 0,style:c.item,rightStyle:c.itemRight})}function _(e){let{searchQuery:t,onSearchQueryChange:o}=e;const{device:n}=(0,i().v3)(),r=(0,h().tz)(),s=(0,a().IS)((e=>({headerWrap:{display:"flex",width:"100%",position:"relative",padding:"6px 10px",fontSize:n.isMobile?m().J.UIRegular.mobile:m().J.UIRegular.desktop,boxShadow:`\n\t\t\t\t\t0 1px 0 ${e.darkDividerColor}\n\t\t\t\t`},input:{flexGrow:1}})),[n]);return(0,z.jsx)("div",{style:s.headerWrap,children:(0,z.jsx)(k().A,{style:s.input,value:t,placeholder:r.formatMessage({id:"CollectionLinkExistingModal.searchPlaceholder",defaultMessage:"Link a page…"}),forceShowClearButton:Boolean(t),focus:!0,onChange:e=>o(e.target.value),onClearButtonClick:()=>{o("")},format:k().C.Transparent})})}function N(e){let{searchQuery:t,collectionContextStore:o,groupsPointer:r,onClose:s,onAddOrLink:l}=e;const d=(0,i().v3)(),c=(0,a().IS)((e=>({button:{display:"flex",alignItems:"center",gap:6,width:"100%",paddingInline:12,paddingBlock:8,fontSize:d.device.isMobile?m().J.UIRegular.mobile:m().J.UIRegular.desktop,boxShadow:`\n\t\t\t\t\t0 -1px 0 ${e.darkDividerColor}\n\t\t\t\t`,color:e.text.secondary},pageTitle:{color:e.text.primary}})),[d.device]),p=(0,n.useCallback)((()=>{v().createAndCommit({userAction:"CollectionLinkExistingModal.onLinkExisting",environment:d,canUndo:!0,perform:e=>{const{newStore:n}=(0,f().Q)({environment:d,collectionContextStore:o,groupsPointer:r,shouldCoerce:!0,from:{createBlock:"relation_link_existing"},transaction:e,inMemoryRecordCache:d.defaultRecordCache.inMemoryRecordCache,title:t});l&&l(e,n)}}).performResult,s()}),[o,d,r,l,s,t]);return(0,z.jsxs)(x().A,{style:c.button,onClick:p,children:[(0,u().W)({width:14}),(0,z.jsx)("div",{children:(0,z.jsx)(h().sA,{id:"CollectionLinkExistingModal.addPageButton",defaultMessage:"Create {pageTitle}",values:{pageTitle:(0,z.jsx)("span",{style:c.pageTitle,children:t})}})})]})}const K=(0,n.memo)((function(){const e=(0,a().IS)((e=>({wrapper:{display:"flex",flexDirection:"column",gap:8,paddingBottom:12},resultsWrapper:{marginRight:8,marginLeft:12},icon:{height:16,width:16,borderRadius:4},pageName:{height:15,borderRadius:4,marginLeft:-1},sectionName:{height:12,borderRadius:4,width:"20%",marginTop:15,marginLeft:13,marginBottom:6}})),[]);return(0,z.jsxs)("div",{style:e.wrapper,children:[(0,z.jsx)(A().A,{style:e.sectionName}),(0,z.jsx)("div",{style:e.resultsWrapper,children:(0,z.jsx)(y().VP,{gap:12,children:Array.from({length:3},((t,n)=>(0,z.jsx)("div",{children:(0,z.jsxs)(y().fI,{gap:8,alignItems:"center",children:[(0,z.jsx)(A().A,{style:e.icon}),(0,z.jsx)(A().A,{style:{...e.pageName,width:o(496603).XM(["30%","40%","43%","45%","48%","50%","54%","55%","60%"])}})]})},`relation-result-shimmer-${n}`)))})})]})}))},937199:(e,t,o)=>{o.d(t,{LH:()=>r,Op:()=>i,bi:()=>l,sf:()=>s,v$:()=>a});o(16280);var n=o(296540);const i=(0,n.createContext)(null);function r(){const e=(0,n.useContext)(i);if(!e)throw new Error("usePageLayoutEditorContext must be used inside BaseLayoutEditorContext.Provider");return e}function a(){return(0,n.useContext)(i)}i.displayName="BaseLayoutEditorContext";const s=(0,n.createContext)(null);function l(){const e=(0,n.useContext)(s);if(!e)throw new Error("usePageLayoutEditorContext must be used inside PageLayoutEditorContextProvider");return e}s.displayName="PageLayoutEditorContext"},990402:(e,t,o)=>{o.d(t,{m:()=>i});var n=()=>o(46986);function i(e){return("workflow"===e.getType()||e.isCollectionView()&&e.getWorkflowStore())&&e.canEdit()&&!e.isSystemBlock()&&(0,n().re)()}}}]);