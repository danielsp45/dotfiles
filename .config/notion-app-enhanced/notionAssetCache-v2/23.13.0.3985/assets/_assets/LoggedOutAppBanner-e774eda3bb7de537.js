"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[30015,30214],{39341:(e,t,i)=>{i.d(t,{p:()=>o});class n extends(()=>i(757695))().Store{getInitialState(){return{banners:[],height:void 0}}setHeight(e){this.setState({height:e,banners:this.state.banners})}}const o=new n},159600:(e,t,i)=>{i.d(t,{s:()=>g});var n=()=>i(484714),o=()=>i(56366),s=()=>i(584262),a=()=>i(677338),r=()=>i(2220);var l=()=>i(492414),d=()=>i(765957),c=()=>i(805419);function g(e){let{shouldRedirectForExistingUsersOnly:t}=e;const i=(0,n().v3)(),g=(0,o().K8)((()=>{const{mainEditorCurrentBlockStore:e}=d().default.state;if(e)return(0,l().J8)({store:e,pageVisitSource:s().y8.PublicShareLink})}),[]);return e=>{!function(e,t){(0,r().u)({environment:e,event:{eventName:"click_sharing_signup",eventProperties:t}})}(i,{from:e}),g&&(0,a().wA)({url:g,shouldRedirectForExistingUsersOnly:t}),c().publicShareLinkLoginModalStore.setState({open:!0})}}},805419:(e,t,i)=>{i.r(t),i.d(t,{PublicShareLinkLoginModal:()=>u,publicShareLinkLoginModalStore:()=>g});var n=i(296540),o=()=>i(56366),s=()=>i(677338),a=()=>i(959013),r=()=>i(780054),l=()=>i(997513),d=()=>i(133234),c=i(474848);const g=new(i(215152).A);function u(){const e=(0,o().K8)((()=>g.state.open),[]),t=(0,n.useMemo)((()=>{const e=(0,s().KB)({config:r().A,fileHostProtocol:r().A.secureFileConfig.protocol,fileHostName:r().A.secureFileConfig.hostname});return null==e?void 0:e.shouldRedirectForExistingUsersOnly}),[e]);return e?(0,c.jsx)(l().z,{loginModalStore:g,loginStore:d().A,title:(0,c.jsx)(a().sA,{id:"publicShareLinkLoginModal.title",defaultMessage:"Sign up or log in"}),description:t?(0,c.jsx)(a().sA,{id:"publicShareLinkLoginModal.description.createWorkspace",defaultMessage:"Create a new account to start building, or log in to access more features."}):(0,c.jsx)(a().sA,{id:"publicShareLinkLoginModal.description",defaultMessage:"Create an account or log in to access more features."})}):null}},826128:(e,t,i)=>{function n(e){const{publicAccessRole:t,intl:i}=e;switch(t){case"read_and_write":case"membership_admin":case"content_only_editor":return{label:i.formatMessage({defaultMessage:"Anyone with a Notion account can edit this page.",id:"permissionUtils.edit"}),actionLabel:i.formatMessage({defaultMessage:"Sign up or login to edit",id:"permissionUtils.edit.action"})};case"comment_only":return{label:i.formatMessage({defaultMessage:"Anyone with a Notion account can comment on this page.",id:"permissionUtils.comment"}),actionLabel:i.formatMessage({defaultMessage:"Sign up or login to comment",id:"permissionUtils.comment.action"})};default:return{label:i.formatMessage({defaultMessage:"Ready to explore more? Sign up or login to start building in Notion.",id:"permissionUtils.view"}),actionLabel:i.formatMessage({defaultMessage:"Sign up or login",id:"permissionUtils.view.action"})}}}i.d(t,{p:()=>n})},969339:(e,t,i)=>{i.d(t,{C6:()=>a,HQ:()=>s,Yo:()=>r});var n=()=>i(645873);const o=new(n().O2)("login",(async()=>{const{default:e}=await Promise.all([i.e(44711),i.e(35837),i.e(19687),i.e(25049),i.e(30873),i.e(96966)]).then(i.bind(i,465209)),{default:t}=await Promise.all([i.e(44711),i.e(35837),i.e(19687),i.e(25049),i.e(30873),i.e(96966)]).then(i.bind(i,406370)),{default:n}=await Promise.all([i.e(44711),i.e(35837),i.e(19687),i.e(25049),i.e(30873),i.e(96966)]).then(i.bind(i,737515)),{default:o}=await Promise.all([i.e(44711),i.e(35837),i.e(19687),i.e(25049),i.e(30873),i.e(96966)]).then(i.bind(i,936419)),{default:s}=await Promise.all([i.e(44711),i.e(35837),i.e(19687),i.e(25049),i.e(30873),i.e(96966)]).then(i.bind(i,52542));return{LoginPage:e,LoginDesktop:t,LoginMobileNative:n,FrontLoginPage:o,LoginModalContent:s}})),s=(0,n()._h)(o,(e=>e.LoginPage)),a=(0,n()._h)(o,(e=>e.FrontLoginPage)),r=(0,n()._h)(o,(e=>e.LoginModalContent))},990716:(e,t,i)=>{i.r(t),i.d(t,{LoggedOutAppBanner:()=>h});var n=i(296540),o=()=>i(56366),s=()=>i(401497),a=()=>i(959013),r=()=>i(828634),l=()=>i(159600),d=()=>i(792415),c=()=>i(217429),g=()=>i(39341),u=()=>i(826128),p=()=>i(864943),m=i(474848);function h(){const e=(0,o().K8)((()=>{var e;return null===(e=d().A.getState().publicPageData)||void 0===e?void 0:e.publicAccessRole}),[]),t=(0,o().K8)((()=>"reader"===e&&"on"===c().default.getEligibleGroup({experimentId:"logged_out_awtl_can_view_banner_cta",defaultGroup:"control"})),[e]),i=(0,s().IS)((e=>({bannerContainer:{padding:8,backgroundColor:"dark"===e.mode?e.palette.gray[100]:e.palette.gray[50],display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,color:e.text.primary},signUpButton:{marginLeft:24}})),[]),h=(0,l().s)({shouldRedirectForExistingUsersOnly:t}),f=(0,n.useRef)(null),b=(0,r().wY)(f),S=(0,a().tz)();(0,n.useEffect)((()=>{g().p.setHeight(null==b?void 0:b.height)}),[null==b?void 0:b.height]);const{label:M,actionLabel:L}=(0,u().p)({publicAccessRole:e,intl:S});return(0,m.jsxs)("div",{ref:f,style:i.bannerContainer,children:[M,(0,m.jsx)(p().A,{size:"lg",style:i.signUpButton,onClick:()=>{h("banner")},children:L})]})}},997513:(e,t,i)=>{i.d(t,{z:()=>p});var n=i(296540),o=()=>i(484714),s=()=>i(56366),a=()=>i(401497),r=()=>i(959013),l=()=>i(107683),d=()=>i(2143),c=()=>i(969339),g=()=>i(756279),u=i(474848);function p(e){let{loginModalStore:t,loginStore:i,title:a,description:r,isSignup:d,disableLoginLink:g,redirectURL:p,className:b,onDismiss:S,trustedDomain:M}=e;const L=(0,o().v3)(),v=(0,s().K8)((()=>t.state.open),[t]),x=(0,n.useId)(),y=(0,n.useId)(),w={loginStore:i,title:a,description:r,isSignup:d,redirectURL:p,disableLoginLink:g,titleAriaId:x,descriptionAriaId:y,trustedDomain:M};return(0,u.jsx)(l().s,{ariaLabelledBy:x,ariaDescribedBy:y,isOpen:v,onDismiss:()=>{f({loginModalStore:t,loginStore:i,onDismiss:S})},areaConstraint:{width:{type:"fixed",length:480},height:{type:"unlimited",scroll:"allow"}},deprecatedCompatibilityOverrides:{tabletsUsePhoneDisplayMode:!0},render:()=>(0,u.jsx)(m,{children:(0,u.jsxs)("div",{className:b,children:[!L.device.isMobile&&(0,u.jsx)(h,{loginModalStore:t,loginStore:i,onDismiss:S}),(0,u.jsx)(c().Yo,{...w})]})})})}function m(e){let{children:t}=e;return(0,o().v3)().device.isMobile?(0,u.jsx)(d().H,{type:g().A.Y,children:t}):t}function h(e){let{loginModalStore:t,loginStore:i,onDismiss:n}=e;const o=(0,a().DP)();return(0,u.jsx)("div",{style:{fontSize:14,color:o.text.secondary,position:"absolute",right:0,marginTop:16,marginRight:16,cursor:"pointer",zIndex:1},onClick:()=>{f({loginModalStore:t,loginStore:i,onDismiss:n})},children:(0,u.jsx)(r().sA,{defaultMessage:"Cancel",id:"sidebarSwitcherMultiAccount.addAccountModal.cancelButton.label"})})}function f(e){const{loginModalStore:t,loginStore:i,onDismiss:n}=e;i.reset(),t.setState({open:!1}),n&&n()}}}]);