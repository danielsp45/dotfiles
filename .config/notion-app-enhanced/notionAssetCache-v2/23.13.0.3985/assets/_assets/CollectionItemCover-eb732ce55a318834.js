"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[79883],{298697:(e,t,r)=>{r.d(t,{A:()=>a});r(581454);var o=r(296540),n=()=>r(401497),i=()=>r(710149),l=r(474848);function a(e){let{paragraphs:t}=e;const r=(0,n().IS)((e=>({skeletonRect:{borderRadius:4,backgroundColor:e.lightDividerColor}})),[]),a=null==t?void 0:t.map(((e,t)=>{const n={height:e.lineHeight,marginTop:e.lineMargin,marginBottom:e.lineMargin},a={marginTop:e.sectionMargin,marginBottom:e.sectionMargin},d=[...Array(e.repeat||1)].map(((t,o)=>(0,l.jsx)("div",{style:a,children:e.sectionWidths.map(((e,t)=>(0,l.jsx)(i().A,{style:{...r.skeletonRect,...n,width:`${e}%`}},t)))},o)));return(0,l.jsxs)(o.Fragment,{children:[" ",d," "]},t)}));return(0,l.jsxs)(l.Fragment,{children:[" ",a," "]})}},873718:(e,t,r)=>{r.d(t,{CollectionItemCover:()=>A});r(944114),r(898992),r(354520),r(672577),r(581454);var o=r(296540),n=()=>r(807005),i=()=>r(484714),l=()=>r(56366),a=()=>r(401497),d=()=>r(496506),s=()=>r(700500),c=()=>r(713998),v=()=>r(304740),y=()=>r(591779),m=()=>r(179034),u=()=>r(534177),p=()=>r(332006),g=()=>r(807683),h=()=>r(298697),S=()=>r(360083),C=()=>r(794959),x=()=>r(494043),b=()=>r(62856),f=()=>r(630116),k=()=>r(519839),F=()=>r(253447),j=()=>r(271232),B=r(474848);function I(e){return"number"==typeof e}function A(e){const{store:t,coverFormat:r,coverContentFadedOverlay:n,coverContentFadedOverlayStyle:a,coverHeight:c,coverWidth:v,coverAspectFormat:u,coverSizeFormat:p,coverPosition:g,imageCoverWrapStyle:h,onLoadProxiedImage:S,showEmptyGalleryCover:C,showLoadingShimmer:x,loadingShimmerStyle:b,emptyGalleryCoverStyle:F,style:j,rendererBlockStyle:I,contentWrapStyle:A,renderAdditionalBlocks:W=!1,isInHomeWidget:w,variant:L,startBlockId:H}=e,{ThemeStore:R}=(0,i().v3)();(0,y().$x)(null==r?void 0:r.type,((e,t)=>e!==t&&(S(),!0)));const G=(0,o.useCallback)((()=>W&&H?"table":"image"),[W,H]),O=(0,l().K8)((()=>{const e=H?(0,k().Oq)({rootStore:t,renderAdditionalBlocks:W,startBlockId:H,tableRenderMode:G()}):(0,k().aK)({rootStore:t,renderAdditionalBlocks:W,theme:R.state.mode});return e.image?e.image:!(x&&0===e.blockIds.length&&!e.isDefined)&&e.blockIds}),[R,t,W,H,x,G]),z=new(d().ComputedStore)((()=>{const e=(0,k().Oq)({rootStore:t,renderAdditionalBlocks:W,startBlockId:H,tableRenderMode:G()});return e.image?void 0:e.blockIds}),{debugName:"restrictedContentStore"}),T=new(d().ComputedStore)((()=>{const e=[];if(Array.isArray(O)){let r=0;for(;r<O.length;){let o=O[r],n=f().Bv.createChildStore(t,{table:m().ev,id:o});if(n.getType()===s().xd.numberedList){const i=[{blockId:o,idx:1}],l=[{id:o,format:void 0,depth:i.length-1,index:i[0].idx}];for(r+=1;r<O.length&&(o=O[r],n=f().Bv.createChildStore(t,{table:m().ev,id:o}),n.getType()===s().xd.numberedList);){{const e=n.getParentId();if(n.getParentId()===i[i.length-1].blockId)i.push({blockId:o,idx:1});else{let t=i[i.length-1].idx;for(;i.length>0&&i[i.length-1].blockId!==e;)t=i[i.length-1].idx,i.pop();i.push({blockId:o,idx:t+1})}l.push({id:o,format:void 0,depth:i.length-1,index:i[i.length-1].idx})}r+=1}e.push(l)}else r+=1}}return e}),{debugName:"numberedListsStore"});return"page_cover"===r.type?(0,B.jsx)(_,{store:t,coverHeight:c,coverSizeFormat:p,imageCoverWrapStyle:h,coverWidth:v,onLoadProxiedImage:S,style:j,variant:L,coverAspectFormat:u,coverPosition:g,showEmptyGalleryCover:C,emptyGalleryCoverStyle:F}):"page_content"===r.type?(0,B.jsx)(P,{coverData:O,restrictedContentStore:z,renderAdditionalBlocks:W,numberedListsStore:T,store:t,coverHeight:c,coverSizeFormat:p,coverContentFadedOverlay:n,coverContentFadedOverlayStyle:a,contentWrapStyle:A,coverPosition:g,coverWidth:v,coverAspectFormat:u,isInHomeWidget:w,loadingShimmerStyle:b,showEmptyGalleryCover:C,emptyGalleryCoverStyle:F,variant:L,onLoadProxiedImage:S,imageCoverWrapStyle:h,style:j,rendererBlockStyle:I}):"property"===r.type?(0,B.jsx)(U,{store:t,coverHeight:c,coverSizeFormat:p,imageCoverWrapStyle:h,onLoadProxiedImage:S,coverWidth:v,style:j,variant:L,coverAspectFormat:u,coverPosition:g,showEmptyGalleryCover:C,emptyGalleryCoverStyle:F,property:r.property},r.property):null}function P(e){const{coverData:t,restrictedContentStore:r,numberedListsStore:o,renderAdditionalBlocks:n,store:i,coverHeight:l,coverSizeFormat:a,coverContentFadedOverlay:d,coverContentFadedOverlayStyle:s,contentWrapStyle:c,coverPosition:v,coverWidth:y,coverAspectFormat:m,isInHomeWidget:u,loadingShimmerStyle:p,showEmptyGalleryCover:g,emptyGalleryCoverStyle:h,variant:S,onLoadProxiedImage:C,imageCoverWrapStyle:x,style:b,rendererBlockStyle:f}=e;return!1===t?(0,B.jsx)(z,{coverHeight:l,coverSizeFormat:a,loadingShimmerStyle:p}):t?(0,B.jsx)(w,{coverData:t,restrictedContentStore:r,renderAdditionalBlocks:n,store:i,coverHeight:l,coverSizeFormat:a,coverContentFadedOverlay:d,coverContentFadedOverlayStyle:s,contentWrapStyle:c,coverPosition:v,coverWidth:y,coverAspectFormat:m,isInHomeWidget:u,showEmptyGalleryCover:g,emptyGalleryCoverStyle:h,variant:S,onLoadProxiedImage:C,imageCoverWrapStyle:x,style:b,rendererBlockStyle:f,numberedListsStore:o}):g?(0,B.jsx)(j().t,{coverHeight:l,coverSizeFormat:a,emptyGalleryCoverStyle:h}):null}function W(e){const{store:t,renderAdditionalBlocks:r,rendererBlockStyle:o,blockId:i,blockIdsToRender:s,restrictedContentStore:c,numberedListsStore:v}=e,y=(0,a().IS)((e=>({renderer:{fontSize:12,opacity:.8,pointerEvents:"none",...o}})),[o]),u=f().Bv.createChildStore(t,{table:m().ev,id:i}),g=(0,l().K8)((()=>u.getType()),[u]),h=(0,l().K8)((()=>{const e="table_row"===g?u.getParentBlockStore():u;return r&&void 0!==g?e&&(0,C().F)({store:e,restrictedBlockIds:s,tableRenderMode:"table"}):(0,p().B)(u)}),[r,g,u,s]),S=new(d().ComputedStore)((()=>({depth:0,numberedListBlockIdsWithFormat:q(i,v)})),{debugName:"numberedListCounterStore"}),b=(0,l().K8)((()=>(0,x().BN)(u)),[u]);return h?(0,B.jsx)(n().v,{value:c,children:(0,B.jsx)(h,{store:u,disabled:!0,disableCommentMenu:!0,disableHoverMenu:!0,hideContent:b,style:y.renderer,isQuickFind:!0,numberedListCounterStore:S})},i):null}function w(e){const{coverData:t,restrictedContentStore:r,numberedListsStore:o,renderAdditionalBlocks:n,store:d,coverHeight:s,coverSizeFormat:c,coverContentFadedOverlay:v,coverContentFadedOverlayStyle:y,contentWrapStyle:m,coverPosition:u,coverWidth:p,coverAspectFormat:h,isInHomeWidget:C,showEmptyGalleryCover:x,emptyGalleryCoverStyle:b,variant:f,onLoadProxiedImage:k,imageCoverWrapStyle:F,style:I,rendererBlockStyle:A}=e,P=(0,i().v3)(),w=(0,a().DP)(),z=(0,l().K8)((()=>({contentWrapStyle:M(f,P,w,s,c,v,m,C),coverContentFadedOverlay:D(w,y),imageBox:{...H(),...N({renderCollectionImage:!0},f,w,s,c),...G(),objectPosition:`center ${100*(1-L(d,u))}%`},imageCoverWrap:O(s,c,F),proxiedImageBox:{...H(I),...N({renderCollectionImage:!1},f,w,s,c),...G(h),objectPosition:`center ${100*(1-L(d,u))}%`}})),[f,P,w,s,u,c,v,y,h,d,I,m,C,F]),T=(0,l().O$)(r),K=(0,l().K8)((()=>t&&Array.isArray(t)?t.filter((e=>!T||T.includes(e))):[]),[t,T]),$=(0,l().K8)((()=>{var e;return n&&d.isCollectionView()&&!(null===(e=d.getModel())||void 0===e?void 0:e.hasWikiBlockUri())}),[n,d]);return Array.isArray(t)?t.length>0?(0,B.jsxs)("div",{style:z.contentWrapStyle,children:[T?t.filter((e=>T.indexOf(e)>=0)).map((e=>(0,B.jsx)(W,{store:d,renderAdditionalBlocks:n,rendererBlockStyle:A,blockId:e,blockIdsToRender:K,restrictedContentStore:r,numberedListsStore:o},e))):t.map((e=>(0,B.jsx)(W,{store:d,renderAdditionalBlocks:n,rendererBlockStyle:I,blockId:e,blockIdsToRender:K,restrictedContentStore:r,numberedListsStore:o},e))),v&&(0,B.jsx)("div",{style:z.coverContentFadedOverlay})]}):x?(0,B.jsx)(j().t,{coverHeight:s,coverSizeFormat:c,emptyGalleryCoverStyle:b??z.contentWrapStyle}):null:$?(0,B.jsxs)("div",{style:z.contentWrapStyle,children:[(0,B.jsx)(S().A,{url:t.url,onFinishedLoadingProxyUrl:e=>k(e),isAuthenticated:!0,permissionRecord:t.pointer,width:R(),render:(e,t)=>{if(t)return(0,B.jsx)(g().Ay,{style:z.imageBox,placeholderLoadedStyle:{display:"flex",justifyContent:"center",alignItems:"end"},src:t})}}),(0,B.jsx)(E,{variant:f}),(0,B.jsx)("div",{style:z.coverContentFadedOverlay})]}):(0,B.jsxs)("div",{style:z.imageCoverWrap,children:[(0,B.jsx)(S().A,{url:t.url,onFinishedLoadingProxyUrl:e=>k(e),isAuthenticated:!0,permissionRecord:t.pointer,width:R(p,c),render:(e,t)=>{if(t)return(0,B.jsx)(g().Ay,{style:z.proxiedImageBox,src:t})}}),(0,B.jsx)(E,{variant:f})]})}function L(e,t){if(I(t))return t;if(e.getFormatStore().isDefined()){const{page_cover_position:t,card_cover_position:r}=e.getFormat();if(I(r))return r;if(I(t))return t}return.5}function H(e){return e||{}}function R(e,t){return e||(0,k().rq)(t)}function G(e){return{objectFit:void 0===e?"cover":e}}function O(e,t,r){return{height:(0,F().F)(e,t),position:"relative",pointerEvents:"none",overflow:"hidden",...r}}function z(e){let{coverHeight:t,coverSizeFormat:r,loadingShimmerStyle:o}=e;const n=(0,b().A)(!0,100,0);return(0,B.jsx)("div",{style:{height:(0,F().F)(t,r),...o},children:n?(0,B.jsx)(h().A,{paragraphs:[{lineHeight:12,lineMargin:6,sectionWidths:[100,100,50],repeat:1,sectionMargin:0}]}):null})}function T(e,t,r,o,n){const{ThemeStore:i}=t,l="dark"===i.state.mode,a=n?r.lightDividerColor:r.regularDividerColor;switch(e){case"default":return{};case"gallery":return{background:r.collectionGalleryPreviewCardCover,padding:"8px 8px 0",boxShadow:l?"transparent":`inset 0 -1px 0 0 ${a}`,...o};default:(0,u().HB)(e)}}function D(e,t){return{width:"100%",height:40,position:"absolute",bottom:0,left:0,background:`linear-gradient(to bottom, transparent, ${e.palette.gray[30]} 100%)`,...t}}function K(e,t){switch(e){case"default":return{border:`1px solid ${t.stroke.primary}`,borderTopLeftRadius:6,borderTopRightRadius:6,borderBottomRightRadius:6,borderBottomLeftRadius:6};case"gallery":return{borderRadius:0,borderTopLeftRadius:1,borderTopRightRadius:1};default:(0,u().HB)(e)}}function E(e){let{variant:t}=e;const r=(0,a().DP)();switch(t){case"default":return null;case"gallery":return(0,B.jsx)("div",{style:{position:"absolute",left:0,right:0,bottom:0,borderBottom:`1px solid ${r.regularDividerColor}`}});default:(0,u().HB)(t)}return null}function M(e,t,r,o,n,i,l,a){return{height:(0,F().F)(o,n),pointerEvents:"none",overflow:"hidden",position:i?"relative":"static",...T(e,t,r,l,a),...l}}function $(e,t,r,o){return{width:"100%",height:(0,F().F)(r,o),...K(e,t),objectPosition:"center"}}function _(e){let{store:t,coverHeight:r,coverSizeFormat:o,imageCoverWrapStyle:n,coverWidth:i,onLoadProxiedImage:d,style:s,variant:c,coverAspectFormat:v,coverPosition:y,showEmptyGalleryCover:m,emptyGalleryCoverStyle:u}=e;const p=(0,a().DP)(),h=(0,l().K8)((()=>{var e;return null===(e=t.getCover())||void 0===e?void 0:e.cover}),[t]),C=(0,l().K8)((()=>t.pointer),[t]),x=(0,l().K8)((()=>L(t,y)),[y,t]);return h?(0,B.jsxs)("div",{style:O(r,o,n),children:[(0,B.jsx)(S().A,{url:h,isAuthenticated:!0,permissionRecord:C,width:R(i,o),onFinishedLoadingProxyUrl:e=>d(e),render:(e,t)=>{if(t)return(0,B.jsx)(g().Ay,{style:{...H(s),...$(c,p,r,o),...G(v),objectPosition:`center ${100*(1-x)}%`},src:t})}}),(0,B.jsx)(E,{variant:c})]}):m?(0,B.jsx)(j().t,{coverHeight:r,coverSizeFormat:o,emptyGalleryCoverStyle:{background:p.collectionGalleryPreviewCardCover,...u}}):null}function U(e){let{property:t,store:r,coverHeight:o,coverSizeFormat:n,imageCoverWrapStyle:i,onLoadProxiedImage:d,coverWidth:s,style:y,variant:m,coverAspectFormat:u,coverPosition:p,showEmptyGalleryCover:h,emptyGalleryCoverStyle:C}=e;const x=(0,a().DP)(),b=(0,l().K8)((()=>(0,c().pJ)(r.getPropertyValue(t)).find((e=>(0,v().rS)({url:e.url})))),[t,r]),f=(0,l().K8)((()=>r.pointer),[r]),k=(0,l().K8)((()=>L(r,p)),[p,r]);return b?(0,B.jsxs)("div",{style:O(o,n,i),children:[(0,B.jsx)(S().A,{onFinishedLoadingProxyUrl:e=>d(e),url:b.url,isAuthenticated:!0,permissionRecord:f,width:R(s,n),render:(e,t)=>{if(t)return(0,B.jsx)(g().Ay,{style:{...H(y),...$(m,x,o,n),...G(u),objectPosition:`center ${100*(1-k)}%`},src:t})}}),(0,B.jsx)(E,{variant:m})]}):h?(0,B.jsx)(j().t,{coverHeight:o,coverSizeFormat:n,emptyGalleryCoverStyle:C}):null}function N(e,t,r,o,n){const{renderCollectionImage:i}=e;return{...$(t,r,o,n),objectPosition:"center center",...i&&{height:void 0,border:`1px solid ${r.lightDividerColor}`,borderBottom:"none",borderBottomLeftRadius:0,borderBottomRightRadius:0}}}function q(e,t){const r=t.state;for(const o of r)if(o.find((t=>t.id===e)))return o;return[]}}}]);