"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[9150,84358,97132],{59400:(e,t,o)=>{o.d(t,{nR:()=>c,m$:()=>s,m4:()=>l,Dy:()=>u,FZ:()=>p});o(296540);var n=()=>o(645873),r=o(474848);function i(e){const{shouldShowSpinner:t,collectionSettingsProps:n}=e;return(0,r.jsx)(o(735695).Ay,{collectionSettingsStore:n.collectionSettingsStore,fullHeight:n.fullHeight,hideDesktopHeader:n.hideDesktopHeader,children:t&&(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",overflow:"hidden",paddingBottom:20},children:(0,r.jsx)(o(331542).A,{})})})}const a=new(n().O2)("collectionSettings",(()=>Promise.all([o.e(75134),o.e(16471),o.e(58550),o.e(44711),o.e(53321),o.e(90825),o.e(96346),o.e(55373),o.e(37353),o.e(29151),o.e(78191),o.e(62475),o.e(3151),o.e(98629),o.e(92845),o.e(84468),o.e(5605),o.e(48486),o.e(95794),o.e(13677),o.e(56952),o.e(48632),o.e(75078),o.e(25497),o.e(74562),o.e(27711),o.e(4422),o.e(11341),o.e(46414),o.e(95168),o.e(28271),o.e(34877),o.e(36908),o.e(17254),o.e(84185),o.e(32421),o.e(15315),o.e(24587),o.e(78708),o.e(43777),o.e(74752),o.e(91194),o.e(81197),o.e(98659),o.e(20502),o.e(6266),o.e(8184),o.e(83884),o.e(65881),o.e(99809),o.e(93282),o.e(43678),o.e(15019),o.e(90978),o.e(3910),o.e(77213),o.e(6912),o.e(30291),o.e(19930),o.e(58102),o.e(26483),o.e(6463),o.e(40925),o.e(282),o.e(61349),o.e(62573),o.e(1440),o.e(63996),o.e(66559),o.e(35986),o.e(92924),o.e(64819),o.e(97339),o.e(55717),o.e(63797),o.e(21367),o.e(22686),o.e(99108)]).then(o.bind(o,409198)))),s=(0,n()._h)(a,(e=>e.CollectionSettings),{renderLoading:(e,t)=>(0,r.jsx)(i,{shouldShowSpinner:e,collectionSettingsProps:t})}),l=(0,n()._h)(a,(e=>e.CollectionSettingsButtonOptions)),u=(0,n()._h)(a,(e=>e.CollectionSettingsPropertyTypeMenuItem)),c=(0,n()._h)(a,(e=>e.CollectionEditButtonAutomationOption)),d=new(n().O2)("TableHeaderPropertyCreationMenu",(()=>Promise.all([o.e(75134),o.e(16471),o.e(58550),o.e(44711),o.e(53321),o.e(90825),o.e(96346),o.e(55373),o.e(37353),o.e(29151),o.e(78191),o.e(92845),o.e(84468),o.e(5605),o.e(48486),o.e(95794),o.e(13677),o.e(56952),o.e(48632),o.e(75078),o.e(25497),o.e(74562),o.e(27711),o.e(4422),o.e(11341),o.e(46414),o.e(95168),o.e(28271),o.e(34877),o.e(36908),o.e(17254),o.e(84185),o.e(32421),o.e(15315),o.e(24587),o.e(78708),o.e(43777),o.e(74752),o.e(91194),o.e(81197),o.e(98659),o.e(20502),o.e(6266),o.e(8184),o.e(83884),o.e(65881),o.e(99809),o.e(93282),o.e(43678),o.e(15019),o.e(90978),o.e(3910),o.e(77213),o.e(61349),o.e(35986),o.e(43935)]).then(o.bind(o,908800)))),p=(0,n()._h)(d,(e=>e.TableHeaderPropertyCreationMenu))},63467:(e,t,o)=>{o.d(t,{y:()=>c});var n=()=>o(637997),r=()=>o(267419);const i={ko:()=>o.e(2268).then(o.bind(o,224434)),es:()=>o.e(95264).then(o.bind(o,196425)),de:()=>o.e(35390).then(o.bind(o,653703)),fr:()=>o.e(3272).then(o.bind(o,94677)),pt:()=>o.e(27315).then(o.bind(o,766869)),zh:()=>o.e(69945).then(o.bind(o,516814)),ja:()=>o.e(77757).then(o.bind(o,824432)),da:()=>o.e(9423).then(o.bind(o,440761)),fi:()=>o.e(59337).then(o.bind(o,462135)),nb:()=>o.e(2040).then(o.bind(o,937314)),nl:()=>o.e(51106).then(o.bind(o,530897)),sv:()=>o.e(53631).then(o.bind(o,895222)),id:()=>o.e(69945).then(o.bind(o,516814)),th:()=>o.e(69945).then(o.bind(o,516814)),vi:()=>o.e(69945).then(o.bind(o,516814))};let a=!1,s=!1;async function l(e){for(const[o,r]of Object.entries(e.emojiLocaleKeywords)){var t;n().fB[o]={...n().fB[o],keywords:[...r,...(null===(t=n().fB[o])||void 0===t?void 0:t.keywords)||[]]}}await r().A.waitUntilLoaded(),r().A.update((t=>{let{emojiByName:o,...n}=t;return{...n,emojiByName:{...o,...e.emojiByName}}}))}async function u(){if(a)return;const[e]=o(662303).locale.split("-");e in i&&(await l(await i[e]()),a=!0)}const c=(0,o(279900).A)((async()=>{await async function(){s||(await l(await o.e(51872).then(o.bind(o,443716))),s=!0)}(),await u()}))},132389:(e,t,o)=>{o.d(t,{A:()=>r});o(296540);var n=o(474848);function r(e){const t={display:"inline-block",minWidth:e.size,minHeight:e.size};return"x"===e.axis?t.minHeight=1:"y"===e.axis&&(t.minWidth=1),(0,n.jsx)("div",{style:t})}},271084:(e,t,o)=>{o.d(t,{k:()=>r});o(581454);class n extends(()=>o(757695))().Store{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}getSortedUserIds(){return Object.entries(this.state||{}).sort(((e,t)=>{let[o,n]=e,[r,i]=t;return i-n})).map((e=>{let[t,o]=e;return t}))}}const r=new n;(0,o(604341).exposeDebugValue)("UserSimilarityStore",r)},279900:(e,t,o)=>{function n(e){let t,o,n;return async function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t?(n=i,o||(o=t.then((()=>(o=void 0,t=e(...n),t))),o)):(t=e(...i),t)}}o.d(t,{A:()=>n})},458366:(e,t,o)=>{o.d(t,{B2:()=>T,F1:()=>x,Kc:()=>k,NN:()=>I,UY:()=>b,br:()=>P,lA:()=>A,lh:()=>C,pi:()=>m,w_:()=>y,zP:()=>w});o(898992),o(737550);var n=()=>o(584262),r=()=>o(443239),i=()=>o(970013),a=()=>o(713998),s=()=>o(882262),l=()=>o(415566),u=()=>o(177256),c=()=>o(72135),d=()=>o(919709),p=()=>o(496603),f=()=>o(534177),g=()=>o(939768),v=()=>o(720665),h=()=>o(492414),S=()=>o(972435);function m(e){return Boolean(e.state.isOpen&&e.state.collectionsBulkActionsToolbarStore)}function w(e){switch(e){case"table":return"table";case"board":return"board";case"list":return"list";case"gallery":return"gallery";case"feed":return"feed";case"relation":case"relation_section":return"relation_section";case"timeline":return"timeline";case"calendar":return"calendar";case"page":return"page_properties";case"compact_page":return"compact_page";case"mini":return"mini_peek";case"form_editor":case"form_viewer":case"property_module":return"property_module";default:(0,f().HB)(e)}}function y(e){return{backgroundImage:`linear-gradient(\n\t\tto right,\n\t\t${e.darkDividerColor} 0%,\n\t\t${e.darkDividerColor} 100%\n\t)`,backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% 1px"}}function b(e){const{store:t,property:o,propertySchema:r}=e,i=null==r?void 0:r.type;if("title"===i)return(0,h().Ay)({store:t,fullyQualified:!1,pageVisitSource:n().y8.LinkInPage});{const e=t.getPropertyValue(o);return a().UY(i,e)}}function k(e){let t=(0,d().k4p)(e);if(!t||""===t.trim()||t.trim().includes(" "))return{domain:void 0,restOfUrl:void 0};t=t.trim();let o=g().qg(t),n=o.host;if(o.protocol&&n||(o=g().qg(`http://${t}`),n=o.host),!n)return{domain:void 0,restOfUrl:void 0};n&&(n=n.replace(/^www./i,""));const r=t.toLowerCase().indexOf(n.toLowerCase());if(-1===r)return{domain:void 0,restOfUrl:void 0};n=t.slice(r,r+n.length);return{domain:n,restOfUrl:t.slice(r+n.length)}}function C(e){const{numberValue:t,numberFormat:o,numberShowAs:n}=e;if(!(p().yr(t)||v().pN(t)||"bar"!==(null==n?void 0:n.type)&&"ring"!==(null==n?void 0:n.type))){const e=S().A.getIntl();return"percent"===o?c().ZV(t,"percent",e):`${t} / ${n.maxValue}`}}function x(e){const{property:t,collectionStore:o}=e,n=o.isSyncedCollection();return Boolean(n)&&(0,r().u)(t)}function A(e,t){switch(e){case"side_peek":return{icon:u().A,tooltip:S().A.formatMessage(M.openInSidePeekTooltip),caption:t?"":S().A.formatMessage(M.openAsPageTitle)};case"center_peek":return{icon:l().q,tooltip:S().A.formatMessage(M.openInCenterPeekTooltip),caption:t?"":S().A.formatMessage(M.openAsPageTitle)};case"full_page":return{icon:s().m,tooltip:S().A.formatMessage(M.openAsPageTooltip),caption:t?"":S().A.formatMessage(M.openAsPageTitle)};default:(0,f().HB)(e)}}const M=(0,o(959013).YK)({openAsPageTitle:{defaultMessage:"Open",id:"database.actionButton.openAsPageTitle"},openAsPageTooltip:{defaultMessage:"Open as page",id:"database.actionButton.openAsPageTooltip"},openInCenterPeekTooltip:{defaultMessage:"Open in center peek",id:"database.actionButton.openInCenterPeekTooltip"},openInSidePeekTooltip:{defaultMessage:"Open in side peek",id:"database.actionButton.openInSidePeekTooltip"}});function P(e){const{store:t,additionalStores:o,collectionContextStore:n}=e,r=t.getAssociatedCollectionStore();return!("collectionTypedView"!==(null==n?void 0:n.contextType)||!r)&&o.some((e=>{var t;return(null===(t=e.getAssociatedCollectionStore())||void 0===t?void 0:t.id)!==r.id}))}function I(e){return"form_editor"===e||"form_viewer"===e}function T(e){return Boolean(e&&!i().dA.includes(e.type))}},477293:(e,t,o)=>{o.d(t,{r:()=>i});var n=()=>o(56366),r=()=>o(217429);function i(e){let{disableExposureLogging:t,disableEventTrailLogging:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,n().K8)((()=>r().default.getEligibleGroup({experimentId:e,defaultGroup:"control",disableExposureLogging:t,disableEventTrailLogging:o})),[e,t,o])}},612900:(e,t,o)=>{o.d(t,{u:()=>i});var n=()=>o(645873);const r=new(n().O2)("PulsingWrapper",(async()=>o.e(45248).then(o.bind(o,673962)))),i=(0,n().jQ)(r,(e=>e.PulsingWrapper),{renderLoading:(e,t)=>t.children})},652305:(e,t,o)=>{o.r(t),o.d(t,{WorkflowSetupInstructions:()=>M,WorkflowSetupInstructionsInner:()=>P});o(944114),o(898992),o(354520);var n=o(296540),r=()=>o(484714),i=()=>o(56366),a=()=>o(401497),s=()=>o(563452),l=()=>o(262986),u=()=>o(96897),c=()=>o(724639),d=()=>o(142918),p=()=>o(496603),f=()=>o(563615),g=()=>o(246826),v=()=>o(751156),h=()=>o(390898),S=()=>o(805126),m=()=>o(825043),w=()=>o(186445),y=()=>o(645873),b=()=>o(765957),k=()=>o(630116),C=()=>o(383245),x=()=>o(759113),A=o(474848);function M(e){const{clientStore:t,threadStore:o}=e,n=(0,r().v3)(),a=(0,i().K8)((()=>(0,w()._m)(n)),[n]);return(0,i().K8)((()=>Boolean(void 0!==(null==o?void 0:o.getCurrentInferenceId())||(null==o?void 0:o.id)&&t.getOrCreateClientAIChatThreadStore(o.id).state.loading)),[o,t])?null:(0,A.jsx)(P,{...e,userStore:a})}function P(e){const{clientStore:t,threadStore:o,userStore:l}=e,u=(0,y().fJ)(f().oQ.workflowActions),c="resolved"===u.status?u.value.applyWorkflowSetupUpdate:null,h=(0,a().IS)((()=>({setupInstructionsContainer:{paddingBottom:12}})),[]),[S,w]=(0,i().K8)((()=>{const e=null==o?void 0:o.getMessageStoreAt(-1);if(e){const t=e.getStepStore(),o=t.getValue();if(o&&(0,s().Zg)(o))return[t,o]}return[]}),[o]),b=(0,i().K8)((()=>T({clientStore:t,threadStore:o,userStore:l})),[t,o,l]),M=(0,i().K8)((()=>I({clientStore:t,threadStore:o})),[t,o]),P=null==o?void 0:o.pointer,V=(0,i().K8)((()=>{if(null!=M&&M.pointer&&o){return k().NU.createChildStore(o,M.pointer).getParentStore()}}),[o,null==M?void 0:M.pointer]),_=(0,r().v3)(),j=(0,n.useCallback)((async e=>{if(!o||null==M||!M.pointer||!l)return;if(!c)return;const{serverCommitResult:n}=v().createAndCommit({userAction:"WorkflowSetupInstructions.saveTrigger",environment:_,canUndo:!0,perform:t=>{c({environment:_,threadStore:o,operations:[d().NW({pointer:M.pointer,trigger:e})],transaction:t})}});await n,await B({clientStore:t,environment:_,threadStore:o,userStore:l})}),[o,null==M?void 0:M.pointer,_,t,l,c]),O=(0,n.useCallback)((async e=>{if(!o||null==M||!M.pointer||!l)return;if(!c)return;const{serverCommitResult:n}=v().createAndCommit({userAction:"WorkflowSetupInstructions.saveModule",environment:_,canUndo:!0,perform:t=>{c({environment:_,threadStore:o,operations:[d().xb({pointer:M.pointer,module:e})],transaction:t})}});await n,await B({clientStore:t,environment:_,threadStore:o,userStore:l})}),[o,_,null==M?void 0:M.pointer,l,t,c]),E=(0,n.useCallback)((e=>async function(n){if(!o||!l)return;const{serverCommitResult:r}=v().createAndCommit({userAction:"WorkflowSetupInstructions.saveWorkflowModule",environment:_,canUndo:!1,perform:t=>{g().zv({data:n.state,store:e.getDataStore(),transaction:t});const o=e.getModel();if(S&&w&&o){const e=(0,s().pN)({updateIntegrationStep:w,workflowModuleModel:o});g().zv({data:e,store:S,transaction:t})}}});await r,await B({clientStore:t,environment:_,threadStore:o,userStore:l})}),[_,w,S,t,o,l]),L=(0,n.useCallback)((async e=>{if(!o||null==M||!M.pointer||!l)return;if(!c)return;const{serverCommitResult:n}=v().createAndCommit({userAction:"WorkflowSetupInstructions.saveConfigVariable",environment:_,canUndo:!0,perform:t=>{c({environment:_,threadStore:o,operations:[d().bE({pointer:M.pointer,configVariable:e})],transaction:t})}});await n,await B({clientStore:t,environment:_,threadStore:o,userStore:l})}),[o,_,null==M?void 0:M.pointer,l,t,c]),W=(0,i().K8)((()=>{if(!b||!o||!P)return[];const{modules:e,triggers:t,workflowModuleStores:n}=b,r=[];for(const i of n){const e=i.toModuleValue();e&&r.push((0,A.jsx)(C().WorkflowModuleConfiguration,{isInTranscript:!0,module:e,saveConfigVariable:L,saveModule:E(i),store:o,workflowDefinitionPointer:P,workflowModuleStore:i,workflowValue:null==M?void 0:M.value},i.getModuleId()))}for(const i of e)r.push((0,A.jsx)(C().WorkflowModuleConfiguration,{isInTranscript:!0,module:i,saveConfigVariable:L,saveModule:O,store:o,workflowDefinitionPointer:P,workflowValue:null==M?void 0:M.value},i.id));if(M&&V)for(const o of t)r.push((0,A.jsx)(x().WorkflowTriggerConfiguration,{blockStore:V,workflowValue:M.value,trigger:o,workflowDefinitionPointer:P,isInTranscript:!0,saveTrigger:j},o.id));return(0,p().oE)(r)}),[b,o,P,M,L,E,O,j,V]),U=(0,m().Q)(W);return U?(0,A.jsx)("div",{style:h.setupInstructionsContainer,children:U}):null}function I(e){const{clientStore:t,threadStore:o}=e,n=null==o?void 0:o.getSpaceId();if(!o||!n)return;const{steps:r}=(0,S().A3)({clientStore:t,threadStore:o}),i=(0,c().rZ)(r);if(!i)return;const{currentSpaceStore:a}=b().default.state;if(!a)return;const s=(0,u().rE)({transcript:r,workflowBlockId:i,spaceId:n});return s?{pointer:s.workflowModel.pointer,value:s.workflow}:void 0}function T(e){var t;const{clientStore:o,threadStore:n,userStore:r}=e;if(!n)return;let i=[],a=[];const u=function(e){const{threadStore:t,userStore:o}=e;if(!t||!o)return[];const n=t.getTranscript(),{activeIntegrationPointers:r}=(0,s().It)(n);if(0===r.length)return[];const i=[];for(const a of r){const e=k().Px.createChildStore(o,a);if(!e.isDefined())continue;const t=e.getModuleType(),n=e.toModuleValue();if(!n)continue;const r=l().Nh[t];if(!r)continue;"ready"!==r.getModuleConfigurationStatus(n,void 0)&&i.push(e)}return i}({threadStore:n,userStore:r}),d=null===(t=I({clientStore:o,threadStore:n}))||void 0===t?void 0:t.value;return d?(a=(d.triggers??[]).filter((e=>!(0,c().VB)(e))),i=(d.modules??[]).filter((e=>{const t=l().Nh[e.type];if(!t)return!1;return"ready"!==t.getModuleConfigurationStatus(e,d)})).sort(((e,t)=>"config"===e.type?1:"config"===t.type?-1:e.type.localeCompare(t.type))),{modules:i,triggers:a,workflowModuleStores:u}):{modules:i,triggers:a,workflowModuleStores:u}}async function B(e){const{clientStore:t,threadStore:o,environment:n,userStore:r}=e,i=T({clientStore:t,threadStore:o,userStore:r});if(!i)return;const{modules:a,triggers:s,workflowModuleStores:l}=i;a.length>0||s.length>0||l.length>0||await(0,h().WE)({clientStore:t,environment:n,threadStore:o})}},701751:(e,t,o)=>{o.d(t,{p:()=>i});o(296540);var n=o(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"3.97 1.94 14.91 15.66",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M10.55 12.808a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 1 0 1.1 0z"}),(0,n.jsx)("path",{d:"M15.4 1.95a3.48 3.48 0 0 0-3.48 3.48v1.92H6.4a2.425 2.425 0 0 0-2.425 2.425v5.4A2.425 2.425 0 0 0 6.4 17.6h7.2a2.425 2.425 0 0 0 2.425-2.425v-5.4A2.425 2.425 0 0 0 13.6 7.35h-.43V5.43a2.23 2.23 0 1 1 4.46 0v2.095a.625.625 0 1 0 1.25 0V5.43a3.48 3.48 0 0 0-3.48-3.48M5.225 9.775c0-.649.526-1.175 1.175-1.175h7.2c.649 0 1.175.526 1.175 1.175v5.4c0 .649-.526 1.175-1.175 1.175H6.4a1.175 1.175 0 0 1-1.175-1.175z"})]})},i=(0,o(340498).wt)("lockOpen",r)},748539:(e,t,o)=>{o.d(t,{f:()=>n});const n=new(o(645873).O2)("pageCovers",(async()=>{const{pageCovers:e}=await o.e(40198).then(o.bind(o,519737));return e}))},882262:(e,t,o)=>{o.d(t,{m:()=>r});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.23 3.23 13.54 13.53",svg:(0,o(474848).jsx)("path",{d:"M4.485 8.86V5.369l4.073 4.073a.625.625 0 0 0 .884-.884L5.369 4.485h3.49a.625.625 0 1 0 0-1.25h-5a.625.625 0 0 0-.624.625v5a.625.625 0 0 0 1.25 0m10.146 6.655-4.07-4.07a.625.625 0 0 1 .884-.884l4.07 4.07V11.14a.625.625 0 1 1 1.25 0v5c0 .345-.28.625-.625.625h-5a.625.625 0 1 1 0-1.25z"})},r=(0,o(340498).wt)("arrowExpandDiagonal",n)},937199:(e,t,o)=>{o.d(t,{LH:()=>i,Op:()=>r,bi:()=>l,sf:()=>s,v$:()=>a});o(16280);var n=o(296540);const r=(0,n.createContext)(null);function i(){const e=(0,n.useContext)(r);if(!e)throw new Error("usePageLayoutEditorContext must be used inside BaseLayoutEditorContext.Provider");return e}function a(){return(0,n.useContext)(r)}r.displayName="BaseLayoutEditorContext";const s=(0,n.createContext)(null);function l(){const e=(0,n.useContext)(s);if(!e)throw new Error("usePageLayoutEditorContext must be used inside PageLayoutEditorContextProvider");return e}s.displayName="PageLayoutEditorContext"},990402:(e,t,o)=>{o.d(t,{m:()=>r});var n=()=>o(46986);function r(e){return("workflow"===e.getType()||e.isCollectionView()&&e.getWorkflowStore())&&e.canEdit()&&!e.isSystemBlock()&&(0,n().re)()}}}]);