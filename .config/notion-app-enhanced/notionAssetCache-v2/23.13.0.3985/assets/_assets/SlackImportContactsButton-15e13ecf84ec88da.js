"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[55901],{162402:(t,n,i)=>{i.d(n,{q:()=>o});i(296540);var e=i(474848);const o=(0,i(340498).wt)("circleCheckFilled",{viewBox:"0 0 16 16",svg:(0,e.jsx)("path",{d:"M8 16c4.377 0 8-3.631 8-8 0-4.376-3.631-8-8.008-8C3.624 0 0 3.624 0 8c0 4.369 3.631 8 8 8zm-.886-4.165c-.267 0-.487-.11-.69-.384l-1.97-2.416a.852.852 0 01-.187-.51c0-.352.274-.643.627-.643.228 0 .4.07.596.33l1.592 2.055 3.35-5.38c.148-.236.352-.362.556-.362.345 0 .667.236.667.604 0 .173-.102.353-.196.518l-3.686 5.804c-.165.259-.393.384-.66.384z"})})},225334:(t,n,i)=>{i.d(n,{M:()=>s});i(296540);var e=()=>i(401497),o=()=>i(742117),r=()=>i(162402),c=()=>i(381349),a=()=>i(331542),l=i(474848);function s(t){const{isConnecting:n,isIntegrationAuthenticated:i,hideChevronIcon:s}=t,d=(0,e().IS)((t=>({circleCheck:{height:14,width:14,color:c().Ay.blue,fill:c().Ay.blue},chevron:{height:12,width:12},loadingSpinner:{marginLeft:6}})),[]);return n?(0,l.jsx)(a().A,{legacySize:14,style:d.loadingSpinner}):(0,l.jsxs)(l.Fragment,{children:[i&&(0,r().q)(d.circleCheck),!s&&(0,o().V)(d.chevron)]})}},659126:(t,n,i)=>{i.r(n),i.d(n,{default:()=>h});i(898992),i(672577);var e=i(296540),o=()=>i(56366),r=()=>i(617871),c=()=>i(763824),a=()=>i(898563),l=()=>i(449506),s=()=>i(53137),d=i(474848);const h=function(t){const{onClickAuthenticated:n,title:h,hideChevronIcon:u,containerStyle:v,buttonStyle:g,from:C,inviteOrigin:f,flowId:p,loadContacts:m,spacePermissionsSettingsStore:w,shouldAddMembers:_=!0}=t,y=(0,i(484714).v3)(),[A,I]=e.useState(!1),S=(0,o().O$)(i(765957).AppStoreCurrentSpaceStore),x=(0,o().K8)((()=>{const t=null==S?void 0:S.getBotSettingsStore().getValue();return"approved_only"!==(null==t?void 0:t.integration_restrictions)||Boolean((null==t?void 0:t.integration_approval_statuses)&&t.integration_approval_statuses[r().zG])}),[S]),b=(0,o().K8)((()=>s().A.integrations.state.find((t=>t.id===r().zG))),[]),k=(0,i(963589).X)("contact_import_flow_redirect")&&!_,j=(0,o().O$)(s().A.completeSlackAuthentications),z=(0,i(787766).Hc)();return S&&x?(0,d.jsx)("div",{style:v,children:(0,d.jsx)(i(493823).p,{style:g,onClick:async()=>{0===j.length?await async function(t){const{from:e,inviteOrigin:o,flowId:r}=t,s=y.currentUser.id;if(!b||!S||!s)return;try{var d;I(!0),a().fK(y,{origin:o,from:e,invite_flow_id:r});const t=await i(510683).Jq({environment:y,integration:b,spaceId:S.id,from:e});if(i(973647).Q.isFail(t))return void a().mH(y,{origin:o,from:e,invite_flow_id:r,is_success:!1});const s=null===(d=t.value.externalAuthentication)||void 0===d?void 0:d.parent_id;if(!s)return;a().mH(y,{origin:o,from:e,invite_flow_id:r,is_success:!0}),m&&await Promise.race([l().callApi({eventName:"loadContacts",environment:y,data:{botId:s,spaceId:S.id,integrationId:b.id,importContactType:"slack"}}),(0,c().wR)(2e3)]),null==n||n({isAfterImportConnection:!0})}finally{I(!1)}}({from:C,inviteOrigin:f,flowId:p,loadContacts:m}):j.length>0&&(k&&w?w.switchTab(i(973189).d.Contacts):null==n||n({isAfterImportConnection:!1}))},children:(0,d.jsxs)("div",{style:z.labelContainer,children:[h,(0,d.jsx)(i(225334).M,{isConnecting:A,isIntegrationAuthenticated:j.length>0,hideChevronIcon:u})]})})}):null}},742117:(t,n,i)=>{i.d(n,{V:()=>o});i(296540);var e=i(474848);const o=(0,i(340498).wt)("chevronRight",{viewBox:"0 0 16 16",directional:!0,svg:(0,e.jsx)("path",{d:"M12.375 8.06445C12.375 7.83203 12.2861 7.63379 12.1084 7.45605L6.77637 2.24023C6.62598 2.08984 6.44141 2.01465 6.22266 2.01465C5.77832 2.01465 5.42285 2.35645 5.42285 2.80078C5.42285 3.01953 5.51172 3.21777 5.66211 3.375L10.4746 8.06445L5.66211 12.7539C5.51855 12.9043 5.42285 13.1025 5.42285 13.3213C5.42285 13.7725 5.77832 14.1143 6.22266 14.1143C6.44141 14.1143 6.62598 14.0391 6.77637 13.8887L12.1084 8.67285C12.293 8.49512 12.375 8.29688 12.375 8.06445Z"})})}}]);