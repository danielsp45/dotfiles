"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[94476],{94476:(e,t,r)=>{r.r(t),r.d(t,{TOASTER_ZINDEX:()=>M,Toaster:()=>T});r(898992),r(354520),r(581454);var n=r(296540),o=()=>r(484714),i=()=>r(56366),a=()=>r(401497),s=()=>r(496603),d=()=>r(812182),l=()=>r(177158),c=()=>r(644914),u=()=>r(399561),v=()=>r(591779),p=()=>r(599813),f=()=>r(959013),y=()=>r(381349),x=()=>r(512062),g=()=>r(84817),m=()=>r(704152),h=()=>r(285790),b=()=>r(331542),S=()=>r(460292),C=()=>r(554509),k=()=>r(614415),P=()=>r(645873),j=r(474848);function B(e,t){return e?t[e]:t.default}function I(e){const{type:t,actionProps:r,invalidated:n,variant:o}=e,i=(0,y().O4)({theme:"dark"}),s=(0,a().IS)((e=>({actionButton:{minHeight:28,padding:"4px 8px",gap:8,borderRadius:6,display:"flex"},primaryActionButton:{borderWidth:1,borderStyle:"solid",borderColor:B(o,{default:`1px solid ${x().M.dark.translucentGray[400]}`,error:e.stroke.uiRedPrimary})},primaryActionButtonText:{color:B(o,{default:i.text.primary,error:e.text.uiRedPrimary})},secondaryActionButtonText:{color:B(o,{default:i.text.secondary,error:e.text.uiRedSecondary})},actionButtonHovered:{background:B(o,{default:i.state.hover,error:e.outlinefrontSecondaryButtonHoveredBackground})},actionButtonPressed:{background:B(o,{default:i.state.pressed,error:e.outlinefrontSecondaryButtonPressedBackground})}})),[i,o]);return(0,j.jsxs)(m().A,{style:{...s.actionButton,..."primary"===t?s.primaryActionButton:{}},hoveredStyle:s.actionButtonHovered,pressedStyle:s.actionButtonPressed,disabled:r.disabled||n||r.isLoading,onClick:r.onAction,children:[r.isLoading?(0,j.jsx)(b().A,{style:{marginRight:4}}):null,(0,j.jsxs)(g().Y1,{direction:"horizontal",align:"center",children:[r.leadingIconProps?(0,j.jsx)(S().Q,{...r.leadingIconProps}):void 0,(0,j.jsx)(C().D,{styleName:"UISmall-12px/Medium",style:"primary"===t?s.primaryActionButtonText:s.secondaryActionButtonText,children:r.title}),r.trailingIconProps?(0,j.jsx)(S().Q,{...r.trailingIconProps}):void 0]})]})}function w(e){const{actions:t,...r}=e,n=(0,a().IS)((()=>({footerContainer:{paddingLeft:8,paddingBottom:4}})),[]),{primary:o,secondary:i}=t;return(0,j.jsxs)(g().Y1,{direction:"horizontal",align:"center-right",style:n.footerContainer,gap:8,children:[i&&(0,j.jsx)(I,{...r,type:"secondary",actionProps:i}),o&&(0,j.jsx)(I,{...r,type:"primary",actionProps:o})]})}function R(e){const t=(0,f().tz)(),{updatedAt:r,onReplace:o,onMouseEnter:i,onMouseLeave:s,framerMotion:d,variant:l="default"}=e,{motion:c}=d,u=(0,k().sM)(d),g=(0,v().ZC)(r),m=(0,a().IS)((e=>{const t=(0,y().O4)({theme:"dark"});return{toastContainer:{display:"flex",alignItems:"flex-start",borderRadius:8,borderWidth:1,borderStyle:"solid",borderColor:B(l,{default:t.stroke.secondary,error:e.stroke.redSecondary}),outline:"none",background:B(l,{default:t.surface.elevated,error:e.tint.uiRed}),backdropFilter:"blur(15px)",width:280,padding:"8px 8px 4px 8px",pointerEvents:"auto",minHeight:40},toastContentContainer:{display:"flex",flexDirection:"column",flexGrow:1,alignItems:"flex-start"},toastContent:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:4,padding:"4px 28px 8px 4px",width:"100%"},iconContainer:{width:26,height:24,display:"flex",padding:"2px 4px 2px 2px",flexDirection:"column",justifyContent:"center",alignItems:"center"},icon:{display:"flex",width:14,height:14,flexDirection:"column",justifyContent:"center",alignItems:"center",fill:B(l,{default:x().M.dark.translucentGray[800],error:e.icon.uiRedPrimary})},title:{color:B(l,{default:e.text.contrastPrimary,error:e.text.uiRedPrimary}),fontFeatureSettings:"'case' on",overflowWrap:"break-word"},toastMessage:{color:B(l,{default:t.text.primary,error:e.text.uiRedPrimary}),fontFeatureSettings:"'case' on",overflowWrap:"break-word",width:"100%"},closeButton:{width:24,height:24,position:"absolute",right:8,top:8,gap:8,borderRadius:6,display:"flex",alignItems:"center",justifyContent:"center",zIndex:1},closeIcon:{width:14,height:14,paddingBottom:.5,fill:B(l,{default:x().M.dark.translucentGray[800],error:e.icon.uiRedPrimary})},closeIconHovered:{background:B(l,{default:t.state.hover,error:e.outlinefrontSecondaryButtonHoveredBackground})},closeIconPressed:{background:B(l,{default:t.state.pressed,error:e.outlinefrontSecondaryButtonPressedBackground})}}}),[l]);(0,n.useEffect)((()=>{(async()=>{r&&(!g||r>g)&&(o(),await u.start({scale:[1,1.05,1],transition:{duration:.15,ease:"easeIn"}}))})()}),[r,g,o,u]);const b=e.jsxMessage??e.message;let P=null;return e.icon?P=(0,j.jsx)("div",{style:m.iconContainer,children:e.icon({...m.icon,...e.iconStyles})}):e.iconGroup&&(P=(0,j.jsx)("span",{style:m.iconContainer,children:(0,j.jsx)(S().Q,{iconGroup:e.iconGroup,colorName:e.iconGroupColorName,variantName:e.iconGroupVariant??"small"})})),(0,j.jsxs)(c.div,{role:"status","aria-live":"polite",onHoverStart:i,onHoverEnd:s,animate:u,style:m.toastContainer,custom:e.id,children:["blocking"!==e.presentationType&&(0,j.jsx)(h().A,{ariaLabel:t.formatMessage({id:"toast.close",defaultMessage:"Close"}),icon:()=>(0,p().xMarkIcon)(m.closeIcon),style:m.closeButton,hoveredStyle:m.closeIconHovered,pressedStyle:m.closeIconPressed,onClick:e.onClose}),P,(0,j.jsxs)("div",{style:m.toastContentContainer,children:[(0,j.jsxs)("div",{style:m.toastContent,children:[e.title&&(0,j.jsx)(C().D,{styleName:"UISmall-12px/Semibold",style:m.title,children:e.title}),b&&(0,j.jsx)(C().D,{styleName:"UISmall-12px/Regular",customStyles:m.toastMessage,children:b})]}),e.actions?(0,j.jsx)(w,{actions:e.actions,invalidated:e.invalidated,variant:e.variant}):void 0]})]})}function A(e){const{value:t}=(0,P().fJ)(k().fM);return t?(0,j.jsx)(R,{...e,framerMotion:t}):null}const M=201;function T(){const e=(0,o().v3)(),[t,r]=(0,n.useState)({}),[a,c]=(0,n.useReducer)((e=>e+1),0),v=(0,n.useRef)({}),p=(0,n.useRef)(),f=(0,n.useRef)({}),y=(0,i().K8)((()=>u().A.state.toasts),[]),[x]=(0,i().K8)((()=>[e.WindowSizeStore.getSafePaddingBottomPx(20)]),[e.WindowSizeStore]),g=(0,n.useCallback)((()=>{let e;const r=Object.keys(t).filter((r=>{var n,o;return r===(null===(n=p.current)||void 0===n?void 0:n.toast.id)&&(e=t[r]),r!==(null===(o=p.current)||void 0===o?void 0:o.toast.id)})).map((e=>t[e])).sort(((e,t)=>{var r,n;return(null===(r=t.createdAt)||void 0===r?void 0:r.valueOf())-(null===(n=e.createdAt)||void 0===n?void 0:n.valueOf())}));if(e&&p.current&&void 0!==p.current.index){const{index:t}=p.current;r.splice(t,0,e),p.current.index=r.indexOf(e)}return r}),[t]),m=(0,n.useCallback)((e=>{clearTimeout(v.current[e]),delete v.current[e]}),[]),h=(0,n.useCallback)(((e,t)=>{var r,n;e.id===(null===(r=p.current)||void 0===r?void 0:r.toast.id)&&(p.current=void 0),m(e.id),null!==(n=f.current)&&void 0!==n&&n[e.id]&&(f.current[e.id].active=!1,t&&(f.current[e.id].suppressOnDismiss=t)),c()}),[m]),b=(0,n.useCallback)((e=>{var t,r;"transient"===e.presentationType&&!v.current[e.id]&&e.id!==(null===(t=p.current)||void 0===t?void 0:t.toast.id)&&null!==(r=f.current)&&void 0!==r&&null!==(r=r[e.id])&&void 0!==r&&r.active&&(m(e.id),v.current[e.id]=window.setTimeout((()=>h(e)),5e3))}),[m,h]),S=(0,n.useCallback)((()=>{requestAnimationFrame((()=>{const e=g();let t=0;for(const[n,o]of e.entries()){var r;const e=document.querySelector(`[data-toast-id='${o.id}']`);if(!e||o.id===(null===(r=p.current)||void 0===r?void 0:r.toast.id))continue;const i=e.getBoundingClientRect();if(!i.height)return void S();if(f.current[o.id]||(f.current[o.id]={toast:o,active:!0}),f.current[o.id].index=n,f.current[o.id].height=i.height,p.current){const e=p.current;t<e.yPos-e.height||t-i.height>e.yPos||(t=e.yPos+e.height+x)}f.current[o.id].yPos=t,t=t+i.height+x,t>window.innerHeight&&(f.current[o.id].active=!1),b(o)}c()}))}),[g,b,x]);(0,n.useEffect)((()=>{r((e=>{const t={...e,...y};for(const r of Object.values(t))f.current[r.id]&&!y[r.id]&&(f.current[r.id].active=!1);return t}))}),[y]),(0,n.useLayoutEffect)(S,[t,S]),(0,n.useEffect)((()=>(window.addEventListener("resize",S),()=>window.removeEventListener("resize",S))),[S]);const C=(0,n.useCallback)((e=>{var t;null!==(t=f.current)&&void 0!==t&&t[e.id]&&(f.current[e.id].userDismissed=!0),h(e)}),[h]),k=(0,n.useCallback)(((e,t)=>{var r,n,o;m(e.id),null===(r=f.current)||void 0===r||!r[e.id]||null!==(n=f.current)&&void 0!==n&&null!==(n=n[e.id])&&void 0!==n&&n.actionTriggered||null!==(o=f.current)&&void 0!==o&&null!==(o=o[e.id])&&void 0!==o&&o.userDismissed||(f.current[e.id].active=!0,p.current={...f.current[e.id]},S())}),[S,m]),P=(0,n.useCallback)((e=>{var t;e.id===(null===(t=p.current)||void 0===t?void 0:t.toast.id)?(p.current=void 0,S()):b(e)}),[S,b]),B=(0,n.useCallback)((e=>{m(e.id),b(e)}),[m,b]),I=(0,n.useCallback)((e=>{var n;const o=e.target,i=null==o?void 0:o.getAttribute("data-toast-id");if(o&&"opacity"===e.propertyName&&i&&null!==(n=f.current)&&void 0!==n&&n[i]){var a;const e=f.current[i];if(e.active)return;i===(null===(a=p.current)||void 0===a?void 0:a.toast.id)&&(p.current=void 0);const n=t[i];u().A.state.toasts[n.id]&&d().UW(n.id,e.suppressOnDismiss,e.userDismissed),delete f.current[i],r((e=>s().cJ({...e},[i])))}}),[t]);return(0,j.jsx)(l().A,{open:g().length>0,zIndex:M,children:g().map(((e,t)=>{var r;const n=null===(r=f.current)||void 0===r?void 0:r[e.id],o=void 0!==(null==n?void 0:n.yPos)&&(null==n?void 0:n.active),i=null!=n&&n.active?0:100;return(0,j.jsx)(D,{"data-toast-id":e.id,onTransitionEnd:I,yPos:void 0!==(null==n?void 0:n.yPos)?-n.yPos:i,visible:o,children:(0,j.jsx)(A,{...e,onMouseEnter:()=>k(e,t),onMouseLeave:()=>P(e),onReplace:()=>B(e),onClose:()=>C(e),actions:e.actions})},e.id)}))})}function D(e){const{yPos:t,visible:r,children:n,...s}=e,d=(0,o().v3)(),[l,u,v]=(0,i().K8)((()=>[d.WindowSizeStore.getSafePaddingLeftCSS(20),d.WindowSizeStore.getSafePaddingBottomCSS(20),(0,c().kf)(d)]),[d]),p=(0,a().IS)((()=>({toastContainer:{left:v,transform:`translateY(${t??0}px) scale(${r?1:.96})`,transitionDuration:"0.3s",opacity:r?1:0,position:"fixed",bottom:0,transitionProperty:"opacity, transform",marginLeft:l,marginBottom:u}})),[v,l,u,t,r]);return(0,j.jsx)("div",{style:p.toastContainer,...s,children:n})}}}]);