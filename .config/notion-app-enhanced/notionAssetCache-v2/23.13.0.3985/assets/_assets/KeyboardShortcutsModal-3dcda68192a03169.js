"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[19512],{445326:(e,t,s)=>{s.r(t),s.d(t,{KeyboardShortcutsModal:()=>j});s(581454);var o=s(296540),i=()=>s(484714),r=()=>s(401497),n=()=>s(959013),a=()=>s(284371),c=(s(898992),s(354520),s(803949),s(737550),s(474848));const d=(0,n().YK)({dialogLabel:{id:"keyboardShortcutsModal.dialogLabel",defaultMessage:"Keyboard shortcuts"},searchPlaceholder:{id:"keyboardShortcutsModal.searchPlaceholder",defaultMessage:"Search shortcuts..."},closeSearchPlaceholder:{id:"keyboardShortcutsModal.closeSearchPlaceholder",defaultMessage:"Close search"},mostPopular:{id:"keyboardShortcutsModal.mostPopular",defaultMessage:"Most popular"},desktopKeyboardShortcuts:{id:"keyboardShortcutsModal.desktopKeyboardShortcuts",defaultMessage:"Desktop keyboard shortcuts"},markdownStyle:{id:"keyboardShortcutsModal.markdownStyle",defaultMessage:"Markdown style"},createAndStyleContent:{id:"keyboardShortcutsModal.createAndStyleContent",defaultMessage:"Create & style your content"},editAndMoveBlocks:{id:"keyboardShortcutsModal.editAndMoveBlocks",defaultMessage:"Edit & move blocks"},atCommands:{id:"keyboardShortcutsModal.atCommands",defaultMessage:"@ commands"},bracketCommands:{id:"keyboardShortcutsModal.bracketCommands",defaultMessage:"[[ commands"},plusCommands:{id:"keyboardShortcutsModal.plusCommands",defaultMessage:"+ commands"},slashCommands:{id:"keyboardShortcutsModal.slashCommands",defaultMessage:"Slash commands"},slashCommandsBasic:{id:"keyboardShortcutsModal.slashCommands.basic",defaultMessage:"Basic"},slashCommandsInline:{id:"keyboardShortcutsModal.slashCommands.inline",defaultMessage:"Inline"},slashCommandsMedia:{id:"keyboardShortcutsModal.slashCommands.media",defaultMessage:"Media"},slashCommandsAdvanced:{id:"keyboardShortcutsModal.slashCommands.advanced",defaultMessage:"Advanced"},noResultsFound:{id:"keyboardShortcutsModal.noResultsFound",defaultMessage:"No results found"},noResultsDescription:{id:"keyboardShortcutsModal.noResultsDescription",defaultMessage:"Try searching for a different keyword or browse the categories above."}}),l=[{id:"most-popular",messageKey:"mostPopular",sectionId:"most-popular"},{id:"desktop-shortcuts",messageKey:"desktopKeyboardShortcuts",sectionId:"desktop-shortcuts"},{id:"markdown-style",messageKey:"markdownStyle",sectionId:"markdown-style"},{id:"create-style-content",messageKey:"createAndStyleContent",sectionId:"create-style-content"},{id:"edit-move-blocks",messageKey:"editAndMoveBlocks",sectionId:"edit-move-blocks"},{id:"at-commands",messageKey:"atCommands",sectionId:"at-commands"},{id:"bracket-commands",messageKey:"bracketCommands",sectionId:"bracket-commands"},{id:"plus-commands",messageKey:"plusCommands",sectionId:"plus-commands"},{id:"slash-commands",messageKey:"slashCommands",sectionId:"slash-commands"}];function p(e){return e.isElectron}function u(e,t){const s=p(t);return e.map((e=>({...e,sections:e.sections.map((e=>({...e,shortcuts:e.shortcuts.filter((e=>!(e.description.includes("(desktop apps only)")&&!s)))})))}))).filter((e=>e.sections.some((e=>e.shortcuts.length>0))))}function h(e,t){if(!t.trim())return e;const s=new RegExp(`(${t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return e.split(s).map(((e,t)=>null!==e.match(s)?(0,c.jsx)("mark",{style:{backgroundColor:"#ffeb3b",color:"inherit",padding:"0 2px",borderRadius:"2px"},children:e},t):e))}function m(e,t,s){if(!t.trim())return e;const o=t.toLowerCase(),i=p(s);return e.map((e=>{const t=e.sections.map((e=>({...e,shortcuts:e.shortcuts.filter((e=>!(!e.description.toLowerCase().includes(o)&&!e.keys.toLowerCase().includes(o))&&!(e.description.includes("(desktop apps only)")&&!i)))}))).filter((e=>e.shortcuts.length>0));return{...e,sections:t}})).filter((e=>!("desktop-shortcuts"===e.id&&!i)&&e.sections.length>0))}const y=[{id:"most-popular",title:"Most popular",sections:[{title:"",shortcuts:[{description:"Create a new page (desktop apps only)",keys:"cmd/ctrl+N"},{description:"Open a new Notion window (desktop apps only)",keys:"cmd/ctrl+shift+N"},{description:"Open a page as a new window (desktop apps only)",keys:"option/alt+shift+N"},{description:"Open a link as a new Notion tab (desktop apps only)",keys:"cmd/ctrl+click"},{description:"Create a new Notion tab (desktop apps only)",keys:"cmd/ctrl+T"},{description:"Open search or jump to a recently viewed page",keys:"cmd/ctrl+P"},{description:"Copy page URL",keys:"cmd/ctrl+L"},{description:"Go back a page",keys:"cmd/ctrl+["},{description:"Go forward a page",keys:"cmd/ctrl+]"}]}]},{id:"desktop-shortcuts",title:"Desktop keyboard shortcuts",sections:[{title:"",shortcuts:[{description:"Create a new page",keys:"cmd/ctrl+N"},{description:"Open a new Notion window",keys:"cmd/ctrl+shift+N"},{description:"Open a page as a new window",keys:"option/alt+shift+N"},{description:"Open a link as a new Notion tab",keys:"cmd/ctrl+click"},{description:"Create a new Notion tab",keys:"cmd/ctrl+T"},{description:"Toggle sidebar",keys:"cmd/ctrl+\\"},{description:"Toggle dark mode",keys:"cmd/ctrl+shift+L"}]}]},{id:"markdown-style",title:"Markdown style",sections:[{title:"",shortcuts:[{description:"Bold text (surround with **)",keys:"**text**"},{description:"Italic text (surround with *)",keys:"*text*"},{description:"Inline code (surround with `)",keys:"`code`"},{description:"Strikethrough (surround with ~)",keys:"~text~"},{description:"Create H1 heading",keys:"# + space"},{description:"Create H2 heading",keys:"## + space"},{description:"Create H3 heading",keys:"### + space"},{description:"Create bulleted list",keys:"- + space"},{description:"Create numbered list",keys:"1. + space"},{description:"Create to-do checkbox",keys:"[] + space"},{description:"Create toggle list",keys:"> + space"},{description:"Create quote block",keys:'" + space'}]}]},{id:"create-style-content",title:"Create & style your content",sections:[{title:"",shortcuts:[{description:"Insert line of text",keys:"enter"},{description:"Line break within text block",keys:"shift+enter"},{description:"Create comment",keys:"cmd/ctrl+shift+M"},{description:"Bold selected text",keys:"cmd/ctrl+B"},{description:"Italic selected text",keys:"cmd/ctrl+I"},{description:"Underline selected text",keys:"cmd/ctrl+U"},{description:"Strikethrough selected text",keys:"cmd/ctrl+shift+S"},{description:"Add link to selected text",keys:"cmd/ctrl+K"},{description:"Create inline code",keys:"cmd/ctrl+E"},{description:"Indent content",keys:"tab"},{description:"Un-indent content",keys:"shift+tab"}]}]},{id:"edit-move-blocks",title:"Edit & move blocks",sections:[{title:"",shortcuts:[{description:"Select current block",keys:"esc"},{description:"Select block with cursor",keys:"cmd/ctrl+A"},{description:"Select different block",keys:"arrow keys"},{description:"Expand selection up/down",keys:"shift+↑/↓"},{description:"Select entire block",keys:"cmd/ctrl+shift+click"},{description:"Delete selected blocks",keys:"backspace/delete"},{description:"Duplicate selected blocks",keys:"cmd/ctrl+D"},{description:"Edit/change selected blocks",keys:"cmd/ctrl+/"},{description:"Move selected block",keys:"cmd/ctrl+shift+arrow"},{description:"Expand/close all toggles",keys:"cmd/ctrl+option/alt+T"}]}]},{id:"at-commands",title:"@ commands",sections:[{title:"",shortcuts:[{description:"Mention a person",keys:"@person"},{description:"Mention a page",keys:"@page"},{description:"Mention a date",keys:"@date"},{description:"Add a reminder",keys:"@remind"}]}]},{id:"bracket-commands",title:"[[ commands",sections:[{title:"",shortcuts:[{description:"Link to a page",keys:"[[page name"},{description:"Create a sub-page",keys:"[[sub-page name"},{description:"Create new page elsewhere",keys:"[[new page name"}]}]},{id:"plus-commands",title:"+ commands",sections:[{title:"",shortcuts:[{description:"Create a sub-page",keys:"+sub-page name"},{description:"Create new page elsewhere",keys:"+new page name"},{description:"Link to a page",keys:"+page name"}]}]},{id:"slash-commands",title:"Slash commands",sections:[{title:"Basic",shortcuts:[{description:"Create text block",keys:"/text"},{description:"Create new page",keys:"/page"},{description:"Create bulleted list",keys:"/bullet"},{description:"Create numbered list",keys:"/num"},{description:"Create to-do list",keys:"/todo"},{description:"Create toggle list",keys:"/toggle"},{description:"Create divider",keys:"/div"},{description:"Create quote block",keys:"/quote"},{description:"Create H1 heading",keys:"/h1"},{description:"Create H2 heading",keys:"/h2"},{description:"Create H3 heading",keys:"/h3"},{description:"Create link to page",keys:"/link"}]},{title:"Inline",shortcuts:[{description:"Mention person or page",keys:"/mention"},{description:"Add date or reminder",keys:"/date"},{description:"Add TeX equation",keys:"/equation"},{description:"Open emoji picker",keys:"/emoji"}]},{title:"Media",shortcuts:[{description:"Upload or embed image",keys:"/image"},{description:"Embed PDF",keys:"/pdf"},{description:"Create web bookmark",keys:"/book"},{description:"Upload or embed video",keys:"/video"},{description:"Upload or embed audio",keys:"/audio"},{description:"Create code block",keys:"/code"},{description:"Upload file",keys:"/file"},{description:"Add embed",keys:"/embed"}]},{title:"Advanced",shortcuts:[{description:"Duplicate current block",keys:"/duplicate"},{description:"Move block to different page",keys:"/moveto"},{description:"Delete current block",keys:"/delete"},{description:"Create table of contents",keys:"/toc"},{description:"Create template button",keys:"/button"},{description:"Insert breadcrumb menu",keys:"/bread"},{description:"Add math equation",keys:"/math"}]}]}];function k(e){let{shortcut:t,searchValue:s,isMac:i,styles:r}=e;const n=function(e,t){if(e.startsWith("+")||e.startsWith("/")||e.startsWith("@")||e.startsWith("[[")||!e.includes("+"))return e;const s=t?{"cmd/ctrl":"cmd","option/alt":"option",ctrl:"ctrl"}:{"cmd/ctrl":"ctrl","option/alt":"alt",cmd:"ctrl",option:"alt"};let o=e;return Object.entries(s).forEach((e=>{let[t,s]=e;o=o.replace(new RegExp(t,"g"),s)})),o}(t.keys,i);if(n.startsWith("+")||n.startsWith("/")||n.startsWith("@")||n.startsWith("[[")||!n.includes("+")){const e=s&&s.trim()?h(n,s):n;return(0,c.jsx)("div",{style:r.shortcutKeys,children:(0,c.jsx)("code",{style:r.keyCode,children:e})})}const a=n.split("+").map((e=>e.trim())).filter((e=>e.length>0));return(0,c.jsx)("div",{style:r.shortcutKeys,children:a.map(((e,t)=>{const i=s&&s.trim()?h(e,s):e;return(0,c.jsxs)(o.Fragment,{children:[(0,c.jsx)("code",{style:r.keyCode,children:i}),t<a.length-1&&(0,c.jsx)("span",{style:r.plusText,children:"+"})]},`key-${t}`)}))})}function g(e){let{shortcut:t,searchValue:s,isSearching:o,isMac:i,styles:r}=e;return(0,c.jsxs)("div",{style:r.shortcutItem,children:[(0,c.jsx)("span",{style:r.shortcutDescription,children:o?h(t.description,s):t.description}),(0,c.jsx)(k,{shortcut:t,searchValue:s,isMac:i,styles:{shortcutKeys:r.shortcutKeys,keyCode:r.keyCode,plusText:r.plusText}})]})}const f=(0,o.forwardRef)((function(e,t){let{section:s,searchValue:o,isSearching:r,styles:n}=e;const{isMac:a}=(0,i().Y0)();return(0,c.jsxs)("div",{ref:t,style:n.section,children:[(0,c.jsx)("h2",{style:n.sectionTitle,children:s.title}),s.sections.map(((e,t)=>(0,c.jsxs)("div",{children:[e.title&&(0,c.jsx)("h3",{style:n.subsectionTitle,children:e.title}),e.shortcuts.map(((e,t)=>(0,c.jsx)(g,{shortcut:e,searchValue:o,isSearching:r,isMac:a,styles:{shortcutItem:n.shortcutItem,shortcutDescription:n.shortcutDescription,shortcutKeys:n.shortcutKeys,keyCode:n.keyCode,plusText:n.plusText}},t)))]},t)))]},s.id)})),b=(0,o.forwardRef)((function(e,t){let{activeSection:l,onSectionChange:h,searchValue:k}=e;const g=(0,o.useRef)(null),b=(0,o.useRef)({}),x=(0,i().Y0)(),C=(0,n().tz)(),S=u(y,x).filter((e=>!("desktop-shortcuts"===e.id&&!p(x)))),w=m(S,k,x),v=k.trim().length>0,M=w.length>0,I=(0,r().IS)((e=>({contentContainer:{flex:1,padding:"24px 16px 24px 32px",overflow:"auto"},section:{marginBottom:48},sectionTitle:{fontWeight:a().Wy.semibold,color:e.text.primary,marginBottom:16,marginTop:0},subsectionTitle:{fontWeight:a().Wy.semibold,color:e.text.primary,marginBottom:8,marginLeft:16},shortcutItem:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0",borderBottom:`1px solid ${e.chartGridLineColor}`},shortcutDescription:{flex:1,fontSize:14,color:e.text.primary,marginRight:16},shortcutKeys:{display:"flex",gap:4,alignItems:"center"},keyCode:{fontFamily:"monospace",fontSize:13,padding:"4px 8px",backgroundColor:e.cardSidebarBackground,color:e.text.primary,borderRadius:4,border:`1px solid ${e.chartGridLineColor}`},plusText:{fontSize:12,color:e.text.secondary,margin:"0 4px"},noResults:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"300px",textAlign:"center"},noResultsTitle:{fontSize:18,fontWeight:a().Wy.semibold,color:e.text.primary,marginBottom:8},noResultsDescription:{fontSize:14,color:e.text.secondary,maxWidth:400}})),[]),j=(0,o.useCallback)((e=>{const t=b.current[e];if(t&&g.current){const e=g.current.offsetTop,s=t.offsetTop-e;g.current.scrollTo({top:s,behavior:"smooth"})}}),[]);return(0,o.useImperativeHandle)(t,(()=>({scrollToSection:j})),[j]),(0,o.useEffect)((()=>{const e=(0,s(496603).nF)((()=>{if(!g.current)return;const e=g.current.scrollTop,t=g.current.offsetTop;let s="",o=1/0;const i=Object.entries(b.current);for(let r=0;r<i.length;r++){const[n,a]=i[r];if(a){const i=a.offsetTop-t,r=Math.abs(e-i);i<=e+100&&r<o&&(o=r,s=n)}}s&&s!==l&&h(s)}),16),t=g.current;if(t)return t.addEventListener("scroll",e),()=>{t.removeEventListener("scroll",e),e.cancel()}}),[l,h]),(0,c.jsx)("div",{ref:g,style:I.contentContainer,children:v?M?w.map((e=>(0,c.jsx)(f,{section:e,searchValue:k,isSearching:v,styles:I,ref:t=>{b.current[e.id]=t}},e.id))):(0,c.jsxs)("div",{style:I.noResults,children:[(0,c.jsx)("h2",{style:I.noResultsTitle,children:C.formatMessage(d.noResultsFound)}),(0,c.jsx)("p",{style:I.noResultsDescription,children:C.formatMessage(d.noResultsDescription)})]}):S.map((e=>(0,c.jsx)(f,{section:e,searchValue:k,isSearching:v,styles:I,ref:t=>{b.current[e.id]=t}},e.id)))})}));var x=()=>s(207207),C=()=>s(704152),S=()=>s(623580),w=()=>s(125565);function v(e){let{activeSection:t,isSearchActive:s,onSectionSelect:u,searchValue:h,onSearchChange:m,availableSectionIds:y,onSearchStatusChange:k}=e;const g=(0,n().tz)(),f=(0,r().DP)(),b=(0,i().Y0)(),v=(0,o.useRef)(""),M=l.filter((e=>!("desktop-shortcuts"===e.id&&!p(b)))),I=(0,o.useCallback)((()=>{u("most-popular")}),[u]);(0,o.useEffect)((()=>{I()}),[I]);const j=h.trim().length>0?M.filter((e=>y.includes(e.sectionId))):M;(0,o.useEffect)((()=>{const e=h.trim();if(e!==v.current&&e.length>0&&j.length>0){const e=j[0];u(e.sectionId)}v.current=e}),[h,j,u]);const T=(0,r().IS)((e=>({topBar:{display:"flex",alignItems:"center",gap:12,padding:"24px 16px 0px 16px",minHeight:60,position:"relative"},searchContainer:{position:"relative",display:"flex",alignItems:"center",transition:"width 0.2s ease-in-out",width:s?"33%":"auto",paddingLeft:16,flexShrink:0,zIndex:1,height:64,backgroundColor:"dark"===e.mode?e.cardBackground:e.contentBackground},searchButton:{display:"flex",alignItems:"center",justifyContent:"center",width:32,height:32,borderRadius:6,cursor:"pointer",backgroundColor:"transparent",border:"none",padding:0},searchInput:{flex:1,paddingLeft:12,paddingRight:32,height:32},searchIcon:{width:24,fill:e.text.secondary},pillsContainer:{display:"flex",gap:8,flex:1,overflow:"auto",padding:8,marginLeft:s?12:0},pill:{flexShrink:0,height:32,paddingLeft:12,paddingRight:12,borderRadius:16,display:"flex",alignItems:"center",cursor:"pointer",transition:"all 0.15s ease",whiteSpace:"nowrap"},activePill:{backgroundColor:e.buttonHoveredBackground}})),[s]),R=(0,o.useCallback)((()=>{k(!0)}),[k]),A=(0,o.useCallback)((()=>{k(!1),m("")}),[m,k]),B=(0,o.useCallback)((e=>{u(e)}),[u]);return(0,c.jsxs)("div",{style:T.topBar,children:[(0,c.jsx)("div",{style:T.searchContainer,children:(0,c.jsxs)("div",{style:{position:"relative",width:"100%",height:32},children:[(0,c.jsx)("div",{style:{position:"absolute",width:"100%",opacity:s?0:1,transform:`translateX(${s?"-20px":"0"})`,transition:"opacity 0.2s ease, transform 0.2s ease"},children:(0,c.jsx)(C().A,{style:T.searchButton,onClick:R,ariaLabel:g.formatMessage(d.searchPlaceholder),focused:!0,children:(0,x().J)(T.searchIcon)})}),(0,c.jsx)("div",{style:{width:s?"100%":"30px",opacity:s?1:0,transform:`translateX(${s?"0":"20px"})`,transition:"opacity 0.2s ease, transform 0.2s ease"},children:s&&(0,c.jsx)(S().A,{placeholder:g.formatMessage(d.searchPlaceholder),left:(0,x().J)(T.searchIcon),value:h,onChange:e=>m(e.target.value),inputStyle:T.searchInput,autoFocus:!0,forceShowClearButton:!0,onClearButtonClick:A})})]})}),(0,c.jsx)("div",{style:T.pillsContainer,children:j.map((e=>{const s=t===e.sectionId;return(0,c.jsx)(C().A,{style:T.pill,onClick:()=>B(e.sectionId),hoveredStyle:T.activePill,focused:s,children:(0,c.jsx)(w().A,{style:{fontSize:13,fontWeight:s?a().Wy.semibold:a().Wy.regular,color:f.text.primary},children:(0,c.jsx)(n().sA,{...d[e.messageKey]})})},e.id)}))})]})}const M={display:"flex",flexDirection:"column",height:"100%",width:"100%"};function I(e){let{open:t,onDismiss:l}=e;const[p,h]=(0,o.useState)("most-popular"),[k,g]=(0,o.useState)(""),f=(0,o.useRef)(null),x=(0,n().tz)(),C=(0,i().Y0)(),[S,w]=(0,o.useState)(!1),I=m(u(y,C),k,C).map((e=>e.id)),j=(0,o.useCallback)((e=>{var t;null===(t=f.current)||void 0===t||t.scrollToSection(e)}),[]),T=(0,o.useCallback)((e=>{h(e)}),[]),R=(0,o.useCallback)((e=>{g(e)}),[]),A=(0,r().IS)((e=>({modalInner:{width:1200,maxWidth:"calc(100vw - 100px)",height:"calc(100vh - 100px)",overflow:"hidden",borderRadius:12,maxHeight:700},title:{fontWeight:a().Wy.bold,color:e.text.primary,padding:"24px 0px 0px 32px",marginTop:0,marginBottom:0}})),[]);return(0,c.jsx)(s(676007).a,{ariaLabel:x.formatMessage(d.dialogLabel),open:t,innerStyle:A.modalInner,onDismiss:()=>{g(""),h("most-popular"),l(),w(!1)},render:()=>(0,c.jsx)(s(297872).A,{capture:!0,allowEsc:!0,render:e=>(0,c.jsxs)("div",{style:M,...e,children:[(0,c.jsx)("h1",{style:A.title,children:x.formatMessage(d.dialogLabel)}),(0,c.jsx)(v,{activeSection:p,isSearchActive:S,onSearchStatusChange:w,onSectionSelect:j,searchValue:k,onSearchChange:R,availableSectionIds:I}),(0,c.jsx)(b,{ref:f,activeSection:p,onSectionChange:T,searchValue:k})]})})})}const j=o.memo(I)}}]);