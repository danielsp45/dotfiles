"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[61362],{434867:(e,o,a)=>{a.r(o),a.d(o,{switchFromTabbedToSimpleLayout:()=>d});a(16280),a(898992),a(803949);var t=()=>a(454984),n=()=>a(475140),i=()=>a(778781),r=()=>a(534177),s=()=>a(751156),l=()=>a(630116);function d(e){const{environment:o,layoutStore:a}=e;a.isTabbedPageLayout()&&s().createAndCommit({environment:o,perform:e=>{const o=a.getRawModules();if(!o)throw new Error("Invalid state: no raw modules by area");const d=(0,n().yn)(o,(e=>"viewsMain"===e.type));if(!d)throw new Error("Invalid state: no views main module in page_main area");const{module:p,position:m}=d;if("page_layout_schema"!==m.area||!(0,i().y6)(p))throw new Error("Invalid state: views main module not in page_main area");if(s().applyOperation({store:a,transaction:e,operation:t().N4.deleteModuleInArea({pointer:a.pointer,area:"page_layout_schema",moduleId:p.id})}),!o.views_main_tab_modules)throw new Error("Invalid state: no views_main_tab_modules area");const u=(0,r().uv)(o.views_main_tab_modules);if(1!==u.length)throw new Error("Invalid state: expected 1 tab key in views_main_tab_modules but found 0 or more");const w=u[0],_=o.views_main_tab_modules[w];if(!_)throw new Error("Invalid state: no views main modules in views_main_tab_modules area");_.forEach((o=>{s().applyOperation({store:a,transaction:e,operation:t().N4.putModuleAfter({pointer:a.pointer,area:"page_layout_schema",module:o,afterId:void 0})})})),_.forEach((o=>{s().applyOperation({store:a,transaction:e,operation:t().N4.deleteModuleInArea({pointer:a.pointer,area:"views_main_tab_modules",viewId:w,moduleId:o.id})})}));const c=l().Bv.createChildStore(a,p.collection_view_block_pointer);s().applyOperation({store:a,transaction:e,operation:t().N4.updateFormat({pointer:a.pointer,format:{previousViewsMainCollectionViewBlockPointer:c.pointer}})})},canUndo:!0,userAction:"viewsModuleActions.switchFromTabbedToSimpleLayout"})}}}]);