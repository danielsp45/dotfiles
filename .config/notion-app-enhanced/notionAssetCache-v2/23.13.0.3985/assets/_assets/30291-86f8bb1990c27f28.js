"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[30291],{105239:(e,t,o)=>{o.d(t,{N:()=>r});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"3.37 1.37 13.26 16.26",svg:(0,o(474848).jsx)("path",{d:"M9.191 1.478a.624.624 0 0 1 .864.867l-.08.099-1.942 1.932H10A6.625 6.625 0 1 1 3.375 11a.625.625 0 1 1 1.25 0A5.375 5.375 0 1 0 10 5.626H8.037L9.962 7.56l.08.098a.626.626 0 0 1-.966.783L6.083 5.434l-.077-.096a.626.626 0 0 1 .08-.788l3.007-2.993z"})},r=(0,o(340498).wt)("arrowCircleSpinCounterClockwise",n)},170350:(e,t,o)=>{o.d(t,{S:()=>r});o(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.87 15.25 10.25",svg:(0,o(474848).jsx)("path",{d:"M3 4.875a.625.625 0 1 0 0 1.25h14a.625.625 0 1 0 0-1.25zm2.125 5.742h9.75a.625.625 0 1 0 0-1.25h-9.75a.625.625 0 1 0 0 1.25m1.5 3.883c0-.345.28-.625.625-.625h5.5a.625.625 0 1 1 0 1.25h-5.5a.625.625 0 0 1-.625-.625"})},r=(0,o(340498).wt)("filter",n)},187899:(e,t,o)=>{o.d(t,{Hs:()=>P,B$:()=>R,m:()=>K,x1:()=>z,RQ:()=>I,RZ:()=>O,H2:()=>D,IU:()=>_,Ms:()=>H,Aq:()=>L,LS:()=>V});o(898992),o(354520),o(672577),o(581454),o(296540);var n=()=>o(908006),r=()=>o(289915),i=()=>o(921598),l=()=>o(206267),a=()=>o(792071),s=()=>o(496603),c=()=>o(534177),d=()=>o(436572),u=()=>o(467676),p=()=>o(914701),g=()=>o(763884),h=()=>o(764670);var m=()=>o(180762),f=()=>o(314660),x=()=>o(484714),C=()=>o(959013),y=()=>o(495262),v=()=>o(104012),S=o(474848);function b(){return(0,S.jsx)(C().sA,{defaultMessage:"Changes saved for everyone.",id:"database.filterBar.saved.title"})}function A(e){const{collectionContextStore:t,temporaryState:o}=e,n=(0,x().v3)();return(0,S.jsx)(v().Ag,{onClick:()=>{y().tN({environment:n,preventSelectText:!0}),d().N2(),_({environment:n,collectionContextStore:t,temporaryState:o})},children:(0,S.jsx)(C().sA,{defaultMessage:"Undo",id:"database.filterBar.undo.title"})})}var j=()=>o(873050),F=()=>o(108944),k=()=>o(765957),w=()=>o(885110),M=()=>o(686526),T=()=>o(751156),B=()=>o(755199);let P=function(e){return e[e.All=0]="All",e[e.Filters=1]="Filters",e[e.Sorts=2]="Sorts",e}({});function R(e){const{environment:t,collectionContextStore:o,targetCollectionViewStore:n,preventSnackbarNotification:r,type:i,transaction:l}=e,a=o.temporaryStateStore.state,s=o.currentPropertyFiltersStore.state,c=n.getPropertyFiltersStore(),u=(0,j().Ml)(o,"persisted");if(i===P.All||i===P.Filters){u.combinatorFilter&&(0,f().f)({collectionViewStore:n,update:{filter:u.combinatorFilter.value||null},transaction:l});for(const e of u.filters.removed)T().applyOperation({store:c,operation:{pointer:c.pointer,command:"keyedObjectListRemove",path:c.path,args:{remove:{id:e}}},transaction:l});for(const{id:e,beforeId:t}of u.filters.moveOps){const o=s.find((t=>t.id===e));o&&(t?T().applyOperation({store:c,operation:{pointer:c.pointer,command:"keyedObjectListBefore",path:c.path,args:{before:{id:t},value:o}},transaction:l}):T().applyOperation({store:c,operation:{pointer:c.pointer,command:"keyedObjectListAfter",path:c.path,args:{value:o}},transaction:l}))}for(const e of u.filters.updated){const t=s.find((t=>t.id===e));t&&T().applyOperation({store:c,operation:{pointer:c.pointer,command:"keyedObjectListUpdate",path:c.path,args:{value:t}},transaction:l})}}i!==P.All&&i!==P.Sorts||!u.sorts||(0,f().f)({collectionViewStore:n,update:{sort:u.sorts.value||null},transaction:l}),V({environment:t,collectionContextStore:o,temporaryState:i===P.All?void 0:i===P.Filters?{...a,combinatorFilter:void 0,propertyFilters:void 0}:{...a,sorts:void 0}}),r||d().D6({label:(0,S.jsx)(b,{}),right:(0,S.jsx)(A,{collectionContextStore:o,temporaryState:a})})}function I(e){const{environment:t,intl:o,collectionContextStore:r,transaction:i}=e,l=r.collectionViewStore(),a=r.isFullScreenStore.state,s=r.isRootChildStore.state,c=r.isInPeekRendererStore.state;if(!l)return;const d=r.collectionViewBlockStore(),p=(0,u().t)({environment:t,collectionViewBlockStore:d,collectionViewStore:l,intl:o,transaction:i});p&&(R({environment:t,type:P.All,collectionContextStore:r,targetCollectionViewStore:p,transaction:i}),p&&("chart"===p.getType()&&w().Z({environment:t,collectionContextStore:r,collectionViewId:p.id,from:"filter_save_as_new_view"}),(0,m().t)({environment:t,collectionContextStore:r,collectionViewId:p.id,isFullScreen:a,isRootChild:s,isInPeekRenderer:c}),n().default.afterNextFlush((()=>{M().Ow({collectionContextStore:r,collectionSettingsStore:r.settingsStore,selectViewNameInitial:!0})}))))}function D(e){const{environment:t,collectionContextStore:o}=e,n=o.currentPropertyFiltersStore.state,i=o.localStateDiffStore.state.filters.added,l=n.filter((e=>!(i.includes(e.id)&&(0,r().t_)(e.filter))));V({environment:t,collectionContextStore:o,temporaryState:{...o.temporaryStateStore.state,propertyFilters:{value:l}}})}function _(e){V(e),function(e){const{environment:t,collectionContextStore:o}=e,n=o.collectionViewStore(),r=o.collectionViewBlockStore();if(!n||!r)return;(o.isUnlistedViewStore.state&&o.isInlineViewStore.state||(0,F().rD)({environment:t,store:r})&&o.permissionScopesStore.state.canConfigureBlock)&&T().createAndCommit({userAction:"collectionFilterActions.applyTemporaryStateIfPrivate",environment:t,canUndo:!0,perform:e=>{R({environment:t,collectionContextStore:o,type:P.All,targetCollectionViewStore:n,preventSnackbarNotification:!0,transaction:e})}})}(e)}function V(e){var t;const{environment:o,collectionContextStore:n,temporaryState:r}=e,i=n.collectionViewStore();if(!i)return;const l=o.currentUser.id;n.temporaryStateStore.setState(r||{}),function(e){let{currentUserId:t,collectionViewId:o,viewsModuleCurrentPageId:n,temporaryState:r}=e;const i=(0,h().l)({collectionViewId:o,viewsModuleCurrentPageId:n});r?g().K.set({userId:t,key:i,value:JSON.stringify(r)}):g().K.remove({userId:t,key:i})}({currentUserId:l,collectionViewId:i.id,viewsModuleCurrentPageId:n.viewsModuleContextStore.isInLayoutBuilder()||null===(t=n.viewsModuleContextStore.currentPageStore())||void 0===t?void 0:t.id,temporaryState:r}),n.groupsStore.resetAllLimits()}function L(e){const{environment:t,seen:o}=e,{currentUserSettingsStore:n}=k().default.state;n&&T().createAndCommit({userAction:"collectionFilterActions.setSeenFiltersIntroTooltip",environment:t,canUndo:!0,perform:e=>{B().mJ({userSettingsStore:n,transaction:e,data:{seen_filters_tooltip:o}})}})}function O(e){var t;let{transaction:o,newGroups:n,collectionContextStore:l,environment:a}=e;const d=l.collectionViewStore(),u=l.currentCombinatorFilterStore.state,p=(0,s().mg)(u),g=null==p||null===(t=p.filters)||void 0===t?void 0:t.find(r().B9),h=(0,j().I6)(l);if(!(d&&p&&p.filters&&g))return;const m=g.filter.value.filter((e=>"exact"===e.type)).map((e=>e.value)).filter(c().O9),f=n.map((e=>e.value)).filter(i().D1).map((e=>e.value)).filter(i().WO).map((e=>e.id)),x=(0,s().FF)(f,...m);0!==x.length&&(g.filter.value=[...g.filter.value,...x.map((e=>({type:"exact",value:e})))],V({environment:a,collectionContextStore:l,temporaryState:{...l.temporaryStateStore.state,combinatorFilter:{value:p}}}),h||R({environment:a,collectionContextStore:l,type:P.Filters,targetCollectionViewStore:d,preventSnackbarNotification:!0,transaction:o}))}function H(e){var t;const o=null===(t=e.collectionViewStore())||void 0===t?void 0:t.id,n=e.getCurrentUserId();o&&n&&((0,p().E)({userId:n,collectionViewId:o,isOpen:!1}),e.filtersBarOpenStore.setState(!1))}function K(e){var t;const{collectionContextStore:o,environment:n,property:r,schema:i}=e,s=o.currentPropertyFiltersStore.state,c=s.find((e=>e.filter.property===r));if(c)return c;const d=(null===(t=o.collectionViewBlockStore())||void 0===t?void 0:t.getRecordModel)??a().b4_.constant(void 0),u=(0,j().SO)({property:r,schema:i,getRecordModel:d});if(!u)return;const p={id:l().JW(),filter:u};return _({environment:n,collectionContextStore:o,temporaryState:{...o.temporaryStateStore.state,propertyFilters:{value:[...s,p]}}}),p}function z(e){const{collectionContextStore:t,environment:o}=e,n=t.currentCombinatorFilterStore.state;if(n)return n;const i=r().Lx;return _({environment:o,collectionContextStore:t,temporaryState:{...t.temporaryStateStore.state,combinatorFilter:{value:i}}}),i}},378864:(e,t,o)=>{o.d(t,{A:()=>F,T:()=>k});o(944114),o(898992),o(354520),o(737550);var n=o(296540),r=()=>o(484714),i=()=>o(56366),l=()=>o(401497),a=()=>o(289915),s=()=>o(784892),c=()=>o(164153),d=()=>o(959013),u=()=>o(496603),p=()=>o(436696),g=()=>o(873050),h=()=>o(722872),m=()=>o(859794),f=()=>o(831194),x=()=>o(760217),C=()=>o(928600),y=()=>o(939740),v=()=>o(480095),S=()=>o(73332),b=()=>o(89924),A=()=>o(399762),j=o(474848);function F(e){const{propertyFilter:t,schema:o,filter:s,parentStore:f,updateValue:S,onClose:A,desktopTopActions:F,mobileMenuTitle:w,mobileMoreActions:M,collectionContextStore:T,context:B}=e,P=(0,r().v3)(),R=(0,r().Y0)(),[I,D]=(0,n.useState)([]),[_,V]=(0,n.useState)(!1),L=(0,i().K8)((()=>(0,g().YF)(o,t,f)),[o,t,f]),O=(0,l().IS)((e=>({checkboxIcon:{fill:e.icon.primary}})),[]),H=(0,i().K8)((()=>(0,a().gc)(s)?(0,a().V6)(s):[]),[s]),K=(0,i().K8)((()=>{if(!L||"status"!==L.type)return[];const e=L.options??[],t=null==T?void 0:T.collectionStoreResultsInViewOrder();return!_&&t?e.filter((e=>t.some((t=>{var o;return null===(o=e.collectionIds)||void 0===o?void 0:o.includes(t.id)})))):e}),[L,_,T]),z=(0,i().K8)((()=>{if(!L||"status"!==L.type)return[];const e=[],t=L.groups??[],o=L.options??[];for(const n of t){const t=(0,g().Ze)({group:n,options:o,filterValues:H});if("partial"!==t.groupCheckState)continue;const r=o.filter((e=>{var t;return null===(t=n.optionIds)||void 0===t?void 0:t.includes(e.id)})).filter((e=>t.optionCheckedInfo.get(e.id)));e.push(...r)}return e}),[L,H]),W=(0,i().K8)((()=>{if(!L||"status"!==L.type)return[];const e=L.options??[];return I?e.filter((e=>!I.some((t=>t.id===e.id)))):[]}),[L,I]);(0,n.useEffect)((()=>{D((()=>u().hS([...K,...I,...z],"id")))}),[K]);const N=(0,i().K8)((()=>L&&"status"===L.type?k({propertySchema:L,statusFilterValues:H,updateValue:S,isMobile:R.isMobile,styles:{checkboxIcon:O.checkboxIcon},visibleOptions:I,shouldShowHiddenSources:_,setShouldShowHiddenSources:V}):[]),[R.isMobile,L,O.checkboxIcon,S,I,_,V,H]);if(!L||"status"!==L.type)return null;const q=(0,j.jsx)(b().A,{desktopStyle:{paddingBottom:0},children:!R.isMobile&&F});let G;G=R.isMobile?{menuType:h().gu.Modal,title:w,left:M,right:(0,j.jsx)(v().DoneMenuText,{}),onClickRight:A,header:q}:{menuType:h().gu.Popup,maxHeight:a().mi,width:(0,m().Ul)(B)?260:void 0,header:q,disableHeaderBorder:!0,tokenInputHeader:!0};const Y=(0,j.jsx)(y().Ay,{type:y().Oh.Vertical,initialFocus:0,sections:[{key:"groups",items:N,render:e=>(0,j.jsx)(b().A,{...e,title:"",style:{paddingTop:0}})}]}),E=W&&W.length>0&&!_?(0,j.jsx)(b().A,{topBorder:!0,children:(0,j.jsx)(x().A,{icon:(0,c().T)({width:13,height:13}),title:(0,j.jsx)(d().sA,{id:"collectionFilterValueMenu.statusFilterValueMenu.hiddenStatusOptionsDescription",defaultMessage:"{numHiddenOptions, plural, one {{numHiddenOptions} other status option} other {{numHiddenOptions} other status options}}",values:{numHiddenOptions:W.length}}),focused:!1,onClick:()=>{V(!0),T&&(0,p().X)({environment:P,collectionContextStore:T,action:"expand_property_filter",original_view_type:void 0,property_type:"status"})}})}):null,U=(0,j.jsx)(b().A,{topBorder:!0,children:(0,j.jsx)(x().A,{title:(0,j.jsx)(d().sA,{defaultMessage:"Clear selection",id:"database.filterValue.selectType.clearSelection.message"}),focused:!1,onClick:()=>{S([])}})});return(0,j.jsx)(C().A,{...G,children:(0,a().gc)(s)&&(0,j.jsxs)(j.Fragment,{children:[Y,E,U]})})}function k(e){const{propertySchema:t,statusFilterValues:o,updateValue:n,isMobile:r,styles:i,visibleOptions:l,shouldShowHiddenSources:a}=e,c=t.groups??[],d=t.options??[],u=[];for(const p of c){const e=()=>{const e=(0,g().fe)(c,d,o,{type:"is_group",value:p.name});e&&n(e)},t=(0,g().Ze)({group:p,options:d,filterValues:o}),h=d.filter((e=>{var t;return(null===(t=p.optionIds)||void 0===t?void 0:t.includes(e.id))&&(a||(null==l?void 0:l.some((t=>t.id===e.id))))})),m=[];for(const l of h){const e=()=>{const e=(0,g().fe)(c,d,o,{type:"is_option",value:l.value});e&&n(e)};m.push({key:`option-${l.id}`,action:e,render:o=>(0,j.jsx)(x().A,{...o,icon:(0,j.jsx)(S().T,{checked:t.optionCheckedInfo.get(l.id)??!1,size:14,onClick:e,style:i.checkboxIcon}),title:(0,j.jsx)(A().q,{format:r?s().NY.Large:s().NY.Medium,isSingle:!0,value:l.value,color:l.color,showRemoveButton:!1,groupColor:p.color}),style:{paddingLeft:16}})})}u.push({key:`group-${p.id}`,action:e,render:o=>(0,j.jsx)(x().A,{...o,icon:(0,j.jsx)(S().T,{checked:t.groupCheckState,size:14,onClick:e,style:i.checkboxIcon}),title:(0,j.jsx)(f().RS,{style:{fontWeight:500,marginTop:2},group:p,showIcon:!0,showColor:!0}),textWrapperStyle:{marginLeft:3}})},...m)}return u}},399762:(e,t,o)=>{o.d(t,{O:()=>c,q:()=>d});o(296540);var n=()=>o(401497),r=()=>o(381349),i=()=>o(284371),l=()=>o(288722),a=()=>o(881690),s=o(474848);function c(e){const{value:t,color:o,format:c,showEllipsis:d,onClickRemove:u,showRemoveButton:p,isSingle:g,shouldShrink:h,hideTooltip:m,description:f,tooltipPlacement:x,...C}=e,y=(0,n().DP)(),v=(0,n().IS)((e=>({token:{...d&&i().RC}})),[d]),{textColor:S,backgroundColor:b}=(0,r().LD)(y,o);return t?(0,s.jsx)(a().A,{format:c,value:(0,s.jsx)(l().A,{children:t}),description:f,onClickRemove:u,showRemoveButton:p,isSingle:g,color:S,backgroundColor:b,shouldShrink:h,tooltipPlacement:x,showTooltip:m?"never":"overflow",style:v.token,...C}):null}function d(e){const{value:t,color:o,format:c,showEllipsis:d,onClickRemove:u,showRemoveButton:p,isSingle:g,shouldShrink:h,groupColor:m,tooltipPlacement:f,description:x,hideTooltip:C,...y}=e,v=(0,n().DP)(),S=(0,n().IS)((()=>({token:{...d&&i().RC}})),[d]);if(!t)return null;const{textColor:b,backgroundColor:A}=(0,r().LD)(v,o??m??"gray");let j;return j=o||(m||"gray"),(0,s.jsx)(a().A,{format:c,value:(0,s.jsx)(l().A,{children:t}),description:x,onClickRemove:u,showRemoveButton:p,isSingle:g,color:b,backgroundColor:A,shouldShrink:h,showTooltip:C?"never":"overflow",style:S.token,isRound:!0,showColoredDot:j,tooltipPlacement:f,...y})}},430102:(e,t,o)=>{o.d(t,{I:()=>u});var n=o(296540),r=()=>o(401497),i=()=>o(854705),l=()=>o(381349),a=()=>o(704152),s=()=>o(960715),c=()=>o(859428),d=o(474848);const u=n.memo(n.forwardRef((function(e,t){const{style:o,color:n,title:i,onClick:l,onDropdownClick:a,mainButtonTooltip:c,dropdownTooltip:u,iconLeading:h,iconStyle:m,mainButtonStyle:f,isLoading:x,className:C,disabled:y,disableDropdown:v,size:S,variant:b="solid"}=e,A=(0,r().IS)((e=>{const t=(0,s().qq)({size:S,isButtonGapEnabled:!1});return{wrap:{position:"relative",display:"inline-flex",flexShrink:0,borderRadius:6,overflow:"hidden",height:t.height,...o},border:{position:"absolute",pointerEvents:"none",border:"outline"===b?`1px solid ${e.outlineButtonBorder}`:void 0,borderRadius:t.borderRadius,top:0,left:0,right:0,bottom:0}}}),[S,b,o]);return(0,d.jsxs)("div",{style:A.wrap,className:C,children:[(0,d.jsx)(p,{ref:t,color:n,disabled:y,icon:h,iconStyle:m,isLoading:x,mainButtonStyle:f,mainButtonTooltip:c,onClick:l,title:i,variant:b}),(0,d.jsx)(g,{ref:t,color:n,disabled:v,dropdownTooltip:u,isLoading:x,onDropdownClick:a,variant:b}),(0,d.jsx)("div",{style:A.border})]})}))),p=n.memo(n.forwardRef((function(e,t){const{mainButtonTooltip:n,onClick:i,disabled:u,isLoading:p,icon:g,title:m,color:f,variant:x,mainButtonStyle:C,iconStyle:y,size:v}=e,S=(0,r().IS)((e=>{const t=(0,s().qq)({size:v,isButtonGapEnabled:!1}),n={background:h(f,x,{outline:void 0,solid:{blue:l().Ay.blue,black:l().Ay.frontBlackButtonBackground,orange:e.palette.orange["dark"===e.mode?100:50]}}),color:h(f,x,{outline:{blue:e.text.uiBluePrimary,black:e.text.primary,orange:e.text.orangeSecondary},solid:{blue:l().Ay.white,black:l().Ay.white,orange:e.palette.orange["dark"===e.mode?600:400]}})};return{mainButton:{display:"flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderTopLeftRadius:6,borderBottomLeftRadius:6,paddingLeft:t.paddingLeft,paddingRight:t.paddingRight,fontSize:t.fontSize,fontWeight:o(284371).Wy.medium,...n,...C},icon:{width:12,marginRight:6,fill:h(f,x,{outline:n.color,solid:{blue:l().Ay.white,black:l().Ay.white,orange:e.palette.orange[400]}}),...y},buttonHoveredStyle:{background:h(f,x,{outline:{blue:e.tint.uiBlueHover,black:e.tint.primaryHover,orange:e.tint.uiRedHover},solid:{blue:e.blueButtonHoveredBackground,black:l().Ay.frontBlackButtonBackgroundHovered,orange:e.palette.orange["dark"===e.mode?200:100]}})},buttonPressedStyle:{background:h(f,x,{outline:{blue:e.tint.uiBluePressed,black:e.tint.primaryPressed,orange:e.tint.uiRedPressed},solid:{blue:e.blueButtonPressedBackground,black:l().Ay.frontBlackButtonBackgroundPressed,orange:e.palette.orange["dark"===e.mode?300:200]}})}}}),[f,y,C,v,x]);return n?(0,d.jsx)(c().A,{renderTooltip:()=>n,render:e=>(0,d.jsxs)(a().A,{ref:t,style:S.mainButton,onClick:i,disabled:u,disabledFeedback:!0,hoveredStyle:S.buttonHoveredStyle,pressedStyle:S.buttonPressedStyle,...e,children:[g?g(S.icon):null,m]})}):(0,d.jsxs)(a().A,{ref:t,style:S.mainButton,onClick:i,disabled:u||p,disabledFeedback:!0,hoveredStyle:S.buttonHoveredStyle,pressedStyle:S.buttonPressedStyle,children:[p?(0,d.jsx)(o(331542).A,{style:{marginRight:4}}):null,g?g(S.icon):null,m]})}))),g=n.memo(n.forwardRef((function(e,t){const{disableDropdown:u,disabled:p,dropdownTooltip:g,onDropdownClick:m,isLoading:f,size:x,color:C,variant:y}=e,{isMobile:v}=(0,o(484714).Y0)(),S=(0,r().IS)((e=>{const t=(0,s().qq)({size:x,isButtonGapEnabled:!1}),n={background:h(C,y,{outline:void 0,solid:{blue:l().Ay.blue,black:l().Ay.frontBlackButtonBackground,orange:e.palette.orange["dark"===e.mode?100:50]}}),color:h(C,y,{outline:{blue:e.text.uiBluePrimary,black:e.text.primary,orange:e.text.orangeSecondary},solid:{blue:l().Ay.white,black:l().Ay.white,orange:e.palette.orange["dark"===e.mode?600:400]}})};return{dropdownButton:{display:"flex",alignItems:"center",justifyContent:"center",width:v?28:24,alignSelf:"stretch",borderTopRightRadius:t.borderRadius,borderBottomRightRadius:t.borderRadius,boxShadow:"outline"===y||"blue"===C||"black"===C?`inset 1px 0 0 ${e.darkDividerColor}`:"orange"===C?`${e.palette.orange["dark"===e.mode?200:100]} 1px 0 0 inset`:(0,o(534177).HB)(C),...n},dropdownButtonIcon:{width:o(340498).Ev.sm,marginTop:2,fill:h(C,y,{outline:n.color,solid:{blue:l().Ay.white,black:l().Ay.white,orange:e.palette.orange["dark"===e.mode?500:400]}})},buttonHoveredStyle:{background:h(C,y,{outline:{blue:e.tint.uiBlueHover,black:e.tint.primaryHover,orange:e.tint.uiRedHover},solid:{blue:e.blueButtonHoveredBackground,black:l().Ay.frontBlackButtonBackgroundHovered,orange:e.palette.orange["dark"===e.mode?200:100]}})},buttonPressedStyle:{background:h(C,y,{outline:{blue:e.tint.uiBluePressed,black:e.tint.primaryPressed,orange:e.tint.uiRedPressed},solid:{blue:e.blueButtonPressedBackground,black:l().Ay.frontBlackButtonBackgroundPressed,orange:e.palette.orange["dark"===e.mode?300:200]}})}}}),[C,v,x,y]),b=(0,n.useCallback)((e=>(0,d.jsx)(a().A,{ref:t,style:S.dropdownButton,onClick:m,disabledFeedback:!0,hoveredStyle:S.buttonHoveredStyle,pressedStyle:S.buttonPressedStyle,...e,children:(0,i().arrowChevronSingleDownFillSmallIcon)(S.dropdownButtonIcon)})),[m,t,S.buttonHoveredStyle,S.buttonPressedStyle,S.dropdownButton,S.dropdownButtonIcon]),A=(0,n.useCallback)((()=>g),[g]);return u||p?null:g?(0,d.jsx)(c().A,{renderTooltip:A,render:b}):(0,d.jsx)(a().A,{ref:t,style:S.dropdownButton,onClick:m,disabledFeedback:!0,hoveredStyle:S.buttonHoveredStyle,pressedStyle:S.buttonPressedStyle,disabled:f,children:(0,i().arrowChevronSingleDownFillSmallIcon)(S.dropdownButtonIcon)})})));function h(e,t,o){return"object"!=typeof o[t]?o[t]:o[t][e]}},448061:(e,t,o)=>{o.d(t,{A:()=>r});o(296540);var n=o(474848);const r=function(e){const{collectionStore:t}=e,r=(0,o(56366).K8)((()=>t.getIcon()),[t]);return(0,n.jsxs)("div",{style:{display:"flex",columnGap:4,alignItems:"center"},children:[(0,n.jsx)(o(187820).B6,{disabled:!0,icon:r,iconRecordCategory:"collection",isEmptyPage:!1,size:20}),(0,n.jsx)(o(16006).A,{store:t,style:{maxWidth:180}})]})}},497222:(e,t,o)=>{o.d(t,{A:()=>g});o(296540);var n=()=>o(804773),r=()=>o(401497),i=()=>o(906380),l=()=>o(30626),a=()=>o(284371),s=()=>o(760217),c=()=>o(8980),d=()=>o(612900),u=()=>o(700251),p=o(474848);function g(e){const{icon:t,iconStyle:o,title:g,caption:h,right:m,rightStyle:f,isRed:x,isGray:C,isOrange:y,onClick:v,onMouseDown:S,onMouseEnter:b,onMouseLeave:A,disabled:j,showChevron:F,chevronStyle:k,rotateChevron:w,showDragHandle:M,focused:T,textWrapperStyle:B,shouldWrapCaption:P,desktopIconStyle:R,buttonStyle:I,desktopTitleStyle:D,source:_,menuListItemProps:V,isPulsing:L}=e,O=(0,u().y$)(),H=(0,r().IS)((e=>({style:{...(e=>C?{color:e.text.secondary,fill:e.icon.secondary}:y?{color:e.icon.orangePrimary,fill:e.icon.orangePrimary}:{color:e.text.primary,fill:e.icon.primary})(e),opacity:j?.4:void 0,...I},leftIconStyle:{width:O,height:O,...t===l()._&&{height:3},...o},rightStyle:{display:"flex",alignItems:"center",color:j?e.text.primary:e.text.tertiary,fill:j?e.icon.primary:e.icon.tertiary,flexShrink:0,...f},rightChevronStyle:{marginLeft:"tableHeaderMenu"===_?0:6,transition:"transform 200ms ease-in-out",...w&&{transform:"rotate(90deg)"},...k}})),[C,y,j,o,t,k,f,I,O,w,_]),{itemRef:K,isTabbable:z,onKeyDown:W,onFocus:N}=(0,n().e)(),q=(0,p.jsx)(s().A,{ref:K,icon:null==t?void 0:t(H.leftIconStyle),focused:T||!1,disabled:j,title:g,caption:h,shouldWrapCaption:P,desktopTitleStyle:{flexGrow:1,flexShrink:1,...D},onKeyDown:W,onFocus:N,disallowTabbing:!z,showDragHandle:M,buttonStyle:H.style,rightStyle:H.rightStyle,isRedOnHover:x,ignoreLocalHoverState:!!j||void 0,right:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{style:{...a().RC,display:"flex"},children:m}),!j&&F?(0,p.jsx)(c().I,{icon:i().arrowChevronSingleRightSmallIcon,size:"sm",color:"tableHeaderMenu"===_?"secondary":"tertiary",style:H.rightChevronStyle}):null]}),onClick:v,onMouseDown:S,onMouseEnter:b,onMouseLeave:A,textWrapperStyle:B,desktopIconStyle:R,...V});return L?(0,p.jsx)(d().u,{borderRadius:6,shape:"square",children:q}):q}},573351:(e,t,o)=>{o.d(t,{A:()=>i});var n=o(296540),r=o(474848);const i=function(e){let{firstDayOfWeek:t,value:i,selectValue:l=!0,onChange:a,onFocus:s,onBlur:c,disabledDays:d,className:u}=e;const p=(0,n.useMemo)((()=>new Date(i)),[i]),[g,h]=(0,n.useState)(p),m=(0,n.useRef)(i);(0,n.useLayoutEffect)((()=>{m.current!==i&&(h(new Date(i)),m.current=i)}),[i]);const f=(0,n.useCallback)(((e,t,o)=>{a(e.getTime())}),[a]);return(0,r.jsx)("div",{style:{paddingRight:8,paddingBottom:8,paddingLeft:8,paddingTop:4},children:(0,r.jsx)(o(541181).n,{locale:o(662303).locale,className:u??"notion-calendar-picker",numberOfMonths:1,weekStartsOn:t,modifiers:l?{value:p}:{},showOutsideDays:!0,fixedWeeks:!0,onDayClick:f,onMonthSelected:h,disabled:d,month:g,onDayBlur:c,onDayFocus:s})})}},615950:(e,t,o)=>{o.d(t,{$J:()=>L,Ay:()=>W,Nf:()=>z});o(898992),o(354520),o(672577);var n=o(296540),r=()=>o(484714),i=()=>o(56366),l=()=>o(401497),a=()=>o(289915),s=()=>o(105239),c=()=>o(30626),d=()=>o(589407),u=()=>o(134589),p=()=>o(959013),g=()=>o(496603),h=()=>o(534177),m=()=>o(284371),f=()=>o(436696),x=()=>o(187899),C=()=>o(686526),y=()=>o(751156),v=()=>o(493823),S=()=>o(760217),b=()=>o(406699),A=()=>o(285790),j=()=>o(928600),F=()=>o(939740),k=()=>o(897119),w=()=>o(89924),M=()=>o(859428),T=()=>o(873050),B=()=>o(722872),P=()=>o(553965),R=()=>o(963589),I=()=>o(700251),D=()=>o(962730),_=()=>o(497222),V=o(474848);let L=function(e){return e[e.FilterBar=0]="FilterBar",e[e.SettingsFilters=1]="SettingsFilters",e[e.SettingsSort=2]="SettingsSort",e[e.SettingsFiltersAndSort=3]="SettingsFiltersAndSort",e}({});const O=o(757695).Store.createClass(!1,{name:"ShowMoreStore"});function H(e){let{moreActionsButtonPopupStore:t,collectionContextStore:o,context:n}=e;const a=(0,p().tz)(),s=(0,r().v3)(),c=(0,I().y$)(),g=(0,i().O$)(o.permissionScopesStore),h=(0,l().IS)((e=>({container:{display:"flex",alignItems:"center",padding:"16px 16px 0 16px",gap:8},saveIcon:{width:c,height:c},saveButton:{color:e.icon.orangePrimary,fill:e.icon.orangePrimary,justifyContent:"center"},title:{fontWeight:m().Wy.medium},moreIcon:{width:20,height:20,fill:e.icon.secondary},moreButton:{width:45,height:45,borderRadius:12,marginTop:1}})),[c]);return g.canConfigureBlock?(0,V.jsxs)("div",{style:h.container,children:[(0,V.jsx)(w().A,{disableMobilePadding:!0,children:(0,V.jsx)(S().A,{icon:(0,u().R)(h.saveIcon),title:(0,V.jsx)(Y,{}),titleStyle:h.title,style:h.saveButton,onClick:()=>U(s,o,n),dontShrinkTitle:!0,focused:!1})}),(0,V.jsx)(b().Ay,{popupType:k().nl.BottomSheet,render:e=>(0,V.jsx)(Q,{parent:e,collectionContextStore:o,context:n}),bottomSheetInitialState:"half",onClick:()=>J(s,o),buttonPopupStore:t,renderOrigin:e=>(0,V.jsx)(A().A,{style:h.moreButton,iconStyle:h.moreIcon,hovered:!0,icon:d().L,hasBackground:!0,...e,ariaLabel:a.formatMessage({defaultMessage:"More options",id:"database.viewSettings.filterAndSortSaveControl.more"})})})]}):(0,V.jsx)(w().A,{children:(0,V.jsx)(K,{environment:s,collectionContextStore:o,context:n})})}function K(e){let{environment:t,collectionContextStore:o,context:r}=e;const i=(0,n.useCallback)((()=>{X(t,o,r)}),[t,o,r]),l=(0,n.useMemo)((()=>{switch(r){case L.SettingsFilters:return(0,V.jsx)(p().sA,{defaultMessage:"Reset filters",id:"database.viewSettings.filterAndSortSaveControl.resetFilters"});case L.SettingsSort:return(0,V.jsx)(p().sA,{defaultMessage:"Reset sorts",id:"database.viewSettings.filterAndSortSaveControl.resetSorts"});case L.SettingsFiltersAndSort:return(0,V.jsx)(p().sA,{defaultMessage:"Reset filters and sorts",id:"database.viewSettings.filterAndSortSaveControl.resetFiltersAndSorts"});default:(0,h().HB)(r)}}),[r]);return(0,V.jsx)(_().A,{icon:s().N,isGray:!0,title:l,onClick:i})}function z(){return(0,V.jsx)(p().sA,{id:"database.filterValue.mergeIntoAdvancedFilter.tooltip",defaultMessage:"Use an advanced filter to group filter rules and use AND/OR conditions."})}const W=function(e){let{collectionContextStore:t,context:a,showHoverActionsStore:s,moreActionsButtonPopupStore:d}=e;const g=(0,R().X)("db_ux_mobile_filter_sheet"),x=(0,l().DP)(),C=(0,r().v3)(),y=(0,p().tz)(),S=(0,r().WS)(),{isMobile:j}=(0,r().Y0)(),F=(0,i().uB)(d,o(463830).A),w=(0,i().uB)(void 0,O),T=(0,i().K8)((()=>{const e=t.localStateDiffStore.state;return a===L.SettingsFilters?(e.filters.moved.length>0?1:0)+e.filters.added.length+e.filters.removed.length+e.filters.updated.length:0}),[t,a]),B=(0,n.useCallback)((()=>function(e,t,o){(0,f().X)({environment:e,collectionContextStore:t,action:"click_save_control_more_options_button"}),o.setState(!0)}(C,t,w)),[C,t,w]),P=(0,n.useCallback)((()=>{X(C,t,a)}),[C,t,a]),I=(0,i().O$)(t.permissionScopesStore),W=(0,i().K8)((()=>t.isFullScreenStore.state||!s||s.state),[t,s]),te=(0,i().O$)(w),oe=(0,i().K8)((()=>E(t,a)),[t,a]);if(a===L.FilterBar)return S?I.canConfigureBlock?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(v().p,{isOrange:!0,hovered:!0,style:{flexGrow:1,justifyContent:"center",height:32,marginRight:8,fontWeight:m().Wy.semibold},onClick:()=>U(C,t,a),children:(0,V.jsx)(Y,{})}),(0,V.jsx)(b().Ay,{popupType:j?k().nl.SlideUp:k().nl.Popup,render:e=>(0,V.jsx)(Q,{parent:e,collectionContextStore:t,context:a}),originGap:4,onClick:()=>J(C,t),buttonPopupStore:F,renderOrigin:e=>(0,V.jsx)(A().A,{style:{width:32,height:32},iconStyle:{width:16},hovered:!0,icon:c()._,...e})})]}):(0,V.jsx)(v().p,{style:{flexGrow:1,justifyContent:"center",height:32,marginRight:8,fontWeight:m().Wy.semibold},hovered:!0,isGray:!0,onClick:P,children:(0,V.jsx)(G,{})}):(0,V.jsxs)(o(145214).A,{visible:W,animate:{opacity:1},initial:{opacity:0},exit:{opacity:0},style:{display:"flex",alignItems:"center"},children:[!I.canConfigureBlock&&(0,V.jsx)(M().A,{placement:D().W.Bottom,renderTooltip:()=>(0,V.jsx)(p().sA,{defaultMessage:"Changes to filters & sorts in this view are only visible to you.",id:"database.viewSettings.filterAndSortSaveControl.myViewTooltip"}),render:e=>(0,V.jsx)("div",{...e,style:{color:x.text.secondary,fontSize:14,fontWeight:m().Wy.medium,cursor:"default",display:"flex",alignItems:"center",position:"relative"},children:(0,V.jsx)("div",{style:{marginRight:2,marginLeft:12,width:7,height:7,borderRadius:"50%",background:x.icon.orangePrimary}})})}),(0,V.jsx)(v().p,{isGray:!0,onClick:P,style:{lineHeight:1.1,fontSize:j?16:14},children:(0,V.jsx)(G,{})}),I.canConfigureBlock&&(0,V.jsx)(b().Ay,{popupType:j?k().nl.SlideUp:k().nl.Popup,render:e=>(0,V.jsx)(Q,{parent:e,collectionContextStore:t,context:a}),originGap:4,onClick:()=>J(C,t),buttonPopupStore:F,renderOrigin:e=>(0,V.jsx)(o(430102).I,{title:(0,V.jsx)(Y,{}),color:"orange",onClick:()=>U(C,t,a),onDropdownClick:e.onClick,style:{marginLeft:6,marginRight:j?8:void 0,fontSize:j?16:14,...j?{height:30}:null}})})]});if(a===L.SettingsFilters||a===L.SettingsSort||a===L.SettingsFiltersAndSort){return j&&(g&&a===L.SettingsFilters||a===L.SettingsFiltersAndSort)?(0,V.jsx)(H,{moreActionsButtonPopupStore:F,collectionContextStore:t,context:a}):(0,V.jsxs)(V.Fragment,{children:[te&&I.canConfigureBlock&&(j?(0,V.jsx)(o(678553).Ay,{style:{fontSize:12,color:x.text.secondary},title:(0,V.jsx)(ee,{context:a,changeCount:T})}):(0,V.jsx)("div",{style:{fontSize:12,color:x.text.secondary,paddingLeft:14,paddingRight:14,paddingTop:8,paddingBottom:8,maxWidth:220},children:(0,V.jsx)(ee,{context:a,changeCount:T})})),I.canConfigureBlock&&(0,V.jsx)(_().A,{icon:u().R,isOrange:!0,title:(0,V.jsx)(Y,{}),onClick:()=>U(C,t,a)}),(0,V.jsx)(K,{environment:C,collectionContextStore:t,context:a}),I.canConfigureBlock&&!te&&(0,V.jsx)(_().A,{icon:c()._,isGray:!0,title:(0,V.jsx)(p().sA,{defaultMessage:"More options",id:"database.viewSettings.filterAndSortSaveControl.more"}),onClick:B}),I.canConfigureBlock&&te&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(_().A,{icon:o(536583).d,isGray:!0,title:(0,V.jsx)(N,{}),onClick:()=>{Z(C,t,y)}}),oe&&(0,V.jsx)(M().A,{placement:D().W.Left,style:{maxWidth:240,whiteSpace:void 0},renderTooltip:()=>(0,V.jsx)("div",{children:(0,V.jsx)(z,{})}),render:e=>(0,V.jsx)(_().A,{icon:o(170350).S,isGray:!0,title:(0,V.jsx)(q,{}),onClick:()=>{$(C,t,a)},...e})})]})]})}(0,h().HB)(a)};function N(){return(0,V.jsx)(p().sA,{defaultMessage:"Save as new view",id:"database.filterBar.changesControl.saveAsNewView.title"})}function q(){return(0,V.jsx)(p().sA,{defaultMessage:"Merge into advanced filter",id:"database.filterBar.changesControl.mergeIntoAdvancedFilter.title"})}function G(){return(0,V.jsx)(p().sA,{defaultMessage:"Reset",id:"database.filterBar.changesControl.reset.title"})}function Y(){return(0,V.jsx)(p().sA,{defaultMessage:"Save for everyone",id:"database.filterBar.changesControl.saveForEveryone.title"})}function E(e,t){const o=e.currentPropertyFiltersStore.state;return(t===L.FilterBar||t===L.SettingsFilters)&&Boolean(o.find((e=>(0,a().yX)(e.filter))))}function U(e,t,o){const n=t.collectionViewStore();if(!n)return;let r;switch((0,f().X)({environment:e,collectionContextStore:t,action:"click_save_control_save_in_current_view"}),o){case L.FilterBar:case L.SettingsFiltersAndSort:r=x().Hs.All;break;case L.SettingsFilters:r=x().Hs.Filters;break;case L.SettingsSort:r=x().Hs.Sorts;break;default:(0,h().HB)(o)}y().createAndCommit({userAction:"CollectionSettingsSaveControl.handleSaveInCurrentViewClick",environment:e,canUndo:!0,perform:o=>{x().B$({environment:e,type:r,collectionContextStore:t,targetCollectionViewStore:n,transaction:o})}}),x().Aq({environment:e,seen:!0})}function Z(e,t,o,n){(0,f().X)({environment:e,collectionContextStore:t,action:"click_save_control_save_as_new_view"}),y().createAndCommit({userAction:"CollectionSettingsSaveControl.handleSaveAsNewViewClick",environment:e,canUndo:!0,perform:n=>{x().RQ({environment:e,collectionContextStore:t,transaction:n,intl:o})}}),null==n||n.close()}function $(e,t,o,n){const r=(0,T().Pi)(t),i=t.currentPropertyFiltersStore.state.filter((e=>(0,T().vu)(e.id)));x().IU({environment:e,collectionContextStore:t,temporaryState:{...t.temporaryStateStore.state,propertyFilters:{value:i},combinatorFilter:{value:r}}});const l=o===L.FilterBar?t.filterBarCombinatorFilterSettingsStore:t.filterOptionsCombinatorFilterSettingsStore;C().R8({collectionSettingsStore:l,item:{type:"filter"}}),(0,f().X)({environment:e,collectionContextStore:t,action:"merge_filter_into_combinator"}),null==n||n.close()}function X(e,t,o,n){(0,f().X)({environment:e,collectionContextStore:t,action:"click_save_control_reset"});const r=t.temporaryStateStore.state,i=o===L.SettingsFilters?{...r,propertyFilters:void 0,combinatorFilter:void 0}:o===L.SettingsSort?{...r,sorts:void 0}:void 0;x().LS({environment:e,collectionContextStore:t,temporaryState:i}),x().Aq({environment:e,seen:!0}),null==n||n.close()}function J(e,t){(0,f().X)({environment:e,collectionContextStore:t,action:"click_save_control_more_options_popup"}),x().Aq({environment:e,seen:!0})}function Q(e){let{parent:t,collectionContextStore:o,context:l}=e;const a=(0,p().tz)(),s=(0,r().v3)(),{isMobile:c}=(0,r().Y0)(),d=(0,r().WS)(),u=(0,R().X)("db_ux_mobile_filter_sheet"),h=(0,n.useCallback)((()=>{X(s,o,l)}),[s,o,l]),m=!!c&&(u&&l===L.SettingsFilters||l===L.SettingsFiltersAndSort),f=c?m?{menuType:B().gu.Modal}:{menuType:B().gu.ActionSheet}:{menuType:B().gu.Popup,width:250},x=(0,i().K8)((()=>E(o,l)),[o,l]),C=g().oE([d&&{key:"reset",render:e=>(0,V.jsx)(S().A,{...e,disabled:!1,title:(0,V.jsx)(G,{})}),action:h},{key:"newView",render:e=>(0,V.jsx)(S().A,{...e,disabled:!1,title:(0,V.jsx)(N,{})}),action:()=>{Z(s,o,a,t)}},x&&{key:"merge",render:e=>(0,V.jsx)(M().A,{placement:D().W.Left,style:{maxWidth:240,whiteSpace:void 0},renderTooltip:()=>(0,V.jsx)("div",{children:(0,V.jsx)(z,{})}),render:t=>(0,V.jsx)(S().A,{...(0,P().A)(e,t),disabled:!1,title:(0,V.jsx)(q,{})})}),action:()=>{$(s,o,l,t)}}]);return(0,V.jsx)(j().A,{...f,children:(0,V.jsx)(F().Ay,{type:F().Oh.Vertical,sections:[{key:0,render:e=>m?(0,V.jsx)("div",{style:{padding:"0 16px"},children:(0,V.jsx)(w().A,{disableMobilePadding:!0,enableActionSheetTitle:!0,...e})}):(0,V.jsx)(w().A,{disableMobilePadding:!0,enableActionSheetTitle:!0,...e}),items:C}],initialFocus:0})})}function ee(e){let{context:t,changeCount:o}=e;return t===L.SettingsFilters?(0,V.jsx)(p().sA,{defaultMessage:"{count, plural, one {{count} filter changed from what other people see} other {{count} filters changed from what other people see}}",id:"database.viewSettings.filterAndSortSaveControl.filter.caption",values:{count:o}}):(0,V.jsx)(p().sA,{defaultMessage:"Sort has been changed from what other people see",id:"database.viewSettings.filterAndSortSaveControl.sort.caption"})}},668766:(e,t,o)=>{o.d(t,{q:()=>i});var n=()=>o(72135),r=()=>o(217429);function i(e,t){return(0,n().$J)(e,r().default.checkGate({gateName:"localized_parse_number"})?t:void 0)}},831194:(e,t,o)=>{o.d(t,{RS:()=>C,OR:()=>f});o(296540);var n=()=>o(401497),r=()=>o(254947),i=()=>o(449552),l=()=>o(340498),a=o(474848);const s=(0,l().wt)("statusCompleteGroup",{viewBox:"0 0 17 17",svg:(0,a.jsx)("path",{d:"M8.54688 16.5078C13.0156 16.5078 16.6953 12.8281 16.6953 8.35938C16.6953 3.89844 13.0078 0.210938 8.53906 0.210938C4.07812 0.210938 0.398438 3.89844 0.398438 8.35938C0.398438 12.8281 4.07812 16.5078 8.54688 16.5078ZM8.54688 14.7188C5.02344 14.7188 2.19531 11.8828 2.19531 8.35938C2.19531 4.83594 5.01562 2 8.53906 2C12.0703 2 14.8984 4.83594 14.9062 8.35938C14.9141 11.8828 12.0703 14.7188 8.54688 14.7188ZM7.71094 12.0781C8.00781 12.0781 8.27344 11.9219 8.44531 11.6562L11.8828 6.32031C11.9922 6.14844 12.0781 5.95312 12.0781 5.77344C12.0781 5.35156 11.7109 5.07031 11.3125 5.07031C11.0547 5.07031 10.8281 5.21094 10.6562 5.49219L7.6875 10.2578L6.29688 8.51562C6.10938 8.27344 5.91406 8.17969 5.67188 8.17969C5.25781 8.17969 4.92188 8.50781 4.92188 8.92969C4.92188 9.125 5 9.30469 5.14062 9.48438L6.94531 11.6641C7.16406 11.9375 7.40625 12.0781 7.71094 12.0781Z"})}),c=(0,l().wt)("statusInProgressGroup",{viewBox:"0 0 17 17",svg:(0,a.jsx)("path",{d:"M8.54688 16.5078C13.0156 16.5078 16.6953 12.8281 16.6953 8.35938C16.6953 3.89844 13.0078 0.210938 8.53906 0.210938C4.07812 0.210938 0.398438 3.89844 0.398438 8.35938C0.398438 12.8281 4.07812 16.5078 8.54688 16.5078ZM8.54688 14.7188C5.02344 14.7188 2.19531 11.8828 2.19531 8.35938C2.19531 4.83594 5.01562 2 8.53906 2C12.0703 2 14.8984 4.83594 14.9062 8.35938C14.9141 11.8828 12.0703 14.7188 8.54688 14.7188ZM7.07031 11.4531L11.5938 8.80469C11.9297 8.60938 11.9219 8.125 11.5938 7.92969L7.07031 5.27344C6.71875 5.07031 6.26562 5.24219 6.26562 5.63281V11.0938C6.26562 11.4766 6.69531 11.6719 7.07031 11.4531Z"})}),d=(0,l().wt)("statusTodoGroup",{viewBox:"0 0 17 17",svg:(0,a.jsx)("path",{d:"M8.52344 1.85156C8.97656 1.85156 9.34375 1.49219 9.34375 1.05469C9.34375 0.609375 8.97656 0.234375 8.52344 0.234375C8.08594 0.234375 7.72656 0.609375 7.72656 1.05469C7.72656 1.48438 8.09375 1.85156 8.52344 1.85156ZM10.7969 2.21875C11.2422 2.21875 11.6094 1.85156 11.6094 1.41406C11.6094 0.960938 11.2422 0.601562 10.7969 0.601562C10.3516 0.601562 9.99219 0.960938 9.99219 1.41406C9.99219 1.85156 10.3516 2.21875 10.7969 2.21875ZM6.27344 2.21875C6.71094 2.21875 7.07812 1.85156 7.07812 1.41406C7.07812 0.960938 6.71094 0.601562 6.27344 0.601562C5.82812 0.601562 5.46094 0.960938 5.46094 1.41406C5.46094 1.85156 5.82812 2.21875 6.27344 2.21875ZM12.8359 3.25781C13.2812 3.25781 13.6484 2.89844 13.6484 2.45312C13.6484 2.00781 13.2812 1.64062 12.8359 1.64062C12.3984 1.64062 12.0312 2.00781 12.0312 2.45312C12.0312 2.89062 12.3984 3.25781 12.8359 3.25781ZM4.23438 3.25781C4.67188 3.25781 5.03906 2.89062 5.03906 2.45312C5.03906 2.00781 4.67969 1.64062 4.23438 1.64062C3.78906 1.64062 3.42188 2.00781 3.42188 2.45312C3.42188 2.89844 3.78906 3.25781 4.23438 3.25781ZM14.4609 4.88281C14.9062 4.88281 15.2734 4.51562 15.2734 4.07812C15.2734 3.63281 14.9062 3.26562 14.4609 3.26562C14.0234 3.26562 13.6562 3.63281 13.6562 4.07812C13.6562 4.51562 14.0234 4.88281 14.4609 4.88281ZM2.625 4.88281C3.0625 4.88281 3.42969 4.51562 3.42969 4.07812C3.42969 3.63281 3.0625 3.26562 2.625 3.26562C2.17969 3.26562 1.8125 3.63281 1.8125 4.07812C1.8125 4.51562 2.17969 4.88281 2.625 4.88281ZM15.4922 6.90625C15.9375 6.90625 16.3047 6.54688 16.3047 6.10156C16.3047 5.65625 15.9375 5.28906 15.4922 5.28906C15.0547 5.28906 14.6875 5.65625 14.6875 6.10156C14.6875 6.53906 15.0547 6.90625 15.4922 6.90625ZM1.59375 6.90625C2.02344 6.90625 2.39062 6.53906 2.39062 6.10156C2.39062 5.65625 2.03125 5.28906 1.59375 5.28906C1.14062 5.28906 0.78125 5.65625 0.78125 6.10156C0.78125 6.54688 1.14062 6.90625 1.59375 6.90625ZM15.8828 9.17188C16.3281 9.17188 16.6953 8.80469 16.6953 8.35938C16.6953 7.92188 16.3281 7.55469 15.8828 7.55469C15.4453 7.55469 15.0781 7.92188 15.0781 8.35938C15.0781 8.80469 15.4453 9.17188 15.8828 9.17188ZM1.21094 9.17188C1.64844 9.17188 2.01562 8.80469 2.01562 8.35938C2.01562 7.92188 1.64844 7.55469 1.21094 7.55469C0.765625 7.55469 0.398438 7.92188 0.398438 8.35938C0.398438 8.80469 0.765625 9.17188 1.21094 9.17188ZM15.4922 11.4375C15.9375 11.4375 16.3047 11.0703 16.3047 10.625C16.3047 10.1797 15.9375 9.82031 15.4922 9.82031C15.0547 9.82031 14.6875 10.1875 14.6875 10.625C14.6875 11.0703 15.0547 11.4375 15.4922 11.4375ZM1.59375 11.4375C2.03125 11.4375 2.39062 11.0703 2.39062 10.625C2.39062 10.1875 2.02344 9.82031 1.59375 9.82031C1.14062 9.82031 0.78125 10.1797 0.78125 10.625C0.78125 11.0703 1.14062 11.4375 1.59375 11.4375ZM14.4609 13.4609C14.9062 13.4609 15.2734 13.0938 15.2734 12.6484C15.2734 12.2109 14.9062 11.8438 14.4609 11.8438C14.0234 11.8438 13.6562 12.2109 13.6562 12.6484C13.6562 13.0938 14.0234 13.4609 14.4609 13.4609ZM2.625 13.4609C3.0625 13.4609 3.42969 13.0938 3.42969 12.6484C3.42969 12.2109 3.0625 11.8438 2.625 11.8438C2.17969 11.8438 1.8125 12.2109 1.8125 12.6484C1.8125 13.0938 2.17969 13.4609 2.625 13.4609ZM12.8359 15.0859C13.2812 15.0859 13.6484 14.7188 13.6484 14.2734C13.6484 13.8281 13.2812 13.4688 12.8359 13.4688C12.3984 13.4688 12.0312 13.8359 12.0312 14.2734C12.0312 14.7188 12.3984 15.0859 12.8359 15.0859ZM4.23438 15.0859C4.67969 15.0859 5.03906 14.7188 5.03906 14.2734C5.03906 13.8359 4.67188 13.4688 4.23438 13.4688C3.78906 13.4688 3.42188 13.8281 3.42188 14.2734C3.42188 14.7188 3.78906 15.0859 4.23438 15.0859ZM10.7969 16.125C11.2422 16.125 11.6094 15.7656 11.6094 15.3125C11.6094 14.875 11.2422 14.5078 10.7969 14.5078C10.3516 14.5078 9.99219 14.875 9.99219 15.3125C9.99219 15.7656 10.3516 16.125 10.7969 16.125ZM6.27344 16.125C6.71094 16.125 7.07812 15.7656 7.07812 15.3125C7.07812 14.875 6.71094 14.5078 6.27344 14.5078C5.82812 14.5078 5.46094 14.875 5.46094 15.3125C5.46094 15.7656 5.82812 16.125 6.27344 16.125ZM8.52344 16.4922C8.97656 16.4922 9.34375 16.1172 9.34375 15.6719C9.34375 15.2344 8.97656 14.875 8.52344 14.875C8.09375 14.875 7.72656 15.2422 7.72656 15.6719C7.72656 16.1172 8.08594 16.4922 8.52344 16.4922Z"})});var u=()=>o(959013),p=()=>o(117293),g=()=>o(962730),h=()=>o(132389),m=()=>o(859428);const f={[r().QV]:(0,a.jsx)(u().sA,{...r().oz.statusGroupNameTodo}),[r().jc]:(0,a.jsx)(u().sA,{...r().oz.statusGroupNameInProgress}),[r().P0]:(0,a.jsx)(u().sA,{...r().oz.statusGroupNameComplete}),[r().nX]:(0,a.jsx)(u().sA,{...p().DZ.current}),[r().p7]:(0,a.jsx)(u().sA,{...p().DZ.future})},x={[r().QV]:d,[r().jc]:c,[r().P0]:s};function C(e){const{group:t,disableGroup:o,style:r,showIcon:l,showColor:s}=e,c=(0,n().DP)(),u=x[t.name]??d,p=t.color??"gray";return(0,a.jsxs)("div",{style:{...r,display:"inline-flex",alignItems:"center"},children:[l&&u({display:"inline-block",width:16,height:16,fill:s?c.palette[p][400]:c.icon.secondary}),(0,a.jsx)("span",{style:{paddingLeft:l?6:void 0,color:s?c.palette[p][500]:void 0},children:f[t.name]??t.name}),o?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h().A,{size:4}),(0,a.jsx)(m().A,{placement:g().W.Bottom,render:e=>(0,a.jsx)("div",{...e,children:(0,i().g)({width:12})}),renderTooltip:e=>(0,a.jsx)("div",{...e,children:o.tooltipCaption}),disableTooltip:void 0===o.tooltipCaption})]}):null]})}},854705:(e,t,o)=>{o.r(t),o.d(t,{arrowChevronSingleDownFillSmallIcon:()=>r,iconDefinition:()=>n});o(296540);const n={viewBox:"0 0 16 16",fittedViewBox:"2.94 5.31 10.15 5.84",svg:(0,o(474848).jsx)("path",{d:"M7.47 10.93a.75.75 0 0 0 1.06 0l4.32-4.32a.75.75 0 1 0-1.06-1.06L8 9.34 4.21 5.55a.75.75 0 0 0-1.06 1.06z"})},r=(0,o(340498).wt)("arrowChevronSingleDownFillSmall",n)},859794:(e,t,o)=>{o.d(t,{td:()=>Ye,mL:()=>Ne,r9:()=>Ee,Ul:()=>Ze});o(944114),o(898992),o(354520),o(672577),o(581454),o(737550);var n=o(296540),r=()=>o(484714),i=()=>o(56366),l=()=>o(401497),a=()=>o(764880),s=()=>o(289915),c=()=>o(970013),d=()=>o(713998),u=()=>o(784892),p=()=>o(597777),g=()=>o(604995),h=()=>o(416504),m=()=>o(668725),f=()=>o(30626),x=()=>o(170350),C=()=>o(236262),y=()=>o(799829),v=()=>o(179034),S=()=>o(824862),b=()=>o(869558),A=()=>o(437607),j=()=>o(798880),F=()=>o(931075),k=()=>o(959013),w=()=>o(778078),M=()=>o(496603),T=()=>o(534177),B=()=>o(284371),P=()=>o(615950),R=()=>o(780054),I=()=>o(186445),D=()=>o(873050),_=()=>o(205098),V=()=>o(852353),L=()=>o(522827),O=()=>o(722872),H=()=>o(553965),K=()=>o(668766),z=()=>o(685889),W=()=>o(963589),N=()=>o(388487),q=()=>o(857437),G=()=>o(106628),Y=()=>o(962730),E=()=>o(756279),U=()=>o(792415),Z=()=>o(765957),$=()=>o(463830),X=()=>o(217429),J=()=>o(970585),Q=()=>o(630116),ee=()=>o(251126),te=()=>o(29118),oe=()=>o(854150),ne=()=>o(919709),re=()=>o(436696),ie=()=>o(175116),le=()=>o(108944),ae=()=>o(486130),se=()=>o(448061),ce=()=>o(760217),de=()=>o(331542),ue=()=>o(928600),pe=()=>o(939740),ge=()=>o(64e3),he=()=>o(480095),me=()=>o(73332),fe=()=>o(89924),xe=()=>o(881690),Ce=()=>o(856952),ye=o(474848);function ve(e){const{filter:t,parentStore:o,updateValue:a,onClose:c,desktopTopActions:d,mobileMenuTitle:p,mobileMoreActions:g}=e,h=(0,r().v3)(),m=(0,ie().ET)(),[f,x]=(0,n.useState)([]),[C,y]=(0,n.useState)(!1),v=(0,n.useMemo)((()=>(0,s().gc)(t)?(0,s().GK)(t):[]),[t]),S=(0,r().Y0)(),b=(0,i().K8)((()=>M().oE(v.map((e=>{if(e.value)return Q().md.createChildStore(o,{table:"collection",id:e.value})})))),[v,o]),A=(0,i().K8)((()=>b.map((e=>(0,ye.jsx)(xe().A,{format:S.isMobile?u().NY.Large:u().NY.Small,value:(0,ye.jsx)(se().A,{collectionStore:e}),onClickRemove:()=>{const t=v.find((t=>t.value===e.id));if(t){const e=M().FF(v,t);a(e)}},showRemoveButton:!0,isSingle:!1,shouldShrink:!0,backgroundColor:"transparent",showTooltip:"overflow"},e.id)))),[b,v,S.isMobile,a]),[j,F]=(0,n.useState)(""),T=(0,k().tz)(),B=(0,i().K8)((()=>{var e;return null===(e=Z().default.state.currentUserStore)||void 0===e?void 0:e.userId}),[]),P=(0,i().K8)((()=>m.collectionStoresStore.state??[]),[m]),R=(0,i().K8)((()=>C?P:m.collectionStoreResultsInViewOrder()),[C,m,P]),I=(0,i().K8)((()=>(0,w().Ay)(j,P,(e=>ne().q4_(e.getName()??[])))),[j,P]),D=(0,i().K8)((()=>P.filter((e=>!f.some((t=>t.id===e.id))))),[P,f]),_=(0,i().uB)(void 0,J().A);(0,n.useEffect)((()=>{x((()=>""===j?M().hS([...R,...b,...f],"id"):I))}),[j,C,R,I,b]);const V=(0,l().IS)((e=>({checkboxIcon:{fill:e.icon.primary}})),[]),L=(0,n.useCallback)(((e,t)=>{const o=Boolean(t.find((t=>"exact"===t.type&&t.value===e.id))),n=()=>{const o=M().Iy(t,[{type:"exact",value:e.id}],(e=>e.value));a(o)};return{key:e.id,render:t=>(0,ye.jsx)(ce().A,{...t,icon:(0,ye.jsx)(me().T,{checked:o,size:14,onClick:n,style:V.checkboxIcon}),title:(0,ye.jsx)(se().A,{collectionStore:e}),isTokenTitle:!0}),action:n}}),[V.checkboxIcon,a]),H=(0,n.useCallback)((()=>({key:"hidden-items-button",render:e=>(0,ye.jsx)(ce().A,{...e,icon:(0,te().K)({width:13,height:13}),title:(0,ye.jsx)(k().sA,{id:"collectionFilterValueMenu.locationFilterValueMenu.hiddenLocationsDescription",defaultMessage:"{numHiddenOptions, plural, one {{numHiddenOptions} other source} other {{numHiddenOptions} other sources}}",values:{numHiddenOptions:D.length}})}),action:()=>{y(!0),(0,re().X)({environment:h,collectionContextStore:m,action:"expand_property_filter",original_view_type:void 0,property_type:"location"})}})),[D.length,m,h]),K=(0,i().K8)((()=>{const e=[],t={},n=[];for(const o of f){const e=le().Uo(o);e?B&&e.isMemberOrGuest(B,ae()._.getSpacePermissionGroupIds({userId:B,spaceId:e.getSpaceId()}))&&(t[e.id]=[...t[e.id]??[],o]):n.push(o)}for(const[r,i]of Object.entries(t)){const t=Q().h4.createChildStore(o,{table:oe().yK,id:r});e.push({key:r,items:i.map((e=>L(e,v))),render:e=>(0,ye.jsx)(fe().A,{topBorder:!0,...e,title:(0,ye.jsx)(ye.Fragment,{children:t.getName()??""})})})}return n.length>0&&e.push({key:"private",items:n.map((e=>L(e,v))),render:e=>(0,ye.jsx)(fe().A,{topBorder:!0,...e,title:(0,ye.jsx)(k().sA,{id:"collectionFilterValueMenu.privateLocationSection",defaultMessage:"Private"})})}),D.length>0&&!C&&e.push({key:"hidden",items:[H()],render:e=>(0,ye.jsx)(fe().A,{topBorder:!0,...e})}),e}),[D.length,C,f,B,o,L,v,H]),z=(0,ye.jsx)(Ce().Ay,{focus:!S.isMobile||void 0,focusAfterAnimation:!0,format:Ce().le.FilterValue,tokens:A,placeholder:T.formatMessage({defaultMessage:"Search for one or more sources",id:"database.filterValue.locationType.searchPlaceholder"}),onRemoveLastToken:()=>{const e=v.slice(0,v.length-1);a(e)},onClearButtonClick:()=>{a([]),null==c||c()},value:j,onChange:e=>{F(e.target.value)},dontShowBorderBottom:S.isAndroid,showClearButton:!0,style:{maxHeight:"20vh",overflowY:"auto"}}),W=(0,ye.jsxs)(fe().A,{desktopStyle:{paddingBottom:0},children:[!S.isMobile&&d,z]});let N;return N=S.isMobile?{menuType:O().gu.Modal,title:p,left:g,right:(0,ye.jsx)(he().DoneMenuText,{}),onClickRight:c,header:W}:{menuType:O().gu.Popup,maxHeight:s().mi,width:260,header:W,disableHeaderBorder:!0},(0,ye.jsx)(ue().A,{...N,children:(0,s().gc)(t)&&(0,ye.jsxs)(ye.Fragment,{children:[!m&&(0,ye.jsx)(fe().A,{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"8px 0px"},children:(0,ye.jsx)(de().A,{})}),m&&(0,ye.jsxs)(ye.Fragment,{children:[0===P.length||""!==j&&0===f.length?(0,ye.jsx)(fe().A,{children:(0,ye.jsx)(ge().A,{title:(0,ye.jsx)(k().sA,{defaultMessage:"No results",id:"database.filterValue.selectType.noResults.message"})})}):null,P.length>0&&(0,ye.jsx)(pe().Ay,{type:pe().Oh.Vertical,initialFocus:0,sections:K,store:_,onAccept:()=>{F("")}})]})]})})}var Se=()=>o(378864),be=()=>o(646447),Ae=()=>o(704152),je=()=>o(406699),Fe=()=>o(285790),ke=()=>o(419357),we=()=>o(545805),Me=()=>o(8980),Te=()=>o(897119),Be=()=>o(958378),Pe=()=>o(933117),Re=()=>o(859428),Ie=()=>o(448693),De=()=>o(125565),_e=()=>o(712677),Ve=()=>o(527399),Le=()=>o(573351),Oe=()=>o(427711),He=()=>o(862139),Ke=()=>o(320865),ze=()=>o(566081),We=()=>o(399762);let Ne=function(e){return e[e.AdvancedFilter=0]="AdvancedFilter",e[e.PropertyFilter=1]="PropertyFilter",e[e.ConditionalColorRule=2]="ConditionalColorRule",e}({});const qe=(0,k().YK)({startingMessage:{defaultMessage:"Select or type a date...",id:"search.dateMenu.dateMessage"},chevronDownAriaLabel:{id:"filterDateMenu.chevronDownAriaLabel.ariaLabel",defaultMessage:"Dropdown to select a date relative to today"},pageContainingThisView:{defaultMessage:"Page containing this view",id:"database.filterValue.pageContainingThisView"}}),Ge=o(757695).Store.createClass("",{name:"QueryStore"});function Ye(e){const{schema:t,propertyFilter:o,parentStore:r,onClose:l,onChange:a,onChangeDebounced:s,userCanConfigureFilters:c,onDelete:d,onAddToCombinatorFilter:u,context:p,collectionViewId:g,collectionContextStore:h,allowRelativePersonFilter:m,allowRelativeDateFilter:f}=e,x=(0,i().uB)(void 0,$().A),C=(0,i().uB)(void 0,$().A),y=(0,i().uB)(void 0,J().A),v=(0,i().uB)(void 0,Ge),S=(0,i().K8)((()=>{var e;return"form_editor"===(null==h||null===(e=h.collectionViewStore())||void 0===e?void 0:e.getType())}),[h]);(0,N().A)({capture:!S,preventType:E().A.Y});const b=(0,n.useCallback)((e=>{null==l||l()}),[l]);return(0,ye.jsx)(we().A,{debugName:"CollectionFilterValueMenu",capture:!0,onEsc:b,children:(0,ye.jsx)(Mt,{propertyFilter:o,schema:t,parentStore:r,onChange:a,onChangeDebounced:s,userCanConfigureFilters:c,onDelete:d,onAddToCombinatorFilter:u,context:p,onClose:l,collectionViewId:g,collectionContextStore:h,allowRelativePersonFilter:m,allowRelativeDateFilter:f,queryStore:v,menuListStore:y,dateFilterPopupStore:C,dateRangeFilterPopupStore:x})})}function Ee(e){const{query:t,propertySchema:o,selectedValues:n,updateValue:r,isMobile:i,styles:l,isFormEditorView:a}=e,s=o.options||[];return(t?(0,w().Ay)(t,s,(e=>e.value)):s).map((e=>{const t=Boolean(n.find((t=>t.value===e.value))),o={key:e.value,render:o=>(0,ye.jsx)(ce().A,{icon:(0,ye.jsx)(me().T,{onClick:o.onClick,checked:t,size:14,style:l.checkboxIcon,disallowTabbing:!0}),title:a?e.value:(0,ye.jsx)(We().O,{format:i?u().NY.Large:u().NY.Medium,isSingle:!0,value:e.value,color:e.color,showRemoveButton:!1}),isTokenTitle:!0,...o}),action:()=>{const o=t?n.filter((t=>{let{value:o}=t;return o!==e.value})):[...n,{type:"exact",value:e.value}];r(o)}};return o}))}function Ue(e){return Array.isArray(e)?0===e.length?{type:"exact",value:void 0}:1===e.length?e[0]:e:e}function Ze(e){return e===Ne.AdvancedFilter||e===Ne.PropertyFilter}function $e(e,t){return Boolean(e.find((e=>M().n4(e,t))))}function Xe(){return(0,ye.jsx)(k().sA,{defaultMessage:"Me",id:"database.filterValue.personType.firstPersonPropertyValue.title"})}function Je(e,t,o){const{filter:n}=o;(0,s().s1)(n)?null==t||t({...n,subfilter:{...n.subfilter,value:Ue(e)}}):null==t||t({...n,value:Ue(e)})}function Qe(e,t,o){const{filter:n}=o;(0,s().s1)(n)?null==t||t({...n,subfilter:e}):null==t||t(e)}function et(e,t,o,n,r){return()=>{Je(e?t.filter((e=>!M().n4(e,o))):[...t,o],r,n)}}function tt(e){let{filter:t,onChange:o,propertyFilter:n,onClose:r}=e;return(0,s().t6)(t.value)?null:(0,ye.jsx)(fe().A,{topBorder:!0,children:(0,ye.jsx)(ce().A,{focused:!1,title:(0,ye.jsx)(k().sA,{defaultMessage:"Clear",id:"database.filterValue.clear.message"}),onClick:()=>{Je({type:"exact",value:void 0},o,n),null==r||r()}})})}function ot(e){let{filter:t}=e;const o=(0,l().DP)();return(0,ye.jsx)("span",{style:{color:o.text.tertiary},children:(0,_().J)(t.operator).toLocaleLowerCase()})}function nt(e){let{propertySchema:t,propertyFilter:o,onChange:n}=e;const{isPhone:i}=(0,r().Y0)(),a=(0,W().X)("db_ux_mobile"),c=(0,l().DP)(),d=o.filter;if(!(0,s().gc)(d)||!(0,s().nM)(d))return(0,ye.jsx)(ye.Fragment,{children:t.name});const u={width:190,items:s().$N,selectedItem:(0,s().CY)(d),getKey:e=>e,onSelect:e=>{Qe({...d,use_end:(0,s().Zt)(e)},n,o)},renderItem:e=>(0,ye.jsx)(Re().A,{renderTooltip:()=>(0,_().WG)(e.value),render:t=>(0,ye.jsx)(ce().A,{title:(0,_().h0)(e.value),...(0,H().A)(e,t)}),placement:Y().W.Right,textWrap:!0,style:{width:"260px"}}),renderOrigin:e=>(0,ye.jsx)(Ae().A,{...e,style:{marginRight:4,marginLeft:2,paddingLeft:2,paddingRight:2,borderRadius:6,flexShrink:0},children:(0,ye.jsxs)("div",{style:{display:"flex",alignItems:"center",...!R().A.isMobile&&{color:c.text.secondary,fill:c.icon.tertiary,fontWeight:500,fontSize:12}},children:[(0,ye.jsx)("span",{style:{marginRight:4},children:(0,_().h0)((0,s().CY)(d))}),(0,m().b)({width:10,height:10,...R().A.isMobile&&{marginTop:2}})]})})};return(0,ye.jsx)(Pe().A,{...u,menuTypeOverride:(0,O().PK)(i,a)})}function rt(e){let{propertyFilter:t,onChange:o}=e;const n=(0,W().X)("db_ux_mobile"),i=(0,k().tz)(),a=(0,l().DP)(),{isPhone:c}=(0,r().Y0)(),{filter:d}=t;if(!(0,s().s1)(d))return null;const u={width:190,items:s().$X,getKey:e=>e,selectedItem:d.operator,onSelect:e=>{null==o||o({...d,operator:e})},renderItem:e=>(0,ye.jsx)(ce().A,{title:(0,_().wE)(e.value,i),...e}),renderOrigin:e=>(0,ye.jsx)(Ae().A,{...e,style:{marginRight:4,marginLeft:2,paddingLeft:2,paddingRight:2,borderRadius:6,flexShrink:0},children:(0,ye.jsxs)("div",{style:{display:"flex",alignItems:"center",...!R().A.isMobile&&{color:a.text.tertiary,fontSize:12}},children:[(0,ye.jsx)("span",{style:{marginRight:4},children:(0,_().wE)(d.operator,i).toLocaleLowerCase()}),(0,m().b)({width:10,height:10,...R().A.isMobile&&{marginTop:2}})]})})};return(0,ye.jsx)(Pe().A,{...u,menuTypeOverride:(0,O().PK)(c,n)})}function it(e){let{propertyFilter:t,schema:o,parentStore:n,onChange:a}=e;const c=(0,W().X)("db_ux_mobile"),d=(0,l().DP)(),{isPhone:u}=(0,r().Y0)(),{property:p}=t,g=o[p],h=(0,s().s1)(t.filter)?t.filter.subfilter:t.filter,f=(0,i().K8)((()=>(0,s().HF)({schema:o,property:p,getRecordModel:n.getRecordModel})),[n,p,o]);if((0,s().s1)(h))return null;let x=(0,s().U6)(f);g&&(0,V().i5)(g)&&(x=x.filter((e=>!(0,s().tk)(e))));const C={width:190,items:x,selectedItem:h.operator,getKey:e=>e,onSelect:e=>{Qe((0,_().iI)(f,h,e,"propertyFilter"),a,t)},renderItem:e=>(0,ye.jsx)(ce().A,{title:(0,_().J)(e.value),...e}),renderOrigin:e=>(0,ye.jsx)(Ae().A,{...e,style:{marginRight:4,marginLeft:2,paddingLeft:2,paddingRight:2,borderRadius:6,flexShrink:0},children:(0,ye.jsxs)("div",{style:{display:"flex",alignItems:"center",...!R().A.isMobile&&{color:d.text.secondary,fill:d.icon.tertiary,fontWeight:500,fontSize:12}},children:[(0,ye.jsx)("span",{style:{marginRight:4},children:(0,_().J)(h.operator).toLocaleLowerCase()}),(0,m().b)({width:10,height:10,...R().A.isMobile&&{marginTop:2}})]})})};return(0,ye.jsx)(Pe().A,{...C,menuTypeOverride:(0,O().PK)(u,c)})}function lt(e){let{parent:t,userCanConfigureFilters:o,onDelete:r,onAddToCombinatorFilter:i}=e;const l=R().A.isMobile?{menuType:O().gu.ActionSheet}:{menuType:O().gu.Popup,maxHeight:s().mi},a=(0,n.useMemo)((()=>[{key:"actions",render:e=>(0,ye.jsx)(fe().A,{disableMobilePadding:!0,...e}),items:o?M().oE([{key:"delete",render:e=>(0,ye.jsx)(ce().A,{...e,title:(0,ye.jsx)(k().sA,{id:"database.filterValue.deleteFilter.title",defaultMessage:"Delete filter"}),icon:(0,ye.jsx)(Me().I,{icon:C().trashIcon}),isRedOnHover:!0}),action:()=>{t.close(),null==r||r()}},{key:"merge",render:e=>(0,ye.jsx)(Re().A,{placement:Y().W.Right,style:{maxWidth:240,whiteSpace:void 0},renderTooltip:()=>(0,ye.jsx)("div",{children:(0,ye.jsx)(P().Nf,{})}),render:t=>(0,ye.jsx)(ce().A,{...(0,H().A)(e,t),title:(0,ye.jsx)(k().sA,{id:"database.filterValue.mergeIntoAdvancedFilter.title",defaultMessage:"Add to advanced filter"}),icon:(0,ye.jsx)(Me().I,{icon:x().S})})}),action:()=>{t.close(),null==i||i()}}]):[]}]),[i,r,t,o]);return(0,ye.jsx)(ue().A,{...l,children:(0,ye.jsx)(pe().Ay,{type:pe().Oh.Vertical,sections:a,initialFocus:void 0})})}function at(e){let{propertySchema:t,propertyFilter:o,onChange:n}=e;return(0,s().qK)(t)?(0,ye.jsx)(nt,{propertyFilter:o,onChange:n,propertySchema:t}):(0,ye.jsx)(ye.Fragment,{children:t.name})}function st(e){let{userCanConfigureFilters:t,onDelete:o,onAddToCombinatorFilter:n,context:r}=e;const i=(0,k().tz)();return r===Ne.ConditionalColorRule?(0,ye.jsx)(Fe().A,{icon:C().trashIcon,onClick:o,ariaLabel:i.formatMessage({id:"database.filterValue.deleteConditionalColorRule.title",defaultMessage:"Delete conditional color rule"}),size:"xxs",color:"secondary"}):(0,ye.jsx)(je().Ay,{popupType:R().A.isMobile?Te().nl.SlideUp:Te().nl.Popup,render:e=>(0,ye.jsx)(lt,{parent:e,userCanConfigureFilters:t,onDelete:o,onAddToCombinatorFilter:n}),renderOrigin:e=>t&&(0,ye.jsx)(Fe().A,{ariaLabel:i.formatMessage({id:"database.filterValue.dotsIcon.ariaLabel",defaultMessage:"More actions"}),icon:f()._,style:{...!R().A.isMobile&&{height:20,width:20}},...e}),style:{width:240},originGap:2,placementToOrigin:je().sx.Right,alignmentToOrigin:je().yP.Start})}function ct(e){let{propertyFilter:t,onChange:o,schema:n,parentStore:r,userCanConfigureFilters:i,onDelete:a,onAddToCombinatorFilter:c,context:d}=e;const u=(0,l().DP)();if(d===Ne.AdvancedFilter)return null;const{property:p}=t,g=n[p];return g?(0,ye.jsxs)("div",{style:{display:"flex",color:u.text.tertiary,fontSize:12,alignItems:"flex-start",paddingTop:4,paddingRight:8,paddingBottom:2,paddingLeft:8},children:[(0,ye.jsx)("span",{style:{flexShrink:1,...B().RC},children:(0,ye.jsx)(at,{propertyFilter:t,onChange:o,propertySchema:g})}),(0,s().s1)(t.filter)&&(0,ye.jsx)(rt,{propertyFilter:t,onChange:o}),(0,ye.jsx)(it,{propertyFilter:t,schema:n,parentStore:r,onChange:o}),(0,ye.jsx)("div",{style:{flexGrow:1}}),(0,ye.jsx)(st,{userCanConfigureFilters:i,onDelete:a,onAddToCombinatorFilter:c,context:d})]}):null}function dt(e){let{propertyFilter:t,schema:o,context:n,onChange:r,parentStore:i}=e;const{property:l}=t,a=o[l];return a?n===Ne.PropertyFilter?(0,ye.jsxs)("div",{style:{display:"flex"},children:[(0,ye.jsx)("span",{style:{fontWeight:B().Wy.medium,flexShrink:1,marginLeft:8,maxWidth:150,...B().RC},children:(0,ye.jsx)(at,{propertyFilter:t,onChange:r,propertySchema:a})}),(0,s().s1)(t.filter)&&(0,ye.jsx)(rt,{propertyFilter:t,onChange:r}),(0,ye.jsx)(it,{propertyFilter:t,schema:o,parentStore:i,onChange:r})]}):(0,ye.jsx)(ye.Fragment,{children:a.name}):null}function ut(e){let{context:t,userCanConfigureFilters:o,onDelete:n,onAddToCombinatorFilter:r}=e;return t!==Ne.PropertyFilter?null:(0,ye.jsx)(st,{userCanConfigureFilters:o,onDelete:n,onAddToCombinatorFilter:r,context:t})}function pt(e){let{filter:t,onChange:o,propertyFilter:n,schema:r,parentStore:i,userCanConfigureFilters:l,onDelete:a,onAddToCombinatorFilter:c,context:d,onClose:u}=e;const p=(0,k().tz)(),g=(0,ye.jsx)(ke().Ay,{focus:!0,focusInitial:!0,focusAfterAnimation:!0,value:(0,s().gc)(t)&&t.value.value?t.value.value:"",onChange:e=>{Je({type:"exact",value:e.target.value},o,n)},onClearButtonClick:()=>{Je({type:"exact",value:void 0},o,n)},placeholder:p.formatMessage({defaultMessage:"Type a value…",id:"database.filterValue.textType.searchPlaceholder"}),showClearButton:!0,style:{paddingBottom:8}}),h=(0,ye.jsxs)(fe().A,{disableMobileBorders:!0,disableMobilePadding:!0,children:[!R().A.isMobile&&(0,ye.jsx)(ct,{propertyFilter:n,onChange:o,schema:r,parentStore:i,userCanConfigureFilters:l,onDelete:a,onAddToCombinatorFilter:c,context:d}),(0,s().gc)(t)&&g]});let m;return m=R().A.isMobile?{menuType:O().gu.Modal,title:(0,ye.jsx)(dt,{propertyFilter:n,schema:r,context:d,onChange:o,parentStore:i}),left:(0,ye.jsx)(ut,{context:d,userCanConfigureFilters:l,onDelete:a,onAddToCombinatorFilter:c}),right:(0,ye.jsx)(he().DoneMenuText,{}),onClickRight:u,header:h}:{menuType:O().gu.Popup,maxHeight:s().mi,width:Ze(d)?220:void 0,header:h},(0,ye.jsx)(ue().A,{...m})}function gt(e){let{filter:t,onChange:o,propertyFilter:n,schema:r,parentStore:i,userCanConfigureFilters:l,onDelete:a,onAddToCombinatorFilter:c,context:d,onClose:u}=e;const p=(0,k().tz)(),g=(0,ye.jsx)(ke().Ay,{focus:!0,focusInitial:!0,focusAfterAnimation:!0,value:(0,s().gc)(t)&&"number"==typeof t.value.value?t.value.value.toString():"",inputLeft:(0,ye.jsx)(ot,{filter:t}),onChange:e=>{Je({type:"exact",value:(0,K().q)(e.target.value,p)},o,n)},onClearButtonClick:()=>{Je({type:"exact",value:void 0},o,n)},placeholder:p.formatMessage({defaultMessage:"Type a value…",id:"database.filterValue.numberType.searchPlaceholder"}),showClearButton:!0,style:{paddingBottom:8}}),h=(0,ye.jsxs)(fe().A,{disableMobileBorders:!0,disableMobilePadding:!0,children:[!R().A.isMobile&&(0,ye.jsx)(ct,{propertyFilter:n,onChange:o,schema:r,parentStore:i,userCanConfigureFilters:l,onDelete:a,onAddToCombinatorFilter:c,context:d}),(0,s().gc)(t)&&g]});let m;return m=R().A.isMobile?{menuType:O().gu.Modal,title:(0,ye.jsx)(dt,{propertyFilter:n,schema:r,context:d,onChange:o,parentStore:i}),left:(0,ye.jsx)(ut,{context:d,userCanConfigureFilters:l,onDelete:a,onAddToCombinatorFilter:c}),right:(0,ye.jsx)(he().DoneMenuText,{}),onClickRight:u,header:h}:{menuType:O().gu.Popup,maxHeight:s().mi,width:220,header:h},(0,ye.jsx)(ue().A,{...m})}function ht(e,t,o){t.setState(e),o.setState({focus:{section:0,indexLocal:0,indexGlobal:0,footerFocused:!1}})}function mt(e){let{filter:t,schema:o,propertyFilter:a,parentStore:p,onChange:g,onClose:h,userCanConfigureFilters:m,onDelete:f,onAddToCombinatorFilter:x,context:C,queryStore:y,menuListStore:v,collectionContextStore:S}=e;const b=(0,k().tz)(),A=(0,l().DP)(),{isAndroid:j}=(0,r().Y0)(),F=(0,i().O$)(y),w=(0,i().K8)((()=>(0,D().YF)(o,a,p)),[o,a,p]),[T,B]=(0,q().$)(),P=(0,i().K8)((()=>{const e=null==S?void 0:S.collectionViewStore();return"form_editor"===(null==e?void 0:e.getType())}),[S]),{items:I,tokenizedInput:_}=(0,n.useMemo)((()=>{if(!w||!(0,c().lx)(w))return{items:[],tokenizedInput:null};const e=w.options||[],o=(0,s().gc)(t)?(0,s().v0)(t)?(0,s().Zl)(t):(0,s().SM)(t):[],n=o.map((t=>{if(void 0===t.value)return null;const n=(0,d().jy)(e,t.value);return n?(0,ye.jsx)(We().O,{format:R().A.isMobile?u().NY.Large:u().NY.Small,isSingle:!0,value:n.value,color:n.color,showRemoveButton:!0,onClickRemove:()=>{Je(M().FF(o,t),g,a)}},n.id):null})),r=(0,ye.jsx)("div",{style:{...!R().A.isMobile&&{paddingTop:0,paddingRight:8,paddingBottom:8,paddingLeft:8}},children:(0,ye.jsx)(Ce().Ay,{focus:!R().A.isMobile||void 0,focusAfterAnimation:!0,format:Ce().le.FilterValue,tokens:P?[]:n,placeholder:b.formatMessage({defaultMessage:"Select one or more options…",id:"database.filterValue.selectType.searchPlaceholder"}),onRemoveLastToken:()=>{Je(o.slice(0,o.length-1),g,a)},onClearButtonClick:()=>{Je([],g,a),null==h||h()},value:F,onChange:e=>{ht(e.target.value,y,v)},dontShowBorderBottom:j,showClearButton:!0,tokenWrapStyle:{paddingTop:2,gap:4},...T})});return{items:Ee({query:F,propertySchema:w,selectedValues:o,updateValue:e=>{Je(e,g,a)},isMobile:Boolean(R().A.isMobile),styles:{checkboxIcon:{fill:A.icon.primary,pointerEvents:"none"}},isFormEditorView:P}),tokenizedInput:r}}),[w,t,P,b,F,j,T,A.icon.primary,g,a,h,y,v]);if(!w||!(0,c().lx)(w))return null;const V=(0,ye.jsxs)(fe().A,{desktopStyle:{paddingBottom:0,marginTop:P?8:0},children:[!R().A.isMobile&&!P&&(0,ye.jsx)(ct,{propertyFilter:a,onChange:g,schema:o,parentStore:p,userCanConfigureFilters:m,onDelete:f,onAddToCombinatorFilter:x,context:C}),(0,s().gc)(t)&&_]}),L=R().A.isMobile?{menuType:O().gu.Modal,title:(0,ye.jsx)(dt,{propertyFilter:a,schema:o,context:C,onChange:g,parentStore:p}),left:(0,ye.jsx)(ut,{context:C,userCanConfigureFilters:m,onDelete:f,onAddToCombinatorFilter:x}),right:(0,ye.jsx)(he().DoneMenuText,{}),onClickRight:h,header:V}:{menuType:O().gu.Popup,maxHeight:s().mi,width:Ze(C)?260:void 0,header:V,disableHeaderBorder:!0,tokenInputHeader:!0};return(0,ye.jsx)(ue().A,{...L,children:(0,s().gc)(t)&&(0,ye.jsxs)(ye.Fragment,{children:[0===I.length&&(0,ye.jsx)(fe().A,{children:(0,ye.jsx)(ge().A,{title:(0,ye.jsx)(k().sA,{defaultMessage:"No results",id:"database.filterValue.selectType.noResults.message"})})}),I.length>0&&(0,ye.jsx)(pe().Ay,{type:pe().Oh.Vertical,initialFocus:0,sections:[{key:"select",render:e=>(0,ye.jsx)(fe().A,{...e}),items:I}],store:v,onAccept:()=>{ht("",y,v)},comboboxProps:B})]})})}function ft(e){let{filter:t,error:o,results:l,schema:c,propertyFilter:d,parentStore:p,onChange:g,allowRelativePersonFilter:h,onClose:m,userCanConfigureFilters:f,onDelete:x,onAddToCombinatorFilter:C,context:y,queryStore:v,menuListStore:b}=e;const F=(0,r().v3)(),w=(0,k().tz)(),{device:T}=F,B=(0,i().O$)(v),P=(0,i().K8)((()=>(0,D().YF)(c,d,p)),[c,d,p]),[I,_]=(0,q().$)(),V=(0,n.useMemo)((()=>(0,s().gc)(t)?(0,s().Wf)(t):[]),[t]),L=(0,W().X)("group_mentions_in_person_property_values"),H=(0,i().K8)((()=>M().oE(V.map(((e,t)=>{if("exact"===e.type&&e.value&&e.value.table!==A().n){const t=(0,a().xC)({pointer:e.value,getRecordValue:p.getRecordValue});return(0,ye.jsx)(Ie().Ay,{actor:t,format:R().A.isMobile?Ie().Ay.Format.Large:Ie().Ay.Format.Small,showRemoveButton:!0,onClickRemove:()=>{Je(M().FF(V,e),g,d)},shouldShrink:!0,isSingle:!1,hasPersonHoverCard:!1},e.value.id)}if("exact"===e.type&&e.value&&e.value.table===A().n&&L){const t=(0,A().bj)({spacePermissionGroupId:e.value.id,spaceId:e.value.spaceId});return(0,ye.jsx)(be().AQ,{groupPointer:t,parentStore:p,format:R().A.isMobile?Ie().Ay.Format.Large:Ie().Ay.Format.Medium,showRemoveButton:!0,onClickRemove:()=>{Je(M().FF(V,e),g,d)},shouldShrink:!0,isSingle:!1},t.id)}if("relative"===e.type&&"me"===e.value&&h)return(0,ye.jsx)(xe().A,{format:R().A.isMobile?u().NY.Large:u().NY.Small,value:(0,ye.jsx)(Xe,{}),onClickRemove:()=>{Je(M().FF(V,e),g,d)},showRemoveButton:!0,isSingle:!1,shouldShrink:!0,backgroundColor:"transparent",showTooltip:"overflow"},t)})))),[h,V,g,d,p,L]);if(!P)return null;const K=(0,ye.jsx)("div",{style:{...!R().A.isMobile&&{paddingTop:4,paddingRight:8,paddingBottom:8,paddingLeft:8}},children:(0,ye.jsx)(Ce().Ay,{focus:!R().A.isMobile||void 0,focusAfterAnimation:!0,format:Ce().le.FilterValue,tokens:H,placeholder:w.formatMessage({defaultMessage:"Search for one or more people…",id:"database.filterValue.personType.searchPlaceholder"}),onRemoveLastToken:()=>{Je(V.slice(0,V.length-1),g,d)},onClearButtonClick:()=>{Je([],g,d),null==m||m()},value:B,onChange:e=>{ht(e.target.value,v,b)},dontShowBorderBottom:T.isAndroid,showClearButton:!0,...I})}),z=(0,ye.jsxs)(fe().A,{desktopStyle:{paddingBottom:0},children:[!R().A.isMobile&&(0,ye.jsx)(ct,{propertyFilter:d,onChange:g,schema:c,parentStore:p,userCanConfigureFilters:f,onDelete:x,onAddToCombinatorFilter:C,context:y}),(0,s().gc)(t)&&K]});let N;N=R().A.isMobile?{menuType:O().gu.Modal,title:(0,ye.jsx)(dt,{propertyFilter:d,schema:c,context:y,onChange:g,parentStore:p}),left:(0,ye.jsx)(ut,{context:y,userCanConfigureFilters:f,onDelete:x,onAddToCombinatorFilter:C}),right:(0,ye.jsx)(he().DoneMenuText,{}),onClickRight:m,header:z}:{menuType:O().gu.Popup,maxHeight:s().mi,width:260,header:z,disableHeaderBorder:!0};const G=M().oE((l&&l.users||[]).map((e=>function(e,t,o,n,r){const i=Boolean(t.find((t=>{var o;return"exact"===t.type&&(null===(o=t.value)||void 0===o?void 0:o.id)===e.id})));return{key:e.id,render:t=>(0,ye.jsx)(ce().A,{...t,title:(0,ye.jsx)(Ie().t_,{isSingle:!0,shouldShrink:!0,format:R().A.isMobile?Ie().t_.Format.Large:Ie().t_.Format.Medium,userValue:e,showRemoveButton:!1,hasPersonHoverCard:!1}),isTokenTitle:!0,isChecked:i}),action:()=>{Je(i?t.filter((t=>{var o;return!("exact"===t.type&&(null===(o=t.value)||void 0===o?void 0:o.id)===e.id)})):[...t,{type:"exact",value:{table:j().oo,id:e.id}}],r,o)}}}(e,V,d,0,g)))),Y=M().oE((l&&l.groups||[]).map((e=>function(e,t,o,n){const r=t.some((t=>{var o;return"exact"===t.type&&(null===(o=t.value)||void 0===o?void 0:o.id)===e.id})),i=e.getGroupPointer();return{key:i.id,render:t=>(0,ye.jsx)(He()._,{group:e,menuListItemProps:t}),action:()=>{Je(r?t.filter((e=>{var t;return!("exact"===e.type&&(null===(t=e.value)||void 0===t?void 0:t.id)===i.id)})):[...t,{type:"exact",value:i}],n,o)}}}(e,V,d,g)))),E=["created_by","last_edited_by"].includes(P.type)?M().oE((l&&l.bots||[]).map((e=>function(e,t,o,n,r){const i=Boolean(t.find((t=>{var o;return"exact"===t.type&&(null===(o=t.value)||void 0===o?void 0:o.id)===e.id})));return{key:e.id,render:t=>(0,ye.jsx)(ce().A,{...t,title:(0,ye.jsx)(Ie().v7,{isSingle:!0,shouldShrink:!0,format:R().A.isMobile?Ie().v7.Format.Large:Ie().v7.Format.Medium,botValue:e,showRemoveButton:!1,hasPersonHoverCard:!1}),isTokenTitle:!0,isChecked:i}),action:()=>{Je(i?t.filter((t=>{var o;return!("exact"===t.type&&(null===(o=t.value)||void 0===o?void 0:o.id)===e.id)})):[...t,{type:"exact",value:{table:S().GP,id:e.id}}],r,o)}}}(e,V,d,0,g)))):[];if(h&&l&&(!B||"me".includes(B))){const e=Boolean(V.find((e=>"relative"===e.type&&"me"===e.value)));G.unshift({key:"me",render:t=>(0,ye.jsx)(ce().A,{...t,title:(0,ye.jsx)(Xe,{}),isChecked:e,style:R().A.isMobile?void 0:{fontSize:14}}),action:()=>{Je(e?V.filter((e=>{let{value:t}=e;return"me"!==t})):[...V,{type:"relative",value:"me"}],g,d)}})}const U=[];return G.length>0&&U.push({key:"user property",render:e=>(0,ye.jsx)(fe().A,{...e}),items:G}),E.length>0&&U.push({key:"bot property",render:e=>(0,ye.jsx)(fe().A,{...e,title:"Pick a bot"}),items:E}),Y.length>0&&U.push({key:"group property",render:e=>(0,ye.jsx)(fe().A,{...e,title:(0,ye.jsx)(k().sA,{defaultMessage:"Pick a group",id:"database.filterValue.personType.pickGroup.title"})}),items:Y}),(0,ye.jsx)(ue().A,{...N,children:(0,s().gc)(t)&&(0,ye.jsxs)(ye.Fragment,{children:[o&&(0,ye.jsx)(fe().A,{children:(0,ye.jsx)(ge().A,{title:(0,ye.jsx)(k().sA,{defaultMessage:"Something went wrong.",id:"database.filterValue.personType.searchPersonPropertyMenuItem.errorMessage"})})}),0===U.length&&l&&!o&&(0,ye.jsx)(fe().A,{children:(0,ye.jsx)(ge().A,{title:(0,ye.jsx)(k().sA,{defaultMessage:"No results",id:"database.filterValue.personType.noResults.message"})})}),!l&&!o&&(0,ye.jsx)(fe().A,{children:(0,ye.jsx)(Ke().A,{})}),U.length>0&&(0,ye.jsx)(pe().Ay,{type:pe().Oh.Vertical,initialFocus:0,sections:U,store:b,onAccept:()=>{ht("",v,b)},comboboxProps:_})]})})}function xt(e){var t;let{filter:o,context:n,propertyFilter:r,schema:l,onChange:a,parentStore:c,userCanConfigureFilters:d,onDelete:u,onAddToCombinatorFilter:p,onClose:g,menuListStore:h,collectionContextStore:m}=e;const f=(0,i().K8)((()=>{const e=null==m?void 0:m.collectionViewStore();return"form_editor"===(null==e?void 0:e.getType())}),[m]);let x;x=R().A.isMobile?{menuType:O().gu.Modal,title:(0,ye.jsx)(dt,{propertyFilter:r,schema:l,context:n,onChange:a,parentStore:c}),left:(0,ye.jsx)(ut,{context:n,userCanConfigureFilters:d,onDelete:u,onAddToCombinatorFilter:p}),right:(0,ye.jsx)(he().DoneMenuText,{}),onClickRight:g}:{menuType:O().gu.Popup,maxHeight:s().mi,width:220,footer:(0,ye.jsx)(tt,{onChange:a,propertyFilter:r,onClose:g,filter:o})};const C=null===(t=o.value)||void 0===t?void 0:t.value;return(0,ye.jsxs)(ue().A,{...x,children:[n===Ne.PropertyFilter&&(0,ye.jsx)(fe().A,{disableMobilePadding:!0,children:!R().A.isMobile&&!f&&(0,ye.jsx)(ct,{propertyFilter:r,onChange:a,schema:l,parentStore:c,userCanConfigureFilters:d,onDelete:u,onAddToCombinatorFilter:p,context:n})}),(0,ye.jsx)(pe().Ay,{type:pe().Oh.Vertical,initialFocus:0,sections:[{key:"select",render:e=>(0,ye.jsx)(fe().A,{style:n===Ne.PropertyFilter?{paddingTop:0}:void 0,...e}),items:[{key:"unchecked",render:e=>(0,ye.jsx)(ce().A,{...e,title:(0,ye.jsx)(k().sA,{defaultMessage:"Unchecked",id:"database.filterValue.checkboxType.unchecked.title"}),isTokenTitle:!0,isChecked:!1===C}),action:()=>{Je({type:"exact",value:!1},a,r)}},{key:"checked",render:e=>(0,ye.jsx)(ce().A,{...e,title:(0,ye.jsx)(k().sA,{defaultMessage:"Checked",id:"database.filterValue.checkboxType.checked.title"}),isTokenTitle:!0,isChecked:!0===C}),action:()=>{Je({type:"exact",value:!0},a,r)}}]}],store:h,onAccept:g,captureKeyboardOnlyWhenFocused:!0}),R().A.isMobile&&(0,ye.jsx)(tt,{onChange:a,propertyFilter:r,onClose:g,filter:o})]})}function Ct(e){let{filter:t,error:o,results:a,schema:d,propertyFilter:p,parentStore:g,onChange:h,onClose:m,userCanConfigureFilters:f,onDelete:x,onAddToCombinatorFilter:C,context:S,collectionViewId:A,queryStore:j,menuListStore:F,allowCurrentPageInRelatedCollectionFilter:w}=e;const B=(0,r().v3)(),P=(0,k().tz)(),{device:I}=B,_=(0,i().O$)(j),V=(0,i().K8)((()=>(0,D().YF)(d,p,g)),[d,p,g]),H=(0,i().K8)((()=>function(e,t){if(!e)return;const o=Q().pS.createChildStore(t,{table:b().Gy,id:e}).getParentBlockStore();return o?o.getNearestAncestorTemplateStore():void 0}(A,g)),[A,g]),K=(0,i().K8)((()=>null==H?void 0:H.getAssociatedCollectionId()),[H]),W=(0,n.useMemo)((()=>(0,s().gc)(t)?(0,s().Rh)(t):[]),[t]),N=(0,i().K8)((()=>{const e=(0,D().YF)(d,p,g);return e&&(0,c().nC)(e)?{appConfigUri:(0,z().LQ)(e,g),schema:(0,z().D3)(e,B)}:{}}),[d,p,g,B]),G=(0,i().K8)((()=>function(e,t,o,n,r){const{appConfigUri:i,schema:l}=n;if(!l)return[];if(!i||!(0,L().KN)(l,i))return[];const a=(0,y().qk)(l,i),s=y().n$[i];return M().oE(a.map((n=>{if(!e||n.includes(e)){const e={type:"relative",value:{type:"builtin",variable:n}},i=$e(t,e);return{key:n,render:e=>(0,ye.jsx)(ce().A,{...e,title:(0,ye.jsx)(k().sA,{...s[n].messageDescriptor}),isChecked:i}),action:et(i,t,e,o,r)}}})))}(_,W,p,N,h)),[_,W,p,N,h]),Y=(0,i().K8)((()=>w?function(e,t,o,n,r){const i=e.formatMessage(qe.pageContainingThisView);if(!t||i.toLowerCase().includes(t)){const e={type:"relative",value:{type:"current_page_in_related_collection"}},t=$e(o,e);return{key:e.value.type,render:e=>(0,ye.jsx)(ce().A,{...e,title:i,isChecked:t}),action:et(t,o,e,n,r)}}}(P,_,W,p,h):void 0),[P,_,W,p,h,w]),[E,U]=(0,q().$)(),Z=(0,l().IS)((()=>({tokenWrapStyle:{paddingTop:2,gap:"5px 3px"},tokenStyle:{margin:0},inputStyle:{maxHeight:"20vh",overflowY:"auto"}})),[]);if(!V||!(0,c().nC)(V))return null;const $=(0,c().zO)(V);if(!$)return null;const X=M().oE(W.map(((e,t)=>{if(!e.value)return null;const o={format:R().A.isMobile?u().NY.Large:u().NY.Small,shouldWrap:!1,showRemoveButton:!0,isSingle:!1,shouldShrink:!0,onClickRemove:()=>{Je(M().FF(W,e),h,p)},style:Z.tokenStyle},n=e.type;if("exact"===n)return(0,ye.jsx)(ze().A,{blockId:e.value,parentStore:g,...o},e.value);if("relative"===n){var r;const{appConfigUri:n}=N;return"current_page_in_related_collection"===e.value.type?(0,ye.jsx)(xe().A,{value:P.formatMessage(qe.pageContainingThisView),backgroundColor:"transparent",showTooltip:"overflow",...o},t):n&&"builtin"===e.value.type?(0,ye.jsx)(xe().A,{value:(0,ye.jsx)(k().sA,{...null===(r=y().n$[n])||void 0===r||null===(r=r[e.value.variable])||void 0===r?void 0:r.messageDescriptor}),backgroundColor:"transparent",showTooltip:"overflow",...o},t):null}(0,T().HB)(n)}))),J=(0,ye.jsx)(Ce().Ay,{focus:!R().A.isMobile||void 0,focusAfterAnimation:!0,format:Ce().le.FilterValue,tokens:X,placeholder:P.formatMessage({defaultMessage:"Search for one or more pages…",id:"database.filterValue.relationType.searchPlaceholder"}),onRemoveLastToken:()=>{Je(W.slice(0,W.length-1),h,p)},onClearButtonClick:()=>{Je([],h,p),null==m||m()},value:_,onChange:e=>{ht(e.target.value,j,F)},dontShowBorderBottom:I.isAndroid,style:Z.inputStyle,tokenWrapStyle:Z.tokenWrapStyle,showClearButton:!0,...E}),ee=(0,ye.jsxs)(fe().A,{desktopStyle:{paddingBottom:0},children:[!R().A.isMobile&&(0,ye.jsx)(ct,{propertyFilter:p,onChange:h,schema:d,parentStore:g,userCanConfigureFilters:f,onDelete:x,onAddToCombinatorFilter:C,context:S}),(0,s().gc)(t)&&J]});let te;te=R().A.isMobile?{menuType:O().gu.Modal,title:(0,ye.jsx)(dt,{propertyFilter:p,schema:d,context:S,onChange:h,parentStore:g}),left:(0,ye.jsx)(ut,{context:S,userCanConfigureFilters:f,onDelete:x,onAddToCombinatorFilter:C}),right:(0,ye.jsx)(he().DoneMenuText,{}),onClickRight:m,header:ee}:{menuType:O().gu.Popup,maxHeight:s().mi,width:260,header:ee,disableHeaderBorder:!0},a&&!_&&H&&$&&K===$&&(a=M().sb([H.id,...a]));let oe=[];if(a){const e=function(e,t,o,n,r){return e.map((e=>{const i={type:"exact",value:e},l=$e(t,i),a=Q().Bv.createChildStore(o,{table:v().ev,id:e});return{key:e,action:et(l,t,i,n,r),render:e=>(0,ye.jsx)(Be().A,{store:a,isChecked:l,hidePath:!0,...e})}}))}(a,W,g,p,h);oe=((0,s().s1)(p.filter)?[]:G).concat(e),Y&&(oe=[Y,...oe])}return(0,ye.jsx)(ue().A,{...te,children:(0,s().gc)(t)&&(0,ye.jsxs)(ye.Fragment,{children:[o&&(0,ye.jsx)(fe().A,{children:(0,ye.jsx)(ge().A,{title:(0,ye.jsx)(k().sA,{defaultMessage:"Something went wrong.",id:"database.filterValue.relationType.searchRelationPropertyMenuItem.errorMessage"})})}),0===oe.length&&a&&!o&&(0,ye.jsx)(fe().A,{children:(0,ye.jsx)(ge().A,{title:(0,ye.jsx)(k().sA,{defaultMessage:"No results",id:"database.filterValue.relationType.noResults.message"})})}),!a&&!o&&(0,ye.jsx)(fe().A,{children:(0,ye.jsx)(Ke().A,{})}),oe.length>0&&(0,ye.jsx)(pe().Ay,{type:pe().Oh.Vertical,initialFocus:0,sections:[{key:"results",render:e=>(0,ye.jsx)(fe().A,{...e}),items:oe}],store:F,onAccept:()=>{ht("",j,F)},comboboxProps:U})]})})}function yt(e){let{filter:t,schema:o,propertyFilter:n,parentStore:r,onChange:l,allowRelativeDateFilter:a,dateRangeFilterPopupStore:c}=e;const d=(0,i().K8)((()=>(0,D().YF)(o,n,r)),[o,n,r]);if(!d)return null;let u;if((0,s().Cw)(t)&&"exact"===t.value.type&&t.value.value){const e=t.value.value;u={starting:e.start_date?{type:"date",start_date:e.start_date}:void 0,ending:e.end_date?{type:"date",start_date:e.end_date}:void 0}}else u=(0,s().Cw)(t)&&"relative"===t.value.type?t.value:{starting:void 0,ending:void 0};const p={disableMenuWrap:!0,title:d.name,value:u,onUpdate:e=>{var o,r;if(e.error)return null;const i={...u,...e.value},a=null===(o=i.starting)||void 0===o?void 0:o.start_date,s=null===(r=i.ending)||void 0===r?void 0:r.start_date;Qe({operator:"date_is_within",use_end:"use_end"in t?null==t?void 0:t.use_end:void 0,value:{type:"exact",value:a||s?{type:"daterange",start_date:a,end_date:s}:void 0}},l,n)},allowRelativeRangeFilter:a,relativeRangePopupStore:c,onUpdateRelativeFilter:e=>{Qe({...t,value:e},l,n)}};return(0,ye.jsx)(Oe().A,{...p})}function vt(e){let{filter:t,events:o,onChange:n,propertyFilter:r,allowRelativeDateFilter:i,dateFilterPopupStore:a}=e;const s=(0,l().DP)(),c=(0,k().tz)();return(0,ye.jsx)(_e().A,{...o,placeholder:c.formatMessage(qe.startingMessage),focused:"exact"===t.value.type,value:t.value,onUpdate:e=>{var o;if(e.error)return null;const i=null===(o=e.value)||void 0===o?void 0:o.start_date;Qe({...t,value:{type:"exact",value:i?{type:"date",start_date:i}:void 0}},n,r)},inputRight:i&&(0,ye.jsx)(Fe().A,{icon:m().b,iconStyle:{width:12,height:12},ariaLabel:c.formatMessage(qe.chevronDownAriaLabel),style:{...!R().A.isMobile&&{height:20,width:20},color:s.icon.secondary},onClick:()=>{a.setState({open:!0})}}),hideClearButton:"relative"===t.value.type||void 0,isRightLastElementOfInput:!0})}function St(e){let{filter:t,context:o,onChange:n,propertyFilter:r,schema:i,parentStore:a,userCanConfigureFilters:c,onDelete:d,onAddToCombinatorFilter:u,onClose:p,menuListStore:g}=e;const h=(0,l().DP)(),m=(0,s().gc)(t)?(0,s().ms)(t):[],f=m.map((e=>{let{value:t}=e;return t})),x=F().FG.map((e=>{const t=f.includes(e);return{key:e,render:o=>(0,ye.jsx)(ce().A,{icon:(0,ye.jsx)(me().T,{checked:t,size:14,style:{fill:h.icon.primary,pointerEvents:"none"},disallowTabbing:!0}),title:(0,_().w0)({type:"exact",value:e}),...o}),action:()=>{if(t)Je(m.filter((t=>{let{value:o}=t;return o!==e})),n,r);else{const t={type:"exact",value:e};Je([...m,t],n,r)}}}}));let C;return C=R().A.isMobile?{menuType:O().gu.Modal,title:(0,ye.jsx)(dt,{propertyFilter:r,schema:i,context:o,onChange:n,parentStore:a}),left:(0,ye.jsx)(ut,{context:o,userCanConfigureFilters:c,onDelete:d,onAddToCombinatorFilter:u}),right:(0,ye.jsx)(he().DoneMenuText,{}),onClickRight:p}:{menuType:O().gu.Popup,maxHeight:s().mi,width:220,footer:(0,ye.jsx)(tt,{onChange:n,propertyFilter:r,onClose:p,filter:t})},(0,ye.jsxs)(ue().A,{...C,children:[o===Ne.PropertyFilter&&(0,ye.jsx)(fe().A,{disableMobilePadding:!0,children:!R().A.isMobile&&(0,ye.jsx)(ct,{propertyFilter:r,onChange:n,schema:i,parentStore:a,userCanConfigureFilters:c,onDelete:d,onAddToCombinatorFilter:u,context:o})}),(0,ye.jsx)(pe().Ay,{type:pe().Oh.Vertical,initialFocus:0,sections:[{key:"select",render:e=>(0,ye.jsx)(fe().A,{style:{paddingTop:0},...e}),items:x}],store:g})]})}function bt(e){let{filter:t,parentStore:o,schema:n,propertyFilter:l,onChange:a,allowRelativePersonFilter:s,onClose:c,userCanConfigureFilters:d,onDelete:u,onAddToCombinatorFilter:p,context:g,queryStore:h,menuListStore:m}=e;const f=(0,r().v3)(),x=(0,k().tz)(),C=(0,i().O$)(h),y=(0,W().X)("group_mentions_in_person_property_values");return(0,ye.jsx)(ee().A,{request:C,performRequest:e=>async function(e,t,o,n,r){const i=await G().T.searchActions.load(),l=n.locale,{users:a,bots:s}=await i.searchSpaceActors({environment:o,query:e,membersOnly:!1,userLocale:l,shouldUseEdgeCacheRollout:X().default.checkGate({gateName:"edge_cache_person_property"}),limit:20}),c=r?i.searchSpaceGroups({query:e,intl:n}):[];return await Promise.all([...a.map((async e=>{let{id:o}=e;const n=(0,Q().Oo)(t,{table:j().oo,id:o});await n.load()})),...s.map((async e=>{const o=(0,Q().Oo)(t,{table:S().GP,id:e.id,spaceId:e.space_id});await o.load()}))]),{users:a,bots:s,groups:c}}(e,o,f,x,y),render:(e,r)=>(0,ye.jsx)(ft,{schema:n,propertyFilter:l,parentStore:o,onChange:a,allowRelativePersonFilter:s,onClose:c,userCanConfigureFilters:d,onDelete:u,onAddToCombinatorFilter:p,context:g,queryStore:h,menuListStore:m,filter:t,error:e,results:r})})}function At(e){let{filter:t,schema:o,propertyFilter:n,parentStore:l,onChange:a,onClose:s,userCanConfigureFilters:d,onDelete:u,onAddToCombinatorFilter:p,context:g,collectionViewId:h,queryStore:m,menuListStore:f,allowCurrentPageInRelatedCollectionFilter:x}=e;const C=(0,r().v3)(),y=(0,i().O$)(m),S=(0,i().O$)(Z().AppStoreCurrentSpaceStore),b=(0,i().K8)((()=>U().A.state.publicPageData),[]),A=(0,i().K8)((()=>(0,D().YF)(o,n,l)),[o,n,l]),j=(null==S?void 0:S.id)||(null==b?void 0:b.spaceId);if(!A||!(0,c().nC)(A)||!j)return null;const F=(0,c().zO)(A);return F?(0,ye.jsx)(ee().A,{request:{query:y,spaceId:j,collectionId:F},performRequest:e=>async function(e,t,o){const{query:n,spaceId:r,collectionId:i}=e;if(!r||!i)return[];const l=await G().T.searchActions.load(),{results:a}=await l.searchPagesInCollection({environment:o,query:n,collectionId:i,limit:20,spaceId:r,excludeTemplates:!0,source:"relation_menu",includePublicPagesWithoutExplicitAccess:!0,boostRecentlyViewedPages:!1});return 0===a.length?[]:(await Promise.all(a.map((async e=>{const o=(0,Q().Oo)(t,{table:v().ev,id:e});await o.load()}))),a)}(e,l,C),render:(e,r)=>(0,ye.jsx)(Ct,{schema:o,propertyFilter:n,parentStore:l,onChange:a,onClose:s,userCanConfigureFilters:d,onDelete:u,onAddToCombinatorFilter:p,context:g,collectionViewId:h,queryStore:m,menuListStore:f,filter:t,error:e,results:r,allowCurrentPageInRelatedCollectionFilter:x})}):null}function jt(e){let{filter:t,onChange:o,propertyFilter:n,allowRelativeDateFilter:r,dateFilterPopupStore:l}=e;const a=(0,i().O$)(I().XX);if(!(0,s().gc)(t))return null;const c="exact"===t.value.type?t.value.value:(0,g().fN)(t.value);return c&&!(0,p().$P)(c)?null:(0,ye.jsxs)(ye.Fragment,{children:[(0,ye.jsx)(fe().A,{disableMobileBorders:!0,children:(0,ye.jsx)(Le().A,{firstDayOfWeek:a,selectValue:void 0!==c,value:c?g().C6.notionDateToLuxon(c).toMillis():Date.now(),onChange:e=>{Je({type:"exact",value:(0,g().p6)(e,(0,h().P)())},o,n)}})}),"relative"===t.value.type&&(0,ye.jsx)(fe().A,{topBorder:!0,children:(0,ye.jsx)(De().A,{isSmall:!0,style:{marginLeft:4,marginTop:4},children:(0,ye.jsx)(k().sA,{id:"collectionFilterMenu.dateFilter.relativeDateFilter.description",defaultMessage:"Filter will update with the current date"})})})]})}function Ft(e){let t,{filter:o,context:n,propertyFilter:r,schema:i,onChange:l,parentStore:a,userCanConfigureFilters:c,onDelete:d,onAddToCombinatorFilter:u,onClose:p,allowRelativeDateFilter:g,dateFilterPopupStore:h,dateRangeFilterPopupStore:m}=e;return t=R().A.isMobile?{menuType:O().gu.Modal,title:(0,ye.jsx)(dt,{propertyFilter:r,schema:i,context:n,onChange:l,parentStore:a}),left:(0,ye.jsx)(ut,{context:n,userCanConfigureFilters:c,onDelete:d,onAddToCombinatorFilter:u}),right:(0,ye.jsx)(he().DoneMenuText,{}),onClickRight:p}:{menuType:O().gu.Popup,maxHeight:s().mi},(0,ye.jsxs)(ue().A,{...t,children:[(0,ye.jsxs)(fe().A,{disableMobilePadding:!0,disableMobileBorders:!0,isInput:n!==Ne.PropertyFilter,children:[!R().A.isMobile&&(0,ye.jsx)(ct,{propertyFilter:r,onChange:l,schema:i,parentStore:a,userCanConfigureFilters:c,onDelete:d,onAddToCombinatorFilter:u,context:n}),(0,s().gc)(o)&&!(0,s().Cw)(o)&&(0,ye.jsx)(Ve().A,{type:"date",filterValue:o.value,onUpdate:e=>{Qe({...o,value:e},l,r)},renderOrigin:e=>(0,ye.jsx)(vt,{onChange:l,propertyFilter:r,allowRelativeDateFilter:g,dateFilterPopupStore:h,filter:o,events:e}),disabled:"exact"===o.value.type&&g,buttonPopupStore:h})]}),(0,s().gc)(o)&&((0,s().Cw)(o)?(0,ye.jsx)(yt,{schema:i,propertyFilter:r,parentStore:a,onChange:l,allowRelativeDateFilter:g,dateRangeFilterPopupStore:m,filter:o}):(0,ye.jsx)(jt,{onChange:l,propertyFilter:r,allowRelativeDateFilter:g,dateFilterPopupStore:h,filter:o}))]})}function kt(e){let{filter:t,schema:o,propertyFilter:n,parentStore:r,onChange:l,onClose:a,userCanConfigureFilters:c,onDelete:d,onAddToCombinatorFilter:u,context:p}=e;const g=(0,i().K8)((()=>(0,D().YF)(o,n,r)),[o,n,r]);if(!g||"file"!==g.type)return null;const h=(0,ye.jsx)(fe().A,{desktopStyle:{paddingBottom:0},children:!R().A.isMobile&&(0,ye.jsx)(ct,{propertyFilter:n,onChange:l,schema:o,parentStore:r,userCanConfigureFilters:c,onDelete:d,onAddToCombinatorFilter:u,context:p})});let m;return m=R().A.isMobile?{menuType:O().gu.Modal,title:(0,ye.jsx)(dt,{propertyFilter:n,schema:o,context:p,onChange:l,parentStore:r}),left:(0,ye.jsx)(ut,{context:p,userCanConfigureFilters:c,onDelete:d,onAddToCombinatorFilter:u}),right:(0,ye.jsx)(he().DoneMenuText,{}),onClickRight:a,header:h}:{menuType:O().gu.Popup,maxHeight:s().mi,width:260,header:h,disableHeaderBorder:!0,tokenInputHeader:!0},(0,ye.jsx)(ue().A,{...m})}function wt(e){let{filter:t,schema:o,propertyFilter:n,parentStore:l,onChange:a,onClose:c,userCanConfigureFilters:d,onDelete:u,onAddToCombinatorFilter:p,context:g}=e;const h=(0,r().v3)(),{device:m}=h,f=(0,i().K8)((()=>(0,D().YF)(o,n,l)),[o,n,l]);if(!f||"place"!==f.type)return null;const x=(0,ye.jsx)(fe().A,{desktopStyle:{paddingBottom:0},children:!m.isMobile&&(0,ye.jsx)(ct,{propertyFilter:n,onChange:a,schema:o,parentStore:l,userCanConfigureFilters:d,onDelete:u,onAddToCombinatorFilter:p,context:g})});let C;return C=m.isMobile?{menuType:O().gu.Modal,title:(0,ye.jsx)(dt,{propertyFilter:n,schema:o,context:g,onChange:a,parentStore:l}),left:(0,ye.jsx)(ut,{context:g,userCanConfigureFilters:d,onDelete:u,onAddToCombinatorFilter:p}),right:(0,ye.jsx)(he().DoneMenuText,{}),onClickRight:c,header:x}:{menuType:O().gu.Popup,maxHeight:s().mi,width:260,header:x,disableHeaderBorder:!0,tokenInputHeader:!0},(0,ye.jsx)(ue().A,{...C})}function Mt(e){let{propertyFilter:t,schema:o,parentStore:n,onChange:r,onChangeDebounced:l,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:u,context:p,onClose:g,collectionViewId:h,collectionContextStore:m,allowRelativePersonFilter:f,allowRelativeDateFilter:x,queryStore:C,menuListStore:y,dateFilterPopupStore:v,dateRangeFilterPopupStore:S}=e;const{property:b,filter:A}=t,j=(0,i().K8)((()=>(0,s().HF)({schema:o,property:b,getRecordModel:n.getRecordModel})),[n,b,o]),F=o[b],k=(0,i().K8)((()=>!(!m||!F)&&function(e){var t;let{collectionContextStore:o,propertySchema:n}=e;if(void 0===o.viewsModuleContextStore.state)return!1;const r=null===(t=o.viewsModuleContextStore.getCurrentPageCollectionStore())||void 0===t?void 0:t.id;return!!r&&(0,c().nC)(n)&&(0,c().zO)(n)===r}({collectionContextStore:m,propertySchema:F})),[m,F]),w=(0,s().s1)(A)?A.subfilter:A;return"text"===j?(0,s().YH)(w)?(0,ye.jsx)(pt,{onChange:l,propertyFilter:t,schema:o,parentStore:n,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:u,context:p,onClose:g,filter:w}):null:"relation"===j?(0,s().Pq)(w)?(0,ye.jsx)(At,{schema:o,propertyFilter:t,parentStore:n,onChange:r,onClose:g,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:u,context:p,collectionViewId:h,queryStore:C,menuListStore:y,filter:w,allowCurrentPageInRelatedCollectionFilter:k}):null:"checkbox"===j?(0,s().Ui)(w)?(0,ye.jsx)(xt,{context:p,propertyFilter:t,schema:o,onChange:r,parentStore:n,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:u,onClose:g,menuListStore:y,filter:w,collectionContextStore:m}):null:"select"===j||"multi_select"===j?(0,s().v0)(w)||(0,s().as)(w)?(0,ye.jsx)(mt,{schema:o,propertyFilter:t,parentStore:n,onChange:r,onClose:g,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:u,context:p,queryStore:C,menuListStore:y,filter:w,collectionContextStore:m}):null:"status"===j?(0,s().H$)(w)?(0,ye.jsx)(Se().A,{propertyFilter:t,schema:o,filter:w,parentStore:n,updateValue:e=>Je(e,r,t),onClose:g,desktopTopActions:(0,ye.jsx)(ct,{propertyFilter:t,onChange:r,schema:o,parentStore:n,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:u,context:p}),mobileMenuTitle:(0,ye.jsx)(dt,{propertyFilter:t,schema:o,context:p,onChange:r,parentStore:n}),mobileMoreActions:(0,ye.jsx)(ut,{context:p,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:u}),collectionContextStore:m,context:p}):null:"person"===j?(0,s().I_)(w)?(0,ye.jsx)(bt,{parentStore:n,schema:o,propertyFilter:t,onChange:r,allowRelativePersonFilter:f,onClose:g,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:u,context:p,queryStore:C,menuListStore:y,filter:w}):null:"number"===j?(0,s().My)(w)?(0,ye.jsx)(gt,{onChange:l,propertyFilter:t,schema:o,parentStore:n,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:u,context:p,onClose:g,filter:w}):null:"date"===j?(0,s().nM)(w)?(0,ye.jsx)(Ft,{context:p,propertyFilter:t,schema:o,onChange:r,parentStore:n,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:u,onClose:g,allowRelativeDateFilter:x,dateFilterPopupStore:v,dateRangeFilterPopupStore:S,filter:w}):null:"file"===j?(0,s().B6)(w)?(0,ye.jsx)(kt,{onChange:r,propertyFilter:t,schema:o,parentStore:n,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:u,context:p,onClose:g,filter:w}):null:"location"===j?(0,s().G)(w)?(0,ye.jsx)(ve,{filter:w,parentStore:n,updateValue:e=>Je(e,r,t),onClose:g,desktopTopActions:(0,ye.jsx)(ct,{propertyFilter:t,onChange:r,schema:o,parentStore:n,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:u,context:p}),mobileMenuTitle:(0,ye.jsx)(dt,{propertyFilter:t,schema:o,context:p,onChange:r,parentStore:n}),mobileMoreActions:(0,ye.jsx)(ut,{context:p,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:u})}):null:"verification"===j?(0,s().uU)(w)?(0,ye.jsx)(St,{context:p,onChange:r,propertyFilter:t,schema:o,parentStore:n,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:u,onClose:g,menuListStore:y,filter:w}):null:"place"===j?(0,s().Ol)(w)?(0,ye.jsx)(wt,{onChange:r,propertyFilter:t,schema:o,parentStore:n,userCanConfigureFilters:a,onDelete:d,onAddToCombinatorFilter:u,context:p,onClose:g,filter:w}):null:void(0,T().HB)(j)}},862139:(e,t,o)=>{o.d(t,{_:()=>h});var n=o(296540),r=()=>o(484714),i=()=>o(56366),l=()=>o(959013),a=()=>o(698449),s=()=>o(765957),c=()=>o(760217),d=()=>o(173783),u=()=>o(678553),p=()=>o(187820),g=o(474848);function h(e){const t=(0,r().Y0)(),{group:o,menuListItemProps:h,spaceStore:m,iconSizeOverride:f}=e,x=(0,l().tz)(),C=(0,i().K8)((()=>{const e=m??s().AppStoreCurrentSpaceStore.state;if(e&&o.icon)return{pointer:{table:e.table,id:e.id},icon:o.icon}}),[o,m]),y=(0,n.useMemo)((()=>(0,a().Pf)({intl:x,groupName:o.name})),[o.name,x]),v=f||(t.isMobile?u().nd:u().pg);return(0,g.jsx)(c().A,{...h,icon:C?(0,g.jsx)(p().B6,{disabled:!0,size:v,icon:C,isEmptyPage:!1,title:y}):(0,g.jsx)(d().A,{size:v}),title:y})}},914701:(e,t,o)=>{o.d(t,{E:()=>i});var n=()=>o(763884),r=()=>o(540022);function i(e){const t=(0,r().N)(e.collectionViewId);n().K.set({userId:e.userId,key:t,value:e.isOpen})}}}]);