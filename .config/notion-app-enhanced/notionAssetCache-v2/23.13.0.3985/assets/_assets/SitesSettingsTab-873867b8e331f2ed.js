"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[56859,78171],{67805:(e,t,s)=>{s.d(t,{X:()=>a,c:()=>l});s(898992),s(672577);var i=()=>s(68263),n=()=>s(731320),o=()=>s(765957),r=()=>s(217429);function a(e,t){return e.sort(((e,s)=>{const i=e.store.canAdmin();if(i===s.store.canAdmin()){var n,o;const i=null===(n=e.publishedMetadata.publishedBy)||void 0===n?void 0:n.id,r=e.publishedMetadata.publishedTime,a=null===(o=s.publishedMetadata.publishedBy)||void 0===o?void 0:o.id,l=s.publishedMetadata.publishedTime;if(t){if(i===t&&a===t&&r&&l)return l-r;if(i===t)return-1;if(a===t)return 1}return r&&l?l-r:0}return i?-1:1}))}function l(e){const{environment:t,store:s}=e,a=r().default.checkGate({gateName:"allow_disable_sites_banner"});if(!s.pathIsAccessibleAndAlive())return!1;if(!n().i0(s).find((e=>(0,i().W8)(e.permissionItem))))return!1;const l=o().default.getState().currentSpaceStore;if(null!=l&&l.getSettings().hide_sites_banner&&a)return!1;return!n().qb(t,s)}},157529:(e,t,s)=>{s.d(t,{A:()=>y});var i=s(296540),n=()=>s(56366),o=()=>s(401497),r=()=>s(584262),a=()=>s(926401),l=()=>s(500066),d=()=>s(296798),c=()=>s(187820),u=()=>s(16006),h=()=>s(492414),p=()=>s(553965),g=()=>s(915019),m=()=>s(404141),x=s(474848);function y(e){const{store:t,style:s,hideIcon:y}=e,b=(0,n().K8)((()=>{if(t)return{icon:t.getIcon(),isEmptyPage:t.isEmptyPage(),url:(0,h().J8)({store:t,pageVisitSource:r().y8.SiteSettings})}}),[t]),f=(0,i.useCallback)((e=>{e.metaKey||m().A.setState({...m().A.state,open:!1})}),[]),S=(0,o().IS)((e=>({container:{display:"flex",alignItems:"center",overflow:"hidden",cursor:"default"},emptyPageIcon:{height:18,width:18,fill:e.palette.gray[500]},iconContainer:{position:"relative",width:20,height:20,marginRight:4},linkBox:{borderRadius:3,maxWidth:"100%"},linkIcon:{position:"absolute",width:10,height:10,right:0,bottom:0},pageRecordContainer:{display:"flex",alignItems:"center",paddingTop:2,paddingBottom:2,paddingRight:4,paddingLeft:4,...s},pageTitle:{wordBreak:"break-word",borderBottom:"0.05em solid rgba(55,53,47,.25)"}})),[s]);if(!t||!b)return null;const A=(0,x.jsxs)("div",{style:S.pageRecordContainer,children:[!y&&(0,x.jsxs)("div",{style:S.iconContainer,children:[b.icon?(0,x.jsx)(c().B6,{icon:b.icon,store:t,disabled:!0,size:16,isEmptyPage:b.isEmptyPage,emojiSize:20}):(0,a().n)(S.emptyPageIcon),(0,l().G)(S.linkIcon)]}),(0,x.jsx)(u().A,{store:t,style:S.pageTitle})]});return(0,x.jsx)("div",{style:S.container,children:(0,x.jsx)(g().A,{store:t,render:e=>(0,x.jsx)(d().A,{href:null==b?void 0:b.url,style:S.linkBox,...(0,p().A)(e,{onClick:f}),children:A})})})}},238544:(e,t,s)=>{s.r(t),s.d(t,{SitesSettingsTab:()=>ue});var i=s(296540),n=()=>s(401497),o=()=>s(959013),r=()=>s(284371),a=()=>s(802790),l=()=>s(690197),d=()=>s(843878),c=()=>s(8178),u=()=>s(645873);const h=new(u().O2)("SitesDomainsSection",(async()=>await Promise.all([s.e(98775),s.e(33996),s.e(27229)]).then(s.bind(s,312338)))),p=(0,u()._h)(h,(e=>e.DomainsSection));var g=()=>s(836251),m=(s(944114),s(581454),s(814603),s(147566),s(198721),()=>s(244641)),x=()=>s(484714),y=()=>s(56366),b=()=>s(584262),f=()=>s(869190),S=()=>s(126158),A=()=>s(133033),j=()=>s(884107),v=()=>s(704152),C=()=>s(493823),w=()=>s(710149),k=()=>s(859428),B=()=>s(125565),I=()=>s(994006),M=()=>s(317182),P=()=>s(40226),T=()=>s(578872),R=()=>s(962730),U=()=>s(630116),F=()=>s(716979),_=()=>s(562800),L=()=>s(558410),W=()=>s(157529),D=()=>s(568625),z=()=>s(406699),E=()=>s(285790),V=()=>s(107683),H=()=>s(380682),N=()=>s(212727),$=()=>s(278768),K=()=>s(760217),O=()=>s(928600),G=()=>s(939740),J=()=>s(8980),q=()=>s(89924),Y=()=>s(722872),X=()=>s(525700),Q=s(474848);function Z(e){const{store:t,parent:s,isSettingsDisabled:i,onSettingsClick:n}=e,o=(0,x().v3)(),r=[{key:"view",render:e=>(0,Q.jsx)(ee,{...e}),action:()=>{X().uY({environment:o,store:t,pageVisitSource:b().y8.SiteSettings}),$().ym(o,{action:"view_site"}),s.close()}},{key:"copy",render:e=>(0,Q.jsx)(te,{...e}),action:()=>{!async function(e,t){const s=P().R({store:t,pageVisitSource:b().y8.SiteSettings}),i=await j().R.clipboardActions.load();i.copyString({environment:e,stringValue:s,copiedMessage:i.clipboardMessages.copiedLinkToClipboard})}(o,t),$().ym(o,{action:"copy_site_link"}),s.close()}}],a={key:"settings",render:e=>(0,Q.jsx)(se,{...e,disabled:i}),action:()=>{n(t.id),$().ym(o,{action:"configure_site"}),s.close()}};return(0,Q.jsx)(O().A,{menuType:Y().gu.Popup,width:160,children:(0,Q.jsx)(G().Ay,{initialFocus:void 0,type:G().Oh.Vertical,sections:[{key:"link",render:e=>(0,Q.jsx)(q().A,{...e}),items:r},{key:"settings",render:e=>(0,Q.jsx)(q().A,{...e,topBorder:!0}),items:[a]}]})})}const ee=i.forwardRef(((e,t)=>(0,Q.jsx)(K().A,{...e,ref:t,icon:(0,Q.jsx)(J().I,{icon:s(12193).globeIcon}),title:(0,Q.jsx)(o().sA,{id:"sites.siteActions.viewSite",defaultMessage:"View site"})})));ee.displayName="ViewAction";const te=i.forwardRef(((e,t)=>(0,Q.jsx)(K().A,{...e,ref:t,icon:(0,Q.jsx)(J().I,{icon:s(764781).V}),title:(0,Q.jsx)(o().sA,{id:"sites.siteActions.copySiteLink",defaultMessage:"Copy site link"})})));te.displayName="CopyAction";const se=i.forwardRef(((e,t)=>{const{disabled:i}=e;return i?(0,Q.jsx)(k().A,{renderTooltip:()=>(0,Q.jsx)(o().sA,{id:"sites.siteActions.noEditAccess",defaultMessage:"You do not have access to update the settings for this published site."}),placement:R().W.Bottom,render:i=>(0,Q.jsx)(K().A,{...(0,s(553965).A)(i,e),ref:t,icon:(0,Q.jsx)(J().I,{icon:N().gearIcon}),title:(0,Q.jsx)(o().sA,{id:"sites.siteActions.settings",defaultMessage:"Settings"})})}):(0,Q.jsx)(K().A,{...e,ref:t,icon:(0,Q.jsx)(J().I,{icon:N().gearIcon}),title:(0,Q.jsx)(o().sA,{id:"sites.siteActions.settings",defaultMessage:"Settings"})})}));se.displayName="SettingsAction";var ie=()=>s(548945);function ne(e){const t=(0,o().tz)(),{spaceStore:s,store:r,isSettingsDisabled:a}=e,[l,d]=(0,i.useState)(void 0),c=(0,i.useCallback)((e=>{d(e)}),[d]),u=(0,i.useCallback)((()=>{d(void 0),H().A.reset()}),[d]),h=(0,n().IS)((()=>({settingButtonIcon:{width:18,height:18}})),[]);return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(z().Ay,{alignmentToOrigin:R().C.End,renderOrigin:e=>(0,Q.jsx)(E().A,{...e,ariaLabel:t.formatMessage({id:"sites.siteActionsButtonPopup.siteSettings",defaultMessage:"Site settings"}),icon:D().L,iconStyle:h.settingButtonIcon}),popupType:z().z7.Popup,render:e=>(0,Q.jsx)(Z,{store:r,parent:e,isSettingsDisabled:a,onSettingsClick:c})}),(0,Q.jsx)(V().s,{isOpen:Boolean(l),onDismiss:u,areaConstraint:{width:{type:"fixed",length:480}},render:()=>l?(0,Q.jsx)(ie().A,{spaceStore:s,blockId:l,onClose:u,onUnpublish:()=>{L().A.removeSiteFromSpace(s.id,l)}}):null})]})}const oe=5e3;function re(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?"3px 5px":0;return[{key:"page",header:(0,Q.jsx)(o().sA,{id:"sites.header.pageColumnHeader",defaultMessage:"Page"}),style:{width:"32%",padding:e}},{key:"domain",header:(0,Q.jsx)(o().sA,{id:"sites.header.domainColumnHeader",defaultMessage:"Domain"}),style:{width:"28%"}},{key:"published-by",header:(0,Q.jsx)(o().sA,{id:"sites.home.publishedByColumnHeader",defaultMessage:"Published by"}),style:{width:"20%",padding:e}},{key:"published-date",header:(0,Q.jsx)(o().sA,{id:"sites.home.publishedDateColumnHeader",defaultMessage:"Published date"}),style:{width:"16%",padding:e}},{key:"edit",header:(0,Q.jsx)(Q.Fragment,{}),style:{width:"4%"}}]}function ae(e){let{column:t,onSortableColumnClick:s,header:i}=e;const o=(0,n().IS)((e=>({wrapper:{display:"flex"},sortButton:{display:"flex",alignItems:"center",padding:"3px 5px",overflow:"hidden",maxWidth:"100%",borderRadius:4},sortIcon:{fill:e.text.secondary,width:12,height:12,marginLeft:4}})),[]),{sortColumn:r,sortAscending:a}=(0,y().K8)((()=>{const{sortColumn:e,sortAscending:t}=L().A.state;return{sortColumn:e,sortAscending:t}}),[]),l=["page","published-or-created-by","published-date"].includes(t),d=()=>{if(t===r)return(0,S().m)({...o.sortIcon,...!a&&{transform:"rotate(180deg)"}})};return i&&l?(0,Q.jsx)("div",{style:o.wrapper,children:(0,Q.jsxs)(v().A,{style:o.sortButton,onClick:()=>s(t),children:[i,d()]})}):i?(0,Q.jsx)("div",{style:o.wrapper,children:i}):(0,Q.jsx)(Q.Fragment,{children:i})}function le(e){const{spaceStore:t}=e,s=(0,x().v3)(),a=s.currentUser.id,l=(0,o().tz)();(0,i.useEffect)((()=>(F().rw(s,{spaceStore:t,currentUserId:a,limit:oe}),()=>{F().Ss(t)})),[s,t,a]);const d=(0,n().IS)((e=>({headerContainer:{display:"flex",alignItems:"center",gap:4,marginBottom:12},helpIcon:{height:14,width:15,color:e.icon.tertiary},tableBox:{tableLayout:"fixed"},cell:{paddingRight:12,height:44},shimmerBox:{height:12,gap:16,display:"flex",borderRadius:6},urlTooltip:{display:"flex",flexDirection:"column",fontWeight:r().Wy.regular,gap:4,padding:"2px"},urlCopyText:{color:e.text.secondary},domainButton:{width:"fit-content",maxWidth:"98%",background:e.lightGrayButtonBackground},domainButtonHover:{background:e.lightGrayButtonHoveredBackground},domainButtonPressed:{background:e.lightGrayButtonPressedBackground},relativeUrl:{color:e.text.tertiary}})),[]),u=(0,y().K8)((()=>{const e=L().A.getSortedSitesForSpace(t.id,l);if(!e)return;const i=[];for(const n of e){const e=P().R({store:n.store,pageVisitSource:b().y8.CopyLink}),o=new URL(e),a=`${o.host}${o.pathname}`,{store:c,publishedMetadata:u}=n,h=c.id,p=c.canAdmin(),g=T().UP(c),x=u.publishedTime?(0,f().eV)({value:m().c9.fromMillis(u.publishedTime),preset:"medium"}):"",y=u.publishedBy,S=y?U().sk.createChildStore(c,y):void 0,A=null==S?void 0:S.getDisplayName(l),v=S instanceof U().LU?(0,Q.jsx)(I().A,{userStore:S,avatarSize:20,style:{width:"fit-content",maxWidth:"98%"}},`${h}-published-by`):(0,Q.jsx)(de,{text:A},`${h}-published-by`),w=_().Ix({spaceStore:t,domainId:g});i.push({key:h,columns:[(0,Q.jsx)(W().A,{store:c},h),(0,Q.jsx)(k().A,{allowHover:!0,renderTooltip:()=>(0,Q.jsxs)("div",{style:d.urlTooltip,children:[(0,Q.jsx)("span",{children:a}),(0,Q.jsx)("span",{style:d.urlCopyText,children:"Click to copy full URL"})]}),render:t=>(0,Q.jsx)("div",{...t,children:(0,Q.jsx)(C().p,{onClick:async()=>{const t=await j().R.clipboardActions.load();t.copyString({environment:s,stringValue:e,copiedMessage:t.clipboardMessages.copiedLinkToClipboard})},style:d.domainButton,size:"xs",hoveredStyle:d.domainButtonHover,pressedStyle:d.domainButtonPressed,children:(0,Q.jsxs)("span",{style:{...r().RC},children:[w,(0,Q.jsx)("span",{style:d.relativeUrl,children:"/..."})]})})}),placement:R().W.Bottom},`${h}-domain`),v,(0,Q.jsx)(de,{text:x},`${h}-published-on`),(0,Q.jsx)(ne,{spaceStore:t,store:c,isSettingsDisabled:!p},`${h}-actions`)]})}return i}),[t,l,d.urlTooltip,d.urlCopyText,d.domainButton,d.domainButtonHover,d.domainButtonPressed,d.relativeUrl,s]),h=(0,i.useMemo)((()=>Array.from({length:9}).map(((e,t)=>({columns:Array.from({length:5}).map(((e,t)=>(0,Q.jsx)(w().A,{style:d.shimmerBox},t))),key:`shimmerRow-${t}`})))),[d.shimmerBox]),p=!u,g=u&&0===u.length,S=(0,i.useCallback)((e=>{const{sortColumn:t,sortAscending:s}=L().A.state,i=e!==t||!s;L().A.setState({...L().A.state,sortAscending:i,sortColumn:e})}),[]);return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsxs)(c().A,{style:d.headerContainer,children:[(0,Q.jsx)(o().sA,{id:"sites.home.title",defaultMessage:"All published sites"}),(0,Q.jsx)(k().A,{renderTooltip:()=>(0,Q.jsx)(o().sA,{id:"sites.home.tooltip",defaultMessage:"Notion pages that have been published as a site"}),render:e=>(0,Q.jsx)("div",{...e,children:(0,A().$)(d.helpIcon)}),placement:R().W.Bottom,alignment:R().C.Center})]}),p?(0,Q.jsx)(M().A,{columns:re(!0),rows:h,tableStyle:d.tableBox,cellStyle:d.cell}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(M().A,{columns:re(!1).map((e=>({key:e.key,header:(0,Q.jsx)(ae,{column:e.key,onSortableColumnClick:S,header:e.header}),style:e.style}))),rows:u,tableStyle:d.tableBox,cellStyle:d.cell}),g&&(0,Q.jsx)(ce,{})]})]})}function de(e){const{text:t}=e,s=(0,n().IS)((()=>({text:{width:"fit-content",maxWidth:"98%",...r().RC}})),[]);return t?(0,Q.jsx)("div",{style:s.text,children:t}):null}function ce(){const e=(0,n().IS)((e=>({message:{textAlign:"center",marginTop:12,marginBottom:12,color:e.text.tertiary}})),[]);return(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(B().A,{style:e.message,children:(0,Q.jsx)(o().sA,{id:"sites.results.empty",defaultMessage:"You have no published sites in this workspace"})}),(0,Q.jsx)(a().A,{size:1})]})}function ue(e){const{spaceStore:t}=e,s=(0,n().IS)((()=>({headerContainer:{display:"flex"},titleContainer:{flex:1},learnMoreButton:{fontWeight:r().Wy.regular}})),[]);return(0,Q.jsxs)(d().Ay,{children:[(0,Q.jsx)(c().A,{large:!0,divider:"full",children:(0,Q.jsxs)("div",{style:s.headerContainer,children:[(0,Q.jsx)("div",{style:s.titleContainer,children:(0,Q.jsx)(o().sA,{id:"sites.heading.title",defaultMessage:"Sites"})}),(0,Q.jsx)(l().A,{buttonStyle:s.learnMoreButton,title:(0,Q.jsx)(o().sA,{id:"sites.heading.learnMore",defaultMessage:"Learn more"}),href:(0,g().xS)("guides.autogeneratedDomains"),analyticsFrom:"sites_settings"})]})}),(0,Q.jsx)(p,{spaceStore:t}),(0,Q.jsx)(a().A,{size:20,isHidden:!0}),(0,Q.jsx)(le,{spaceStore:t})]})}},315841:(e,t,s)=>{s.d(t,{Js:()=>r,Ns:()=>n,d:()=>o});var i=()=>s(645873);const n={publishSite:new(i().O2)("PublishSite",(async()=>await Promise.all([s.e(9304),s.e(39541),s.e(35658),s.e(16345)]).then(s.bind(s,142650)))),publishedSiteSettings:new(i().O2)("PublishedSiteSettings",(async()=>await Promise.all([s.e(9304),s.e(39541),s.e(9066),s.e(39301)]).then(s.bind(s,348651))))},o=(0,i()._h)(n.publishedSiteSettings,(e=>e.default)),r=(0,i()._h)(n.publishSite,(e=>e.default))},548945:(e,t,s)=>{s.d(t,{A:()=>A});var i=s(296540),n=()=>s(484714),o=()=>s(56366),r=()=>s(401497),a=()=>s(149375),l=()=>s(954845),d=()=>s(179034),c=()=>s(959013),u=()=>s(284371),h=()=>s(285790),p=()=>s(125565),g=()=>s(120303),m=()=>s(928074),x=()=>s(315841),y=()=>s(525700),b=()=>s(380682),f=()=>s(630116),S=s(474848);function A(e){let{spaceStore:t,blockId:s,onClose:i,onUnpublish:r}=e;const a=(0,n().v3)(),l=f().Bv.createChildStore(t,{table:d().ev,id:s}),c=(0,o().K8)((()=>m().dR({store:l,environment:a}).mostPermissivePublicItem),[a,l]);return"none"===c.permissionItem.role?(i(),null):(0,S.jsx)(j,{store:l,mostPermissivePublicItem:c,onClose:i,onUnpublish:r})}function j(e){const{store:t,mostPermissivePublicItem:s,onClose:n,onUnpublish:a}=e,d=(0,o().K8)((()=>"seo"===b().A.state.siteSettingContentType||"embed"===b().A.state.siteSettingContentType),[]),h=(0,i.useCallback)((()=>{y().Bp("initial")}),[]),m=(0,r().IS)((()=>({container:{flex:1,paddingBottom:8},titleContainer:{display:"flex",alignItems:"center",gap:4,padding:20,fontSize:14,lineHeight:1.25,fontWeight:u().Wy.semibold,paddingLeft:d?8:20},publishIcon:{height:16,width:16}})),[d]);return(0,S.jsxs)("div",{style:m.container,children:[(0,S.jsxs)("div",{style:m.titleContainer,children:[d&&(0,S.jsx)(v,{onClick:h}),(0,S.jsx)(p().A,{children:(0,S.jsx)(c().sA,{defaultMessage:"Publish settings",id:"publishSiteSettings.settings.title"})}),(0,l().J)(m.publishIcon),(0,S.jsx)(g().R,{onClick:n})]}),(0,S.jsx)(x().d,{store:t,mostPermissivePublicItem:s,sudoModeStore:void 0,location:"published_site_settings",showManageAllDomains:!1,showAllPublishedSites:!1,onUnpublish:a,shouldAskForConfirmationOnPublish:!0})]})}function v(e){const{onClick:t}=e,s=(0,c().tz)(),i=(0,r().IS)((()=>({topContainer:{display:"flex",alignItems:"center",width:"max-content"},iconButton:{marginRight:6,height:24,width:24},arrowIcon:{height:16,width:16,strokeWidth:u().Wy.semibold}})),[]);return(0,S.jsx)("div",{style:i.topContainer,children:(0,S.jsx)(h().A,{icon:a().v,iconStyle:i.arrowIcon,style:i.iconButton,onClick:t,ariaLabel:s.formatMessage({id:"publishSiteSettings.settings.backbutton.ariaLabel",defaultMessage:"Go back to publish settings."})})})}},558410:(e,t,s)=>{s.d(t,{A:()=>o});s(898992),s(354520);var i=()=>s(496603);class n extends(()=>s(757695))().Store{getInitialState(){return{sites:{},sortAscending:!0,sortColumn:void 0}}initializeSiteResultsForSpace(e,t){this.state.sites[e]=t,this.emit()}getSortedSitesForSpace(e,t){const{sortAscending:n,sortColumn:o}=this.state,r=this.state.sites[e];if(r)switch(o){case"page":return i().My(r,(e=>s(919709).q4_(e.store.getTitleValue()).toLowerCase()),n?"asc":"desc");case"published-by":return i().My(r,(e=>{const i=e.publishedMetadata.publishedBy,n=i?s(630116).sk.createChildStore(e.store,i):void 0;return null==n?void 0:n.getDisplayName(t).toLowerCase()}),n?"asc":"desc");case"published-date":return i().My(r,(e=>e.publishedMetadata.publishedTime),n?"asc":"desc");default:return r}}removeSiteFromSpace(e,t){const s=this.state.sites[e];s&&(this.state.sites[e]=s.filter((e=>e.store.id!==t)),this.emit())}resetSitesForSpace(e){this.state.sites[e]=void 0}}const o=new n},716979:(e,t,s)=>{s.d(t,{EL:()=>v,KD:()=>A,Ss:()=>f,l2:()=>C,n0:()=>j,rw:()=>S});s(16280),s(944114),s(898992),s(354520),s(296540);var i=()=>s(388821),n=()=>s(179034),o=()=>s(959013),r=()=>s(763824),a=()=>s(449506),l=()=>s(901389),d=()=>s(106628),c=()=>s(321172),u=()=>s(437487),h=()=>s(227440),p=()=>s(630116),g=()=>s(250484),m=()=>s(67805),x=()=>s(558410),y=s(474848);const b=50;function f(e){x().A.resetSitesForSpace(e.id)}async function S(e,t){const{spaceStore:s,currentUserId:o,limit:l}=t;if(!s.id)return;const[d]=await Promise.all([a().callApi({eventName:"getPublishedPagesForUser",environment:e,data:{spaceId:s.id,limit:l||b,fetchPublishedMetadata:!0}}),(0,r().wR)(1500)]);if("failed"===d.type)throw new Error("Failed to fetch published pages.");if(d.data.recordMap){const e=[],t=i().RecordMapWithRole.create(d.data.recordMap),r=d.data.publishedEdits;for(const{model:i}of t)if(i&&i.table===n().ev){const t=p().Bv.createChildStore(s,{table:n().ev,id:i.id}),o=r[t.id],a=o&&o.authors?o.authors[0]:void 0,l={publishedTime:null==o?void 0:o.timestamp,publishedBy:a};e.push({store:t,publishedMetadata:l})}let a=e;return o&&(a=m().X(e,o)),x().A.initializeSiteResultsForSpace(s.id,a),a}}async function A(e,t){const{spaceStore:s}=t,i=e.currentUser.id,n=await S(e,{spaceStore:s,currentUserId:i});return n?n.filter((e=>{var t;return(null===(t=e.publishedMetadata.publishedBy)||void 0===t?void 0:t.id)===i})):[]}function j(e){c().Tk(e),u().Ay.setState({...u().Ay.state,display:u().pP.Publish,tab:u().QC.Publish})}async function v(e){return new Promise(((t,s)=>{l().ui({message:(0,y.jsx)("div",{style:{textAlign:"center"},children:(0,y.jsx)(o().sA,{id:"sites.confirmUnpublish.title",defaultMessage:"Unpublish this site?"})}),description:(0,y.jsx)("div",{style:{textAlign:"center"},children:(0,y.jsx)(o().sA,{id:"sites.confirmUnpublish.caption",defaultMessage:"{pageTitle} will no longer be live on the web.",values:{pageTitle:e}})}),keepFocus:!0,items:[{label:(0,y.jsx)(o().sA,{id:"sites.confirmUnpublish.confirm",defaultMessage:"Unpublish"}),color:"red",onAccept:()=>t(!0)}],showCancel:!0})}))}async function C(e,t){if(!h().A.state.online)return[];const s=await d().T.searchActions.load();return await s.searchPublicPages({environment:t,query:e,source:"public_home_page_menu",limit:g().ZK})}},915019:(e,t,s)=>{s.d(t,{A:()=>a});var i=s(296540),n=()=>s(962730),o=s(474848);function r(e){let{store:t,...r}=e;const a=(0,i.useCallback)((e=>(0,o.jsx)(s(791194).yf,{store:t,events:e})),[t]);return(0,o.jsx)(s(859428).A,{noStyle:!0,delayThreshold:400,placement:n().W.Bottom,alignment:n().C.Start,renderTooltip:a,...r})}const a=i.memo(r)},954845:(e,t,s)=>{s.d(t,{J:()=>n});s(296540);var i=s(474848);const n=(0,s(340498).wt)("blueCircleDot",{viewBox:"0 0 16 16",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("circle",{cx:"8",cy:"8",r:"8",fill:"none",stroke:"#2383E2",children:[(0,i.jsx)("animate",{attributeName:"r",from:"3",to:"8",dur:"1s",begin:"0s",repeatCount:"indefinite"}),(0,i.jsx)("animate",{attributeName:"opacity",from:"1",to:"0",dur:"1s",begin:"0s",repeatCount:"indefinite"})]}),(0,i.jsx)("circle",{cx:"8",cy:"8",r:"3",fill:"#2383E2"})]})})}}]);