"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[73502],{181804:(t,e,i)=>{i.r(e),i.d(e,{StudentAiOfferPopup:()=>D});var n=()=>i(244641),o=i(296540),s=()=>i(484714),a=()=>i(56366),r=()=>i(543906),u=()=>i(964996),l=()=>i(909306),p=()=>i(959013),d=()=>i(252105),c=()=>i(812182),f=()=>i(751156),v=()=>i(755199),g=()=>i(47170),_=()=>i(94476),h=()=>i(765957),m=()=>i(217429),S=()=>i(911964),A=()=>i(324561),M=()=>i(960236),b=()=>i(450930),x=i(474848);function D(){const t=(0,s().v3)(),e=(0,p().tz)(),{isMobile:i}=(0,s().Y0)(),D=(0,M().UL)("sidebar"),C=(0,g().O)(),y=(0,A()._3)({spaceId:C}),Z=(0,a().K8)((()=>(0,l().ze)({billingData:y,experimentService:m().default,spaceId:C})),[y,C]),{inAppCalloutStore:w,currentUserSettingsStore:I}=(0,a().K8)((()=>({inAppCalloutStore:h().default.state.inAppCalloutStore,currentUserSettingsStore:h().default.state.currentUserSettingsStore})),[]),O=null==y?void 0:y.subscription,U=!(null==O||!O.startDate)&&n().c9.now()>O.startDate.plus({days:1}),j=(0,a().K8)((()=>w.getCalloutVisibility("student_ai_offer_popup").canShow&&D&&Z&&U),[w,D,Z,U]),P=(0,a().K8)((()=>{var t;return null==I||null===(t=I.getSettings())||void 0===t?void 0:t.dismissed_student_ai_popup}),[I]),k=(0,o.useMemo)((()=>{if(void 0!==y)return function(t){const{intl:e,environment:i,billingData:n,onDismiss:o}=t;return{presentationType:"persistent",id:"student_ai_offer_toast",title:e.formatMessage({id:"studentAiOfferPopup.title",defaultMessage:"Students get half off Notion AI"}),icon:u().e,jsxMessage:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(p().sA,{id:"studentAiOfferPopup.description",defaultMessage:"Unlock Notion AI for Q&A, Autofill, Writer, and more"}),(0,x.jsx)(b().B,{tooltipMessage:(0,x.jsx)(p().sA,{id:"studentAiOfferPopup.tooltip",defaultMessage:"You can access this offer again by visiting our plans page in settings"}),tooltipWidth:"216px",overlayContainerZIndex:_().TOASTER_ZINDEX+1})]}),actions:{primary:{title:e.formatMessage({id:"studentAiOfferPopup.buttonLabel",defaultMessage:"Redeem now"}),onAction:()=>{(0,S().showUpgradeModal)({environment:i,spaceStore:h().default.state.currentSpaceStore,billingData:n,product:"ai",from:"student_ai_popup",pageSection:"grid",coupon:"ai_fifty_percent"}),c().UW("student_ai_offer_toast")}}},onDismiss:o}}({intl:e,environment:t,billingData:y,onDismiss:()=>{d().yF(t),w.updateCalloutStatus({calloutId:"student_ai_offer_popup",visible:!1}),I&&f().createAndCommit({userAction:"StudentAiOfferPopup.handleDismiss",environment:t,canUndo:!0,perform:t=>{v().mJ({transaction:t,userSettingsStore:I,data:{dismissed_student_ai_popup:!0}})}})}})}),[I,t,y,w,e]),K=Boolean(!P&&j&&!i&&void 0!==k);return(0,r().A)((()=>{void 0!==k&&(d().hq(t,{from:"student_ai_offer_popup"}),w.updateCalloutStatus({calloutId:"student_ai_offer_popup",visible:!0}),c().HK(k))}),K),null}},964996:(t,e,i)=>{i.d(e,{e:()=>o});i(296540);var n=i(474848);const o=(0,i(340498).wt)("gift",{viewBox:"0 0 20 20",svg:(0,n.jsx)("g",{id:"Layer_1",children:(0,n.jsx)("path",{d:"M16,5.75h-.6682129c.2590332-.4436646.4182129-.9526367.4182129-1.5024414,0-.8989258-.4003906-1.7426758-1.0986328-2.3149414-.7021484-.5761719-1.6191406-.8037109-2.5048828-.6264648-.8757935.1747437-1.6201782.6658325-2.1376343,1.3336792-.515564-.6645508-1.2658691-1.1560669-2.1675415-1.3361206-.8833008-.1767578-1.7939453.0498047-2.4926758.6220703-.6982422.5727539-1.0986328,1.4189453-1.0986328,2.3217773,0,.5498047.1592407,1.0587769.4182129,1.5024414h-.6682129c-.9648438,0-1.75.7851562-1.75,1.75v2c0,.6700439.3829346,1.246521.9375,1.5404663v4.9595337c0,.9648438.7851562,1.75,1.75,1.75h10.1875c.9648438,0,1.75-.7851562,1.75-1.75v-4.9934692c.5205078-.3035889.875-.8618164.875-1.5065308v-2c0-.9648438-.7851562-1.75-1.75-1.75ZM16.25,7.5v2c0,.1376953-.1123047.25-.25.25h-5.21875v-2.5h5.21875c.1376953,0,.25.1123047.25.25ZM12.4404297,2.7768555c.4433594-.090332.90625.0258789,1.2607422.315918.3486328.2861328.5488281.7070312.5488281,1.1547852,0,.8286133-.6738281,1.5024414-1.5029297,1.5024414h-1.9970703v-.921875c0-.9926758.7109375-1.8554688,1.6904297-2.0512695ZM5.75,4.2475586c0-.4516602.2001953-.8754883.5498047-1.1616211.2641602-.2167969.5883789-.3344727.9536133-.3344727.1186523,0,.2412109.0126953.3671875.0375977.9443359.1884766,1.6293945,1.0244141,1.6293945,1.9873047v.9736328h-1.9975586c-.8286133,0-1.5024414-.6738281-1.5024414-1.5024414ZM3.75,7.5c0-.1376953.1123047-.25.25-.25h5.28125v2.5h-5.28125c-.1376953,0-.25-.1123047-.25-.25v-2ZM4.6875,16v-4.75h4.59375v5h-4.34375c-.1376953,0-.25-.1123047-.25-.25ZM15.125,16.25h-4.34375v-5h4.59375v4.75c0,.1376953-.1123047.25-.25.25Z"})})})}}]);