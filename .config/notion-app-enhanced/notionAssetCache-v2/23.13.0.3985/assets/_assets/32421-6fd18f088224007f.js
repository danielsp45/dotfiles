"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[32421],{51218:(e,t,n)=>{n.d(t,{E:()=>g,b:()=>m});n(296540);var i=()=>n(401497),s=()=>n(203717),a=()=>n(377114),o=()=>n(599813),r=()=>n(558687),c=()=>n(582162),l=()=>n(284371),d=()=>n(460292),u=()=>n(21140),p=n(474848);function g(e){let{size:t=40}=e;const n=(0,i().IS)((e=>({wrapper:{width:t,height:t,display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},largeLogo:{width:"80%",height:"80%",position:"absolute",top:"-10%",left:"-5%"},smallLogoWrapper:{width:"60%",height:"60%",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",bottom:0,right:0,boxShadow:e.shadowMD,borderRadius:"50%",backgroundColor:e.palette.gray[0]},smallLogo:{width:"70%"}})),[t]);return(0,p.jsxs)("div",{style:n.wrapper,children:[(0,p.jsx)(d().Q,{iconGroup:s().G.sharepoint,variantName:"default",style:n.largeLogo}),(0,p.jsx)("div",{style:n.smallLogoWrapper,children:(0,c().oneDriveIcon)(n.smallLogo)})]})}function m(e){const{connectorType:t,title:n,subtext:c,titleSubtitleGap:m=!1,fullWidthTitle:h=!1}=e,f=s().G[t],v="dark"===(0,i().eP)(),b=(0,i().IS)((e=>({logoSection:{padding:"40px 20px 24px 20px",gap:8,justifyContent:"center",alignItems:"center"},logos:{width:40,height:40},arrowLogo:{width:20,height:20,color:e.icon.secondary},titleWrapper:{width:"100%",justifyContent:"center",textAlign:"center",alignItems:"center",gap:m?12:0},title:{fontSize:16,paddingLeft:20,paddingRight:20,width:h?"auto":352,fontWeight:l().Wy.medium,lineHeight:"22px",marginBottom:"2px",justifyContent:"center",textWrap:"balance"},subtext:{fontSize:14,fontWeight:l().Wy.regular,color:`${e.text.secondary}`,textAlign:"center",alignItems:"center",justifyContent:"center",paddingLeft:20,paddingRight:20,textWrap:"balance"},wrapper:{paddingBottom:16}})),[m,h]);return(0,p.jsxs)("div",{style:b.wrapper,children:[(0,p.jsxs)(u().Ye,{style:b.logoSection,children:[(0,r().notionIcon)(b.logos),e.disconnectFlow?(0,o().xMarkIcon)(b.arrowLogo):(0,a().arrowLeftRightIcon)(b.arrowLogo),"sharepoint"===t?(0,p.jsx)(g,{}):(0,p.jsx)(d().Q,{iconGroup:f,overrideSize:()=>b.logos.width,variantName:v?"darkMode":"default"})]}),(0,p.jsxs)(u().wt,{style:b.titleWrapper,children:[(0,p.jsx)(u().Ye,{style:b.title,children:n}),c?(0,p.jsx)(u().Ye,{style:b.subtext,children:c}):(0,p.jsx)(p.Fragment,{})]})]})}},72897:(e,t,n)=>{n.r(t),n.d(t,{clearCoEditingOverride:()=>d,setCoEditingOverride:()=>l,setCoEditingSetting:()=>c});var i=()=>n(488923),s=()=>n(751156),a=()=>n(755199),o=()=>n(2220),r=()=>n(642046);async function c(e){var t,n;const{environment:r,userSettingsStore:c,spaceId:l,active:d}=e,u=(null===(t=c.getSettings())||void 0===t?void 0:t.beta_ai_co_editing_settings)??{};if(((null===(n=u[l])||void 0===n?void 0:n.autocorrect)??!1)===d)return;s().createAndCommit({userAction:"AiCoEditingSettings.onToggleOption",environment:r,canUndo:!0,perform:e=>{a().mJ({userSettingsStore:c,data:{beta_ai_co_editing_settings:{...u,[l]:{autocorrect:d}}},transaction:e})}});const p=await(0,i().uZ)();d&&p.resetSessionId(),(0,o().u)({environment:r,event:{eventName:"co_editing_toggled",eventProperties:{toggle_status:d?"on":"off",session_id:p.getSessionId()}}}),d||p.resetSessionId()}async function l(e){const{environment:t,pageId:n,active:s}=e;r().t.setOverride(n,{autocorrect:s});const a=await(0,i().uZ)();(0,o().u)({environment:t,event:{eventName:"co_editing_override_updated",eventProperties:{new_state:s?"on":"off",session_id:a.getSessionId(),page_id:n}}})}async function d(e){const{environment:t,pageId:n}=e;r().t.clearOverride(n);const s=await(0,i().uZ)();(0,o().u)({environment:t,event:{eventName:"co_editing_override_updated",eventProperties:{new_state:"cleared",session_id:s.getSessionId(),page_id:n}}})}},73956:(e,t,n)=>{n.r(t),n.d(t,{checkmarkFillSmallIcon:()=>s,iconDefinition:()=>i});n(296540);const i={viewBox:"0 0 16 16",fittedViewBox:"2.86 2.88 10.26 10.24",svg:(0,n(474848).jsx)("path",{d:"M12.756 2.987a.75.75 0 0 1 .257 1.029l-5.244 8.74a.75.75 0 0 1-1.212.102L3.06 8.78a.75.75 0 1 1 1.138-.976l2.82 3.289 4.708-7.848a.75.75 0 0 1 1.029-.257"})},s=(0,n(340498).wt)("checkmarkFillSmall",i)},96563:(e,t,n)=>{n.d(t,{Lx:()=>f,pp:()=>v,vr:()=>h});var i=()=>n(370657),s=()=>n(206267),a=()=>n(534177),o=()=>n(209660),r=()=>n(235195),c=()=>n(765957),l=()=>n(453202),d=()=>n(430483),u=()=>n(991249),p=()=>n(329304),g=()=>n(656633),m=()=>n(323714);function h(e){if((0,i().rL)(e))switch(e){case"researcher":return"ai_research_mode";case"search":return"ai_unified_find_chat";case"markdown-chat":return"ai_chat_with_model";case"setup-generator":case"workflow":return"ai_limit_in_app";default:(0,a().HB)(e)}return"ai_limit_in_app"}function f(e){var t;const{clientStore:n,spaceId:s,userId:o}=e,r=null===(t=n.state.configForNewTranscripts)||void 0===t?void 0:t.type,c=h(r);if((0,i().rL)(r))switch(r){case"researcher":return{pfaFeatureLoadArgs:{name:"ai_research_mode",spaceId:s,userId:o,amount:1},upsellFromForCheckoutBanner:c};case"search":case"markdown-chat":return{pfaFeatureLoadArgs:{name:"ai_usage",spaceId:s,userId:o,amount:1},upsellFromForCheckoutBanner:c};case"setup-generator":case"workflow":return{pfaFeatureLoadArgs:{name:"ai_app_builder",spaceId:s,userId:o,amount:1},upsellFromForCheckoutBanner:c};default:(0,a().HB)(r)}return{pfaFeatureLoadArgs:{name:"ai_usage",spaceId:s,userId:o,amount:0},upsellFromForCheckoutBanner:c}}function v(e){const{environment:t,connector:n,analyticsFrom:i,connectorsFeatureAvailability:a}=e;if(void 0===a)return;const h=c().default.state.currentSpaceStore;if(!h)return;const f=d().zD.isAiSettingsTabEnabled();if(h.canAdmin())(0,p().N9)(a,{available:()=>{if("generic"===n)return void o().Ow({openedFrom:i,currentTab:f?"ai":"integrations",subtab:"workspace_connections"});const e=s().JW();(0,m().navigateToAIConnectorOnboarding)({connector:n,analyticsFrom:i,sessionId:e})},unavailable:e=>{let{upsell:s}=e;(0,g().vp)(t,h.id)?l().O.setState({open:!0,analyticsFrom:i,modal:"sales_assisted_admin_request",connector:n}):d().zD.beforeRepackagingTierCanShowAiConnectorsModal()?l().O.setState({open:!0,analyticsFrom:i,modal:"ai_plan_upsell_admin_intro",connector:n}):(u().K(t,{from:i,upsell:s}),"generic"!==n&&r().A.setState({...r().A.state,connectorTriggeringUpsell:n,upsellTriggeredAt:Date.now()}))}});else{if("generic"===n)return void(f?o().Ow({openedFrom:i,currentTab:"ai",subtab:"workspace_connections"}):l().O.setState({open:!0,modal:"nonadmin_request",analyticsFrom:i}));const e=s().JW();(0,m().navigateToAIConnectorOnboarding)({connector:n,analyticsFrom:i,sessionId:e})}}},154585:(e,t,n)=>{n.d(t,{B:()=>w});n(898992),n(354520),n(581454),n(296540);var i=()=>n(484714),s=()=>n(56366),a=()=>n(401497),o=()=>n(849974),r=()=>n(846899),c=()=>n(413267),l=()=>n(735384),d=()=>n(959013),u=()=>n(284371),p=()=>n(323714),g=()=>n(760217),m=()=>n(928600),h=()=>n(939740),f=()=>n(89924),v=()=>n(21140),b=()=>n(722872),y=()=>n(176983),S=()=>n(765957),_=()=>n(99254),x=n(474848);function w(e){const{parent:t,from:n}=e,w=(0,a().IS)((e=>({bannerLikeIcon:{width:16,height:16,fill:e.blueColor,alignSelf:"flex-start",marginBottom:48,marginRight:4},caption:{color:e.text.tertiary,fontSize:u().J.UISmall.desktop,textWrap:"wrap"},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},disabledOptionLabel:{color:e.text.tertiary,fontSize:14,marginBottom:2}})),[]),A=(0,i().v3)(),j=(0,y().J)(),C=(0,s().K8)((()=>_().y.state.jiraSyncState),[]),k=(0,s().K8)((()=>_().y.state.userConnected),[]),I=(0,s().K8)((()=>_().y.state.analyticsFrom),[]),M=(0,s().O$)(S().AppStoreCurrentSpaceStore),T=(0,s().K8)((()=>null==M?void 0:M.getSpaceId()),[M]),P="completed"===C,N=[{key:"jira-connection-section",render:e=>(0,x.jsx)(f().A,{...e}),items:[{key:"jira-ingestion-status-connecting",label:(0,x.jsx)(d().sA,{id:"assistantOverflowMenu.jiraIngestion.connecting",defaultMessage:"Connecting"}),caption:(0,x.jsx)(d().sA,{id:"assistantOverflowMenu.jiraIngestion.subtext",defaultMessage:"Your workspace owner is connecting Jira. This can take up to 36 hours"}),iconElement:(0,x.jsx)(x.Fragment,{children:(0,o().y)(w.bannerLikeIcon)}),disabled:!0,hidden:!("in_progress"===C||"editing"===C),action:()=>{}},{key:"jira-ingestion-status-connected",label:(0,x.jsx)(d().sA,{id:"assistantOverflowMenu.jiraIngestion.connected",defaultMessage:"Connected"}),caption:(0,x.jsx)(d().sA,{id:"assistantOverflowMenu.jiraIngestion.connected.subtext",defaultMessage:"Connected by workspace owner"}),icon:c().b,disabled:!0,hidden:!P,action:()=>{}},{key:"jira-ingestion-disconnect",label:(0,x.jsx)(d().sA,{id:"assistantOverflowMenu.jiraIngestion.disconnect",defaultMessage:"Disconnecting..."}),caption:(0,x.jsx)(d().sA,{id:"assistantOverflowMenu.jiraIngestion.disconnecting.subtext",defaultMessage:"Your workspace owner has disconnected Jira. This can take up to 3 hours."}),iconElement:(0,x.jsx)(x.Fragment,{children:(0,o().y)(w.bannerLikeIcon)}),disabled:!0,hidden:"disconnecting"!==C,action:()=>{}},{key:"jira-ingestion-settings",label:(0,x.jsx)(d().sA,{id:"assistantOverflowMenu.jiraIngestion.settings",defaultMessage:"Settings"}),icon:r().B,disabled:!1,hidden:"completed"!==C||!j,action:()=>{null==t||t.close(),(0,p().navigateToJiraUniversalScreen)({screenToShow:"settings",analyticsFrom:n||I||"chat_menu"})}},{key:"jira-ingestion-user-disconnect",label:(0,x.jsx)(d().sA,{id:"assistantOverflowMenu.jiraIngestion.userDisconnect",defaultMessage:"Disconnect your account"}),icon:l().I,disabled:!1,hidden:!k||"completed"!==C,action:async()=>{null==t||t.close(),T&&await(0,p().disconnectJiraUserConnection)({spaceId:T,environment:A})}}].filter((e=>!e.hidden)).map((e=>{const{key:t,label:n,caption:i,icon:s,iconElement:a,disabled:o,action:r,labelStyleOverride:c,captionStyleOverride:l,iconStyleOverride:d}=e,u=s?s({width:12,height:12}):a;return{key:t,action:()=>r(),render:e=>(0,x.jsx)(g().A,{...e,disabled:o,title:(0,x.jsx)(v().Ye,{children:(0,x.jsxs)("div",{style:w.option,children:[(0,x.jsx)("div",{style:c??(o?w.disabledOptionLabel:w.optionLabel),children:n}),i&&(0,x.jsx)("div",{style:l??w.caption,children:i})]})}),left:u,leftStyle:d})}}))}];return(0,x.jsx)(m().A,{menuType:b().gu.Popup,minWidth:230,children:(0,x.jsx)(h().Ay,{type:h().Oh.Vertical,sections:N,initialFocus:void 0})})}},230168:(e,t,n)=>{n.d(t,{cg:()=>Y,Mp:()=>J,_u:()=>te});n(944114),n(898992),n(354520),n(581454);var i=n(296540),s=()=>n(484714),a=()=>n(56366),o=()=>n(401497),r=()=>n(340498),c=n(474848);const l={viewBox:"0 0 21 20",fittedViewBox:"-0.01 2.12 20.29 15.76",svg:(0,c.jsx)("path",{d:"m4.004 10.548.76-.76A.875.875 0 1 1 6 11.025l-2.254 2.254a.875.875 0 0 1-1.237 0L.256 11.025a.875.875 0 0 1 1.238-1.237l.76.76V10a7.875 7.875 0 0 1 13.234-5.77.875.875 0 0 1-1.192 1.281A6.125 6.125 0 0 0 4.003 10zm14-1.096.76.76A.875.875 0 1 0 20 8.976l-2.254-2.254a.875.875 0 0 0-1.237 0l-2.254 2.254a.875.875 0 0 0 1.238 1.238l.76-.76V10A6.125 6.125 0 0 1 5.96 14.489a.875.875 0 1 0-1.19 1.282A7.875 7.875 0 0 0 18.004 10z"})},d=(0,r().wt)("arrowCircleLoopFill",l),u={viewBox:"0 0 20 20",fittedViewBox:"1.28 3.52 17.42 12.96",svg:(0,c.jsx)("path",{d:"M10.45 3.525a6.48 6.48 0 0 0-6.384 5.39 3.856 3.856 0 0 0 1.056 7.56H15.2a3.494 3.494 0 0 0 1.725-6.532 6.475 6.475 0 0 0-6.475-6.418m-.075 3.25c.345 0 .625.28.625.625v3.15a.625.625 0 1 1-1.25 0V7.4c0-.345.28-.625.625-.625m0 6.775a.75.75 0 1 1 0-1.5.75.75 0 0 1 0 1.5"})},p=(0,r().wt)("cloudExclamationFill",u);var g=()=>n(765974),m=()=>n(959013),h=()=>n(534177),f=()=>n(284371),v=()=>n(915308),b=()=>n(751156),y=()=>n(987267),S=()=>n(916727),_=()=>n(493823),x=()=>n(843189),w=()=>n(802790),A=()=>n(8980),j=()=>n(864943),C=()=>n(897119),k=()=>n(204063),I=()=>n(21140),M=()=>n(631611),T=()=>n(229533),P=()=>n(972435),N=()=>n(47170),O=()=>n(176983),U=()=>n(962730),W=()=>n(377586),B=()=>n(765957),F=()=>n(217429),L=()=>n(604018),E=()=>n(174636),D=()=>n(825355),R=()=>n(323714),z=()=>n(2220),q=()=>n(99254);function V(){const e=(0,N().O)(),t=(0,s().v3)(),{isMobile:n}=(0,s().Y0)(),i="chat_menu",a=n?void 0:{label:(0,c.jsx)(m().sA,{id:"assistantChat.ingestion.ctaForJira",defaultMessage:"Finish setup"}),onClick:()=>{e&&((0,z().u)({environment:t,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"user_jira_resume_pending_connection",integration_type:"jira",setup_session_id:q().y.state.sessionId,from:i}}}),(0,R().navigateToAIConnectorOnboarding)({connector:"jira",analyticsFrom:i,sessionId:q().y.state.sessionId}))}};return(0,c.jsx)(J,{type:"error",title:(0,c.jsx)(m().sA,{id:"assistantChat.ingestion.jiraConnectionPendingStatusConfirmation",defaultMessage:"Confirm Jira Connection"}),caption:(0,c.jsx)(m().sA,{id:"assistantChat.ingestion.jiraConnectionPendingStatusConfirmationDescription",defaultMessage:"We need more information before starting your jira connection"}),actionButton:a})}function H(e){const[t,n]=(0,i.useState)(!1),o=(0,N().O)(),r=(0,s().v3)(),l=(0,a().K8)((()=>B().default.state.currentUserSettingsStore),[]),d=(0,a().K8)((()=>q().y.state),[]),{isMobile:u}=(0,s().Y0)(),p=(0,a().O$)(B().AppStoreCurrentSpaceViewStore),g=(0,i.useCallback)((()=>{(0,z().u)({environment:r,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"user_auth_dismiss",integration_type:"jira",setup_session_id:q().y.state.sessionId,from:"connect_nudge"}}}),l&&p&&(b().createAndCommit({userAction:"jiraAIConnector.onboarding.dismissPersonalAuthPrompt",environment:r,canUndo:!0,perform:e=>{b().applyOperation({store:p,operation:{pointer:p.pointer,path:["settings"],command:"update",args:{...p.getSettings(),dismissed_jira_user_auth_prompt:!0}},transaction:e})}}),q().y.setState({...d,missingUserAuth:!1}))}),[l,p,r,d]),h=(0,a().K8)((()=>{const e=q().y.state.jiraSiteUrl.match(/^https:\/\/([a-zA-Z0-9-]+)\.atlassian\.net/);return e?e[1]:q().y.state.jiraSiteUrl}),[]),f="chat_menu",y=u?void 0:{label:(0,c.jsx)(m().sA,{id:"assistantChat.ingestion.ctaForJiraPersonalAuth",defaultMessage:"Log in"}),onClick:async()=>{o&&(n(!0),await v().ol({environment:r,spaceId:o,analyticsProperties:{buttonName:"user_auth_connect",analyticsFrom:f,sessionId:q().y.state.sessionId}}),e.hideNotification("jira_connect_user"),n(!1),(0,z().u)({environment:r,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"user_jira_user_auth_success",integration_type:"jira",setup_session_id:q().y.state.sessionId,from:f}}}))},disabled:t};return(0,c.jsx)(J,{type:"error",title:(0,c.jsx)(m().sA,{id:"assistantChat.ingestion.jiraConnectionStatusActionRequiredForLogin",defaultMessage:"Log in to Jira"}),caption:(0,c.jsx)(m().sA,{id:"assistantChat.ingestion.jiraConnectionStatusActionRequiredForLoginDescription",defaultMessage:"Authenticate to get answers from {jiraSiteName}",values:{jiraSiteName:h}}),actionButton:y,onDismiss:g})}const K=(0,m().YK)({actionRequiredLabel:{id:"assistantChat.ingestion.actionRequiredButton",defaultMessage:"Action required"},infoLabel:{id:"assistantChat.ingestion.infoButton",defaultMessage:"Info"},syncingLabel:{id:"assistantChat.ingestion.syncingButton",defaultMessage:"Syncing"},mobileNotAvailable:{id:"assistantChat.ingestion.actionMenuNotAvailable",defaultMessage:"Access Notion on desktop to fix this issue."},disconnectingPopupTitle:{id:"assistantChat.ingestion.disconnectingPopupTitle",defaultMessage:"Disconnecting {appName}"},disconnectingPopupCaption:{id:"assistantChat.ingestion.disconnectingPopupCaption",defaultMessage:"Your workspace owner has disconnected {appName}. This can take up to 3 hours."},connectingPopupTitle:{id:"assistantChat.ingestion.connectingPopupTitle",defaultMessage:"Connecting {appName}"}});function J(e){let{type:t,title:n,caption:i,actionButton:a,onDismiss:r}=e;const{isMobile:l}=(0,s().Y0)(),u=(0,o().IS)((e=>({container:{display:"flex",gap:8,paddingBottom:a||r?4:0},iconContainer:{paddingTop:2},contentContainer:{display:"flex",flexDirection:"column",gap:2},title:{fontSize:l?f().J.UIRegular.mobile:f().J.UIRegular.desktop},caption:{fontSize:l?f().J.UISmall.mobile:f().J.UISmall.desktop,color:e.text.secondary},actionsContainer:{marginTop:6,display:"flex",gap:8}})),[l,a,r]),h={info:p,error:g().exclamationMarkTriangleFillIcon,progress:d,disconnecting:d},v=l?(0,c.jsx)("div",{style:u.caption,children:(0,c.jsx)(m().sA,{...K.mobileNotAvailable})}):(0,c.jsxs)(I().Ye,{gap:8,children:[a?(0,c.jsx)(k().A,{color:"black",size:"sm",onClick:a.onClick,children:a.label}):void 0,r?(0,c.jsx)(j().A,{size:"sm",onClick:r,children:(0,c.jsx)(m().sA,{id:"aiConnectorNotifications.ingestion.dismissButton",defaultMessage:"Dismiss"})}):void 0]});return(0,c.jsxs)(I().Ye,{style:u.container,children:[(0,c.jsx)("div",{style:u.iconContainer,children:(0,c.jsx)(A().I,{icon:h[t],size:"sm",color:(e=>{switch(e){case"info":return"secondary";case"error":return"uiRedPrimary";case"progress":case"disconnecting":return"uiBluePrimary"}})(t)})}),(0,c.jsxs)("div",{style:u.contentContainer,children:[(0,c.jsx)("div",{style:u.title,children:n}),(0,c.jsx)("div",{style:u.caption,children:i}),a||r?(0,c.jsx)("div",{style:u.actionsContainer,children:v}):void 0]})]})}function Y(e){const{tooltipEvents:t}=e,n=P().A.getIntl(),r=(0,s().v3)(),{isMobile:l}=(0,s().Y0)(),u=(0,M().jw)().isType("fullPage"),m=(0,O().J)(),f=(0,a().O$)(B().AppStoreCurrentSpaceViewStore),v=(0,a().K8)((()=>(0,L().kB)()),[]),[b,y]=(0,i.useState)([]),S=(0,i.useCallback)((e=>{y((t=>[...t,e]))}),[]),A=(0,a().K8)((()=>T()._1.filter((e=>{return"slack_select_channels"!==e&&("sharepoint_select_sites"!==e&&("slack_re_auth"===e?null==f||null===(t=f.getSettings())||void 0===t?void 0:t.dismissed_slack_personal_auth_prompt:"github_re_auth"===e?null==f||null===(n=f.getSettings())||void 0===n?void 0:n.dismissed_github_personal_auth_prompt:"jira_connection_pending"===e?null==f||null===(i=f.getSettings())||void 0===i?void 0:i.dismissed_jira_installation_pending_prompt:"jira_connect_user"===e?null==f||null===(s=f.getSettings())||void 0===s?void 0:s.dismissed_jira_user_auth_prompt:"jira_select_projects"===e?null==f||null===(a=f.getSettings())||void 0===a?void 0:a.dismissed_jira_select_projects_prompt:void(0,h().HB)(e)));var t,n,i,s,a}))),[f]),j=(0,a().K8)((()=>F().default.getConfigKey("ai_connector_user_notifications","notifications").map((e=>({type:"readonly_notification",message:e})))),[]),k=(0,a().K8)((()=>{const e=[];for(const t of v){const n=(0,T().uD)(t,m);for(const i of n)b.includes(i.type)||A.includes(i.type)||e.push({connector:t,type:"action_required",action:i})}return e}),[v,m,b,A]),I=(0,a().K8)((()=>{const e=[];for(const t of v){const n=(0,T().LT)(t);n.isInProgress&&e.push({connector:t,type:"in_progress",ingestionProgress:n.ingestionProgress})}return e}),[v]),N=(0,a().K8)((()=>{const e=[];for(const t of v){(0,T().$t)(t)&&e.push({connector:t,type:"disconnecting"})}return e}),[v]),E=(0,a().K8)((()=>k.length>0),[k]),D=(0,a().K8)((()=>j.length>0),[j]),R=(0,i.useMemo)((()=>[...j,...k,...I,...N]),[j,k,I,N]),[z,q]=(0,i.useState)(!1);(0,i.useEffect)((()=>{setTimeout((()=>{l||q(E)}),1e3)}),[l,E]);const V=(0,i.useCallback)((()=>{q(!1)}),[]),H=(0,i.useCallback)(((e,t)=>e?g().exclamationMarkTriangleFillIcon:t?p:d),[]),J=(0,o().IS)((e=>({popupStyle:{minWidth:250},popupContainer:{display:"flex",flexDirection:"column",gap:2,paddingLeft:12,paddingTop:8,paddingRight:10,paddingBottom:8,maxWidth:l?void 0:250,maxHeight:400,overflowY:"scroll"}})),[l]);return 0===R.length?null:(0,c.jsx)(C().Ay,{popupType:r.device.isMobile?W().n.BottomSheet:W().n.Popup,originGap:6,alignmentToOrigin:U().C.Center,open:z,onDismiss:()=>{q(!1)},placementToOrigin:u?U().W.Bottom:U().W.Top,borderRadius:6,trapFocus:!1,render:()=>(0,c.jsx)("div",{style:J.popupContainer,children:R.map(((e,t)=>(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(G,{notification:e,hideNotification:S,minimizePopup:V}),t!==R.length-1?(0,c.jsx)(w().A,{size:14,isHidden:!1}):void 0]},t)))}),origin:u?(0,c.jsx)(x().E,{size:"xxs",...t,iconLeading:H(E,D),color:E?"uiRed":D?void 0:"uiBlue",onClick:()=>{q(!0)},children:E?P().A.formatMessage(K.actionRequiredLabel):D?P().A.formatMessage(K.infoLabel):P().A.formatMessage(K.syncingLabel)}):(0,c.jsx)(_().p,{...t,size:"sm",iconLeading:H(E,D),isRed:E,isBlue:!E&&!D,isLightGray:D,ariaLabel:n.formatMessage({id:"assistantChat.ingestion.viewConnectionStatusAriaLabel",defaultMessage:"View connection status"}),onClick:()=>{q(!0)}}),style:J.popupStyle})}function G(e){const{notification:t,hideNotification:n,minimizePopup:i}=e,s=(0,O().J)();if("action_required"===t.type){if("slack_select_channels"===t.action.type)return(0,c.jsx)(ee,{});if("sharepoint_select_sites"===t.action.type)return(0,c.jsx)(te,{canAdmin:s});if("slack_re_auth"===t.action.type)return(0,c.jsx)(ne,{hideNotification:n});if("github_re_auth"===t.action.type)return(0,c.jsx)(D().cy,{connector:"github",minimizePopup:i,hideNotification:n,showDismiss:!0,shouldDismiss:!0});if("jira_connection_pending"===t.action.type)return(0,c.jsx)(V,{});if("jira_connect_user"===t.action.type)return(0,c.jsx)(H,{hideNotification:n});if("jira_select_projects"===t.action.type)return(0,c.jsx)(Z,{});(0,h().HB)(t.action)}else{if("in_progress"===t.type){const{connector:e,ingestionProgress:n}=t;return(0,c.jsx)($,{connection:e,ingestionProgress:n,time:(0,S().iu)(e)})}if("disconnecting"===t.type){const{connector:e}=t;return(0,c.jsx)(X,{connection:e})}if("readonly_notification"===t.type)return(0,c.jsx)(Q,{message:t.message});(0,h().HB)(t)}}function Q(e){const{message:t}=e;return(0,c.jsx)(J,{type:"info",title:t.title,caption:t.caption})}function $(e){const{connection:t,time:n,ingestionProgress:i}=e,s=y().w0[t],a=i?(0,c.jsx)(m().sA,{id:"assistantChat.ingestion.textWithProgress",defaultMessage:"This can take up to 36h{br}{ingestionProgress}% done",values:{ingestionProgress:i,br:(0,c.jsx)("br",{})}}):(0,c.jsx)(m().sA,{id:"assistantChat.ingestion.textWithoutProgress",defaultMessage:"This can take up to {time}h",values:{time:n||36}});return(0,c.jsx)(J,{type:"progress",title:(0,c.jsx)(m().sA,{...K.connectingPopupTitle,values:{appName:s}}),caption:a})}function X(e){const{connection:t}=e,n=y().w0[t];return(0,c.jsx)(J,{type:"disconnecting",title:(0,c.jsx)(m().sA,{...K.disconnectingPopupTitle,values:{appName:n}}),caption:(0,c.jsx)(m().sA,{...K.disconnectingPopupCaption,values:{appName:n}})})}function Z(){const e=(0,a().O$)(B().AppStoreCurrentSpaceViewStore),t=(0,s().v3)(),n=(0,i.useCallback)((()=>{e&&b().createAndCommit({userAction:"jiraAIConnector.onboarding.dismissSelectProjectsPrompt",environment:t,canUndo:!0,perform:t=>{b().applyOperation({store:e,operation:{pointer:e.pointer,path:["settings"],command:"update",args:{...e.getSettings(),dismissed_jira_select_projects_prompt:!0}},transaction:t})}})}),[e,t]);return(0,c.jsx)(J,{type:"error",title:(0,c.jsx)(m().sA,{id:"assistantChat.ingestion.jiraSelectProjectsPopupTitle",defaultMessage:"Select Jira projects"}),caption:(0,c.jsx)(m().sA,{id:"assistantChat.ingestion.jiraSelectProjectsPopupCaption",defaultMessage:"Select projects to connect to Jira AI connector"}),actionButton:{label:(0,c.jsx)(m().sA,{id:"assistantChat.ingestion.jiraSelectProjectsActionRequiredButton",defaultMessage:"Select projects"}),onClick:()=>{v().G({analyticsFrom:"chat_menu",screenToShow:"connection_complete_screen"})}},onDismiss:n})}function ee(){return(0,c.jsx)(J,{type:"error",title:(0,c.jsx)(m().sA,{id:"assistantChat.ingestion.connectionStatusActionRequired",defaultMessage:"No Slack channels selected"}),caption:(0,c.jsx)(m().sA,{id:"assistantChat.ingestion.connectionStatusActionRequiredCaption",defaultMessage:"Click to confirm channels or disconnect"}),actionButton:{label:(0,c.jsx)(m().sA,{id:"assistantChat.ingestion.slackActionRequiredButton",defaultMessage:"Finish setup"}),onClick:()=>{v().nh()}}})}function te(e){const{canAdmin:t}=e;return(0,c.jsx)(J,{type:"error",title:(0,c.jsx)(m().sA,{id:"assistantChat.ingestion.sharepointConnectionStatusActionRequired",defaultMessage:"No SharePoint sites selected"}),caption:t?(0,c.jsx)(m().sA,{id:"assistantChat.ingestion.sharepointConnectionStatusActionRequiredCaption",defaultMessage:"Click to select sites"}):(0,c.jsx)(m().sA,{id:"assistantChat.ingestion.sharepointConnectionStatusActionRequiredCaptionNonAdmin",defaultMessage:"Your workspace owner needs to select sites"}),actionButton:t?{label:(0,c.jsx)(m().sA,{id:"assistantChat.ingestion.sharepointActionRequiredButton",defaultMessage:"Select sites"}),onClick:()=>{v().oz()}}:void 0})}function ne(e){const{hideNotification:t}=e,n=(0,s().v3)(),i=(0,N().O)(),o=(0,a().O$)(B().AppStoreCurrentSpaceViewStore);return o&&i?(0,c.jsx)(J,{type:"error",title:(0,c.jsx)(m().sA,{id:"assistantChat.ingestion.connectionStatusActionRequiredForLoginStatusMenu",defaultMessage:"Log in to Slack"}),caption:(0,c.jsx)(m().sA,{id:"assistantChat.ingestion.connectionStatusActionRequiredCaptionForLogin",defaultMessage:"We couldn’t verify your slack e-mail. Authenticate to proceed."}),actionButton:{label:(0,c.jsx)(m().sA,{id:"assistantChat.ingestion.slackActionRequiredButtonForLogin",defaultMessage:"Log in"}),onClick:()=>{t("slack_re_auth"),v().tt({connector:"slack",environment:n,spaceId:i,analyticsProperties:{buttonName:"connect_slack_user_mapping"}})}},onDismiss:()=>{v().R2({environment:n,currentSpaceViewStore:o,analyticsProperties:{analyticsFrom:E().R.state.analyticsFrom,buttonName:"dismiss_connect_slack_user_mapping",sessionId:E().R.state.sessionId}})}}):null}},243670:(e,t,n)=>{n.d(t,{J7:()=>o,V9:()=>l,XF:()=>u,r0:()=>d,tk:()=>r,tz:()=>c});n(581454);var i=()=>n(244641),s=()=>n(762433);const a={0:"onboardingIntro",1:"intro",3:"inviteMembers",5:"connectWorkspace",8:"createTeamspaces",11:"verifyPages",14:"samlSSO",17:"storeRecords",20:"notionAi"},o=Object.fromEntries((0,n(534177).WP)(a).map((e=>{let[t,n]=e;return[n,Number(t)]})));function r(e){if(e in a)return a[e]}function c(e,t,n){const s=i().c9.fromMillis(e.endDateMs),a=n??i().c9.now();return a<s&&s.diff(a).as("days")<=t}function l(e,t){const n=i().c9.fromMillis(e.endDateMs);return(t??i().c9.now())>n}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,s().DS)(e);if(!e)return;const n=(0,s().i5)(e);return n?Math.floor(null==n?void 0:n.startOf("day").diff(t.startOf("day"),"days").days):void 0}function u(e,t){const n=i().c9.fromMillis(e.endDateMs);return(t??i().c9.now()).hasSame(n,"day")}},274894:(e,t,n)=>{n.d(t,{f:()=>a});n(296540);var i=()=>n(401497),s=n(474848);function a(e){const t=(0,i().IS)((e=>({assistantBlueLink:{color:e.text.uiBluePrimary,cursor:"pointer",fontWeight:600}})),[]);return(0,s.jsx)("span",{style:t.assistantBlueLink,onClick:e.onClick,children:e.children})}},370657:(e,t,n)=>{n.d(t,{Ke:()=>S,RD:()=>b,Vf:()=>m,_z:()=>p,bm:()=>h,bz:()=>r,cZ:()=>x,d7:()=>A,dL:()=>v,hx:()=>o,iC:()=>_,jx:()=>f,lA:()=>y,qG:()=>g,rL:()=>d,s8:()=>w,vW:()=>c});n(898992),n(354520);var i=()=>n(496603),s=()=>n(534177);const a={search:{type:"search",scopeForNextSearch:{type:"everything"},searchSessionId:void 0,useWebSearch:!1},researcher:{type:"researcher",searchScope:{type:"everything"},useWebSearch:!0},"setup-generator":{type:"setup-generator"},workflow:{type:"workflow"},"markdown-chat":{type:"markdown-chat",model:"openai-gpt-4.1"},"fast-researcher":{type:"fast-researcher"}},o=["search","researcher","setup-generator","workflow","markdown-chat","fast-researcher"].map((e=>a[e]));function r(e){return a[e]}const c={maxIterations:8,multiturnIterations:1,thinkingTokens:1024,filterToSpaceSharedResults:!1,sectionReportWriting:!1},l=["search","researcher","setup-generator"];function d(e){return!!(0,s().Xk)(l,e)}const u=["workflow","setup-generator","fast-researcher","tool-markdown-chat"],p=["markdown-chat","search","researcher","workflow","setup-generator"];function g(e){const{agentEnabled:t}=e,n=i().oE([...l,t?"workflow":void 0]);return o.filter((e=>n.includes(e.type)))}const m=[{type:"route-inference-transcript",configs:o.filter((e=>p.includes(e.type)))},...o.filter((e=>u.includes(e.type)))];function h(e){return"search"===e.type||"researcher"===e.type}function f(e){const{uploadedFileData:t,id:n}=e;if("application/pdf"===t.contentType){return{id:n,type:"attachment",fileUrl:t.originalFileUrl,fileName:t.fileName,contentType:t.contentType,base64EncodedFileUrl:t.base64EncodedFileUrl,permissionRecord:t.permissionRecord}}if("image/png"===t.contentType||"image/jpeg"===t.contentType||"image/gif"===t.contentType||"image/webp"===t.contentType){return{id:n,type:"attachment",fileUrl:t.originalFileUrl,fileName:t.fileName,contentType:t.contentType,permissionRecord:t.permissionRecord}}(0,s().HB)(t.contentType)}n(902006).fl;const v="searchAgent",b="unifiedFindAgent",y="readingAgent",S="taskAgent",_="databaseAgent",x="databaseBulkReadContentAgent";const w={originalOutput:[],feedback:"",testTitle:"",inputSummary:"",promptFeedback:"",testInstructions:"",originalOutputPassesTest:!1,originalOutputTestResults:[],correctedOutputs:[],verified:!1,isOptional:!1},A=["Eval","Prompt"];"\n'Chat with AI':\n\nRouting Instructions:\n- If this mode is selected, the user will receive an AI response without a search being conducted.\n- Route to this mode when the user asks for general knowledge, chatting, or writing content that does not require additional information not already in the context.\n- Do NOT route to this mode when the query requires current statistics, facts, or up-to-date information.\n- Do NOT route to this mode when the query requires searching the user's workspace.\n- Do NOT route to this mode when the user wants to build a specific system or application in Notion.\n\nExamples:\n<example>\nINPUT: Tell me a bedtime story about a robot who learns to dream.\nOUTPUT: 0\n</example>\n<example>\nINPUT: What are some key ideas behind design thinking?\nOUTPUT: 0\n</example>\n<example>\nINPUT: largest mammal\nOUTPUT: 0\n</example>\n<example>\nINPUT: write a haiku about the first snowfall\nOUTPUT: 0\n</example>\n<example>\nINPUT: Who was Joan of Arc?\nOUTPUT: 0\n</example>\n<example>\nINPUT: create a plan for an 80th birthday party\nOUTPUT: 0\n</example>\n".trim(),"\n'Quick search':\n\nRouting Instructions:\n- If this mode is selected, a single search will be conducted and an AI response will be provided that takes the search results into consideration.\n- Route to this mode if you need to find information across the Notion workspace, Slack, Google Drive, Github, or Jira to handle the user's request.\n- Route to this mode when the query seeks a single, specific fact, definition, or data point, or when the user needs current or time-sensitive information.\n- Route to this mode if the user seems to be searching for a specific document in their workspace.\n- Route to this mode if the user needs support: e.g. if they are mentioning getting support, requesting help, asking for customer service, reporting a problem with the product, or requesting a feature - we may be able to find some relevant content in the Notion Help Center\n- Do NOT route to this mode when the request requires synthesizing multiple pieces of information or generating a detailed research report.\n- Do NOT route to this mode when the user wants to build a specific system or application in Notion.\n\nExamples:\n<example>\nINPUT: automated checkout PRD\nOUTPUT: 1\n</example>\n<example>\nINPUT: Who leads the podiatry dept?\nOUTPUT: 1\n</example>\n<example>\nINPUT: overnight parking policy\nOUTPUT: 1\n</example>\n<example>\nINPUT: When are we going to release our documentary about polar bears in the Arctic?\nOUTPUT: 1\n</example>\n<example>\nINPUT: Find my PR that enables dynamic builds.\nOUTPUT: 1\n</example>\n".trim(),"\n'Research Mode':\n\nRouting Instructions:\n- Route to this mode when the query explicitly requests research, analysis, or in-depth exploration.\n- Route to this mode when the query requires conducting multiple searches or synthesizing information from multiple sources or on multiple topics.\n- Do NOT route to this mode when the query can be answered with a single search.\n- Do NOT route to this mode when the user wants to build a specific system or application in Notion.\n\nExamples:\n<example>\nINPUT: Whose work is most UX focused between Amy, Paula, and Xochitl?\nOUTPUT: 2\n</example>\n<example>\nINPUT: Write profiles for 10 of our biggest north African customers.\nOUTPUT: 2\n</example>\n<example>\nINPUT: Can you put together some recommendations for how to move forward with the Lumi deal? Check our recent Slack discussions for context. Write your recommendations in a similar style to how I have written them in the past.\nOUTPUT: 2\n</example>\n<example>\nINPUT: detailed comparison of the healthcare systems of Canada, the UK, Germany, and Singapore in terms of efficiency and accessibility\nOUTPUT: 2\n</example>\n<example>\nINPUT: What are the trends and geopolitical implications of the global semiconductor supply chain?\nOUTPUT: 2\n</example>\n\n".trim(),"\n'App builder':\n\nRouting Instructions:\n- Route to this mode when the query explicitly asks to build an app or system, or when the request involves automating processes within Notion or external tools.\n- Do NOT route to this mode when the user is seeking information rather than building a system or when the request is for creative content or general conversation.\n\nExamples:\n<example>\nINPUT: Create a task management app with deadlines and team assignments.\nOUTPUT: 3\n</example>\n<example>\nINPUT: Develop a CRM that tracks client interactions and schedules follow-ups.\nOUTPUT: 3\n</example>\n<example>\nINPUT: design an invoice system that sends payment reminders\nOUTPUT: 3\n</example>\n<example>\nINPUT: could you build a knowledge base that categorizes notes by topic automatically?\nOUTPUT: 3\n</example>\n<example>\nINPUT: Set up a content calendar for social media posts\nOUTPUT: 3\n</example>\n<example>\nINPUT: Create a recruitment pipeline for interview stages.\nOUTPUT: 3\n</example>\n<example>\nINPUT: I want a dashboard for visualizing Notion database metrics\nOUTPUT: 3\n</example>\n<example>\nINPUT: a way to process and categorize customer feedback automatically\nOUTPUT: 3\n</example>\n".trim(),"\n<example>\nINPUT: Create a database to track my job applications\nOUTPUT: 3\n</example>\n<example>\nINPUT: I need a way to organize my project tasks and deadlines\nOUTPUT: 3\n</example>\n<example>\nINPUT: Help me keep track of my fitness progress over time\nOUTPUT: 3\n</example>\n<example>\nINPUT: I want to build a system for managing my inventory\nOUTPUT: 3\n</example>\n<example>\nINPUT: I need something to organize all my recipes and ingredients\nOUTPUT: 3\n</example>\n<example>\nINPUT: Can you help me set up a customer relationship management system?\nOUTPUT: 3\n</example>\n<example>\nINPUT: [pasted CSV or similar structured data]\nOUTPUT: 3\n</example>\n<example>\nINPUT: I need to organize my collection of books\nOUTPUT: 3\n</example>\n".trim()},377114:(e,t,n)=>{n.r(t),n.d(t,{arrowLeftRightIcon:()=>s,iconDefinition:()=>i});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"3.26 2.25 13.47 15.5",svg:(0,n(474848).jsx)("path",{d:"M3.45 5.925a.625.625 0 0 0 0 .884l3.499 3.497a.625.625 0 1 0 .884-.883L5.402 6.992h10.705a.625.625 0 0 0 0-1.25H5.402l2.43-2.431a.625.625 0 0 0-.883-.884zm8.717 11.648a.625.625 0 0 1 0-.884l2.431-2.43H3.893a.625.625 0 1 1 0-1.25h10.705l-2.43-2.431a.625.625 0 0 1 .883-.884l3.498 3.497a.625.625 0 0 1 0 .884l-3.498 3.498a.625.625 0 0 1-.884 0"})},s=(0,n(340498).wt)("arrowLeftRight",i)},432875:(e,t,n)=>{n.r(t),n.d(t,{SlackConnectionOptions:()=>E});n(944114),n(898992),n(354520),n(581454);var i=n(296540),s=()=>n(484714),a=()=>n(852507),o=()=>n(56366),r=()=>n(401497),c=()=>n(340498),l=n(474848);const d=(0,c().wt)("aiFixSpellingGrammar",{viewBox:"0 0 16 16",svg:(0,l.jsx)("path",{d:"M6.57812 14.1621C6.23633 14.1621 5.9834 14.0186 5.74414 13.7246L2.20312 9.29492C2.03223 9.08301 1.95703 8.88477 1.95703 8.67969C1.95703 8.20801 2.30566 7.86621 2.78418 7.86621C3.08496 7.86621 3.29004 7.97559 3.48828 8.24219L6.55078 12.1729L12.4912 2.73926C12.6963 2.41797 12.8945 2.30176 13.2295 2.30176C13.708 2.30176 14.0361 2.62988 14.0361 3.10156C14.0361 3.28613 13.9814 3.47754 13.8379 3.69629L7.41211 13.7178C7.21387 14.0117 6.94043 14.1621 6.57812 14.1621Z"})}),u=(0,c().wt)("key",{viewBox:"0 0 30 30",svg:(0,l.jsx)("path",{d:"M14.757 4A5.724 5.724 0 009 9.748c0 2.364 1.389 4.456 3.586 5.335V23.6c0 .255.079.483.272.676l1.53 1.477a.578.578 0 00.808-.009l2.769-2.768a.598.598 0 000-.87l-1.591-1.574 2.232-2.232a.602.602 0 00-.017-.861l-2.171-2.18c2.628-1.116 4.087-3.13 4.087-5.511A5.733 5.733 0 0014.757 4zm0 5.344a1.55 1.55 0 01-1.547-1.547c0-.861.685-1.547 1.547-1.547a1.55 1.55 0 011.547 1.547 1.55 1.55 0 01-1.547 1.547z"})});var p=()=>n(874963),g=()=>n(385527),m=()=>n(846899),h=()=>n(735384),f=()=>n(386164),v=()=>n(959013),b=()=>n(284371),y=()=>n(449506),S=()=>n(901389),_=()=>n(874913),x=()=>n(957416),w=()=>n(323714),A=()=>n(2220),j=()=>n(760217),C=()=>n(331542),k=()=>n(928600),I=()=>n(939740),M=()=>n(89924),T=()=>n(21140),P=()=>n(722872),N=()=>n(47170),O=()=>n(963589),U=()=>n(176983),W=()=>n(765957),B=()=>n(217429),F=()=>n(174636);const L=(0,v().YK)({userOverwritePopupTitle:{id:"slackConnectionOptions.overwriteEmail.title",defaultMessage:"User Authorization"}});function E(e){var t;let{parent:n,from:c}=e;const E=(0,s().v3)(),[z,q]=(0,i.useState)(),V=(0,O().X)("ingestion_mapped_child_spaces"),H=(0,U().J)(),K=(0,r().IS)((e=>({icon:{width:16,height:16},caption:{color:e.text.tertiary,fontSize:12,textWrap:"wrap"},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},disabledOptionLabel:{color:e.text.tertiary,fontSize:14,marginBottom:2},iconWrapper:{paddingTop:4}})),[]),J=(0,o().O$)(W().AppStoreCurrentSpaceStore),Y=(0,o().K8)((()=>F().R.state.isPublicSync),[]),G=(0,o().K8)((()=>F().R.state.isPrivateSync),[]),Q=(0,o().K8)((()=>F().R.state.isSyncCompleted),[]),$=(0,o().K8)((()=>F().R.state.sessionId),[]),[X,Z]=i.useState(!0),[ee,te]=i.useState([]),ne=(0,N().O)(),ie=(0,o().K8)((()=>F().R.state.isDisconnecting),[]),se=(0,o().K8)((()=>F().R.state.analyticsFrom),[]),[ae,oe]=(0,i.useState)(!0),re=(0,o().K8)((()=>F().R.state.isSlackGridAiConnectorEnabled),[]);(0,a().l)((async()=>{const e=null==J?void 0:J.id;if(!e)return;if(V){const t=await y().callApi({eventName:"getMappedParentSpace",environment:E,data:{spaceId:e}});if("success"!==t.type)return;if(t.data.isMapped)return q(t.data),void Z(!1)}if(B().default.checkGate({gateName:"ai_connector_unification"})){return"success"===(await(0,w().updateSlackConnectionStatus)({environment:E,spaceId:e})).status&&F().R.state.connectedApps&&te(F().R.state.connectedApps),void Z(!1)}const t=await y().callApi({eventName:"getSlackBulkIngestionStatus",environment:E,data:{spaceId:e},headers:(0,f().WS)({spaceId:e})});var n;"success"===t.type&&F().R.setState({...F().R.state,...t.data,externalSourceName:null===(n=t.data)||void 0===n||null===(n=n.connectionDetails)||void 0===n?void 0:n.externalSourceName});const i=await y().callApi({eventName:"getConnectedAppsForUniversalQna",environment:E,data:{spaceId:e},headers:(0,f().WS)({spaceId:e})});"success"===i.type&&te(i.data.connectedApps);const s=await y().callApi({eventName:"canUserQuerySlack",environment:E,data:{spaceId:e}});"success"===s.type&&(oe(s.data.canQuery),F().R.setState({...F().R.state,canQuery:s.data.canQuery})),Z(!1)}));const ce=(0,o().K8)((()=>ee.includes("slack-admin")),[ee]),le=(0,o().K8)((()=>ee.includes("slack")),[ee]),de=(0,o().K8)((()=>{const e=B().default.getConfigKey("ingestion","slack");return(null==e?void 0:e.userScopes.length)>0}),[]),ue=[{key:"slack-connection-section",render:e=>(0,l.jsx)(M().A,{...e}),items:(null!=z&&z.isMapped?[{key:"inherited-space",label:(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.connectionDisabled",defaultMessage:"Disabled"}),caption:(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.disabledDescription",defaultMessage:"Cannot connect Slack to this space. Slack connection is inherited from {parentSpaceName}",values:{parentSpaceName:(0,l.jsx)("u",{children:null===(t=z.spaceDetails)||void 0===t?void 0:t.spaceName})}}),icon:(0,p().f)(K.icon),disabled:!0,connected:!1,hidden:!1,action:()=>{}}]:[{key:"slack-ingestion-admin-auth",label:D(ee,Q,Y,re),caption:R(H,ee,Y,ie,Q),icon:(0,p().f)(K.icon),disabled:!0,connected:ce,hidden:!1,action:()=>{ne&&((0,w().navigateToAIConnectorOnboarding)({analyticsFrom:c||"chat_menu",connector:"slack"}),(0,A().u)({environment:E,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"connect_public_slack",integration_type:"slack",setup_session_id:$,from:c||se}}}))}},{key:"slack-ingestion-user-auth",label:(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.userAuth",defaultMessage:"Private conversations"}),caption:G?(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.privateConnectionInProgress",defaultMessage:"Connecting. This can take up to 36 hours."}):le?(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.connectedByYou",defaultMessage:"Connected by you"}):(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.userCaption",defaultMessage:"Connect to enhance your AI results"}),icon:(0,g().h)(K.icon),disabled:!1,connected:le,hidden:!!re||Boolean(!ce||Boolean(ee.includes("slack-admin")&&Y)||!de||ie),action:async()=>{if(ne)if(le){"success"===(await y().callApi({eventName:"disconnectSlackIngestion",environment:E,data:{spaceId:ne,disconnectForWorkspace:!1}})).type&&te((e=>e.filter((e=>"slack"!==e)))),(0,A().u)({environment:E,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"disconnect_private_slack",integration_type:"slack",setup_session_id:$,from:c||se}}})}else{const e=await y().callApi({eventName:"getSlackIngestionAuthorizeUrl",environment:E,data:{spaceId:ne,isAdminAuth:!1,isDesktopApp:E.device.isElectron}});"success"===e.type&&window.open(e.data.url,"_blank"),(0,A().u)({environment:E,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"connect_private_slack",integration_type:"slack",setup_session_id:$,from:c||se}}})}}},{key:"slack-overwrite-email",label:(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.overWriteEmail",defaultMessage:"Log in to Slack"}),caption:(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.overWriteEmailCaption",defaultMessage:"We couldn’t verify your Slack e-mail. Click to authenticate."}),icon:u(K.icon),disabled:!1,connected:le,hidden:!!re||(!Q||ae),action:async()=>{if(!ne)return;(0,A().u)({environment:E,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"connect_slack_user_mapping",integration_type:"slack",setup_session_id:$,from:c||se}}});const e=await y().callApi({eventName:"getSlackIngestionAuthorizeUrl",environment:E,data:{spaceId:ne,isAdminAuth:!1,isDesktopApp:E.device.isElectron,isUserMapping:!0,sessionId:$}});"success"===e.type&&(E.device.isElectron?_().openExternalUrl(e.data.url):await x().P(E,{width:800,height:600,url:e.data.url,titleMessage:L.userOverwritePopupTitle}))}},{key:"slack-overwrite-email-logout",label:(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.overWriteEmailLogout",defaultMessage:"Disconnect your account"}),caption:(0,l.jsx)(l.Fragment,{}),icon:(0,h().I)(K.icon),disabled:!1,connected:!1,hidden:!!re||!ee.includes("slack-user-mapping"),action:async()=>{if(!ne)return;null==n||n.close();const{accept:e}=await S().Gh({message:(0,l.jsxs)(T().wt,{gap:8,children:[(0,l.jsx)("div",{style:{fontWeight:b().Wy.semibold,fontSize:18},children:(0,l.jsx)(v().sA,{id:"universalQna.slackChannelSelection.disconnectOverwriteHeader",defaultMessage:"Are you sure?"})}),(0,l.jsx)("div",{style:{fontWeight:b().Wy.regular},children:(0,l.jsx)(v().sA,{id:"universalQna.slackChannelSelection.disconnectOverwriteNote1",defaultMessage:"Your Slack data will be permanently deleted from Notion."})}),(0,l.jsx)("div",{style:{fontWeight:b().Wy.regular},children:(0,l.jsx)(v().sA,{id:"universalQna.slackChannelSelection.disconnectOverwriteNote2",defaultMessage:"This process can take up to 3 hours, and you’ll only be able to reconnect after disconnecting is complete."})})]}),acceptLabel:(0,l.jsx)(v().sA,{id:"universalQna.slackChannelSelection.disconnectButtonLabel",defaultMessage:"Disconnect Slack"})});e&&((0,A().u)({environment:E,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"slack_user_mapping_disconnect",integration_type:"slack",setup_session_id:$,from:c||se}}}),await y().callApi({eventName:"disconnectSlackIngestion",environment:E,data:{spaceId:ne,disconnectUserMapping:!0}}))}}]).filter((e=>!e.hidden)).map((e=>{let{key:t,label:i,caption:s,icon:a,disabled:o,connected:r,action:c}=e;return{key:t,action:async()=>{await c(),null==n||n.close()},render:e=>(0,l.jsx)(j().A,{...e,title:(0,l.jsxs)(T().Ye,{gap:4,children:[(0,l.jsx)("div",{style:K.iconWrapper,children:a}),(0,l.jsxs)("div",{style:K.option,children:[(0,l.jsx)("div",{style:o?K.disabledOptionLabel:K.optionLabel,children:i}),(0,l.jsx)("div",{style:K.caption,children:s})]})]}),right:r&&d({width:12,height:12}),disabled:o})}}))}];return z||!ee.includes("slack-admin")||!H||Y||ie||ue.push({key:"slack-settings-section",render:e=>(0,l.jsx)(M().A,{...e,topBorder:!0}),items:[{key:"slack-settings",action:()=>{ne&&(F().R.setState({...F().R.state,currentScreen:"settings"}),null==n||n.close())},render:e=>(0,l.jsx)(j().A,{...e,title:(0,l.jsxs)(T().Ye,{gap:4,children:[(0,l.jsx)("div",{style:K.iconWrapper,children:(0,m().B)(K.icon)}),(0,l.jsx)("div",{style:K.option,children:(0,l.jsx)("div",{style:K.optionLabel,children:(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.settings",defaultMessage:"Settings"})})})]})})}]}),(0,l.jsx)(k().A,{menuType:P().gu.Popup,width:230,children:X?(0,l.jsx)(T().Ye,{style:{padding:8,justifyContent:"center"},children:(0,l.jsx)(C().A,{})}):(0,l.jsx)(I().Ay,{type:I().Oh.Vertical,sections:ue,initialFocus:void 0})})}function D(e,t,n,i){return n||t||!e.includes("slack-admin")?(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.adminAuth",defaultMessage:"Public conversations"}):i?(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.noWorkspacesSelected",defaultMessage:"No workspaces selected"}):(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.noChannelsSelected",defaultMessage:"No channels selected"})}function R(e,t,n,i,s){return e?i?(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.disconnectingPublicSlack",defaultMessage:"Disconnecting. This can take up to 3 hours."}):n?(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.connectingPublicSlack",defaultMessage:"Connecting. This can take up to 36 hours."}):t.includes("slack-admin")?s?(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.connectedByWorkspaceOwner",defaultMessage:"Connected by workspace owner"}):(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.selectChannels",defaultMessage:"Your workspace owner hasn’t completed the setup."}):(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.connectSlackToEnhanceResults",defaultMessage:"Connect to enhance your AI results"}):t.includes("slack-admin")?s?(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.connectedByWorkspaceOwner",defaultMessage:"Connected by workspace owner"}):n?(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.connectingPublicSlack",defaultMessage:"Connecting. This can take up to 36 hours."}):(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.selectChannels",defaultMessage:"Your workspace owner hasn’t completed the setup."}):(0,l.jsx)(v().sA,{id:"assistantOverflowMenu.slackIngestion.contactAdmin",defaultMessage:"Contact your workspace owner to connect"})}},562403:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>i,presentFillIcon:()=>s});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"2.72 1.77 14.56 15.51",svg:(0,n(474848).jsx)("path",{d:"M7.932 1.824A2.765 2.765 0 0 0 5.077 6.05H4.3c-.87 0-1.575.705-1.575 1.575v1.9c0 .61.347 1.14.856 1.402h5.794v-4.87h1.25v4.87h5.794c.508-.262.856-.791.856-1.402v-1.9c0-.87-.705-1.575-1.575-1.575h-.776c.285-.435.451-.956.451-1.515 0-1.75-1.613-3.05-3.319-2.709a3.34 3.34 0 0 0-2.043 1.309 3.26 3.26 0 0 0-2.011-1.297zm1.443 3.214V6.05H7.39a1.515 1.515 0 1 1 .297-3l.07.014a2.01 2.01 0 0 1 1.618 1.974m4.75-.503c0 .832-.67 1.507-1.5 1.515h-2v-.963c0-.985.705-1.84 1.676-2.035a1.523 1.523 0 0 1 1.824 1.483m2.289 7.642h-5.789v5.098h4.214c.87 0 1.575-.705 1.575-1.575zm-7.039 0h-5.79V15.7c0 .87.706 1.575 1.576 1.575h4.214z"})},s=(0,n(340498).wt)("presentFill",i)},592420:(e,t,n)=>{n.d(t,{Q:()=>a});var i=()=>n(765957),s=()=>n(134217);function a(e){var t;return!(null===(t=i().default.state.currentSpaceStore)||void 0===t||!t.canAdmin())&&(0,s().n)(e,"enterprise")}},624199:(e,t,n)=>{n.d(t,{L3:()=>a,Sp:()=>r,iJ:()=>s,uE:()=>o});var i=()=>n(757695);const s=i().Store.createValue({open:!1,openedFrom:void 0},{name:"SelfServeBusinessTrialStartModalStore"}),a=i().Store.createValue({open:!1,openedFrom:void 0,recentPageStores:[],verifiedPageStores:[],teamStores:[],workspaceUserStores:[],connectedApps:[],numAiMeetingMinutes:0,modalState:"initial"},{name:"SelfServeBusinessTrialEndingModalStore"}),o=i().Store.createValue({open:!1,openedFrom:void 0,connectedApps:[],teamStores:[],pageStores:[],onSecondaryButtonClick:void 0},{name:"SelfServeBusinessTrialLossAversionModalStore"}),r=i().Store.createValue({open:!1,connectedApps:[],teamStores:[],pageStores:[]},{name:"SelfServeBusinessTrialExplorePlanStore"})},631611:(e,t,n)=>{n.d(t,{Ui:()=>d,hP:()=>P,jw:()=>N,wy:()=>M});n(16280);var i,s=n(296540),a=n(474848);const o={fullPage:!0,mobileNative:!0,mobileWeb:!0,commandSearch:!0,mobileNativeTab:!0,searchPane:!0,mobileSearch:!1,writer:!1,corner:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,inferenceTranscriptChatView:!1},r={fullPage:!0,mobileNative:!0,mobileWeb:!0,mobileNativeTab:!0,commandSearch:!1,searchPane:!1,mobileSearch:!1,writer:!1,corner:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,inferenceTranscriptChatView:!1},c={mobileNative:!0,mobileWeb:!0,mobileSearch:!0,mobileWriter:!0,mobileNativeTab:!0,fullPage:!1,writer:!1,corner:!1,searchPane:!1,commandSearch:!1,workflowEditor:!1,conflictingContentComment:!1,inferenceTranscriptChatView:!1},l={writer:!0,mobileWriter:!0,mobileWeb:!1,mobileNative:!1,mobileSearch:!1,fullPage:!1,corner:!1,searchPane:!1,commandSearch:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1};function d(e){return l[e]}const u={corner:!0,searchPane:!0,fullPage:!1,mobileNative:!1,mobileWeb:!1,mobileSearch:!1,commandSearch:!1,writer:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},p={corner:!0,searchPane:!0,fullPage:!0,mobileNative:!0,mobileWeb:!0,mobileSearch:!0,commandSearch:!0,mobileNativeTab:!0,writer:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,inferenceTranscriptChatView:!1},g={corner:!0,searchPane:!0,fullPage:!0,mobileNative:!0,mobileNativeTab:!0,commandSearch:!0,mobileWeb:!1,mobileSearch:!1,writer:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,inferenceTranscriptChatView:!0},m={corner:!0,searchPane:!0,fullPage:!0,commandSearch:!0,writer:!0,mobileWriter:!0,workflowEditor:!0,mobileNative:!1,mobileWeb:!1,mobileSearch:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},h={corner:!0,searchPane:!0,commandSearch:!0,mobileNative:!0,mobileSearch:!0,mobileWeb:!0,writer:!1,fullPage:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},f={corner:!0,writer:!0,mobileWriter:!0,fullPage:!1,searchPane:!1,commandSearch:!1,mobileNative:!1,mobileWeb:!1,mobileSearch:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},v={corner:!0,fullPage:!0,searchPane:!0,mobileNative:!0,mobileNativeTab:!0,commandSearch:!0,mobileWeb:!0,mobileSearch:!0,writer:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,inferenceTranscriptChatView:!1},b={corner:!0,fullPage:!0,searchPane:!1,mobileNative:!1,commandSearch:!1,mobileWeb:!1,mobileSearch:!1,writer:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},y={corner:!0,fullPage:!0,commandSearch:!1,searchPane:!1,mobileNative:!1,mobileWeb:!1,mobileSearch:!1,writer:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},S={fullPage:!0,writer:!0,corner:!0,commandSearch:!1,searchPane:!1,mobileNative:!1,mobileWeb:!1,mobileSearch:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},_={corner:!0,fullPage:!1,writer:!1,commandSearch:!1,searchPane:!1,mobileNative:!1,mobileWeb:!1,mobileSearch:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},x={fullPage:!0,writer:!1,corner:!1,commandSearch:!1,searchPane:!1,mobileNative:!1,mobileWeb:!1,mobileSearch:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},w={writer:!0,fullPage:!1,corner:!1,commandSearch:!1,searchPane:!1,mobileNative:!1,mobileWeb:!1,mobileSearch:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},A={corner:!0,fullPage:!1,searchPane:!1,mobileNative:!1,commandSearch:!1,mobileWeb:!1,mobileSearch:!1,writer:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},j={corner:!0,fullPage:!0,searchPane:!1,mobileNative:!1,commandSearch:!1,mobileWeb:!1,mobileSearch:!1,writer:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},C={fullPage:!0,corner:!1,searchPane:!1,mobileNative:!1,commandSearch:!1,mobileWeb:!1,mobileSearch:!1,writer:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},k={fullPage:!0,corner:!1,searchPane:!1,mobileNative:!1,commandSearch:!1,mobileWeb:!1,mobileSearch:!1,writer:!1,mobileWriter:!1,workflowEditor:!1,conflictingContentComment:!1,mobileNativeTab:!1,inferenceTranscriptChatView:!1},I={commandSearch:!1,searchPane:!1,fullPage:!0,writer:!0,corner:!0,mobileNative:!0,mobileWeb:!0,mobileSearch:!0,mobileWriter:!0,workflowEditor:!0,conflictingContentComment:!0,mobileNativeTab:!0,inferenceTranscriptChatView:!0};class M{constructor(e){this.type=e}get renderAsFullPage(){return o[this.type]}get renderChatHistoryAsFullPage(){return r[this.type]}get isCommandSearchOrSearchPane(){return this.isType("commandSearch")||this.isType("searchPane")}get isQuickSearchMode(){return this.isType("commandSearch")}get isMobile(){return c[this.type]}get isWriter(){return l[this.type]}isType(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes(this.type)}get shouldShowExpandToFullPageChat(){return u[this.type]}get isValidSurfaceForAttachmentUploads(){return g[this.type]}get shouldShowChatHistory(){return p[this.type]}get canUseCurrentPageContext(){return m[this.type]}get showCloseButton(){return h[this.type]}get surfaceSupportsContextWithSelection(){return f[this.type]}get surfaceSupportsParameterization(){return v[this.type]}get surfaceSupportsTutorialAction(){return b[this.type]}get surfaceSupportsShareAnswerAction(){return y[this.type]}get canShowNewChonkifiedInput(){return S[this.type]}canShowSessionStarterInContext(e){return M[e.from].isWriter===this.isWriter}get canUseUpdatedSkillDisplayFormat(){return A[this.type]}get canUseGetAiConnectorScopeMenuFooter(){return j[this.type]}get canShowNewFullPageWelcomeState(){return x[this.type]}get canShowNewWriterDesign(){return w[this.type]}get canShowNewCornerChatWelcomeState(){return _[this.type]}get supportsStartingNewChatAsInferenceTranscript(){return C[this.type]}get supportsChatHistoryWithInferenceTranscripts(){return k[this.type]}get shouldOpenAssistantMenuOnRestoreChatSession(){return I[this.type]}}i=M,M.fullPage=new i("fullPage"),M.corner=new i("corner"),M.searchPane=new i("searchPane"),M.commandSearch=new i("commandSearch"),M.mobileNative=new i("mobileNative"),M.mobileNativeTab=new i("mobileNativeTab"),M.writer=new i("writer"),M.mobileWeb=new i("mobileWeb"),M.mobileSearch=new i("mobileSearch"),M.mobileWriter=new i("mobileWriter"),M.workflowEditor=new i("workflowEditor"),M.inferenceTranscriptChatView=new i("inferenceTranscriptChatView"),M.conflictingContentComment=new i("conflictingContentComment");const T=s.createContext(void 0);function P(e){return(0,a.jsx)(T.Provider,{value:e.surface,children:e.children})}function N(){const e=s.useContext(T);return e||M.corner}T.displayName="AssistantSurfaceContext"},656633:(e,t,n)=>{n.d(t,{vp:()=>a});var i=()=>n(134217);const s={isSalesAssisted:void 0};function a(e,t){return s.isSalesAssisted??(0,i().e9)(e,t)}(0,n(466103).exposeDebugEnvironmentValue)("getAssistantOnboardingDebugInfo",(e=>()=>{const{currentUserSettingsStore:t,currentSpaceStore:i}=n(765957).default.state,s=null==t?void 0:t.getSettings();if(!s||!i)return;const{ai_qna_intro_onboarding_phase:o,ai_assistant_onboarding_phase:r,ai_assistant_onboarding_phase_last_set_at:c,ai_assistant_tooltips_onboarding_phase:l,ai_sales_assisted_extra_notification_seen_at:d,last_exposed_to_ai_qna_at:u,qna_reminders_shown_at:p}=s;return{isSalesAssisted:a(e,i.id),relevantUserSettings:{ai_qna_intro_onboarding_phase:o,ai_assistant_onboarding_phase:r,ai_assistant_tooltips_onboarding_phase:l,ai_assistant_onboarding_phase_last_set_at:c,ai_sales_assisted_extra_notification_seen_at:d,last_exposed_to_ai_qna_at:u,qna_reminders_shown_at:p}}}))},676370:(e,t,n)=>{n.d(t,{CT:()=>a,uv:()=>s,zj:()=>i});const i=["ai_unified_find_search_modal","ai_unified_find_chat","ai_chat_with_model","ai_assistant_limit_in_app","ai_autofill_fill_all_pages","ai_autofill_bulk_fill","ai_autofill_on_page_edit","ai_autofill_try_on_view","ai_limit_in_app","ai_limit_property_autofill","ai_limit_sidebar","ai_limit_settings","ai_limited_qna_no_results","ai_limited_qna_upsell_action_button","ai_qna_waitlist","ai_qna_limit_in_app","ai_upsell_notice","ai_upsell_settings","ai_page_translation","ai_plans_page"],s=["ai_research_mode"],a=["ai_meeting_notes"]},704156:(e,t,n)=>{n.d(t,{a:()=>O});n(944114),n(581454);var i=n(296540),s=()=>n(484714),a=()=>n(852507),o=()=>n(56366),r=()=>n(401497),c=()=>n(902006),l=()=>n(883082),d=()=>n(73956),u=()=>n(846899),p=()=>n(959013),g=()=>n(534177),m=()=>n(987267),h=()=>n(323714),f=()=>n(634877),v=()=>n(916727),b=()=>n(331542),y=()=>n(864943),S=()=>n(21140),_=()=>n(229533),x=()=>n(176983),w=()=>n(765957),A=()=>n(230168),j=()=>n(825355),C=()=>n(760217),k=()=>n(928600),I=()=>n(939740),M=()=>n(89924),T=()=>n(722872),P=n(474848);function N(e){const{items:t}=e,n=(0,r().IS)((e=>({option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},caption:{color:e.text.tertiary,fontSize:12,textWrap:"wrap"}})),[]),i=e=>{const{key:t,component:i,caption:s,icon:a,iconElement:o,disabled:r,action:c,labelStyleOverride:l,captionStyleOverride:d,iconStyleOverride:u,body:p}=e,g=a?a({width:12,height:12}):o;return{key:t,action:()=>{c()},render:e=>(0,P.jsx)(C().A,{...e,style:n.option,title:i,titleStyle:l??n.optionLabel,captionStyle:d??n.caption,caption:s,disabled:r,left:g,leftStyle:u,body:p})}},s=t.map(((e,t)=>({key:e.key,render:e=>(0,P.jsx)(M().A,{...e,topBorder:0!==t}),items:[i(e)]})));return(0,P.jsx)(k().A,{menuType:T().gu.Popup,minWidth:230,children:(0,P.jsx)(I().Ay,{type:I().Oh.Vertical,sections:s,initialFocus:void 0})})}function O(e){const{parent:t,callGetStatusAPI:n,connector:C,connectionStatus:k}=e,I=Boolean(n),[M,T]=i.useState(I),O=(0,r().IS)((e=>({connectedStatusIcon:{width:16,height:16,fill:e.icon.tertiary},connectingStatusIcon:{width:16,height:16,fill:e.icon.uiBluePrimary}})),[]),W=(0,x().J)(),B=(0,o().O$)(f().NT[C]),F=(0,o().K8)((()=>(0,_().zM)(C)),[C]),L=(0,o().K8)((()=>(0,_().UK)(C)),[C]),{analyticsFrom:E}=B,D=(0,o().O$)(w().AppStoreCurrentSpaceStore),R=(0,s().v3)();(0,a().l)((async()=>{D&&I&&(T(!0),await(0,f().Vn)(C)({environment:R,spaceId:D.getSpaceId()}),T(!1))}));const z=(0,i.useMemo)((()=>{const e=[];return"action_required"!==k.type&&e.push(k.type),"action_required"===k.type&&"sharepoint_select_sites"===k.action&&e.push("sharepoint_select_sites"),"action_required"===k.type&&("slack_re_auth"===k.action||"github_re_auth"===k.action)||F?e.push("authentication_required"):"connected"!==k.type||"github"!==C&&"slack"!==C||e.push("authenticated_with_logout_option"),(W||(0,c().q1)(C))&&"disconnecting"!==k.type&&"in_progress"!==k.type&&e.push("settings"),e}),[k,F,W,C]);return M?(0,P.jsx)(S().Ye,{style:{width:200,height:50,justifyContent:"center",alignItems:"center"},children:(0,P.jsx)(b().A,{})}):(0,P.jsx)(N,{items:z.map((e=>"in_progress"===e?{key:"ingestion-status-connecting",component:(0,P.jsx)(p().sA,{id:"assistantOverflowMenu.ingestion.connecting",defaultMessage:"Connecting..."}),caption:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)("div",{children:(0,P.jsx)(p().sA,{id:"assistantOverflowMenu.ingestion.subtext",defaultMessage:"This can take up to {hours} hours",values:{hours:(0,v().iu)(C)}})}),"in_progress"===k.type&&k.ingestionProgress?(0,P.jsx)("div",{children:(0,P.jsx)(p().sA,{id:"assistantOverflowMenu.ingestion.subtextWithPercent",defaultMessage:"{percentComplete}% complete",values:{percentComplete:k.ingestionProgress}})}):void 0]}),iconElement:(0,l().H)(O.connectingStatusIcon),disabled:!0,action:()=>{}}:"connected"===e?{key:"ingestion-status-connected",component:(0,P.jsx)(p().sA,{id:"assistantOverflowMenu.ingestion.connected",defaultMessage:"Connected"}),caption:(0,P.jsx)(U,{connector:C,orgName:L}),iconElement:(0,d().checkmarkFillSmallIcon)(O.connectedStatusIcon),disabled:!0,action:()=>{}}:"disconnecting"===e?{key:"ingestion-status-disconnecting",component:(0,P.jsx)(p().sA,{id:"assistantOverflowMenu.ingestion.disconnecting",defaultMessage:"Disconnecting {connector}",values:{connector:m().w0[C]}}),caption:(0,P.jsx)(p().sA,{id:"assistantOverflowMenu.ingestion.disconnecting.subtext",defaultMessage:"This can take up to 3 hours."}),iconElement:(0,l().H)(O.connectingStatusIcon),disabled:!0,action:()=>{}}:"authentication_required"===e?{key:"ingestion-status-personal-auth-not-complete",component:("slack"===C||"github"===C)&&(0,P.jsx)(j().cy,{connector:C,parent:t,showDismiss:!1,shouldDismiss:!1}),disabled:!0,action:()=>{}}:"authenticated_with_logout_option"===e?{key:"ingestion-status-logged-in",component:(0,P.jsx)(p().sA,{id:"assistantOverflowMenu.ingestion.logged_in",defaultMessage:"Logged in"}),caption:(0,P.jsx)(p().sA,{id:"assistantOverflowMenu.ingestion.logged_in.subtext",defaultMessage:"Your {connector} user is connected to Notion AI.",values:{connector:m().w0[C]}}),body:(0,P.jsx)(y().A,{onClick:()=>{const e=w().default.state.currentSpaceViewStore;e&&"github"===C&&(0,h().disconnectConnectorPersonalAuth)({connector:C,currentSpaceViewStore:e,environment:R})},children:(0,P.jsx)(p().sA,{id:"assistantOverflowMenu.ingestion.logged_in.disconnect",defaultMessage:"Disconnect"})}),iconElement:(0,d().checkmarkFillSmallIcon)(O.connectedStatusIcon),disabled:!0,action:()=>{}}:"sharepoint_select_sites"===e?{key:"ingestion-status-sharepoint-select-sites",component:(0,P.jsx)(A()._u,{canAdmin:W}),disabled:!0,action:()=>{}}:"settings"===e?{key:"ingestion-status-settings",component:(0,P.jsx)(p().sA,{id:"assistantOverflowMenu.ingestion.settings",defaultMessage:"Settings"}),icon:u().B,disabled:!1,action:()=>{null==t||t.close(),(0,h().navigateToAIConnectorSettingsScreen)({connector:C,analyticsFrom:E,sessionId:B.sessionId})}}:void(0,g().HB)(e)))})}function U(e){const{connector:t,orgName:n}=e;return"gmail"===t||"google-drive"===t?n?(0,P.jsx)(p().sA,{id:"assistantOverflowMenu.ingestion.connected.subtext.googleWorkspace",defaultMessage:"Google Workspace {orgName} is connected to Notion.",values:{connector:m().w0[t],orgName:n}}):(0,P.jsx)(p().sA,{id:"assistantOverflowMenu.ingestion.connected.subtext.googleWorkspace.withoutOrgName",defaultMessage:"{connector} is connected to Notion.",values:{connector:m().w0[t]}}):"github"===t?n?(0,P.jsx)(p().sA,{id:"assistantOverflowMenu.ingestion.connected.subtext.github",defaultMessage:"{connector} organization {orgName} is connected to Notion.",values:{connector:m().w0[t],orgName:n}}):(0,P.jsx)(p().sA,{id:"assistantOverflowMenu.ingestion.connected.subtext.github.withoutOrgName",defaultMessage:"{connector} is connected to Notion.",values:{connector:m().w0[t]}}):(0,P.jsx)(p().sA,{id:"assistantOverflowMenu.ingestion.connected.subtext",defaultMessage:"{connector} workspace{maybeOrgName} is connected to Notion.",values:{connector:m().w0[t],maybeOrgName:n?` ${n}`:""}})}},803960:(e,t,n)=>{n.r(t),n.d(t,{arrowChevronSingleDownIcon:()=>s,iconDefinition:()=>i});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"3.97 6.97 12.06 6.66",svg:(0,n(474848).jsx)("path",{d:"M9.558 13.442c.244.244.64.244.884 0l5.4-5.4a.625.625 0 1 0-.884-.884L10 12.116 5.042 7.158a.625.625 0 0 0-.884.884z"})},s=(0,n(340498).wt)("arrowChevronSingleDown",i)},825355:(e,t,n)=>{n.d(t,{cy:()=>y});var i=n(296540),s=()=>n(484714),a=()=>n(852507),o=()=>n(56366),r=()=>n(959013),c=()=>n(915308),l=()=>n(751156),d=()=>n(987267),u=()=>n(2220),p=()=>n(229533),g=()=>n(47170),m=()=>n(765957),h=()=>n(230168),f=n(474848);const v={github:n(291075).o,slack:n(174636).R},b={github:"dismissed_github_personal_auth_prompt",slack:"dismissed_slack_personal_auth_prompt"};function y(e){let{connector:t,showDismiss:n,shouldDismiss:y,parent:S,minimizePopup:_,hideNotification:x}=e;const[w,A]=(0,i.useState)(!1),j=(0,o().K8)((()=>v[t].state),[t]),C=(0,g().O)(),k=(0,s().v3)(),I=(0,o().K8)((()=>m().default.state.currentUserSettingsStore),[]),{isMobile:M}=(0,s().Y0)(),T=(0,o().O$)(m().AppStoreCurrentSpaceViewStore),P=d().w0[t],N=(0,i.useCallback)((()=>{if(!I||!T)return;if(!y)return;const e=b[t];l().createAndCommit({userAction:`AIConnector.${t}.onboarding.dismissPersonalAuthPrompt`,environment:k,canUndo:!0,perform:t=>{l().applyOperation({store:T,operation:{pointer:T.pointer,path:["settings"],command:"update",args:{...T.getSettings(),[e]:!0}},transaction:t})}})}),[I,T,k,t,y]),O=(0,i.useCallback)((()=>{(0,u().u)({environment:k,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"user_auth_dismiss",integration_type:t,setup_session_id:j.sessionId,from:"connect_nudge"}}}),v[t].setState({...j,forceShowAuthNotificationTriggeredAt:void 0}),N()}),[N,k,j,t]),U=(0,o().K8)((()=>(0,p().UK)(t)),[t]),W=n?"connect_nudge":"chat_menu";(0,a().l)((()=>{(0,u().u)({environment:k,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:`show_${t}_personal_auth_prompt`,integration_type:t,setup_session_id:j.sessionId,from:W}}})}));const B=M?void 0:{label:(0,f.jsx)(r().sA,{id:"assistantChat.ingestion.ctaForConnectorPersonalAuth",defaultMessage:"Log in"}),onClick:async()=>{if(!C)return;const e=Boolean(j.forceShowAuthNotificationTriggeredAt);v[t].setState({...j,analyticsFrom:W,forceShowAuthNotificationTriggeredAt:void 0}),e||null==x||x(`${t}_re_auth`),A(!0),await c().tt({connector:t,environment:k,spaceId:C,analyticsProperties:{buttonName:"user_auth_connect"},onAuthSuccess:()=>{null==S||S.close(),null==_||_()}}),A(!1)},disabled:w};return(0,f.jsx)(h().Mp,{type:"error",title:(0,f.jsx)(r().sA,{id:"assistantChat.ingestion.connectionStatusActionRequiredForLogin",defaultMessage:"Log in to {connectorName}",values:{connectorName:P}}),caption:(0,f.jsx)(r().sA,{id:"assistantChat.ingestion.connectionStatusActionRequiredForLoginDescription",defaultMessage:"Authenticate to get answers from {orgName}",values:{orgName:U}}),actionButton:B,onDismiss:n?O:void 0})}},849974:(e,t,n)=>{n.d(t,{y:()=>s});n(296540);var i=n(474848);const s=(0,n(340498).wt)("sync",{viewBox:"0 0 21 21",directional:!0,svg:(0,i.jsx)("path",{d:"M10.4913 20.6992C9.12373 20.6992 7.83685 20.4378 6.63059 19.9151C5.42433 19.3988 4.35999 18.6792 3.43755 17.7563C2.52157 16.8335 1.80233 15.7686 1.27984 14.5618C0.757342 13.3549 0.496094 12.0674 0.496094 10.6992C0.496094 9.33103 0.757342 8.04352 1.27984 6.83668C1.80233 5.62984 2.52157 4.56821 3.43755 3.65178C4.35999 2.72891 5.42111 2.00609 6.62091 1.48334C7.82717 0.960593 9.11406 0.699219 10.4816 0.699219C11.8556 0.699219 13.1457 0.960593 14.3519 1.48334C15.5582 2.00609 16.6225 2.72891 17.545 3.65178C18.4674 4.56821 19.1899 5.62984 19.7124 6.83668C20.2348 8.04352 20.4961 9.33103 20.4961 10.6992C20.4961 12.0674 20.2348 13.3549 19.7124 14.5618C19.1899 15.7686 18.4674 16.8335 17.545 17.7563C16.6225 18.6792 15.5582 19.3988 14.3519 19.9151C13.1457 20.4378 11.8588 20.6992 10.4913 20.6992ZM10.53 16.1784C11.1363 16.1784 11.7201 16.0848 12.2813 15.8977C12.8425 15.7105 13.3295 15.4524 13.7423 15.1232C13.9939 14.9232 14.1455 14.7005 14.1971 14.4553C14.2552 14.21 14.1971 13.9906 14.0229 13.797C13.8552 13.5969 13.6585 13.4937 13.4327 13.4872C13.2069 13.4808 12.9812 13.555 12.7554 13.7099C12.42 13.968 12.0749 14.1649 11.7201 14.3004C11.3653 14.4295 10.9686 14.494 10.53 14.494C9.91716 14.494 9.34628 14.3714 8.81733 14.1261C8.29484 13.8744 7.84975 13.5356 7.48206 13.1097C7.11438 12.6773 6.85636 12.1868 6.708 11.6382H7.6659C7.91103 11.6382 8.06261 11.5414 8.12067 11.3478C8.18518 11.1542 8.14647 10.9606 8.00456 10.767L6.39837 8.5695C6.25646 8.37589 6.07906 8.27908 5.8662 8.27908C5.65978 8.27263 5.48239 8.36943 5.33402 8.5695L3.74718 10.767C3.61172 10.9606 3.57302 11.1542 3.63107 11.3478C3.68913 11.5414 3.84072 11.6382 4.08584 11.6382H5.0631C5.22436 12.5353 5.55979 13.3259 6.06939 14.01C6.58543 14.6941 7.22727 15.2265 7.99488 15.6073C8.7625 15.988 9.60753 16.1784 10.53 16.1784ZM10.5203 5.19099C9.91393 5.19099 9.33015 5.28457 8.76895 5.47173C8.20775 5.65888 7.72074 5.92026 7.3079 6.25585C7.04988 6.44946 6.89506 6.67211 6.84346 6.92381C6.7983 7.16905 6.85958 7.38525 7.0273 7.5724C7.19501 7.77247 7.39176 7.87895 7.61753 7.89186C7.8433 7.89832 8.06907 7.82087 8.29484 7.65953C8.63027 7.40783 8.97215 7.21745 9.32048 7.08838C9.67526 6.95285 10.0752 6.88509 10.5203 6.88509C11.1331 6.88509 11.7007 7.01093 12.2232 7.26263C12.7457 7.50787 13.1908 7.84669 13.5585 8.27908C13.9262 8.70503 14.1842 9.19228 14.3326 9.74084H13.336C13.0844 9.74084 12.9296 9.83765 12.8715 10.0313C12.8135 10.2249 12.8554 10.4153 12.9973 10.6024L14.6035 12.8096C14.739 12.9967 14.9131 13.0935 15.126 13.1C15.3389 13.1064 15.5195 13.0096 15.6678 12.8096L17.2547 10.6024C17.3901 10.4088 17.4288 10.2184 17.3708 10.0313C17.3192 9.83765 17.1676 9.74084 16.916 9.74084H15.9871C15.8259 8.84378 15.4872 8.05643 14.9712 7.37879C14.4616 6.6947 13.823 6.15904 13.0554 5.77182C12.2877 5.3846 11.4427 5.19099 10.5203 5.19099Z"})})},874963:(e,t,n)=>{n.d(t,{f:()=>s});n(296540);var i=n(474848);const s=(0,n(340498).wt)("openTeamSearch",{viewBox:"0 0 16 14",svg:(0,i.jsx)("path",{d:"M9.506 13.342h4.447c.348 0 .621-.11.82-.328.2-.22.3-.516.3-.891V4.852c0-.375-.1-.67-.3-.885-.199-.219-.472-.328-.82-.328H9.922v1.136h3.709c.101 0 .178.026.228.077.051.05.076.127.076.228v6.815c0 .101-.025.177-.076.228-.05.05-.127.076-.228.076H9.506v1.143zm2.28-6.358h.925c.129 0 .193-.064.193-.193v-.896c0-.133-.064-.2-.193-.2h-.926c-.125 0-.187.067-.187.2v.896c0 .129.062.193.187.193zm0 2.168h.925c.129 0 .193-.066.193-.199v-.896c0-.133-.064-.2-.193-.2h-.926c-.125 0-.187.067-.187.2v.896c0 .133.062.2.187.2zm0 2.163h.925c.129 0 .193-.067.193-.2v-.896c0-.13-.064-.194-.193-.194h-.926c-.125 0-.187.065-.187.194v.896c0 .133.062.2.187.2zm-10.864.808c0 .375.1.672.299.89.199.22.474.329.826.329H9.44c.348 0 .621-.11.82-.328.204-.22.305-.516.305-.891V1.928c0-.38-.101-.676-.304-.89-.2-.22-.473-.329-.82-.329H2.046c-.352 0-.627.11-.826.328-.2.215-.3.512-.3.89v10.196zm1.142-.228V2.162c0-.105.026-.183.077-.234.05-.051.127-.076.228-.076h6.75c.102 0 .178.025.229.076.05.05.076.129.076.234v9.733c0 .101-.026.177-.076.228-.051.05-.127.076-.229.076H2.37c-.101 0-.178-.025-.228-.076-.051-.05-.077-.127-.077-.228zm1.588.85h.891v-1.946c0-.117.06-.176.182-.176h2.039c.12 0 .181.059.181.176v1.945h.89V10.5c0-.25-.058-.435-.175-.557-.117-.125-.295-.187-.533-.187H4.36c-.238 0-.416.062-.533.187-.117.122-.176.307-.176.557v2.244zm.17-8.362h1.12c.156 0 .234-.078.234-.235v-1.09c0-.156-.078-.234-.235-.234H3.822c-.148 0-.222.078-.222.235v1.09c0 .156.074.234.222.234zm2.719 0h1.12c.152 0 .228-.078.228-.235v-1.09c0-.156-.077-.234-.229-.234H6.541c-.152 0-.229.078-.229.235v1.09c0 .156.077.234.229.234zM3.822 6.627h1.12c.156 0 .234-.078.234-.234V5.309c0-.157-.078-.235-.235-.235H3.822c-.148 0-.222.078-.222.235v1.084c0 .156.074.234.222.234zm2.719 0h1.12c.152 0 .228-.078.228-.234V5.309c0-.157-.077-.235-.229-.235H6.541c-.152 0-.229.078-.229.235v1.084c0 .156.077.234.229.234zm-2.719 2.25h1.12c.156 0 .234-.08.234-.24V7.553c0-.157-.078-.235-.235-.235H3.822c-.148 0-.222.078-.222.235v1.084c0 .16.074.24.222.24zm2.719 0h1.12c.152 0 .228-.08.228-.24V7.553c0-.157-.077-.235-.229-.235H6.541c-.152 0-.229.078-.229.235v1.084c0 .16.077.24.229.24z"})})},883082:(e,t,n)=>{n.d(t,{H:()=>s});n(296540);const i={viewBox:"0 0 17 16",fittedViewBox:"-0.02 1.74 16.11 12.51",svg:(0,n(474848).jsx)("path",{d:"m3.303 8.778.523-.522a.75.75 0 0 1 1.06 1.06L3.083 11.12a.75.75 0 0 1-1.06 0L.22 9.316a.75.75 0 1 1 1.06-1.06l.523.522V8a6.25 6.25 0 0 1 9.752-5.178.75.75 0 1 1-.842 1.242A4.75 4.75 0 0 0 3.303 8zm11-1.556.523.522a.75.75 0 0 0 1.06-1.06L14.085 4.88a.75.75 0 0 0-1.061 0L11.22 6.684a.75.75 0 0 0 1.06 1.06l.523-.522V8a4.75 4.75 0 0 1-7.41 3.936.75.75 0 1 0-.841 1.242A6.25 6.25 0 0 0 14.303 8z"})},s=(0,n(340498).wt)("arrowCircleLoopFillSmall",i)},900615:(e,t,n)=>{n.d(t,{f:()=>x});var i=n(296540),s=()=>n(484714),a=()=>n(56366),o=()=>n(401497),r=()=>n(25729),c=()=>n(132855),l=()=>n(534177),d=()=>n(284371),u=()=>n(640653),p=()=>n(949305),g=()=>n(47170),m=()=>n(58293),h=()=>n(329304),f=()=>n(179030),v=()=>n(460292),b=()=>n(554509),y=()=>n(864943),S=()=>n(21140),_=n(474848);function x(e){const{upgradeRequestAnalyticsEntrypoint:t,upgradeRequestEntrypoint:n,sunsetCheckSource:x,additionalOnClickUpgrade:w}=e,A=(0,g().O)(),j=(0,s().v3)().currentUser.id,C=(0,h()._X)({name:"ai_connectors",spaceId:A,userId:j}),{upsellMessage:k,upsellHeader:I,actionButtonMsg:M,actionForFeatureAvailability:T,isSunset:P}=(0,p().x)({featureAvailability:C,upgradeRequestAnalyticsEntrypoint:t,upgradeRequestEntrypoint:n,upsellFrom:"ai_connectors_sunset_banner",sunsetCheckSource:x}),N=(0,i.useCallback)((()=>{T&&T(),w&&w()}),[T,w]),O=(0,m().r)(),U=(0,a().K8)((()=>!!O&&(0,u().p4)(O)),[O]),W=(0,o().IS)((e=>({title:{fontSize:d().J.UIRegular.desktop,fontWeight:d().Wy.regular,color:e.text.secondary},wrapperStyle:"assistant_overflow_menu_add_connectors"===x?{padding:"3px 0px 0px 0px"}:"ai_settings_banner"===x?{marginBottom:24}:"ai_connectors_modal"===x?{padding:"0px 20px"}:{}})),[x]),{bannerIcon:B,bannerLabel:F,bannerDescription:L,bannerActions:E}=(0,i.useMemo)((()=>{switch(x){case"assistant_overflow_menu_add_connectors":return{bannerIcon:void 0,bannerLabel:(0,_.jsxs)(S().Ye,{gap:8,alignItems:"center",children:[(0,_.jsx)(v().Q,{iconGroup:r().k,variantName:"fill",colorName:"uiBluePrimary"}),(0,_.jsx)("div",{style:{maxWidth:360,whiteSpace:"pre-wrap"},children:I})]}),bannerDescription:(0,_.jsx)("div",{style:{maxWidth:360,whiteSpace:"pre-wrap"},children:k}),bannerActions:[{isCustom:!0,render:()=>(0,_.jsx)(y().A,{onClick:N,children:(0,_.jsx)(b().D,{styleName:"UIRegular-14px/Medium",colorName:"primary",children:M})})}]};case"ai_settings_banner":return{bannerIcon:void 0,bannerLabel:(0,_.jsxs)(S().Ye,{alignItems:"center",justifyContent:"space-between",style:{marginBottom:-4},children:[(0,_.jsxs)(S().Ye,{gap:8,alignItems:"center",children:[(0,_.jsx)(v().Q,{iconGroup:r().k,variantName:"fill",colorName:"uiBluePrimary"}),(0,_.jsx)("div",{style:W.title,children:k})]}),(0,_.jsx)(y().A,{onClick:N,children:(0,_.jsx)(b().D,{styleName:"UIRegular-14px/Medium",colorName:"primary",children:M})})]}),bannerDescription:void 0,bannerActions:void 0};case"ai_connectors_modal":return{bannerIcon:c().arrowInCircleUpFillIcon,bannerLabel:I,bannerDescription:k,bannerActions:[{isCustom:!0,render:()=>(0,_.jsx)(y().A,{onClick:N,children:(0,_.jsx)(b().D,{styleName:"UIRegular-14px/Medium",colorName:"primary",children:M})})}]};default:(0,l().HB)(x)}}),[x,I,k,M,N,W]);return P&&T&&U&&C?(0,_.jsx)("div",{style:W.wrapperStyle,children:(0,_.jsx)(f().l,{staticIcon:B,iconColor:"uiBluePrimary",display:"inline",tint:"gray",label:F,description:L,actions:E})}):null}},915308:(e,t,n)=>{n.d(t,{Df:()=>C,G:()=>w,R:()=>A,R2:()=>_,Rr:()=>M,Zh:()=>k,bS:()=>T,nh:()=>b,ol:()=>P,oz:()=>y,tt:()=>x,vq:()=>j,zn:()=>I,zr:()=>S});var i=()=>n(206267),s=()=>n(534177),a=()=>n(323714),o=()=>n(634877),r=()=>n(2220),c=()=>n(174636),l=()=>n(972435),d=()=>n(92383),u=()=>n(479350),p=()=>n(449506),g=()=>n(874913),m=()=>n(957416),h=()=>n(436572),f=()=>n(751156);const v=(0,n(959013).YK)({userOverwritePopupTitle:{id:"slackConnectionOptions.overwriteEmail.title",defaultMessage:"User Authorization"},githubAIConnectorOauthPopupTitle:{id:"githubAIConnector.oauthPopup.title",defaultMessage:"GitHub Authentication"},jiraAIConnectorOauthPopupTitle:{id:"jiraAIConnector.oauthPopup.title",defaultMessage:"Jira Authentication"}});function b(){c().R.setState({...c().R.state,currentScreen:"settings"})}function y(){d().E.setState({...d().E.state,currentScreen:"settings"})}function S(){u().E.setState({...u().E.state,currentScreen:"connection_complete_screen"})}function _(e){const{environment:t,currentSpaceViewStore:n,analyticsProperties:i}=e,{analyticsFrom:s,buttonName:a,sessionId:o}=i;(0,r().u)({environment:t,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:a,integration_type:"slack",setup_session_id:o,from:s}}}),f().createAndCommit({userAction:"slackAIConnector.onboarding.dismissPersonalAuthPrompt",environment:t,canUndo:!0,perform:e=>{f().applyOperation({store:n,operation:{pointer:n.pointer,path:["settings"],command:"update",args:{...n.getSettings(),dismissed_slack_personal_auth_prompt:!0}},transaction:e})}})}async function x(e){const{environment:t,spaceId:n,onAuthSuccess:i,analyticsProperties:a,connector:c}=e,{buttonName:l}=a,d=o().NT[c].state;if((0,r().u)({environment:t,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:l,integration_type:c,setup_session_id:d.sessionId,from:a.analyticsFrom??d.analyticsFrom}}}),"github"===c){const e=await p().callApi({eventName:"getGithubUserAuthUrl",environment:t,data:{spaceId:n,isDesktop:t.device.isElectron,sessionId:d.sessionId}});"success"===e.type&&(t.device.isElectron?g().openExternalUrl(e.data.url):(m().P(t,{width:800,height:600,url:e.data.url,titleMessage:v.githubAIConnectorOauthPopupTitle}),null==i||i()))}else if("slack"===c){const e=await p().callApi({eventName:"getSlackIngestionAuthorizeUrl",environment:t,data:{spaceId:n,isAdminAuth:!1,isDesktopApp:t.device.isElectron,isUserMapping:!0}});"success"===e.type&&(t.device.isElectron?g().openExternalUrl(e.data.url):await m().P(t,{width:800,height:600,url:e.data.url,titleMessage:v.userOverwritePopupTitle}))}else(0,s().HB)(c)}function w(e){const{analyticsFrom:t,screenToShow:n}=e,s=e.sessionId??i().JW();u().E.setState({...u().E.state,analyticsFrom:t,currentScreen:n,sessionId:s})}async function A(e){const{environment:t,spaceId:n,jiraApiToken:i,jiraSiteUrl:s}=e;return"success"!==(await p().callApi({eventName:"authenticateJiraAiConnector",environment:t,data:{spaceId:n,jiraApiToken:i,jiraSiteUrl:s}})).type?{status:"failed"}:{status:"success"}}async function j(e){const{environment:t,spaceId:n,projectSelection:i}=e,s=await p().callApi({eventName:"setJiraSelection",environment:t,data:{spaceId:n,...i}});var a;return"failed"!==s.type||("NO_CHANGES"===(null===(a=s.error)||void 0===a||null===(a=a.data)||void 0===a||null===(a=a.responseBody)||void 0===a?void 0:a.debugMessage)?(h().D6({label:l().A.getIntl().formatMessage({defaultMessage:"No changes to the selection",id:"jira.v2.project.selection.no_changes"}),position:"bottom"}),!1):(h().D6({label:l().A.getIntl().formatMessage({defaultMessage:"Something went wrong. Please try again.",id:"jira.v2.project.selection.failed"}),position:"bottom"}),!1))}async function C(e){const{environment:t,spaceId:n}=e,i=await p().callApi({eventName:"getJiraSelection",environment:t,data:{spaceId:n}});if("success"===i.type)return u().E.setState({...u().E.state,syncControl:i.data}),i.data}async function k(e){const{environment:t,spaceId:n,analyticsProperties:i}=e,s=await p().callApi({eventName:"startIngestion",environment:t,data:{connector:"jira",spaceId:n,setupSessionId:i.sessionId}});"failed"===s.type||"success"===s.type&&!s.data.success?h().D6({label:l().A.getIntl().formatMessage({defaultMessage:"Something went wrong. Please try again.",id:"jira.v2.sync.failed"}),position:"bottom"}):(h().D6({label:l().A.getIntl().formatMessage({defaultMessage:"Jira sync started. This can take up to 36 hours.",id:"jira.v2.sync.started"}),position:"bottom"}),u().E.setState({...u().E.state,jiraSyncState:"in_progress"}))}async function I(e){const{environment:t,spaceId:n}=e;"failed"!==(await p().callApi({eventName:"startJiraAIV2Editflow",environment:t,data:{spaceId:n}})).type?(h().D6({label:l().A.getIntl().formatMessage({defaultMessage:"Editing Jira connection. This can take up to 36 hours.",id:"jira.v2.editflow.started"}),position:"bottom"}),u().E.setState({...u().E.state,jiraSyncState:"editing",jiraSyncProgress:0})):h().D6({label:l().A.getIntl().formatMessage({defaultMessage:"Something went wrong. Please try again.",id:"jira.v2.editflow.failed"}),position:"bottom"})}async function M(e){const{environment:t,spaceId:n}=e;"failed"!==(await p().callApi({eventName:"disconnectAiConnector",environment:t,data:{spaceId:n,connector:"jira"}})).type?(h().D6({label:l().A.getIntl().formatMessage({defaultMessage:"Started disconnecting Jira. This can take up to 3 hours.",id:"jira.v2.disconnect.started"}),position:"bottom"}),u().E.setState({...u().E.state,jiraSyncState:"disconnecting",isDisconnecting:!0})):h().D6({label:l().A.getIntl().formatMessage({defaultMessage:"Something went wrong. Please try again.",id:"jira.v2.disconnect.failed"})})}function T(e){const{spaceId:t,environment:n,analyticsProperties:i}=e;t&&((0,r().u)({environment:n,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:"user_jira_resume_pending_connection",integration_type:"jira",setup_session_id:i.sessionId,from:i.analyticsFrom}}}),(0,a().navigateToAIConnectorOnboarding)({connector:"jira",analyticsFrom:i.analyticsFrom,sessionId:i.sessionId}))}async function P(e){const{environment:t,spaceId:n,analyticsProperties:i}=e,{analyticsFrom:s,buttonName:a,sessionId:o}=i;(0,r().u)({environment:t,event:{eventName:"universal_qna_button_click",eventProperties:{button_name:a,integration_type:"jira",setup_session_id:o,from:s}}});const c=await p().callApi({eventName:"getJiraUserAuthUrl",environment:t,data:{spaceId:n,isDesktop:t.device.isElectron,sessionId:o}});"success"===c.type&&(t.device.isElectron?g().openExternalUrl(c.data.url):m().P(t,{width:800,height:600,url:c.data.url,titleMessage:v.jiraAIConnectorOauthPopupTitle}))}},916727:(e,t,n)=>{n.d(t,{Iu:()=>je,aV:()=>Ce,KZ:()=>Ee,iu:()=>Oe,LR:()=>ke});n(944114),n(898992),n(354520),n(581454);var i=n(296540),s=()=>n(484714),a=()=>n(56366),o=()=>n(401497),r=()=>n(203717),c=()=>n(883082),l=()=>n(73956),d=()=>n(765974),u=()=>n(212727),p=()=>n(73822),g=()=>n(562403),m=()=>n(762433),h=()=>n(959013),f=()=>n(534177),v=()=>n(284371),b=()=>n(915308),y=()=>n(901389),S=()=>n(246826),_=()=>n(751156),x=()=>n(987267),w=()=>n(843014),A=()=>n(96563),j=()=>n(634877),C=()=>n(2220),k=()=>n(704156),I=()=>n(51218),M=()=>n(154585),T=()=>n(849974),P=()=>n(846899),N=()=>n(413267),O=()=>n(693954),U=()=>n(760217),W=()=>n(928600),B=()=>n(939740),F=()=>n(89924),L=()=>n(21140),E=()=>n(722872),D=()=>n(176983),R=()=>n(479350),z=n(474848);function q(e){const{parent:t,from:n}=e,i=(0,o().IS)((e=>({bannerLikeIcon:{width:16,height:16,fill:e.blueColor,alignSelf:"flex-start",marginBottom:48,marginRight:4},caption:{color:e.text.tertiary,fontSize:v().J.UISmall.desktop,textWrap:"wrap"},option:{paddingTop:4,paddingBottom:4},optionLabel:{fontSize:14,marginBottom:2},disabledOptionLabel:{color:e.text.tertiary,fontSize:14,marginBottom:2}})),[]),s=(0,D().J)(),r=(0,a().K8)((()=>R().E.state.jiraSyncState),[]),c=(0,a().K8)((()=>R().E.state.analyticsFrom),[]),l="completed"===r,d=[{key:"jira-connection-section",render:e=>(0,z.jsx)(F().A,{...e}),items:[{key:"jira-ingestion-status-connecting",label:(0,z.jsx)(h().sA,{id:"assistantOverflowMenu.jiraIngestion.connecting",defaultMessage:"Connecting"}),caption:(0,z.jsx)(h().sA,{id:"assistantOverflowMenu.jiraIngestion.subtext",defaultMessage:"Your workspace owner is connecting Jira. This can take up to 36 hours"}),iconElement:(0,z.jsx)(z.Fragment,{children:(0,T().y)(i.bannerLikeIcon)}),disabled:!0,hidden:!("in_progress"===r||"editing"===r||"pending_installation"===r),action:()=>{}},{key:"jira-ingestion-status-connected",label:(0,z.jsx)(h().sA,{id:"assistantOverflowMenu.jiraIngestion.connected",defaultMessage:"Connected"}),caption:(0,z.jsx)(h().sA,{id:"assistantOverflowMenu.jiraIngestion.connected.subtext",defaultMessage:"Connected by workspace owner"}),icon:N().b,disabled:!0,hidden:!l,action:()=>{}},{key:"jira-ingestion-disconnect",label:(0,z.jsx)(h().sA,{id:"assistantOverflowMenu.jiraIngestion.disconnect",defaultMessage:"Disconnecting..."}),caption:(0,z.jsx)(h().sA,{id:"assistantOverflowMenu.jiraIngestion.disconnecting.subtext",defaultMessage:"Your workspace owner has disconnected Jira. This can take up to 3 hours."}),iconElement:(0,z.jsx)(z.Fragment,{children:(0,T().y)(i.bannerLikeIcon)}),disabled:!0,hidden:"disconnecting"!==r,action:()=>{}},{key:"jira-ingestion-settings",label:(0,z.jsx)(h().sA,{id:"assistantOverflowMenu.jiraIngestion.settings",defaultMessage:"Settings"}),icon:P().B,disabled:!1,hidden:"completed"!==r||!s,action:()=>{null==t||t.close(),b().G({screenToShow:"settings",analyticsFrom:n||c||"chat_menu"})}},{key:"jira-select-projects",label:(0,z.jsx)(h().sA,{id:"assistantOverflowMenu.jiraIngestion.selectProjects",defaultMessage:"Select projects"}),icon:O().Q,disabled:!1,hidden:"pending_selection"!==r,action:()=>{null==t||t.close(),b().G({screenToShow:"connection_complete_screen",analyticsFrom:n||c||"chat_menu"})}}].filter((e=>!e.hidden)).map((e=>{const{key:t,label:n,caption:s,icon:a,iconElement:o,disabled:r,action:c,labelStyleOverride:l,captionStyleOverride:d,iconStyleOverride:u}=e,p=a?a({width:12,height:12}):o;return{key:t,action:()=>c(),render:e=>(0,z.jsx)(U().A,{...e,disabled:r,title:(0,z.jsx)(L().Ye,{children:(0,z.jsxs)("div",{style:i.option,children:[(0,z.jsx)("div",{style:l??(r?i.disabledOptionLabel:i.optionLabel),children:n}),s&&(0,z.jsx)("div",{style:d??i.caption,children:s})]})}),left:p,leftStyle:u})}}))}];return(0,z.jsx)(W().A,{menuType:E().gu.Popup,minWidth:230,children:(0,z.jsx)(B().Ay,{type:B().Oh.Vertical,sections:d,initialFocus:void 0})})}var V=()=>n(432875),H=()=>n(604018),K=()=>n(239837),J=()=>n(592420),Y=()=>n(229533),G=()=>n(972435),Q=()=>n(836251),$=()=>n(47170),X=()=>n(963589),Z=()=>n(430483),ee=()=>n(99254),te=()=>n(922442),ne=()=>n(329304),ie=()=>n(920769),se=()=>n(928229),ae=()=>n(900615),oe=()=>n(13898),re=()=>n(493823),ce=()=>n(406699),le=()=>n(285790),de=()=>n(179030),ue=()=>n(8980),pe=()=>n(460292),ge=()=>n(554509),me=()=>n(864943),he=()=>n(132389),fe=()=>n(859428),ve=()=>n(125565),be=()=>n(719147),ye=()=>n(8178),Se=()=>n(702723);const _e=(0,h().YK)({turnOffAiWhenSubscribedToAiWarning:{id:"spaceBasicSettings.aiFeature.turnOffAiWhenSubscribedToAiWarning",defaultMessage:"Your current plan includes Notion AI. You can turn off access to AI, but you will continue to be billed for it."},turnOffAiWhenSubscribedToAccept:{id:"spaceBasicSettings.aiFeature.turnOffAiWhenSubscribedToAccept",defaultMessage:"Turn off AI"},aiConnectorsDescription:{id:"aiSettings.aiConnectors.description",defaultMessage:"Connect your favorite tools to Notion AI to get answers and information from your data. <learnmore>Learn more</learnmore>"},connectMoreAppsLabel:{id:"aiSettings.aiConnectors.connectMoreAppsLabel",defaultMessage:"Connect more apps"},aiConnectorsHeader:{id:"aiSettings.aiConnectors.header",defaultMessage:"AI Connectors"},aiLeapLabel:{id:"spaceBasicSettings.aiLeap.label",defaultMessage:"Share data to improve Notion AI"},aiConnectorsUpsellBanner:{id:"aiSettings.aiConnectors.upsellBanner",defaultMessage:"Try Advanced AI features, free for 30 days"},aiConnectorsUpsellButton:{id:"aiSettings.aiConnectors.upsellButton",defaultMessage:"Try it now"},aiLeapDescription:{id:"spaceBasicSettings.aiLeap.description",defaultMessage:"Help improve Notion’s AI models by allowing data from across this workspace to be shared with Notion. By enabling AI LEAP (Learning and Early Access Program) you are agreeing to the <inlinelink>Notion AI LEAP Supplementary Terms</inlinelink>. <learnmore>Learn more</learnmore>."},aiConnectedAppsSettingsButton:{id:"aiSettings.aiConnectedApps.settingsButton",defaultMessage:"Settings"},aiConnectedAppsConnectedStatus:{id:"aiSettings.aiConnectedApps.connectedStatus",defaultMessage:"Connected"},aiConnectedAppsConnectingStatus:{id:"aiSettings.aiConnectedApps.connectingStatus",defaultMessage:"Connecting... Could take up to {hours} hours"},aiConnectedAppsConnectingStatusWithProgress:{id:"aiSettings.aiConnectedApps.connectingStatusWithProgress",defaultMessage:"Connecting... {progress}% complete"},aiConnectedAppsDisconnectingStatus:{id:"aiSettings.aiConnectedApps.disconnectingStatus",defaultMessage:"Disconnecting..."},meetingNotesSettingsHeader:{id:"aiSettings.meetingNotesSettingsHeader",defaultMessage:"AI Meeting Notes"},meetingNotesSettingsDescription:{id:"aiSettings.meetingNotesSettingsDescription",defaultMessage:"When enabled, all members can access the AI Meeting Notes block to automatically create transcripts and summaries of their meetings. <learnmore>Learn more</learnmore>"},personalSettingsHeader:{id:"aiSettings.personalSettingsHeader",defaultMessage:"Personal AI settings"},workspaceSettingsHeader:{id:"aiSettings.workspaceSettingsHeader",defaultMessage:"Workspace AI settings"},aiFeatureLabel:{id:"spaceBasicSettings.aiFeature.label",defaultMessage:"Enable Notion AI"},aiFeatureCaption:{id:"spaceBasicSettings.aiFeature.ga.caption",defaultMessage:"Enable to provide AI-powered functionality for all members of your workspace. By enabling Notion AI, you are agreeing to the <inlinelink>Notion AI Supplementary Terms</inlinelink>"}}),xe=(0,h().YK)({slack_select_channels:{id:"aiSettings.aiConnectedApps.slackSelectChannels",defaultMessage:"Select channels"},sharepoint_select_sites:{id:"aiSettings.aiConnectedApps.sharepointSelectSites",defaultMessage:"Select sites"},slack_re_auth:{id:"aiSettings.aiConnectedApps.slackReAuth",defaultMessage:"Login required"},github_re_auth:{id:"aiSettings.aiConnectedApps.githubReAuth",defaultMessage:"Login required"},jira_connection_pending:{id:"aiSettings.aiConnectedApps.jiraConnectionPending",defaultMessage:"Finish setup"},jira_connect_user:{id:"aiSettings.aiConnectedApps.jiraConnectUser",defaultMessage:"Login required"},jira_select_projects:{id:"aiSettings.aiConnectedApps.jiraSelectProjects",defaultMessage:"Select projects"}}),we=(0,h().YK)({slack_select_channels:{id:"aiSettings.aiConnectedApps.slackSelectChannelsNonAdminTooltip",defaultMessage:"Your workspace owner needs to select channels"},sharepoint_select_sites:{id:"aiSettings.aiConnectedApps.sharepointSelectSitesNonAdminTooltip",defaultMessage:"Your workspace owner needs to select sites"},jira_connection_pending:{id:"aiSettings.aiConnectedApps.jiraConnectionPendingNonAdminTooltip",defaultMessage:"Your workspace owner needs to finish setup"},jira_select_projects:{id:"aiSettings.aiConnectedApps.jiraSelectProjectsNonAdminTooltip",defaultMessage:"Your workspace owner needs to select projects"}});function Ae(e){const{spaceStore:t}=e,n=(0,s().v3)(),{device:o}=n,r=(0,a().K8)((()=>{const e=t.getModel();return!e||e.isTranscriptionEnabled()}),[t]),c=(0,i.useCallback)((()=>{_().createAndCommit({userAction:"AiSettings.toggleTranscription",environment:n,canUndo:!1,perform:e=>{S().zv({store:t.getSettingsStore(),transaction:e,data:{disable_transcription:r}})}})}),[r,t,n]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(Se().A,{isMobile:o.isMobile,type:"toggle",isOn:r,onToggle:c,title:(0,z.jsx)(h().sA,{..._e.meetingNotesSettingsHeader}),caption:(0,z.jsx)(h().sA,{..._e.meetingNotesSettingsDescription,values:{learnmore:e=>(0,z.jsx)(be().A,{href:(0,K().zv)(),external:!0,onClick:e=>e.stopPropagation(),children:e})}})}),(0,z.jsx)(he().A,{size:8})]})}function je(e){let{securitySettingsStore:t}=e;const n=(0,s().v3)(),{device:i}=n,o=(0,a().K8)((()=>Boolean(t.state.enableAiTraining)),[t]);return(0,z.jsx)(Se().A,{isMobile:i.isMobile,type:"toggle",isOn:o,onToggle:()=>{t.setState({...t.state,enableAiTraining:!o})},title:(0,z.jsx)(h().sA,{..._e.aiLeapLabel}),caption:(0,z.jsx)(h().sA,{..._e.aiLeapDescription,values:{learnmore:e=>(0,z.jsx)(be().A,{href:"https://www.notion.so/help/notion-ai-leap-program-faqs",external:!0,onClick:e=>e.stopPropagation(),children:e}),inlinelink:e=>(0,z.jsx)(be().A,{href:"https://notion.notion.site/0c55d702d0154a788d9e70c4ee396399",external:!0,onClick:e=>e.stopPropagation(),children:e})}})})}function Ce(e){let{billingData:t,spaceStore:n}=e;const i=(0,s().v3)(),{device:o}=i,r=(0,a().K8)((()=>n.isAiEnabledOnSpace()),[n]);return(0,z.jsx)(Se().A,{isMobile:o.isMobile,type:"toggle",isOn:r,onToggle:async()=>{await async function(e){const{environment:t,billingData:n,spaceStore:i}=e,s=(0,m().eh)(n,"ai"),a=i.isAiEnabledOnSpace();if((0,C().u)({environment:t,event:{eventName:"clicked_toggle_notion_ai",eventProperties:{ai_is_enabled:a,has_ai_product:s}}}),a&&s){if(!(await y().Gh({message:G().A.formatMessage(_e.turnOffAiWhenSubscribedToAiWarning),acceptLabel:G().A.formatMessage(_e.turnOffAiWhenSubscribedToAccept)})).accept)return void(0,C().u)({environment:t,event:{eventName:"clicked_dismiss_turn_off_notion_ai",eventProperties:{}}});(0,C().u)({environment:t,event:{eventName:"clicked_turn_off_notion_ai_confirmation",eventProperties:{}}})}_().createAndCommit({userAction:"AiSettings.toggleAiFeature",environment:t,canUndo:!1,perform:e=>{"enterprise"===i.getSubscriptionTier()?S().zv({store:i.getSettingsStore(),transaction:e,data:{enable_ai_feature:!a}}):S().zv({store:i.getSettingsStore(),transaction:e,data:{disable_ai_feature:a}})}})}({environment:i,billingData:t,spaceStore:n})},title:(0,z.jsx)(h().sA,{..._e.aiFeatureLabel}),caption:(0,z.jsx)(h().sA,{..._e.aiFeatureCaption,values:{inlinelink:e=>(0,z.jsx)(be().A,{href:"https://notion.notion.site/fa9034c8b5a04818a6baf3eac2adddbb",external:!0,onClick:e=>e.stopPropagation(),children:e})}})})}function ke(e){var t;const{spaceStore:n,billingData:i}=e;return!!n.canAdmin()&&(!!Boolean(null===(t=n.getModel())||void 0===t?void 0:t.isAiLeapEnabledOnSpace())||!(0,m().N8)(null==i?void 0:i.subscription)&&Z().zD.isWorkspaceLeapEligible({ignoreEnterpriseCheck:!0}))}function Ie(e){let{connectorType:t}=e;const n=(0,s().v3)(),[a,c]=(0,i.useState)(!1),l="dark"===(0,o().eP)(),d=(0,o().IS)((e=>({contentWrapper:{display:"flex",flexDirection:"column",gap:4,height:"auto",borderRadius:4,padding:12,boxShadow:e.shadowXS},topRow:{display:"flex",justifyContent:"space-between",width:"100%"},iconTitleWrapper:{display:"flex",alignItems:"center",gap:4,width:"fit-content",maxWidth:"calc(100% - 24px)"},iconWrapper:{width:24,height:24,borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center"},title:{fontSize:v().J.UIRegular.desktop,color:e.text.primary,fontWeight:v().Wy.medium,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",alignItems:"center",gap:2},fakePlusIconButton:{width:24,height:24,flexShrink:0,borderRadius:"50%",backgroundColor:a?e.palette.blue[100]:e.palette.blue[50],display:"flex",alignItems:"center",justifyContent:"center"},fakePlusIcon:{fill:e.palette.uiBlue[600],width:16,height:16},betaBadge:{marginLeft:0,alignSelf:"flex-start",marginTop:4}})),[a]),u=(0,$().O)(),g=(0,ne()._X)({name:"ai_connectors",spaceId:u,userId:n.currentUser.id});return(0,z.jsx)(re().p,{disabled:!g,onClick:()=>{g&&function(e,t,n){(0,A().pp)({connector:e,environment:t,analyticsFrom:"ai_workspace_settings_connector_cards",connectorsFeatureAvailability:n})}(t,n,g)},style:d.contentWrapper,children:(0,z.jsxs)("div",{style:d.topRow,children:[(0,z.jsxs)("div",{style:d.iconTitleWrapper,children:[(0,z.jsx)("div",{style:d.iconWrapper,children:"sharepoint"===t?(0,z.jsx)(I().E,{size:24}):(0,z.jsx)(pe().Q,{iconGroup:r().G[t],variantName:l?"darkMode":"default"})}),(0,z.jsx)("div",{style:d.title,children:x().w0[t]}),(0,x().Bm)(t)?void 0:(0,z.jsx)(oe().A,{style:d.betaBadge})]}),(0,z.jsx)("div",{style:d.fakePlusIconButton,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:(0,p().plusFillIcon)(d.fakePlusIcon)})]})})}function Me(e){let{availableConnectors:t}=e;return(0,z.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},children:t.map((e=>(0,z.jsx)(Ie,{connectorType:e},e)))})}function Te(e){let{availableConnectors:t}=e;return 0===t.length?null:(0,z.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:(0,z.jsx)(Me,{availableConnectors:t})})}function Pe(e){let{connectorType:t,connectionStatus:n,showTopBorder:i}=e;const s="dark"===(0,o().eP)(),a=(0,o().IS)((e=>({contentWrapper:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 0px",borderBottom:`1px solid ${e.stroke.secondary}`,borderTop:i?`1px solid ${e.stroke.secondary}`:"none",borderRadius:4},leftContentWrapper:{display:"flex",alignItems:"center",gap:10},rightContentWrapper:{display:"flex",alignItems:"center",gap:12},iconWrapper:{width:24,height:24,display:"flex",alignItems:"center",justifyContent:"center"},titleAndExternalSourceNameWrapper:{display:"flex",flexDirection:"column",gap:0},title:{display:"flex",alignItems:"center",gap:4,fontSize:v().J.UIRegular.desktop,fontWeight:v().Wy.medium,color:e.text.primary},externalSourceName:{fontSize:v().J.UISmall.desktop,fontWeight:v().Wy.regular,color:e.text.secondary}})),[i]);return(0,z.jsxs)("div",{style:a.contentWrapper,children:[(0,z.jsxs)("div",{style:a.leftContentWrapper,children:[(0,z.jsx)("div",{style:a.iconWrapper,children:"sharepoint"===t?(0,z.jsx)(I().E,{size:24}):(0,z.jsx)(pe().Q,{iconGroup:r().G[t],variantName:s?"darkMode":"default"})}),(0,z.jsxs)("div",{style:a.titleAndExternalSourceNameWrapper,children:[(0,z.jsxs)("div",{style:a.title,children:[x().w0[t],(0,x().Bm)(t)?void 0:(0,z.jsx)(oe().A,{})]}),n.externalSourceName?(0,z.jsx)("div",{style:a.externalSourceName,children:n.externalSourceName}):null]})]}),(0,z.jsxs)("div",{style:a.rightContentWrapper,children:[(0,z.jsx)(We,{connectorType:t,connectionStatus:n}),(0,z.jsx)(ce().Ay,{popupType:ce().z7.Popup,renderOrigin:e=>(0,z.jsx)(le().A,{...e,style:{width:24,height:24},iconStyle:{width:20,height:20},icon:u().gearIcon,ariaLabel:G().A.formatMessage(_e.aiConnectedAppsSettingsButton)}),render:e=>(0,z.jsx)(Ne,{connectorType:t,connectionStatus:n,buttonPopupParent:e})})]})]})}function Ne(e){const{connectorType:t,connectionStatus:n,buttonPopupParent:i}=e,s=(0,a().K8)((()=>R().E.isJiraForgeConnectionDone()),[]);return"slack"===t?(0,z.jsx)(V().SlackConnectionOptions,{parent:i}):"jira"===t?s?(0,z.jsx)(q,{parent:i}):(0,z.jsx)(M().B,{parent:i}):(0,z.jsx)(k().a,{connector:t,parent:i,connectionStatus:n})}function Oe(e){return"github"===e||"microsoft-teams"===e?72:36}const Ue=["slack_select_channels","sharepoint_select_sites","jira_connection_pending","jira_select_projects"];function We(e){const{connectorType:t,connectionStatus:n}=e,i=(0,s().v3)(),a=(0,$().O)(),r=(0,D().J)(),u=(0,o().IS)((e=>({connectedStatusWrapper:{display:"flex",gap:4,flexWrap:"nowrap"},connectedStatusIconWrapper:{display:"flex",alignItems:"center",justifyContent:"center"},connectedStatusIcon:{width:16,height:16,fill:e.icon.tertiary},connectedStatusMessage:{fontSize:v().J.UISmall.desktop,fontWeight:v().Wy.regular,color:e.text.secondary},connectingStatusWrapper:{display:"flex",gap:4,flexWrap:"nowrap"},connectingStatusIconWrapper:{display:"flex",alignItems:"center",justifyContent:"center"},connectingStatusMessage:{fontSize:v().J.UISmall.desktop,fontWeight:v().Wy.regular,color:e.text.secondary},connectingStatusIcon:{width:16,height:16,fill:e.palette.uiBlue[600]},actionRequiredStatusIcon:{width:16,height:16,fill:"dark"===e.mode?e.palette.red[900]:e.palette.red[500]}})),[]);if("connected"===n.type)return(0,z.jsxs)("div",{style:u.connectedStatusWrapper,children:[(0,z.jsx)("div",{style:u.connectedStatusIconWrapper,children:(0,l().checkmarkFillSmallIcon)(u.connectedStatusIcon)}),(0,z.jsx)("div",{style:u.connectedStatusMessage,children:(0,z.jsx)(h().sA,{..._e.aiConnectedAppsConnectedStatus})})]});if("in_progress"===n.type)return(0,z.jsxs)("div",{style:u.connectingStatusWrapper,children:[(0,z.jsx)("div",{style:u.connectingStatusIconWrapper,children:(0,c().H)(u.connectingStatusIcon)}),(0,z.jsx)("div",{style:u.connectingStatusMessage,children:n.ingestionProgress?(0,z.jsx)(h().sA,{..._e.aiConnectedAppsConnectingStatusWithProgress,values:{progress:n.ingestionProgress}}):(0,z.jsx)(h().sA,{..._e.aiConnectedAppsConnectingStatus,values:{hours:Oe(t)}})})]});if("action_required"===n.type){const e=(0,f().Xk)(Ue,n.action)&&!r;return(0,z.jsx)(fe().A,{disableTooltip:!e,renderTooltip:()=>{const{action:e}=n;if((0,f().O)(we,e)){const t=we[e];return(0,z.jsx)(h().sA,{...t})}return null},render:t=>(0,z.jsx)(me().A,{...t,iconLeading:d().exclamationMarkTriangleFillIcon,iconStyle:u.actionRequiredStatusIcon,disabled:e,onClick:()=>{a&&function(e){const{action:t,environment:n,spaceId:i,analyticsFrom:s}=e;"slack_select_channels"===t?b().nh():"sharepoint_select_sites"===t?b().oz():"jira_select_projects"===t?b().zr():"slack_re_auth"===t?b().tt({connector:"slack",environment:n,spaceId:i,analyticsProperties:{analyticsFrom:s,buttonName:t}}):"github_re_auth"===t?b().tt({connector:"github",environment:n,spaceId:i,analyticsProperties:{analyticsFrom:s,buttonName:t}}):"jira_connection_pending"===t?b().bS({environment:n,spaceId:i,analyticsProperties:{analyticsFrom:s,buttonName:t,sessionId:ee().y.state.sessionId}}):"jira_connect_user"===t?b().ol({environment:n,spaceId:i,analyticsProperties:{analyticsFrom:s,buttonName:t,sessionId:ee().y.state.sessionId}}):(0,f().HB)(t)}({action:n.action,environment:i,spaceId:a,analyticsFrom:"ai_workspace_settings"})},children:(0,z.jsx)(h().sA,{...xe[n.action]})})})}if("disconnecting"===n.type)return(0,z.jsxs)("div",{style:u.connectingStatusWrapper,children:[(0,z.jsx)("div",{style:u.connectedStatusIconWrapper,children:(0,c().H)(u.connectingStatusIcon)}),(0,z.jsx)("div",{style:u.connectingStatusMessage,children:(0,z.jsx)(h().sA,{..._e.aiConnectedAppsDisconnectingStatus})})]});(0,f().HB)(n)}function Be(e){let{connectedConnectors:t}=e;const n=(0,o().IS)((e=>({contentWrapper:{display:"flex",flexDirection:"column"}})),[]);return(0,z.jsx)("div",{style:n.contentWrapper,children:t.map(((e,t)=>(0,z.jsx)(Fe,{connectorType:e,showTopBorder:0===t},e)))})}function Fe(e){const{connectorType:t,showTopBorder:n}=e,i=(0,a().K8)((()=>(0,Y().HF)(t)),[t]);return(0,z.jsx)(Pe,{connectorType:t,connectionStatus:i,showTopBorder:n})}function Le(){return(0,z.jsx)(de().l,{display:"inline",tint:"gray",label:(0,z.jsxs)(L().Ye,{alignItems:"center",justifyContent:"space-between",children:[(0,z.jsxs)(L().Ye,{gap:8,alignItems:"center",children:[(0,z.jsx)(ue().I,{icon:g().presentFillIcon,color:"orangePrimary"}),(0,z.jsx)(ge().D,{styleName:"UIRegular-14px/Medium",colorName:"primary",children:(0,z.jsx)(h().sA,{..._e.aiConnectorsUpsellBanner})})]}),(0,z.jsx)(me().A,{onClick:()=>(0,te().openSelfServeBusinessTrialStartModal)({openedFrom:"business_trial_ai_settings_banner"}),children:(0,z.jsx)(ge().D,{styleName:"UIRegular-14px/Medium",colorName:"primary",children:(0,z.jsx)(h().sA,{..._e.aiConnectorsUpsellButton})})})]})})}function Ee(e){const{spaceStore:t,billingData:n,securitySettingsStore:i}=e,o=(0,s().v3)(),r=(0,D().J)(),c=(0,s().Y0)().isMobile,l=(0,a().K8)((()=>(0,J().Q)(o)),[o]),d=(0,a().K8)((()=>ke({spaceStore:t,billingData:n})),[t,n]),u=(0,a().K8)((()=>t.isAiEnabledOnSpace()),[t]),p=(0,X().X)("meeting_notes_toggle")&&r,g=(0,a().K8)((()=>(0,H().kB)()),[]),m=(0,X().X)("packaging_changes_05_13_2025"),f=(0,a().K8)((()=>g.length>0),[g]),v=(0,X().X)("business_trials_2025"),b=(0,ie().O)(),y=v&&b,{isLoading:S}=(0,j().ts)(void 0,!0),_=(0,a().K8)((()=>S?[]:(0,H().wd)()),[S]),{availableConnectors:x,inProgressAndConnectedConnectors:A}=(0,a().K8)((()=>{let e=[],t=[];for(const n of g){const i=(0,Y().HF)(n);"action_required"===i.type||"in_progress"===i.type||"disconnecting"===i.type||_.includes(n)?t.push(n):e.push(n)}return e=e.filter((e=>"notion-mail"!==e)),t.includes("notion-mail")&&(e=e.filter((e=>"gmail"!==e)),t=t.filter((e=>"gmail"!==e))),{availableConnectors:e,inProgressAndConnectedConnectors:t}}),[g,_]),C=r&&(l||d),k=C&&(f||p),I=(0,X().X)("ai_co_editing");return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(ye().A,{divider:"full",children:(0,z.jsx)(h().sA,{...w().D.notionAI})}),C?(0,z.jsxs)(z.Fragment,{children:[l?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(Ce,{billingData:n,spaceStore:t}),(0,z.jsx)(he().A,{size:16})]}):void 0,d&&u?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(je,{securitySettingsStore:i}),(0,z.jsx)(he().A,{size:16})]}):void 0]}):void 0,u?(0,z.jsxs)(z.Fragment,{children:[k?(0,z.jsx)(ye().A,{divider:"full",hasMarginTop:!0,children:(0,z.jsx)(h().sA,{..._e.workspaceSettingsHeader})}):void 0,m&&y?(0,z.jsx)("div",{style:{marginBottom:24},children:(0,z.jsx)(Le,{})}):void 0,m&&!y?(0,z.jsx)(ae().f,{upgradeRequestAnalyticsEntrypoint:"ai_settings",upgradeRequestEntrypoint:"settings",sunsetCheckSource:"ai_settings_banner"}):void 0,f?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(ye().A,{style:{marginBottom:6},children:(0,z.jsx)(h().sA,{..._e.aiConnectorsHeader})}),(0,z.jsx)(ge().D,{styleName:"Body-13px/Regular",colorName:"secondary",children:(0,z.jsx)(h().sA,{..._e.aiConnectorsDescription,values:{learnmore:e=>(0,z.jsx)(be().A,{href:(0,Q().xS)("guides.aiConnectors"),external:!0,onClick:e=>e.stopPropagation(),children:e})}})}),(0,z.jsx)(he().A,{size:16}),A.length>0?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(Be,{connectedConnectors:A}),(0,z.jsx)(he().A,{size:16})]}):void 0,x.length>0?(0,z.jsxs)(z.Fragment,{children:[A.length>0&&(0,z.jsx)(ve().A,{isSmall:!0,children:(0,z.jsx)(h().sA,{..._e.connectMoreAppsLabel})}),(0,z.jsx)(he().A,{size:2}),(0,z.jsx)(Te,{availableConnectors:x}),(0,z.jsx)(he().A,{size:16})]}):void 0]}):void 0,p?(0,z.jsx)(Ae,{spaceStore:t}):void 0,I?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(ye().A,{divider:"full",hasMarginTop:!0,children:(0,z.jsx)(h().sA,{..._e.personalSettingsHeader})}),(0,z.jsx)(se().t,{isMobile:c}),(0,z.jsx)(he().A,{size:8})]}):void 0]}):void 0]})}},920769:(e,t,n)=>{n.d(t,{O:()=>s});var i=()=>n(141273);function s(){const e=(0,i().g)("stacked_business_trial"),t=(0,i().g)("business_reverse");return Boolean(e||t)}},922442:(e,t,n)=>{n.r(t),n.d(t,{closeSelfServeBusinessTrialEndingModal:()=>y,closeSelfServeBusinessTrialExplorePlanModal:()=>w,closeSelfServeBusinessTrialLossAversionModal:()=>_,closeSelfServeBusinessTrialStartModal:()=>f,createSelfServeBusinessTrial:()=>A,determineMessageEligibility:()=>C,determineShouldShowTrialEndingModal:()=>k,getBusinessTrialUsingOffersReceived:()=>j,openSelfServeBusinessTrialEndingModal:()=>v,openSelfServeBusinessTrialExplorePlanModal:()=>x,openSelfServeBusinessTrialLossAversionModal:()=>S,openSelfServeBusinessTrialStartModal:()=>h,updateSelfServeBusinessTrialEndingModalState:()=>b});n(16280);var i=()=>n(244641),s=()=>n(386164),a=()=>n(762433),o=()=>n(323063),r=()=>n(166386),c=()=>n(461946),l=()=>n(449506),d=()=>n(243670),u=()=>n(981046),p=()=>n(624199),g=()=>n(753735),m=()=>n(411341);function h(e){p().iJ.setState({open:!0,...e})}function f(){p().iJ.update((e=>({...e,open:!1})))}function v(e){p().L3.update((()=>({modalState:"initial",...e,open:!0})))}function b(e){p().L3.update((t=>({...t,modalState:e})))}function y(){p().L3.update((e=>({...e,open:!1,modalState:"initial"})))}function S(e){p().uE.setState({...e,open:!0})}function _(){p().uE.update((e=>({...e,open:!1})))}function x(e){p().Sp.setState({open:!0,...e})}function w(){p().Sp.update((e=>({...e,open:!1})))}async function A(e){const{billingData:t,environment:n,spaceStore:s,from:r,memberCount:l,prices:d}=e;if(!s||!r||!t||void 0===l)return{success:!1,error:"Invalid arguments"};const p=e.nowForTesting??i().c9.now(),g=l,h={product:"business",interval:"month",currency:u().A.state.selectedCurrencyCode??"USD"},f={items:[{price:(0,o().vk)(d,h),quantity:g}],trialEnd:p.plus({days:c().WL})},v=(0,a().oD)(t)?"stacked_business_trial":"business_reverse";try{return await(0,m().updateSubscription)({environment:n,spaceStore:s,from:r,desiredState:f,trialData:{id:v,from:r}}),{success:!0,error:void 0}}catch(b){return{success:!1,error:b instanceof Error?b.message:void 0}}}async function j(e){const{billingData:t,environment:n,currentSpaceStore:i}=e,o=i.getSpaceId();if(!t||!(0,a().TB)(t))return;const r=await l().callApi({eventName:"getCustomerOffersReceived",environment:n,data:{spaceId:o},headers:(0,s().WS)({cellId:void 0,spaceId:o})});return"failed"!==r.type?(0,c().F$)(r.data):void 0}async function C(e,t){const{billingData:n,environment:i,currentSpaceStore:s}=t;if(!n)return!1;const o=(0,a().DS)(n),r=await j({environment:i,billingData:n,currentSpaceStore:s});if(!r)return!1;const l=(0,c().yL)(r);if(!l)return!1;const u=Math.floor(o.startOf("day").diff(l.startOf("day"),"days").days),p=d().J7[e];return("onboardingIntro"!==e||0!==u||"onboarding"===(null==r?void 0:r.entrypoint))&&u===p}function k(e){var t;const{billingData:n,businessTrialOffer:s,currentSpaceViewStore:o}=e;if(!n)return!1;const l=null===(t=o.getSettings())||void 0===t?void 0:t.business_trial_ending_modal_last_shown_at,u=(0,a().DS)(n);return!function(e,t){if(!e)return!1;const n=i().c9.fromMillis(e);return n.startOf("day").equals(t.startOf("day"))}(l,u)&&("business"!==(0,a().AW)(n)&&"enterprise"!==(0,a().AW)(n)&&(!(0,g().z2)({billingData:n,claimedOffers:[s]})&&(!(!s||(0,r().nb)(s))&&((0,d().tz)(s,c().x5,u)||(0,d().XF)(s,u)||(0,d().V9)(s,u)))))}},928229:(e,t,n)=>{n.d(t,{t:()=>p});var i=n(296540),s=()=>n(484714),a=()=>n(56366),o=()=>n(959013),r=()=>n(72897),c=()=>n(47170),l=()=>n(765957),d=()=>n(702723),u=n(474848);function p(e){let{isMobile:t}=e;const n=(0,s().v3)(),p=(0,a().K8)((()=>l().default.state.currentUserSettingsStore),[]),g=(0,c().O)(),m=(0,a().K8)((()=>{var e;return g&&(null==p||null===(e=p.getSettings())||void 0===e||null===(e=e.beta_ai_co_editing_settings)||void 0===e||null===(e=e[g])||void 0===e?void 0:e.autocorrect)}),[p,g])??!1,h=(0,i.useCallback)((async()=>{g&&p&&await r().setCoEditingSetting({environment:n,userSettingsStore:p,spaceId:g,active:!m})}),[n,m,p,g]),f=(0,u.jsx)(o().sA,{id:"aiCoEditingSettings.title",defaultMessage:"AI Co-editor"}),v=(0,u.jsx)(o().sA,{id:"aiCoEditingSettings.caption",defaultMessage:"Notion AI checks for writing suggestions and fixes errors as you type."});return(0,u.jsx)(d().A,{isMobile:t,title:f,caption:v,isOn:m,type:"toggle",onToggle:h})}},949305:(e,t,n)=>{n.d(t,{x:()=>b});var i=n(296540),s=()=>n(484714),a=()=>n(56366),o=()=>n(401497),r=()=>n(427704),c=()=>n(676370),l=()=>n(959013),d=()=>n(534177),u=()=>n(843014),p=()=>n(274894),g=()=>n(719147),m=()=>n(991249),h=()=>n(803025),f=()=>n(270812),v=n(474848);function b(e){const{featureAvailability:t,upgradeRequestAnalyticsEntrypoint:n,upgradeRequestEntrypoint:b,upsellFrom:y,sunsetCheckSource:S,showOptimisticUpsell:_}=e,x=(0,s().v3)(),w=(0,l().tz)(),A=(0,h().q)(),j=(0,o().IS)((e=>({assistantBlueLink:{color:e.text.uiBluePrimary,cursor:"pointer",fontWeight:600,textDecoration:"none"}})),[]),C=(0,a().K8)((()=>!!t&&("available"===t.type&&void 0!==t.expiry&&"sunset"===t.expiry.type)),[t]),k=(0,a().K8)((()=>(0,d().Xk)(c().uv,y)),[y]),{userHasPendingRequest:I,canUserRequestUpgrade:M,openModal:T}=(0,f().E)({type:"feature",featureAvailability:t,entrypoint:b,analyticsEntrypoint:n,isOptimisticUpsell:Boolean(_)}),P="sales_assisted"===A;return(0,i.useMemo)((()=>{if(!t)return{upsellHeader:void 0,upsellMessage:w.formatMessage(u().D.noAccessFeatureMessage),actionButtonMsg:void 0,actionForFeatureAvailability:void 0,isSunset:C};if("available"===t.type&&!_){const e=t.expiry;if(void 0!==S&&C&&void 0!==t&&void 0!==e){const t=()=>{(0,m().K)(x,{from:y,upsell:e.upsell})};return{upsellHeader:w.formatMessage(u().D.upgradeToBusiness),upsellMessage:w.formatMessage(u().D.aiConnectorsSunsetUpsellBanner,{date:e.endDate.toFormat("MMMM d"),bold:e=>(0,v.jsx)(g().A,{external:!0,href:r().JZ.pricing,hoverColor:"blue",style:j.assistantBlueLink,children:e}),breakLine:"assistant_overflow_menu_add_connectors"===S,br:(0,v.jsx)("br",{})}),actionButtonMsg:w.formatMessage(u().D.upgradeButton),actionForFeatureAvailability:t,isSunset:C}}return{upsellHeader:void 0,upsellMessage:void 0,actionButtonMsg:void 0,actionForFeatureAvailability:void 0,isSunset:C}}const e=t.upsell;if(!e)return{upsellHeader:void 0,upsellMessage:void 0,actionButtonMsg:void 0,actionForFeatureAvailability:void 0,isSunset:C};const n=function(e){const{isMemberWithPendingUpgradeRequest:t,isMemberCanRequestUpgrade:n,salesAssistedUpgradeRequired:i}=e,s=n?"memberCanRequest":t?"memberRequested":"adminUpsell",a=i?"salesAssisted":"selfService",o=`${s}.${a}`;return u().D[o]}({isMemberWithPendingUpgradeRequest:I,isMemberCanRequestUpgrade:M,salesAssistedUpgradeRequired:P});if(I)return{upsellHeader:void 0,upsellMessage:w.formatMessage(n,{isResearchMode:k}),actionButtonMsg:void 0,actionForFeatureAvailability:void 0,isSunset:C};if(M)return{upsellHeader:void 0,upsellMessage:w.formatMessage(n,{isResearchMode:k,bold:e=>(0,v.jsx)(p().f,{onClick:T,children:e})}),actionButtonMsg:"ai_meeting_notes"===y?w.formatMessage(u().D.requestAccessButtonShort):w.formatMessage(u().D.requestAccessButton),actionForFeatureAvailability:T,isSunset:C};{const t=()=>{(0,m().K)(x,{from:y,upsell:e})},i=P?w.formatMessage(u().D.contactSalesButton):"ai_meeting_notes"===y?w.formatMessage(u().D.upgradeButton):w.formatMessage(u().D.getNotionAI);return{upsellHeader:void 0,upsellMessage:w.formatMessage(n,{isResearchMode:k,bold:e=>(0,v.jsx)(p().f,{onClick:t,children:e})}),actionButtonMsg:i,actionForFeatureAvailability:t,isSunset:C}}}),[x,w,P,y,t,I,M,T,C,S,_,k,j])}}}]);