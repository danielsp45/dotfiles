"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[29021],{528411:(e,o,n)=>{n.r(o),n.d(o,{TemplateRecurrenceConfigMenu:()=>g});var t=n(296540),r=()=>n(484714),i=()=>n(406699),s=()=>n(104636),a=()=>n(401497),c=()=>n(643381),l=()=>n(959013),u=()=>n(496603),p=()=>n(493823),d=()=>n(553965),b=n(474848);function f(e){const{buttonPopupEvents:o,focused:t,tooltipLabel:i,recurrence:s,showTooltip:f,variant:g="dropdown"}=e,v=(0,r().v3)(),{device:C}=v,w=(0,a().DP)(),S=(0,l().tz)(),P=function(){const{isMobile:e}=(0,r().Y0)();return(0,a().IS)((o=>({iconStyle:{fill:o.icon.primary,width:e?18:16}})),[e])}(),x=Boolean(s);return(0,b.jsx)(n(859428).A,{disableTooltip:!f,delayThreshold:300,renderTooltip:()=>i,render:e=>{switch(g){case"dropdown":return(0,b.jsx)(n(113474)._,{...(0,d().A)(e,o),focused:t,icon:(0,c().l)(P.iconStyle),title:(0,b.jsx)(l().sA,{defaultMessage:"Repeat",id:"database.templatePickerItem.actionMenu.repeat"}),showExtensionArrow:C.isMobile,right:h({isActive:x,recurrence:s,intl:S})});case"icon":return(0,b.jsx)(p().p,{...u().cJ((0,d().A)(e,o),["focused","ignoreLocalHoverState"]),disallowTabbing:!1,size:"sm",role:"button",children:(0,c().l)({color:n(381349).Ay.blue,width:14})});case"label":return(0,b.jsxs)(p().p,{...(0,d().A)(e,o),children:[h({isActive:x,recurrence:s,intl:S}),(0,n(668725).b)({fill:w.icon.tertiary,marginLeft:4,width:10})]})}}})}function h(e){let{isActive:o,recurrence:n,intl:t}=e;return o?n?(0,b.jsx)(b.Fragment,{children:(0,u().ZH)((0,s().LS)({recurrence:n,intl:t}))}):void 0:(0,b.jsx)(l().sA,{defaultMessage:"Off",id:"database.templatePickerItem.recurrenceConfigMenuLabel.off"})}const g=(0,t.forwardRef)((function(e,o){const{recurrence:t,onChange:a,disabled:c,buttonPopupStore:l}=e,u=(0,r().v3)(),{device:p}=u,d=p.isMobile?i().z7.SlideUp:i().z7.Popup,h=(0,n(131276).$)({recurrence:e.recurrence,onChange:a,disabled:c,requireExplicitSaveAndAllowDelete:!0,buttonPopupStore:l});return(0,b.jsx)(n(811979).A,{...e,popupType:d,ref:o,stopClickPropagation:!0,buttonPopupStore:h.buttonPopupStore,disabled:!1,onClose:async()=>{h.hasUnpersistedChanges()&&!(await n(839916).confirmDiscardRecurrenceChangesOnNavigation({hasPendingChanges:!0}))||(h.onClose(),h.buttonPopupStore.setState({open:!1}))},persistOnClose:!0,renderOrigin:o=>(0,b.jsx)(f,{buttonPopupEvents:o,focused:e.focused,tooltipLabel:t&&(0,s()._b)(t.frequency),recurrence:e.recurrence,showTooltip:e.showTooltip,variant:e.variant}),render:h.render})}))},643381:(e,o,n)=>{n.d(o,{l:()=>r});n(296540);var t=n(474848);const r=(0,n(340498).wt)("repeat",{viewBox:"0 0 16 14",svg:(0,t.jsx)("path",{d:"M1.185 7.317a.689.689 0 00.697-.704v-.601c0-1.19.806-1.942 2.064-1.942H9.23v1.573c0 .328.199.52.527.52a.66.66 0 00.403-.144l2.68-2.236c.253-.212.26-.547 0-.765L10.16.782A.62.62 0 009.757.64c-.328 0-.527.184-.527.52v1.53H4.05C1.875 2.69.48 3.9.48 5.875v.738c0 .397.308.704.705.704zm13.624-.649a.689.689 0 00-.698.704v.608c0 1.19-.806 1.942-2.064 1.942H6.763V8.35c0-.329-.199-.52-.527-.52a.66.66 0 00-.403.144l-2.68 2.242c-.26.212-.26.547 0 .759l2.68 2.242a.66.66 0 00.403.143c.328 0 .527-.191.527-.52v-1.544h5.181c2.174 0 3.569-1.21 3.569-3.179v-.745a.695.695 0 00-.704-.704z"})})},811979:(e,o,n)=>{n.d(o,{A:()=>c});var t=n(296540),r=()=>n(56366),i=()=>n(592678),s=n(474848);function a(e,o){const{onClose:a,persistOnClose:c,render:p,stopClickPropagation:d,onClick:b,disablePopup:f,disabled:h,forceInitialInbound:g,renderOrigin:v,originGap:C,borderRadius:w,popupWrapStyle:S}=e,P=(0,r().uB)(e.buttonPopupStore,n(463830).A);(0,t.useEffect)((()=>()=>{P.setState({open:!1})}),[P]);const x=(0,t.useCallback)((()=>l(a,c,P)),[a,c,P]),A=(0,t.useCallback)((()=>(0,s.jsx)(u,{onClose:a,persistOnClose:c,render:p,buttonPopupStore:P})),[a,c,p,P]),k=(0,t.useCallback)((e=>function(e,o,n,t,r){o&&(null==e||e.stopPropagation());if(e&&i().Vt(e))return;n&&n(e);t||r.setState({...r.state,open:!0})}(e,d,b,f,P)),[d,b,f,P]),j=(0,r().K8)((()=>v({...e,onClick:h?n(496603).D_:k})),[h,k,e,v]),m=(0,r().K8)((()=>P.state.open),[P]);return(0,s.jsx)(n(897119).Ay,{ref:o,...e,forceInitialInbound:Boolean(g),render:A,open:m,onDismiss:x,origin:j,originGap:C,borderRadius:w,popupWrapStyle:S,trapFocus:!0})}const c=t.forwardRef(a);function l(e,o,n){e&&e(),o||n.reset()}function u(e){let{onClose:o,persistOnClose:n,render:i,buttonPopupStore:a}=e;const c=(0,t.useCallback)((()=>l(o,n,a)),[o,n,a]),u=(0,r().K8)((()=>i({close:c})),[i,c]);return(0,s.jsx)(s.Fragment,{children:u})}}}]);