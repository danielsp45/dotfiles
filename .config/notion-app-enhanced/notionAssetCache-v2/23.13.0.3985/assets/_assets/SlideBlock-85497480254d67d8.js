"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[52009],{505902:(e,t,o)=>{o.r(t),o.d(t,{default:()=>A});var i=o(296540),n=()=>o(56366),s=()=>o(401497),r=()=>o(481235),a=()=>o(138856),l=()=>o(959013),d=()=>o(324089),c=()=>o(751156),p=()=>o(864145),h=()=>o(891078),u=()=>o(962730),g=()=>o(496889),x=()=>o(145214),y=()=>o(704152),m=()=>o(554509),f=()=>o(859428),k=o(474848);const b=(0,l().YK)({startPresentation:{id:"slideBlock.startPresentation",defaultMessage:"Start presentation"},ratioLockToggle:{id:"slideBlock.ratioLockToggle",defaultMessage:"Lock/unlock ratio"},moreActions:{id:"slideBlock.moreActions",defaultMessage:"More actions"}});function S(e,t){const r=(0,o(484714).v3)(),a=(0,i.useRef)(null),u=(0,h().bx)(e.store,e.disabled),[g,x]=(0,i.useState)(!1),[f,b]=(0,i.useState)(!1),S=(0,n().K8)((()=>(0,p().B)(e.store,g)),[g,e.store]),A=(0,n().K8)((()=>e.store.getContentStore()),[e.store]),j=(0,n().K8)((()=>(0,o(589181).qY)(e.store)+1),[e.store]),I=(0,s().IS)((()=>({root:{display:"flex",width:"100%",position:"relative",flexDirection:"column",minWidth:0,padding:4},lockedAspectRatio:{aspectRatio:"16 / 9",overflowY:"scroll"}})),[]),M=(0,k.jsx)("div",{role:"note",style:{display:"flex",flexDirection:"column",padding:"4px 0px"},ref:a,children:(0,k.jsxs)("div",{style:{...e.style,...I.root},onMouseLeave:()=>x(!1),onMouseEnter:()=>x(!0),children:[(0,k.jsx)(v,{isVisible:g||S===p().l.Selected,store:e.store,onPresent:()=>{o(447934).V_({slideBlockStore:e.store})},onChangeAspectRatioLock:()=>b(!f),slideIndex:j}),(0,k.jsx)("div",{style:f?I.lockedAspectRatio:void 0,children:(0,k.jsx)(o(199896).Ay,{store:e.store,analyticsName:"page_content",canSelect:!1,canDrag:!1,isListContainer:!0,style:{display:"flex",flexDirection:"column"},children:(0,k.jsx)(o(493733).A,{disabled:e.disabled,store:A,disableCommentMenu:e.disableCommentMenu,disableHoverMenu:e.disableHoverMenu||S!==p().l.SelectedDescendant,disableDrag:e.disableDrag,disableContent:!1,emptyPlaceholder:(0,k.jsx)(y().A,{onClick:()=>function(e,t){c().createAndCommit({userAction:"SlideBlock.handlePlaceholderClick",environment:t,canUndo:!0,perform:o=>{d()._N({environment:t,store:e,transaction:o})}})}(e.store,r),disabled:!u,style:{padding:4,borderRadius:4},children:(0,k.jsx)(m().D,{colorName:"secondary",children:(0,k.jsx)(l().sA,{defaultMessage:"Empty slide. Click here to start typing or drop blocks inside.",id:"slideBlock.emptyBlock.placeholderText"})})})})},e.store.id)}),(0,k.jsx)(B,{isHovered:g})]})});return(0,h().NW)(e.store,t,(0,i.useMemo)((()=>({renderedType:"slide",getNode:()=>a.current,getBlockStore:()=>e.store})),[e.store]),M)}function B(e){let{isHovered:t}=e;const o=(0,s().IS)((e=>({halo:{position:"absolute",inset:-4,pointerEvents:"none",borderRadius:8,border:`1px solid ${e.stroke.secondary}`},hovered:{border:`2px solid ${e.stroke.primary}`}})),[]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(x().A,{visible:t,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:{...o.halo,...o.hovered}}),(0,k.jsx)(x().A,{visible:!t,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:o.halo})]})}function v(e){let{isVisible:t,store:o,onPresent:i,onChangeAspectRatioLock:n,slideIndex:d}=e;const c=(0,l().tz)(),p=(0,s().IS)((e=>({actionBar:{width:"auto",position:"absolute",right:-2,zIndex:1e4,marginTop:-42,height:28,fontSize:14,lineHeight:1.2,display:"flex",alignItems:"center",whiteSpace:"nowrap",background:e.popoverBackground,boxShadow:e.shadowSM,borderRadius:8},actionBarIcon:{width:14,height:14,marginRight:0,fill:e.icon.secondary},actionBarSection:{display:"flex",alignItems:"center",flexDirection:"row",gap:2,height:"100%",padding:"0 8px",borderRight:`1px solid ${e.stroke.primary}`}})),[]);return(0,k.jsxs)(x().A,{visible:t,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:p.actionBar,children:[(0,k.jsx)("div",{style:p.actionBarSection,children:(0,k.jsx)(m().D,{styleName:"Body-12px/Medium",colorName:"secondary",children:(0,k.jsx)(l().sA,{defaultMessage:"Slide {slideIndex}",id:"slideBlock.numberLabel",values:{slideIndex:d}})})}),(0,k.jsx)(f().A,{renderTooltip:()=>(0,k.jsx)(l().sA,{...b.startPresentation}),placement:u().W.Top,delayThreshold:300,render:e=>(0,k.jsx)(y().A,{...e,ariaLabel:c.formatMessage(b.startPresentation),style:p.actionBarSection,onClick:i,children:(0,a().u)({...p.actionBarIcon,width:12,height:12})})}),(0,k.jsx)(f().A,{renderTooltip:()=>(0,k.jsx)(l().sA,{...b.ratioLockToggle}),placement:u().W.Top,delayThreshold:300,render:e=>(0,k.jsx)(y().A,{...e,ariaLabel:c.formatMessage(b.ratioLockToggle),style:p.actionBarSection,onClick:()=>{n()},children:(0,r().H)(p.actionBarIcon)})}),(0,k.jsx)(g().A,{store:o,fadeIn:!1,tooltipContent:c.formatMessage(b.moreActions),style:{width:30,height:"100%"},iconStyle:p.actionBarIcon})]})}const A=i.memo(i.forwardRef(S),o(821062).A)},589181:(e,t,o)=>{o.d(t,{$C:()=>l,a$:()=>s,b:()=>a,qY:()=>r});o(898992),o(354520);var i=()=>o(108944),n=()=>o(299545);function s(e){return(0,n().zo)({blockStore:e,transclusionReferences:"recurseInto",childPages:"omit"}).filter((e=>"slide"===e.getType()))}function r(e){const t=(0,i().Nq)(e);return t?function(e){let{pageStore:t,slideBlockStore:o}=e;return s(t).findIndex((e=>e.id===o.id))}({pageStore:t,slideBlockStore:e}):-1}function a(e){let{pageStore:t,slideBlockStore:o}=e;const i=s(t),n=i.findIndex((e=>e.id===o.id));if(-1!==n&&n!==i.length-1)return i[n+1]}function l(e){let{pageStore:t,slideBlockStore:o}=e;const i=s(t),n=i.findIndex((e=>e.id===o.id));if(-1!==n&&0!==n)return i[n-1]}}}]);