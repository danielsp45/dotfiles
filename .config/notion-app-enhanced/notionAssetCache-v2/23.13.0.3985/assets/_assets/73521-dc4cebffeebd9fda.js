"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[2411,4902,5053,5834,9150,28464,34208,54518,67608,73521,75814,78984,82122,84358],{346:(e,t,n)=>{n.d(t,{MG:()=>m,T1:()=>g,a1:()=>x,dt:()=>f,kg:()=>h,lC:()=>b,n_:()=>v});var i=n(296540),o=()=>n(484714),r=()=>n(56366),a=()=>n(187174),s=()=>n(645873),l=()=>n(941463),c=()=>n(441199),d=()=>n(749687),u=()=>n(737230),p=()=>n(756114);const g=new(s().O2)("PerformanceToolbar",(()=>Promise.all([n.e(16471),n.e(92845),n.e(84468),n.e(48632),n.e(75078),n.e(95168),n.e(36908),n.e(21194),n.e(23930),n.e(61347),n.e(45624)]).then(n.bind(n,462407)))),m=(0,s()._h)(g,(e=>e.PerformanceToolbar)),f=(0,s()._h)(g,(e=>e.PerformanceToolbarSettings));function h(){const e=(0,o().v3)();return(0,r().K8)((()=>(0,p().D)(e,e.RouterStore.state)),[e])}function v(){const e=(0,o().v3)(),t=y("PerformanceToolbarStore"),n=y("isPerformanceToolbarVisible");return(0,r().K8)((()=>!(!t||!n)&&n(e,e.RouterStore.state,t.state)),[n,e,t])}function b(){const e=y("PerformanceToolbarStore");return(0,r().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function x(){const e=(0,o().v3)(),t=y("createPerformanceToolbarMouseListeners"),n=y("PerformanceToolbarStore"),{sidebarExpanded:a,sidebarWidth:s,secondarySidebarExpanded:p,secondarySidebarWidth:g,updateSidebarExpanded:m,updateSidebarWidth:f}=(0,r().K8)((()=>({sidebarExpanded:d().sidebarExpandedStore.state,sidebarWidth:d().sidebarWidthStore.state,secondarySidebarExpanded:c().default.isOpen(),secondarySidebarWidth:l().Ay.getWidth(),updateSidebarExpanded:u().Ay.state.expanded,updateSidebarWidth:u().Ay.state.width})),[]);return(0,i.useEffect)((()=>{if(n&&t)return t(e,(e=>n.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),a,s,p,g,m,f)}),[t,e,n,a,s,p,g,m,f])}function y(e){const t=h(),[{value:n}]=(0,a().Yb)((()=>t?g.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return n}},10123:(e,t,n)=>{n.d(t,{A:()=>r});var i=()=>n(570551);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e){(0,i().A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===o(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},15570:(e,t,n)=>{n.d(t,{t:()=>te});var i=n(296540),o=()=>n(484714),r=()=>n(56366),a=()=>n(401497),s=()=>n(76118),l=()=>n(959013),c=()=>n(534177),d=()=>n(284371),u=()=>n(416726),p=()=>n(751156),g=()=>n(755199),m=()=>n(2220),f=()=>n(704152),h=()=>n(493823),v=()=>n(843189),b=()=>n(135221),x=()=>n(331542),y=()=>n(864943),S=()=>n(204063),w=()=>n(859428),A=()=>n(21140),C=()=>n(597755),k=()=>n(553965),j=()=>n(949305),M=()=>n(249847),_=()=>n(477293),T=()=>n(963589),P=()=>n(645200),B=()=>n(765957),I=()=>n(227440),D=()=>n(329304),R=()=>n(891360),N=()=>n(271380),L=()=>n(521785),E=()=>n(778450),O=()=>n(63728),H=()=>n(431895);var W=()=>n(178014),V=()=>n(739375),U=()=>n(353890),F=()=>n(210667),z=()=>n(506050),Y=()=>n(748197),K=()=>n(451339),$=()=>n(674266),G=n(474848);const q=32,J=(0,l().YK)({transcribing:{id:"dictation.transcriptionBlock.recordingButton.stop",defaultMessage:"Stop"},summarizing:{id:"dictation.transcriptionBlock.recordingButton.summarizing",defaultMessage:"Summarizing"},paused:{id:"dictation.transcriptionBlock.recordingButton.paused",defaultMessage:"Resume"}}),X=(0,l().YK)({thinking:{id:"dictation.transcriptionBlock.recordingButton.summarizing.thinking",defaultMessage:"Thinking"},summarizing:{id:"dictation.transcriptionBlock.recordingButton.summarizing.summarizing",defaultMessage:"Summarizing"}}),Z=(0,l().YK)({resume:{id:"dictation.transcriptionBlock.recordingButton.resume",defaultMessage:"Resume"}}),Q=(0,l().YK)({noPermissionTooltip:{id:"dictation.transcriptionBlock.recordingButton.noPermissionTooltip",defaultMessage:"You do not have permission to transcribe"},transcriptionDisabledTooltip:{id:"dictation.transcriptionBlock.recordingButton.transcriptionDisabledTooltip",defaultMessage:"AI Meeting Notes is not available in this workspace"},stopButtonTooltip:{id:"dictation.transcriptionBlock.recordingButton.stopButtonTooltip",defaultMessage:"Stop and summarize"},stopOfflineButtonTooltip:{id:"dictation.transcriptionBlock.recordingButton.stopOfflineButtonTooltip",defaultMessage:"Stop"}});function ee(e){const{canEdit:t,isInTemplate:n,isOnline:i,isEnabled:o}=e;return i?n?(0,G.jsx)(l().sA,{...L().v.templateStartTooltip}):t?o?void 0:(0,G.jsx)(l().sA,{...Q.transcriptionDisabledTooltip}):(0,G.jsx)(l().sA,{...Q.noPermissionTooltip}):(0,G.jsx)(l().sA,{...u().AY.unavailableOfflineTooltip})}function te(){const{store:e,state:t,canEdit:n,isEnabled:a,isInTemplate:d}=(0,U().s)(),u=(0,o().v3)(),p=(0,r().O$)(I().e),g=(0,r().K8)((()=>{var e;return"rateLimited"===(null===(e=R().W.state)||void 0===e?void 0:e.type)}),[]),m=!n||d||!p||!a||g,f=(0,V().x)(),h=(0,W().X)(),v=(0,i.useCallback)((()=>{z().L.dismiss("nux"),z().L.dismiss("nux-overlay")}),[]),b=(0,r().O$)(B().AppStoreCurrentSpaceStore),y=(0,M().T)(),S=(0,D()._X)({name:"ai_meeting_notes",spaceId:(null==b?void 0:b.id)??"",userId:y??"",amount:1}),w=(0,F().h)(),A=(0,r().K8)((()=>Y().c.getIsLoading(e.id)),[e.id]),C=(0,T().X)("enable_transcription_on_browser_for_debug_enabled"),k="allow_browser"===(0,_().r)("ai_meeting_notes_allow_browser");return g||!S||(0,s().e2)(S)?A?(0,G.jsx)(pe,{disabled:!n,icon:(0,G.jsx)(x().A,{}),text:(0,G.jsx)(l().sA,{id:"transcriptionBlockControlButton.stopWhenLoading",defaultMessage:"Stop"}),onClick:()=>{(0,N().stopTranscription)({environment:u,blockStore:e,from:"stop_button"})}}):w||C||"initial"!==t.state?"idle"===t.state?null:"transcribing"===t.state?(0,G.jsx)(pe,{isActive:!0,disabled:!n,icon:(0,G.jsx)($().w,{disabled:!n}),text:(0,G.jsx)(l().sA,{...J.transcribing}),tooltipMessage:a?n?p?(0,G.jsx)(l().sA,{...Q.stopButtonTooltip}):(0,G.jsx)(l().sA,{...Q.stopOfflineButtonTooltip}):(0,G.jsx)(l().sA,{...Q.noPermissionTooltip}):(0,G.jsx)(l().sA,{...Q.transcriptionDisabledTooltip}),onClick:()=>{const t={environment:u,blockStore:e,from:"stop_button"};p?(0,N().stopTranscription)(t):(0,N().pauseTranscription)({...t,shouldStopDictation:!0})}}):"summarizing"===t.state?(0,G.jsx)(de,{state:t}):"paused"===t.state?(0,G.jsx)(pe,{disabled:m,icon:(0,G.jsx)(K().j,{disabled:m}),text:(0,G.jsx)(l().sA,{...Z.resume}),tooltipMessage:ee({canEdit:n,isInTemplate:d,isOnline:p,isEnabled:a}),onClick:()=>{(0,N().startTranscription)({environment:u,blockStore:e,from:"resume"})}}):f?(0,G.jsx)(ie,{store:e,onClick:v}):h?(0,G.jsx)(oe,{}):"initial"===t.state?(0,G.jsx)(ce,{disabled:m,store:e,tooltipMessage:ee({canEdit:n,isInTemplate:d,isOnline:p,isEnabled:a}),onClick:v}):(0,c().HB)(t):(0,G.jsxs)(G.Fragment,{children:[k?(0,G.jsx)(se,{store:e}):void 0,(0,G.jsx)(le,{disabled:m,tooltipMessage:ee({canEdit:n,isInTemplate:d,isOnline:p,isEnabled:a})})]}):(0,G.jsx)(ne,{featureAvailability:S})}function ne(e){const{featureAvailability:t}=e,{actionButtonMsg:n,actionForFeatureAvailability:i}=(0,j().x)({featureAvailability:t,upgradeRequestAnalyticsEntrypoint:"ai_meeting_notes",upgradeRequestEntrypoint:"ai_meeting_notes",upsellFrom:"ai_meeting_notes"});return(0,G.jsx)(ue,{onClick:i,children:n})}function ie(e){const{store:t,onClick:n}=e,r=(0,o().v3)(),a=(0,i.useCallback)((()=>{(0,N().startTranscription)({environment:r,blockStore:t,from:"start_nux"}),null==n||n()}),[r,t,n]);return(0,G.jsx)(ue,{onClick:a,children:(0,G.jsx)(l().sA,{id:"transcriptionBlockControlButton.nux.startButton",defaultMessage:"Start AI Meeting Notes"})})}function oe(){const e=(0,T().X)("transcription_tactical_ux_improvements");return(0,G.jsx)(A().Ye,{gap:6,children:e?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(ae,{}),(0,G.jsx)(re,{})]}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsx)(re,{}),(0,G.jsx)(ae,{})]})})}function re(){const e=(0,o().v3)(),t=(0,r().O$)(B().AppStoreCurrentUserSettingsStore),n=(0,T().X)("transcription_tactical_ux_improvements"),a=(0,l().YK)({dismiss:{id:"transcriptionBlockControlButton.calendarNux.dismiss",defaultMessage:"Dismiss"}}),s=(0,i.useCallback)((()=>{t&&(p().createAndCommit({userAction:"transcriptionBlockControlButton.dismissCalendarNux",environment:e,perform:e=>{g().mJ({userSettingsStore:t,data:{transcription_calendar_nux_dismissed_at:Date.now()},transaction:e})},canUndo:!0,userId:t.id}),(0,m().u)({environment:e,event:{eventName:"transcription_calendar_nux_dismissed",eventProperties:{}}}))}),[e,t]);return n?(0,G.jsx)(v().E,{onClick:s,style:{height:q},children:(0,G.jsx)(l().sA,{...a.dismiss})}):(0,G.jsx)(h().p,{onClick:s,children:(0,G.jsx)(l().sA,{...a.dismiss})})}function ae(){const e=(0,o().v3)(),t=(0,r().O$)(B().AppStoreCurrentSpaceStore),n=(0,i.useCallback)((()=>{(0,P().Op)({environment:e,spaceStore:t,collectionViewStore:void 0,from:"transcriptionBlockCalendarNux"})}),[e,t]);return(0,G.jsx)(ue,{onClick:n,children:(0,G.jsx)(l().sA,{id:"transcriptionBlockControlButton.calendarNux.connect",defaultMessage:"Connect Calendar"})})}function se(e){const{store:t}=e,n=(0,o().v3)(),r=(0,i.useCallback)((()=>{(0,N().startTranscription)({environment:n,blockStore:t,from:"start_from_browser"})}),[n,t]),s=(0,a().IS)((()=>({button:{height:q}})),[]);return(0,G.jsx)(w().A,{render:e=>(0,G.jsx)(y().A,{...e,onClick:r,style:s.button,children:(0,G.jsx)(l().sA,{id:"transcriptionBlockControlButton.startTranscriptionInBrowser.startButton",defaultMessage:"Start with limited audio"})}),renderTooltip:()=>(0,G.jsx)(l().sA,{id:"transcriptionBlockControlButton.startTranscriptionInBrowser.startTooltip",defaultMessage:"Browser limits audio. Get better transcripts with the Notion app."})})}function le(e){const{disabled:t,tooltipMessage:n}=e,a=(0,o().v3)(),{action:s,registered:c}=function(e){const{source:t,url:n}=e,a=(0,o().v3)(),s=(0,r().O$)(O().l);return(0,i.useEffect)((()=>{(0,E().e)(a)}),[a]),{action:(0,i.useCallback)((()=>{(0,H().MZ)({environment:a,registered:s,source:t,url:n})}),[a,s,t,n]),registered:s}}({source:"transcription_block",url:(0,C().P)(window.location.href)}),d="allow_browser"===(0,_().r)("ai_meeting_notes_allow_browser"),u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,G.jsx)(ue,{...e,disabled:t,onClick:()=>{(0,m().u)({environment:a,event:{eventName:"transcription_block_navigate_to_desktop_app_clicked",eventProperties:{is_desktop_app_registered:c,source:"transcription_block"}}}),s()},children:c?(0,G.jsx)(l().sA,{id:"transcriptionBlockControlButton.missingRequirement.openDesktopApp",defaultMessage:"Open Notion app"}):(0,G.jsx)(l().sA,{id:"transcriptionBlockControlButton.missingRequirement.downloadDesktopApp",defaultMessage:"Download Notion app"})})};return n||!d?(0,G.jsx)(w().A,{render:e=>u(e),renderTooltip:()=>n||(0,G.jsx)(l().sA,{id:"transcriptionBlockControlButton.missingRequirement.appRequiredTooltip",defaultMessage:"AI Meeting Notes is not available on browser."})}):u()}function ce(e){const{store:t,disabled:n,tooltipMessage:r,onClick:a}=e,s=(0,o().v3)(),c=(0,i.useCallback)((()=>{(0,N().startTranscription)({environment:s,blockStore:t,from:"consent_affirmed"}),(0,m().u)({environment:s,event:{eventName:"transcription_consent_affirmed",eventProperties:{block_id:t.id}}}),null==a||a()}),[s,t,a]);return(0,G.jsx)(w().A,{disableTooltip:!r,renderTooltip:()=>r,render:e=>(0,G.jsx)(ue,{...e,disabled:n,onClick:c,children:(0,G.jsx)(l().sA,{id:"transcriptionBlockControlButton.confirmConsent",defaultMessage:"Start transcribing"})})})}function de(e){const{state:t}=e,n=(0,a().IS)((e=>({text:{fontSize:14,fontWeight:d().Wy.medium,color:e.text.tertiary}})),[]);return(0,G.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6},children:[(0,G.jsx)(b().A,{isTriColored:!0}),(0,G.jsx)("span",{style:n.text,children:(0,G.jsx)(l().sA,{...X[t.step]})})]})}function ue(e){return(0,G.jsx)(S().A,{...e,style:{...e.style,height:q}})}function pe(e){const{icon:t,text:n,tooltipMessage:o,onClick:r,isActive:s,disabled:l}=e,[c,u]=(0,i.useState)(!1),p=function(e,t,n){return(0,a().IS)((i=>({container:{height:q,display:"flex",justifyContent:"center",alignItems:"center",gap:6,paddingTop:14,paddingBottom:14,paddingLeft:8,paddingRight:8,borderRadius:6,border:"none",cursor:n?"not-allowed":"pointer",background:t?i.tint.uiRed:i.fill.lightGrayPrimary},hoveredStyle:n?{background:t?i.tint.uiRedHover:i.tint.uiRed}:{},text:{fontSize:14,color:n?i.text.tertiary:e||t?i.text.uiRedPrimary:i.text.primary,fontWeight:d().Wy.medium}})),[e,t,n])}(c,s,l),g=e=>{const i={onClick:r};return l||(i.onMouseEnter=()=>u(!0),i.onMouseLeave=()=>u(!1)),(0,G.jsxs)(f().A,{...(0,k().A)(e,i),style:p.container,hoveredStyle:p.hoveredStyle,disabled:l,children:[t,(0,G.jsx)("span",{style:p.text,children:n})]})};return o?(0,G.jsx)(w().A,{render:e=>g(e),renderTooltip:()=>o}):g({})}},25500:(e,t,n)=>{n.d(t,{A:()=>o});n(296540);var i=n(474848);function o(e){return(0,i.jsx)("div",{style:{width:"100%",position:"relative",paddingBottom:100*e.ratio+"%"},children:e.children})}},29037:(e,t,n)=>{n.r(t),n.d(t,{checkmarkIcon:()=>o,iconDefinition:()=>i});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"3.92 3.91 12.17 12.18",svg:(0,n(474848).jsx)("path",{d:"M15.784 4.002a.625.625 0 0 1 .214.857L9.445 15.784a.625.625 0 0 1-1.01.085l-4.37-5.098a.625.625 0 0 1 .948-.814l3.806 4.44 6.109-10.181a.625.625 0 0 1 .857-.214"})},o=(0,n(340498).wt)("checkmark",i)},59400:(e,t,n)=>{n.d(t,{nR:()=>d,m$:()=>s,m4:()=>l,Dy:()=>c,FZ:()=>p});n(296540);var i=()=>n(645873),o=n(474848);function r(e){const{shouldShowSpinner:t,collectionSettingsProps:i}=e;return(0,o.jsx)(n(735695).Ay,{collectionSettingsStore:i.collectionSettingsStore,fullHeight:i.fullHeight,hideDesktopHeader:i.hideDesktopHeader,children:t&&(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center",overflow:"hidden",paddingBottom:20},children:(0,o.jsx)(n(331542).A,{})})})}const a=new(i().O2)("collectionSettings",(()=>Promise.all([n.e(75134),n.e(16471),n.e(58550),n.e(44711),n.e(53321),n.e(90825),n.e(96346),n.e(55373),n.e(37353),n.e(29151),n.e(78191),n.e(62475),n.e(3151),n.e(98629),n.e(92845),n.e(84468),n.e(5605),n.e(48486),n.e(95794),n.e(13677),n.e(56952),n.e(48632),n.e(75078),n.e(25497),n.e(74562),n.e(27711),n.e(4422),n.e(11341),n.e(46414),n.e(95168),n.e(28271),n.e(34877),n.e(36908),n.e(17254),n.e(84185),n.e(32421),n.e(15315),n.e(24587),n.e(78708),n.e(43777),n.e(74752),n.e(91194),n.e(81197),n.e(98659),n.e(20502),n.e(6266),n.e(8184),n.e(83884),n.e(65881),n.e(99809),n.e(93282),n.e(43678),n.e(15019),n.e(90978),n.e(3910),n.e(77213),n.e(6912),n.e(30291),n.e(19930),n.e(58102),n.e(26483),n.e(6463),n.e(40925),n.e(282),n.e(61349),n.e(62573),n.e(1440),n.e(63996),n.e(66559),n.e(35986),n.e(92924),n.e(64819),n.e(97339),n.e(55717),n.e(63797),n.e(21367),n.e(22686),n.e(99108)]).then(n.bind(n,409198)))),s=(0,i()._h)(a,(e=>e.CollectionSettings),{renderLoading:(e,t)=>(0,o.jsx)(r,{shouldShowSpinner:e,collectionSettingsProps:t})}),l=(0,i()._h)(a,(e=>e.CollectionSettingsButtonOptions)),c=(0,i()._h)(a,(e=>e.CollectionSettingsPropertyTypeMenuItem)),d=(0,i()._h)(a,(e=>e.CollectionEditButtonAutomationOption)),u=new(i().O2)("TableHeaderPropertyCreationMenu",(()=>Promise.all([n.e(75134),n.e(16471),n.e(58550),n.e(44711),n.e(53321),n.e(90825),n.e(96346),n.e(55373),n.e(37353),n.e(29151),n.e(78191),n.e(92845),n.e(84468),n.e(5605),n.e(48486),n.e(95794),n.e(13677),n.e(56952),n.e(48632),n.e(75078),n.e(25497),n.e(74562),n.e(27711),n.e(4422),n.e(11341),n.e(46414),n.e(95168),n.e(28271),n.e(34877),n.e(36908),n.e(17254),n.e(84185),n.e(32421),n.e(15315),n.e(24587),n.e(78708),n.e(43777),n.e(74752),n.e(91194),n.e(81197),n.e(98659),n.e(20502),n.e(6266),n.e(8184),n.e(83884),n.e(65881),n.e(99809),n.e(93282),n.e(43678),n.e(15019),n.e(90978),n.e(3910),n.e(77213),n.e(61349),n.e(35986),n.e(43935)]).then(n.bind(n,908800)))),p=(0,i()._h)(u,(e=>e.TableHeaderPropertyCreationMenu))},63467:(e,t,n)=>{n.d(t,{y:()=>d});var i=()=>n(637997),o=()=>n(267419);const r={ko:()=>n.e(2268).then(n.bind(n,224434)),es:()=>n.e(95264).then(n.bind(n,196425)),de:()=>n.e(35390).then(n.bind(n,653703)),fr:()=>n.e(3272).then(n.bind(n,94677)),pt:()=>n.e(27315).then(n.bind(n,766869)),zh:()=>n.e(69945).then(n.bind(n,516814)),ja:()=>n.e(77757).then(n.bind(n,824432)),da:()=>n.e(9423).then(n.bind(n,440761)),fi:()=>n.e(59337).then(n.bind(n,462135)),nb:()=>n.e(2040).then(n.bind(n,937314)),nl:()=>n.e(51106).then(n.bind(n,530897)),sv:()=>n.e(53631).then(n.bind(n,895222)),id:()=>n.e(69945).then(n.bind(n,516814)),th:()=>n.e(69945).then(n.bind(n,516814)),vi:()=>n.e(69945).then(n.bind(n,516814))};let a=!1,s=!1;async function l(e){for(const[n,o]of Object.entries(e.emojiLocaleKeywords)){var t;i().fB[n]={...i().fB[n],keywords:[...o,...(null===(t=i().fB[n])||void 0===t?void 0:t.keywords)||[]]}}await o().A.waitUntilLoaded(),o().A.update((t=>{let{emojiByName:n,...i}=t;return{...i,emojiByName:{...n,...e.emojiByName}}}))}async function c(){if(a)return;const[e]=n(662303).locale.split("-");e in r&&(await l(await r[e]()),a=!0)}const d=(0,n(279900).A)((async()=>{await async function(){s||(await l(await n.e(51872).then(n.bind(n,443716))),s=!0)}(),await c()}))},69447:(e,t,n)=>{n.d(t,{Lq:()=>i,WK:()=>r,nh:()=>o});const i=40,o=48,r=60},73223:(e,t,n)=>{n.r(t),n.d(t,{dismissTutorial:()=>d,resetTutorials:()=>u,tutorialAdvanceToStep:()=>p,tutorialAdvanceToStepAfter:()=>g,tutorialGoToNextStep:()=>l,tutorialGoToPrevStep:()=>c});var i=()=>n(541235),o=()=>n(751156),r=()=>n(755199),a=()=>n(739135),s=()=>n(765957);function l(e,t){var n;const{currentUserSettingsStore:i}=s().default.state;if(!i)return;const o=null===(n=i.getSettings())||void 0===n?void 0:n.tutorials;m({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{r().mJ({userSettingsStore:i,transaction:e,data:{tutorials:{...o,[t]:(0,a().i9)(i,t)}}})},userId:i.id})}function c(e,t){var n;const{currentUserSettingsStore:i}=s().default.state;if(!i)return;const o=null===(n=i.getSettings())||void 0===n?void 0:n.tutorials;m({userAction:"TutorialActions.prevStep",environment:e,perform:e=>{r().mJ({userSettingsStore:i,transaction:e,data:{tutorials:{...o,[t]:(0,a().KD)(i,t)}}})},userId:i.id})}function d(e,t){var n;const{currentUserSettingsStore:o}=s().default.state;if(!o)return;const a=null===(n=o.getSettings())||void 0===n?void 0:n.tutorials;(null==a?void 0:a[t])!==i().YD&&m({userAction:"TutorialActions.dismissTutorial",environment:e,perform:e=>{r().mJ({userSettingsStore:o,transaction:e,data:{tutorials:{...a,[t]:i().YD}}})},userId:o.id})}function u(e){const{currentUserSettingsStore:t}=s().default.state;t&&m({userAction:"TutorialActions.resetTutorialsDebug",environment:e,perform:e=>{r().mJ({userSettingsStore:t,transaction:e,data:{tutorials:{}}})},userId:t.id})}function p(e,t,n){var o;const{currentUserSettingsStore:l}=s().default.state;if(!l||(0,a().x$)(l,t))return;const c=(0,a().gt)(l,t);i().c$[t].steps.findIndex((e=>e.id===c))>=i().c$[t].steps.findIndex((e=>e.id===n))||r().mJ({userSettingsStore:l,transaction:e,data:{tutorials:{...null===(o=l.getSettings())||void 0===o?void 0:o.tutorials,[t]:n}}})}function g(e,t,n){if((0,a().ll)(n))return;const i=(0,a().tb)(t,n);i&&p(e,t,i)}function m(e){return o().createAndCommit({...e,canUndo:!1})}},77279:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});class i extends(()=>n(757695))().Store{getInitialState(){return{discussionIdToExpansionStartPointMap:{}}}}const o=new i},97059:(e,t,n)=>{n.d(t,{W:()=>f,w:()=>m});n(944114);var i=()=>n(585515),o=()=>n(577449),r=()=>n(161479),a=()=>n(545285),s=()=>n(763824),l=()=>n(780054),c=()=>n(870618),d=()=>n(670631),u=()=>n(227440),p=()=>n(217429),g=()=>n(540758);async function m(e){const{environment:t}=e;return(await s().lX(Object.keys(d().A.state.offlinePages||{}),100,(e=>async function(e){const{environment:t,pageId:n}=e,s={page:{id:n,spaceId:(0,r().e)(void 0)},baseUrl:l().A.domainBaseUrl,publicDomainName:l().A.publicDomainName,shouldTraverseToggleBlocks:!0,limit:1/0,cursor:{stack:[]},verticalColumns:!1},d=[];return await i().T(s,o().h.sideEffect((e=>((0,a().u)(e)&&d.push(e.id),Promise.resolve())),o().h.fromMonomorphicFunctionUnsafe((async e=>{const n=await c().h7({environment:t,pointer:e,useInMemoryCacheOnly:!1,skipAccessWrites:!0});return null==n?void 0:n.model})))),d}({environment:t,pageId:e})))).flat()}function f(e,t){return!u().A.state.online&&(e.device.isElectron||e.device.isMobileNative)&&p().default.checkGate({gateName:"download_for_offline"})&&!(0,g().Bd)(t)}},105819:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>i,pencilLineIcon:()=>o});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"2.63 4.12 14.99 11.76",svg:(0,n(474848).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},o=(0,n(340498).wt)("pencilLine",i)},112799:(e,t,n)=>{n.d(t,{a:()=>c,E:()=>l});n(16280);var i=n(296540),o=()=>n(484714),r=(n(898992),n(672577),()=>n(427704));r().GJ.downloadMac,r().GJ.downloadMacUniversal,r().GJ.downloadMacIntel,r().GJ.downloadMacAppleSilicon,r().GJ.downloadWindows,r().GJ.downloadWindowsArm;const a=[{route:r().GJ.downloadMac,architecture:"universal",operatingSystem:"mac",target:"macUniversal"},{route:r().GJ.downloadMacIntel,architecture:"x86",operatingSystem:"mac",target:"mac"},{route:r().GJ.downloadMacUniversal,architecture:"universal",operatingSystem:"mac",target:"macUniversal"},{route:r().GJ.downloadMacAppleSilicon,architecture:"arm",operatingSystem:"mac",target:"macArm64"},{route:r().GJ.downloadWindows,architecture:"x86",operatingSystem:"windows",target:"windows"},{route:r().GJ.downloadWindowsArm,architecture:"arm",operatingSystem:"windows",target:"windowsArm64"}];function s(e,t){const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=e.toLowerCase();if(t.startsWith("arm"))return"arm";if(t.startsWith("x86")||"intel"===t)return"x86";return null}(e);if(!n||!("mac"===t||"windows"===t))return null;const i=a.find((e=>e.architecture===n&&e.operatingSystem===t));return(null==i?void 0:i.route)||null}function l(){const e=(0,i.useRef)(null),t=(0,o().Y0)();return(0,i.useEffect)((()=>{c(t).then((t=>{e.current=t??null})).catch((e=>{throw new Error(e)}))}),[t]),e}async function c(e){var t;if(!("userAgentData"in navigator))return e.isMac?r().GJ.downloadMacUniversal:r().GJ.downloadWindows;const n=navigator.userAgentData,i=await(null==n||null===(t=n.getHighEntropyValues)||void 0===t?void 0:t.call(n,["architecture"])),o=s(null==i?void 0:i.architecture,e.os);return o||null}},115562:(e,t,n)=>{n.d(t,{W:()=>l});n(296540);var i=()=>n(819121),o=()=>n(401497),r=()=>n(955825),a=()=>n(677195),s=n(474848);function l(e){const{selectorSize:t="normal",...n}=e,{disabled:l,checked:c}=n,[d,u]=(0,i().A)(),p=function(e){const{checked:t,disabled:n,isFocusVisible:i,selectorSize:r}=e;return(0,o().IS)((e=>({root:{position:"absolute",display:"flex",width:"large"===r?15:11,height:"large"===r?15:11,margin:1.5,justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"large"===r?2:1,transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${n?e.tint.regular:e.blueColor}`,background:n?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${n?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...i&&{boxShadow:e.buttonBlueFocusRing}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"large"===r?18:void 0,height:"large"===r?18:void 0,...n?{pointerEvents:"none"}:{cursor:"pointer"}},icon:{color:e.text.contrastPrimary,width:"large"===r?12:10,height:"large"===r?12:10,ariaHidden:!0}})),[r,t,n,i])}({checked:c,disabled:l,selectorSize:t,isFocusVisible:u});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{ref:d,type:"checkbox",style:p.input,...n}),(0,s.jsx)("span",{...(0,r().AH)(p.root,l?{}:{pseudoActive:p.active}),children:c&&(0,a().R)(p.icon)})]})}},132389:(e,t,n)=>{n.d(t,{A:()=>o});n(296540);var i=n(474848);function o(e){const t={display:"inline-block",minWidth:e.size,minHeight:e.size};return"x"===e.axis?t.minHeight=1:"y"===e.axis&&(t.minWidth=1),(0,i.jsx)("div",{style:t})}},132855:(e,t,n)=>{n.r(t),n.d(t,{arrowInCircleUpFillIcon:()=>o,iconDefinition:()=>i});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,n(474848).jsx)("path",{d:"M10 17.625a7.625 7.625 0 1 0 0-15.25 7.625 7.625 0 0 0 0 15.25m3.042-8.07a.625.625 0 0 1-.884 0L10.625 8.02v5.466a.625.625 0 1 1-1.25 0V8.021L7.842 9.554a.625.625 0 1 1-.884-.883l2.6-2.6a.625.625 0 0 1 .884 0l2.6 2.6a.625.625 0 0 1 0 .883"})},o=(0,n(340498).wt)("arrowInCircleUpFill",i)},149375:(e,t,n)=>{n.d(t,{v:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("arrowLeftThick",{viewBox:"0 0 16 16",directional:!0,svg:(0,i.jsx)("path",{d:"M1.54004 8.05762C1.54004 8.2627 1.62891 8.46094 1.78613 8.61133L6.29102 13.1162C6.45508 13.2734 6.63965 13.3486 6.82422 13.3486C7.25488 13.3486 7.5625 13.041 7.5625 12.6309C7.5625 12.4189 7.48047 12.2344 7.34375 12.1045L5.8125 10.5527L3.78906 8.70703L5.38867 8.80273H13.7012C14.1455 8.80273 14.46 8.49512 14.46 8.05762C14.46 7.61328 14.1455 7.3125 13.7012 7.3125H5.38867L3.7959 7.4082L5.8125 5.5625L7.34375 4.01074C7.48047 3.87402 7.5625 3.68945 7.5625 3.47754C7.5625 3.06738 7.25488 2.7666 6.82422 2.7666C6.63965 2.7666 6.45508 2.83496 6.27734 3.00586L1.78613 7.50391C1.62891 7.64746 1.54004 7.85254 1.54004 8.05762Z"})})},165121:(e,t,n)=>{n.d(t,{A:()=>o});class i extends(()=>n(757695))().Store{constructor(){super()}getInitialState(){}}const o=new i},173019:(e,t,n)=>{n.d(t,{r:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("pencil",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M3.926 13.307H14.11c.183 0 .34-.066.472-.199a.644.644 0 00.198-.471.652.652 0 00-.198-.479.644.644 0 00-.472-.198H5.272l-1.346 1.347zm-.704-.636l7.683-7.684-1.312-1.319-7.69 7.684-.67 1.606c-.037.1-.017.191.06.273.083.082.174.105.274.069l1.655-.63zm8.34-8.326l.738-.732c.182-.187.278-.376.287-.567.009-.192-.068-.374-.232-.547l-.267-.267c-.169-.168-.351-.246-.547-.232-.196.014-.385.11-.567.287l-.739.732 1.327 1.326z"})})},175116:(e,t,n)=>{n.d(t,{ET:()=>l,Ks:()=>c,RI:()=>s,p2:()=>a});n(16280);var i=n(296540);const o="collectionContextStore",r=(0,n(446943).C)({displayName:o,legacyContextKey:o,modernContextDefaultValue:void 0}),a=r.context,s=r.Provider;function l(){const e=i.useContext(a);if(void 0===e)throw new Error(`No context provided: ${o}`);return e}function c(){return i.useContext(a)}},178014:(e,t,n)=>{n.d(t,{M:()=>g,X:()=>p});var i=()=>n(484714),o=()=>n(56366),r=()=>n(583238),a=()=>n(765957),s=()=>n(227440),l=()=>n(53137),c=()=>n(353890),d=()=>n(210667),u=()=>n(891360);function p(){const e=(0,i().v3)(),t=(0,o().O$)(s().e),{state:n,canEdit:p,isEnabled:m}=(0,c().s)(),f=(0,o().K8)((()=>(0,r().mX)()),[]);return g({environment:e,state:n,isOnline:t,canUse:m&&p,isExternalIntegrationStoreLoaded:(0,o().K8)((()=>l().A.state.loaded),[]),hasConnectedCalendar:f,usage:(0,o().K8)((()=>{const e=u().W.state;return e&&"available"===e.type?e.usage:1/0}),[]),dismissed:(0,o().K8)((()=>{var e;return void 0!==(null===(e=a().AppStoreCurrentUserSettingsStore.state)||void 0===e||null===(e=e.getSettings())||void 0===e?void 0:e.transcription_calendar_nux_dismissed_at)}),[]),isTranscriptionSupportedOnDevice:(0,d().h)()})}function g(e){const{isOnline:t,canUse:n,state:i,isExternalIntegrationStoreLoaded:o,hasConnectedCalendar:r,usage:a,dismissed:s,isTranscriptionSupportedOnDevice:l}=e;return!!l&&(!!o&&(!r&&(!!t&&(!!n&&("initial"===i.state&&(!s&&a>0))))))}},194188:(e,t,n)=>{function i(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{A:()=>i})},207207:(e,t,n)=>{n.d(t,{J:()=>o});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"2.62 2.62 15.26 15.26",svg:(0,n(474848).jsx)("path",{d:"M8.875 2.625a6.25 6.25 0 1 0 3.955 11.09l3.983 3.982a.625.625 0 1 0 .884-.884l-3.983-3.982a6.25 6.25 0 0 0-4.84-10.205m-5 6.25a5 5 0 1 1 10 0 5 5 0 0 1-10 0"})},o=(0,n(340498).wt)("magnifyingGlass",i)},210667:(e,t,n)=>{n.d(t,{h:()=>a});var i=()=>n(484714),o=()=>n(963589),r=()=>n(239837);function a(){const e=(0,o().X)("enable_transcription_on_browser_for_debug_enabled"),t=(0,i().Y0)();return Boolean(e||(0,r().b8)(t))}},240865:(e,t,n)=>{n.d(t,{V:()=>r});var i=()=>n(56366),o=()=>n(765957);function r(e){return(0,i().K8)((()=>{var t;return e?e.getMemberCountFromPublicSpaceData()??void 0:(null===(t=o().default.state.currentSpaceStore)||void 0===t?void 0:t.getMemberCountFromPublicSpaceData())??void 0}),[e])}},255824:(e,t,n)=>{n.d(t,{a:()=>r});var i=()=>n(56366);const o=new(n(496506).ComputedStore)((()=>n(263711).g.state.isOpen),{debugName:"IsInPageViewModeStore"});function r(){return(0,i().O$)(o)}},256863:(e,t,n)=>{n.d(t,{A:()=>a});n(296540);var i=()=>n(56366),o=()=>n(824862),r=n(474848);const a=function(e){const{botValue:t,botStore:a,showActiveDot:s,style:l,size:c}=e,d=(0,n(959013).tz)(),u=(0,i().K8)((()=>{if(a){const e=a.getIcon();if(e)return{pointer:{table:o().GP,id:a.id,spaceId:a.getSpaceId()},icon:e}}else if(null!=t&&t.icon)return{pointer:{table:o().GP,id:t.id,spaceId:t.space_id},icon:t.icon}}),[a,t]),p=(0,i().K8)((()=>(null==a?void 0:a.getDisplayName(d))??(0,n(799288).Hg)(t)),[a,t,d]),{activeDotStyle:g}=(0,n(401497).IS)((e=>({activeDotStyle:{height:10,width:10,backgroundColor:e.palette.green[400],border:"2px solid white",borderRadius:"50%",position:"absolute",left:11,top:11}})),[]);return(0,r.jsxs)("div",{style:l,children:[(0,r.jsx)(n(187820).B6,{icon:u,title:p,size:c||18,disabled:!0,isEmptyPage:!1,useInvertedColors:!0}),s?(0,r.jsx)("div",{style:g}):void 0]})}},271084:(e,t,n)=>{n.d(t,{k:()=>o});n(581454);class i extends(()=>n(757695))().Store{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}getSortedUserIds(){return Object.entries(this.state||{}).sort(((e,t)=>{let[n,i]=e,[o,r]=t;return r-i})).map((e=>{let[t,n]=e;return t}))}}const o=new i;(0,n(604341).exposeDebugValue)("UserSimilarityStore",o)},279900:(e,t,n)=>{function i(e){let t,n,i;return async function(){for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t?(i=r,n||(n=t.then((()=>(n=void 0,t=e(...i),t))),n)):(t=e(...r),t)}}n.d(t,{A:()=>i})},320865:(e,t,n)=>{n.d(t,{A:()=>o});n(296540);var i=n(474848);const o=function(){return(0,i.jsx)(n(678553).Ay,{title:(0,i.jsx)(n(331542).A,{})})}},380048:(e,t,n)=>{n.d(t,{I:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("chevronLeft",{viewBox:"0 0 16 16",directional:!0,svg:(0,i.jsx)("path",{d:"M3.61816 8.06445C3.61816 8.29688 3.70703 8.49512 3.8916 8.67285L9.22363 13.8887C9.36719 14.0391 9.55859 14.1143 9.77734 14.1143C10.2217 14.1143 10.5703 13.7725 10.5703 13.3213C10.5703 13.1025 10.4814 12.9043 10.3311 12.7539L5.52539 8.06445L10.3311 3.375C10.4814 3.21777 10.5703 3.01953 10.5703 2.80078C10.5703 2.35645 10.2217 2.01465 9.77734 2.01465C9.55859 2.01465 9.36719 2.08984 9.22363 2.24023L3.8916 7.45605C3.70703 7.63379 3.625 7.83203 3.61816 8.06445Z"})})},381138:(e,t,n)=>{n.d(t,{q:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("search",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"})})},391532:(e,t,n)=>{n.r(t),n.d(t,{appendTranscriptionBlockToPage:()=>C,createAndNavigateToTranscriptionBlockInNewPage:()=>k,createTranscriptionBlockInNewPage:()=>j});n(898992),n(354520);var i=()=>n(244641),o=()=>n(584262),r=()=>n(700500),a=()=>n(597777),s=()=>n(604995),l=()=>n(416504),c=()=>n(919709),d=()=>n(534177),u=()=>n(669548),p=()=>n(44729),g=()=>n(857783),m=()=>n(185544),f=()=>n(319975),h=()=>n(751156),v=()=>n(87017),b=()=>n(755206),x=()=>n(211716),y=()=>n(972435),S=()=>n(765957),w=()=>n(502438);const A=(0,n(959013).YK)({newPage:{id:"transcriptionNewPageActions.newPage.title",defaultMessage:"Try AI Meeting Notes "}});function C(e){const{environment:t}=e;h().createAndCommit({userAction:"transcriptionNewPageActions.appendTranscriptionBlock",environment:t,canUndo:!0,perform:e=>{(0,v().insertBlockBelow)({environment:t,createBlockItem:b().ry[r().xd.transcription],analyticsFrom:"quick_templates",selection:[],transaction:e})}})}function k(e){const{environment:t,from:n,includeTitle:i,origin:r}=e,a=j({environment:t,from:n,includeTitle:i});a&&g().uK({environment:t,store:a,visitType:x().ig.Link,pageVisitSource:o().y8.Create,origin:r})}function j(e){const{environment:t,from:n,includeTitle:o}=e,g=S().default.state.currentSpaceStore,v=S().default.state.currentSpaceViewStore,x=w().default.getCurrentRecordCache();if(!x)return;if(!g||!v)return;const{performResult:{createdPage:C}}=h().createAndCommit({userAction:"transcriptionNewPageActions.createTranscriptionBlockInNewPage",environment:t,canUndo:!0,perform:e=>{const h=m().IT({environment:t,spaceStore:g,spaceViewStore:v,isPrivate:!0,transaction:e});if(h.isType(r().xd.page)){const n=h.getBlockTitleStore(),r=i().c9.now(),u=y().A.getIntl().formatMessage(A.newPage),p=[o?[u]:void 0,c().wmz(c().Ww9({type:"datetime",start_date:r.toFormat(s().tr),start_time:r.toFormat(a().GE),time_zone:(0,l().P)(),date_format:"relative"}),[[c().BQP.Bold]])].filter(d().O9);f().yr({environment:t,store:n,tokens:p,transaction:e,index:0})}const S=b().ry[r().xd.transcription],w=u().w({environment:t,transaction:e,inMemoryRecordCache:x,from:n,selection:[],createBlockItem:S});return p().NI({childStore:w,parentStore:h,transaction:e}),{createdPage:h}}});return C}},392998:(e,t,n)=>{n.d(t,{A:()=>a});var i=()=>n(194188),o=()=>n(10123),r=()=>n(570551);function a(e,t){(0,r().A)(2,arguments);var n=(0,o().A)(e),a=(0,i().A)(t);return isNaN(a)?new Date(NaN):a?(n.setDate(n.getDate()+a),n):n}},396209:(e,t,n)=>{n.d(t,{Uz:()=>fe});var i=()=>n(484714),o=()=>n(56366),r=()=>n(477293),a=()=>n(227440),s=()=>n(891360),l=n(296540),c=()=>n(852507),d=()=>n(401497),u=()=>n(35388),p=()=>n(959013),g=()=>n(2220),m=()=>n(583238),f=()=>n(765957),h=()=>n(217429),v=()=>n(53137),b=()=>n(178014),x=()=>n(15570),y=(n(581454),()=>n(19976)),S=()=>n(554509),w=()=>n(21140),A=()=>n(687039),C=()=>n(828634),k=()=>n(676007),j=n(474848);function M(e){const{blockRef:t,isOpen:n,onDismiss:o,ariaLabel:r,title:a,description:s,ctas:l,videoSrc:c}=e,{isPhone:u}=(0,i().Y0)(),p=(0,C().wY)(t),g=u||!(null==p||!p.width)&&p.width<=y().F,m=(0,d().IS)((e=>({modalContainer:{width:g?"90vw":"75vw",height:"auto",backgroundColor:e.contentBackground,borderRadius:4},modalVideo:{width:"100%",height:"100%",borderTopLeftRadius:4,borderTopRightRadius:4,objectFit:"cover"},bottomContainer:{width:"100%",padding:20},title:{lineHeight:1.3}})),[g]);return(0,j.jsx)(k().a,{open:n,onDismiss:o,innerStyle:m.modalContainer,ariaLabel:r,showCloseIcon:!1,render:()=>(0,j.jsxs)(w().wt,{flex:1,alignSelf:"stretch",children:[(0,j.jsx)(w().Ye,{style:{width:"100%",height:"100%"},children:(0,j.jsx)(A().A,{src:c,style:m.modalVideo,defaultTextTrack:"en",options:{muted:!1,playsinline:!0,autoplay:!0}})}),(0,j.jsxs)(w().Ye,{flex:1,alignSelf:"stretch",style:m.bottomContainer,children:[(0,j.jsxs)(w().wt,{flex:1,gap:6,children:[(0,j.jsx)(w().Ye,{children:(0,j.jsx)(S().D,{styleName:g?"UIHeading-17px/Semibold":"Page-Content/H3",style:m.title,colorName:"primary",children:a})}),(0,j.jsx)(w().Ye,{children:(0,j.jsx)(S().D,{styleName:g?"UISmall-12px/Regular":"UIHeading-17px/Medium",colorName:"tertiary",children:s})})]}),(0,j.jsx)(w().wt,{alignItems:"flex-end",justifyContent:"center",children:l.map((e=>e))})]})]})})}function _(e){const{blockRef:t,title:n,description:o,ctas:r,ariaLabel:a,videoSrc:s}=e,[c,u]=(0,l.useState)(!1),{isPhone:p}=(0,i().Y0)(),g=(0,C().wY)(t),m=p||!(null==g||!g.width)&&g.width<=y().F,f=(0,d().IS)((e=>({container:{width:"100%",height:"100%",backgroundColor:e.contentBackground},leftContainer:{alignItems:"center",justifyContent:"center",padding:16,textAlign:"center"},ctaContainer:{paddingTop:6},title:{lineHeight:1.3},rightContainer:{display:"flex",overflow:"hidden",width:"100%",height:"100%",alignItems:"center",justifyContent:"center"},videoContainer:{display:"flex",overflow:"hidden",width:"100%",height:"100%",alignItems:"center",justifyContent:"center",cursor:"pointer",paddingTop:20,paddingBottom:m?0:20,paddingRight:20,paddingLeft:m?20:0},video:{display:"flex",flexDirection:"column",width:"100%",height:"100%",borderRadius:5,cursor:"pointer",objectFit:"cover",boxShadow:"0 0 0 0",border:"none",justifyContent:"center",alignItems:"center",pointerEvents:"none"}})),[m]);return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(w().Ye,{flexDirection:m?"column-reverse":"row",justifyContent:m?"flex-start":"space-between",flex:1,alignSelf:"stretch",style:f.container,children:[(0,j.jsxs)(w().wt,{flex:m?1:2,style:f.leftContainer,gap:6,children:[(0,j.jsx)(w().Ye,{children:(0,j.jsx)(S().D,{styleName:"Page-Content/H3",style:f.title,colorName:"primary",children:n})}),(0,j.jsx)(w().Ye,{children:(0,j.jsx)(S().D,{styleName:"UIHeading-17px/Medium",colorName:"tertiary",children:o})}),(0,j.jsx)(w().Ye,{gap:5,style:f.ctaContainer,children:r.map((e=>e))})]}),s&&(0,j.jsx)(w().wt,{flex:1,style:f.rightContainer,children:(0,j.jsx)("div",{style:f.videoContainer,onClick:()=>u(!0),role:"button",tabIndex:0,children:(0,j.jsx)(A().A,{src:s,style:f.video,defaultTextTrack:"en",options:{autoplay:!0,loop:!0,playsinline:!0,background:!0}})})})]}),s&&(0,j.jsx)(M,{blockRef:t,isOpen:c,onDismiss:()=>u(!1),ariaLabel:a,title:n,description:o,ctas:r,videoSrc:s})]})}const T=(0,p().YK)({overlayTitleWithIcon:{defaultMessage:"Connect your {icon} calendar",id:"transcription.calendarNux.promoTitleWithIcon"},overlayDescription:{defaultMessage:"Auto-add AI Meeting Notes to events.",id:"transcription.calendarNux.promoDescription"},videoModalAriaLabel:{defaultMessage:"Video demonstration of connecting your calendar to Notion",id:"transcription.calendarNux.videoModal.ariaLabel"}}),P={id:"calendar-nux-overlay",location:"overlay",getPriority:e=>{var t,n;let{environment:i,state:o,isOnline:r,canUse:a,isTranscriptionSupportedOnDevice:l}=e;if(!h().default.checkGate({gateName:"transcription_tactical_ux_improvements"}))return"not_eligible";const c=v().A.state.loaded,d=(0,m().mX)(),u="available"===(null===(t=s().W.state)||void 0===t?void 0:t.type)?s().W.state.usage:1/0,p=void 0!==(null===(n=f().AppStoreCurrentUserSettingsStore.state)||void 0===n||null===(n=n.getSettings())||void 0===n?void 0:n.transcription_calendar_nux_dismissed_at);return(0,b().M)({environment:i,isOnline:r,canUse:a,state:o,isExternalIntegrationStoreLoaded:c,hasConnectedCalendar:d,usage:u,dismissed:p,isTranscriptionSupportedOnDevice:l})?"high":"not_eligible"},render:e=>{let{blockRef:t}=e;return(0,j.jsx)(B,{blockRef:t})}};function B(e){const{blockRef:t}=e,n=(0,i().v3)(),o=(0,p().tz)();(0,c().w)((()=>{(0,g().u)({environment:n,event:{eventName:"transcription_calendar_nux_shown",eventProperties:{location:"overlay"}}})}));const r=(0,d().IS)((e=>({icon:{width:24,height:24,fill:e.icon.primary}})),[]);return(0,j.jsx)(_,{blockRef:t,title:(0,j.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,j.jsx)(p().sA,{...T.overlayTitleWithIcon,values:{icon:(0,u().K)(r.icon)}})}),description:(0,j.jsx)(p().sA,{...T.overlayDescription}),ctas:[(0,j.jsx)(x().t,{},"calendar")],ariaLabel:o.formatMessage(T.videoModalAriaLabel),videoSrc:"https://player.vimeo.com/video/1092910329?"})}const I=(0,p().YK)({overlayTitle:{id:"transcription.downloadDesktopAppOverlay.promoTitle",defaultMessage:"AI Meeting Notes"},overlayDescription:{id:"transcription.downloadDesktopAppOverlay.promoDescription",defaultMessage:"Available on the desktop app for now."},videoModalAriaLabel:{defaultMessage:"Video demonstration of AI Meeting Notes feature",id:"transcription.downloadDesktopAppOverlay.videoModal.ariaLabel"}}),D={id:"download-desktop-app-overlay",location:"overlay",getPriority:e=>{if(!h().default.checkGate({gateName:"transcription_tactical_ux_improvements"}))return"not_eligible";const{state:t,canUse:n,isTranscriptionSupportedOnDevice:i}=e;if(!n)return"not_eligible";if("initial"!==t.state&&"paused"!==t.state)return"not_eligible";const o="allow_browser"===h().default.getEligibleGroup({experimentId:"ai_meeting_notes_allow_browser"});return i||o?"not_eligible":"low"},render:e=>(0,j.jsx)(R,{...e})};function R(e){const t=(0,p().tz)();return(0,j.jsx)(_,{blockRef:e.blockRef,title:(0,j.jsx)(p().sA,{...I.overlayTitle}),description:(0,j.jsx)(p().sA,{...I.overlayDescription}),ctas:[(0,j.jsx)(x().t,{},"download")],ariaLabel:t.formatMessage(I.videoModalAriaLabel),videoSrc:"https://player.vimeo.com/video/1092910346?"})}var N=()=>n(739375);const L=(0,p().YK)({title:{defaultMessage:"AI Meeting Notes",id:"transcription.nuxOverlay.title"},noteDescription:{defaultMessage:"Let Notion AI handle the note-taking.",id:"transcription.nuxOverlay.desktopNoteDescription"},browserDescription:{defaultMessage:"Browser limits audio.<br>Get better transcripts with the Notion app.</br>",id:"transcription.nuxOverlay.browserNoteDescription"},videoModalAriaLabel:{defaultMessage:"Video demonstration of AI Meeting Notes feature",id:"transcription.nuxOverlay.videoModal.ariaLabel"}}),E={id:"nux-overlay",location:"overlay",getPriority:e=>{var t;let{environment:n,state:i,isOnline:o,canUse:r,isTranscriptionSupportedOnDevice:a,dismissedAnnotations:l}=e;if(!h().default.checkGate({gateName:"transcription_tactical_ux_improvements"}))return"not_eligible";const c="available"===(null===(t=s().W.state)||void 0===t?void 0:t.type)?s().W.state.usage:1/0;return(0,N().e)({environment:n,isOnline:o,canUse:r,state:i,hasSeenNux:l.includes("nux-overlay"),usage:c,isTranscriptionSupportedOnDevice:a})?"high":"not_eligible"},render:e=>{let{blockRef:t}=e;return(0,j.jsx)(O,{blockRef:t})}};function O(e){const{blockRef:t}=e,n=(0,p().tz)(),o=(0,i().Y0)(),a="allow_browser"===(0,r().r)("ai_meeting_notes_allow_browser"),s=o.isBrowser&&a?L.browserDescription:L.noteDescription;return(0,j.jsx)(_,{blockRef:t,title:(0,j.jsx)(p().sA,{...L.title}),description:(0,j.jsx)(p().sA,{...s,values:{br:e=>(0,j.jsx)("div",{children:e})}}),ctas:[(0,j.jsx)(x().t,{},"consent")],ariaLabel:n.formatMessage(L.videoModalAriaLabel),videoSrc:"https://player.vimeo.com/video/1092910346?"})}function H(e){const{blockRef:t}=e,{isPhone:n}=(0,i().Y0)(),o=(0,C().wY)(t),r=n||!(null==o||!o.width)&&o.width<=y().F;return(0,j.jsx)(W,{...e,isSmall:r})}function W(e){const{icon:t,title:n,description:i,subdescription:o,isSmall:r}=e,a=(0,d().IS)((e=>({container:{padding:r?20:"25px 35px",background:e.fill.lightGrayTertiary,borderBottomLeftRadius:y().C,borderBottomRightRadius:y().C,borderBottom:`1px solid ${e.regularDividerColor}`,borderLeft:`1px solid ${e.regularDividerColor}`,borderRight:`1px solid ${e.regularDividerColor}`},icon:{width:36,height:36,fill:e.icon.primary},title:{maxWidth:220,lineHeight:1.2}})),[r]);return(0,j.jsxs)(w().wt,{gap:r?10:8,flex:1,style:a.container,children:[t(a.icon),(0,j.jsxs)(w().Ye,{flexDirection:r?"column":"row",gap:r?8:16,justifyContent:r?"flex-start":"space-between",children:[(0,j.jsx)(S().D,{styleName:"Page-Content/H3",style:a.title,children:n}),(0,j.jsxs)(w().wt,{alignSelf:r?void 0:"flex-end",gap:r?1:4,children:[(0,j.jsx)(S().D,{styleName:"UIRegular-14px/Regular",children:i}),(0,j.jsx)(S().D,{styleName:"UIRegular-14px/Regular",children:o})]})]})]})}const V=(0,p().YK)({headerTitle:{defaultMessage:"Start taking notes for all your calendar events.",id:"transcription.calendarNux.headerTitle"},headerDescription:{defaultMessage:"Join calls and take notes in one click.",id:"transcription.calendarNux.headerDescription"},headerSubdescription:{defaultMessage:"All from your Home tab in Notion.",id:"transcription.calendarNux.headerSubdescription"}}),U={id:"calendar-nux",location:"footer",getPriority:e=>{var t,n;let{environment:i,state:o,isOnline:r,canUse:a,isTranscriptionSupportedOnDevice:l}=e;if(h().default.checkGate({gateName:"transcription_tactical_ux_improvements"}))return"not_eligible";const c=v().A.state.loaded,d=(0,m().mX)(),u="available"===(null===(t=s().W.state)||void 0===t?void 0:t.type)?s().W.state.usage:1/0,p=void 0!==(null===(n=f().AppStoreCurrentUserSettingsStore.state)||void 0===n||null===(n=n.getSettings())||void 0===n?void 0:n.transcription_calendar_nux_dismissed_at);return(0,b().M)({environment:i,isOnline:r,canUse:a,state:o,isExternalIntegrationStoreLoaded:c,hasConnectedCalendar:d,usage:u,dismissed:p,isTranscriptionSupportedOnDevice:l})?"high":"not_eligible"},render:e=>(0,j.jsx)(F,{...e})};function F(e){const{blockRef:t}=e,n=(0,i().v3)();return(0,c().w)((()=>{(0,g().u)({environment:n,event:{eventName:"transcription_calendar_nux_shown",eventProperties:{location:"banner"}}})})),(0,j.jsx)(H,{blockRef:t,icon:u().K,title:(0,j.jsx)(p().sA,{...V.headerTitle}),description:(0,j.jsx)(p().sA,{...V.headerDescription}),subdescription:(0,j.jsx)(p().sA,{...V.headerSubdescription})})}var z=()=>n(534177),Y=()=>n(645873),K=()=>n(173961);const $=new(Y().O2)("TranscriptionBlockConsentActions",(async()=>(await n.e(30603).then(n.bind(n,13486))).TranscriptionBlockConsentActions)),G={id:"consent",location:"footer",getPriority:e=>{const{environment:t,state:n,canUse:i,isTranscriptionSupportedOnDevice:o}=e,{currentUser:r}=t;return i&&o?"summarizing"===n.state||"idle"===n.state?"not_eligible":"initial"===n.state||"paused"===n.state?"high":"transcribing"===n.state?n.transcriber_id===r.id?"low":"not_eligible":(0,z().HB)(n):"not_eligible"},render:()=>(0,j.jsx)(K().Y,{actions:(0,j.jsx)(Y().u2,{dependency:$,renderLoading:()=>(0,j.jsx)(n(535285).k,{}),children:e=>(0,j.jsx)(e,{})}),persistent:!0,children:(0,j.jsx)(p().sA,{defaultMessage:"By starting, you confirm everyone being transcribed has given consent.",id:"transcription.consentHeader.label"})})};var q=()=>n(353890);const J={id:"current-transcriber",location:"footer",getPriority:e=>{let{state:t}=e;return"transcribing"===t.state?"low":"not_eligible"},render:()=>(0,j.jsx)(X,{})};function X(){const e=(0,p().tz)(),{state:t}=(0,q().s)(),{currentUserStore:i,currentSpaceStore:r}=(0,o().K8)((()=>({currentUserStore:f().default.state.currentUserStore,currentSpaceStore:f().default.state.currentSpaceStore})),[]),a=(0,d().IS)((()=>({bold:{fontWeight:n(284371).Wy.semibold}})),[]),s="transcribing"===t.state?t.transcriber_id:void 0,l=(null==i?void 0:i.id)===s&&void 0!==s,c=(0,o().K8)((()=>s&&!l&&r?n(870092).L.createChildStore(r,{table:n(798880).oo,id:s}):null),[s,l,r]),u=(0,o().K8)((()=>{if(!c)return null;const t=c.getModel();return null==t?void 0:t.getFullName(e)}),[c,e]);if("transcribing"!==t.state)return null;const g=l?i:c;if(!g||!u)return null;return(0,j.jsx)(K().Y,{icon:()=>(0,j.jsx)(n(453697).A,{userStore:g,size:22}),persistent:!0,children:l?(0,j.jsx)(p().sA,{defaultMessage:"<bold>You</bold> are currently transcribing this meeting",id:"transcription.currentTranscriberHeader.you",values:{bold:e=>(0,j.jsx)("b",{style:a.bold,children:e})}}):(0,j.jsx)(p().sA,{defaultMessage:"<bold>{transcriberName}</bold> is currently transcribing this meeting",id:"transcription.currentTranscriberHeader.other",values:{transcriberName:u,bold:e=>(0,j.jsx)("b",{style:a.bold,children:e})}})})}const Z={viewBox:"0 0 20 20",fittedViewBox:"0.5 4.12 19 12.13",svg:(0,j.jsx)("path",{d:"M4.5 4.125A2.125 2.125 0 0 0 2.375 6.25v8.25H.5v.75a1 1 0 0 0 1 1h17a1 1 0 0 0 1-1v-.75h-1.875V6.25A2.125 2.125 0 0 0 15.5 4.125zM16.375 14.5H3.625V6.25c0-.483.392-.875.875-.875h11c.483 0 .875.392.875.875z"})},Q=(0,n(340498).wt)("laptopComputer",Z);const ee=(0,p().YK)({helpButtonTooltip:{id:"TranscriptionBlockDownloadDesktopAppHeader.learnMoreButton.tooltip",defaultMessage:"Learn more"}}),te={id:"download-desktop-app",location:"footer",getPriority:e=>{if(h().default.checkGate({gateName:"transcription_tactical_ux_improvements"}))return"not_eligible";const{state:t,canUse:n,isTranscriptionSupportedOnDevice:i}=e;if(!n)return"not_eligible";if("initial"!==t.state&&"paused"!==t.state)return"not_eligible";const o="allow_browser"===h().default.getEligibleGroup({experimentId:"ai_meeting_notes_allow_browser"});return i||o?"not_eligible":"low"},render:()=>(0,j.jsx)(K().Y,{actions:(0,j.jsx)(ne,{}),icon:Q,persistent:!0,children:(0,j.jsx)(p().sA,{defaultMessage:"<bold>AI Meeting Notes</bold> is built for the Notion desktop app.",id:"transcription.downloadDesktopAppHeader.label",values:{bold:e=>(0,j.jsx)("b",{children:e})}})})};function ne(){return(0,j.jsx)(n(894368).X,{icon:n(406533).questionMarkCircleIcon,label:ee.helpButtonTooltip,onClick:()=>{window.open((0,n(239837).zv)(),"_blank")}})}const ie=(0,p().YK)({title:{defaultMessage:"Perfect meeting memory in Notion.",id:"transcription.nuxHeader.title"},noteDescription:{defaultMessage:"Notion AI handles the note-taking.",id:"transcription.nuxHeader.desktopNoteDescription"},discussionDescription:{defaultMessage:"You focus on the discussion.",id:"transcription.nuxHeader.desktopDiscussionDescription"}});var oe=()=>n(940017),re=()=>n(615234);function ae(e){const{retryAfterSec:t}=e;if(void 0===t)return(0,j.jsx)(K().Y,{icon:oe().l,persistent:!0,children:(0,j.jsx)(p().sA,{defaultMessage:"Youve reached your limit. AI Meeting Notes will be available soon.",id:"transcription.banner.rateLimited.retryUnknown.label"})});const{value:n,unit:i}=function(e){return e>=re().uu?{value:Math.floor(e/re().uu),unit:"hour"}:{value:Math.floor(e/re().m1),unit:"minute"}}(t);return"hour"===i?(0,j.jsx)(K().Y,{icon:oe().l,persistent:!0,children:(0,j.jsx)(p().sA,{defaultMessage:"Youve reached your limit. AI Meeting Notes will be available again in {remainingValue, plural, one {an hour} other {# hours}}.",id:"transcription.banner.rateLimited.retryHours.label",values:{remainingValue:n}})}):"minute"===i&&n>=1?(0,j.jsx)(K().Y,{icon:oe().l,persistent:!0,children:(0,j.jsx)(p().sA,{defaultMessage:"Youve reached your limit. AI Meeting Notes will be available again in {remainingValue, plural, one {# minute} other {# minutes}}.",id:"transcription.banner.rateLimited.retryMinutes.label",values:{remainingValue:n}})}):"minute"===i?(0,j.jsx)(K().Y,{icon:oe().l,persistent:!0,children:(0,j.jsx)(p().sA,{defaultMessage:"Youve reached your limit. AI Meeting Notes will be available again in less than a minute.",id:"transcription.banner.rateLimited.retryLessThanAMinute.label"})}):null}var se=()=>n(132855),le=()=>n(704152),ce=()=>n(949305),de=()=>n(506050);function ue(e){const t=(0,d().IS)((e=>({bold:{color:e.blueColor,marginRight:4}})),[]),i={noCreditsAdmin:(0,j.jsx)(p().sA,{defaultMessage:"<bold>Upgrade for full access</bold> Youve run out of free minutes for AI Meeting Notes.",id:"transcription.upsell.noCredits.admin.label",values:{bold:e=>(0,j.jsx)("b",{style:t.bold,children:e})}}),noCreditsMember:(0,j.jsx)(p().sA,{defaultMessage:"<bold>Request upgrade for full access</bold> Youve run out of free minutes for AI Meeting Notes.",id:"transcription.upsell.noCredits.member.label",values:{bold:e=>(0,j.jsx)("b",{style:t.bold,children:e})}}),remainingCreditsAdminHours:(0,j.jsx)(p().sA,{defaultMessage:"<bold>Upgrade for full access</bold> Youre on the free trial of AI Meeting Notes.",id:"transcription.upsell.remainingCredits.admin.hours.label",values:{bold:e=>(0,j.jsx)("b",{style:t.bold,children:e})}}),remainingCreditsMemberHours:(0,j.jsx)(p().sA,{defaultMessage:"<bold>Request upgrade for full access</bold> Youre on the free trial of AI Meeting Notes.",id:"transcription.upsell.remainingCredits.member.hours.label",values:{bold:e=>(0,j.jsx)("b",{style:t.bold,children:e})}}),remainingCreditsAdminMinutes:e=>(0,j.jsx)(p().sA,{defaultMessage:"<bold>Upgrade for full access</bold> You have {remaining, plural, =0 {less than one minute} one {# minute} other {# minutes}} left.",id:"transcription.upsell.remainingCredits.admin.minutes.label",values:{bold:e=>(0,j.jsx)("b",{style:t.bold,children:e}),remaining:e}}),remainingCreditsMemberMinutes:e=>(0,j.jsx)(p().sA,{defaultMessage:"<bold>Request upgrade for full access</bold> You have {remaining, plural, =0 {less than one minute} one {# minute} other {# minutes}} left.",id:"transcription.upsell.remainingCredits.member.minutes.label",values:{bold:e=>(0,j.jsx)("b",{style:t.bold,children:e}),remaining:e}})},r=(0,n(47170).O)(),a=(0,n(646736).HI)(),s=(0,o().K8)((()=>Boolean((null==a?void 0:a.isMember())&&(null==a?void 0:a.isWorkspaceOwner()))),[a]),l=(0,n(324561).f_)({spaceId:r}),c=(0,o().K8)((()=>(0,n(762433).N8)(null==l?void 0:l.subscription)),[l]),u=ge(e.featureAvailability);if(u<=0)return(0,j.jsx)(pe,{...e,persistent:!0,children:s&&!c?i.noCreditsAdmin:i.noCreditsMember});if(u===1/0)return null;if(u>=re().uu)return(0,j.jsx)(pe,{...e,persistent:!1,onDismiss:()=>{de().L.dismiss("upsell")},children:s&&!c?i.remainingCreditsAdminHours:i.remainingCreditsMemberHours});const g=Math.floor(u/re().m1);return(0,j.jsx)(pe,{...e,persistent:!0,children:s&&!c?i.remainingCreditsAdminMinutes(g):i.remainingCreditsMemberMinutes(g)})}function pe(e){const{children:t,featureAvailability:n,...i}=e,{actionForFeatureAvailability:o}=(0,ce().x)({featureAvailability:n,upgradeRequestAnalyticsEntrypoint:"ai_meeting_notes",upgradeRequestEntrypoint:"ai_meeting_notes",upsellFrom:"ai_meeting_notes",showOptimisticUpsell:!0}),r=(0,d().IS)((e=>({button:{cursor:"pointer",borderBottomLeftRadius:y().C,borderBottomRightRadius:y().C},buttonHovered:{background:`linear-gradient(to top, ${e.fill.blueTertiary} 20%, transparent)`},icon:{fill:e.blueColor}})),[]);return(0,j.jsx)(le().A,{style:r.button,hoveredStyle:r.buttonHovered,onClick:o,children:(0,j.jsx)(K().Y,{...i,isButton:!0,icon:e=>(0,se().arrowInCircleUpFillIcon)({...e,...r.icon}),children:t})})}function ge(e){if("unavailable"===e.type)return 0;const t=e.limit.total;if("unlimited"===t)return 1/0;return t-e.limit.current}var me=()=>n(210667);function fe(e){const{featureAvailability:t,location:n}=e,{state:l,canEdit:c,isEnabled:d}=(0,q().s)(),u=(0,i().v3)(),p=(0,o().O$)(a().e),g=(0,o().K8)((()=>de().L.state.dismissed),[]),m=(0,o().K8)((()=>{var e;if("rateLimited"===(null===(e=s().W.state)||void 0===e?void 0:e.type))return{retryAfterSec:s().W.state.retryAfterSec}}),[]),f="allow_browser"===(0,r().r)("ai_meeting_notes_allow_browser"),h=(0,me().h)()||f;return(0,o().K8)((()=>he({environment:u,canUse:c&&d,state:l,isOnline:p,featureAvailability:t,dismissedAnnotations:g,isRateLimited:m,isTranscriptionSupportedOnDevice:h,location:n})),[c,d,u,p,l,t,g,m,h,n])}function he(e){const{environment:t,canUse:n,state:i,isOnline:o,featureAvailability:r,dismissedAnnotations:a,isRateLimited:s,isTranscriptionSupportedOnDevice:l,location:c}=e;let d;for(const u of ve){if(c&&u.location!==c)continue;const e=u.getPriority({environment:t,state:i,canUse:n,isOnline:o,featureAvailability:r,dismissedAnnotations:a,isRateLimited:s,isTranscriptionSupportedOnDevice:l,location:u.location});if("high"===e)return u;"low"!==e||d||(d=u)}return d}const ve=[{id:"rate-limited",location:"footer",getPriority:e=>{let{isRateLimited:t}=e;return t?"high":"not_eligible"},render:e=>{let{isRateLimited:t}=e;return t?(0,j.jsx)(ae,{retryAfterSec:t.retryAfterSec}):null}},{id:"upsell",location:"footer",getPriority:e=>{let{featureAvailability:t,dismissedAnnotations:n,canUse:i}=e;if(!t||!i)return"not_eligible";if("unavailable"===t.type)return"high";return ge(t)<=re().uu?"low":"unlimited"===t.limit.total||n.includes("upsell")?"not_eligible":"low"},render:e=>{let{featureAvailability:t}=e;return t?(0,j.jsx)(ue,{featureAvailability:t}):null}},{id:"nux",location:"footer",getPriority:e=>{var t;let{environment:n,state:i,isOnline:o,canUse:r,isTranscriptionSupportedOnDevice:a,dismissedAnnotations:l}=e;if(h().default.checkGate({gateName:"transcription_tactical_ux_improvements"}))return"not_eligible";const c="available"===(null===(t=s().W.state)||void 0===t?void 0:t.type)?s().W.state.usage:1/0;return(0,N().e)({environment:n,isOnline:o,canUse:r,state:i,hasSeenNux:l.includes("nux"),usage:c,isTranscriptionSupportedOnDevice:a})?"high":"not_eligible"},render:e=>{let{blockRef:t}=e;return(0,j.jsx)(H,{blockRef:t,icon:n(529099).aiFaceIcon,title:(0,j.jsx)(p().sA,{...ie.title}),description:(0,j.jsx)(p().sA,{...ie.noteDescription}),subdescription:(0,j.jsx)(p().sA,{...ie.discussionDescription})})}},U,{id:"offline",location:"footer",getPriority:e=>{let{state:t,isOnline:n,canUse:i}=e;return i&&"transcribing"!==t.state&&"summarizing"!==t.state&&"idle"!==t.state?"initial"===t.state||"paused"===t.state?n?"not_eligible":"high":void(0,z().HB)(t):"not_eligible"},render:()=>(0,j.jsx)(K().Y,{icon:n(553034).C,persistent:!0,children:(0,j.jsx)(p().sA,{defaultMessage:"Meeting Notes not available while offline.",id:"transcription.offlineHeader.label"})})},G,te,J,E,P,D]},398217:(e,t,n)=>{n.d(t,{Jv:()=>h,Rl:()=>v,mA:()=>f});var i=n(296540),o=()=>n(484714),r=()=>n(56366),a=()=>n(401497),s=()=>n(970013),l=()=>n(743176),c=()=>n(780054),d=()=>n(68465),u=()=>n(159588),p=()=>n(963589),g=n(474848);const m=function(){return(0,g.jsx)(n(464708).A,{color:"purple",style:{marginLeft:6,padding:"1px 4px",display:"inline-flex",flexDirection:"row",alignItems:"center",gap:4,marginTop:1},content:(0,g.jsx)(n(959013).sA,{defaultMessage:"AI",id:"database.property.aiAutofillEnabledIndicator"})})};const f=i.memo((function(e){const{propertySchema:t,showIcon:i,showDragIcon:o,hideName:r,badge:s,style:l,iconStyle:d,iconSize:p,dragHandleStyle:m,className:f,labelSizeVariant:h}=e,b=c().A.isMobile?16:14,x=(0,a().IS)((e=>({container:{display:"flex",alignItems:"center",lineHeight:"120%",minWidth:0,fontSize:b,...l},iconWrapper:{display:"grid",justifyContent:"center",alignItems:"center",marginRight:r?void 0:"small"===h||o?4:c().A.isMobile?9:6,...d},dragHandle:{gridColumn:1,gridRow:1,opacity:o?1:0,transition:`opacity ${u().bM}`},itemIcon:{gridColumn:1,gridRow:1,opacity:o?0:1,transition:`opacity ${u().bM}`},dragIcon:{fill:e.icon.secondary}})),[b,r,d,h,o,l]);return(0,g.jsxs)("div",{className:f,style:x.container,children:[i&&(0,g.jsxs)("div",{style:x.iconWrapper,children:[(0,g.jsx)("div",{style:x.itemIcon,children:(0,g.jsx)(v,{propertySchema:t,iconSize:p,iconStyle:d})}),(0,g.jsx)("div",{style:x.dragHandle,children:(0,g.jsx)(n(57232).A,{style:m,iconSize:12,iconStyle:x.dragIcon})})]}),!r&&(0,g.jsx)("div",{style:{...n(284371).RC},children:t.name}),s]})}));function h(e){const{propertySchema:t}=e,n=(0,o().v3)();return(0,r().K8)((()=>(0,d().O0)(n)&&s().$M(t)&&s().om(t)),[n,t])?(0,g.jsx)(m,{}):null}function v(e){const{propertySchema:t,iconSize:n,iconStyle:i}=e,o=(0,a().DP)(),r=(0,p().X)("nds_default_property_noticon"),s=c().A.isMobile?18:16;return(0,g.jsx)(l().zB,{type:t.type,icon:t.icon,size:n||s,theme:o,style:i,isDefaultNoticonEnabled:r})}},406533:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,questionMarkCircleIcon:()=>r});n(296540);var i=n(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.26 15.25",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M9.978 7.154c-.804 0-1.333.456-1.438.874a.625.625 0 0 1-1.213-.303c.28-1.121 1.44-1.82 2.65-1.82 1.365 0 2.714.905 2.714 2.298 0 .812-.49 1.477-1.13 1.872l-.755.516a.84.84 0 0 0-.381.677.625.625 0 1 1-1.25 0c0-.688.36-1.318.921-1.706l.003-.002.784-.535.014-.008c.374-.228.544-.537.544-.814 0-.459-.517-1.049-1.463-1.049m.662 6.336a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,i.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},r=(0,n(340498).wt)("questionMarkCircle",o)},413267:(e,t,n)=>{n.d(t,{b:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("thinCheck",{viewBox:"0 0 16 16",svg:(0,i.jsx)("path",{d:"M6.385 14.162c.362 0 .642-.15.84-.444L13.652 3.71c.144-.226.205-.417.205-.602 0-.485-.341-.82-.833-.82-.335 0-.54.123-.746.444l-5.926 9.4-3.042-3.903c-.205-.267-.417-.376-.718-.376-.492 0-.848.348-.848.827 0 .212.075.417.253.629l3.541 4.416c.24.3.492.437.848.437z"})})},431895:(e,t,n)=>{n.d(t,{HT:()=>g,MZ:()=>h,u:()=>v,xw:()=>p});n(16280);var i=()=>n(874913),o=()=>n(435009),r=()=>n(2220),a=()=>n(112799),s=()=>n(948914),l=()=>n(217429),c=()=>n(927648);const d=(0,n(959013).YK)({latestVersionStepTitle:{id:"transcriptionSetupSteps.latestVersionStepTitle",defaultMessage:"Update the Notion app"},latestVersionStepDescription:{id:"transcriptionSetupSteps.latestVersionStepDescription",defaultMessage:"Update to the latest version of the Notion app to use AI Meeting Notes."},latestVersionStepActionText:{id:"transcriptionSetupSteps.latestVersionStepActionText",defaultMessage:"Update my Notion app"},microphoneStepTitle:{id:"transcriptionSetupSteps.microphoneStepTitle",defaultMessage:"Enable microphone access"},microphoneStepDescription:{id:"transcriptionSetupSteps.microphoneStepDescription",defaultMessage:"This allows Notion AI to transcribe what you say."},microphoneStepActionText:{id:"transcriptionSetupSteps.microphoneStepActionText",defaultMessage:"Enable microphone access"},systemAudioStepTitle:{id:"transcriptionSetupSteps.systemAudioStepTitle",defaultMessage:"Enable screen & system audio access"},systemAudioStepDescription:{id:"transcriptionSetupSteps.systemAudioStepDescription",defaultMessage:"This allows Notion AI to transcribe what everyone else is saying (even on headphones)."},systemAudioStepActionText:{id:"transcriptionSetupSteps.systemAudioStepActionText",defaultMessage:"Enable access"},restartAppStepTitle:{id:"transcriptionSetupSteps.restartAppStepTitle",defaultMessage:"Restart Notion"},restartAppStepDescription:{id:"transcriptionSetupSteps.restartAppStepDescription",defaultMessage:"Final step! Restart your Notion app to apply the permissions."},restartAppStepActionText:{id:"transcriptionSetupSteps.restartAppStepActionText",defaultMessage:"Restart Notion app"}}),u=[{id:"desktop-app-version",title:d.latestVersionStepTitle,description:d.latestVersionStepDescription,hasCompleted:e=>Promise.resolve(v(e.environment)),actionText:d.latestVersionStepActionText,action:async e=>{const t=await(0,a().a)(e.environment.device);t?await i().openExternalUrl(n(780054).A.domainBaseUrl+t):await i().openExternalUrl("https://www.notion.so/desktop")}},{id:"microphone",title:d.microphoneStepTitle,description:d.microphoneStepDescription,hasCompleted:async e=>{if(e.environment.device.isElectronWindows)return!0;if(e.environment.device.isElectron){if("granted"===await i().getMediaAccessStatus("microphone"))return!0;if(e.isConfirmation)try{return await m(),!0}catch{return!1}}return!1},actionText:d.microphoneStepActionText,action:async e=>{try{await m()}catch(t){t instanceof Error&&t.name===c().nY&&i().openSystemSettings("microphone")}}},{id:"system-audio",title:d.systemAudioStepTitle,description:d.systemAudioStepDescription,hasCompleted:async e=>{if(e.environment.device.isElectronWindows)return!0;if(e.isConfirmation){if(await f())return!0}return Promise.resolve(void 0!==c().Ay.getHasAttemptedScreenRecordingPermissions())},actionText:d.systemAudioStepActionText,action:async e=>{const t=await f();c().Ay.setHasAttemptedScreenRecordingPermissions(t?c().a3:c().JS),t&&t===c().a3||i().openSystemSettings("screen-recording")}},{id:"restart-app",title:d.restartAppStepTitle,description:d.restartAppStepDescription,hasCompleted:async e=>{if(e.environment.device.isElectron&&e.isConfirmation){if("allowed"===await f())return!0}return Promise.resolve(!1)},actionText:d.restartAppStepActionText,action:async()=>(i().relaunch(),Promise.resolve())}];function p(){return u}async function g(e){if(l().default.checkGate({gateName:"enable_transcription_on_browser_for_debug_enabled"}))return"startDictation";if("allow_browser"===l().default.getEligibleGroup({experimentId:"ai_meeting_notes_allow_browser"}))return"startDictation";if(e.device.isMobile)return"startDictation";if(e.device.isBrowser)return"noBrowserSupport";if(e.device.isElectron&&e.device.isMac&&void 0!==e.device.osVersion[0]&&e.device.osVersion[0]>10&&e.device.osVersion[0]<=12)return"requiresMacOS13";const t=await async function(e,t){for(const n of t)if(!(await n.hasCompleted({environment:e,isConfirmation:!1})))return n}(e,p());return"desktop-app-version"===(null==t?void 0:t.id)||"microphone"===(null==t?void 0:t.id)?"showSetupModal":"startDictation"}async function m(){const e=(0,n(673903).E)(),t=await e.getUserMedia({audio:!0});for(const n of t.getTracks())n.stop()}async function f(){try{const e=await(0,n(763824).nQ)(5e3,(0,c().Kj)());return e.timeout?c().JS:e.result}catch{return c().JS}}async function h(e){const{environment:t,registered:n,source:i,url:s}=e;if(n)return(0,r().u)({environment:t,event:{eventName:"open_transcription_block_in_desktop_app_clicked",eventProperties:{source:i}}}),void(await o().eG({environment:t,url:s}));await async function(e,t){const n=await(0,a().a)(e.device);if(!n)return;(0,r().u)({environment:e,event:{eventName:"download_app_for_transcription_clicked",eventProperties:{source:t}}}),o().oo({environment:e,url:n,openInNew:"tab"})}(t,i)}function v(e){const t=s().A.state.transcriptionSupportLevel;return Boolean(t)}},451339:(e,t,n)=>{n.d(t,{j:()=>r});n(296540);var i=()=>n(401497),o=n(474848);function r(e){let{disabled:t}=e;const n=(0,i().IS)((e=>({icon:{width:12,height:12,borderRadius:"50%",backgroundColor:t?e.icon.tertiary:e.icon.uiRedPrimary}})),[t]);return(0,o.jsx)("div",{style:n.icon})}},454531:(e,t,n)=>{n.d(t,{W:()=>f});var i=()=>n(780054),o=()=>n(972435),r=()=>n(867772),a=()=>n(681810),s=()=>n(901389),l=()=>n(896628),c=()=>n(383594),d=()=>n(675925),u=()=>n(751156),p=()=>n(892632);const g=1500,m=(0,n(959013).YK)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},preparing:{defaultMessage:"Preparing...",id:"pageCover.status.preparing"},downloading:{defaultMessage:"Downloading...",id:"pageCover.status.downloading"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image link",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function f(e){let{environment:t,intl:n,store:i,rect:o,from:r}=e;c().W(t,{originGap:3,originRect:o,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:n.formatMessage(m.pageCover),onDelete:()=>{!function(e){let{environment:t,store:n}=e;c().I(),u().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{l().PT({store:n,transaction:e})}})}({environment:t,store:i})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:n,position:o}=e;(0,d().o)(t,{action:"edit_cover",block_type:"page",from:r},(e=>{v({environment:t,store:i,url:{originUrl:n},position:o}),e()}))}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:n.formatMessage(m.fileTypeCaption,{idealImageWidth:g}),onUpload:e=>{(0,d().o)(t,{action:"edit_cover",block_type:"page",from:r},(o=>{var r;c().I(),p().QM({environment:t,file:e[0],bucket:"secure",record:(null===(r=i.getCoverStore())||void 0===r?void 0:r.pointer)??i.pointer,isFileBlock:!1,reportRichUploadMetrics:!0,onStart:b,onProgress:x,onComplete:e=>{var n;n={environment:t,store:i,url:{originUrl:e}},h({...n,position:.5})},onError:()=>{s().f1(n.formatMessage(m.uploadFailed))}}),o()}))}},{type:"embed",title:n.formatMessage(m.embedTitle),inputPlaceholder:n.formatMessage(m.embedPlaceholder),caption:n.formatMessage(m.embedCaption),buttonText:n.formatMessage(m.embedSubmit),onChange:e=>{(0,d().o)(t,{action:"edit_cover",block_type:"page",from:r},(n=>{var o;o={environment:t,store:i,url:e},h({...o,position:.5}),c().I(),n()}))}},{type:"unsplash",onChange:e=>{let{url:n,position:o}=e;(0,d().o)(t,{action:"edit_cover",block_type:"page",from:r},(e=>{v({environment:t,store:i,url:{originUrl:n},position:o}),e()}))}}]})}async function h(e){const{environment:t,store:n,url:i,position:s}=e,{serverCommitResult:c}=u().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{l().fg({store:n,url:i,position:s||.5,transaction:e})}});await c,a().A.state.loadingMode===r().vS&&a().A.setState({loadingMode:r().Gi,dataURL:a().A.state.dataURL,uploadProgress:t.device.isMobileNative?void 0:100,progressText:o().A.formatMessage(m.downloading)})}function v(e){h(e),i().A.isMobile&&c().I()}function b(e){const{file:t,name:n,size:i}=e;if(c().I(),a().A.setState({loadingMode:r().Wc,file:t,name:n,size:i}),t.type.indexOf("image")>=0)if(t instanceof File){const e=new FileReader;e.onload=e=>{a().A.state.loadingMode===r().Wc&&a().A.setState({...a().A.state,loadingMode:r().vS,uploadProgress:0,dataURL:e.target.result})},e.readAsDataURL(t)}else a().A.state.loadingMode===r().Wc&&a().A.setState({...a().A.state,loadingMode:r().vS,dataURL:t.dataURL,progressText:o().A.formatMessage(m.preparing)});else a().A.state.loadingMode===r().Wc&&a().A.setState({...a().A.state,loadingMode:r().vS,progressText:o().A.formatMessage(m.preparing)})}function x(e){const{progressPercent:t,progressText:n}=e;a().A.state.loadingMode===r().vS&&a().A.setState({...a().A.state,uploadProgress:t,progressText:n})}},458366:(e,t,n)=>{n.d(t,{B2:()=>T,F1:()=>C,Kc:()=>w,NN:()=>_,UY:()=>S,br:()=>M,lA:()=>k,lh:()=>A,pi:()=>b,w_:()=>y,zP:()=>x});n(898992),n(737550);var i=()=>n(584262),o=()=>n(443239),r=()=>n(970013),a=()=>n(713998),s=()=>n(882262),l=()=>n(415566),c=()=>n(177256),d=()=>n(72135),u=()=>n(919709),p=()=>n(496603),g=()=>n(534177),m=()=>n(939768),f=()=>n(720665),h=()=>n(492414),v=()=>n(972435);function b(e){return Boolean(e.state.isOpen&&e.state.collectionsBulkActionsToolbarStore)}function x(e){switch(e){case"table":return"table";case"board":return"board";case"list":return"list";case"gallery":return"gallery";case"feed":return"feed";case"relation":case"relation_section":return"relation_section";case"timeline":return"timeline";case"calendar":return"calendar";case"page":return"page_properties";case"compact_page":return"compact_page";case"mini":return"mini_peek";case"form_editor":case"form_viewer":case"property_module":return"property_module";default:(0,g().HB)(e)}}function y(e){return{backgroundImage:`linear-gradient(\n\t\tto right,\n\t\t${e.darkDividerColor} 0%,\n\t\t${e.darkDividerColor} 100%\n\t)`,backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% 1px"}}function S(e){const{store:t,property:n,propertySchema:o}=e,r=null==o?void 0:o.type;if("title"===r)return(0,h().Ay)({store:t,fullyQualified:!1,pageVisitSource:i().y8.LinkInPage});{const e=t.getPropertyValue(n);return a().UY(r,e)}}function w(e){let t=(0,u().k4p)(e);if(!t||""===t.trim()||t.trim().includes(" "))return{domain:void 0,restOfUrl:void 0};t=t.trim();let n=m().qg(t),i=n.host;if(n.protocol&&i||(n=m().qg(`http://${t}`),i=n.host),!i)return{domain:void 0,restOfUrl:void 0};i&&(i=i.replace(/^www./i,""));const o=t.toLowerCase().indexOf(i.toLowerCase());if(-1===o)return{domain:void 0,restOfUrl:void 0};i=t.slice(o,o+i.length);return{domain:i,restOfUrl:t.slice(o+i.length)}}function A(e){const{numberValue:t,numberFormat:n,numberShowAs:i}=e;if(!(p().yr(t)||f().pN(t)||"bar"!==(null==i?void 0:i.type)&&"ring"!==(null==i?void 0:i.type))){const e=v().A.getIntl();return"percent"===n?d().ZV(t,"percent",e):`${t} / ${i.maxValue}`}}function C(e){const{property:t,collectionStore:n}=e,i=n.isSyncedCollection();return Boolean(i)&&(0,o().u)(t)}function k(e,t){switch(e){case"side_peek":return{icon:c().A,tooltip:v().A.formatMessage(j.openInSidePeekTooltip),caption:t?"":v().A.formatMessage(j.openAsPageTitle)};case"center_peek":return{icon:l().q,tooltip:v().A.formatMessage(j.openInCenterPeekTooltip),caption:t?"":v().A.formatMessage(j.openAsPageTitle)};case"full_page":return{icon:s().m,tooltip:v().A.formatMessage(j.openAsPageTooltip),caption:t?"":v().A.formatMessage(j.openAsPageTitle)};default:(0,g().HB)(e)}}const j=(0,n(959013).YK)({openAsPageTitle:{defaultMessage:"Open",id:"database.actionButton.openAsPageTitle"},openAsPageTooltip:{defaultMessage:"Open as page",id:"database.actionButton.openAsPageTooltip"},openInCenterPeekTooltip:{defaultMessage:"Open in center peek",id:"database.actionButton.openInCenterPeekTooltip"},openInSidePeekTooltip:{defaultMessage:"Open in side peek",id:"database.actionButton.openInSidePeekTooltip"}});function M(e){const{store:t,additionalStores:n,collectionContextStore:i}=e,o=t.getAssociatedCollectionStore();return!("collectionTypedView"!==(null==i?void 0:i.contextType)||!o)&&n.some((e=>{var t;return(null===(t=e.getAssociatedCollectionStore())||void 0===t?void 0:t.id)!==o.id}))}function _(e){return"form_editor"===e||"form_viewer"===e}function T(e){return Boolean(e&&!r().dA.includes(e.type))}},465364:(e,t,n)=>{n.d(t,{$N:()=>P,D5:()=>B,GB:()=>M,M9:()=>k,Pt:()=>T,eW:()=>_,jo:()=>D,v7:()=>j});n(944114),n(898992),n(803949),n(581454);var i=()=>n(244641),o=()=>n(787626),r=()=>n(713998),a=()=>n(597777),s=()=>n(604995),l=()=>n(416504),c=()=>n(519831),d=()=>n(496603),u=()=>n(534177),p=()=>n(299709),g=()=>n(317001),m=()=>n(520861),f=()=>n(878060),h=()=>n(44729),v=()=>n(246826),b=()=>n(319975),x=()=>n(519839),y=()=>n(695625),S=()=>n(397248),w=()=>n(217429),A=()=>n(630116),C=()=>n(747671);function k(e){const{environment:t,droppedStores:n,duplicate:r,calendarBy:d,transaction:u,collectionContextStore:f,duplicateActions:v}=e,b=i().c9.fromMillis(e.startOfDay);let y=!0;for(const i of n){const t=e.collectionStore?e.collectionStore:(0,x().Dj)({store:i,collectionContextStore:f});if(i.getParentTable()===c().Vl||!t){y=!1;break}h().X$({childStore:i,parentStore:t,transaction:u})||(y=!1)}const S=(0,m().T)({environment:t,droppedStores:n,duplicate:r,transaction:u,collectionStore:e.collectionStore,duplicateActions:v});for(const i of S){const n=e.collectionStore?e.collectionStore:(0,x().Dj)({store:i,collectionContextStore:f});if(!n)continue;const r=n.getMappedProperty(d),c=i.getPropertyStore(r),m=(0,o().b)(c.getValue())||s().Ec((0,l().P)()),h=s().kW(m,(0,l().P)()),v=b.toFormat(s().tr);let S;if("date"===h.type||"datetime"===h.type)S={...h,start_date:v};else{const e=s().AA(h,(0,l().P)());if(!e.end)return;const t={...h,start_date:v},n=s().AA(t,(0,l().P)()).start.diff(e.start,"days"),i=e.end.plus(n).toFormat(s().tr);S={...h,start_date:v,end_date:i}}const w=s().kW(S,a().$K(m)||(0,l().P)());(0,g().j)({environment:t,store:i,collectionStore:n,collectionContextStore:f,shouldCoerce:!0,groupsPointer:[],transaction:u,alreadyMovedToCollection:y}),B({environment:t,type:"dateValue",propertyId:r,store:i,transaction:u,dateValue:w}),(0,p().E)({environment:t,collectionContextStore:f,block_id:i.id,property:r,property_type:"date",from:"calendar"})}}function j(e){const{calendarStore:t,direction:n,targetStore:i}=e;t.setState({...t.state,isDragging:!0,targetStore:i,direction:n,temporaryValue:void 0})}function M(e){const{calendarStore:t,x:n,y:r,calendarBy:c}=e,u=t.state;if(u.isDragging){const e=(0,o().b)(u.targetStore.getPropertyStore(c).getValue());if(!e)return;const p=s().kW(e,(0,l().P)()),g=u.temporaryValue||e,m=s().kW(g,(0,l().P)()),f=[];u.dayStoreMap.forEach(((e,t)=>{f.push({store:e,timestamp:t})}));const h=f.find((e=>{let{store:t}=e;const i=y().T.getRectFromStore(t);return Boolean(i&&S().ux(i,n,r))}));let v;if(h){const e=i().c9.fromMillis(h.timestamp),t=e.endOf("day"),n=e.toFormat(s().tr);if(p){const o=s().AA(p,(0,l().P)());if(u.direction===C().Q.Left)if(i().IX.fromDateTimes(e,t).contains(o.start))v=p;else{let e;e="datetimerange"===p.type||"daterange"===p.type?{...p,start_date:n,end_date:p.end_date}:"datetime"===p.type?{type:"datetimerange",start_date:n,start_time:p.start_time,end_date:p.start_date,end_time:p.start_time,time_zone:p.time_zone,reminder:p.reminder}:{type:"daterange",start_date:n,end_date:p.start_date,reminder:p.reminder};const t=s().AA(e,(0,l().P)());v=!o.end&&t.start>o.start||o.end&&t.start>o.end?m:e}else if(o.end?i().IX.fromDateTimes(e,t).contains(o.end):i().IX.fromDateTimes(e,t).contains(o.start))v=p;else{let e;e="date"===p.type?{...p,type:"daterange",end_date:n}:"datetime"===p.type?{...p,type:"datetimerange",end_date:n,end_time:"00:00"}:{...p,end_date:n};const t=s().AA(e,(0,l().P)());v=t.end&&t.end<t.start?m:e}}}if(v&&!d().n4(m,v)){const e=s().kW(v,a().$K(g)||(0,l().P)());t.setState({...u,temporaryValue:e})}}}function _(e){const{environment:t,calendarStore:n,calendarBy:i,transaction:o}=e,r=n.state;r.isDragging&&r.temporaryValue&&(B({type:"dateValue",environment:t,dateValue:r.temporaryValue,propertyId:i,store:r.targetStore,transaction:o}),n.setState({...n.state,isDragging:!1}))}function T(e){const{calendarStore:t}=e,n=t.state;n.isDragging&&t.setState({...n,isDragging:!1})}function P(e){const{environment:t,store:n,collectionStore:o,collectionContextStore:a,startDayOfWeek:c,transaction:d}=e,u=a.dateRangeStartStore.state,p=(0,l().P)(),m=a.normalizedQueryStore.state;if(!m||!m.calendar_by)return;const f=(null==o?void 0:o.getMappedProperty(m.calendar_by))??m.calendar_by,h=s().hp(u,c,p),b=h.startOf("month"),x=h.endOf("month"),y=i().c9.now().startOf("day");let S;return S=i().IX.fromDateTimes(b,x).contains(y)?s().p6(y.valueOf(),p):s().p6(s().iB(u,c,p).valueOf(),p),v().zv({store:n.getPropertiesStore(),data:{[f]:r().m5(S)},transaction:d}),(0,g().j)({environment:t,store:n,collectionStore:o,collectionContextStore:a,shouldCoerce:!0,groupsPointer:[],transaction:d}),n}function B(e){const{environment:t,store:n,propertyId:i,transaction:o}=e;let a;"timestamp"===e.type?a=s().p6(e.timestampMs.valueOf(),(0,l().P)()):"dateValue"===e.type?a=e.dateValue:(0,u().HB)(e);const c=n.getPropertyValue(i);if(a&&function(e){const{propertyId:t,oldDateValue:n,newPersistedDate:i,store:o}=e;if(n||!i||void 0!==i.reminder)return!1;if(!w().default.checkGate({gateName:"adoption_reminder_collection_default"}))return!1;const r=I(t,o);if(void 0===r)return!1;return!0}({propertyId:i,oldDateValue:c,newPersistedDate:a,store:n})){const e=I(i,n);void 0!==e&&(a={...a,reminder:e})}const d=r().m5(a);v().zv({store:n.getPropertiesStore(),data:{[i]:d},transaction:o}),f().O({environment:t,store:n,dateProperty:{id:i,oldValue:c,newValue:d}})}function I(e,t){const n=t.getAssociatedCollectionStore();if(!n)return;const i=n.getSchema();if(!i)return;const o=i[e];return o&&"date"===o.type?o.default_reminder:void 0}function D(e){const{environment:t,collectionStore:n,calendarBy:i,store:o,insertStores:r,collectionContextStore:a,transaction:s}=e,l=o.getPropertyStore(i).getValue();for(const c of r)(0,g().j)({environment:t,store:c,collectionStore:n,collectionContextStore:a,shouldCoerce:!0,groupsPointer:[],transaction:s}),b().R9({environment:t,store:c.getPropertyStore(i),value:l,transaction:s});return r.map((e=>A().Bv.createChildStore(n,e.pointer)))}},477293:(e,t,n)=>{n.d(t,{r:()=>r});var i=()=>n(56366),o=()=>n(217429);function r(e){let{disableExposureLogging:t,disableEventTrailLogging:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i().K8)((()=>o().default.getEligibleGroup({experimentId:e,defaultGroup:"control",disableExposureLogging:t,disableEventTrailLogging:n})),[e,t,n])}},505108:(e,t,n)=>{n.d(t,{a:()=>g});var i=n(296540),o=()=>n(401497),r=()=>n(534177),a=()=>n(284371),s=()=>n(84817),l=()=>n(819121),c=()=>n(955825),d=n(474848);function u(e){const{disabled:t,checked:n,selectorSize:i}=e,[r,a]=(0,l().A)(),s=function(e){const{checked:t,disabled:n,isFocusVisible:i,selectorSize:r}=e;return(0,o().IS)((e=>({root:{position:"absolute",display:"flex",width:15,height:15,padding:5,margin:1.5,justifyContent:"center",alignItems:"center",gap:8,flexShrink:0,borderRadius:"50%",transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${n?e.tint.regular:e.blueColor}`,background:n?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${n?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...i&&{boxShadow:e.buttonBlueFocusRing}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"small"===r?14:18,height:"small"===r?14:18,...n?{pointerEvents:"none"}:{cursor:"pointer"}}})),[t,n,i,r])}({checked:n,disabled:t,isFocusVisible:a,selectorSize:i});return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("input",{ref:r,type:"radio",style:s.input,className:"radio-button",...e}),(0,d.jsx)("span",{...(0,c().AH)("custom-radio-button",s.root,t?{}:{pseudoActive:s.active})})]})}var p=()=>n(554509);const g=i.forwardRef((function(e,t){let{additionalContent:n,description:r,isDisabled:l,isSelected:c,label:u,name:p,onChange:g,width:h="fill",selectorSize:v="normal",selectAlignXAxis:b="left",selectAlignYAxis:x="center",selectType:y="checkbox",style:S,supportText:w,value:A,colorName:C,alignAdditionalContent:k,...j}=e;const M=(0,i.useId)(),_=function(e){const{isSelected:t,isDisabled:n,selectAlignYAxis:i,alignAdditionalContent:r}=e;return(0,o().IS)((e=>{const o=t&&!n?e.blueColor:e.selectorBorderUnselected;return{container:{display:"flex",alignItems:r??"center",gap:12,userSelect:"none",padding:"9px 16px 10px 10px",borderRadius:6,border:`1px solid ${o}`,...!n&&{cursor:"pointer"}},title:{fontWeight:a().Wy.medium,fontSize:14,userSelect:"none",lineHeight:18},additionalContentWrapper:{flexShrink:0},selectorWrapper:{display:"flex",..."top"===i?{marginTop:2}:{}},rightAlignSelectorWrapper:{display:"flex"}}}),[t,n,i,r])}({isSelected:c,isDisabled:l,selectAlignYAxis:x,alignAdditionalContent:k}),T=(0,d.jsxs)(s().Y1,{direction:"horizontal",align:"top"===x?"top-left":"center-left",gap:12,width:h,children:[(0,d.jsx)("div",{style:_.selectorWrapper,children:(0,d.jsx)(f,{id:M,selectType:y,name:p,value:A,onChange:g,isSelected:c,selectorSize:v,isDisabled:l,...j})}),(0,d.jsx)(m,{colorName:C,description:r,label:u,selectorSize:v,supportText:w,isDisabled:l})]}),P=(0,d.jsxs)(s().Y1,{direction:"horizontal",align:"top"===x?"top-center":"center",gap:12,children:[(0,d.jsx)(m,{colorName:C,description:r,label:u,selectorSize:v,supportText:w,isDisabled:l}),(0,d.jsx)("div",{style:{..._.selectorWrapper,..._.rightAlignSelectorWrapper},children:(0,d.jsx)(f,{id:M,selectType:y,name:p,value:A,onChange:g,selectorSize:v,isSelected:c,isDisabled:l,...j})})]}),B=n?(0,d.jsx)("div",{style:_.additionalContentWrapper,children:n}):null;return(0,d.jsx)("label",{ref:t,style:{..._.container,...S},htmlFor:M,children:"left"===b?(0,d.jsxs)(d.Fragment,{children:[T,B]}):(0,d.jsxs)(d.Fragment,{children:[B,P]})})}));function m(e){const{description:t,label:n,supportText:i,selectorSize:o,isDisabled:a,colorName:l}=e;let c;return"large"===o?c="Page-Content/Text-Block":"normal"===o||void 0===o?c="Body-13px/Medium":"small"===o?c="Body-12px/Regular":(0,r().HB)(o),(0,d.jsxs)(s().Y1,{gap:4,children:[(0,d.jsxs)(s().Y1,{gap:2,children:[(0,d.jsx)(p().D,{styleName:c,colorName:l||(a?"quaternary":"primary"),children:n}),t?(0,d.jsx)(p().D,{styleName:"Caption-12px/Regular",colorName:a?"quaternary":"secondary",children:t}):null]}),i?(0,d.jsx)(p().D,{styleName:"Caption-12px/Medium",colorName:"tertiary",children:i}):null]})}function f(e){const{selectType:t,selectorSize:i="normal",id:a,name:s,value:l,onChange:c,isSelected:p,isDisabled:g,...m}=e,f=(0,o().IS)((()=>({checkboxWrapper:{minWidth:18,display:"flex",justifyContent:"center"}})),[]);switch(t){case"radio":return(0,d.jsx)(u,{id:a,name:s,value:l,onChange:c,checked:p,disabled:g,selectorSize:i,...m});case"checkbox":return(0,d.jsx)("div",{style:f.checkboxWrapper,children:(0,d.jsx)(n(115562).W,{id:a,name:s,value:l,onChange:c,checked:p,disabled:g,selectorSize:i,...m})});case"none":return null;default:(0,r().HB)(t)}}},506050:(e,t,n)=>{n.d(t,{L:()=>o});class i extends(()=>n(757695))().Store{getInitialState(){return{dismissed:[]}}dismiss(e){this.setState({...this.state,dismissed:[...this.state.dismissed,e]})}}const o=new i;(0,n(604341).exposeDebugValue)("GlobalTranscriptionBlockAnnotationStore",o)},520861:(e,t,n)=>{n.d(t,{T:()=>o});n(944114),n(898992),n(908872);var i=()=>n(415651);function o(e){const{environment:t,collectionStore:n,duplicate:o,droppedStores:r,transaction:a,duplicateActions:s}=e,{movedStores:l,reparentedStores:c}=r.reduce(((e,t)=>(o||t.getAssociatedCollectionId()!==(null==n?void 0:n.id)?e.reparentedStores.push(t):e.movedStores.push(t),e)),{movedStores:[],reparentedStores:[]});return[...l,...i().MS({environment:t,droppedStores:c,duplicate:o,transaction:a,resolveTemplateVariables:!1,duplicateActions:s})]}},521785:(e,t,n)=>{n.d(t,{v:()=>i});const i=(0,n(959013).YK)({templateStartTooltip:{id:"transcriptionBlock.disabled.templateTooltip.start",defaultMessage:"Transcription cannot be started inside a template"},templateSummarizeTooltip:{id:"transcriptionBlock.disabled.templateTooltip.summarize",defaultMessage:"Transcription cannot be summarized inside a template"}})},525432:(e,t,n)=>{n.d(t,{Bd:()=>s,DN:()=>m,II:()=>x,R8:()=>b,U9:()=>v,VM:()=>h,ZF:()=>p,ZI:()=>d,bf:()=>c,jx:()=>u,wW:()=>f,xO:()=>l});n(16280),n(296540);var i=()=>n(651124),o=()=>n(959013),r=()=>n(712505),a=n(474848);let s=function(e){return e[e.ViewSettings=0]="ViewSettings",e[e.FilterBar=1]="FilterBar",e[e.TopbarFilterPopup=2]="TopbarFilterPopup",e[e.TopbarSortPopup=3]="TopbarSortPopup",e[e.TopbarFollowPopup=4]="TopbarFollowPopup",e[e.MobileSheet=5]="MobileSheet",e}({});const l=480,c=320;function d(e){const{timelineViewTab:t,collectionContextStore:n}=e,o=u({collectionContextStore:n}),r=p({collectionContextStore:n});return"timeline"===o?"timeline"===t?"timeline_properties":r?"timeline_table_properties":void 0:(0,i().u9)(u({collectionContextStore:n}))}function u(e){var t;const{collectionContextStore:n}=e,i=null===(t=n.collectionViewStore())||void 0===t?void 0:t.getType();if(!i)throw new Error("View type was not defined.");return i}function p(e){const{collectionContextStore:t}=e,n=t.normalizedFormatStore.state;return Boolean(n.timeline_show_table)}const g=600;function m(e,t,n){const i=n||0,o=e.settingsStore.state;if(o.open&&!0!==o.hideSettingsPopup)return f(e,t,i)}function f(e,t,n){const i=n||0,o=e.settingsStore.state,a=u({collectionContextStore:e});return o.open&&"form_editor"===a||t||r().default.isSidePeekOpen()||e.isInHomeWidgetStore.state||e.isInlineViewStore.state||i<=g?"popup":"sidebar"}function h(e){let{hasOnlyLinkedDataSources:t,isCollectionViewPageWithContent:n,locked:i}=e;return n?i?(0,a.jsx)(o().sA,{defaultMessage:"Unlock wiki",id:"action.unlockWikiName.name"}):(0,a.jsx)(o().sA,{defaultMessage:"Lock wiki",id:"action.lockWikiName.name"}):t?i?(0,a.jsx)(o().sA,{defaultMessage:"Unlock views",id:"database.viewSettings.mainTab.unlockViews.title"}):(0,a.jsx)(o().sA,{defaultMessage:"Lock views",id:"database.viewSettings.mainTab.lockViews.title"}):i?(0,a.jsx)(o().sA,{defaultMessage:"Unlock database",id:"database.viewSettings.mainTab.unlockDatabase.title"}):(0,a.jsx)(o().sA,{defaultMessage:"Lock database",id:"database.viewSettings.mainTab.lockDatabase.title"})}let v=function(e){return e[e.Source=0]="Source",e[e.Relation=1]="Relation",e}({});const b=6;function x(e){let{currentViewType:t,isPlaceholderExternalCollection:n,collectionContextStore:i,allowedActions:o,settingsHeaderSizeObserver:r}=e;return"page"!==t&&"form_editor"!==t&&(!n&&(!!i.shouldAllowNewItemCreation()&&(!(o&&!o.includes("addItem"))&&!(r&&r.rect.state.width>c))))}},541235:(e,t,n)=>{n.d(t,{YD:()=>r,c$:()=>i,q_:()=>o});const i={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]}},o="completed",r="dismissed"},544862:(e,t,n)=>{n.d(t,{A:()=>A});var i=n(296540),o=()=>n(484714),r=()=>n(56366),a=()=>n(959013),s=()=>n(896628),l=()=>n(454531),c=()=>n(751156),d=()=>n(478726),u=()=>n(227440),p=()=>n(867772),g=()=>n(681810),m=()=>n(608581),f=()=>n(145214),h=()=>n(704152),v=()=>n(807683),b=()=>n(401497),x=()=>n(534177),y=n(474848);function S(e){let{src:t,placeholderSrc:n,placeholderBehavior:o,imageStyle:r,containerStyle:a,onLoadComplete:s,testId:l}=e;const[c,d]=(0,i.useState)(!0);let u;switch(o){case"force-show-placeholder":u=!0;break;case"force-show-src":u=!1;break;case"show-placeholder-if-loading-src":u=!!n&&(c||void 0===t);break;default:(0,x().HB)(o)}const p=(0,b().IS)((()=>{const e={gridColumn:1,gridRow:1};return{container:{display:"grid",...a},srcWrapper:{...u&&{display:"none"},...e},placeholderWrapper:{pointerEvents:"none",...e}}}),[a,u]);(0,i.useEffect)((()=>{void 0!==t&&d(!0)}),[t]);const g=(0,i.useCallback)((e=>{d(!1),null==s||s()}),[s]);return(0,y.jsxs)("div",{style:p.container,children:[(0,y.jsx)(v().Ay,{src:t,onLoad:g,style:r,placeholderStyle:p.srcWrapper,placeholderLoadedStyle:p.srcWrapper,testId:l}),n&&(0,y.jsx)(v().Ay,{src:n,style:r,placeholderStyle:p.placeholderWrapper,placeholderLoadedStyle:p.placeholderWrapper})]})}var w=()=>n(453101);const A=function(e){let{store:t,disabled:a,paddingRight:l,paddingLeft:d,height:u,proxyWidth:m}=e;const f=(0,o().v3)(),h=(0,o().Y0)(),b=(0,r().uB)(void 0,n(454305).A),x=(0,r().K8)((()=>a||"suggest"===n(77246).Uv.getMode(t)||(0,n(600871).aD)(h)),[a,t,h]),w=(0,r().K8)((()=>t.getCover()),[t]),A=(0,r().O$)(g().A),[j,M]=(0,i.useState)(void 0);if(!w)return null;const _=A.loadingMode!==p().pF&&A.loadingMode!==p().Wc;return(0,y.jsx)(n(801678).A,{mouseStore:b,onFlushTemporaryPosition:e=>function(e,t,n){const{imagePosition:i,reset:o}=e;c().createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:n,canUndo:!0,perform:e=>{s().yY({store:t,coverPosition:i,transaction:e}),o()}})}(e,t,f),renderControl:e=>{let{handleRepositionClick:n,handleSavePositionClick:i,handleCancelClick:o,isVisible:r,isRepositioning:a}=e;return(0,y.jsx)(k,{handleRepositionClick:n,handleSavePositionClick:i,handleCancelClick:o,isVisible:r,isRepositioning:a,lastProxiedUrl:j,store:t,disabled:x,paddingRight:l,paddingLeft:d,mouseStore:b})},source:"page",store:t,style:{display:"flex",flexDirection:"column",alignItems:"center",height:u,maxHeight:280,cursor:"default"},preventClickPropagation:!0,render:e=>(0,y.jsxs)(i.Fragment,{children:[(0,y.jsx)(n(360083).A,{url:w.cover,isAuthenticated:!0,permissionRecord:w.pointer,width:m,onFinishedLoadingProxyUrl:M,render:(t,n)=>{const i={width:"100%",height:u,maxHeight:280,objectFit:"cover",opacity:_?.5:1,objectPosition:`center ${100*(1-(e.imagePosition||0))}%`,borderRadius:0},o={width:"100%",height:u,maxHeight:280};return(0,y.jsx)(S,{src:n,placeholderSrc:_?A.dataURL:void 0,placeholderBehavior:_?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:o,imageStyle:i,onLoadComplete:C,testId:"pageCover"})}}),_&&(0,y.jsxs)("div",{style:v().fd,children:[(0,y.jsx)(n(331542).A,{size:"md",style:{marginRight:4}}),(0,y.jsx)("div",{style:{minWidth:30,textAlign:"right"},children:void 0!==A.uploadProgress?(0,y.jsx)(n(773382).A,{percentage:A.uploadProgress}):A.progressText?(0,y.jsx)("span",{children:A.progressText}):null})]})]})})};function C(){g().A.reset()}function k(e){let{isVisible:t,isRepositioning:n,handleCancelClick:s,handleRepositionClick:c,handleSavePositionClick:v,lastProxiedUrl:b,store:x,disabled:S,paddingRight:A,paddingLeft:C,mouseStore:k}=e;const j=(0,o().v3)(),M=(0,a().tz)(),_=(0,i.useCallback)((e=>function(e,t,n,i,o){o.reset();const r=e.target.getBoundingClientRect();l().W({environment:t,intl:n,store:i,rect:r,from:"page_header"})}(e,j,M,x,k)),[j,M,x,k]),T=(0,r().K8)((()=>g().A.state.loadingMode),[]),P=(0,r().K8)((()=>function(e){let t;return t=Boolean(e.isFullWidth())?"100%":d().x6,t}(x)),[x]),{device:B}=j,I=(0,r().O$)(u().e);if(S||T!==p().pF||!I)return null;const{isMobile:D}=B;return(0,y.jsx)(f().A,{animate:{width:P,opacity:t?1:0},style:{position:"absolute",pointerEvents:t?"auto":"none",maxWidth:"100%",top:48},children:(0,y.jsxs)(m().A,{isVisible:t,position:"bottom",style:{marginRight:A,marginLeft:C},children:[!n&&(0,y.jsx)(h().A,{style:{borderRight:D?"none":void 0,...w().k},onClick:_,children:(0,y.jsx)(a().sA,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})}),!n&&!D&&(0,y.jsx)(h().A,{style:{...w().k,borderRight:"none"},onClick:e=>c(e,b),children:(0,y.jsx)(a().sA,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})}),n&&!D&&(0,y.jsx)(h().A,{style:w().k,onClick:v,children:(0,y.jsx)(a().sA,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})}),n&&!D&&(0,y.jsx)(h().A,{style:{...w().k,borderRight:"none"},onClick:s,children:(0,y.jsx)(a().sA,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"})})]})})}},551619:(e,t,n)=>{n.d(t,{Hy:()=>B,NV:()=>T,O9:()=>D,Rg:()=>I,Sm:()=>N,dK:()=>L,f7:()=>R,l8:()=>E,n$:()=>O,no:()=>H,sx:()=>P});var i=()=>n(402014),o=()=>n(484714),r=()=>n(792485),a=()=>n(56366),s=()=>n(700500),l=()=>n(651124),c=()=>n(519831),d=()=>n(620689),u=()=>n(591197),p=()=>n(835066),g=()=>n(780054),m=()=>n(964345),f=()=>n(68465),h=()=>n(504836),v=()=>n(478726),b=()=>n(747100),x=()=>n(963589),y=()=>n(665579),S=()=>n(765957),w=()=>n(525569),A=()=>n(217429),C=()=>n(375447),k=()=>n(66496),j=()=>n(548821),M=()=>n(712505),_=()=>n(302022);function T(e){(0,i().SQ)({event:e,context:i().y$.EditorMouseDown,callback:()=>{}})}function P(e){(0,i().SQ)({event:e,context:i().y$.Click,callback:()=>{}})}function B(e){return(0,a().K8)((()=>Boolean(_().A.state.pageMap[e.id])||k().A.state.pages.has(e.id)),[e.id])}function I(e,t){const n=(0,o().v3)(),i=(0,r().S)(),s=B(e),l=(0,a().K8)((()=>{var n,i;return t===j().Rr.Frame?Boolean(null===(n=S().default.state.currentLoadingContainerStore)||void 0===n?void 0:n.state.ready):t===j().Rr.PeekView&&M().default.state.open?Boolean(null===(i=M().default.state.loadingContainerStore)||void 0===i?void 0:i.state.ready):t===j().Rr.CollectionPageView||t===j().Rr.CollectionPageViewFullScreen?e.isReady():void 0}),[t,e]),c=R(e);return(0,a().K8)((()=>{if(!l)return!1;const t=n.currentUser.isLoggedIn(),o=i&&i.publicEditModeStore.state;return Boolean(e&&e.isDefined()&&!e.isNonEditableState()&&e.canEdit()&&!e.hasContent()&&t&&(!(null!=o&&o.hasPublicPermission)||"edit"===(null==o?void 0:o.permission))&&!s&&!c&&(!(0,f().ZE)(o)||"completionPopup"!==w().default.state.type))}),[n.currentUser,c,l,i,s,e])}function D(e,t){const n=(0,o().v3)(),i=(0,r().S)(),{isTablet:s}=(0,o().Y0)(),l=(0,x().X)("tablet_refresh_template_pills_gate");return(0,a().K8)((()=>{if(t===j().Rr.SitePreview)return!1;if(g().A.isMobile&&(!s||!l))return!1;if(!n.currentUser.isLoggedIn())return!1;const o=i&&i.publicEditModeStore.state;if(null!=o&&o.hasPublicPermission&&"edit"!==(null==o?void 0:o.permission))return!1;if(e.getContentLength()>1)return!1;if(!e.canEdit()||e.isNonEditableState())return!1;const r=e.getContentStores()[0];if(r&&!r.isEmptyTextBlock())return!1;if(e.getAssociatedCollectionStore())return!1;const a=m().gZ.state,c=m().Di.state;if(a&&e.id===c)return!1;return!((0,v().L5)(t)?u().VY.state:u().u3.state)}),[n,i,e,t,s,l])}function R(e){return(0,a().K8)((()=>{if(e.isCollectionView()){const t=e.getCollectionStoreIfSingleSource();return!!t&&t.isSyncedCollection()}return e.isType(s().xd.externalObjectInstancePage)}),[e])}function N(e){return(0,a().K8)((()=>{if(!(0,h().vL)())return!1;const t=e.getParentStore();if((null==t?void 0:t.table)===c().Vl){return!!t.getFormatStore().getKeyStore("external_collection_type").getValue()}return!1}),[e])}function L(e){return(0,a().K8)((()=>{if(!(0,h().pB)())return!1;var t;return!!e.isCollectionView()&&((null===(t=e.getCollectionStore())||void 0===t?void 0:t.getFormatStore().getKeyStore("external_collection_type").getValue())??!1)}),[e])}function E(e){return(0,a().K8)((()=>{if(!A().default.checkGate({gateName:"csvimport_faster_navigate_to_page_enabled"}))return!1;var t;return!!e.isCollectionView()&&(null===(t=e.getCollectionStore())||void 0===t?void 0:t.getFormatStore().getKeyStore("static_import_collection_type").getValue())===l().IE.CsvImport}),[e])}function O(e){const t=(0,o().v3)(),{device:n,WindowSizeStore:i}=t,r=(0,a().K8)((()=>{const e=i.state.height,n=g().A.isMobile&&C().Ay.state.open?e:0;return d().C6(t)+n}),[t,i]);return(0,a().K8)((()=>"home-phone"===e?y().q3:n.isTablet?380:n.isIOS?Math.max(350,r):g().A.isMobile?400:"side-peek"===e||"center-peek"===e?b().ln:"home"===e?y().wH:"30vh"),[n,r,e])}function H(e){const t=(0,o().v3)(),n=(0,a().K8)((()=>(0,p().dC)(t,e)),[t,e]);return(0,a().K8)((()=>n&&!e.isFullWidth()?(0,p().Zy)(t,(0,b().cq)(e),(0,b().RX)(e)):0),[t,n,e])}},555267:(e,t,n)=>{n.d(t,{A:()=>l});var i=n(296540),o=()=>n(401497),r=()=>n(62856),a=()=>n(331542),s=n(474848);function l(e){let{loadingMessage:t}=e;const n=(0,o().DP)(),l=(0,r().A)(!0,400);return(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l?(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(a().A,{}),t?(0,s.jsx)("div",{style:{marginLeft:8,color:n.text.secondary},children:t}):void 0]}):void 0})}},567121:(e,t,n)=>{n.d(t,{EG:()=>a,K5:()=>r,RH:()=>o,Yi:()=>s,ls:()=>i});const i=32,o=202,r=1e3,a="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",s="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},570551:(e,t,n)=>{function i(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{A:()=>i})},578194:(e,t,n)=>{n.d(t,{r:()=>i});const i=(0,n(583835).Dv)("importEvernote")},591197:(e,t,n)=>{n.d(t,{VY:()=>s,ZJ:()=>r,u3:()=>a});var i=()=>n(496506);class o extends(()=>n(757695))().Store{getInitialState(){return{popupRenderedInPage:!1,popupRenderedInPeekView:!1}}}const r=new o,a=new(i().ComputedStore)((()=>!1!==r.state.popupRenderedInPage),{debugName:"AssistantWriterRenderedInPageStore"}),s=new(i().ComputedStore)((()=>!1!==r.state.popupRenderedInPeekView),{debugName:"AssistantWriterRenderedInPeekViewStore"})},606982:(e,t,n)=>{n.d(t,{A:()=>r});var i=()=>n(10123),o=()=>n(570551);function r(e,t){(0,o().A)(2,arguments);var n=(0,i().A)(e),r=(0,i().A)(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}},608581:(e,t,n)=>{n.d(t,{A:()=>u});n(898992),n(354520),n(581454),n(941795);var i=n(296540),o=()=>n(401497),r=()=>n(955825),a=()=>n(284371),s=()=>n(780054),l=()=>n(963575),c=n(474848);function d(e){const{button:t,isLast:n}=e,s=(0,o().IS)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:a().Wy.medium,borderRight:`1px solid ${e.regularDividerColor}`,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor},buttonLast:{borderRight:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return i.cloneElement(t,{...(0,r().AH)(t.props.style,s.button,n&&s.buttonLast),hoveredStyle:(0,r().AH)(s.buttonHovered,n&&s.buttonLast).style,pressedStyle:s.buttonPressed})}const u=function(e){let{children:t,isVisible:u,position:p,style:g}=e;const m=(0,o().IS)((e=>({container:{color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.shadowSM,display:"flex",whiteSpace:"nowrap",borderRadius:l().A.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:s().A.isMobile?"auto":"none",opacity:s().A.isMobile?1:0,fontFamily:a().vc(n(662303).locale).sans,position:"absolute",right:l().A.horizontal.small,bottom:l().A.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:l().A.vertical.small,bottom:void 0}})),[]),f=i.Children.toArray(t).filter(n(534177).O9),h=f.length;return(0,c.jsx)(n(145214).A,{animate:{opacity:u?1:0},...(0,r().AH)(m.container,g,u&&m.containerHover,"top"===p&&m.containerTop),children:f.map(((e,t)=>{const o=t===h-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===n(859428).A&&i.isValidElement(e))return i.cloneElement(e,{render:(t,n)=>{const i=e.props.render(t,n);return(0,c.jsx)(d,{isLast:o,button:i},e.key)}});if(e.type===n(704152).A&&i.isValidElement(e))return(0,c.jsx)(d,{isLast:o,button:e},e.key)}}))})}},612900:(e,t,n)=>{n.d(t,{u:()=>r});var i=()=>n(645873);const o=new(i().O2)("PulsingWrapper",(async()=>n.e(45248).then(n.bind(n,673962)))),r=(0,i().jQ)(o,(e=>e.PulsingWrapper),{renderLoading:(e,t)=>t.children})},665579:(e,t,n)=>{n.d(t,{$L:()=>s,BZ:()=>d,EC:()=>m,EI:()=>y,E_:()=>j,Ed:()=>p,Fq:()=>v,Lu:()=>w,Mk:()=>g,O0:()=>k,UO:()=>M,V$:()=>C,VQ:()=>f,Xx:()=>S,Xy:()=>c,YS:()=>h,_g:()=>x,dd:()=>u,pW:()=>l,q3:()=>a,wH:()=>r});var i=()=>n(496603),o=()=>n(534177);const r=160,a=40,s=24,l=20,c=600,d=270,u=405,p=480,g=500,m=void 0,f=16,h=10,v=8,b=(n(69447).nh,{backdropFilter:"blur(48px)",WebkitBackdropFilter:"blur(48px)"}),x=4;function y(e){return{icon:e.icon.secondary,text:e.text.secondary}}function S(e){return{width:48,height:48,fill:e.icon.tertiary}}function w(e){let{theme:t,isPhone:n}=e;return n?t.personalHomeBackgroundPhone:t.surface.page}const A=1;function C(e){let{isPhone:t,theme:n}=e;return{zIndex:1,position:"relative",display:"flex",flexDirection:"column",borderRadius:12,background:n.home.tile.background,boxShadow:j({isPhone:t,theme:n}),...b}}function k(e){let{mode:t}=e;switch(t){case"dark":return 0;case"light":return A;default:return(0,o().ub)(t),0}}function j(e){let{isPhone:t,theme:n,borderOnly:o}=e;if("dark"===n.mode)return"unset";n.mode;const r=k({mode:n.mode});return(0,i().oE)([o||t?void 0:"0 12px 32px rgba(0, 0, 0, 0.02)",`0 0 0 ${r}px rgba(0, 0, 0, 0.05)`]).join(", ")}function M(e){const{isPhone:t,theme:n,borderOnly:i}=e;return{unhoveredBoxShadow:j({isPhone:t,theme:n,borderOnly:i}),hoveredBoxShadow:"light"===n.mode?["0 12px 32px rgba(0, 0, 0, 0.03)","0 0 0 1px rgba(0, 0, 0, 0.085)"].join(", "):n.homeShadow.card.hovered}}},673903:(e,t,n)=>{n.d(t,{E:()=>i,G:()=>o});n(16280);function i(){const e=navigator.mediaDevices;if(e instanceof MediaDevices)return e;throw new Error("Media devices unavailable in current context.")}function o(e){const t=window.AudioContext||window.webkitAudioContext||!1;var n;if(Boolean(t))return new t({...(null===(n=navigator)||void 0===n||null===(n=n.mediaDevices)||void 0===n?void 0:n.getSupportedConstraints().sampleRate)&&{sampleRate:e}});throw new Error("Browser does not support Web Audio API (AudioContext is not available).")}},677195:(e,t,n)=>{n.d(t,{R:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("verificationCheck",{viewBox:"0 0 6 7",svg:(0,i.jsx)("path",{d:"M2.84245 6.11619C2.71116 6.30644 2.53392 6.40156 2.31072 6.40156C2.20131 6.40156 2.10066 6.37881 2.00875 6.33332C1.92123 6.28782 1.83589 6.21545 1.75274 6.11619L0.150985 4.25515C0.0503282 4.12694 0 3.99874 0 3.87053C0 3.73406 0.04814 3.61826 0.14442 3.52314C0.245077 3.42388 0.365427 3.37425 0.50547 3.37425C0.597374 3.37425 0.680525 3.39286 0.754923 3.43008C0.833698 3.46317 0.912473 3.52934 0.991247 3.6286L2.28446 5.21049L5.00875 1.07896C5.13129 0.892857 5.28446 0.799805 5.46827 0.799805C5.60394 0.799805 5.72648 0.841161 5.83589 0.923874C5.9453 1.00659 6 1.11618 6 1.25266C6 1.32297 5.98249 1.39327 5.94748 1.46358C5.91685 1.52975 5.88184 1.59178 5.84245 1.64968L2.84245 6.11619Z"})})},681810:(e,t,n)=>{n.d(t,{A:()=>i});const i=new(n(867772).Ay)},687039:(e,t,n)=>{n.d(t,{A:()=>s,V:()=>r});n(898992),n(430670);var i=n(296540),o=n(474848);const r={"en-US":"en","ja-JP":"ja","ko-KR":"ko","fr-FR":"fr","de-DE":"de","pt-BR":"pt-BR","es-ES":"es-ES"};function a(e){return e.src?(0,o.jsx)("img",{style:e.style,src:e.src}):null}const s=i.forwardRef((function(e,t){const r=(0,n(401497).DP)(),s=i.useRef(e);s.current=e,i.useEffect((()=>{const t=document.createElement("script");t.src="https://player.vimeo.com/api/player.js",document.body.appendChild(t);const n=window.Vimeo;if(!n)return()=>{};const i=document.getElementById(e.src),o=new n.Player(i);return o?(o.on("play",(e=>{var t,n;null===(t=(n=s.current).onPlay)||void 0===t||t.call(n,e)})),o.on("pause",(e=>{var t,n;null===(t=(n=s.current).onPause)||void 0===t||t.call(n,e)})),o.on("ended",(e=>{var t,n;null===(t=(n=s.current).onEnd)||void 0===t||t.call(n,e)})),()=>{o.off("play"),o.off("pause"),o.off("ended")}):()=>{}}),[e.src,s.current.src]);const l=function(e,t){const i=(0,n(534177).WP)(t).flatMap((e=>{let[t,n]=e;return`${t}=${n}`})).join("&");return`${e}&${i}`}(s.current.src,{texttrack:s.current.defaultTextTrack,playsinline:!1,...s.current.options}),c={position:"absolute",top:0,left:0,width:"100%",height:"100%",border:0,boxShadow:`0 1px 0 0 ${r.stroke.secondary}`};return(0,o.jsxs)(n(25500).A,{ratio:s.current.aspectRatioOverride??9/16,children:[(0,o.jsx)(a,{style:c,src:s.current.preloadThumbnailSrc}),(0,o.jsx)("iframe",{ref:t,id:s.current.src,className:s.current.className,allowFullScreen:!0,src:l,style:{...c,...s.current.style}})]})}))},701751:(e,t,n)=>{n.d(t,{p:()=>r});n(296540);var i=n(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"3.97 1.94 14.91 15.66",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M10.55 12.808a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 1 0 1.1 0z"}),(0,i.jsx)("path",{d:"M15.4 1.95a3.48 3.48 0 0 0-3.48 3.48v1.92H6.4a2.425 2.425 0 0 0-2.425 2.425v5.4A2.425 2.425 0 0 0 6.4 17.6h7.2a2.425 2.425 0 0 0 2.425-2.425v-5.4A2.425 2.425 0 0 0 13.6 7.35h-.43V5.43a2.23 2.23 0 1 1 4.46 0v2.095a.625.625 0 1 0 1.25 0V5.43a3.48 3.48 0 0 0-3.48-3.48M5.225 9.775c0-.649.526-1.175 1.175-1.175h7.2c.649 0 1.175.526 1.175 1.175v5.4c0 .649-.526 1.175-1.175 1.175H6.4a1.175 1.175 0 0 1-1.175-1.175z"})]})},r=(0,n(340498).wt)("lockOpen",o)},735695:(e,t,n)=>{n.d(t,{Ay:()=>j,iZ:()=>A,vE:()=>w});var i=n(296540),o=()=>n(804773),r=()=>n(401497),a=()=>n(149375),s=()=>n(66913),l=()=>n(959013),c=()=>n(284371),d=()=>n(686526),u=()=>n(704152),p=()=>n(285790),g=()=>n(928600),m=()=>n(480095),f=()=>n(554509),h=()=>n(780054),v=()=>n(722872),b=()=>n(253579),x=()=>n(255824),y=n(474848);const S=(0,l().YK)({back:{defaultMessage:"Back",id:"collectionsSettingsMenu.back"}}),w=290,A=400;function C(e){let{children:t,title:n,desktopTitleType:i,settingsStackLength:o,handleClose:d,handleBackArrowClick:g,hideDesktopHeader:m,hasBackStack:h}=e;const v=(0,x().a)(),b=(0,l().tz)(),w=(0,r().IS)((e=>({hiddenDesktopHeaderDiv:{height:0},nonHiddenDesktopHeaderDiv:{display:"flex",alignItems:v?"top":"center",padding:v?"0px 14px 6px 14px":"14px 16px 6px 16px",height:v?void 0:42},arrowButton:{marginRight:8,marginLeft:-2,height:22},arrowIcon:{width:16,height:16},title:{flexGrow:1,fontWeight:v?c().Wy.medium:c().Wy.semibold,fontSize:v?16:14,lineHeight:v?"24px":void 0,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},closeButton:{display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"100%",background:e.buttonHoveredBackground,width:18,height:18,flexShrink:0},closeButtonHover:{background:e.buttonPressedBackground},closeIcon:{width:14,fill:e.text.secondary}})),[v]),A=!v;return(0,y.jsxs)(y.Fragment,{children:[m?(0,y.jsx)("div",{style:w.hiddenDesktopHeaderDiv}):(0,y.jsxs)("div",{style:w.nonHiddenDesktopHeaderDiv,children:[(o>1||h)&&(0,y.jsx)(p().A,{icon:a().v,style:w.arrowButton,iconStyle:w.arrowIcon,onClick:g,ariaLabel:b.formatMessage(S.back)}),"sectionHeader"===i?(0,y.jsx)(f().D,{styleName:"UISmall-12px/Medium",colorName:"secondary",customStyles:{flexGrow:1},children:n}):(0,y.jsx)("span",{style:w.title,children:n}),A&&(0,y.jsx)(u().A,{onClick:d,style:w.closeButton,hoveredStyle:w.closeButtonHover,children:(0,s().V)(w.closeIcon)})]}),t]})}function k(e,t){let{children:r,footer:a,header:s,unconstrainedWidth:l,desktopWidth:c,title:u,desktopTitleType:p,collectionSettingsStore:f,fullHeight:S,hideDesktopHeader:A,menuScrollerStyle:k,innerContentWrapperStyle:j,disableScroller:M,handleBackArrowClick:_,hasBackStack:T,handleClose:P}=e;const B=(0,n(175116).Ks)(),I=(0,v().Tf)(),D=(0,x().a)(),{currentTab:R,settingsStackLength:N,hideHeader:L}=(0,n(56366).K8)((()=>{const e=f.state;return{currentTab:(0,n(940371).S)(f),settingsStackLength:e.stack.length,hideHeader:e.hideSettingsHeader}}),[f]),E=(0,i.useCallback)((()=>{var e;_?_():d().yl({collectionSettingsStore:f,keepPreviousRef:"form_editor"===(null==B||null===(e=B.collectionViewStore())||void 0===e?void 0:e.getType())})}),[_,f,B]),O=(0,i.useCallback)((e=>{P?P(e):d().os({collectionSettingsStore:f})}),[P,f]),H=(0,i.useCallback)((e=>{(0,b().rW)(e.target)||(0,b().iX)(e.target)||(0,b().u2)(e.target)||n(263711).g.state.isOpen||O(e)}),[O]);if(!R)return null;let W;if(h().A.isMobile)W={disableScroller:M,menuType:v().gu.Modal,title:u,left:N>1?(0,y.jsx)(m().MobileModalBackButton,{}):void 0,onClickLeft:N>1?E:void 0,scrollerStyle:k,innerRef:t,right:I?void 0:(0,y.jsx)(m().DoneMenuText,{}),onClickRight:I?void 0:O};else{const e=l||c?void 0:D?280:w;W={disableScroller:M,menuType:v().gu.Popup,minWidth:D?280:w,width:c,maxHeight:S?"100%":"80vh",...e&&{maxWidth:e},onClickOutside:H,scrollerStyle:{flexGrow:0,...k},header:!L&&(0,y.jsx)(C,{settingsStackLength:N,handleClose:O,handleBackArrowClick:E,hasBackStack:T,hideDesktopHeader:A,title:u,desktopTitleType:p,children:s}),paddingTop:L?6:0,footer:a,innerRef:t}}const V=(0,y.jsxs)(y.Fragment,{children:[h().A.isMobile&&s,r,h().A.isMobile&&a]});return S?(0,y.jsx)(o().Y,{direction:"vertical",children:(0,y.jsx)(g().A,{...W,children:V})}):(0,y.jsx)(n(297872).A,{capture:!0,allowMobileAutoScroll:!0,allowEsc:!0,render:e=>(0,y.jsx)(o().Y,{direction:"vertical",children:(0,y.jsx)(g().A,{...W,...e,children:(0,y.jsx)("div",{style:j,children:V})})})})}const j=(0,i.forwardRef)(k)},735790:(e,t,n)=>{n.d(t,{M:()=>r});n(296540);var i=n(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.25 15.25 11.5",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M3 7.375h6.829a2.501 2.501 0 0 0 4.842 0H17a.625.625 0 1 0 0-1.25h-2.329a2.501 2.501 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25M12.25 5.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5"}),(0,i.jsx)("path",{fillRule:"evenodd",d:"M7.75 15.75a2.5 2.5 0 0 0 2.421-1.875H17a.625.625 0 1 0 0-1.25h-6.829a2.5 2.5 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25h2.329A2.5 2.5 0 0 0 7.75 15.75m0-1.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"})]})},r=(0,n(340498).wt)("sliders",o)},739135:(e,t,n)=>{n.d(t,{KD:()=>c,gt:()=>d,i9:()=>l,ll:()=>a,tb:()=>s,x$:()=>r});var i=()=>n(541235),o=()=>n(496603);function r(e,t){return a(d(e,t))}function a(e){return void 0!==e&&(e===i().q_||e===i().YD)}function s(e,t){if(a(t))return;const n=i().c$[e],o=n.steps.findIndex((e=>e.id===t));return-1===o?n.steps[0].id:o===n.steps.length-1?i().q_:n.steps[o+1].id}function l(e,t){const n=d(e,t);if(n&&!a(n))return s(t,n)}function c(e,t){const n=d(e,t);if(n)return function(e,t){const n=i().c$[e];var r;if(a(t))return null===(r=(0,o().HV)(n.steps))||void 0===r?void 0:r.id;const s=n.steps.findIndex((e=>e.id===t));return-1!==s&&0!==s?n.steps[s-1].id:void 0}(t,n)}function d(e,t){var n;if(!e)return;const o=((null===(n=e.getSettings())||void 0===n?void 0:n.tutorials)||{})[t];return void 0===o?i().c$[t].steps[0].id:o}},739375:(e,t,n)=>{n.d(t,{e:()=>u,x:()=>d});var i=()=>n(484714),o=()=>n(56366),r=()=>n(227440),a=()=>n(891360),s=()=>n(506050),l=()=>n(353890),c=()=>n(210667);function d(){const e=(0,i().v3)(),t=(0,o().O$)(r().e),{state:n,canEdit:d,isEnabled:p}=(0,l().s)(),g=(0,o().K8)((()=>s().L.state.dismissed.includes("nux")),[]),m=(0,o().K8)((()=>{const e=a().W.state;return e&&"available"===e.type?e.usage:1/0}),[]);return u({environment:e,state:n,isOnline:t,canUse:p&&d,hasSeenNux:g,usage:m,isTranscriptionSupportedOnDevice:(0,c().h)()})}function u(e){const{isTranscriptionSupportedOnDevice:t,isOnline:n,canUse:i,state:o,hasSeenNux:r,usage:a}=e;return!!t&&(!r&&(!!n&&(!!i&&("initial"===o.state&&0===a))))}},742117:(e,t,n)=>{n.d(t,{V:()=>o});n(296540);var i=n(474848);const o=(0,n(340498).wt)("chevronRight",{viewBox:"0 0 16 16",directional:!0,svg:(0,i.jsx)("path",{d:"M12.375 8.06445C12.375 7.83203 12.2861 7.63379 12.1084 7.45605L6.77637 2.24023C6.62598 2.08984 6.44141 2.01465 6.22266 2.01465C5.77832 2.01465 5.42285 2.35645 5.42285 2.80078C5.42285 3.01953 5.51172 3.21777 5.66211 3.375L10.4746 8.06445L5.66211 12.7539C5.51855 12.9043 5.42285 13.1025 5.42285 13.3213C5.42285 13.7725 5.77832 14.1143 6.22266 14.1143C6.44141 14.1143 6.62598 14.0391 6.77637 13.8887L12.1084 8.67285C12.293 8.49512 12.375 8.29688 12.375 8.06445Z"})})},747671:(e,t,n)=>{n.d(t,{Q:()=>i,a:()=>o});let i=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e}({});class o extends(()=>n(757695))().Store{getInitialState(){return{dayStoreMap:new Map,isDragging:!1,startingMonth:0}}}},748539:(e,t,n)=>{n.d(t,{f:()=>i});const i=new(n(645873).O2)("pageCovers",(async()=>{const{pageCovers:e}=await n.e(40198).then(n.bind(n,519737));return e}))},756114:(e,t,n)=>{n.d(t,{D:()=>i});function i(e,t){t.route.name;return!1}},778450:(e,t,n)=>{n.d(t,{e:()=>a});var i=()=>n(857639),o=()=>n(449506),r=()=>n(63728);async function a(e){if(r().l.state)return r().l.state;const t=e.device.os;if("mac"!==t&&"windows"!==t)return!1;const n=await o().callApi({eventName:"getDesktopAppRegistration",environment:e,data:{os:t}});if("failed"===n.type)return i().log({level:"error",from:"getDesktopAppRegistered",type:"api:getDesktopAppRegistration",error:n.error}),!1;const a=n.data.isRegistered||Boolean(n.data.isRegistered30Day);return a&&r().l.setState(!0),a}},801678:(e,t,n)=>{n.d(t,{A:()=>m});var i=n(296540),o=()=>n(662303),r=()=>n(56366),a=()=>n(959013),s=()=>n(381349),l=()=>n(496603),c=()=>n(284371),d=()=>n(720665),u=()=>n(145214),p=n(474848);const g={isRepositioning:!1};const m=function(e){const t=(0,i.useRef)(null),o=(0,n(484714).v3)(),[a,s]=(0,i.useState)(g),c=(0,i.useCallback)((()=>{s(g)}),[]),{renderControl:u,onFlushTemporaryPosition:m,style:h,source:v,store:b}=e,{isRepositioning:x,image:y,startDragRenderedPosition:S,startDragImageScreenHeight:w}=a,A=(0,r().K8)((()=>0===n(502438).default.state.stores.length),[]),[C,k]=(0,i.useState)(!1),j=(0,r().uB)(e.mouseStore,n(454305).A),M=(0,r().K8)((()=>j.state.mouseEntered),[j]),_=(0,n(401497).IS)((()=>({dragContainer:{width:"100%",cursor:x?"move":"inherit"},container:{position:"relative",width:"100%",zIndex:1}})),[x]),T=(0,r().K8)((()=>function(e,t,n){return(0,l().Et)(n)?n:function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,l().Et)(e))return e}const n=.5;if(t.isCollectionView()){const e=t.getCollectionStore();if(e){const t=e.getFormat().collection_cover_position;return(0,d().pN)(t)?n:t}}const i=t.getFormat(),o=i.page_cover_position;if((0,l().Et)(o))return o;return n}(e,t)}(v,b,a.temporaryPosition)),[a.temporaryPosition,v,b]);(0,i.useEffect)((()=>{const e=e=>{const n=t.current;n&&!n.contains(e.target)&&x&&m({imagePosition:T,reset:()=>{j.reset(),c()}})};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)}),[T,x,j,m,c]),x&&!A&&c();const P=(0,i.useMemo)((()=>(0,l().nF)((e=>{j.setState({...j.state,mouseEntered:!0})}),100)),[j]),B=(0,i.useMemo)((()=>(0,l().sg)((e=>{j.setState({...j.state,mouseEntered:!1})}),100)),[j]),I=(0,i.useCallback)(((e,t)=>{n(778417).IU({environment:o});const i=new Image;i.onload=()=>{s((e=>({...e,isRepositioning:!0,image:i})))},t&&(i.src=t)}),[o]),D=(0,i.useCallback)((e=>{m({imagePosition:T,reset:()=>{c()}})}),[T,m,c]),R=(0,i.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,n(819121).p)(t)&&k(!0)}),[]),N=(0,i.useCallback)((()=>{k(!0)}),[]),L=(0,i.useCallback)((e=>{if(y&&x){const e=t.current;if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/y.width*y.height;s((e=>({...e,startDragImageScreenHeight:t,startDragRenderedPosition:T})))}}}),[y,T,x]),E=(0,i.useCallback)((e=>{if(x){const t=e.diffY/(w||0)+(S||0);s((e=>({...e,temporaryPosition:(0,l().LI)((0,n(40845).A)(t,0,1),4)})))}}),[x,w,S]),O=(0,i.useCallback)((()=>{s((e=>({...e,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})))}),[]),H=(0,r().K8)((()=>u({handleRepositionClick:I,handleSavePositionClick:D,handleCancelClick:c,isVisible:M||C||x,isRepositioning:x})),[I,D,C,x,M,u,c]),W=(0,n(79043).A)(Boolean(e.preventClickPropagation));return(0,p.jsxs)("div",{ref:t,onFocus:R,onBlur:N,onMouseEnter:P,onMouseMove:P,onMouseLeave:B,...W,...(0,n(955825).AH)(_.container,h),children:[(0,p.jsx)(n(603820).A,{onDraggableDragStart:L,onDraggableDragMove:E,onDraggableDragEnd:O,onDraggableDragCancel:O,disabled:!x,render:t=>(0,p.jsx)("div",{style:_.dragContainer,...t,children:e.render({imagePosition:T,isRepositioning:x})})}),(0,p.jsx)(f,{small:e.small,isRepositioning:x}),H]})};function f(e){let{small:t,isRepositioning:n}=e;if(t)return null;const i={background:s().Ay.blackWithAlpha(.4),borderRadius:4,color:s().Ay.white,fontSize:12,fontFamily:c().vc(o().locale).sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"};return(0,p.jsx)(u().A,{visible:n,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:i,children:(0,p.jsx)(a().sA,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})}},843189:(e,t,n)=>{n.d(t,{E:()=>a});var i=n(296540),o=()=>n(960715),r=n(474848);const a=i.forwardRef(((e,t)=>{let{children:i,color:a,disabled:s,iconLeading:l,iconStyle:c,iconTrailing:d,isLoading:u,shape:p="default",size:g="md",style:m,...f}=e;const h=(0,n(963589).X)("nds_button_gap")||Boolean(d),v=(0,n(401497).IS)((e=>{const t=a?`${a}Primary`:"primary",r=a||"regular",d=a?`${a}Hover`:"primaryHover",f=a?`${a}Pressed`:"primaryPressed";return{button:{...(0,o().qq)({shape:p,size:g,hasIconOnly:Boolean(l)&&!i,isButtonGapEnabled:h}),justifyContent:"center",color:e.text[t],background:e.tint[r],opacity:s||u?.3:1,fontWeight:n(284371).Wy.medium,...m},hovered:{background:s?e.tint[r]:e.tint[d]},pressed:{background:s?e.tint[r]:e.tint[f]},icon:{...(0,o().D3)({size:g,hasIconOnly:!i,isButtonGapEnabled:h}),...c}}}),[i,a,s,l,c,h,u,p,g,m]);return(0,r.jsxs)(n(197190).A,{ref:t,style:v.button,hoveredStyle:v.hovered,pressedStyle:v.pressed,disabled:s||u,...f,children:[u?(0,r.jsx)(n(331542).A,{style:{marginRight:4}}):null,l?l(v.icon):null,i,d?d(v.icon):null]})}));a.displayName="TintButton"},851775:(e,t,n)=>{n.d(t,{A:()=>a});var i=()=>n(194188),o=()=>n(10123),r=()=>n(570551);function a(e,t){(0,r().A)(2,arguments);var n=(0,o().A)(e),a=(0,i().A)(t),s=n.getFullYear(),l=n.getDate(),c=new Date(0);c.setFullYear(s,a,15),c.setHours(0,0,0,0);var d=function(e){(0,r().A)(1,arguments);var t=(0,o().A)(e),n=t.getFullYear(),i=t.getMonth(),a=new Date(0);return a.setFullYear(n,i+1,0),a.setHours(0,0,0,0),a.getDate()}(c);return n.setMonth(a,Math.min(l,d)),n}},867772:(e,t,n)=>{n.d(t,{Ay:()=>l,Gi:()=>r,Wc:()=>i,pF:()=>a,vS:()=>o});const i="loadingLocalImage",o="uploading",r="downloading",a="loaded";class s extends(()=>n(757695))().Store{getInitialState(){return{loadingMode:a}}}const l=s},882262:(e,t,n)=>{n.d(t,{m:()=>o});n(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"3.23 3.23 13.54 13.53",svg:(0,n(474848).jsx)("path",{d:"M4.485 8.86V5.369l4.073 4.073a.625.625 0 0 0 .884-.884L5.369 4.485h3.49a.625.625 0 1 0 0-1.25h-5a.625.625 0 0 0-.624.625v5a.625.625 0 0 0 1.25 0m10.146 6.655-4.07-4.07a.625.625 0 0 1 .884-.884l4.07 4.07V11.14a.625.625 0 1 1 1.25 0v5c0 .345-.28.625-.625.625h-5a.625.625 0 1 1 0-1.25z"})},o=(0,n(340498).wt)("arrowExpandDiagonal",i)},894074:(e,t,n)=>{n.d(t,{A:()=>l});var i=()=>n(10123),o=()=>n(851775),r=()=>n(194188),a=()=>n(570551);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function l(e,t){if((0,a().A)(2,arguments),"object"!==s(t)||null===t)throw new RangeError("values parameter must be an object");var n=(0,i().A)(e);return isNaN(n.getTime())?new Date(NaN):(null!=t.year&&n.setFullYear(t.year),null!=t.month&&(n=(0,o().A)(n,t.month)),null!=t.date&&n.setDate((0,r().A)(t.date)),null!=t.hours&&n.setHours((0,r().A)(t.hours)),null!=t.minutes&&n.setMinutes((0,r().A)(t.minutes)),null!=t.seconds&&n.setSeconds((0,r().A)(t.seconds)),null!=t.milliseconds&&n.setMilliseconds((0,r().A)(t.milliseconds)),n)}},927648:(e,t,n)=>{n.d(t,{Ay:()=>v,JS:()=>s,Kj:()=>m,a3:()=>a,nY:()=>u});n(16280);var i=()=>n(496603),o=()=>n(673903);const r="initial",a="allowed",s="denied",l="no_devices",c="insecure_context",d="unknown_error",u="NotAllowedError";function p(e){for(const t of e.getTracks())t.stop()}const g=(0,i().nF)((async function(){if(!window.isSecureContext)return c;try{const e=(0,o().E)();return p(await e.getUserMedia({video:!1,audio:!0})),a}catch(e){const{displayDictationPermissionSnackbar:t}=await Promise.all([n.e(45620),n.e(2681),n.e(70193),n.e(4902)]).then(n.bind(n,491396));if(e instanceof Error)switch(e.name){case u:return t(s),s;case"NotFoundError":case"OverconstrainedError":return t(l),l}return t(d),d}}),1e3);async function m(){if(!window.isSecureContext)return c;try{const e=(0,o().E)();return p(await e.getDisplayMedia({audio:!0,systemAudio:"include"})),a}catch(e){return d}}const f=(0,i().nF)(m,1e3);class h extends(()=>n(757695))().Store{async checkPermissions(e){const t=await g(),n=e?await f():r;return this.setState({...this.state,audio:t,screenRecording:n}),{audio:t,screenRecording:n}}getHasAttemptedScreenRecordingPermissions(){return this.state.hasAttemptedScreenRecordingPermissions}setHasAttemptedScreenRecordingPermissions(e){this.setState({...this.state,hasAttemptedScreenRecordingPermissions:e})}getInitialState(){const e=window.isSecureContext?r:c;return{audio:e,screenRecording:e,hasAttemptedScreenRecordingPermissions:void 0}}}const v=new h},937199:(e,t,n)=>{n.d(t,{LH:()=>r,Op:()=>o,bi:()=>l,sf:()=>s,v$:()=>a});n(16280);var i=n(296540);const o=(0,i.createContext)(null);function r(){const e=(0,i.useContext)(o);if(!e)throw new Error("usePageLayoutEditorContext must be used inside BaseLayoutEditorContext.Provider");return e}function a(){return(0,i.useContext)(o)}o.displayName="BaseLayoutEditorContext";const s=(0,i.createContext)(null);function l(){const e=(0,i.useContext)(s);if(!e)throw new Error("usePageLayoutEditorContext must be used inside PageLayoutEditorContextProvider");return e}s.displayName="PageLayoutEditorContext"},940017:(e,t,n)=>{n.d(t,{l:()=>r});n(296540);var i=n(474848);const o={viewBox:"0 0 20 20",fittedViewBox:"2.96 1.99 14.08 15.13",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M7.3 1.995a.55.55 0 1 0 0 1.1h5.4a.55.55 0 0 0 0-1.1zm-2.35 2.8a.55.55 0 0 1 .55-.55h9a.55.55 0 0 1 0 1.1h-9a.55.55 0 0 1-.55-.55m1.022 4.594c.36-.45.896-.72 1.545-.72.65 0 1.185.27 1.546.72.35.437.51 1.006.51 1.587 0 .58-.16 1.15-.51 1.586-.361.45-.896.72-1.546.72s-1.185-.27-1.545-.72c-.35-.437-.51-1.006-.51-1.586s.16-1.15.51-1.587m.857.689c-.16.199-.268.508-.268.898s.109.698.268.897c.15.187.368.31.688.31s.539-.123.688-.31c.16-.199.268-.508.268-.897 0-.39-.108-.7-.268-.898-.15-.187-.367-.31-.688-.31s-.538.123-.688.31m4.108-.689c.361-.45.896-.72 1.546-.72s1.185.27 1.546.72c.35.437.51 1.006.51 1.587 0 .58-.16 1.15-.51 1.586-.361.45-.896.72-1.546.72s-1.185-.27-1.546-.72c-.35-.437-.51-1.006-.51-1.586s.16-1.15.51-1.587m.858.689c-.16.199-.268.508-.268.898s.108.698.268.897c.15.187.367.31.688.31s.538-.123.688-.31c.16-.199.268-.508.268-.897 0-.39-.108-.7-.268-.898-.15-.187-.367-.31-.688-.31s-.538.123-.688.31"}),(0,i.jsx)("path",{d:"M2.963 8.545c0-1.174.951-2.125 2.125-2.125h9.825c1.174 0 2.125.951 2.125 2.125v6.45a2.125 2.125 0 0 1-2.125 2.125H5.088a2.125 2.125 0 0 1-2.125-2.125zm2.125-.875a.875.875 0 0 0-.875.875v6.45c0 .378.24.7.576.823.316-1.179 1.436-2.024 2.728-2.024 1.06 0 2.003.568 2.483 1.423.48-.855 1.424-1.423 2.483-1.423 1.292 0 2.412.845 2.728 2.024a.88.88 0 0 0 .577-.823v-6.45a.875.875 0 0 0-.875-.875zm8.974 8.2c-.257-.564-.853-.976-1.58-.976-.725 0-1.321.412-1.579.976zm-4.966 0c-.257-.564-.853-.976-1.579-.976s-1.322.412-1.58.976z"})]})},r=(0,n(340498).wt)("peopleStack",o)},990402:(e,t,n)=>{n.d(t,{m:()=>o});var i=()=>n(46986);function o(e){return("workflow"===e.getType()||e.isCollectionView()&&e.getWorkflowStore())&&e.canEdit()&&!e.isSystemBlock()&&(0,i().re)()}}}]);