"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[43678,71204],{56394:(e,t,n)=>{n.d(t,{A:()=>c});n(296540);var o=()=>n(484714),r=()=>n(401497),i=()=>n(668725),a=()=>n(704152),l=()=>n(963589),s=n(474848);function c(e){const{icon:t,title:n,on:c,disabled:u,hasDiff:d,wrapStyle:p,innerStyle:m,hideChevron:y}=e,{isMobile:h}=(0,o().Y0)(),f=(0,l().X)("db_ux_chrome"),v=(0,r().IS)((e=>({container:{borderRadius:14,marginRight:6,display:"inline-flex",...d&&{position:"relative"},...p},filterPill:{fontSize:14,display:"inline-flex",alignItems:"center",justifyContent:"center",whiteSpace:"nowrap",borderRadius:32,height:h?28:24,lineHeight:h?"28px":"24px",padding:"0 8px",...!f&&{border:`1px solid ${e.outlineButtonBorder}`},color:e.text.secondary,...c&&{color:e.text.uiBluePrimary,borderColor:e.filterPillBorder,background:e.tint.uiBlue},...u&&{color:e.text.uiBlueTertiary,borderColor:e.text.uiBlueTertiary,background:e.tint.uiBlue},...m},hovered:c?{background:e.tint.uiBlueHover}:{},pressed:c?{background:e.tint.uiBluePressed}:{},chevron:{width:10,marginLeft:4,marginTop:1,fill:u?e.text.uiBlueTertiary:c?e.blueColor:e.icon.tertiary},diffDot:{position:"absolute",top:-2,right:-2,background:e.icon.orangePrimary,border:`1px solid ${e.contentBackground}`,width:9,height:9,borderRadius:9}})),[d,p,h,f,c,u,m]);return(0,s.jsxs)("div",{style:v.container,children:[(0,s.jsxs)(a().A,{disabled:u,style:v.filterPill,hoveredStyle:v.hovered,pressedStyle:v.pressed,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onClick:e.onClick,onDoubleClick:e.onDoubleClick,children:[t,n,!y&&(0,i().b)(v.chevron)]}),d&&(0,s.jsx)("div",{style:v.diffDot})]})}},112412:(e,t,n)=>{n.d(t,{$:()=>r});n(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"1.69 3.69 12.61 8.61",svg:(0,n(474848).jsx)("path",{d:"M2.4 3.7a.7.7 0 1 0 0 1.4h11.2a.7.7 0 1 0 0-1.4zm9.5 3.594H4.1a.7.7 0 1 0 0 1.4h7.8a.7.7 0 1 0 0-1.4M5.8 10.9a.7.7 0 1 0 0 1.4h4.4a.7.7 0 1 0 0-1.4z"})},r=(0,n(340498).wt)("filterSmall",o)},134421:(e,t,n)=>{n.d(t,{X:()=>r});n(296540);var o=n(474848);const r=(0,n(340498).wt)("arrowsUpDown",{viewBox:"0 0 16 16",directional:!0,svg:(0,o.jsx)("path",{d:"M4.11 2.385a.61.61 0 01.48-.211c.191 0 .353.07.486.21L8.03 5.409a.66.66 0 01.2.475c0 .191-.061.347-.182.469a.627.627 0 01-.463.181.59.59 0 01-.451-.187L5.926 5.098l-.72-.844.04 1.219v7.242a.624.624 0 01-.187.469.624.624 0 01-.47.187.636.636 0 01-.468-.187.635.635 0 01-.182-.47V5.474l.041-1.22-.726.845-1.201 1.248a.61.61 0 01-.457.187.627.627 0 01-.463-.181.634.634 0 01-.182-.47.66.66 0 01.2-.474l2.958-3.023zm7.786 10.781a.636.636 0 01-.486.205.665.665 0 01-.486-.205l-2.947-3.035a.64.64 0 01-.206-.475c0-.191.061-.345.182-.463a.634.634 0 01.469-.181c.18 0 .33.06.451.181l1.201 1.248.727.85-.041-1.219V2.824c0-.187.06-.342.181-.463a.636.636 0 01.47-.187.627.627 0 01.65.65v7.248l-.041 1.219.726-.85 1.207-1.248a.6.6 0 01.451-.181c.188 0 .342.06.463.181a.615.615 0 01.182.463.648.648 0 01-.2.475l-2.953 3.035z"})})},134589:(e,t,n)=>{n.d(t,{R:()=>i});n(296540);var o=n(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"3.37 1.43 13.25 15.44",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M9.325 10.466V2.063a.625.625 0 1 1 1.25 0v8.453l1.458-1.458a.625.625 0 1 1 .884.884l-2.5 2.5a.625.625 0 0 1-.884 0l-2.5-2.5a.625.625 0 1 1 .884-.884z"}),(0,o.jsx)("path",{d:"M11.825 6.375H14.5c.483 0 .875.392.875.875v7.5a.875.875 0 0 1-.875.875h-9a.875.875 0 0 1-.875-.875v-7.5c0-.483.392-.875.875-.875h2.575v-1.25H5.5A2.125 2.125 0 0 0 3.375 7.25v7.5c0 1.174.951 2.125 2.125 2.125h9a2.125 2.125 0 0 0 2.125-2.125v-7.5A2.125 2.125 0 0 0 14.5 5.125h-2.675z"})]})},i=(0,n(340498).wt)("squareAndArrowDown",r)},253447:(e,t,n)=>{n.d(t,{F:()=>r});var o=()=>n(963575);function r(e,t){if(e)return e;switch(t){case"large":return o().A.card.desktop.large.height;case"small":return o().A.card.desktop.small.height;default:return o().A.card.desktop.medium.height}}},271232:(e,t,n)=>{n.d(t,{t:()=>i});var o=n(296540),r=n(474848);const i=o.memo((function(e){const{coverHeight:t,coverSizeFormat:o,emptyGalleryCoverStyle:i}=e,a=(0,n(401497).IS)((()=>({container:{height:(0,n(253447).F)(t,o),...i}})),[t,o,i]);return(0,r.jsx)("div",{style:a.container})}))},299177:(e,t,n)=>{n.d(t,{A:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){return{}}}const r=new o;n(604341).exposeDebugValue("SpaceWorkflowTemplateInstanceMapStore",r);const i=r},344482:(e,t,n)=>{n.d(t,{A:()=>r});n(898992),n(672577);class o extends(()=>n(959180))().A{findTableHeaderCell(e,t){return this.find((n=>n.collectionContextStore===e&&n.property===t))}}const r=new o},358006:(e,t,n)=>{n.d(t,{z:()=>a});n(296540);var o=()=>n(645873),r=n(474848);const i=new(o().O2)("CollectionItemCover",(async()=>{const{CollectionItemCover:e}=await n.e(79883).then(n.bind(n,873718));return{CollectionItemCover:e}})),a=(0,o()._h)(i,(e=>e.CollectionItemCover),{renderLoading:(e,t)=>{const{coverHeight:o,coverSizeFormat:i,emptyGalleryCoverStyle:a,showEmptyGalleryCover:l}=t;return l?(0,r.jsx)(n(271232).t,{coverHeight:o,coverSizeFormat:i,emptyGalleryCoverStyle:a}):null}})},390527:(e,t,n)=>{n.r(t),n.d(t,{DEFAULT_MAX_RECURRENCE_DUPLICATION_PER_TASK:()=>I,MAXIMUM_DAILY_RECURRENCES_IN_PATH:()=>M,MAXIMUM_NESTED_RECURRENCE_LEVEL:()=>S,MAX_RECURRENCE_INTERVAL:()=>v,MAX_RECURRENCE_NUMBER_OF_RUNS:()=>g,RRULE_WEEKDAYS_MAP:()=>f,adjustedStartDateIfPossible:()=>A,areRecurrenceSchedulesEqual:()=>U,convertFromUnpersistedRecurrenceConfig:()=>N,convertToUnpersistedRecurrenceConfig:()=>D,getFormattedEndCondition:()=>R,getFormattedNextRecurrenceTime:()=>E,getNewEndTimestamp:()=>B,getNextDateUtc:()=>k,getRecurrenceAfter:()=>C,isRunningBetweenMidnightAnd3AM:()=>T,isValidRecurrenceInterval:()=>b,isValidRecurrenceNumberOfRuns:()=>_,rruleFromRecurrence:()=>x,templateAncestorsViolateRecurrenceNesting:()=>w});n(898992),n(354520),n(581454);var o=()=>n(244641);n(944114);function r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(0===n.length)return e.map((e=>[e]));const i=[];for(const a of e)i.push(...r(n[0],...n.slice(1)).map((e=>[a,...e])));return i}var i=()=>n(496603),a=()=>n(534177),l=()=>n(720665),s=()=>n(597777),c=()=>n(869190),u=()=>n(416504),d=()=>n(402390);class p extends(()=>n(896346))().p3{constructor(e,t){super(e,t)}after(e,t){return super.after(e,t)}}var m=()=>n(912720);const y=(0,n(959013).YK)({dateAtTime:{id:"automations.recurrenceHelpers.dateAtTime",defaultMessage:"{date} at {time}"},dateBetweenMidnightAnd3AM:{id:"automations.recurrenceHelpers.dateBetweenMidnightAnd3AM",defaultMessage:"{date} between 12â€“3 AM"},numberEndConditionDescription:{id:"automations.recurrenceHelpers.numberEndConditionDescription",defaultMessage:"{number, plural, one {After {number} run} other {After {number} runs}}"},noEndCondition:{id:"automations.recurrenceHelpers.noEndCondition",defaultMessage:"Never"}}),h={day:p.DAILY,week:p.WEEKLY,month:p.MONTHLY,year:p.YEARLY},f={MO:p.MO,TU:p.TU,WE:p.WE,TH:p.TH,FR:p.FR,SA:p.SA,SU:p.SU},v=99,g=999;function b(e){return(0,l().Et)(e)&&Number.isInteger(e)&&e>0&&e<=v}function _(e){return(0,l().Et)(e)&&Number.isInteger(e)&&e>0&&e<=g}function x(e){const{start_date:t,frequency:n,interval:o,weekdays:i,timezone:l,hour:c,minute:u}=e,d="week"===n&&i?i.map((e=>f[e])):void 0,m={};return(0,a().O9)(e.end_condition)&&("date"===e.end_condition.type?m.until=(0,s().eU)(e.end_condition.end_at):"number"===e.end_condition.type?m.count=e.end_condition.number_of_occurrences:(0,a().HB)(e.end_condition)),"month"===e.frequency&&(0,a().O9)(e.monthly_restriction)&&("monthdays"===e.monthly_restriction.type?m.bymonthday=e.monthly_restriction.monthdays:"weekdays_in_month"===e.monthly_restriction.type?m.byweekday=r(e.monthly_restriction.weekdays,e.monthly_restriction.week_numbers).map((e=>{let[t,n]=e;return f[t].nth(n)})):(0,a().HB)(e.monthly_restriction)),new p({freq:h[n],dtstart:(0,s().eU)(t),interval:o,byweekday:d,tzid:l,byhour:c??0,byminute:u??0,bysecond:0,...m})}const S=1,M=1;function w(e){var t;if(0===e.length)return{violatesConstraint:!1,templateNestingExceedsMaxDepth:!1,ancestorHasDailyTemplate:!1,nestedDepthOfAutomationAncestors:void 0,immediateAncestorRecurrenceType:void 0};const n=e.filter((e=>{var t;return"day"===(null===(t=e.getRecurrence())||void 0===t?void 0:t.frequency)})),o=e.length,r=null===(t=e[0].getRecurrence())||void 0===t?void 0:t.frequency,i=o>S,a=n.length>=M;return{violatesConstraint:i||a,templateNestingExceedsMaxDepth:i,ancestorHasDailyTemplate:a,nestedDepthOfAutomationAncestors:o,immediateAncestorRecurrenceType:r}}function A(e){var t;const{recurrence:n,afterDate:r}=e;if("number"===(null===(t=n.end_condition)||void 0===t?void 0:t.type)||n.start_date>=r)return n;let i=o().c9.fromMillis(n.start_date,{zone:"utc"});const a=o().c9.fromMillis(r,{zone:"utc"});switch(n.frequency){case"year":{const e=Math.floor(a.diff(i,"years").years/n.interval);i=i.plus({years:e*n.interval});break}case"month":{const e=Math.floor(a.diff(i,"months").months/n.interval);i=i.plus({months:e*n.interval});break}case"week":{const e=Math.floor(a.diff(i,"weeks").weeks/n.interval);i=i.plus({weeks:e*n.interval});break}case"day":{const e=Math.floor(a.diff(i,"days").days/n.interval);i=i.plus({days:e*n.interval});break}}return{...n,start_date:(0,s().DH)(i.toMillis())}}function C(e){const{recurrence:t,afterDate:n}=e;if((0,m().wt)(t)){const e=(0,s().l1)(n);return t.start_date>=e?new Date(t.start_date):void 0}{const e=x(A({recurrence:t,afterDate:n})).after((0,s().eU)(n));if(!e)return;return(0,s().h1)(e)}}function T(e){return 0===e.hour||1===e.hour||2===e.hour}function k(e){return x(e).after((0,s().eU)((0,s().Rz)()))||void 0}function E(e){const{recurrence:t,intl:n}=e,r=k(N(t));if(!r)return;const i=T(t),a=o().c9.fromJSDate(r).toUTC().setZone("local",{keepLocalTime:!0}).setLocale((0,d().H)(n)).setZone(t.timezone),l=(0,c().Yq)({date:a,dateFormat:"relative",allowRelativeDates:!0,intl:n,shortenDate:!0});if(i)return n.formatMessage(y.dateBetweenMidnightAnd3AM,{date:l});{let e=a.toLocaleString(o().c9.TIME_SIMPLE);return t.timezone!==(0,u().P)()&&(e+=` ${a.toFormat("ZZZZ")}`),n.formatMessage(y.dateAtTime,{date:l,time:e})}}function R(e,t){return(0,a().O9)(e)?"number"===e.type?t.formatMessage(y.numberEndConditionDescription,{number:e.number_of_occurrences}):"date"===e.type?(0,c().Yq)({date:o().c9.fromMillis(e.end_at),dateFormat:"relative",allowRelativeDates:!0,intl:t,shortenDate:!0}):void(0,a().HB)(e):t.formatMessage(y.noEndCondition)}const I=100;function D(e){return{...e,start_date:(0,s().l1)(e.start_date),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?{type:"date",end_at:(0,s().l1)(e.end_condition.end_at)}:(0,a().HB)(e.end_condition):void 0}}function B(e,t,n){return e.plus(n-t)}function j(e,t){const n=o().c9.fromMillis(t.end_at).set({hour:e.hour??0,minute:e.minute??0});return{type:"date",end_at:(0,s().Rz)(n.toJSDate())}}function N(e){return{...e,start_date:(0,s().Rz)(new Date(e.start_date)),end_condition:e.end_condition?"number"===e.end_condition.type?e.end_condition:"date"===e.end_condition.type?j(e,e.end_condition):(0,a().HB)(e.end_condition):void 0}}function U(e,t){const n=i().fN(e,(e=>void 0!==e)),o=i().fN(t,(e=>void 0!==e));return i().n4(n,o)}},422540:(e,t,n)=>{n.d(t,{$0:()=>f,Fx:()=>M,Ge:()=>m,I3:()=>d,Kj:()=>x,PP:()=>w,TK:()=>A,Yy:()=>u,aE:()=>C,cQ:()=>S,kH:()=>y,m7:()=>p,nq:()=>b,nv:()=>v,tj:()=>h});n(898992),n(354520),n(737550);var o=()=>n(496603),r=()=>n(534177),i=()=>n(970013),a=()=>n(651124),l=()=>n(349835),s=()=>n(390066);const c={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,place:!1},u={checkbox:[{type:"checkbox"}],date:[{type:"date"}],email:[{type:"text"}],multi_select:[{type:"text"},{of:{type:"text"},type:"array"}],number:[{type:"number"}],person:[{type:"person"},{of:{type:"person"},type:"array"}],phone_number:[{type:"text"}],relation:[{type:"block"},{of:{type:"block"},type:"array"}],select:[{type:"text"},{of:{type:"text"},type:"array"}],status:[{type:"text"},{of:{type:"text"},type:"array"}],text:void 0,title:void 0,url:[{type:"text"}]};function d(e){return Boolean(c[e.type]&&!(0,i().UU)(e)&&(!(0,i().$M)(e)||void 0===(0,i().om)(e)))}function p(e){const{collectionFormat:t,collectionSchema:n,filter:l,sort:c,sourcePropertyIds:u}=e,p=(u??(0,r().uv)(n)).filter(((t,o,r)=>{const a=n[t];return!(!a||!d(a))&&(("relation"!==a.type||!e.restrictCrossSpace||!(0,i().o2)(e.spaceId,a))&&(!l||l([t,a],o,n)))}));if(0===p.length)return[];if(!t||!1===c)return p;const m=(0,s().L)(t,n,void 0,a().jf.Page).collection_page_properties||[];return o().Ul(p,(e=>m.findIndex((t=>t.property===e))))}function m(e){const{collectionFormat:t,collectionSchema:n,sort:l}=e,c=(0,r().uv)(n).filter(((e,t,o)=>{const r=n[e];return!(!r||!(0,i().JY)(r))}));if(0===c.length)return[];if(!t||!1===l)return c;const u=(0,s().L)(t,n,void 0,a().jf.Page).collection_page_properties||[];return o().Ul(c,(e=>u.findIndex((t=>t.property===e))))}function y(e){return e.type===l().M9.InvalidCharacter?{type:e.type,character:e.character}:e.type===l().M9.TokenExpected?{type:e.type,token:e.token}:e.type===l().uW.MissingSchemaPropertyOnThisRow||e.type===l().uW.MissingSchemaPropertyOnCollection?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===l().uW.ThisRowBlockPropertyMismatchCollection?{type:e.type,thisRowCollection:e.thisRowCollection}:e.type===l().uW.MissingContextVariable?{type:e.type,valueId:e.valueId}:e.type===l().uW.FunctionCallTooFewArguments?{type:e.type,numArguments:e.numArguments}:e.type===l().uW.FunctionCallUnexpectedArgument?{type:e.type,parameterIndex:e.parameterIndex}:e.type===l().uW.FunctionCallArgumentWrongType?{type:e.type,argumentType:e.argumentType,libraryFunctionName:e.libraryFunction.name,parameterIndex:e.parameterIndex}:e.type===l().uW.MissingDataDependencyBlock?{type:e.type,blockPointer:e.blockPointer,node:e.node}:e.type===l().uW.MissingDataDependencyPerson?{type:e.type,personPointer:e.personPointer}:e.type===l().uW.MemberPropertyMismatchCollection?{type:e.type,blockCollection:e.blockCollection}:e.type===l().uW.DownstreamParseFailure?{type:e.type,collectionId:e.collectionId,property:e.property}:e.type===l().uW.ContextVariableWrongType?{type:e.type,valueId:e.valueId,expectedType:e.expectedType,resultType:e.resultType}:e.type===l().uW.DisallowedValueType?{type:e.type,expressionValue:e.expressionValue,allowedValueTypes:e.allowedValueTypes}:e.type===l().uW.LibraryFunctionExecutionError?{type:e.type,error:e.error,libraryFunctionName:e.libraryFunction.name}:{type:e.type}}const h={checkbox:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,button:!1,file:!1,verification:!1,auto_increment_id:!1,created_by:!1,created_time:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,place:!1};function f(e){return Boolean(h[e.type])}function v(e){const{collectionFormat:t,collectionSchema:n,filter:l,sort:c}=e,u=(0,r().uv)(n).filter(((e,t,o)=>{var r;const a=n[e];return!(!a||!h[a.type])&&((!(0,i().$M)(a)||null===(r=(0,i().om)(a))||void 0===r||!r.auto_update_on_edit)&&(!l||l([e,a],t,n)))}));if(0===u.length)return[];if(!t||!1===c)return u;const d=(0,s().L)(t,n,void 0,a().jf.Page).collection_page_properties||[];return o().Ul(u,(e=>d.findIndex((t=>t.property===e))))}const g={checkbox:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,auto_increment_id:!1,button:!1,created_by:!1,created_time:!1,date:!1,file:!1,formula:!1,last_edited_by:!1,last_edited_time:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,place:!1};function b(e){return g[e.type]}const _={checkbox:!0,created_by:!0,created_time:!0,date:!0,email:!0,multi_select:!0,number:!0,person:!0,phone_number:!0,relation:!0,select:!0,status:!0,text:!0,title:!0,url:!0,last_edited_by:!0,last_edited_time:!0,auto_increment_id:!1,button:!1,file:!1,formula:!1,last_visited_time:!1,location:!1,rollup:!1,verification:!1,place:!1};function x(e){return _[e.type]}function S(e){return 0===e}function M(e){return function(e){return"button_block"===e||"button_property"===e}(e)}function w(e){const{property:t,collectionSchema:n}=e;return!!n&&!n[t]}function A(e){const{collectionSchema:t,property:n,type:o}=e,r=null==t?void 0:t[n];return!r||("action"===o?!d(r):!h[r.type])}function C(e){let{automationTrigger:t,collectionSchema:n}=e;if("event"===(null==t?void 0:t.type)){const{pagesAdded:e,pagePropertiesEdited:o,source:i,relativeDate:a}=t.event;if(void 0===i)return!1;const l="some"===o.type&&o.some,s="all"===o.type&&o.all;if((l||s||[]).some((e=>w({collectionSchema:n,property:e.property})||A({collectionSchema:n,property:e.property,type:"trigger"}))))return!1;const c="some"===o.type&&(!(0,r().O9)(o.some)||0===o.some.length),u="all"===o.type&&(!(0,r().O9)(o.all)||0===o.all.length);if(!e&&("none"===o.type||c||u)&&!a)return!1}else{if("recurrence"!==(null==t?void 0:t.type))return!1;if(!t.recurrence)return!1}return!0}},442277:(e,t,n)=>{n.d(t,{B:()=>r});n(296540);var o=n(474848);const r=(0,n(340498).wt)("arrowRightSmaller",{viewBox:"0 0 16 16",directional:!0,svg:(0,o.jsx)("path",{d:"M15.383 8.352a.877.877 0 01-.274.64l-5.156 5.14a.864.864 0 01-.617.266.831.831 0 01-.602-.234.795.795 0 01-.234-.586c0-.12.02-.232.063-.336a.912.912 0 01.187-.273l1.75-1.766 2.914-2.656.274.5-2.711.156H1.484c-.26 0-.471-.078-.632-.234a.851.851 0 01-.235-.617c0-.256.078-.461.235-.618a.856.856 0 01.632-.242h9.493l2.71.164-.273.508L10.5 5.5 8.75 3.727a.946.946 0 01-.188-.266.917.917 0 01-.062-.344c0-.234.078-.43.234-.586a.831.831 0 01.602-.234.79.79 0 01.328.07c.104.047.203.117.297.211l5.148 5.133a.877.877 0 01.274.64z"})})},457688:(e,t,n)=>{n.d(t,{A:()=>b,S:()=>v});var o=n(296540),r=()=>n(484714),i=()=>n(56366),a=()=>n(764880),l=()=>n(959013),s=()=>n(962730),c=()=>n(678553),u=()=>n(554509),d=()=>n(453697),p=n(474848);const m="UIRegular-14px/Regular",y="UIRegular-14px/Semibold",h="iOS/Callout-16px/Regular",f=o.forwardRef(((e,t)=>{const{actor:o,userTitle:l,defaultUserTitle:u="name_only",useEmailAsTooltip:m,tooltip:y,tooltipPlacement:h,hoveredStyle:f,disabledFeedback:b,customUserTitleStyles:_,iconSizeOverride:x}=e,S=(0,r().v3)(),M=(0,i().K8)((()=>o.asActor&&o.isUser()?o.email:void 0),[o]),w=m&&M?M:y,A=x||(S.device.isMobile?c().nd:c().pg),C="name_and_email"===u||"name_and_email_unless_right"===u&&!Boolean(e.right)?(0,p.jsx)(g,{actor:null==o?void 0:o.asActor,customStyles:_}):(0,p.jsx)(v,{customStyles:_,actor:null==o?void 0:o.asActor}),T=l??C;let k;return(0,a().H3)(o)?k=(0,p.jsx)(n(256863).A,{botValue:null==o?void 0:o.asActor,size:A}):(0,a().ps)(o)?k=(0,p.jsx)(d().A,{userValue:null==o?void 0:o.asActor,size:A}):(0,a().h2)(o)?k=(0,p.jsx)(d().A,{userValue:void 0,size:A}):(0,n(534177).HB)(o),(0,p.jsx)(n(859428).A,{placement:h??s().W.Bottom,alignment:s().C.Start,textWrap:!0,render:o=>(0,p.jsx)(n(760217).A,{...(0,n(553965).A)(o,e),icon:k,title:T,disabledFeedback:b,className:"notranslate",right:e.right,ref:t,hoveredStyle:f}),disableTooltip:!w,renderTooltip:()=>w})}));function v(e){const{actor:t,customStyles:n}=e,o=(0,r().v3)(),a=(0,l().tz)(),s=(0,i().K8)((()=>t&&t.id===o.currentUser.id),[o,t]),c=(0,i().K8)((()=>t&&t.getDisplayName(a)),[t,a]),d=o.device.isMobile?h:m;return s?(0,p.jsx)(l().sA,{id:"UserMenuItem.fullName.authorLabel",defaultMessage:"<author>{fullName}</author> <you>(You)</you>",values:{author:e=>(0,p.jsx)(u().D,{as:"span",styleName:d,customStyles:n,children:e}),fullName:c,you:e=>(0,p.jsx)(u().D,{as:"span",colorName:"secondary",styleName:d,customStyles:n,children:e})}}):c?(0,p.jsx)(u().D,{styleName:d,customStyles:n,children:c}):(0,p.jsx)(u().D,{styleName:d,customStyles:n,children:(0,p.jsx)(l().sA,{id:"UserMenuItem.fullName.unknownAuthorLabel",defaultMessage:"Unknown author"})})}function g(e){const t=(0,r().v3)(),{actor:n,customStyles:o}=e,a=(0,l().tz)(),s=(0,i().K8)((()=>n&&n.getDisplayName(a)),[n,a]),{email:c,showEmail:d}=(0,i().K8)((()=>{const e=n&&n.asActor&&n.isUser()?n.email:void 0;return{email:e,showEmail:s!==e}}),[n,s]),f=t.device.isMobile?"iOS/Callout-16px/Regular":y,v=t.device.isMobile?h:m;return s?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u().D,{as:"span",styleName:f,customStyles:o,children:s}),d&&(0,p.jsx)(u().D,{as:"span",styleName:v,customStyles:o,children:` ${c}`})]}):(0,p.jsx)(u().D,{styleName:y,customStyles:o,children:(0,p.jsx)(l().sA,{id:"UserMenuItem.fullName.unknownAuthorLabel",defaultMessage:"Unknown author"})})}f.displayName="UserMenuItem";const b=f},464699:(e,t,n)=>{n.d(t,{b:()=>r});n(296540);var o=n(474848);const r=(0,n(340498).wt)("plusThick",{viewBox:"0 0 14 14",svg:(0,o.jsx)("path",{d:"M2 7.16357C2 7.59692 2.36011 7.95093 2.78735 7.95093H6.37622V11.5398C6.37622 11.9731 6.73022 12.3271 7.16357 12.3271C7.59692 12.3271 7.95093 11.9731 7.95093 11.5398V7.95093H11.5398C11.9731 7.95093 12.3271 7.59692 12.3271 7.16357C12.3271 6.73022 11.9731 6.37622 11.5398 6.37622H7.95093V2.78735C7.95093 2.36011 7.59692 2 7.16357 2C6.73022 2 6.37622 2.36011 6.37622 2.78735V6.37622H2.78735C2.36011 6.37622 2 6.73022 2 7.16357Z"})})},546461:(e,t,n)=>{n.d(t,{EC:()=>M,To:()=>S,YC:()=>w,or:()=>x,u:()=>_});n(16280);var o=n(296540),r=()=>n(484714),i=()=>n(792485),a=()=>n(56366),l=()=>n(496506),s=()=>n(322867),c=()=>n(959013),u=()=>n(534177),d=()=>n(813297),p=()=>n(862292),m=()=>n(698331),y=()=>n(645873),h=()=>n(190019),f=()=>n(76190),v=n(474848);const g=new WeakMap,b=(0,o.createContext)({automationStore:void 0,contextType:void 0,defined:!1,typecheckResult:void 0});b.displayName="AutomationContext";function _(e){const{automationStore:t,children:n,contextType:o}=e,_=(0,r().v3)(),x=(0,c().tz)(),{value:S}=(0,y().fJ)(p().T.formulas),{value:M}=(0,y().fJ)(d().QV.automationTypecheck),w=(0,f().n)(t),A=(0,i().S)(),C=(0,a().K8)((()=>{if(!S)return{error:new(s().N9)("Missing formulas dependency")};if(!M)return{error:new(s().N9)("Missing automation dependency")};const e=function(e){const{environment:t,automationStore:n,automationTypecheckModule:o,contextType:r,formulasModule:i,intl:a,isSubscribed:s,pageStore:c}=e,d=g.get(n);if(d)return d;{const e=new(l().ComputedStore)((()=>{const e=n.getTriggerType();let l=r;return(0,u().O9)(e)&&(0,m().x2)(e)&&(l=(0,m().H8)(e)),(0,h().Z)({environment:t,automationStore:n,automationTypecheckModule:o,contextType:l,formulasModule:i,intl:a,isSubscribed:s,pageStore:c})}),{debugName:"automationContextTypecheckResultCachedStore"});return g.set(n,e),e}}({environment:_,automationStore:t,automationTypecheckModule:M,contextType:o,formulasModule:S,intl:x,isSubscribed:w,pageStore:"button_block"===o?null==A?void 0:A.pageStore:void 0});return e.state}),[_,t,M,o,S,x,w,null==A?void 0:A.pageStore]);return(0,v.jsx)(b.Provider,{value:{automationStore:t,typecheckResult:C,contextType:o,defined:!0},children:n})}function x(e){const{automationStore:t,children:n}=e,o=(0,a().K8)((()=>{var e;return null===(e=t.getTrigger())||void 0===e?void 0:e.type}),[t]);return(0,v.jsx)(_,{automationStore:t,contextType:(0,m().H8)(o??"event"),children:n})}function S(e){var t;return null===(t=g.get(e))||void 0===t?void 0:t.state}function M(){const e=o.useContext(b);if(!1===e.defined)throw new Error("No automation context found!");return e}function w(){return o.useContext(b)}},566910:(e,t,n)=>{n.d(t,{e:()=>i});n(296540);var o=n(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"0.97 2.72 18.06 14.56",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M3.893 2.875a.626.626 0 0 1 .79-.02l.092.088.126.146.016.035.072.105 11.273 13.15a.624.624 0 0 1-1.036.678l-1.615-1.884c-1.12.408-2.339.633-3.611.633-3.757 0-7.049-1.946-8.707-4.843l-.155-.283a1.46 1.46 0 0 1 0-1.359l.155-.283c.89-1.554 2.249-2.835 3.898-3.688L3.826 3.757l-.072-.105a.626.626 0 0 1 .14-.777M6.031 6.33c-1.564.744-2.842 1.913-3.653 3.33l-.134.243a.21.21 0 0 0 0 .197l.134.243c1.426 2.49 4.292 4.214 7.622 4.214.957 0 1.876-.144 2.734-.406l-1.1-1.284a3.3 3.3 0 0 1-1.634.438l-.17-.004a3.307 3.307 0 0 1-3.132-3.133l-.004-.17c0-.777.269-1.492.718-2.056zm2.903 3.387q-.036.135-.037.281a1.104 1.104 0 0 0 1.218 1.097zM10 4.194c3.878 0 7.26 2.075 8.862 5.127l.073.164c.126.332.126.7 0 1.032l-.073.163a9.3 9.3 0 0 1-2.987 3.327l-.82-.955c1.15-.764 2.084-1.779 2.7-2.953l.02-.048a.2.2 0 0 0 0-.1l-.02-.049C16.382 7.282 13.438 5.445 10 5.445q-.706 0-1.378.1l-.94-1.098A10.7 10.7 0 0 1 10 4.194"}),(0,o.jsx)("path",{d:"M10.17 6.694a3.307 3.307 0 0 1 3.136 3.303l-.005.17a3.3 3.3 0 0 1-.116.702L9.623 6.713q.186-.022.377-.022z"})]})},i=(0,n(340498).wt)("eyeSlash",r)},641514:(e,t,n)=>{n.d(t,{A:()=>s});n(296540);var o=()=>n(484714),r=()=>n(377586),i=()=>n(676007),a=()=>n(897119),l=n(474848);function s(e){const{isMobile:t}=(0,o().Y0)();return t?(0,l.jsx)(a().Ay,{ariaLabel:e.ariaLabel,open:e.isOpen,popupType:r().n.SlideUp,origin:e.origin,onDismiss:e.onDismiss,render:e.render,style:e.style}):(0,l.jsx)(i().a,{ariaLabel:e.ariaLabel,open:e.isOpen,preventHideChildrenWhileOpening:!0,render:e.render,onDismiss:e.onDismiss,style:e.style,innerStyle:e.innerStyle,showCloseIcon:e.showCloseIcon})}},698331:(e,t,n)=>{n.d(t,{$X:()=>i,H8:()=>a,x2:()=>r});var o=()=>n(534177);function r(e){return"event"===e||"recurrence"===e}function i(e){const t=e.getTrigger();return(0,o().O9)(t)&&r(t.type)}function a(e){return"event"===e?"event":"recurrence"===e?"recurrence":void(0,o().HB)(e)}},748054:(e,t,n)=>{n.d(t,{M:()=>r});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"3.97 2.68 12.51 14.37",svg:(0,n(474848).jsx)("path",{d:"M10.282 3.66a5.39 5.39 0 0 0-5.217-.54l-.711.305a.63.63 0 0 0-.38.575v12.425a.625.625 0 1 0 1.25 0v-3.913l.333-.142a4.14 4.14 0 0 1 4.008.414 5.39 5.39 0 0 0 5.504.405l1.06-.53a.63.63 0 0 0 .346-.56V4a.625.625 0 0 0-.905-.558l-1.06.53c-1.36.68-2.983.56-4.228-.312m-5.057 7.495V4.412l.332-.142a4.14 4.14 0 0 1 4.008.413 5.39 5.39 0 0 0 5.504.406l.156-.078v6.703l-.715.357c-1.36.68-2.983.56-4.228-.312a5.4 5.4 0 0 0-5.057-.604"})},r=(0,n(340498).wt)("flag",o)},766558:(e,t,n)=>{n.d(t,{i:()=>i,y:()=>a});var o=()=>n(340498),r=()=>n(284371);function i(e){const{theme:t,isInHomeWidget:n,isFeedbackButton:i,isMobile:a,isDBUXChromeEnabled:l}=e;return{button:{display:"flex",alignItems:"center",fontSize:14,padding:6,...i?{height:n?24:28,color:t.text.tertiary,fill:t.icon.tertiary}:n?{height:24,width:24,color:t.text.tertiary,fill:t.icon.tertiary}:{height:28,width:28,color:t.icon.secondary,fill:t.icon.secondary,...l&&{height:a?32:28,width:a?32:28}},fontWeight:r().Wy.regular,lineHeight:1,borderRadius:6},icon:{width:o().Ev.sm,height:o().Ev.sm,fill:t.icon.secondary,...l&&{width:a?o().Ev.default:o().Ev.sm,height:a?o().Ev.default:o().Ev.sm}}}}function a(e){const{theme:t}=e;return{display:"flex",alignItems:"center",fontSize:14,height:28,padding:6,color:t.icon.secondary,fontWeight:r().Wy.regular,lineHeight:1,borderRadius:6}}},863330:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,plusSmallIcon:()=>r});n(296540);const o={viewBox:"0 0 16 16",fittedViewBox:"2.74 2.74 10.52 10.52",svg:(0,n(474848).jsx)("path",{d:"M8 2.74a.66.66 0 0 1 .66.66v3.94h3.94a.66.66 0 0 1 0 1.32H8.66v3.94a.66.66 0 0 1-1.32 0V8.66H3.4a.66.66 0 0 1 0-1.32h3.94V3.4A.66.66 0 0 1 8 2.74"})},r=(0,n(340498).wt)("plusSmall",o)},888325:(e,t,n)=>{function o(e){return`${e.table}:${e.id}`}n.d(t,{_:()=>o})},933117:(e,t,n)=>{n.d(t,{A:()=>m});n(944114),n(898992),n(803949),n(581454);var o=n(296540),r=()=>n(496603),i=()=>n(534177),a=()=>n(722872),l=()=>n(377586),s=()=>n(928600),c=()=>n(939740),u=()=>n(480095),d=()=>n(89924),p=n(474848);const m=function(e){let{renderOrigin:t,onClick:o,items:r,getKey:i,renderItem:l,selectedItem:s,onSelect:c,dontCloseParentOnSelect:u,menuTypeOverride:d,menuTitle:m,width:y,minWidth:v,disabled:g,originGap:b,buttonPopupStore:_,sameWidthAsOrigin:x}=e;const S=(0,n(56366).uB)(_,n(463830).A),M=d??(n(780054).A.isMobile?a().gu.Modal:a().gu.Popup);return(0,p.jsx)(n(406699).Ay,{popupType:f(M),bottomSheetInitialState:"half",renderOrigin:t,buttonPopupStore:S,placementToOrigin:n(700250).UV.Bottom,onClick:o,render:e=>(0,p.jsx)(h,{parent:e,items:r,getKey:i,renderItem:l,selectedItem:s,onSelect:c,dontCloseParentOnSelect:u,menuType:M,menuTitle:m,width:y,minWidth:v}),disabled:g,originGap:b,sameWidthAsOrigin:x})};function y(e,t,n,r,i,a,l,s){return{key:0,render:e=>(0,o.createElement)(d().A,{...e,key:t,topBorder:t>0}),items:e.map((e=>({key:r(e),render:t=>i({...t,value:e,key:r(e),selectedItem:a}),action:()=>{!function(e,t,n){t!==e&&n(e)}(e,a,l),s||n.close()}})))}}function h(e){let{parent:t,items:n,getKey:o,renderItem:l,selectedItem:d,onSelect:m,dontCloseParentOnSelect:h,menuType:f,menuTitle:v,width:g,minWidth:b}=e;const _=[];if(function(e){return e.length>0&&e[0]instanceof Array}(n))n.forEach(((e,n)=>{const r=y(e,n,t,o,l,d,m,h);_.push(r)}));else{const e=y(n,0,t,o,l,d,m,h);_.push(e)}const x=(0,p.jsx)(c().Ay,{type:c().Oh.Vertical,initialFocus:r().SL(r().Bq(n),(e=>r().n4(e,d))),sections:_});let S;switch(f){case a().gu.ActionSheet:S={menuType:a().gu.ActionSheet};break;case a().gu.Modal:S={menuType:a().gu.Modal,title:v,right:(0,p.jsx)(u().DoneMenuText,{}),onClickRight:t.close};break;case a().gu.Popup:S={menuType:a().gu.Popup,width:g||160,minWidth:b};break;default:(0,i().HB)(f)}return(0,p.jsx)(s().A,{...S,children:x})}function f(e){switch(e){case a().gu.ActionSheet:return l().n.SlideUp;case a().gu.Modal:return l().n.BottomSheet;case a().gu.Popup:return l().n.Popup}}}}]);