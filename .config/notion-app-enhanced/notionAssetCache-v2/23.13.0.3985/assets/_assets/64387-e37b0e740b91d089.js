"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[27942,64387],{97065:(e,n,t)=>{t.d(n,{DH:()=>a});var i=()=>t(61844);const o=["trial_from_perf_marketing","onboarding_reverse_trial","mp_reverse_trial","feature_upsell_reverse_trial","admin_trial"];function a(e){return o.includes(e)||i().FN.includes(e)}},128871:(e,n,t)=>{t.d(n,{b:()=>v});t(898992),t(737550);var i=t(296540),o=()=>t(484714),a=()=>t(56366),s=()=>t(597777),r=()=>t(68263),l=()=>t(934839),c=()=>t(135552),u=()=>t(731320),d=()=>t(326589),p=()=>t(765957),m=()=>t(150193);const y=new(t(178624).R)({key:"publicShareLinkEditDisclosureBannerPreference",namespace:t(419494).Bq,important:!0,trackingType:"necessary"});var b=()=>t(811789);function v(){const e=(0,o().v3)(),n=(0,b().X)(y),t=(0,a().K8)((()=>{if(!(0,d().g)())return!1;if(!e.currentUser.isLoggedIn())return!1;const n=p().default.state.mainEditorCurrentBlockStore,t=null==n?void 0:n.getRole();if(!t)return!1;const i=(0,r().ok)(t);return!!n&&(0,u().qb)(e,n)&&i}),[e]);(0,i.useEffect)((()=>{const e=m().A.state.banners.some((e=>"PublicShareLinkEditDisclosureBanner"===e.id));t&&!n?l().HQ({bannerStore:m().A,id:"PublicShareLinkEditDisclosureBanner",contentKey:"public_share_link_edit_disclosure_banner",styleKey:c().q.Blue}):e&&l().zA({bannerStore:m().A,id:"PublicShareLinkEditDisclosureBanner"})}),[t,n]);return{markBannerAsDismissed:()=>{y.setState({dismissedExpiresAt:(0,s().g7)(90)})}}}},179030:(e,n,t)=>{t.d(n,{l:()=>i().lZ});var i=()=>t(661764)},426433:(e,n,t)=>{t.d(n,{A:()=>T,g:()=>M});var i=t(296540),o=()=>t(484714),a=()=>t(56366),s=()=>t(604341),r=()=>t(959013),l=()=>t(534177),c=()=>t(934839),u=()=>t(209660),d=()=>t(2220),p=()=>t(179030),m=()=>t(135552),y=()=>t(640653),b=()=>t(529803),v=()=>t(150193),g=()=>t(807778),f=()=>t(671812),h=t(474848);const x={updatePaymentMethod:(0,h.jsx)(r().sA,{id:"subscription.payment_status_banner.update_payment_method",defaultMessage:"Update payment information"}),viewBillingTab:(0,h.jsx)(r().sA,{id:"subscription.payment_status_banner.view_billing_tab",defaultMessage:"Go to Billing"}),viewWorkspaceOwner:(0,h.jsx)(r().sA,{id:"subscription.payment_status_banner.view_workspace_owner",defaultMessage:"View workspace owner"}),confirmPayment:(0,h.jsx)(r().sA,{id:"subscription.payment_status_banner.confirm_payment",defaultMessage:"Confirm payment"})};function _(){return()=>{u().Ow()}}function w(){return()=>{u().Ow({currentTab:"billing"})}}function A(e){const{messageType:n,overdueInvoiceCount:t=1}=e;switch(n){case"past_due_owner":return(0,h.jsx)(r().sA,{id:"subscription.payment_status_banner.payment_failed.past_due.workspace_owner",defaultMessage:"We couldn’t process {overdueInvoiceCount, plural, one {your last payment} other {{overdueInvoiceCount} payments}}. Please update your payment method or you may lose access to Notion soon.",values:{overdueInvoiceCount:t}});case"past_due_member":return(0,h.jsx)(r().sA,{id:"subscription.payment_status_banner.payment_failed.past_due.member",defaultMessage:"Please contact a workspace owner to update your payment method or you may lose access to Notion soon."});case"unpaid_owner":return(0,h.jsx)(r().sA,{id:"subscription.payment_status_banner.payment_failed.unpaid.workspace_owner",defaultMessage:"Access to Notion is limited to viewing because we couldn’t process {overdueInvoiceCount, plural, one {your last payment} other {{overdueInvoiceCount} payments}}.",values:{overdueInvoiceCount:t}});case"unpaid_member":return(0,h.jsx)(r().sA,{id:"subscription.payment_status_banner.payment_failed.unpaid.member",defaultMessage:"Access to Notion is limited to viewing. Contact a workspace owner to update your workspace’s payment method."});default:(0,l().HB)(n)}}function j(e){const{messageType:n,overdueInvoiceCount:t=1}=e;switch(n){case"past_due_owner":return(0,h.jsx)(r().sA,{id:"subscription.payment_status_banner.confirmation_required.past_due.workspace_owner",defaultMessage:"Please confirm {overdueInvoiceCount, plural, one {your subscription payment} other {{overdueInvoiceCount} payments}} or you may lose access to Notion soon.",values:{overdueInvoiceCount:t}});case"unpaid_owner":return(0,h.jsx)(r().sA,{id:"subscription.payment_status_banner.confirmation_required.unpaid.workspace_owner",defaultMessage:"Access to Notion is limited to viewing. Confirm {overdueInvoiceCount, plural, one {your subscription payment} other {{overdueInvoiceCount} payments}} to restore full access.",values:{overdueInvoiceCount:t}});case"unpaid_member":return(0,h.jsx)(r().sA,{id:"subscription.payment_status_banner.confirmation_required.unpaid.member",defaultMessage:"Access to Notion is limited to viewing. Contact a workspace owner to update your workspace’s payment method."});default:(0,l().HB)(n)}}function k(e){const{billingStatusData:n,showNativeInvoicePayment:t,uncollectibleExperienceEnabled:i}=e;if(null==n||!n.data)return;const{isWorkspaceOwner:o}=n,{invoiceHostedUrl:a,overdueInvoiceCount:s,bannerKey:r}=n.data;switch(r){case"past_due":return function(e){const{isWorkspaceOwner:n,invoiceHostedUrl:t,overdueInvoiceCount:i,showNativeInvoicePayment:o}=e,a=m().q.Yellow;return n?{bannerStyleKey:a,messageType:"past_due_owner",messageText:A({overdueInvoiceCount:i,messageType:"past_due_owner"}),callToActionText:o?x.viewBillingTab:x.updatePaymentMethod,callToActionHandler:o?w():(0,f().a)(t)}:{bannerStyleKey:a,messageType:"past_due_member",messageText:A({overdueInvoiceCount:i,messageType:"past_due_member"}),callToActionText:x.viewWorkspaceOwner,callToActionHandler:_()}}({isWorkspaceOwner:o,invoiceHostedUrl:a,overdueInvoiceCount:s,showNativeInvoicePayment:t});case"unpaid":if(i)return;return function(e){const{isWorkspaceOwner:n,invoiceHostedUrl:t,overdueInvoiceCount:i,showNativeInvoicePayment:o}=e,a=m().q.LightRed;return n?{bannerStyleKey:a,messageType:"unpaid_owner",messageText:A({overdueInvoiceCount:i,messageType:"unpaid_owner"}),callToActionText:o?x.viewBillingTab:x.updatePaymentMethod,callToActionHandler:o?w():(0,f().a)(t)}:{bannerStyleKey:a,messageType:"unpaid_member",messageText:A({overdueInvoiceCount:i,messageType:"unpaid_member"}),callToActionText:x.viewWorkspaceOwner,callToActionHandler:_()}}({isWorkspaceOwner:o,invoiceHostedUrl:a,overdueInvoiceCount:s,showNativeInvoicePayment:t});default:(0,l().HB)(r)}}function S(e){if(!e.data)return;const{isWorkspaceOwner:n}=e,{invoiceHostedUrl:t,bannerKey:i}=e.data;switch(i){case"past_due":return function(e,n,t){if(e)return{bannerStyleKey:m().q.Yellow,messageType:"past_due_owner",messageText:j({overdueInvoiceCount:t,messageType:"past_due_owner"}),callToActionText:x.confirmPayment,callToActionHandler:(0,f().a)(n)}}(n,t);case"unpaid":return function(e,n,t){const i=m().q.LightRed;return e?{bannerStyleKey:i,messageType:"unpaid_owner",messageText:j({overdueInvoiceCount:t,messageType:"unpaid_owner"}),callToActionText:x.confirmPayment,callToActionHandler:(0,f().a)(n)}:{bannerStyleKey:i,messageType:"unpaid_member",messageText:j({overdueInvoiceCount:t,messageType:"unpaid_member"}),callToActionText:x.viewWorkspaceOwner,callToActionHandler:_()}}(n,t);default:(0,l().HB)(i)}}function I(e){const{billingStatusData:n}=e;if(void 0===(null==n?void 0:n.data))return;const{overdueReason:t}=n.data;if(t)switch(t){case"payment_failed":return k(e);case"confirmation_required":return S(n);default:(0,l().HB)(t)}}function C(e){const n=b().A.state,t=(0,y().s7)(e);return n&&n.data?{...n,isWorkspaceOwner:t}:void 0}function T(){const e=(0,a().K8)((()=>(0,g().Ug)()),[]),n=(0,o().v3)(),t=(0,a().K8)((()=>C(n)),[n]),r=(0,a().K8)((()=>(0,g().Jq)(n)),[n]),l=(0,i.useMemo)((()=>I({billingStatusData:t,showNativeInvoicePayment:e,uncollectibleExperienceEnabled:r})),[t,e,r]);i.useEffect((()=>(["local","development","staging"].includes("production")&&(0,s().exposeDebugValue)("billingStatus",t),null!=t&&t.data&&l?(c().HQ({bannerStore:v().A,id:"BillingSubscriptionBanner",contentKey:"billing_subscription_status",styleKey:l.bannerStyleKey,prepend:!0}),(0,d().u)({environment:n,event:{eventName:"billing_subscription_banner_displayed",eventProperties:{isWorkspaceOwner:t.isWorkspaceOwner,...t.data}}})):c().zA({bannerStore:v().A,id:"BillingSubscriptionBanner"}),()=>{c().zA({bannerStore:v().A,id:"BillingSubscriptionBanner"})})),[n,t,l])}function M(e){const{legacyColor:n}=e,t=(0,a().K8)((()=>(0,g().Ug)()),[]),s=(0,o().v3)(),r=(0,a().K8)((()=>C(s)),[s]),l=(0,a().K8)((()=>(0,g().Jq)(s)),[s]),c=(0,i.useMemo)((()=>I({billingStatusData:r,showNativeInvoicePayment:t,uncollectibleExperienceEnabled:l})),[r,t,l]),u=null==c?void 0:c.callToActionText,y=null==c?void 0:c.callToActionHandler,b=(0,i.useCallback)((e=>{void 0!==y&&y(e),null!=r&&r.data&&(0,d().u)({environment:s,event:{eventName:"billing_subscription_banner_action",eventProperties:{isWorkspaceOwner:r.isWorkspaceOwner,...r.data}}})}),[s,y,r]);return c?(0,h.jsx)(p().l,{label:c.messageText,display:"full-width",actions:[{label:u,onClick:e=>b(e)}],tint:(0,m().V)(n)}):null}},464762:(e,n,t)=>{t.d(n,{K:()=>h,M:()=>f});var i=t(296540),o=()=>t(484714),a=()=>t(762433),s=()=>t(959013),r=()=>t(934839),l=()=>t(209660),c=()=>t(2220),u=()=>t(179030),d=()=>t(135552),p=()=>t(963589),m=()=>t(176983),y=()=>t(58293),b=()=>t(150193),v=()=>t(324561),g=t(474848);function f(){const e=(0,o().v3)();return(0,g.jsx)(u().l,{label:(0,g.jsx)(s().sA,{id:"sanctions.missing_name_banner.banner_text",defaultMessage:"Please provide your name in the billing tab"}),display:"full-width",actions:[{label:(0,g.jsx)(s().sA,{id:"sanctions.missing_name_banner.cta_message",defaultMessage:"Click to update"}),onClick:()=>{l().Ow({currentTab:"billing",subtab:"address"}),(0,c().u)({environment:e,event:{eventName:"missing_name_sanctions_banner_clicked",eventProperties:{}}})}}],tint:"red"})}function h(){const e=(0,o().v3)(),n=function(){var e;const n=(0,p().X)("missing_name_banner"),t=(0,y().r)(),i=(0,v()._3)({spaceId:null==t?void 0:t.id}),o=(0,a().Fq)(i)&&!(0,a().Qx)(null==i?void 0:i.subscription),s=Boolean(null==i||null===(e=i.address)||void 0===e?void 0:e.name),r=(0,m().J)(),l=null==i?void 0:i.provider,c="app_store"===l||"play_store"===l;return n&&r&&o&&!s&&!c}();i.useEffect((()=>(n?(r().HQ({bannerStore:b().A,id:"MissingNameBanner",contentKey:"missing_name",prepend:!0,styleKey:d().q.Red}),(0,c().u)({environment:e,event:{eventName:"missing_name_sanctions_banner_displayed",eventProperties:{}}})):r().zA({bannerStore:b().A,id:"MissingNameBanner"}),()=>{r().zA({bannerStore:b().A,id:"MissingNameBanner"})})),[e,n])}},661764:(e,n,t)=>{t.d(n,{fT:()=>S,lZ:()=>N,pq:()=>x});t(581454),t(296540);var i=()=>t(484714),o=()=>t(401497),a=()=>t(246760),s=()=>t(995847),r=()=>t(340498),l=()=>t(959013),c=()=>t(84817),u=()=>t(285790),d=()=>t(864943),p=()=>t(859428),m=()=>t(460292),y=()=>t(554509),b=t(474848);const v=(0,l().YK)({learnMore:{id:"banner.learnMore",defaultMessage:"Learn more"},dismiss:{id:"banner.dismiss",defaultMessage:"Dismiss"}}),g={red:"uiRedPrimary",yellow:"uiYellowPrimary",blue:"uiBluePrimary",gray:"secondary"},f={red:"uiRedSecondary",yellow:"uiYellowSecondary",blue:"uiBlueSecondary",gray:"secondary"},h={red:e=>e.tint.uiRed,yellow:e=>e.tint.uiYellow,blue:e=>e.tint.uiBlue,gray:e=>e.surface.wash},x={red:e=>e.text.uiRedPrimary,blue:e=>e.text.uiBluePrimary,yellow:e=>e.text.uiYellowPrimary,gray:e=>"dark"===e.mode?e.text.primary:e.text.secondary},_={red:e=>e.icon.uiRedSecondary,blue:e=>e.icon.uiBlueSecondary,yellow:e=>e.icon.uiYellowSecondary,gray:e=>"dark"===e.mode?e.text.secondary:e.text.quaternary};function w(e,n){return(0,o().IS)((t=>({container:{backgroundColor:h[e](t),padding:"8px 12px"},icon:{width:r().Ev.sm,height:r().Ev.sm,fill:t.icon[n??g[e]]},content:{color:x[e](t)},learnMoreIcon:{fill:x[e](t)},titleIcon:{marginRight:8}})),[e,n])}function A(e){const{onDismiss:n}=e,t=(0,l().tz)();return n?(0,b.jsx)(u().A,{size:"xs",onClick:n,icon:s().xMarkSmallIcon,color:"primary",ariaLabel:t.formatMessage(v.dismiss)}):(0,b.jsx)("div",{})}function j(e){const{tint:n,iconGroup:t,style:i}=e;return t?(0,b.jsx)(m().Q,{iconGroup:t,variantName:"small",colorName:g[n],style:i}):null}function k(e){const{tint:n,iconGroup:t}=e;return t?(0,b.jsx)(m().Q,{iconGroup:t,variantName:"small",colorName:f[n]}):null}function S(e){const{tint:n,action:t}=e,{label:i,onClick:a,iconGroup:s}=t,r=(0,o().IS)((e=>({button:{color:"gray"===n?e.text.primary:x[n](e),borderWidth:1,borderStyle:"solid",borderColor:_[n](e),padding:s?"4px 10px 4px 8px":"4px 8px",height:"unset",gap:s&&4},buttonContent:{display:"flex",flexDirection:"row",alignItems:"center"}})),[n,s]);return(0,b.jsx)(d().A,{size:"lg",iconLeading:()=>(0,b.jsx)(k,{iconGroup:s,tint:n}),onClick:a,buttonStyle:r.button,children:(0,b.jsx)(y().D,{styleName:"UIRegular-14px/Medium",customStyles:r.buttonContent,children:i})})}function I(e){const{label:n,iconGroup:t,tint:i,onDismiss:o,actions:s,onLearnMoreClick:r}=e,d=w(i),p=(0,l().tz)();return(0,b.jsxs)(c().Y1,{style:d.container,gap:"auto",direction:"horizontal",align:"center",width:"fill",children:[(0,b.jsxs)(c().Y1,{style:d.content,direction:"horizontal",align:"center",width:"hug",children:[(0,b.jsx)(j,{tint:i,iconGroup:t,style:d.titleIcon}),(0,b.jsx)(y().D,{styleName:"UIRegular-14px/Medium",children:n}),r&&(0,b.jsx)(u().A,{onClick:r,icon:()=>(0,b.jsx)(m().Q,{iconGroup:a().G,variantName:"large",colorName:"secondary",style:d.learnMoreIcon}),ariaLabel:p.formatMessage(v.learnMore)})]}),(0,b.jsxs)(c().Y1,{direction:"horizontal",align:"center-right",gap:12,children:[(0,b.jsx)(c().Y1,{direction:"horizontal",align:"center",gap:8,width:"hug",children:null==s?void 0:s.map(((e,n)=>e.isCustom?e.render():(0,b.jsx)(S,{tint:i,action:e},n)))}),(0,b.jsx)(A,{onDismiss:o})]})]})}function C(e){const{label:n,iconGroup:t,staticIcon:i,iconColor:o,tint:s,onDismiss:r,actions:d,onLearnMoreClick:g}=e,f=w(s,o),h=(0,l().tz)(),x=t?(0,b.jsx)(j,{tint:s,iconGroup:t,style:f.titleIcon}):i?i({...f.icon,...f.titleIcon}):null;return(0,b.jsxs)(c().Y1,{style:f.container,gap:"auto",direction:"horizontal",align:"center",children:[(0,b.jsx)("div",{}),(0,b.jsxs)(c().Y1,{style:f.content,direction:"horizontal",align:"center",width:"hug",gap:24,children:[(0,b.jsxs)(c().Y1,{direction:"horizontal",align:"center",width:"hug",children:[x,(0,b.jsx)(y().D,{styleName:"UIRegular-14px/Medium",children:n}),g&&(0,b.jsx)(p().A,{renderTooltip:()=>h.formatMessage(v.learnMore),render:e=>(0,b.jsx)(u().A,{onClick:g,icon:()=>(0,b.jsx)(m().Q,{iconGroup:a().G,variantName:"large",colorName:"secondary",style:f.learnMoreIcon}),ariaLabel:h.formatMessage(v.learnMore),...e})})]}),d?(0,b.jsx)(c().Y1,{direction:"horizontal",gap:8,width:"hug",children:null==d?void 0:d.map(((e,n)=>e.isCustom?e.render():(0,b.jsx)(S,{tint:s,action:e},n)))}):null]}),(0,b.jsx)(A,{onDismiss:r})]})}function T(e){const{label:n,description:t,iconGroup:i,staticIcon:a,iconColor:s,tint:r,onDismiss:l,actions:u}=e,d=w(r,s),p=(0,o().IS)((e=>({container:{backgroundColor:h[r](e),padding:16,borderRadius:8},content:{color:x[r](e)},iconContainer:{height:20,display:"flex",alignItems:"center",justifyContent:"center"}})),[r]),m=i?(0,b.jsx)(j,{tint:r,iconGroup:i}):a?a(d.icon):null;return(0,b.jsxs)(c().Y1,{style:p.container,gap:8,direction:"horizontal",children:[m?(0,b.jsx)("div",{style:p.iconContainer,children:m}):null,(0,b.jsxs)(c().Y1,{style:p.content,gap:8,children:[(0,b.jsxs)(c().Y1,{gap:4,children:[(0,b.jsx)(y().D,{styleName:"UIRegular-14px/Medium",colorName:"gray"===r?"primary":void 0,children:n}),t?(0,b.jsx)(y().D,{styleName:"UIRegular-14px/Regular",children:t}):null]}),u?(0,b.jsx)(c().Y1,{direction:"horizontal",gap:8,children:null==u?void 0:u.map(((e,n)=>e.isCustom?e.render():(0,b.jsx)(S,{tint:r,action:e},n)))}):null]}),(0,b.jsx)(A,{onDismiss:l})]})}function M(e){const{label:n,staticIcon:t,tint:i,iconColor:a,onDismiss:s,actions:r}=e,l=w(i,a),u=(0,o().IS)((e=>({container:{backgroundColor:h[i](e),padding:"8px 8px 8px 12px",borderRadius:8},content:{color:x[i](e)},iconContainer:{height:20,display:"flex",alignItems:"center",justifyContent:"center"}})),[i]);return(0,b.jsxs)(c().Y1,{style:u.container,gap:8,direction:"horizontal",align:"center",children:[t?(0,b.jsx)("div",{style:u.iconContainer,children:t(l.icon)}):null,(0,b.jsxs)(c().Y1,{style:u.content,gap:"auto",direction:"horizontal",align:"center",children:[(0,b.jsx)(c().Y1,{gap:4,children:(0,b.jsx)(y().D,{styleName:"UIRegular-14px/Medium",children:n})}),r?(0,b.jsx)(c().Y1,{direction:"horizontal",gap:8,width:"hug",children:null==r?void 0:r.map(((e,n)=>e.isCustom?e.render():(0,b.jsx)(S,{tint:i,action:e},n)))}):null]}),(0,b.jsx)(A,{onDismiss:s})]})}function B(e){const{tint:n,onDismiss:t,content:i}=e,o=w(n);return(0,b.jsxs)(c().Y1,{style:o.container,align:"center",gap:8,direction:"horizontal",children:[(0,b.jsx)("div",{style:{flex:1,...o.content},children:i}),(0,b.jsx)(A,{onDismiss:t})]})}function N(e){const{display:n}=e,t=(0,i().v3)();switch(n){case"inline":return(0,b.jsx)(T,{...e});case"full-width":return t.device.isMobile?(0,b.jsx)(I,{...e}):(0,b.jsx)(C,{...e});case"full-width-no-content":return(0,b.jsx)(B,{...e});case"inline-compact":return(0,b.jsx)(M,{...e})}return(0,b.jsx)(b.Fragment,{})}},696751:(e,n,t)=>{t.d(n,{A:()=>x,U:()=>h});var i=t(296540),o=()=>t(484714),a=()=>t(56366),s=()=>t(959013),r=()=>t(534177),l=()=>t(252105),c=()=>t(934839),u=()=>t(179030),d=()=>t(135552),p=()=>t(58293),m=()=>t(646736),y=()=>t(765957),b=()=>t(49412),v=()=>t(150193),g=()=>t(630116),f=t(474848);function h(e){const{legacyColor:n}=e,t=(0,o().v3)(),i=(0,a().K8)((()=>t.currentUser.id),[t]),l=(0,p().r)(),c=(0,m().HI)(l),y=(0,a().K8)((()=>{var e;if(!l||!i||!c)return null;const n=null===(e=b().A.getData(t,{spaceId:l.id}))||void 0===e||null===(e=e.bannerIds)||void 0===e?void 0:e[0];if(!n)return null;const o=g().by.createChildStore(l,{id:n,table:"subscription_banner",spaceId:l.id});if(!o.isDefined())return null;const a=o.getBannerText();if(a)return(0,f.jsx)("span",{children:a});const u=Boolean(null==c?void 0:c.isWorkspaceOwner());return function(e,n){switch(e){case"uncollectible_past_due":return n?(0,f.jsx)(s().sA,{id:"subscription.payment_uncollectible.past_due.workspace_owner",defaultMessage:"Your workspace may lose editing capabilities soon due to past-due invoices. Please remit payment to avoid losing access to Notion. If you have any questions, please reach out to billing@makenotion.com."}):(0,f.jsx)(s().sA,{id:"subscription.payment_uncollectible.past_due.member",defaultMessage:"Your workspace may lose editing capabilities soon due to past-due invoices. Please remit payment to avoid losing access to Notion. If you have any questions, please reach out to billing@makenotion.com."});case"uncollectible_unpaid":return n?(0,f.jsx)(s().sA,{id:"subscription.payment_uncollectible.unpaid.workspace_owner",defaultMessage:"Your workspace is unable to edit due to past-due invoices. Please remit payment to avoid losing access to Notion. If you have any questions, please reach out to billing@makenotion.com."}):(0,f.jsx)(s().sA,{id:"subscription.payment_uncollectible.unpaid.member",defaultMessage:"Your workspace is unable to edit due to past-due invoices. Please remit payment to avoid losing access to Notion. If you have any questions, please reach out to billing@makenotion.com."});case"dunning":case"legacy_price":return;default:return(0,r().HB)(e)}}(o.getBannerKey(),u)}),[t,i,l,c]);return y?(0,f.jsx)(u().l,{label:y,display:"full-width",actions:[],tint:(0,d().V)(n)}):null}function x(){const e=(0,o().v3)(),n=(0,a().O$)(y().AppStoreCurrentSpaceStore),[t,s,u,p,m]=(0,a().K8)((()=>{var t;if(!n)return[];const i=null===(t=b().A.getData(e,{spaceId:n.id}))||void 0===t?void 0:t.bannerIds;if(i&&i.length>0){const e=i[0],t=g().by.createChildStore(n,{id:e,table:"subscription_banner",spaceId:n.id});if(!t.isDefined())return[];const o=t.getBannerKey(),a=t.getBannerType(),s=t.getAudience(),l=t.getBannerText();switch(a){case"warning":return[e,d().q.Yellow,o,s,l];case"alert":return[e,d().q.LightRed,o,s,l];case"info":return[e,d().q.LightBlue,o,s,l];case"uncollectible":return[e,"uncollectible_unpaid"===o?d().q.LightRed:d().q.Yellow,o,s,l];default:(0,r().HB)(a)}}return[]}),[e,n]);i.useEffect((()=>{if(t&&s){if(c().HQ({bannerStore:v().A,id:"SubscriptionUncollectibleBanner",contentKey:"arbitrary_subscription_banner",styleKey:s,prepend:!0}),u&&p){const n={banner:u,audience:p,text:""};m&&(n.text=m),l().u4(e,{name:"subscription_uncollectible_banner_displayed",args:n})}}else c().zA({bannerStore:v().A,id:"SubscriptionUncollectibleBanner"});return()=>{c().zA({bannerStore:v().A,id:"SubscriptionUncollectibleBanner"})}}),[e,t,s,u,p,m])}},775916:(e,n,t)=>{t.d(n,{p:()=>s});var i=()=>t(166386),o=()=>t(47170),a=()=>t(985315);function s(){const e=(0,o().O)(),n=(0,a().g)({spaceId:e});if(n)return(0,i().e8)(n,"trial")}},811789:(e,n,t)=>{t.d(n,{X:()=>o});var i=()=>t(56366);function o(e){return(0,i().K8)((()=>{var n;const t=null===(n=e.getState())||void 0===n?void 0:n.dismissedExpiresAt,i=Date.now();return!!(t&&t>i)}),[e])}},883894:(e,n,t)=>{t.d(n,{k:()=>v,u:()=>g});var i=t(296540),o=()=>t(484714),a=()=>t(187174),s=()=>t(959013),r=()=>t(934839),l=()=>t(435009),c=()=>t(2220),u=()=>t(179030),d=()=>t(719147),p=()=>t(135552),m=()=>t(47170),y=()=>t(150193),b=t(474848);function v(){const e=(0,o().v3)();return(0,b.jsx)(u().l,{label:(0,b.jsx)(s().sA,{id:"subscription.russianSanctionsBanner.banner_text",defaultMessage:"Due to <sanctionLink>U.S. sanctions</sanctionLink>, users in Russia will not be able to access Notion from Sept 9, 2024. We sincerely apologize for this disruption in service.",values:{sanctionLink:n=>(0,b.jsx)(d().A,{onClick:()=>l().oo({environment:e,url:"https://ofac.treasury.gov/media/932951/download?inline",openInNew:"tab"}),children:n})}}),display:"full-width",actions:[{label:(0,b.jsx)(s().sA,{id:"subscription.russianSanctionsBanner.learn_more",defaultMessage:"Learn more"}),onClick:()=>l().oo({environment:e,url:"https://www.notion.so/help/restrictions-for-customers-based-in-russia",openInNew:"tab"})}],tint:"yellow"})}function g(){const e=(0,o().v3)(),n=function(){const e=(0,o().v3)(),n=(0,m().O)(),[{value:i}]=(0,a().Yb)((async()=>{if(!n)return;const i=await Promise.resolve().then(t.bind(t,449506)),o=await i.callApi({eventName:"getWillBeSubjectToSanctions",environment:e,data:{spaceId:n}});return"success"===o.type?o.data.value:void 0}),[e,n]);return i??!1}();i.useEffect((()=>(n?(r().HQ({bannerStore:y().A,id:"RussianSanctionsBanner",contentKey:"russian_sanctions",prepend:!0,styleKey:p().q.Yellow}),(0,c().u)({environment:e,event:{eventName:"russia_sanctions_banner_displayed",eventProperties:{}}})):r().zA({bannerStore:y().A,id:"RussianSanctionsBanner"}),()=>{r().zA({bannerStore:y().A,id:"RussianSanctionsBanner"})})),[e,n])}},932737:(e,n,t)=>{t.d(n,{A:()=>f,b:()=>g});var i=()=>t(244641),o=t(296540),a=()=>t(762433),s=()=>t(97065),r=()=>t(959013),l=()=>t(934839),c=()=>t(209660),u=()=>t(179030),d=()=>t(135552),p=()=>t(150193),m=()=>t(324561),y=()=>t(775916),b=()=>t(47170),v=t(474848);function g(e){const{legacyColor:n}=e,t=(0,v.jsx)(r().sA,{id:"app.banner.trial_subscription.add_payment_method",defaultMessage:"Add a payment method to continue using your free trial. You will not be charged until the end of your trial period."}),i=(0,v.jsx)(r().sA,{id:"app.banner.trial_subscription.add_payment_method.call_to_action",defaultMessage:"Add payment method"});return(0,v.jsx)(u().l,{label:t,display:"full-width",actions:[{label:i,onClick:()=>{c().Ow({currentTab:"billing"})}}],tint:(0,d().V)(n)})}function f(){const e=(0,b().O)(),n=(0,m().f_)({spaceId:e}),t=(0,y().p)();let r;const c="admin"===(null==n?void 0:n.type)&&(0,a().i5)(n);r=!(!c||!t)&&(!(0,a().N8)(n.subscription)&&(!n.paymentMethod&&(!(0,s().DH)(t.offer.campaign)&&i().c9.now()>(null==c?void 0:c.minus({days:15}))))),o.useEffect((()=>(r?l().HQ({bannerStore:p().A,id:"SubscriptionTrialAddPaymentMethodBanner",contentKey:"subscription_trial_add_payment_method",styleKey:d().q.Yellow,prepend:!0}):l().zA({bannerStore:p().A,id:"SubscriptionTrialAddPaymentMethodBanner"}),()=>{l().zA({bannerStore:p().A,id:"SubscriptionTrialAddPaymentMethodBanner"})})),[r])}},966689:(e,n,t)=>{t.d(n,{A:()=>_,i:()=>x});var i=()=>t(244641),o=t(296540),a=()=>t(484714),s=()=>t(401497),r=()=>t(148307),l=()=>t(762433),c=()=>t(534177),u=()=>t(449506),d=()=>t(934839),p=()=>t(179030),m=()=>t(135552),y=()=>t(47170),b=()=>t(57605),v=()=>t(150193),g=()=>t(596513),f=()=>t(714300),h=t(474848);function x(e){const{legacyColor:n}=e,t=(0,y().O)(),d=(0,f().l)({spaceId:t}),v=(0,l().q8)(d),x=(0,l().DS)(d),_=null==d?void 0:d.clock.externalId,[A,j]=(0,o.useState)(1),[k,S]=(0,o.useState)("second"),[I,C]=(0,o.useState)(!1),T=(0,a().v3)(),M=(0,s().IS)((e=>({message:{flexGrow:1,textWrap:"wrap"}})),[]);if(!t||!_||!v)return null;const B=async()=>{const e=i().dw.fromObject({[k]:A}),n=function(e){switch(e){case"month":return i().dw.fromObject({months:2});case"year":return i().dw.fromObject({years:2});default:(0,c().HB)(e)}}(v);if(e>n)return void w(`Cannot advance test clock by more than two billing intervals. The current billing interval is ${v}.`);C(!0);"success"===(await u().callApi({eventName:"stripeAdvanceTestClock",environment:T,data:{spaceId:t,epochSeconds:x.plus(e).toSeconds()}})).type?await Promise.all([g().t.resetData(T,{spaceId:t}),b().A.resetData(T,{spaceId:t})]):w("Failed to advance test clock. Check server logs for details."),C(!1)},N=(0,h.jsxs)("div",{style:M.message,children:["The clock time is currently frozen at ",x.toLocaleString(i().c9.DATETIME_FULL)]}),D=[{label:(0,h.jsx)("input",{disabled:I,type:"number",value:A,style:{width:75,textAlign:"right"},onChange:e=>j(parseInt(e.target.value))}),onClick:()=>{}},{label:(0,h.jsxs)("select",{disabled:I,value:k,onChange:e=>{S(e.target.value)},children:[(0,h.jsx)("option",{value:"seconds",children:"seconds"}),(0,h.jsx)("option",{value:"minutes",children:"minutes"}),(0,h.jsx)("option",{value:"hours",children:"hours"}),(0,h.jsx)("option",{value:"days",children:"days"}),(0,h.jsx)("option",{value:"months",children:"months"}),(0,h.jsx)("option",{value:"years",disabled:"year"!==v,children:"years"})]}),onClick:()=>{}},{label:"Advance clock",onClick:()=>B()},{label:I?(0,h.jsx)("img",{src:r().A.images.clubPenguinDanceGif,alt:"loading...",style:{width:48}}):(0,h.jsx)("div",{style:{width:48}}),onClick:()=>{}}];return(0,h.jsx)(p().l,{label:N,display:"full-width",actions:D,tint:(0,m().V)(n)})}function _(){var e;const n=(0,y().O)(),t=(0,f().l)({spaceId:n}),i=(0,l().Fq)(t)&&(null==t||null===(e=t.clock)||void 0===e?void 0:e.externalId);o.useEffect((()=>(i?d().HQ({bannerStore:v().A,id:"TestClockBanner",contentKey:"test_clock",styleKey:m().q.Yellow,prepend:!0}):d().zA({bannerStore:v().A,id:"TestClockBanner"}),()=>{d().zA({bannerStore:v().A,id:"TestClockBanner"})})),[i])}function w(e){}},995847:(e,n,t)=>{t.r(n),t.d(n,{iconDefinition:()=>i,xMarkSmallIcon:()=>o});t(296540);const i={viewBox:"0 0 16 16",fittedViewBox:"3.17 3.17 9.66 9.66",svg:(0,t(474848).jsx)("path",{d:"M12.642 3.358a.625.625 0 0 0-.884 0L8 7.116 4.242 3.358a.625.625 0 1 0-.884.884L7.116 8l-3.758 3.758a.625.625 0 0 0 .884.884L8 8.884l3.758 3.758a.625.625 0 1 0 .884-.884L8.884 8l3.758-3.758a.625.625 0 0 0 0-.884"})},o=(0,t(340498).wt)("xMarkSmall",i)}}]);