"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[4902,51859,60858],{7767:(e,t,o)=>{o.d(t,{A:()=>r});var i=()=>o(194188),n=()=>o(10123),s=()=>o(570551);function r(e,t){(0,s().A)(2,arguments);var o=(0,n().A)(e).getTime(),r=(0,i().A)(t);return new Date(o+r)}},10123:(e,t,o)=>{o.d(t,{A:()=>s});var i=()=>o(570551);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function s(e){(0,i().A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===n(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},138372:(e,t,o)=>{o.d(t,{H:()=>n});var i=()=>o(217429);function n(e){const{store:t}=e,o=t.getPublicPermission()??{type:"public_permission",role:"none"},{is_public_share_link:n}=o;return i().default.checkGate({gateName:"sharing_anyone_with_the_link"})?n?{...o,is_site:!1}:{...o,role:"none",is_site:!1}:{...o,is_site:!1,role:"none"}}},194188:(e,t,o)=>{function i(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}o.d(t,{A:()=>i})},289313:(e,t,o)=>{o.d(t,{Z:()=>n});o(296540);var i=o(474848);const n=(0,o(340498).wt)("chevronLeftRounded",{viewBox:"0 0 24 24",directional:!0,svg:(0,i.jsx)("path",{d:"M7.1875 11.8594C7.1875 12.0547 7.25781 12.2266 7.40625 12.375L13.6016 18.4297C13.7344 18.5703 13.9062 18.6406 14.1094 18.6406C14.5156 18.6406 14.8281 18.3359 14.8281 17.9297C14.8281 17.7266 14.7422 17.5547 14.6172 17.4219L8.92969 11.8594L14.6172 6.29688C14.7422 6.16406 14.8281 5.98438 14.8281 5.78906C14.8281 5.38281 14.5156 5.07812 14.1094 5.07812C13.9062 5.07812 13.7344 5.14844 13.6016 5.28125L7.40625 11.3438C7.25781 11.4844 7.1875 11.6641 7.1875 11.8594Z"})})},302127:(e,t,o)=>{o.d(t,{y:()=>n});var i=()=>o(217429);function n(e){const{store:t,allowDuplicate:o}=e,n=t.getPublicPermission()??{type:"public_permission",role:"none"},{is_public_share_link:s}=n;return i().default.checkGate({gateName:"sharing_anyone_with_the_link"})&&s?{...n,is_site:!0,allow_duplicate:o}:{...n,role:"reader",is_site:!0,allow_duplicate:o}}},315766:(e,t,o)=>{o.d(t,{o:()=>n});o(296540);const i={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,o(474848).jsx)("path",{d:"M10 2.375q-.634 0-1.242.1A.625.625 0 0 0 8.96 3.71a6.4 6.4 0 0 1 2.08 0 .625.625 0 0 0 .202-1.233q-.608-.1-1.242-.101m4.442 1.426a.625.625 0 0 0-.729 1.015 6.4 6.4 0 0 1 1.47 1.47.625.625 0 1 0 1.015-.73 7.7 7.7 0 0 0-1.756-1.755M6.287 4.817a.625.625 0 0 0-.73-1.015 7.7 7.7 0 0 0-1.755 1.756.625.625 0 1 0 1.015.729 6.4 6.4 0 0 1 1.47-1.47m11.237 3.941a.625.625 0 0 0-1.233.202 6.4 6.4 0 0 1 0 2.08.625.625 0 0 0 1.233.202 7.7 7.7 0 0 0 0-2.484M3.71 8.96a.625.625 0 0 0-1.234-.202 7.7 7.7 0 0 0 0 2.484.625.625 0 1 0 1.233-.202 6.4 6.4 0 0 1 0-2.08m12.489 5.482a.625.625 0 0 0-1.015-.729 6.4 6.4 0 0 1-1.096 1.18c-.79-1.398-2.333-2.332-4.087-2.332s-3.298.934-4.087 2.331a6 6 0 0 1-.567-.536l-.006-.006a6 6 0 0 1-.523-.637.625.625 0 0 0-1.015.73 7.7 7.7 0 0 0 1.756 1.755l.008.006a7.6 7.6 0 0 0 4.74 1.415 7.6 7.6 0 0 0 5.261-2.408l.006-.007q.337-.36.625-.762M6.951 15.6c.547-1.049 1.697-1.789 3.049-1.789s2.502.74 3.049 1.79a6.34 6.34 0 0 1-3.046.774H10a6.35 6.35 0 0 1-3.05-.775m.805-9.431C8.277 5.519 9.05 5.125 10 5.125s1.723.393 2.245 1.044c.51.635.75 1.474.75 2.346s-.24 1.71-.75 2.346c-.522.65-1.294 1.044-2.245 1.044-.95 0-1.723-.394-2.245-1.044-.51-.635-.75-1.474-.75-2.346s.24-1.711.75-2.346m.975.782c-.293.365-.475.909-.475 1.564s.182 1.198.475 1.564c.281.35.694.576 1.27.576s.989-.226 1.27-.576c.294-.366.475-.909.475-1.564s-.181-1.199-.475-1.564c-.281-.35-.693-.576-1.27-.576-.576 0-.989.225-1.27.576"})},n=(0,o(340498).wt)("personCropCircleDashed",i)},370898:(e,t,o)=>{o.d(t,{O:()=>c});o(296540);var i=()=>o(401497),n=()=>o(493823),s=()=>o(340498),r=()=>o(959013),a=()=>o(125565),l=o(474848);function d(e){const{title:t,icon:o,iconStyle:n,disabled:d}=e,c=(0,i().IS)((e=>({container:{display:"flex",alignItems:"center",gap:6},icon:{height:s().Ev.default,width:s().Ev.default,fill:e.icon.secondary,...n},text:{color:d?e.text.secondary:void 0}})),[n,d]);return(0,l.jsxs)("div",{style:c.container,children:[o&&o(c.icon),(0,l.jsx)(a().A,{style:c.text,children:(0,l.jsx)(r().sA,{...t})})]})}function c(e){const{title:t,icon:o,iconStyle:s,right:r,disabled:a,onClick:c,style:u,badge:m}=e,g=(0,i().IS)((()=>({container:{minHeight:32,paddingLeft:8,paddingRight:8,width:"100%",paddingTop:2,paddingBottom:2,...u},titleContainer:{display:"flex",flex:1}})),[u]);return(0,l.jsxs)(n().p,{disabled:a,onClick:c,style:g.container,children:[(0,l.jsxs)("div",{style:g.titleContainer,children:[(0,l.jsx)(d,{title:t,icon:o,iconStyle:s,disabled:a}),m]}),r]})}},392890:(e,t,o)=>{o.d(t,{A:()=>a});var i=()=>o(194188),n=()=>o(7767),s=()=>o(570551),r=6e4;function a(e,t){(0,s().A)(2,arguments);var o=(0,i().A)(t);return(0,n().A)(e,o*r)}},392998:(e,t,o)=>{o.d(t,{A:()=>r});var i=()=>o(194188),n=()=>o(10123),s=()=>o(570551);function r(e,t){(0,s().A)(2,arguments);var o=(0,n().A)(e),r=(0,i().A)(t);return isNaN(r)?new Date(NaN):r?(o.setDate(o.getDate()+r),o):o}},413582:(e,t,o)=>{o.d(t,{M:()=>T});var i=o(296540),n=()=>o(484714),s=()=>o(56366),r=()=>o(401497),a=()=>o(764781),l=()=>o(435644),d=()=>o(340498),c=()=>o(959013),u=()=>o(884107),m=()=>o(2220),g=()=>o(84817),p=()=>o(623580),h=()=>o(864943),f=()=>o(946548),b=()=>o(859428),y=()=>o(42425),S=()=>o(972435),v=()=>o(962730),x=()=>o(525700),A=()=>o(40226),M=()=>o(578872),C=()=>o(242565),k=()=>o(370898),w=o(474848);const j=(0,c().YK)({showTitle:{id:"embedSettingsContent.showPageTitle.toggle",defaultMessage:"Show page title"},showFormTitle:{id:"embedSettingsContent.showFormTitle.toggle",defaultMessage:"Show form title"},showTitleTooltip:{id:"embedSettingsContent.showTitleTooltip",defaultMessage:"Show page title & icon in the embedded view"}});function T(e){const t=(0,n().v3)(),{currentBlockStore:o}=e,T=(0,s().K8)((()=>{var e;if(o)return null===(e=(0,M().GN)(o))||void 0===e?void 0:e.getSiteStore()}),[o]),I=(0,s().K8)((()=>{var e;return null==T||null===(e=T.getSettings())||void 0===e?void 0:e.embedSettings}),[T]),B=(0,s().K8)((()=>o?(0,A().R)({store:o,embedded:!0,pageVisitSource:void 0}):""),[o]),P=(0,s().K8)((()=>B?`\n\t\t\t\t<iframe src="${B}"\n\t\t\t\t\twidth="100%"\n\t\t\t\t\theight="600"\n\t\t\t\t\tframeborder="0"\n\t\t\t\t\tallowfullscreen\n\t\t\t\t/>\n\t\t\t\t`.trim().replace(/\s+/g," "):""),[B]),F=i.useCallback((async()=>{const e=await u().R.clipboardActions.load();e.copyString({environment:t,stringValue:P,copiedMessage:e.clipboardMessages.copiedLinkToClipboard}),(0,m().u)({environment:t,event:{eventName:"copy_embed_code",eventProperties:{target_block_id:o.id}}})}),[P,t,o.id]),_=i.useCallback((()=>{T&&(0,x().E9)({environment:t,siteStore:T,embedSettings:{hideTitle:!(null!=I&&I.hideTitle)}})}),[T,null==I?void 0:I.hideTitle,t]),R=(0,s().K8)((()=>o.isFormBlock()?j.showFormTitle:j.showTitle),[o]),E=(0,r().IS)((e=>({copyIcon:{width:d().Ev.sm,height:d().Ev.sm,marginLeft:0,marginRight:6},primaryButton:{marginLeft:"auto",marginRight:0,width:"fit-content"},container:{paddingLeft:8,paddingRight:8}})),[]);return(0,w.jsxs)(g().Y1,{direction:"vertical",gap:14,style:E.container,children:[(0,w.jsx)(b().A,{renderTooltip:()=>S().A.formatMessage(j.showTitleTooltip),disableTooltip:!1,render:e=>(0,w.jsx)("div",{...e,children:(0,w.jsx)(k().O,{title:R,icon:l().a,right:(0,w.jsx)(f().A,{on:!Boolean(null==I?void 0:I.hideTitle),onClick:_}),disabled:!1,onClick:_,style:{marginBottom:-6}})}),placement:v().W.Bottom,alignment:y().C1.Center,textWrap:!0,style:{maxWidth:C().SITE_SETTINGS_TOOLTIP_WIDTH}}),(0,w.jsx)(p().A,{disabled:!0,textarea:!0,textareaSubmitOnEnter:!1,autosize:!0,autosizeMinHeight:50,showClearButton:!1,readOnly:!0,value:P,textareaElementAttributes:{cols:50}}),(0,w.jsx)(h().A,{size:"lg",onClick:F,style:E.primaryButton,iconLeading:e=>(0,a().V)({...e,...E.copyIcon}),children:(0,w.jsx)(c().sA,{id:"embedSettingsContent.copyEmbedCode",defaultMessage:"Copy code"})})]})}},440339:(e,t,o)=>{o.d(t,{oq:()=>se,aR:()=>X,zM:()=>te});var i=o(296540),n=()=>o(484714),s=()=>o(56366),r=()=>o(401497),a=()=>o(148307),l=()=>o(954845),d=()=>o(289313),c=()=>o(66913),u=()=>o(206267),m=()=>o(68263),g=()=>o(959013),p=()=>o(534177),h=()=>o(284371),f=()=>o(703875),b=()=>o(854672),y=()=>o(285790),S=()=>o(125565),v=()=>o(987017),x=()=>o(38337),A=()=>o(115512),M=()=>o(436572),C=()=>o(704152),k=()=>o(859428),w=()=>o(962730),j=(o(16280),()=>o(449506)),T=()=>o(765957);var I=o(474848);function B(e){const{beamMetadata:t}=e,[o,s]=(0,i.useState)(!1),a=(0,n().v3)(),d=(0,r().IS)((e=>({beamIcon:{height:24,width:24},button:{borderRadius:6},tooltipWidth:{width:280}})),[]);return o||!t?null:(0,I.jsx)(k().A,{delayThreshold:500,placement:w().W.Bottom,renderTooltip:()=>(0,I.jsx)(g().sA,{defaultMessage:"Beam sends a real-time link of this page to your teammates who are online and on the same calendar event",id:"shareMenu.beam.tooltip"}),textWrap:!0,style:d.tooltipWidth,render:e=>(0,I.jsx)(C().A,{...e,style:d.button,onClick:async()=>{s(!0);const e=await function(e){var t,o;const{environment:i,beamMetadata:n}=e;if(!(null===(t=T().default.state.mainEditorCurrentBlockStore)||void 0===t?void 0:t.id))throw new Error("No current page selected");if(!(null===(o=T().default.state.currentSpaceStore)||void 0===o?void 0:o.id))throw new Error("No current space selected");return j().callApi({eventName:"sendBeam",environment:i,data:{beamMetadata:n}})}({environment:a,beamMetadata:t});"failed"!==e.type?M().D6({label:(0,I.jsx)(g().sA,{id:"shareMenu.beam.sent",defaultMessage:"Beam sent!"})}):M().D6({label:(0,I.jsx)(g().sA,{id:"shareMenu.beam.failed",defaultMessage:"There was an issue sending the beam. Please try again later."})})},children:(0,l().J)(d.beamIcon)})})}o(898992),o(354520),o(581454);var P=()=>o(392890),F=()=>o(883626),_=()=>o(496603),R=()=>o(615234),E=()=>o(866515),N=()=>o(523239),D=()=>o(677169),L=()=>o(614016),V=()=>o(379560),K=()=>o(807778),W=(o(517642),o(658004),o(733853),o(845876),o(432475),o(515024),o(731698),o(672577),()=>o(861017)),O=()=>o(179034),U=()=>o(780054),z=()=>o(630116);function H(e){const{environment:t,currentSpaceStore:o}=e;let i=e.fileUrl;const n=(0,W().parseRoute)({url:i,isMobile:t.device.isMobile,baseUrl:U().A.domainBaseUrl,publicDomainName:U().A.publicDomainName,protocol:U().A.protocol,currentUrl:window.location.href}),s="page"===n.name?n.blockId:void 0;if(!s)return;const r=z().Bv.createChildStore(o,{table:O().ev,id:s});return r.load(),r.isReady()?r:void 0}function Y(e){var t;return"block"===(null==e||null===(t=e.pointer)||void 0===t?void 0:t.table)}function G(){const e=(0,n().v3)(),t=(0,s().K8)((()=>(0,K().Bh)()),[]),{botId:o}=(0,D().m)(),r=(0,s().O$)(T().AppStoreCurrentSpaceViewStore),a=(0,i.useRef)(!1),l=(0,i.useRef)(0);(0,i.useEffect)((()=>{a.current=!1,l.current=0;(async()=>{if(t&&!a.current&&o&&r&&l.current<3)try{await(0,N().qq)({environment:e,currentSpaceViewStore:r,botId:o,timeRange:(0,L().M)(),forceRefetch:!0,reason:"background_load"}),a.current=!0,l.current=0}catch(i){a.current=!1,l.current+=1}})()}),[e,r,o,t]);const[d,c]=(0,i.useState)([]),[u,m]=(0,s().K8)((()=>{const e=T().default.state.mainEditorCurrentBlockStore;if(!e)return[void 0,void 0];const t=e.getIcon();return[e.id,Y(t)?t:void 0]}),[]),g=(0,s().O$)(T().AppStoreCurrentSpaceStore),p=(0,s().K8)((()=>V().A.getEvents()),[]),h=(0,i.useCallback)((()=>{if(!g||!t)return[];return p.filter((e=>{var t;if(e.isAllDay||"declined"===e.responseStatus)return!1;const o=new Date(e.start.dateTime),i=(0,P().A)(o,-5),n=new Date(e.end.dateTime),s=(0,P().A)(n,5),r=new Date;return((null===(t=e.attachments)||void 0===t?void 0:t.length)??0)>0&&s>=i&&r>=i&&r<=s}))}),[g,p,t]);(0,E().n)((()=>{if(!t)return;const e=h(),o=e.map((e=>e.id)),i=d.map((e=>e.id));(0,_().R9)(o,i).length>0&&c(e)}),2*R().Xb,!0);const f=(0,s().K8)((()=>{if(!t)return;if(!u||!g)return;const o=function(e){const{environment:t,upcomingEvents:o,currentBlockId:i,currentSpaceStore:n}=e;for(const s of o){const e=(s.attachments||[]).find((e=>{const o=H({environment:t,fileUrl:e.fileUrl,currentSpaceStore:n});return(null==o?void 0:o.id)===i}));if(e)return{event:s,attachment:e}}}({environment:e,upcomingEvents:d,currentBlockId:u,currentSpaceStore:g});if(!o)return;const i=o.event,n=o.attachment,s=null!=(r=i)&&r.attendees&&0!==r.attendees.length?Array.from(new Set(r.attendees.filter((e=>!e.self&&e.email)).map((e=>e.email)))).filter((e=>void 0!==e)):[];var r;return 0!==s.length?{beamType:"calendarAttendees",emails:s,attachment:n,recordIcon:m}:void 0}),[u,d,e,g,m,t]);if(f&&!(f.emails.length>F().Hs))return{beamType:f.beamType,emails:f.emails,attachment:f.attachment,recordIcon:f.recordIcon}}var $=()=>o(676870),Q=()=>o(525700),q=()=>o(380682),Z=()=>o(437487);const J=(0,g().YK)({seo:{defaultMessage:"Search engine indexing",id:"publishSiteSettings.SEO.title"},embed:{defaultMessage:"Embed this page",id:"embedSiteSettings.title"},shareOnSocial:{defaultMessage:"Share via social",id:"shareMenu.shareOnSocial"}});function X(e){let{inviteTargetsStore:t,mostPermissivePublicItem:o}=e;const{display:i,source:n}=(0,s().K8)((()=>{const{display:e}=Z().Ay.state;if(e===Z().pP.Invite){const{source:t}=Z().Ay.state;return{display:e,source:t}}return{display:e,source:void 0}}),[]);switch(i){case Z().pP.MainShareMenu:case Z().pP.Publish:return(0,I.jsx)(te,{mostPermissivePublicItem:o});case Z().pP.Invite:if("notion"===n)return(0,I.jsx)(oe,{inviteTargetsStore:t});if("slack"===n||"google"===n)return(0,I.jsx)(ie,{source:n});throw(0,p().HB)(n);default:(0,p().HB)(i)}}const ee=[Z().QC.Share,Z().QC.Publish];function te(e){let{mostPermissivePublicItem:t}=e;const o=(0,n().v3)(),a=i.useRef(null),{isMobile:d}=o.device,c=(0,s().K8)((()=>(0,m().W8)(t.permissionItem)),[t.permissionItem]);(0,i.useEffect)((()=>{const e=Z().Ay.state,t=e.tab===Z().QC.Share&&e.display===Z().pP.MainShareMenu?e.source:void 0;c&&t!==Z().mc.InviteBackButton&&(Z().Ay.setState({tab:Z().QC.Publish,display:Z().pP.Publish,sessionId:u().JW(),isInitialized:!0}),(0,$().EN)(o,{source:"share_button"}))}),[o,c]);const p=(0,s().K8)((()=>Z().Ay.state.tab),[]),b=(0,r().IS)((e=>({tabStyle:{color:e.text.tertiary,...d&&{width:"50%",textAlign:"center"}},selectedTabStyle:{},tabTitleStyle:{color:"inherit",fontSize:(0,A().ny)(o,"UIRegular"),fontWeight:h().Wy.medium},style:d?{marginBottom:8,justifyContent:"space-between"}:{marginBottom:16,paddingLeft:16},tabBorderStyle:{left:0,right:0}})),[o,d]),y=(0,r().IS)((e=>({tabStyle:{width:"50%",textAlign:"center",borderRadius:10,color:e.text.secondary,fontWeight:h().Wy.regular,paddingTop:2,paddingBottom:2},tabBorderStyle:{borderBottom:"none"},selectedTabStyle:{borderRadius:8,background:"dark"===e.mode?e.tint.regular:e.surface.elevated},tabTitleStyle:{color:"inherit",fontSize:(0,A().ny)(o,"UIRegular"),fontWeight:h().Wy.regular},selectedTabTitleStyle:{fontWeight:h().Wy.medium},style:{justifyContent:"space-between",padding:2,background:e.tint.regular,borderRadius:10,marginBottom:0,height:34}})),[o]),S=(0,r().IS)((e=>({publishTabContainer:{display:"flex",alignItems:"center"},publishIcon:{height:16,width:16,marginLeft:4,opacity:p===Z().QC.Publish?1:.5},tabBarContainer:{paddingLeft:20,paddingRight:20,paddingTop:8,paddingBottom:16,backgroundColor:d?e.surface.wash:e.surface.page}})),[p,d]),M=(0,i.useCallback)((e=>{const t=ee[e];t!==p&&(f().N(o,{tab:t}),t===Z().QC.Share&&Z().Ay.setState({...Z().Ay.state,display:Z().pP.MainShareMenu,tab:Z().QC.Share,source:Z().mc.ShareTab}),t===Z().QC.Publish&&Z().Ay.setState({...Z().Ay.state,display:Z().pP.Publish,tab:Z().QC.Publish}))}),[p,o]),C=G(),k=C&&C.emails.length>0,w=[(0,I.jsx)(i.Fragment,{children:(0,I.jsx)(g().sA,{defaultMessage:"Share",id:"shareMenu.shareTab.title"},"share")},"title"),(0,I.jsxs)("div",{ref:a,style:S.publishTabContainer,className:x().hKK,children:[(0,I.jsx)(g().sA,{defaultMessage:"Publish",id:"shareMenu.publishTab.title"},"publish"),c&&(0,l().J)(S.publishIcon)]},"publishTab")],j=(0,s().K8)((()=>q().A.state.siteSettingContentType),[]);return"seo"===j?(0,I.jsx)(re,{}):"embed"===j?(0,I.jsx)(ae,{handleBackButtonClick:()=>{Q().Bp("initial")}}):"social"===j?(0,I.jsx)(le,{handleBackButtonClick:()=>{Q().Bp("initial")}}):d?(0,I.jsx)("div",{style:S.tabBarContainer,children:(0,I.jsx)(v().Ay,{...y,tabs:w,selectedIndex:ee.indexOf(p),onChange:M,hideTabBorder:!0})}):(0,I.jsx)(v().Ay,{...b,tabs:w,selectedIndex:ee.indexOf(p),onChange:M,right:k&&C?(0,I.jsx)(B,{beamMetadata:C}):null})}function oe(e){let{inviteTargetsStore:t}=e;const o=(0,r().IS)((e=>({container:{display:"flex",paddingLeft:12,paddingRight:12,marginBottom:16,height:40,boxShadow:`inset 0 -1px 0 ${e.regularDividerColor}`}})),[]),n=(0,i.useCallback)((()=>{t.reset(),Z().Ay.setState({...Z().Ay.state,display:Z().pP.MainShareMenu,tab:Z().QC.Share,source:Z().mc.InviteBackButton})}),[t]);return(0,I.jsx)("div",{style:o.container,children:(0,I.jsx)(se,{onClick:n,titleMessage:(0,I.jsx)(g().sA,{id:"shareMenu.sendInvite.labelV2",defaultMessage:"Invite"})})})}function ie(e){const{source:t}=e,o=(0,g().tz)(),n=(0,r().IS)((()=>({container:{display:"flex",justifyContent:"space-between",margin:"0 12px",height:48,alignItems:"center"},titleLabel:{display:"flex",fontSize:12,alignItems:"center",fontWeight:h().Wy.semibold}})),[]),s=(0,i.useCallback)((()=>{Z().Ay.setState({...Z().Ay.state,tab:Z().QC.Share,display:Z().pP.Invite,source:Z().NL.Notion,focus:Z().yZ.Search,emailMessage:""})}),[]);return(0,I.jsxs)("div",{style:n.container,children:[(0,I.jsx)(S().A,{style:n.titleLabel,children:(0,I.jsx)(g().sA,{id:"shareMenu.addFromSlack.label",defaultMessage:"Add people from {integrationNameWithLogo}",values:{integrationNameWithLogo:(0,I.jsx)(ne,{source:t})}})}),(0,I.jsx)(y().A,{ariaLabel:o.formatMessage({id:"shareMenuHeader.goBackToInviteFromNotionMenu.iconButton",defaultMessage:"Close external integration and go back to the main invite flow."}),icon:c().V,style:{borderRadius:"100%"},onClick:s})]})}function ne(e){let{source:t}=e;const o=(0,r().IS)((()=>({imageStyle:{marginLeft:4,marginRight:4}})),[]);return t===Z().NL.Slack?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(b().A,{type:"image_url",imageURL:a().A.images.externalIntegrations.slackIconPng,size:18,imageStyle:o.imageStyle}),(0,I.jsx)(g().sA,{defaultMessage:"Slack",id:"shareMenu.slackIntegrationName.label"})]}):t===Z().NL.Google?(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(b().A,{type:"image_url",imageURL:a().A.images.externalIntegrations.googleGIconPng,size:18,imageStyle:o.imageStyle}),(0,I.jsx)(g().sA,{defaultMessage:"Google",id:"shareMenu.googleContactsIntegrationName.label"})]}):void(0,p().HB)(t)}function se(e){const{onClick:t,titleMessage:o}=e,i=(0,n().v3)(),s=(0,g().tz)(),a=(0,r().IS)((()=>({topContainer:{display:"flex",alignItems:"center",width:"max-content"},iconButton:{marginRight:6,height:24,width:24},arrowIcon:{height:20,width:20,strokeWidth:h().Wy.semibold},sendInviteLabel:{fontWeight:h().Wy.medium,fontSize:(0,A().ny)(i,"UIRegular")}})),[i]);return(0,I.jsxs)("div",{style:a.topContainer,children:[(0,I.jsx)(y().A,{icon:d().Z,iconStyle:a.arrowIcon,style:a.iconButton,onClick:t,ariaLabel:s.formatMessage({id:"shareMenu.backButton.iconButton",defaultMessage:"Go back to main share menu."})}),(0,I.jsx)(S().A,{style:a.sendInviteLabel,children:o})]})}function re(){const e=(0,r().IS)((e=>({container:{display:"flex",padding:"0 12px 0 8px",height:40,borderBottom:`1px solid ${e.stroke.secondary}`}})),[]),t=(0,i.useCallback)((()=>{Q().Bp("initial")}),[]);return(0,I.jsx)("div",{style:e.container,children:(0,I.jsx)(se,{onClick:t,titleMessage:(0,I.jsx)(g().sA,{...J.seo})})})}function ae(e){const t=(0,r().IS)((e=>({container:{display:"flex",padding:"0 12px 0 8px",height:40,borderBottom:`1px solid ${e.stroke.secondary}`}})),[]);return(0,I.jsx)("div",{style:t.container,children:(0,I.jsx)(se,{onClick:e.handleBackButtonClick,titleMessage:(0,I.jsx)(g().sA,{...J.embed})})})}function le(e){const t=(0,r().IS)((e=>({container:{display:"flex",padding:"0 12px 0 8px",height:40,borderBottom:`1px solid ${e.stroke.secondary}`}})),[]);return(0,I.jsx)("div",{style:t.container,children:(0,I.jsx)(se,{onClick:e.handleBackButtonClick,titleMessage:(0,I.jsx)(g().sA,{...J.shareOnSocial})})})}},527580:(e,t,o)=>{o.d(t,{TK:()=>a,YC:()=>r,ui:()=>s});var i=()=>o(645873);const n={pageVerification:new(i().O2)("pageVerification",(()=>Promise.all([o.e(58550),o.e(11341),o.e(29252),o.e(94891)]).then(o.bind(o,80826)))),pageVerificationBadge:new(i().O2)("pageVerificationBadge",(()=>Promise.all([o.e(75134),o.e(58550),o.e(92845),o.e(84468),o.e(5605),o.e(48486),o.e(95794),o.e(13677),o.e(56952),o.e(25497),o.e(74562),o.e(27711),o.e(11341),o.e(30291),o.e(12913),o.e(6463),o.e(93449),o.e(29252),o.e(74357),o.e(41412)]).then(o.bind(o,161901)))),pageVerificationMenuRenderer:new(i().O2)("pageVerificationMenuRenderer",(()=>Promise.all([o.e(75134),o.e(58550),o.e(92845),o.e(84468),o.e(5605),o.e(48486),o.e(95794),o.e(13677),o.e(56952),o.e(25497),o.e(74562),o.e(27711),o.e(11341),o.e(30291),o.e(12913),o.e(6463),o.e(93449),o.e(29252),o.e(74357),o.e(26207)]).then(o.bind(o,196770))))},s=(0,i()._h)(n.pageVerification,(e=>e.PageAddVerificationButton)),r=(0,i()._h)(n.pageVerificationBadge,(e=>e.PageVerificationBadge)),a=(0,i()._h)(n.pageVerificationMenuRenderer,(e=>e.PageVerificationMenuRenderer))},570551:(e,t,o)=>{function i(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}o.d(t,{A:()=>i})},591978:(e,t,o)=>{o.d(t,{A:()=>n});class i extends(()=>o(757695))().Store{getInitialState(){return{formShareMenuType:"initial"}}}const n=new i},606982:(e,t,o)=>{o.d(t,{A:()=>s});var i=()=>o(10123),n=()=>o(570551);function s(e,t){(0,n().A)(2,arguments);var o=(0,i().A)(e),s=(0,i().A)(t),r=o.getTime()-s.getTime();return r<0?-1:r>0?1:r}},614787:(e,t,o)=>{o.d(t,{l:()=>i});const i=(0,o(959013).YK)({copiedLinkToForm:{id:"FormActionButtons.copiedLinkToForm",defaultMessage:"Copied link to form"}})},629027:(e,t,o)=>{o.d(t,{P:()=>s});var i=()=>o(56366),n=()=>o(928153);function s(e){let{store:t}=e;return(0,i().K8)((()=>(0,n().C)({store:t})),[t])}},633137:(e,t,o)=>{o.r(t),o.d(t,{iconDefinition:()=>n,notionDarkModeIcon:()=>s});o(296540);var i=o(474848);const n={viewBox:"0 0 20 20",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{fill:"#fff",d:"M12.266.69c.576-.049 1.048-.07 1.486.029.462.105.819.328 1.204.607h.001l3.038 2.135.012.008.334.248c.114.09.224.186.312.288.248.286.33.599.33.937v11.714l-.005.167c-.019.397-.116.837-.433 1.197-.368.418-.9.579-1.461.619h-.009l-11.055.668h-.01c-.375.018-.758.008-1.12-.123a1.9 1.9 0 0 1-.72-.479l-.189-.216-.003-.006-2.239-2.905-.006-.008c-.396-.527-.648-1.02-.705-1.597l-.012-.254V3.307c0-.4.088-.861.388-1.246.316-.404.785-.622 1.332-.67h.01z"}),(0,i.jsx)("path",{fill:"#000",d:"M12.32 1.437c1.17-.1 1.47-.032 2.205.501l3.039 2.136c.5.367.668.467.668.867v11.715c0 .734-.267 1.168-1.202 1.234l-11.055.667c-.702.034-1.036-.066-1.404-.533L2.333 15.12c-.4-.534-.567-.934-.567-1.401V3.306c0-.6.267-1.101 1.035-1.168zm4.241 3.871-10.854.634c-.4.034-.534.235-.534.668v9.945c0 .535.267.735.868.702l10.388-.601c.6-.033.668-.401.668-.835V5.942c0-.433-.167-.667-.536-.634m-1.134 1.836c.066.3 0 .601-.301.635l-.501.1v7.342c-.434.233-.835.367-1.169.367-.534 0-.668-.168-1.068-.668L9.113 9.78v4.973l1.036.233c0 .008-.005.6-.836.6l-2.303.135c-.067-.134 0-.468.233-.535l.602-.167V8.446L7.01 8.38c-.067-.3.1-.734.567-.768l2.472-.166 3.407 5.206V8.046l-.868-.1c-.067-.367.2-.635.534-.668zm-2.705-4.772-9.153.668c-.333.033-.4.2-.267.333l1.303 1.035c.534.433.735.4 1.737.333l9.452-.567c.2 0 .034-.2-.033-.233l-1.57-1.136c-.301-.233-.702-.5-1.47-.433"})]})},s=(0,o(340498).wt)("notionDarkMode",n)},677169:(e,t,o)=>{o.d(t,{f:()=>c,m:()=>d});o(898992),o(354520),o(672577),o(737550);var i=o(296540),n=()=>o(56366),s=()=>o(617871),r=()=>o(765957),a=()=>o(217429),l=()=>o(53137);function d(){const e=(0,i.useRef)(void 0);return(0,n().K8)((()=>{if(void 0===e.current){if(!a().default.isStatsigReady())return{loading:!0,botId:void 0,botSpaceId:void 0,botUserId:void 0};e.current=a().default.checkGate({gateName:"calendar_home_tile_caching"})}return e.current?c():function(){var e,t,o;const i=l().A.bots.state.filter((e=>e.integration_id===s().io)),n=null===(e=r().default.state.currentSpaceViewStore)||void 0===e?void 0:e.getSelectedCalendarBotId(),a=!l().A.state.loaded||!(null!==(t=r().default.state.currentSpaceViewStore)&&void 0!==t&&t.isReady()),{spaceId:d,userId:c}=l().A.state.loaded?l().A.state:{spaceId:void 0,userId:void 0},u=null===(o=i[0])||void 0===o?void 0:o.id;if(!n)return{loading:a,botId:u,botSpaceId:d,botUserId:c};const m=i.find((e=>e.id===n));return{loading:a,botId:(null==m?void 0:m.id)??u,botSpaceId:d,botUserId:c}}()}),[])}function c(){var e;const{currentSpaceViewStore:t}=r().default.state;if(!t||!t.isReady())return{loading:!0,botId:void 0,botSpaceId:void 0,botUserId:void 0};const o=t.getSelectedCalendarBotId();if(o&&!l().A.state.loaded)return{loading:!1,botId:o,botSpaceId:t.getSpaceId(),botUserId:t.getUserId()};const{spaceId:i,userId:n}=l().A.state.loaded?l().A.state:{spaceId:void 0,userId:void 0},a=l().A.bots.state.filter((e=>e.integration_id===s().io)),d=null===(e=a[0])||void 0===e?void 0:e.id,c=o&&a.some((e=>e.id===o))?o:d;return{loading:!l().A.state.loaded||l().A.state.loading,botId:c,botSpaceId:i,botUserId:n}}},703875:(e,t,o)=>{o.d(t,{N:()=>s,V:()=>n});var i=()=>o(679924);function n(e){(0,i().v)(e,"view_public_site_click")}function s(e,t){(0,i().v)(e,"share_menu_tab_click",t)}},830422:(e,t,o)=>{o.r(t),o.d(t,{EmbedSettingsHeader:()=>Ne,FormShareButton:()=>Ce,FormShareMenu:()=>ke});var i=o(296540),n=()=>o(484714),s=()=>o(56366),r=()=>o(401497),a=()=>o(148307),l=()=>o(31503),d=()=>o(906380),c=()=>o(481721),u=()=>o(742852),m=o(474848);const g={viewBox:"0 0 20 20",fittedViewBox:"4.12 2.37 11.75 15.25",svg:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("path",{fillRule:"evenodd",d:"M10 9a1.6 1.6 0 0 0-1.6 1.6v.817a1 1 0 0 0-.6.917V14a1 1 0 0 0 1 1h2.4a1 1 0 0 0 1-1v-1.666a1 1 0 0 0-.6-.917V10.6A1.6 1.6 0 0 0 10 9m.6 2.334V10.6a.6.6 0 0 0-1.2 0v.734zm-.05 1.796a.55.55 0 1 1-1.1 0 .55.55 0 0 1 1.1 0",clipRule:"evenodd"}),(0,m.jsx)("path",{d:"M4.125 4.5c0-1.174.951-2.125 2.125-2.125h3.879c.563 0 1.104.224 1.502.622l3.622 3.622c.398.398.622.939.622 1.502V15.5a2.125 2.125 0 0 1-2.125 2.125h-7.5A2.125 2.125 0 0 1 4.125 15.5zm2.125-.875a.875.875 0 0 0-.875.875v11c0 .483.392.875.875.875h7.5a.875.875 0 0 0 .875-.875V8.3H12a2.05 2.05 0 0 1-2.05-2.05V3.625zm4.8.559V6.25c0 .525.425.95.95.95h2.066z"})]})},p=(0,o(340498).wt)("lockDoc",g);var h=()=>o(788621),f=()=>o(315766),b=()=>o(633137),y=()=>o(558687),S=()=>o(84262),v=()=>o(959013),x=()=>o(884107),A=()=>o(778417),M=()=>o(725614),C=()=>o(755199),k=()=>o(2220),w=()=>o(84817),j=()=>o(464708),T=()=>o(760217),I=()=>o(406699),B=()=>o(805751),P=()=>o(623580),F=()=>o(928600),_=()=>o(8980),R=()=>o(147294),E=()=>o(864943),N=()=>o(204063),D=()=>o(89924),L=()=>o(859428),V=()=>o(175116),K=()=>o(38337),W=()=>o(972435),O=()=>o(722872),U=()=>o(553965),z=()=>o(836251),H=()=>o(640653),Y=()=>o(47170),G=()=>o(629027),$=()=>o(299487),Q=()=>o(131448),q=()=>o(976721),Z=()=>o(440339),J=()=>o(928074),X=()=>o(302127),ee=()=>o(138372),te=()=>o(525700),oe=()=>o(413582),ie=()=>o(962730),ne=()=>o(765957),se=()=>o(597368),re=()=>o(591978),ae=()=>o(343168),le=()=>o(991249),de=()=>o(112698),ce=()=>o(329304),ue=()=>o(500128),me=()=>o(465741),ge=()=>o(614787),pe=()=>o(958102),he=(o(898992),o(672577),o(581454),()=>o(496603)),fe=()=>o(939740),be=()=>o(897119);const ye=function(e){let{icon:t,title:a,selectedKey:l,onChange:c,disabled:u,tooltipMessage:g,disableTooltip:p,...h}=e;const f=(0,n().Y0)(),b=(0,r().DP)(),y="options"in h?h.options:[],S=y.find((e=>he().n4(e.key,l))),v=(0,s().uB)(void 0,o(463830).A),x=(0,s().O$)(v);(0,i.useEffect)((()=>{S||o(857639).log({level:"error",from:"FormSettingsPickListRow",type:"InvalidSelectedItem",error:(0,o(502800).convertErrorToLog)("Selected key is invalid.")})}));const A=(0,r().IS)((e=>({desktopAndTabletButton:{marginLeft:0,marginRight:0,width:"auto",padding:"2px 0"},valueContainer:{display:"flex",alignItems:"center",color:e.text.secondary},chevronIcon:{marginLeft:4,transform:x.open?"rotate(90deg)":void 0}})),[x.open]),M=(0,m.jsxs)("div",{style:A.valueContainer,children:[null==S?void 0:S.title,(0,m.jsx)(_().I,{icon:d().arrowChevronSingleRightSmallIcon,size:"sm",color:"tertiary",style:A.chevronIcon})]});return(0,m.jsx)(L().A,{renderTooltip:()=>g,disableTooltip:p,placement:ie().W.Left,textWrap:!0,render:e=>(0,m.jsx)(I().Ay,{popupType:f.isPhone?be().nl.SlideUp:be().nl.Popup,alignmentToOrigin:I().yP.End,placementToOrigin:I().sx.Bottom,originGap:0,buttonPopupStore:v,disabled:u,renderOrigin:o=>(0,m.jsx)(T().A,{...e,icon:t?(0,m.jsx)(_().I,{icon:t}):void 0,title:a,focused:!1,disabled:u,buttonStyle:f.isPhone?void 0:A.desktopAndTabletButton,right:M,...(0,U().A)(o,h)}),render:e=>{const t=[{key:0,render:e=>(0,m.jsx)(D().A,{enableActionSheetTitle:!0,...e}),items:he().oE(y.map(((t,o)=>{const i={key:o,render:e=>(0,m.jsx)(L().A,{textWrap:!0,placement:ie().W.Left,disableTooltip:!t.tooltipMessage,renderTooltip:()=>t.tooltipMessage,render:o=>(0,m.jsx)(T().A,{...(0,U().A)(e,o),disabled:t.disabled,title:t.title,icon:t.icon,style:{color:t.disabled?b.text.tertiary:b.text.primary},isChecked:t.key===l})}),action:()=>{c(t.key,e),e.close()}};return i})))}];return(0,m.jsx)(F().A,{menuType:f.isPhone?O().gu.ActionSheet:O().gu.Popup,width:300,children:(0,m.jsx)(fe().Ay,{type:fe().Oh.Vertical,sections:t,initialFocus:o(780054).A.isMobile?void 0:0})})}})})};const Se=function(e){let{icon:t,title:i,onClick:s,menuItemDisabled:a,toggleDisabled:l,tooltipMessage:d,disableTooltip:c,on:u}=e;const g=(0,n().Y0)(),p=(0,r().IS)((e=>({desktopAndTabletButton:{marginLeft:0,marginRight:0,width:"auto",padding:"2px 0"}})),[]);return(0,m.jsx)(L().A,{renderTooltip:()=>d,disableTooltip:c,render:e=>(0,m.jsx)(T().A,{buttonStyle:g.isPhone?void 0:p.desktopAndTabletButton,icon:t?(0,m.jsx)(_().I,{icon:t}):void 0,title:i,right:(0,m.jsx)(o(946548).A,{on:u,onClick:s,disabled:l??a}),focused:!1,disabled:a,onClick:s,...e}),placement:ie().W.Left,textWrap:!0})};var ve=()=>o(704152),xe=()=>o(953006);function Ae(e){let{origin:t,onCloseClick:o}=e;const i=(0,r().IS)((e=>({tooltipStyle:{opacity:1},gotItButton:{border:"dark"===e.mode?`1px solid ${e.palette.gray[500]}`:`1px solid ${e.palette.gray[700]}`,borderRadius:6,display:"flex",justifyContent:"center",alignItems:"center",height:28,padding:"0px 8px"}})),[]),n=(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{style:{opacity:.7},children:(0,m.jsx)(v().sA,{id:"FormShareTooltip.content",defaultMessage:"When youâ€™re done editing, click here to copy the form link to share."})}),(0,m.jsx)("div",{style:{float:"right",marginTop:10},children:(0,m.jsx)(ve().A,{onClick:o,style:i.gotItButton,children:(0,m.jsx)(v().sA,{id:"FormShareTooltip.dismissButton",defaultMessage:"Got it"})})})]});return(0,m.jsx)(xe().k,{origin:t,style:{width:250},hideCloseButton:!0,hideActions:!0,placementToOrigin:"bottom",alignmentToOrigin:ie().C.End,pointerLength:30,contentStyle:i.tooltipStyle,pointerPosition:"85%",content:n,onCloseClick:o,shouldDismissUponOutsideClick:!0})}const Me=(0,v().YK)({anonymousFormSettingTooltip:{defaultMessage:"Form submissions will be anonymous",id:"FormShareMenu.CollectRespondentIdentity.tooltip"},anonymousFormSettingTooltipForPublicForms:{defaultMessage:"All submissions for public forms will be anonymous",id:"FormShareMenu.CollectRespondentIdentity.tooltipForPublicForms"},disabledPublishFormByTeamspace:{defaultMessage:"Disabled via teamspace settings",id:"FormShareMenu.disabledPublishFormByTeamspace"},disabledPublishFormByWorkspace:{defaultMessage:"Disabled via workspace settings",id:"FormShareMenu.disabledPublishFormByWorkspace"},disabledFormConfigurationPermissionTooltip:{defaultMessage:"You do not have permission to change this setting. Only users with full access can modify this form setting.",id:"FormShareMenu.DisabledFormConfigurationPermission.tooltip"},disabledFormConfigurationAnonymousSubmissionTooltip:{defaultMessage:"You do not have permission to change this setting. Only users with edit access can modify this form setting.",id:"FormShareMenu.DisabledFormConfigurationAnonymousSubmission.tooltip"},sharedToSpaceTooltip:{defaultMessage:"Workspace members with the link will be able to view and submit.",id:"FormShareMenu.sharedToSpace.tooltip"},sharedToWebTooltip:{defaultMessage:"Anyone with the link will be able to view and submit, no login required.",id:"FormShareMenu.sharedToWeb.tooltip"},closedFormTooltip:{defaultMessage:"No one will be able to view or submit this form.",id:"FormShareMenu.closedForm.tooltip"},notionBrandingDisabledTooltip:{defaultMessage:"Upgrade to remove Notion branding from the form",id:"FormShareMenu.notionBrandingDisabled.tooltip"},notionBrandingDisabledTooltipNonWorkspaceOwner:{defaultMessage:"Contact your workspace owner to upgrade to remove branding",id:"FormShareMenu.notionBrandingDisabled.tooltipNonWorkspaceOwner"},notionBrandingTooltip:{defaultMessage:"Remove Notion branding from the form",id:"FormShareMenu.notionBranding.tooltip"},embedSettingRowTitle:{defaultMessage:"Embed this form",id:"FormShareMenu.embedSettingRowTitle"},embedSettingRowTooltip:{defaultMessage:"Embed this form outside of Notion",id:"FormShareMenu.embedSettingRowTooltip"},submissionNoAccessTooltip:{defaultMessage:"After submitting the form, respondents will not have access to their submissions.",id:"FormShareMenu.submissionNoAccessTooltip"},submissionCanViewTooltip:{defaultMessage:"After submitting the form, respondents can view their submissions.",id:"FormShareMenu.submissionCanViewTooltip"},submissionCanCommentTooltip:{defaultMessage:"After submitting the form, respondents can comment on their submissions.",id:"FormShareMenu.submissionCanCommentTooltip"},submissionCanEditTooltip:{defaultMessage:"After submitting the form, respondents can edit their submissions.",id:"FormShareMenu.submissionCanEditTooltip"},submissionFullAccessTooltip:{defaultMessage:"After submitting the form, respondents will have full access to their submissions, including the ability to edit, delete, and share them.",id:"FormShareMenu.submissionFullAccessTooltip"},anonymousSubmissionPermissionsTooltip:{defaultMessage:"Turn off anonymous submissions to allow respondents to access their submissions",id:"FormShareMenu.anonymousSubmissionPermissionsTooltip"}});function Ce(e){let{formBlockStore:t,showCompactDesktopHeader:o}=e;const r=(0,V().ET)(),a=(0,n().Y0)(),l=(0,n().v3)(),d=(0,i.useRef)(null),c=(0,s().K8)((()=>r.formShareMenuButtonPopupStore),[r]),u=(0,s().K8)((()=>{var e;const o=t.getCreatedById(),i=null===(e=r.collectionViewStore())||void 0===e?void 0:e.id,n=o===l.currentUser.id,s=se().A.state.open;return!(!n||s||ae().A.state.openTooltip!==i)&&Q().default.isVisible(pe().FORMS_SHARE_CALLOUT_KEY)}),[l,t,r]),g=(0,i.useCallback)((()=>{C().dD({environment:l}),$().a(l,pe().FORMS_SHARE_CALLOUT_KEY)}),[l]);return(0,s().K8)((()=>(0,z().w6)(l)),[l])?null:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(I().Ay,{popupType:a.isPhone?I().z7.BottomSheet:I().z7.Popup,bottomSheetInitialState:"half",forceInitialInbound:!0,buttonPopupStore:c,renderOrigin:e=>(0,m.jsx)(L().A,{disableTooltip:a.isMobile||!o,renderTooltip:()=>(0,m.jsx)(v().sA,{defaultMessage:"Share form",id:"collectionViewBlock.formEditorView.shareForm"}),render:t=>(0,m.jsx)(N().A,{ref:d,style:{marginLeft:6},...(0,U().A)(t,e),children:a.isMobile||o?(0,m.jsx)(v().sA,{defaultMessage:"Share",id:"collectionViewBlock.formEditorView.shareFormMobile"}):(0,m.jsx)(v().sA,{defaultMessage:"Share form",id:"collectionViewBlock.formEditorView.shareForm"})})}),originGap:8,render:e=>(0,m.jsx)(ke,{formBlockStore:t,parent:e}),onClick:()=>{(0,k().u)({environment:l,event:{eventName:"share_form_clicked",eventProperties:{form_id:t.id}}})},onDismiss:()=>c.reset(),onClose:()=>c.reset()}),u&&(0,m.jsx)(Ae,{origin:d,onCloseClick:g})]})}function ke(e){let{formBlockStore:t,parent:o}=e;const r=(0,n().Y0)(),{formUrl:a,isFormPublic:l,isFormClosed:d}=(0,s().K8)((()=>({formUrl:(0,me().px)(t),isFormPublic:t.getIsFormPublic(),isFormClosed:t.getIsFormClosed()})),[t]),c=(0,s().K8)((()=>re().A.state.formShareMenuType),[]),u=d?null:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Be,{formBlockStore:t}),!l&&(0,m.jsx)(Pe,{formBlockStore:t}),l&&(0,m.jsx)(we,{}),l&&(0,m.jsx)(_e,{formBlockStore:t})]}),g=(0,n().v3)();(0,i.useEffect)((()=>{A().IU({environment:g}),M().clear({environment:g})}),[g]);let p={menuType:O().gu.Popup,maxHeight:"90vh",width:480};return r.isPhone&&(p={menuType:O().gu.Modal,title:(0,m.jsx)(v().sA,{id:"form.mobileFormShareMenu.title",defaultMessage:"Share Form"})}),(0,m.jsx)(F().A,{...p,className:K().GIL,children:(0,m.jsx)(B().A,{debugName:"ShareFormContainer",capture:!0,allowEsc:!0,children:(0,m.jsx)(D().A,{children:"initial"===c?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Ie,{formBlockStore:t}),u,(0,m.jsx)(Te,{formUrl:a})]}):(0,m.jsx)(je,{formBlockStore:t})})})})}function we(){return(0,m.jsx)(L().A,{renderTooltip:()=>W().A.formatMessage(Me.embedSettingRowTooltip),disableTooltip:!1,render:e=>(0,m.jsx)(T().A,{icon:(0,m.jsx)(_().I,{icon:c().codeIcon}),title:(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(v().sA,{...Me.embedSettingRowTitle}),(0,m.jsx)(R().Ee,{newBadgeKey:"publish_site_settings_embed_page",didUserEngage:!1,style:{display:"inline"},keyType:"date"})]}),focused:!1,disabled:!1,right:(0,m.jsx)(_().I,{icon:d().arrowChevronSingleRightSmallIcon,size:"sm",color:"tertiary"}),onClick:()=>{re().A.setState({...re().A.state,formShareMenuType:"embed"})},...e}),placement:ie().W.Left,textWrap:!0})}function je(e){const{formBlockStore:t}=e,{isMobile:o}=(0,n().Y0)(),i=(0,r().IS)((()=>({container:{display:"flex",flexDirection:"column",marginTop:8,marginBottom:o?0:8}})),[o]);return(0,m.jsxs)("div",{children:[(0,m.jsx)(Ne,{handleBackButtonClick:()=>{re().A.setState({...re().A.state,formShareMenuType:"initial"})}}),(0,m.jsx)("div",{style:i.container,children:(0,m.jsx)(oe().M,{currentBlockStore:t})})]})}function Te(e){const{formUrl:t}=e,[o,s]=(0,i.useState)(!1),a=(0,n().v3)(),{isMobile:l}=(0,n().Y0)(),d=(0,r().IS)((e=>({container:{display:"flex",flexDirection:"row",alignItems:"center",height:l?45:30,margin:8},urlInputWrapper:{position:"relative",flexGrow:1,height:l?45:30},urlInput:{borderTopLeftRadius:l?12:6,borderBottomLeftRadius:l?12:6,borderTopRightRadius:0,borderBottomRightRadius:0,boxShadow:"none",borderWidth:1,borderRightWidth:0,borderStyle:"solid",borderColor:e.outlineButtonBorder,padding:0,height:"100%",fontSize:l?16:14,backgroundColor:e.contentBackground},urlInputGradient:{position:"absolute",top:1,right:0,background:`linear-gradient(90deg,\n\t\t\t\t\t${e.contentBackgroundTransparent} 0%,\n\t\t\t\t\t${e.contentBackground} 90%)`,height:28,width:36},urlInputInner:{padding:6,paddingRight:0,backgroundColor:"transparent",border:"none"},copyLinkButton:{height:"100%",borderTopLeftRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:l?12:6,borderBottomRightRadius:l?12:6,gap:6}})),[l]);return(0,m.jsxs)("div",{style:d.container,children:[(0,m.jsxs)("div",{style:d.urlInputWrapper,children:[(0,m.jsx)(P().A,{style:d.urlInput,inputStyle:d.urlInputInner,value:t,readOnly:!0,disabled:!0}),(0,m.jsx)("div",{style:d.urlInputGradient})]}),(0,m.jsx)(L().A,{forceVisibleState:!!o||void 0,disableTooltip:!o,renderTooltip:()=>(0,m.jsx)(v().sA,{defaultMessage:"Copied",id:"database.collectionViewBlock.formEditorShareButton.copiedLinkToForm.tooltip"}),render:e=>(0,m.jsxs)(E().A,{size:"lg",style:d.copyLinkButton,onClick:async()=>{s(!0);(await x().R.clipboardActions.load()).copyString({stringValue:t,environment:a,copiedMessage:l?ge().l.copiedLinkToForm:void 0}),setTimeout((()=>{s(!1)}),1e3)},...e,children:[(0,m.jsx)(_().I,{icon:u().w,color:"secondary"}),(0,m.jsx)(v().sA,{defaultMessage:"Copy form link",id:"database.collectionViewBlock.formEditorShareButton.copyFormLink"})]})})]})}function Ie(e){let{formBlockStore:t}=e;const o=(0,n().v3)(),a=(0,r().DP)(),l=(0,V().ET)(),{canEditPermissions:d,collectionSchema:c}=(0,s().K8)((()=>{var e;const t=l.collectionViewBlockStore();return{canEditPermissions:!!t&&t.canEditMembership(),collectionSchema:null===(e=l.collectionStore())||void 0===e?void 0:e.getSchema()}}),[l]),u=(0,G().P)({store:t}),g=(0,s().K8)((()=>u.disabled&&"team"===u.disabledBy?Me.disabledPublishFormByTeamspace:u.disabled&&"space"===u.disabledBy?Me.disabledPublishFormByWorkspace:void 0),[u]),{currentSpaceStore:p}=(0,s().O$)(ne().default),f=(0,r().IS)((e=>({permissionOption:{display:"flex",alignItems:"center"},yellowBadge:{background:"light"===e.mode?e.palette.yellow[50]:e.palette.yellow[200],color:"light"===e.mode?e.palette.yellow[500]:e.palette.yellow[600]}})),[]),b=(0,s().K8)((()=>t.getIsFormPublic()),[t]),y=(0,s().K8)((()=>t.getIsFormClosed()),[t]),S=(0,s().K8)((()=>p?(0,H().GK)(o,p):""),[o,p]),x=(0,s().K8)((()=>{if(t)return J().dR({store:t,environment:o})}),[o,t]),A=(0,s().K8)((()=>null==x?void 0:x.mostPermissivePublicItem),[x]),M=(0,i.useCallback)((e=>{if(!A)return;const{permissionItem:i}=A;(0,q().Hc)({oldPermissionItem:i,newPermissionItem:e,wasInherited:!1,environment:o,store:t,sudoModeStore:void 0,location:void 0})}),[o,A,t]);return(0,m.jsx)(ye,{disabled:!d,icon:h().personCircleIcon,title:(0,m.jsx)(v().sA,{id:"formEditSettings.formPermissions.title",defaultMessage:"Who can fill out"}),disableTooltip:d,tooltipMessage:d?void 0:W().A.formatMessage(Me.disabledFormConfigurationPermissionTooltip),selectedKey:(0,me().C0)(b,y),options:[{key:"shared_to_space",tooltipMessage:W().A.formatMessage(Me.sharedToSpaceTooltip),title:(0,m.jsx)(v().sA,{id:"formEditSettings.formPermissions.spacePermission",defaultMessage:"Anyone at {spaceName} with link",values:{spaceName:S}})},{key:"shared_to_web",disabled:u.disabled,tooltipMessage:g?W().A.formatMessage(g):W().A.formatMessage(Me.sharedToWebTooltip),title:(0,m.jsxs)("div",{style:f.permissionOption,children:[(0,m.jsx)(v().sA,{id:"formEditSettings.formPermissions.publicPermission",defaultMessage:"Anyone on the web with link"}),(0,m.jsx)(j().A,{content:(0,m.jsx)(v().sA,{id:"formEditSettings.formPermissions.publicBadge",defaultMessage:"Public"}),style:f.yellowBadge})]})},{key:"closed",tooltipMessage:W().A.formatMessage(Me.closedFormTooltip),title:(0,m.jsxs)("div",{style:f.permissionOption,children:[(0,m.jsx)(v().sA,{id:"formEditSettings.formPermissions.noAccess",defaultMessage:"No access"}),(0,m.jsx)(j().A,{content:(0,m.jsx)(v().sA,{id:"formEditSettings.formPermissions.closedBadge",defaultMessage:"Closed"})})]})}],onChange:async e=>{const i=(0,me().C0)(b,y);switch(e){case"shared_to_space":pe().changeFormClosedState({environment:o,formBlockStore:t,isClosed:!1});const e=(0,ee().H)({store:t});M(e);break;case"shared_to_web":await pe().maybeAlertAboutUnsupportedPublicQuestions({environment:o,formBlockStore:t,collectionSchema:c,theme:a,onAccept:()=>{pe().changeFormClosedState({environment:o,formBlockStore:t,isClosed:!1}),te().d8({environment:o,type:"form",store:t,header:{hideBreadcrumbs:!0,hideSearch:!0}});const e=(0,X().y)({store:t,allowDuplicate:!1});M(e)}});break;case"closed":pe().changeFormClosedState({environment:o,formBlockStore:t,isClosed:!0})}(0,k().u)({environment:o,event:{eventName:"change_form_permissions",eventProperties:{form_id:t.id,old_permissions:i,new_permissions:e}}})}})}function Be(e){let{formBlockStore:t}=e;const o=(0,n().v3)(),i=(0,v().tz)(),r=(0,V().ET)(),a=(0,s().K8)((()=>r.permissionScopesStore.state.canConfigureBlock),[r]),l=(0,s().K8)((()=>t.getIsFormAnonymousSubmissionEnabled()),[t]),d=(0,s().K8)((()=>t.getIsFormPublic()),[t]),c=(0,s().K8)((()=>a?d?Me.anonymousFormSettingTooltipForPublicForms:l?Me.anonymousFormSettingTooltip:void 0:Me.disabledFormConfigurationAnonymousSubmissionTooltip),[a,d,l]);return(0,m.jsx)(Se,{icon:f().o,title:(0,m.jsx)(v().sA,{id:"formShareMenu.anonymousFormToggle.title",defaultMessage:"Anonymous responses"}),menuItemDisabled:!a||d,on:!!d||l,onClick:()=>{pe().toggleAnonymousFormSubmissionState({environment:o,formBlockStore:t}),(0,k().u)({environment:o,event:{eventName:"form_anonymous_responses_toggled",eventProperties:{form_id:t.id,is_anonymous:!l}}})},tooltipMessage:c?i.formatMessage(c):void 0,disableTooltip:!c})}function Pe(e){let{formBlockStore:t}=e;const o=(0,n().v3)(),i=(0,V().ET)(),r=(0,v().tz)(),a=(0,s().K8)((()=>{const e=i.collectionViewBlockStore();return!!e&&e.canEditMembership()}),[i]),d=(0,s().K8)((()=>t.getIsFormAnonymousSubmissionEnabled()),[t]),c=(0,s().K8)((()=>(0,l().m$)(t.getFormSubmissionPermissions(),d,t.getIsFormPublic())),[t,d]),u=(0,s().K8)((()=>a?d?Me.anonymousSubmissionPermissionsTooltip:void 0:Me.disabledFormConfigurationPermissionTooltip),[a,d]);return(0,m.jsx)(ye,{disabled:!a||d,icon:p,title:(0,m.jsx)(v().sA,{id:"formEditSettings.formSubmissionPermission.title",defaultMessage:"Access to submission"}),disableTooltip:!u,tooltipMessage:u?r.formatMessage(u):void 0,selectedKey:c,options:[{key:"none",tooltipMessage:W().A.formatMessage(Me.submissionNoAccessTooltip),title:(0,m.jsx)(v().sA,{id:"formEditSettings.formSubmissionPermission.noAccess",defaultMessage:"No access"})},{key:"reader",tooltipMessage:W().A.formatMessage(Me.submissionCanViewTooltip),title:(0,m.jsx)(v().sA,{id:"formEditSettings.formSubmissionPermission.canView",defaultMessage:"Can view"})},{key:"comment_only",tooltipMessage:W().A.formatMessage(Me.submissionCanCommentTooltip),title:(0,m.jsx)(v().sA,{id:"formEditSettings.formSubmissionPermission.canComment",defaultMessage:"Can comment"})},{key:"read_and_write",tooltipMessage:W().A.formatMessage(Me.submissionCanEditTooltip),title:(0,m.jsx)(v().sA,{id:"formEditSettings.formSubmissionPermission.canEdit",defaultMessage:"Can edit"})},{key:"editor",tooltipMessage:W().A.formatMessage(Me.submissionFullAccessTooltip),title:(0,m.jsx)(v().sA,{id:"formEditSettings.formSubmissionPermission.fullAccess",defaultMessage:"Full access"})}],onChange:e=>{pe().changeFormSubmissionPermissions({environment:o,formBlockStore:t,permissions:e}),(0,k().u)({environment:o,event:{eventName:"change_form_submission_permissions",eventProperties:{form_id:t.id,old_permissions:c,new_permissions:e}}})}})}const Fe=200;function _e(e){var t;let{formBlockStore:o}=e;const i=(0,r().DP)(),a=(0,n().v3)(),l=(0,s().K8)((()=>o.getSiteStore()),[o]),d=(0,Y().O)(),c=(0,ce()._X)({name:"unbranded_forms",spaceId:d,userId:null===(t=a.currentUser)||void 0===t?void 0:t.id}),u=null==c?void 0:c.upsell,g=(0,s().K8)((()=>(0,H().s7)(a)),[a]),p=(0,s().K8)((()=>{var e;return!!l&&!(null!==(e=l.getHeader())&&void 0!==e&&e.hideWatermark)}),[l]);if(!l)return null;const h=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Re,{}),(0,m.jsx)("div",{style:{width:Fe},children:c?(0,ce().N9)(c,{unavailable:()=>g?W().A.formatMessage(Me.notionBrandingDisabledTooltip):W().A.formatMessage(Me.notionBrandingDisabledTooltipNonWorkspaceOwner),available:()=>W().A.formatMessage(Me.notionBrandingTooltip)}):(0,m.jsx)("div",{})})]});return(0,m.jsx)(Se,{icon:"light"===i.mode?y().notionIcon:b().notionDarkModeIcon,title:(0,m.jsxs)(w().Y1,{direction:"horizontal",align:"center-left",gap:8,children:[(0,m.jsx)(v().sA,{id:"formShareMenu.publicForms.notionBranding.title",defaultMessage:"Notion branding"}),"unavailable"===(null==c?void 0:c.type)&&u&&(0,m.jsx)(ue().K,{upsell:u,source:"forms_notion_branding",display:"icon",children:(0,m.jsx)(de().B,{upsell:u,analyticsName:"forms_notion_branding",disableTooltip:!0})})]}),toggleDisabled:!(0,S().e2)(c),menuItemDisabled:!g,on:p||!(0,S().e2)(c),onClick:()=>{"unavailable"===(null==c?void 0:c.type)&&"product"===(null==u?void 0:u.type)?le().K(a,{upsell:u,from:"forms_notion_branding"}):pe().toggleNotionBrandingState({environment:a,formBlockStore:o})},tooltipMessage:h})}function Re(){const e=(0,r().DP)(),t=(0,v().tz)(),o=(0,r().IS)((e=>({notionBrandingBaseImage:{width:Fe,borderRadius:4},brandingPreview:{display:"flex",position:"absolute",top:"36%",left:"44%",transform:"translateX(-50%)"},linkIcon:{width:17,height:void 0,marginRight:4,color:e.icon.primary}})),[]);return(0,m.jsxs)("div",{style:{paddingTop:4},children:[(0,m.jsx)("img",{src:"light"===e.mode?a().A.images.forms.formsNotionBrandingTooltipPng:a().A.images.forms.formsNotionBrandingTooltipDarkPng,alt:t.formatMessage({id:"FormShareMenu.MadeWithNotion.accessibility.label",defaultMessage:"Made with Notion"}),style:o.notionBrandingBaseImage}),(0,m.jsxs)("div",{style:o.brandingPreview,children:[(0,u().w)(o.linkIcon),(0,m.jsx)(Ee,{})]})]})}function Ee(){const e=(0,r().DP)(),t=(0,r().IS)((e=>({watermarkButton:{marginLeft:8,color:e.text.primary},notionLogo:{width:14,height:14,marginLeft:6}})),[]);return(0,m.jsxs)(E().A,{size:"lg",style:t.watermarkButton,children:[(0,m.jsx)(v().sA,{defaultMessage:"Made with",id:"topbar.publicPage.cta.label.madeWithNotion"}),"light"===e.mode?(0,y().notionIcon)(t.notionLogo):(0,b().notionDarkModeIcon)(t.notionLogo)]})}function Ne(e){const t=(0,r().IS)((e=>({container:{display:"flex",padding:"0 12px 0 8px",height:40,borderBottom:`1px solid ${e.stroke.secondary}`}})),[]);return(0,m.jsx)("div",{style:t.container,children:(0,m.jsx)(Z().oq,{onClick:e.handleBackButtonClick,titleMessage:(0,m.jsx)(v().sA,{...Me.embedSettingRowTitle})})})}},835755:(e,t,o)=>{o.d(t,{p:()=>n});o(296540);var i=o(474848);const n=(0,o(340498).wt)("collectionDescriptionSmall",{viewBox:"0 0 14 14",svg:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4.667C6.69049 4.667 6.39366 4.54405 6.17481 4.32519C5.95595 4.10634 5.833 3.80951 5.833 3.5C5.833 3.19049 5.95595 2.89366 6.17481 2.67481C6.39366 2.45595 6.69049 2.333 7 2.333C7.30951 2.333 7.60634 2.45595 7.82519 2.67481C8.04405 2.89366 8.167 3.19049 8.167 3.5C8.167 3.80951 8.04405 4.10634 7.82519 4.32519C7.60634 4.54405 7.30951 4.667 7 4.667V4.667ZM8 11C8 11.2652 7.89464 11.5196 7.70711 11.7071C7.51957 11.8946 7.26522 12 7 12C6.73478 12 6.48043 11.8946 6.29289 11.7071C6.10536 11.5196 6 11.2652 6 11V7C6 6.73478 6.10536 6.48043 6.29289 6.29289C6.48043 6.10536 6.73478 6 7 6C7.26522 6 7.51957 6.10536 7.70711 6.29289C7.89464 6.48043 8 6.73478 8 7V11ZM7 0C5.14348 0 3.36301 0.737498 2.05025 2.05025C0.737498 3.36301 0 5.14348 0 7C0 8.85652 0.737498 10.637 2.05025 11.9497C3.36301 13.2625 5.14348 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0V0Z"})})},851775:(e,t,o)=>{o.d(t,{A:()=>r});var i=()=>o(194188),n=()=>o(10123),s=()=>o(570551);function r(e,t){(0,s().A)(2,arguments);var o=(0,n().A)(e),r=(0,i().A)(t),a=o.getFullYear(),l=o.getDate(),d=new Date(0);d.setFullYear(a,r,15),d.setHours(0,0,0,0);var c=function(e){(0,s().A)(1,arguments);var t=(0,n().A)(e),o=t.getFullYear(),i=t.getMonth(),r=new Date(0);return r.setFullYear(o,i+1,0),r.setHours(0,0,0,0),r.getDate()}(d);return o.setMonth(r,Math.min(l,c)),o}},883626:(e,t,o)=>{o.d(t,{Hs:()=>n,nw:()=>r,vI:()=>a});var i=()=>o(720665);const n=100,s=5*i().Xb,r=15*i().TD;function a(e){return!!e.sendDateMs&&Date.now()-e.sendDateMs<=s}},894074:(e,t,o)=>{o.d(t,{A:()=>l});var i=()=>o(10123),n=()=>o(851775),s=()=>o(194188),r=()=>o(570551);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){if((0,r().A)(2,arguments),"object"!==a(t)||null===t)throw new RangeError("values parameter must be an object");var o=(0,i().A)(e);return isNaN(o.getTime())?new Date(NaN):(null!=t.year&&o.setFullYear(t.year),null!=t.month&&(o=(0,n().A)(o,t.month)),null!=t.date&&o.setDate((0,s().A)(t.date)),null!=t.hours&&o.setHours((0,s().A)(t.hours)),null!=t.minutes&&o.setMinutes((0,s().A)(t.minutes)),null!=t.seconds&&o.setSeconds((0,s().A)(t.seconds)),null!=t.milliseconds&&o.setMilliseconds((0,s().A)(t.milliseconds)),o)}},928153:(e,t,o)=>{o.d(t,{C:()=>a});var i=()=>o(534177),n=()=>o(247450),s=()=>o(765957),r=()=>o(108944);function a(e){let{store:t}=e;const o=(0,n().h)({blockId:t.id,setting:"publicAccess"});if((0,i().O9)(o))return o;const a=s().default.state.currentSpaceStore,l=(0,r().Uo)(t);return l?{disabled:Boolean(l.getDisablePublicAccess()),disabledBy:"team"}:!l&&null!=a&&a.getDisablePublicAccess()?{disabled:!0,disabledBy:"space"}:{disabled:!1}}},954845:(e,t,o)=>{o.d(t,{J:()=>n});o(296540);var i=o(474848);const n=(0,o(340498).wt)("blueCircleDot",{viewBox:"0 0 16 16",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("circle",{cx:"8",cy:"8",r:"8",fill:"none",stroke:"#2383E2",children:[(0,i.jsx)("animate",{attributeName:"r",from:"3",to:"8",dur:"1s",begin:"0s",repeatCount:"indefinite"}),(0,i.jsx)("animate",{attributeName:"opacity",from:"1",to:"0",dur:"1s",begin:"0s",repeatCount:"indefinite"})]}),(0,i.jsx)("circle",{cx:"8",cy:"8",r:"3",fill:"#2383E2"})]})})}}]);