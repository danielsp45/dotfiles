"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[22542],{563015:(e,n,a)=>{a.d(n,{eJ:()=>b,ew:()=>m,ml:()=>l,rA:()=>y,yI:()=>d,zf:()=>p});a(581454);var t=()=>a(496603),r=()=>a(534177),o=()=>a(708685),i=()=>a(145076),s=()=>a(349835),c=()=>a(977345);function u(e){switch(e){case"checkbox":return"boolean";case"number":return"number";case"text":return"text";case"date":return"date";case"array":return"array";case"block":return"block";case"person":return"person";case"select":return"select";case"function":return"function";case"unknown":return"unknown";case"undefined":return"undefined";default:(0,r().HB)(e)}}function l(e){switch(e.type){case s().M9.InvalidCharacter:return{...i().x0.InvalidCharacter,values:{errorCharacter:e.character}};case s().M9.UnclosedStringLiteral:return i().x0.UnclosedStringLiteral;case s().M9.UnclosedComment:return i().x0.UnclosedComment;case s().M9.TokenExpected:return{...i().x0.TokenExpected,values:{expectedToken:e.token}};case s().M9.StringLiteralContainsToken:return i().x0.StringLiteralContainsToken;case s().M9.ExpressionExpected:return i().x0.ExpressionExpected;case s().M9.PropertyTokenOrFunctionExpected:return i().x0.PropertyTokenOrFunctionExpected;case s().M9.EndOfInputExpected:return i().x0.EndOfInputExpected;case s().M9.UnexpectedError:return i().x0.UnexpectedError;case s().M9.TooDeeplyNested:return i().x0.TooDeeplyNested;default:(0,r().HB)(e)}}function p(e){switch(e.type){case s().IA.FunctionCallArgumentWrongType:case s().IA.FunctionCallUnexpectedArgument:return e.argument;default:return e.node}}function y(e,n){let a;switch(n.type){case s().IA.ThisRowTypeNotFound:a=i().Xz.ThisRowTypeNotFound;break;case s().IA.ThisRowNotBlockWithCollection:a=i().Xz.ThisRowNotBlockWithCollection;break;case s().IA.MissingPropertyOnThisRow:a={...i().Xz.MissingPropertyOnThisRow,values:{propertyName:n.property}};break;case s().IA.MissingContextVariable:{const e=(0,c().ix)(n.token)?n.token.contextValueId:n.token.valueId;a={...i().Xz.MissingContextVariable,values:{valueId:e}}}break;case s().IA.MissingBlock:a={...i().Xz.MissingBlock,values:{blockId:n.token.blockId}};break;case s().IA.CallingNotFunction:a={...i().Xz.CallingNotFunction,values:{expressionType:u(n.callee.type.type)}};break;case s().IA.FunctionCallTooFewArguments:a={...i().Xz.FunctionCallTooFewArguments,values:{minNumParameters:n.minNumParameters,functionName:n.libraryFunction.name,numArguments:n.numArguments}};break;case s().IA.FunctionCallUnexpectedArgument:a={...i().Xz.FunctionCallUnexpectedArgument,values:{functionName:n.libraryFunction.name}};break;case s().IA.FunctionCallArgumentWrongType:a={...i().Xz.FunctionCallArgumentWrongType,values:{argumentType:u(n.argument.type.type),functionName:n.libraryFunction.name}};break;case s().IA.MemberPropertyMismatchCollection:a={...i().Xz.MemberPropertyMismatchCollection,values:{propertyName:n.token.property}};break;case s().IA.MemberPropertyMissing:a={...i().Xz.MemberPropertyMissing,values:{propertyName:n.property}};break;case s().IA.MemberPropertyTargetNotBlock:a=i().Xz.MemberPropertyTargetNotBlock;break;case s().IA.MemberPropertyTypeInvalid:a={...i().Xz.MemberPropertyTypeInvalid,values:{propertyName:n.propertyName,propertyType:n.propertyType}};break;case s().IA.UndefinedIdentifier:a={...i().Xz.UndefinedIdentifier,values:{identifier:n.node.text}};break;case s().IA.UnifiedFunctionCannotFindFunction:a={...i().Xz.UnifiedFunctionCannotFindFunction,values:{functionName:n.name}};break;case s().IA.UnifiedFunctionNoArguments:a={...i().Xz.UnifiedFunctionNoArguments,values:{functionName:n.libraryFunction.name}};break;case s().IA.UnifiedFunctionTargetWrongType:a={...i().Xz.UnifiedFunctionTargetWrongType,values:{functionName:n.libraryFunction.name,targetType:u(n.expression.type.type)}};break;case s().IA.CannotRelativelyCompareTypes:a={...i().Xz.CannotRelativelyCompareTypes,values:{lhsType:u(n.lhsType.type),rhsType:u(n.rhsType.type)}};break;case s().IA.CannotDoMathOnType:a={...i().Xz.CannotDoMathOnType,values:{lhsType:u(n.lhsType.type),rhsType:u(n.rhsType.type)}};break;case s().IA.UnaryMinusOnNonNumber:a={...i().Xz.UnaryMinusOnNonNumber,values:{type:u(n.expression.type.type)}};break;case s().IA.IdentifierExpected:a=i().Xz.IdentifierExpected;break;case s().IA.FunctionCallExpected:a={...i().Xz.FunctionCallExpected,values:{functionName:n.functionName}};break;case s().IA.RenamedIdentifier:a={...i().Xz.RenamedIdentifier,values:{identifier:n.identifier,renamedTo:n.renamedTo}};break;case s().IA.RemovedFunction:a={...i().Xz.RemovedFunction,values:{functionName:n.functionName,alternative:n.alternative}};break;case s().IA.ContextVariableNotBlockWithCollection:a={...i().Xz.ContextVariableNotBlockWithCollection,values:{valueId:n.token.contextValueId}};break;case s().IA.MissingPropertyOnContextVariable:a={...i().Xz.MissingPropertyOnContextVariable,values:{propertyName:n.property,valueId:n.token.contextValueId}};break;case s().IA.BlockPropertyTypeInvalid:a={...i().Xz.BlockPropertyTypeInvalid,values:{propertyName:n.propertyName}};break;case s().IA.DisallowedReturnType:{const t=n.allowedReturnTypes.map((n=>e.formatMessage((0,o().getHumanReadableType)(n)).toLocaleLowerCase()));a={...i().Xz.DisallowedReturnType,values:{allowedReturnType:e.formatList(t,{style:"long",type:"conjunction"}),allowedReturnTypeCount:n.allowedReturnTypes.length,returnType:e.formatMessage((0,o().getHumanReadableType)(n.returnType)).toLocaleLowerCase()}};break}case s().IA.CrossSpacePropertyNotSupported:a={...i().Xz.CrossSpacePropertyNotSupported};break;default:(0,r().HB)(n)}return{...a,values:{...a.values,startOffset:n.node.startOffset,endOffset:n.node.endOffset+1}}}function d(e,n){let a;switch(n.type){case s().uW.MissingThisRow:a=i().X8.MissingThisRow;break;case s().uW.MissingSchemaPropertyOnThisRow:a={...i().X8.MissingSchemaPropertyOnThisRow,values:{propertyName:n.property}};break;case s().uW.ThisRowBlockPropertyMismatchCollection:a=i().X8.ThisRowBlockPropertyMismatchCollection;break;case s().uW.MissingContextVariable:a={...i().X8.MissingContextVariable,values:{valueId:n.valueId}};break;case s().uW.IdentifierNotFound:a={...i().X8.IdentifierNotFound,values:{identifier:n.node.text}};break;case s().uW.CannotRelativelyCompareTypes:a={...i().X8.CannotRelativelyCompareTypes,values:{lhsType:u(n.lhsType),rhsType:u(n.rhsType)}};break;case s().uW.CannotDoMathOnType:a={...i().X8.CannotDoMathOnType,values:{valueType:u(n.valueType)}};break;case s().uW.CannotCallNonFunction:a={...i().X8.CannotCallNonFunction,values:{calleeType:u(n.calleeType)}};break;case s().uW.UnifiedFunctionPropertyNotFound:a={...i().X8.UnifiedFunctionPropertyNotFound,values:{functionName:n.node.name}};break;case s().uW.LibraryFunctionExecutionError:const t=n.error instanceof s().x4?n.error:void 0;a=(null==t?void 0:t.info.type)===s().v3.DateInvalidDurationUnit?{...i().gW.DateInvalidDurationUnit,values:{functionName:n.libraryFunction.name,invalidUnit:t.info.invalidUnit}}:(null==t?void 0:t.info.type)===s().v3.CannotUseToNumberOnList?{...i().gW.CannotUseToNumberOnList}:(null==t?void 0:t.info.type)===s().v3.CannotRoundToNonInteger?{...i().gW.CannotRoundToNonInteger,values:{precision:t.info.precision}}:(null==t?void 0:t.info.type)===s().v3.CannotRoundToTooManyDecimalPlaces?{...i().gW.CannotRoundToTooManyDecimalPlaces,values:{precision:t.info.precision}}:{...i().X8.LibraryFunctionExecutionError,values:{functionName:n.libraryFunction.name}};break;case s().uW.FunctionCallTooFewArguments:a={...i().X8.FunctionCallTooFewArguments,values:{functionName:n.libraryFunction.name}};break;case s().uW.FunctionCallUnexpectedArgument:a={...i().X8.FunctionCallUnexpectedArgument,values:{functionName:n.libraryFunction.name}};break;case s().uW.FunctionCallArgumentWrongType:a={...i().X8.FunctionCallArgumentWrongType,values:{functionName:n.libraryFunction.name,argumentType:u(n.argumentType)}};break;case s().uW.AccessingPropertyOnNonBlock:a=i().X8.AccessingPropertyOnNonBlock;break;case s().uW.MissingDataDependencyBlock:a={...i().X8.MissingDataDependencyBlock,values:{blockId:n.blockPointer.id}};break;case s().uW.MissingDataDependencyPerson:a={...i().X8.MissingDataDependencyPerson,values:{personId:n.personPointer.id}};break;case s().uW.MemberPropertyMismatchCollection:a=i().X8.MemberPropertyMismatchCollection;break;case s().uW.MissingPropertyOnSchemaForMemberProperty:a=i().X8.MissingPropertyOnSchemaForMemberProperty;break;case s().uW.UnaryMinusOnNonNumber:a={...i().X8.UnaryMinusOnNonNumber,values:{expressionType:u(n.expressionType)}};break;case s().uW.UnexpectedRecoveryNode:a=i().X8.UnexpectedRecoveryNode;break;case s().uW.UnexpectedError:a=i().X8.UnexpectedError;break;case s().uW.DepthExceeded:a=i().X8.DepthExceeded;break;case s().uW.CycleDetected:a=i().X8.CycleDetected;break;case s().uW.DownstreamParseFailure:a=i().X8.DownstreamParseFailure;break;case s().uW.MaxEvaluationTimeExceeded:a=i().X8.MaxEvaluationTimeExceeded;break;case s().uW.MissingSchemaPropertyOnCollection:a={...i().X8.MissingSchemaPropertyOnCollection,values:{collectionId:n.collectionId,propertyName:n.property}};break;case s().uW.ContextVariableWrongType:a={...i().X8.ContextVariableWrongType,values:{expectedType:n.expectedType,propertyType:n.resultType,valueId:n.valueId}};break;case s().uW.DisallowedValueType:{const t=n.allowedValueTypes.map((n=>e.formatMessage((0,o().getHumanReadableType)(n)).toLocaleLowerCase()));a={...i().Xz.DisallowedReturnType,values:{allowedValueType:e.formatList(t,{style:"long",type:"conjunction"}),allowedValueTypeCount:n.allowedValueTypes.length,valueType:e.formatMessage((0,o().getHumanReadableValueType)(n.expressionValue)).toLocaleLowerCase()}};break}default:(0,r().HB)(n)}return(0,c().li)(n)?{...a,values:{...a.values,startOffset:n.node.startOffset,endOffset:n.node.endOffset+1}}:a}function m(e){const n=null==e?void 0:e.values;return[t().cJ(e,"values"),n]}function b(e){return e.type===s().uW.DepthExceeded||e.type===s().uW.CycleDetected||e.type===s().uW.MaxEvaluationTimeExceeded||e.type===s().uW.LibraryFunctionExecutionError}}}]);