"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[39301],{26082:(e,t,i)=>{i.d(t,{Y:()=>o});i(296540);var n=i(474848);const o=(0,i(340498).wt)("facebook",{viewBox:"0 0 18 18",svg:(0,n.jsx)("path",{d:"M17.999 8.999c0-4.97-4.029-8.999-8.999-8.999s-8.999 4.029-8.999 8.999c0 4.492 3.291 8.215 7.593 8.89v-6.289h-2.285v-2.601h2.285v-1.983c0-2.255 1.344-3.501 3.399-3.501 0.985 0 2.015 0.176 2.015 0.176v2.215h-1.135c-1.118 0-1.467 0.694-1.467 1.405v1.688h2.496l-0.399 2.601h-2.097v6.289c4.302-0.675 7.593-4.398 7.593-8.89z"})})},138372:(e,t,i)=>{i.d(t,{H:()=>o});var n=()=>i(217429);function o(e){const{store:t}=e,i=t.getPublicPermission()??{type:"public_permission",role:"none"},{is_public_share_link:o}=i;return n().default.checkGate({gateName:"sharing_anyone_with_the_link"})?o?{...i,is_site:!1}:{...i,role:"none",is_site:!1}:{...i,is_site:!1,role:"none"}}},157529:(e,t,i)=>{i.d(t,{A:()=>b});var n=i(296540),o=()=>i(56366),s=()=>i(401497),a=()=>i(584262),l=()=>i(926401),r=()=>i(500066),d=()=>i(296798),c=()=>i(187820),u=()=>i(16006),p=()=>i(492414),g=()=>i(553965),h=()=>i(915019),m=()=>i(404141),S=i(474848);function b(e){const{store:t,style:i,hideIcon:b}=e,x=(0,o().K8)((()=>{if(t)return{icon:t.getIcon(),isEmptyPage:t.isEmptyPage(),url:(0,p().J8)({store:t,pageVisitSource:a().y8.SiteSettings})}}),[t]),f=(0,n.useCallback)((e=>{e.metaKey||m().A.setState({...m().A.state,open:!1})}),[]),v=(0,s().IS)((e=>({container:{display:"flex",alignItems:"center",overflow:"hidden",cursor:"default"},emptyPageIcon:{height:18,width:18,fill:e.palette.gray[500]},iconContainer:{position:"relative",width:20,height:20,marginRight:4},linkBox:{borderRadius:3,maxWidth:"100%"},linkIcon:{position:"absolute",width:10,height:10,right:0,bottom:0},pageRecordContainer:{display:"flex",alignItems:"center",paddingTop:2,paddingBottom:2,paddingRight:4,paddingLeft:4,...i},pageTitle:{wordBreak:"break-word",borderBottom:"0.05em solid rgba(55,53,47,.25)"}})),[i]);if(!t||!x)return null;const y=(0,S.jsxs)("div",{style:v.pageRecordContainer,children:[!b&&(0,S.jsxs)("div",{style:v.iconContainer,children:[x.icon?(0,S.jsx)(c().B6,{icon:x.icon,store:t,disabled:!0,size:16,isEmptyPage:x.isEmptyPage,emojiSize:20}):(0,l().n)(v.emptyPageIcon),(0,r().G)(v.linkIcon)]}),(0,S.jsx)(u().A,{store:t,style:v.pageTitle})]});return(0,S.jsx)("div",{style:v.container,children:(0,S.jsx)(h().A,{store:t,render:e=>(0,S.jsx)(d().A,{href:null==x?void 0:x.url,style:v.linkBox,...(0,g().A)(e,{onClick:f}),children:y})})})}},182242:(e,t,i)=>{i.d(t,{G:()=>c});i(296540);var n=()=>i(484714),o=()=>i(56366),s=()=>i(401497),a=()=>i(883234),l=()=>i(125565),r=()=>i(562800),d=i(474848);function c(e){const{domain:t,style:i}=e,{device:c}=(0,n().v3)(),[u,p]=(0,o().K8)((()=>[t?r().MN({domainName:t.getDomainName(),domainType:t.getDomainType()}):"",null==t?void 0:t.getDomainStatus()]),[t]),g=(0,s().IS)((e=>({container:{display:"flex",alignItems:"center",gap:6,maxWidth:c.isMobile?185:320},label:{color:"payment_required"===p?e.text.uiRedPrimary:void 0,flex:1},chevronIcon:{height:10,width:10,fill:"payment_required"===p?e.text.uiRedSecondary:e.icon.tertiary}})),[c,p]);return(0,d.jsxs)("div",{style:{...g.container,...i},children:[(0,d.jsx)(l().A,{style:g.label,children:u}),(0,a()._)(g.chevronIcon)]})}},274065:(e,t,i)=>{i.r(t),i.d(t,{gearSmallIcon:()=>s,iconDefinition:()=>o});i(296540);var n=i(474848);const o={viewBox:"0 0 16 16",fittedViewBox:"2.14 2.13 11.77 11.77",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M8 10.15c-1.19 0-2.15-.96-2.15-2.15S6.81 5.85 8 5.85s2.15.96 2.15 2.15-.96 2.15-2.15 2.15M8.9 8c0-.5-.4-.9-.9-.9s-.9.4-.9.9.4.9.9.9.9-.4.9-.9"}),(0,n.jsx)("path",{d:"M13.27 6.42c.26.04.46.24.51.5l.03.02c.06.34.1.7.1 1.06 0 .39-.04.77-.11 1.15-.05.26-.26.46-.51.5l-.98.17.57.8c.15.21.15.5 0 .71-.2.29-.43.57-.68.82-.28.28-.58.53-.89.74-.21.15-.5.15-.71 0l-.82-.58-.17.97c-.04.26-.24.46-.5.51-.35.06-.71.1-1.06.1-.39 0-.77-.04-1.15-.11a.63.63 0 0 1-.5-.51l-.17-.98-.8.57c-.21.15-.5.15-.71 0-.29-.2-.57-.43-.82-.68-.28-.28-.53-.57-.74-.89a.62.62 0 0 1 0-.71l.57-.82-.97-.17a.62.62 0 0 1-.51-.5c-.07-.35-.1-.7-.1-1.06 0-.4.04-.78.11-1.15.05-.26.26-.46.51-.5l.98-.17-.57-.8a.62.62 0 0 1 0-.71c.2-.29.43-.57.68-.82.28-.28.57-.53.89-.74.22-.15.5-.15.71 0l.81.57.17-.97c.04-.26.24-.46.5-.51.35-.07.71-.1 1.06-.1.39 0 .77.04 1.14.11.26.05.46.26.5.51l.17.98.8-.57c.21-.14.49-.15.71 0 .29.2.57.43.82.68.29.28.53.58.74.89.15.21.15.5 0 .71l-.58.81zM8 3.38v.02c-.13 0-.27.01-.41.02l-.16.94c-.04.23-.21.42-.43.49-.16.05-.32.11-.48.19-.21.1-.45.08-.64-.05l-.79-.56c-.12.1-.24.21-.35.32s-.2.21-.29.32l.55.77c.13.19.15.44.04.65-.08.14-.14.29-.2.47-.08.22-.26.38-.49.42l-.95.16c-.02.16-.02.32-.02.48 0 .15.01.29.02.43l.94.16c.23.04.42.21.49.43.05.15.11.31.19.47.1.21.08.45-.05.64l-.56.79c.1.12.21.24.32.35l.105.097q.104.101.215.193l.77-.55c.19-.13.44-.15.65-.04.14.08.29.14.47.2.22.08.38.26.42.49l.16.95c.3.03.62.03.9 0l.16-.94c.04-.23.21-.42.43-.49.15-.05.31-.11.47-.19.21-.1.45-.08.64.05l.79.55c.12-.1.24-.21.35-.32l.097-.105q.101-.105.193-.215L11 10.2a.63.63 0 0 1-.04-.65c.08-.14.14-.29.2-.47.08-.22.26-.38.49-.42l.95-.16c.02-.16.02-.32.02-.48s-.01-.3-.02-.43l-.94-.16a.63.63 0 0 1-.49-.43 3 3 0 0 0-.19-.48c-.1-.21-.08-.45.05-.64l.56-.79c-.1-.12-.21-.24-.32-.35s-.21-.2-.32-.29l-.77.55c-.19.13-.44.15-.65.04-.14-.08-.29-.14-.47-.2a.64.64 0 0 1-.42-.49l-.16-.95A4 4 0 0 0 8 3.38"})]})},s=(0,i(340498).wt)("gearSmall",o)},348651:(e,t,i)=>{i.r(t),i.d(t,{default:()=>Yt});var n=i(296540),o=()=>i(484714),s=()=>i(56366),a=()=>i(401497),l=()=>i(68263),r=()=>i(2220),d=()=>i(976721),c=()=>i(525700),u=()=>i(578872);function p(){const e=(0,o().v3)();return(0,s().K8)((()=>e.WindowSizeStore.getSafePaddingLeftCSS(8)),[e])}var g=()=>i(380682),h=()=>i(413582),m=()=>i(584262),S=()=>i(919709),b=()=>i(959013),x=()=>i(496603),f=()=>i(284371),v=()=>i(703875),y=()=>i(679924);var j=()=>i(939740),k=()=>i(864943),C=()=>i(204063),_=()=>i(89924),w=()=>i(859428),I=()=>i(780054),A=()=>i(878377),T=()=>i(640653),M=()=>i(963589),B=()=>i(447934),R=()=>i(138372),E=()=>i(716979),P=()=>i(562800),D=()=>i(962730),L=()=>i(765957),V=()=>i(217429),K=()=>i(404141),O=()=>i(676870),z=()=>i(435212),W=()=>i(242565),N=()=>i(209660),F=()=>i(493823),U=()=>i(125565),H=i(474848);const Y=(0,b().YK)({allSiteSettingsTitle:{defaultMessage:"Manage all sites",id:"publishSiteSettings.allSites.settingTitle"}});function G(e){let{store:t}=e;const i=(0,o().v3)(),{isMobile:l}=i.device,r=(0,s().K8)((()=>{const e=L().default.state.currentSpaceStore;return!l&&!(0,T().IL)(e)}),[l]),d=(0,M().X)("public_pages_settings_tab"),c=(0,n.useCallback)((()=>{N().Ow({currentTab:d?"public_pages":"sites"})}),[d]),u=(0,a().IS)((e=>({button:{height:32,color:e.text.secondary,fontWeight:void 0,paddingLeft:8}})),[]);return i.device.isMobile||!r?null:(0,H.jsx)(F().p,{onClick:c,style:u.button,children:(0,H.jsx)(U().A,{isSecondaryColor:!0,children:(0,H.jsx)(b().sA,{...Y.allSiteSettingsTitle})})})}var q=()=>i(8980),$=()=>i(585293);function X(e,t){return(0,H.jsx)($().a,{role:"button",...e,ref:t,title:(0,H.jsx)(b().sA,{defaultMessage:"Site customization",id:"publishSiteSettings.customizeSite.settingTitle"}),icon:(0,H.jsx)(q().I,{icon:i(594952).I,color:"secondary"})})}const Z=n.forwardRef(X);var Q=()=>i(801494),J=()=>i(742117),ee=()=>i(972435),te=()=>i(553965);const ie=(0,b().YK)({embedPageTitleTooltip:{defaultMessage:"Embed this page in other websites outside of Notion",id:"publishSiteSettings.embed.settingTitleTooltip"}});function ne(e,t){const n=(0,a().IS)((e=>({chevronIcon:{height:12,width:12,fill:e.icon.tertiary}})),[]);return(0,H.jsx)(w().A,{renderTooltip:()=>ee().A.formatMessage(ie.embedPageTitleTooltip),disableTooltip:!1,render:o=>(0,H.jsx)($().a,{...(0,te().A)(e,o),ref:t,title:(0,H.jsx)(b().sA,{defaultMessage:"Embed this page",id:"publishSiteSettings.embed.settingTitle"}),icon:(0,H.jsx)(q().I,{icon:i(481721).codeIcon,color:"secondary"}),right:(0,J().V)(n.chevronIcon),badge:(0,H.jsx)(i(147294).Ee,{newBadgeKey:"publish_site_settings_embed_page",didUserEngage:!1,keyType:"date",style:{display:"inline"}})}),placement:D().W.Bottom,alignment:D().C.Center,textWrap:!0,style:{maxWidth:W().SITE_SETTINGS_TOOLTIP_WIDTH}})}const oe=n.forwardRef(ne);var se=()=>i(439616);function ae(e,t){const{siteRootBlockStore:n,permissionItem:o}=e,l=(0,s().K8)((()=>u().ZV(n,o)),[n,o]),r=(0,a().IS)((e=>({chevronIcon:{height:12,width:12,fill:e.icon.tertiary}})),[]);return(0,H.jsx)($().a,{...e,ref:t,title:(0,H.jsx)(b().sA,{defaultMessage:"Search engine indexing",id:"publishSiteSettings.SEO.settingTitle"}),icon:(0,H.jsx)(q().I,{icon:i(207207).J,color:"secondary"}),right:(0,H.jsxs)(H.Fragment,{children:[l?(0,H.jsx)(b().sA,{defaultMessage:"On",id:"publishSiteSettings.SEO.valueOn"}):(0,H.jsx)(b().sA,{defaultMessage:"Off",id:"publishSiteSettings.SEO.valueOff"}),(0,J().V)(r.chevronIcon)]})})}const le=n.forwardRef(ae);var re=()=>i(864896);const de=(0,b().YK)({shareViaSocialTooltip:{defaultMessage:"Share this page on social media",id:"publishSiteSettings.shareViaSocial.settingTitleTooltip"}});function ce(e,t){const i=(0,a().IS)((e=>({chevronIcon:{height:12,width:12,fill:e.icon.tertiary}})),[]);return(0,H.jsx)(w().A,{renderTooltip:()=>ee().A.formatMessage(de.shareViaSocialTooltip),disableTooltip:!1,render:n=>(0,H.jsx)($().a,{...(0,te().A)(e,n),ref:t,title:(0,H.jsx)(b().sA,{defaultMessage:"Share via social",id:"publishSiteSettings.shareViaSocial.settingTitle"}),icon:(0,H.jsx)(q().I,{icon:re().Y,color:"secondary"}),right:(0,J().V)(i.chevronIcon)}),placement:D().W.Bottom,alignment:D().C.Center,textWrap:!0,style:{maxWidth:W().SITE_SETTINGS_TOOLTIP_WIDTH}})}var ue=()=>i(299487),pe=()=>i(131448),ge=(i(944114),i(898992),i(581454),i(737550),()=>i(835470)),he=()=>i(274065),me=()=>i(340498),Se=()=>i(84817),be=()=>i(760217),xe=()=>i(406699),fe=()=>i(802790),ve=()=>i(928600),ye=()=>i(460292),je=()=>i(719147),ke=()=>i(722872),Ce=()=>i(157529),_e=()=>i(700250),we=()=>i(991249),Ie=()=>i(112698),Ae=()=>i(329304),Te=()=>i(500128),Me=()=>i(182242);function Be(e){const{store:t,siteRootBlockStore:i,disabled:l,showManageAllDomains:r}=e,d=(0,o().v3)(),{device:u}=d,p=(0,s().K8)((()=>{var e;const n=t.getSpaceStore(),o=null===(e=i.getSiteStore())||void 0===e?void 0:e.getDomainId();return o?P().Ue(n,o):P().Nq(n)}),[t,i]),g=(0,s().K8)((()=>null==p?void 0:p.getDomainStatus()),[p]),h=(0,n.useCallback)((e=>{i.id===t.id&&(c().zV({environment:d,siteRootBlockStore:i,domainId:e.id,resetWatermark:"custom"===(null==p?void 0:p.domain_type)&&"custom"!==e.domain_type}),(0,O().Ex)(d,{site_root_block_id:i.id,previous_domain_id:(null==p?void 0:p.id)??null,new_domain_id:e.id}))}),[d,i,t,p]),m=(0,s().K8)((()=>T().IL(t.getSpaceStore())),[t]),S=l||m,x=(0,a().IS)((e=>({valueButton:{paddingLeft:10,paddingRight:8,height:"100%",borderTopRightRadius:0,borderBottomRightRadius:0,background:"payment_required"===g?e.tint.uiRed:"inherit",color:"payment_required"===g?e.text.uiRedPrimary:e.text.primary},valueButtonPressed:{background:"payment_required"===g?e.tint.uiRedPressed:"inherit"},icon:{marginRight:4}})),[g]);return(0,H.jsx)(w().A,{renderTooltip:()=>(0,H.jsx)(b().sA,{id:"publishSiteSettings.publicDomain.noDomainUpdateForGuest",defaultMessage:"You do not have access to update the domain for this published site"}),disableTooltip:!S,render:e=>(0,H.jsx)(xe().Ay,{popupType:u.isMobile?xe().z7.SlideUp:xe().z7.Popup,renderOrigin:t=>(0,H.jsxs)(F().p,{...(0,te().A)(e,t),disabled:S,style:x.valueButton,hoveredStyle:x.valueButton,pressedStyle:{...x.valueButton,...x.valueButtonPressed},children:["payment_required"===g&&(0,H.jsx)("div",{style:x.icon,children:(0,H.jsx)(ye().Q,{iconGroup:ge().F,colorName:"redPrimary",variantName:"small"})}),(0,H.jsx)(Me().G,{domain:p})]}),alignmentToOrigin:_e().MY.Start,placementToOrigin:_e().UV.Bottom,render:e=>(0,H.jsx)(Re,{store:t,siteRootBlockStore:i,currentDomainId:null==p?void 0:p.id,onChange:h,showManageAllDomains:r,onClose:()=>{e.close()}})}),textWrap:!0,placement:D().W.Bottom,alignment:D().C.End})}function Re(e){const{store:t,siteRootBlockStore:i,currentDomainId:l,onChange:r,showManageAllDomains:d,onClose:c}=e,u=(0,o().v3)(),p=u.device,{spaceId:g,userId:h}=(0,s().K8)((()=>{var e,i;return{spaceId:null===(e=t.getSpaceStore())||void 0===e?void 0:e.id,userId:null===(i=t.getSpaceStore())||void 0===i?void 0:i.userId}}),[t]),[m,S]=(0,n.useState)(!1),v=(0,Ae()._X)({name:"sites_multiple_public_domains",spaceId:g,userId:h}),y=null==v?void 0:v.upsell,k=()=>{K().A.setState({open:!0,currentTab:"billing",defaultSubtab:void 0,highlightedSetting:void 0,openedFrom:"share_menu"})},C=i.id===t.id,I=(0,s().K8)((()=>P().$o(t.getSpaceStore())),[t]),A=(0,s().K8)((()=>I.some((e=>"payment_required"===e.getDomainStatus()))),[I]),T=(0,a().IS)((e=>({icon:{height:me().Ev.sm,width:me().Ev.sm,fill:e.icon.secondary},titleText:f().RC,disabledText:{color:e.text.tertiary,...f().RC},paymentRequiredText:{color:e.text.uiRedPrimary,...f().RC},disabledMessageContainer:{paddingTop:4,display:"flex",flexDirection:"column",gap:4,whiteSpace:"normal"},billingTabLink:{backgroundColor:m?e.tint.regular:void 0}})),[m]),M=[];A&&M.push({key:"payment-required",render:e=>(0,H.jsx)(_().A,{...e,style:{paddingTop:0}}),items:[{key:"payment-required",action:x().lQ,render:e=>(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("div",{style:{padding:"8px 16px",fontSize:14},...e,children:(0,H.jsx)(b().sA,{defaultMessage:"Update payment method for your custom domain in the {billingTabLink}",id:"publishSiteSettings.publicDomain.paymentRequired",values:{billingTabLink:(0,H.jsx)(je().A,{disableHover:!0,onClick:k,onMouseEnter:()=>S(!0),onMouseLeave:()=>S(!1),style:T.billingTabLink,children:(0,H.jsx)(b().sA,{defaultMessage:"Billing tab",id:"publishSiteSettings.publicDomain.paymentRequiredLink"})})}})}),(0,H.jsx)(fe().A,{size:"100%"})]})}]}),C||M.push({key:"disabled",render:e=>(0,H.jsx)(_().A,{...e}),items:[{key:"disabled",action:x().lQ,render:e=>(0,H.jsx)(be().A,{...e,focused:e.focused,disabled:!0,title:(0,H.jsxs)("div",{style:T.disabledMessageContainer,children:[(0,H.jsx)(b().sA,{defaultMessage:"The domain for this site can only be updated on the root page",id:"publishSiteSettings.publicDomain.disallowedForNonRoot"}),(0,H.jsx)(Ce().A,{store:i})]})})}]});const B=I.map((e=>({key:e.id,action:()=>{r(e),c()},render:t=>{const i="active"!==e.getDomainStatus()||!C,n="payment_required"===e.getDomainStatus(),o=i?T.disabledText:n?T.paymentRequiredText:T.titleText,s=(0,H.jsx)(be().A,{...t,disabled:i,title:P().MN({domainName:e.getDomainName(),domainType:e.getDomainType()}),titleStyle:o,isChecked:e.id===l||!l&&e.isDefault()});return n?(0,H.jsx)(w().A,{placement:D().W.Bottom,render:e=>(0,H.jsx)("div",{...e,children:s}),renderTooltip:()=>(0,H.jsx)(b().sA,{id:"sites.sitesSettingModal.domainMenu.paymentRequiredTooltip",defaultMessage:"Update payment method to use this domain for publishing"})}):s}})));return M.push({key:"domains",render:e=>(0,H.jsx)(_().A,{...e,topBorder:!C,style:A?{paddingTop:0}:{}}),items:B}),!p.isMobile&&d&&M.push({key:"manage",render:e=>(0,H.jsx)(_().A,{...e,topBorder:!0}),items:[{key:"manage",action:()=>{y?we().K(u,{from:"manage_all_domains",upsell:y}):N().Ow({currentTab:"sites"}),c()},render:e=>(0,H.jsx)(be().A,{...e,focused:e.focused,disabled:!1,title:(0,H.jsx)(Se().Y1,{direction:"horizontal",align:"center-left",gap:6,children:y?(0,H.jsx)(Te().K,{upsell:y,display:"text",source:"manage_all_domains",customMessages:{eligible_for_upgrade:{id:"publishSiteSettings.publicDomain.eligibleForUpgrade",defaultMessage:"<highlight>Upgrade</highlight> for multiple domains",description:"Button title for the get domains menu item that navigates to the sites settings tab that contains an upsell."}},children:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(b().sA,{defaultMessage:"Get multiple domains",id:"publishSiteSettings.publicDomain.getDomains"}),(0,H.jsx)(Ie().B,{upsell:y,analyticsName:"manage_all_domains"})]})}):(0,H.jsx)(b().sA,{defaultMessage:"Manage all domains",id:"publishSiteSettings.publicDomain.manageDomains"})}),left:y?void 0:(0,he().gearSmallIcon)(T.icon)})}]}),(0,H.jsx)(ve().A,{menuType:p.isMobile?ke().gu.ActionSheet:ke().gu.Popup,width:265,children:(0,H.jsx)(j().Ay,{type:j().Oh.Vertical,initialFocus:void 0,sections:M})})}var Ee=()=>i(498212),Pe=()=>i(603250),De=()=>i(427704);const Le=/^[-a-z0-9]+$/,Ve=/^[-]+$/,Ke=60;var Oe=()=>i(939768),ze=()=>i(623580),We=()=>i(898486),Ne=()=>i(492414),Fe=()=>i(375555),Ue=()=>i(630116);function He(){const e=(0,a().IS)((e=>({separator:{color:e.text.tertiary,paddingRight:4}})),[]);return(0,H.jsx)("div",{style:e.separator,children:"/"})}const Ye=(0,b().YK)({max_length_exceeded:{id:"customSlugInput.maxLengthExceeded.message",defaultMessage:"Sorry, slug exceeds 60 characters"},invalid_characters:{id:"customSlugInput.invalidCharacters.message",defaultMessage:"Sorry, slug can only contain - and lower case alphanumeric characters"},missing_alphanumeric_characters:{id:"customSlugInput.missingAlphanumericCharacters.message",defaultMessage:"Sorry, slug must contain at least one alphanumeric character"},uuid_format:{id:"customSlugInput.incorrectUuidFormat.message",defaultMessage:"Sorry, slug cannot be of UUID format"},disallowed_words:{id:"customSlugInput.disallowedWords.message",defaultMessage:"Sorry, slug contains disallowed words"}});function Ge(e){const{store:t,siteRootBlockStore:i,onSave:l,onBlur:d,isError:u,onError:p,clearError:g}=e,h=(0,o().v3)(),S=(0,b().tz)(),x=(0,s().K8)((()=>{var e;return t.getSlug()||(null===(e=Oe().qg((0,Ne().Ay)({store:t,preferPublicLink:!0,pageVisitSource:m().y8.CopyLink})).pathname)||void 0===e?void 0:e.substring(1))}),[t]),[v,y]=(0,n.useState)(x??""),j=(0,n.useRef)(null),k=(0,n.useRef)(null),C=(0,n.useCallback)((()=>{var e,t;(0,r().u)({environment:h,event:{eventName:"clear_slug",eventProperties:{slug:v,site_id:i.getSiteId(),domain_id:null===(e=i.getSiteStore())||void 0===e?void 0:e.getDomainId()}}}),g(),y(""),null===(t=j.current)||void 0===t||t.focus()}),[h,v,g,y,i]),_=(0,n.useCallback)((async()=>{var e;if((0,r().u)({environment:h,event:{eventName:"save_slug",eventProperties:{slug:v,is_new:Boolean(!x),site_id:i.getSiteId(),domain_id:null===(e=i.getSiteStore())||void 0===e?void 0:e.getDomainId()}}}),!v)return;if(v===x)return void d();const n=function(e){if(e.length>Ke)return"max_length_exceeded";if(!Le.test(e))return"invalid_characters";if(Ve.test(e))return"missing_alphanumeric_characters";if((0,Ee().uj)(e)||(0,Ee().c_)(e))return"uuid_format";const t=[...Object.values(De().GJ),...Object.values(De().eR)],i=`/${e}`;return t.findIndex((e=>e===i))>=0||(0,Pe().e)(e)?"disallowed_words":"ok"}(v);if("ok"!==n){const e=S.formatMessage(Ye[n]);return void p(e)}const o=await c().n0({environment:h,blockStore:t,slug:v});if(null!=o&&o.error){var s;const e=null===(s=o.error.body)||void 0===s?void 0:s.clientData;if(e&&"slug_unavailable"===e.type&&e.existingBlockIdWithSlug){const i=e.existingBlockIdWithSlug,n=Ue().Bv.createChildStore(t,{id:i,table:"block"}),o=(0,We().$c)(e);if(o){const e=S.formatMessage(o,{pageName:(0,H.jsx)(Ce().A,{store:n,hideIcon:!0})});return void p(e)}}const i=(0,We().Hu)(S,o.error);p(i)}else l(v),d()}),[h,S,t,i,l,d,p,x,v]),I=(0,n.useCallback)((e=>{"Enter"===e.key&&_()}),[_]),A=(0,a().IS)((e=>({inputContainer:{display:"flex",alignItems:"center",paddingLeft:4,paddingRight:4,height:30,flex:1,borderTopRightRadius:6,borderBottomRightRadius:6,borderLeft:`1px solid ${e.outlineButtonBorder}`,background:e.surface.wash,lineHeight:2.14,...f().RC}})),[]),T=(0,n.useCallback)((e=>{e.relatedTarget!==k.current&&d()}),[d]);(0,n.useEffect)((()=>{j.current&&(0,Fe().G)(h,j.current)}),[h]);const M=!v||u;return(0,H.jsxs)("div",{style:A.inputContainer,children:[(0,H.jsx)(He,{}),(0,H.jsx)(ze().A,{ref:j,type:"text",value:v,onChange:e=>{g(),y(e.target.value.toLowerCase())},onKeyDown:I,format:ze().C.Transparent,onBlur:T,inputStyle:{height:"90%"}}),u?(0,H.jsx)($e,{onClear:C}):(0,H.jsx)(w().A,{render:e=>(0,H.jsx)(qe,{ref:k,tooltipEvents:e,disabled:M,onConfirm:()=>{_()}}),renderTooltip:()=>v?(0,H.jsx)(b().sA,{id:"customSlugInput.existingError.tooltip",defaultMessage:"Please fix the error before saving"}):(0,H.jsx)(b().sA,{id:"customSlugInput.emptySlug.tooltip",defaultMessage:"Please enter a slug to save"}),disableTooltip:!M,placement:D().W.Top})]})}const qe=n.forwardRef((function(e,t){const{disabled:i,onConfirm:n,tooltipEvents:o}=e,s=(0,a().IS)((e=>({buttonHoveredContainer:{background:i?"transparent":e.tint.uiBlue},button:{border:"none",marginLeft:4,color:i?e.text.tertiary:e.text.uiBluePrimary}})),[i]);return(0,H.jsx)(k().A,{...o,size:"sm",ref:t,onClick:n,style:s.button,hoveredStyle:s.buttonHoveredContainer,disabled:i,children:(0,H.jsx)(b().sA,{id:"customSlugInput.save.button",defaultMessage:"Save"})})}));function $e(e){const{onClear:t}=e,i=(0,a().IS)((e=>({buttonContainer:{marginRight:3},button:{border:"none",color:e.text.secondary,fontWeight:f().Wy.medium}})),[]);return(0,H.jsx)(k().A,{size:"sm",onClick:t,style:i.button,buttonStyle:i.buttonContainer,children:(0,H.jsx)(b().sA,{id:"customSlugInput.clear.button",defaultMessage:"Clear"})})}var Xe=()=>i(742852),Ze=()=>i(884107),Qe=()=>i(285790),Je=()=>i(118849),et=()=>i(134217),tt=()=>i(10984),it=()=>i(40226);function nt(e){const{store:t,siteRootBlockStore:i,onClick:l,slugOverride:d}=e,c=(0,o().v3)(),[p,g]=(0,n.useState)(!1),h=(0,s().K8)((()=>it().R({store:t,pageVisitSource:m().y8.CopyLink})),[t]),S=(0,s().K8)((()=>u().mg(t,i)),[t,i]),b=(0,n.useCallback)((async()=>{const{mobileNative:e}=c,t=await Ze().R.clipboardActions.load();e?e.copyText(h,ee().A.formatMessage(t.clipboardMessages.copiedLinkToClipboard)):t.copyString({environment:c,stringValue:h,copiedMessage:t.clipboardMessages.copiedLinkToClipboard}),(0,r().u)({environment:c,event:{eventName:"copy_web_link",eventProperties:{}}})}),[c,h]),x=(0,s().K8)((()=>tt().y4()),[])&&Boolean(l),f=(0,a().IS)((e=>({container:{display:"flex",flex:1,overflow:"auto",height:30,background:e.surface.wash,borderTopRightRadius:6,borderBottomRightRadius:6,...x&&{background:p?e.surface.wash:e.surface.page},...!S&&{borderTopLeftRadius:6,borderBottomLeftRadius:6}},copyButtonBackground:x?{background:p?e.surface.wash:e.surface.page}:{}})),[x,p,S]);return(0,H.jsxs)("div",{style:f.container,children:[(0,H.jsx)("div",{style:{flex:1,overflow:"auto"},onClick:x?l:void 0,children:(0,H.jsx)(ot,{store:t,siteUrl:h,slugOverride:d,isClickable:x,setIsHovering:g,canUpdateDomain:S})}),(0,H.jsx)(st,{style:f.copyButtonBackground,onCopySite:b})]})}function ot(e){var t;const{store:i,siteUrl:n,slugOverride:l,isClickable:r,setIsHovering:d,canUpdateDomain:c}=e,u=(0,o().v3)(),p=(0,s().K8)((()=>{var e;return null===(e=i.getSpaceStore())||void 0===e?void 0:e.canAdmin()}),[i]),g=(0,s().K8)((()=>et().Si(u)),[u]),h=(0,s().K8)((()=>tt().y4()),[]),m=(0,a().IS)((e=>({inputContainer:{display:"flex",paddingLeft:c?4:10,paddingRight:4,color:e.text.tertiary,borderLeft:`1px solid ${e.outlineButtonBorder}`,background:"transparent",lineHeight:2.14,...!c&&{borderLeft:void 0,borderTopLeftRadius:6,borderBottomLeftRadius:6},...r&&{color:e.text.primary,cursor:"pointer"}},input:{...f().RC,flex:1,cursor:"not-allowed"},inputWrapper:{display:"flex",overflowX:"auto",overflowY:"hidden"},upsellButton:{alignSelf:"center",height:"fit-content"}})),[c,r]),S=Oe().qg(n),x=l||(null===(t=S.pathname)||void 0===t?void 0:t.substring(1)),v=""===x,y=!h&&g?(0,H.jsx)(Je().A,{subscriptionTier:g,analyticsName:"site_slugs",desktopStyle:m.upsellButton,tooltipContent:"Upgrade to customize page short links"}):null;return v?(0,H.jsx)(w().A,{renderTooltip:()=>(0,H.jsx)(b().sA,{id:"publishSiteSettings.publicDomain.disabledEditingSlugHomepageTitle",defaultMessage:"Cannot edit pageâ€™s short link - this page is the homepage of your domain"}),disableTooltip:!1,render:e=>(0,H.jsxs)("div",{style:m.inputContainer,children:[(0,H.jsx)("div",{style:m.input,...e,children:p?(0,H.jsx)(He,{}):(0,H.jsx)("div",{style:m.input,children:`${S.hostname}/`})}),y]}),placement:D().W.Bottom,textWrap:!0,style:{maxWidth:240}}):(0,H.jsxs)("div",{style:m.inputContainer,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[(0,H.jsxs)("div",{style:m.inputWrapper,children:[(0,H.jsx)(He,{}),(0,H.jsx)("div",{style:m.input,children:x})]}),y]})}function st(e){const{style:t,onCopySite:i}=e,n=(0,b().tz)(),o=(0,a().IS)((e=>({copyContainer:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",borderTopRightRadius:6,borderBottomRightRadius:6,...t},copyButton:{height:24,width:24,marginRight:4},copyIcon:{height:me().Ev.default,width:me().Ev.default,fill:e.icon.secondary,marginRight:0}})),[t]);return(0,H.jsx)(w().A,{renderTooltip:()=>(0,H.jsx)(b().sA,{id:"publishSiteSettings.copySiteLink.tooltip",defaultMessage:"Copy site link"}),render:e=>(0,H.jsx)("div",{style:o.copyContainer,children:(0,H.jsx)(Qe().A,{...e,style:o.copyButton,icon:Xe().w,iconStyle:o.copyIcon,onClick:i,ariaLabel:n.formatMessage({id:"publishSiteSettings.copySiteLink.buttonAria",defaultMessage:"Copy site link"})})}),placement:D().W.Top})}function at(e){const{store:t,siteRootBlockStore:i,isError:o,setError:a,showSlugInput:l,setShowSlugInput:r}=e,[d,c]=(0,n.useState)(),p=(0,s().K8)((()=>t.canAdmin()),[t]),g=(0,s().K8)((()=>u().kx(t,i)),[t,i]);return p&&!g?l?(0,H.jsx)(Ge,{store:t,siteRootBlockStore:i,onSave:e=>{c(e)},onBlur:()=>{r(!1)},isError:o,onError:e=>{a(e)},clearError:()=>{a(void 0)}}):(0,H.jsx)(nt,{store:t,siteRootBlockStore:i,slugOverride:d,onClick:()=>{r(!0)}}):(0,H.jsx)(nt,{store:t,siteRootBlockStore:i})}var lt=()=>i(594607),rt=()=>i(515918),dt=()=>i(953006);const ct="customize_slug_tooltip";function ut(e){const{originRef:t}=e,i=(0,o().v3)(),n=(0,s().K8)((()=>pe().default.isVisible(ct)),[]);return(0,H.jsx)(lt().B,{shouldShow:n,calloutId:ct,children:(0,H.jsx)(dt().k,{style:{width:220},pointerLength:25,pointerPosition:"50%",origin:t,placementToOrigin:"left",alignmentToOrigin:D().C.Center,header:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(b().sA,{id:"customSlugInput.slugTooltip.header",defaultMessage:"Customize your slug"}),(0,H.jsx)(rt().A,{})]}),content:(0,H.jsx)(b().sA,{id:"customSlugInput.slugTooltip.content",defaultMessage:"You can now change your default URL to anything you want"}),shouldDismissUponOutsideClick:!0,onCloseClick:()=>{ue().a(i,ct)}})})}const pt="customize_slug_tooltip";function gt(e){const{store:t,siteRootBlockStore:i,disabled:l,showManageAllDomains:r}=e,d=(0,o().v3)(),c=d.device.isMobile,g=(0,n.useRef)(null);(0,n.useEffect)((()=>{ue().HH(d,pt)}),[d]);const h=(0,s().K8)((()=>pe().default.isVisible(pt)),[]),[m,S]=(0,n.useState)(h),[b,x]=(0,n.useState)();(0,n.useEffect)((()=>{h&&S(!0)}),[h]);const f=(0,s().K8)((()=>u().mg(t,i)),[t,i]),v=p(),y=(0,a().IS)((e=>({container:{marginLeft:c?v:12,marginRight:c?v:12},linkContainer:{display:"flex",alignItems:"center",height:32,borderRadius:6,fontSize:14,lineHeight:2.28,border:b?`1px solid ${e.errorText}`:m?`1px solid ${e.stroke.uiBluePrimary}`:`1px solid ${e.outlineButtonBorder}`,boxShadow:m&&!b?e.focusedShadow:void 0}})),[v,c,m,b]);return(0,H.jsxs)("div",{style:y.container,children:[(0,H.jsx)(ut,{originRef:g}),(0,H.jsxs)("div",{style:y.linkContainer,ref:g,children:[f&&(0,H.jsx)(Be,{store:t,siteRootBlockStore:i,disabled:l,showManageAllDomains:r}),(0,H.jsx)(at,{store:t,siteRootBlockStore:i,isError:Boolean(b),setError:e=>{x(e)},showSlugInput:m,setShowSlugInput:S})]}),(0,H.jsx)(ht,{errorMessage:b})]})}function ht(e){const{errorMessage:t}=e,i=(0,a().IS)((e=>({container:{fontSize:12,lineHeight:1.33,minHeight:20,width:"100%",color:e.errorText,padding:2,marginTop:6,display:"flex",flexDirection:"row",alignItems:"center"}})),[]);return t?(0,H.jsx)("div",{style:i.container,children:t}):null}function mt(e){const{store:t,siteRootBlockStore:i,showManageAllDomains:n}=e,o=(0,s().K8)((()=>!t.canAdmin()),[t]),l=(0,a().IS)((()=>({container:{display:"flex",flexDirection:"column",gap:8,paddingBottom:12},settingsContainer:{opacity:o?.7:1}})),[o]);return(0,H.jsxs)("div",{style:l.container,children:[i&&(0,H.jsx)(gt,{store:t,siteRootBlockStore:i,disabled:o,showManageAllDomains:n}),(0,H.jsx)(w().A,{renderTooltip:()=>(0,H.jsx)(b().sA,{defaultMessage:"You must have full access to this page to update the settings",id:"publishSiteSettings.all.noEditAccess"}),disableTooltip:!o,render:t=>(0,H.jsx)("div",{style:l.settingsContainer,...t,children:(0,H.jsx)(bt,{...e,disabled:o})})}),(0,H.jsx)(xt,{...e}),(0,H.jsx)(St,{store:t})]})}function St(e){const{store:t}=e,i=I().A.isMobile,n=(0,s().K8)((()=>!t.canAdmin()),[t]),o=(0,s().K8)((()=>{var e;return null===(e=t.getSpaceStore())||void 0===e?void 0:e.canAdmin()}),[t]),{domainDisplayName:l,isPublicHomepage:r}=(0,s().K8)((()=>{const e=t.getSpaceStore(),i=u().UP(t),n=P().Ix({spaceStore:e,domainId:i}),o=P().Ue(e,i);return{domainDisplayName:n,isPublicHomepage:(null==o?void 0:o.getPublicHomePage())===t.id}}),[t]),d=(0,a().IS)((e=>({container:{paddingLeft:18,paddingRight:18,color:e.text.secondary,fontSize:14}})),[]);return i?n?(0,H.jsx)("div",{style:d.container,children:(0,H.jsx)(b().sA,{id:"publishSiteSettings.noEditAccess.mobileTooltip",defaultMessage:"You must have full access to this page to update the settings"})}):r&&!o?(0,H.jsx)("div",{style:d.container,children:(0,H.jsx)(b().sA,{defaultMessage:"This page is the homepage of {domain}. Please visit the Sites tab in Settings on desktop to make changes.",id:"publishSiteSettings.unpublishHomePage.mobileTooltip",values:{domain:l}})}):null:null}function bt(e){const{store:t,siteRootBlockStore:i,mostPermissivePublicItem:n,location:l,sudoModeStore:r,onSettingUpdate:d,onSeoClick:u,onEmbedClick:g,onShareViaSocialClick:h,disabled:m}=e,{permissionItem:S,from:b}=n,f=(0,o().v3)(),v=I().A.isMobile,k=p(),C="published_site_settings"===l,w=(0,a().IS)((e=>({container:{display:"flex",flexDirection:"column",gap:4,paddingLeft:k,paddingRight:k,paddingBottom:C?0:12,paddingTop:0,boxShadow:C?void 0:`inset 0 -1px 0 ${e.regularDividerColor}`}})),[k,C]),A=(0,M().X)("sharing_anyone_with_the_link"),T=(0,s().K8)((()=>!v&&"on"===V().default.getEligibleGroup({experimentId:"publish_site_settings_share_via_social",defaultGroup:"control"})),[v]),R=(0,x().oE)([i&&!v&&{key:"customizeSiteSetting",render:e=>(0,H.jsx)(Z,{...e,disabled:m}),action:()=>{B().jP({environment:f,store:t,siteRootBlockStore:i,from:"customize_site"}),c().HY({siteRootBlockStore:i,permissionItem:S,from:b,sudoModeStore:r}),K().A.setState({...K().A.state,open:!1}),(0,z().as)(f,{page_from:t.id,is_root:i.id===t.id})}},i&&{key:"setLocaleUserSetting",render:e=>(0,H.jsx)(le,{...e,disabled:m,siteRootBlockStore:i,permissionItem:S}),action:()=>{u()}},!A&&{key:"linkExpirationSetting",render:e=>(0,H.jsx)(se().A,{...e,disabled:m,permissionItem:S,onChange:e=>{d({...S,expiration_timestamp:e}),(0,O().i_)(f,{target_block_id:t.id,expiration_timestamp:e??null})}}),action:()=>{}},{key:"duplicateAsTemplateSetting",render:e=>(0,H.jsx)(Q().A,{...e,disabled:m,value:S.allow_duplicate}),action:()=>{const e=S.allow_duplicate;d({...S,allow_duplicate:!e}),function(e,t){(0,y().v)(e,"toggle_allow_duplicate",t)}(f,{allow_duplicate:!e})}},{key:"embedSetting",render:e=>(0,H.jsx)(oe,{...e,disabled:m}),action:()=>{g()}},T&&{key:"shareViaSocialSetting",render:e=>(0,H.jsx)(ce,{...e,disabled:m}),action:()=>{h()}}]),E=(0,x().oE)([{key:0,render:e=>(0,H.jsx)(_().A,{style:w.container,...e}),items:R}]);return(0,H.jsx)(j().Ay,{type:j().Oh.Vertical,sections:E,initialFocus:void 0,resetFocusOnMouseOut:!0})}function xt(e){const{store:t,onUnpublish:i,onSettingUpdate:l,showAllPublishedSites:r,shouldAskForConfirmationOnPublish:d}=e,u=(0,o().v3)(),p=I().A.isMobile,g=(0,s().K8)((()=>t.canAdmin()),[t]),h=(0,s().K8)((()=>{var e;return null===(e=t.getSpaceStore())||void 0===e?void 0:e.canAdmin()}),[t]),x=(0,s().K8)((()=>Boolean(P().NG(t.getSpaceStore(),t.id))),[t]),y=(0,s().K8)((()=>A().dj5(t)),[t]),j=!g||x&&!h||y,_=(0,n.useCallback)((async()=>{let e=!0;if(d&&(e=await E().EL(S().q4_(t.getTitleValue()))),e){const e=(0,R().H)({store:t});l(e),(0,O().T6)(u,{target_block_id:t.id}),i&&i()}}),[u,d,t,l,i]),B=(0,n.useCallback)((()=>{v().V(u),c().uY({environment:u,store:t,pageVisitSource:m().y8.SiteSettings})}),[u,t]),V=(0,M().X)("sites_split_publish_actions")||p,K=(0,s().K8)((()=>{const e=L().default.state.currentSpaceStore;return!p&&!(0,T().IL)(e)&&r}),[p,r]),z=(0,a().IS)((()=>({buttonContainer:{gap:6},actionButtons:{display:"flex",alignItems:"center",gap:8,marginTop:4,paddingLeft:V?12:8,paddingRight:12,height:32,justifyContent:"flex-end"},button:{flexGrow:1,flexBasis:V?0:void 0,maxWidth:V?void 0:90,fontWeight:f().Wy.medium},disabledButton:{opacity:.7}})),[V]);return V?(0,H.jsxs)("div",{style:z.buttonContainer,children:[(0,H.jsxs)("div",{style:z.actionButtons,children:[(0,H.jsx)(w().A,{disableTooltip:!j,renderTooltip:()=>y?(0,H.jsx)(b().sA,{defaultMessage:"Please delist from Marketplace in order to unpublish",id:"publishSiteSettings.unpublishTemplateWithMarketplaceListing.tooltip"}):x&&!h?(0,H.jsx)(b().sA,{defaultMessage:"You cannot unpublish the public homepage of a workspace domain. Go to the Sites tab in Settings to make changes.",id:"publishSiteSettings.unpublishHomePage.tooltip"}):(0,H.jsx)(b().sA,{defaultMessage:"You must have full access to this page to unpublish it",id:"publishSiteSettings.unpublish.tooltip"}),render:e=>(0,H.jsx)(k().A,{...e,size:"lg",onClick:_,disabled:j,style:j?{...z.button,...z.disabledButton}:z.button,children:(0,H.jsx)(b().sA,{defaultMessage:"Unpublish",id:"publishSiteSettings.unpublish.title"})}),textWrap:!0,placement:D().W.Bottom,style:{width:W().SITE_SETTINGS_TOOLTIP_WIDTH}}),(0,H.jsx)(C().A,{onClick:B,style:z.button,children:(0,H.jsx)(b().sA,{defaultMessage:"View site",id:"publishSiteSettings.viewSite.title"})})]}),K&&(0,H.jsx)("div",{style:z.actionButtons,children:(0,H.jsx)("div",{style:{display:"flex",flex:1},children:(0,H.jsx)(G,{store:t})})})]}):(0,H.jsxs)("div",{style:z.actionButtons,children:[K&&(0,H.jsx)("div",{style:{display:"flex",flex:1},children:(0,H.jsx)(G,{store:t})}),(0,H.jsx)(w().A,{disableTooltip:!j,renderTooltip:()=>y?(0,H.jsx)(b().sA,{defaultMessage:"Please delist from Marketplace in order to unpublish",id:"publishSiteSettings.unpublishTemplateWithMarketplaceListing.tooltip"}):x?(0,H.jsx)(b().sA,{defaultMessage:"You cannot unpublish the public homepage of a workspace domain. Go to the Sites tab in Settings to make changes.",id:"publishSiteSettings.unpublishHomePage.tooltip"}):(0,H.jsx)(b().sA,{defaultMessage:"You must have full access to this page to unpublish it",id:"publishSiteSettings.unpublish.tooltip"}),render:e=>(0,H.jsx)(k().A,{...e,size:"lg",onClick:_,disabled:j,style:j?{...z.button,...z.disabledButton}:z.button,children:(0,H.jsx)(b().sA,{defaultMessage:"Unpublish",id:"publishSiteSettings.unpublish.title"})}),textWrap:!0,placement:D().W.Bottom,style:{width:W().SITE_SETTINGS_TOOLTIP_WIDTH}}),(0,H.jsx)(C().A,{onClick:B,style:z.button,children:(0,H.jsx)(b().sA,{defaultMessage:"View site",id:"publishSiteSettings.viewSite.title"})})]})}var ft=()=>i(819121),vt=()=>i(416504);const yt={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.12 16.74 14.99",svg:(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("path",{d:"M4.5 4.125A2.125 2.125 0 0 0 2.375 6.25v7.5c0 1.174.951 2.125 2.125 2.125h5.702a4.7 4.7 0 0 1-.2-1.25H4.5a.875.875 0 0 1-.875-.875V7.5h12.75v2.535a4.7 4.7 0 0 1 1.25.684V6.25A2.125 2.125 0 0 0 15.5 4.125zm.758 1.684a.625.625 0 1 1-1.25 0 .625.625 0 0 1 1.25 0m1.375-.625a.625.625 0 1 1 0 1.25.625.625 0 0 1 0-1.25m2.625.625a.625.625 0 1 1-1.25 0 .625.625 0 0 1 1.25 0"}),(0,H.jsx)("path",{d:"M17.7 16.607a3.625 3.625 0 1 0-.893.878l1.223 1.427a.625.625 0 0 0 .94-.823zM12.375 14.5a2.375 2.375 0 1 1 4.75 0 2.375 2.375 0 0 1-4.75 0"})]})},jt=(0,me().wt)("browserMagnifyingGlass",yt);var kt=()=>i(126617),Ct=()=>i(700500),_t=()=>i(792071),wt=()=>i(450648),It=()=>i(179034);const At="Notion | The connected workspace with site publishing",Tt="Made with Notion, the all-in-one connected workspace with publishing capabilities.";var Mt=()=>i(594739),Bt=()=>i(187820),Rt=()=>i(946548),Et=()=>i(21140),Pt=()=>i(370898);const Dt=(0,b().YK)({seoTitle:{id:"publishSiteSettings.SEO.toggle",defaultMessage:"Discoverable on the web"}});function Lt(e){const{store:t,siteRootBlockStore:i,permissionItem:l,onNavigateBack:r}=e,d=(0,o().v3)(),p=(0,b().tz)(),{spaceId:g,userId:h}=(0,s().K8)((()=>{var e,i;return{spaceId:null===(e=t.getSpaceStore())||void 0===e?void 0:e.id,userId:null===(i=t.getSpaceStore())||void 0===i?void 0:i.userId}}),[t]),m=(0,Ae().P9)({name:"seo_title_and_description",spaceId:g,userId:h}),S=(0,s().K8)((()=>u().ZV(i,l)),[i,l]),{seoTitle:x,seoDescription:v,icon:j,domainName:k}=(0,s().K8)((()=>{var e,n,o,s;let a=null===(e=t.getFormat())||void 0===e?void 0:e.seo_title,l=null===(n=t.getFormat())||void 0===n?void 0:n.seo_description;a||(a=function(e,t,i,n){if(!t)return;const o=t.getRenderTitle({getRecordModel:i,userTimeZone:n,intl:e});return o?`${o} | Notion`:void 0}(p,t.getModel(),t.getRecordModel,(0,vt().P)())),l||(l=function(e,t,i,n){if(!t)return;const o=t.getCollectionPointer(),s=o&&i(o);if(s&&s.getDescription()){const t=(0,wt().r4)({intl:e,textValue:s.getDescription(),getRecordModel:i,userTimeZone:n});if(t)return t}let a=[...t.getContentIds()||[]];for(;a.length>0;){const t=a.shift();if(!t)break;const o=i({table:It().ev,id:t});if(!o||"page"===o.type||!(0,Ct().Db)(o.type,o.getFormat()))continue;const s=_t().Bj6.fromBlock(o).getRenderTitle({getRecordModel:i,userTimeZone:n,intl:e});if(s)return s;a=a.concat(o.getContentIds()||[])}}(p,t.getModel(),t.getRecordModel,(0,vt().P)()));let r=t.getIcon();const d=null===(o=i.getSiteStore())||void 0===o?void 0:o.getFaviconUrl();return d&&(r={pointer:i.pointer,icon:d}),{seoTitle:a,seoDescription:l,icon:r,domainName:P().Ix({spaceStore:t.getSpaceStore(),domainId:null===(s=i.getSiteStore())||void 0===s?void 0:s.getDomainId()})}}),[p,t,i]),C=(0,s().K8)((()=>(0,Bt().Te)(t)),[t]),[_,w]=(0,n.useState)(x),[I,A]=(0,n.useState)(v),[T,M]=(0,n.useState)(!1),[B,R]=(0,n.useState)(!1),E=!S||!m,D=()=>{c().H6({environment:d,siteRootBlockStore:i,isSearchEngineIndexingEnabled:!S}),function(e,t){(0,y().v)(e,"toggle_allow_search_engine_indexing",t)}(d,{allow_search_engine_indexing:!S}),M(!0)},L=(0,n.useCallback)((e=>{const t=e.target;t instanceof HTMLElement&&(0,ft().p)(t)&&R(!0)}),[]),V=(0,n.useCallback)((()=>{R(!1)}),[]),K=(0,a().IS)((e=>({linkTitleContainer:{paddingLeft:8,paddingRight:8},descriptionContainer:{paddingLeft:8,paddingRight:8},inputLabel:{fontWeight:f().Wy.medium,fontSize:12,lineHeight:1.25,color:e.text.secondary},inputContainer:{borderRadius:6,height:34,padding:4,fontWeight:f().Wy.regular,fontSize:14,lineHeight:1.3,backgroundColor:e.surface.wash},input:{paddingLeft:4,color:E?e.text.tertiary:void 0},descriptionInput:{height:68}})),[E]);return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(Mt().A,{show:B}),(0,H.jsx)(Pt().O,{title:Dt.seoTitle,icon:jt,right:(0,H.jsx)(Rt().A,{on:Boolean(S),onClick:D}),disabled:!1,onClick:D}),(0,H.jsx)(Vt,{isSeoOff:!S,title:_,description:I,icon:j,domainName:k,iconRecordCategory:C}),(0,H.jsxs)(Et().wt,{gap:6,style:K.linkTitleContainer,children:[(0,H.jsx)("div",{style:K.inputLabel,children:(0,H.jsx)(b().sA,{id:"publishSiteSettings.SEO.titleInputLabel",defaultMessage:"Link title"})}),(0,H.jsx)(ze().A,{type:"text",style:K.inputContainer,inputStyle:K.input,value:_,onChange:e=>{w(e.target.value),M(!0)},placeholder:At,disabled:E,onFocus:L,onBlur:V})]}),(0,H.jsxs)(Et().wt,{gap:6,style:K.descriptionContainer,children:[(0,H.jsx)("div",{style:K.inputLabel,children:(0,H.jsx)(b().sA,{id:"publishSiteSettings.SEO.descriptionInputLabel",defaultMessage:"Description"})}),(0,H.jsx)(ze().A,{textarea:!0,style:{...K.inputContainer,...K.descriptionInput},inputStyle:K.input,value:I,onChange:e=>{A(e.target.value),M(!0)},placeholder:Tt,disabled:E,onFocus:L,onBlur:V})]}),(0,H.jsx)(Kt,{spaceId:g,userId:h,disabled:!T,onSaveClick:()=>{c().HE({environment:d,store:t,seoTitle:_,seoDescription:I}),r()}})]})}function Vt(e){const{isSeoOff:t,title:i,description:n,icon:o,domainName:s,iconRecordCategory:l}=e,r=(0,a().IS)((e=>({container:{paddingLeft:8,paddingRight:8},previewContainer:{alignItems:"center",justifyContent:"center",padding:12,border:`1px solid ${e.stroke.primary}`,borderRadius:8,height:84},domainContainer:{alignItems:"center",fontSize:11,lineHeight:1.5,width:"100%",opacity:t?.3:1},menuIcon:{color:e.text.secondary,height:12,width:12,transform:"rotate(90deg)",marginTop:1},inputLabel:{fontWeight:f().Wy.medium,fontSize:12,lineHeight:1.25,color:e.text.secondary},title:{color:e.seoPreviewTitle,fontSize:16,lineHeight:1.4,fontWeight:f().Wy.medium,width:"100%",opacity:t?.3:1,...f().RC},description:{fontSize:12,lineHeight:1.33,width:"100%",opacity:t?.3:1,...f().RC}})),[t]);return(0,H.jsxs)(Et().wt,{gap:6,style:r.container,children:[(0,H.jsx)("div",{style:r.inputLabel,children:(0,H.jsx)(b().sA,{id:"publishSiteSettings.SEO.previewTitle",defaultMessage:"SEO preview"})}),(0,H.jsxs)(Et().wt,{justifyContent:"space-between",alignItems:"center",style:r.previewContainer,children:[(0,H.jsxs)(Et().Ye,{gap:4,style:r.domainContainer,children:[(0,H.jsx)(Bt().B6,{disabled:!0,icon:o,iconRecordCategory:l,isEmptyPage:!1,disableShrinking:!0,size:16,emojiSize:16,style:{marginRight:4}}),s,(0,kt().Y)(r.menuIcon)]}),(0,H.jsxs)("div",{style:r.title,children:[i||At," "]}),(0,H.jsx)("div",{style:r.description,children:n||Tt})]})]})}function Kt(e){const{disabled:t,onSaveClick:i,spaceId:n,userId:o}=e,s=(0,Ae()._X)({name:"seo_title_and_description",spaceId:n,userId:o}),l=null==s?void 0:s.upsell,r=(0,a().IS)((()=>({upsellContainer:{paddingLeft:8},saveButton:{height:32,marginLeft:"auto",marginRight:8,width:"fit-content"}})),[]);return l?(0,H.jsx)(Te().K,{upsell:l,source:"search_engine_indexing_title_override",display:"text",customMessages:{eligible_for_upgrade:{id:"publishSiteSettings.SEO.upgradeEligibleTitle",defaultMessage:"<highlight>Upgrade</highlight> to edit link title and description",description:"Title for the upgrade button when the user is eligible for upgrade."}},children:(0,H.jsxs)(Et().Ye,{gap:6,style:r.upsellContainer,children:[(0,H.jsx)(U().A,{children:(0,H.jsx)(b().sA,{id:"publishSiteSettings.SEO.upgradeTitle",defaultMessage:"Edit link title and description"})}),(0,H.jsx)(Ie().B,{upsell:l,analyticsName:"search_engine_indexing_title_override"})]})}):(0,H.jsx)(C().A,{onClick:i,disabled:t,style:r.saveButton,children:(0,H.jsx)(b().sA,{defaultMessage:"Save changes",id:"publishSiteSettings.seo.saveChanges"})})}var Ot=()=>i(26082),zt=()=>i(888408),Wt=()=>i(254437),Nt=()=>i(701685),Ft=()=>i(614364);const Ut=(0,b().YK)({shareViaX:{id:"shareViaSocialContent.shareViaX",defaultMessage:"Share on X"},shareViaFacebook:{id:"shareViaSocialContent.shareViaFacebook",defaultMessage:"Share on Facebook"},shareViaLinkedIn:{id:"shareViaSocialContent.shareViaLinkedIn",defaultMessage:"Share on LinkedIn"},shareViaEmail:{id:"shareViaSocialContent.shareViaEmail",defaultMessage:"Share via Email"},shareViaWhatsApp:{id:"shareViaSocialContent.shareViaWhatsApp",defaultMessage:"Share on WhatsApp"}});function Ht(e){const t=(0,o().v3)(),{currentBlockStore:i}=e,l=(0,s().K8)((()=>i?(0,it().R)({store:i,pageVisitSource:m().y8.PublicSiteShareViaSocialButton}):""),[i]),d=(0,a().IS)((e=>({container:{paddingLeft:8,paddingRight:8},button:{width:"100%",marginBottom:8,display:"flex",alignItems:"center",gap:8},icon:{width:16,height:16}})),[]),c=n.useCallback((e=>{let n="";switch(e){case"x":n=`https://twitter.com/intent/tweet?url=${encodeURIComponent(l)}`;break;case"whatsapp":n=`https://wa.me/?text=${encodeURIComponent(l)}`;break;case"linkedin":n=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(l)}`;break;case"facebook":n=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(l)}`;break;case"email":n=`mailto:?body=${encodeURIComponent(l)}`}window.open(n,"_blank"),(0,r().u)({environment:t,event:{eventName:"published_site_share_via_social_button_clicked",eventProperties:{target_block_id:i.id,social_media_platform:e}}}),V().default.logEvent("published_site_share_via_social_button_clicked",1,{social_media_platform:e})}),[l,t,i.id]);return(0,H.jsxs)(Se().Y1,{direction:"vertical",gap:8,style:d.container,children:[(0,H.jsxs)(k().A,{size:"lg",onClick:()=>c("x"),style:d.button,children:[(0,H.jsx)(q().I,{icon:Nt().X,style:d.icon}),(0,H.jsx)(b().sA,{...Ut.shareViaX})]}),(0,H.jsxs)(k().A,{size:"lg",onClick:()=>c("whatsapp"),style:d.button,children:[(0,H.jsx)(q().I,{icon:Ft().M,style:d.icon}),(0,H.jsx)(b().sA,{...Ut.shareViaWhatsApp})]}),(0,H.jsxs)(k().A,{size:"lg",onClick:()=>c("linkedin"),style:d.button,children:[(0,H.jsx)(q().I,{icon:zt().G,style:d.icon}),(0,H.jsx)(b().sA,{...Ut.shareViaLinkedIn})]}),(0,H.jsxs)(k().A,{size:"lg",onClick:()=>c("facebook"),style:d.button,children:[(0,H.jsx)(q().I,{icon:Ot().Y,style:d.icon}),(0,H.jsx)(b().sA,{...Ut.shareViaFacebook})]}),(0,H.jsxs)(k().A,{size:"lg",onClick:()=>c("email"),style:d.button,children:[(0,H.jsx)(q().I,{icon:Wt().F,style:d.icon}),(0,H.jsx)(b().sA,{...Ut.shareViaEmail})]})]})}function Yt(e){const{store:t,mostPermissivePublicItem:i,sudoModeStore:p,location:h,showManageAllDomains:m,showAllPublishedSites:S,onUnpublish:b,shouldAskForConfirmationOnPublish:x}=e,{permissionItem:f,from:v}=i,y=(0,o().v3)(),{isMobile:j}=(0,o().Y0)(),k=(0,s().K8)((()=>{if(t.getSpaceStore())return u().GN(t)}),[t]),C=(0,a().IS)((()=>({container:{display:"flex",flexDirection:"column",gap:8,...j?{paddingTop:16}:{}}})),[j]),_=(0,s().K8)((()=>g().A.state.siteSettingContentType),[]),w=(0,n.useCallback)((e=>{const i=(0,l().Yi)(v);(0,d().Hc)({oldPermissionItem:f,newPermissionItem:e,wasInherited:i!==t.id,environment:y,store:t,sudoModeStore:p,location:h})}),[y,t,f,p,v,h]);return(0,H.jsx)("div",{style:C.container,children:"initial"===_?(0,H.jsx)(mt,{store:t,siteRootBlockStore:k,location:h,mostPermissivePublicItem:i,sudoModeStore:p,onSettingUpdate:w,onSeoClick:()=>{(0,c().Bp)("seo")},onEmbedClick:()=>{(0,c().Bp)("embed"),(0,r().u)({environment:y,event:{eventName:"click_embed_page_settings",eventProperties:{target_block_id:t.id}}})},onShareViaSocialClick:()=>{(0,c().Bp)("social"),(0,r().u)({environment:y,event:{eventName:"click_share_via_social_page_settings",eventProperties:{target_block_id:t.id}}})},showManageAllDomains:m,showAllPublishedSites:S,onUnpublish:b,shouldAskForConfirmationOnPublish:x}):(0,H.jsx)(Gt,{settingsContentType:_,store:t,siteRootBlockStore:k,permissionItem:f,onNavigateBack:()=>{(0,c().Bp)("initial")}})})}function Gt(e){const{store:t,siteRootBlockStore:i,permissionItem:n,onNavigateBack:s,settingsContentType:l}=e,{isMobile:r}=(0,o().Y0)(),d=p(),c=(0,a().IS)((()=>({container:{display:"flex",flexDirection:"column",gap:16,marginTop:14,marginBottom:r?0:16,paddingLeft:d,paddingRight:d}})),[d,r]);if(!i)return null;return(0,H.jsx)("div",{style:c.container,children:"seo"===l?(0,H.jsx)(Lt,{store:t,siteRootBlockStore:i,permissionItem:n,onNavigateBack:s}):"embed"===l?(0,H.jsx)(h().M,{currentBlockStore:t}):"social"===l?(0,H.jsx)(Ht,{currentBlockStore:t}):void 0})}},370898:(e,t,i)=>{i.d(t,{O:()=>c});i(296540);var n=()=>i(401497),o=()=>i(493823),s=()=>i(340498),a=()=>i(959013),l=()=>i(125565),r=i(474848);function d(e){const{title:t,icon:i,iconStyle:o,disabled:d}=e,c=(0,n().IS)((e=>({container:{display:"flex",alignItems:"center",gap:6},icon:{height:s().Ev.default,width:s().Ev.default,fill:e.icon.secondary,...o},text:{color:d?e.text.secondary:void 0}})),[o,d]);return(0,r.jsxs)("div",{style:c.container,children:[i&&i(c.icon),(0,r.jsx)(l().A,{style:c.text,children:(0,r.jsx)(a().sA,{...t})})]})}function c(e){const{title:t,icon:i,iconStyle:s,right:a,disabled:l,onClick:c,style:u,badge:p}=e,g=(0,n().IS)((()=>({container:{minHeight:32,paddingLeft:8,paddingRight:8,width:"100%",paddingTop:2,paddingBottom:2,...u},titleContainer:{display:"flex",flex:1}})),[u]);return(0,r.jsxs)(o().p,{disabled:l,onClick:c,style:g.container,children:[(0,r.jsxs)("div",{style:g.titleContainer,children:[(0,r.jsx)(d,{title:t,icon:i,iconStyle:s,disabled:l}),p]}),a]})}},413582:(e,t,i)=>{i.d(t,{M:()=>A});var n=i(296540),o=()=>i(484714),s=()=>i(56366),a=()=>i(401497),l=()=>i(764781),r=()=>i(435644),d=()=>i(340498),c=()=>i(959013),u=()=>i(884107),p=()=>i(2220),g=()=>i(84817),h=()=>i(623580),m=()=>i(864943),S=()=>i(946548),b=()=>i(859428),x=()=>i(42425),f=()=>i(972435),v=()=>i(962730),y=()=>i(525700),j=()=>i(40226),k=()=>i(578872),C=()=>i(242565),_=()=>i(370898),w=i(474848);const I=(0,c().YK)({showTitle:{id:"embedSettingsContent.showPageTitle.toggle",defaultMessage:"Show page title"},showFormTitle:{id:"embedSettingsContent.showFormTitle.toggle",defaultMessage:"Show form title"},showTitleTooltip:{id:"embedSettingsContent.showTitleTooltip",defaultMessage:"Show page title & icon in the embedded view"}});function A(e){const t=(0,o().v3)(),{currentBlockStore:i}=e,A=(0,s().K8)((()=>{var e;if(i)return null===(e=(0,k().GN)(i))||void 0===e?void 0:e.getSiteStore()}),[i]),T=(0,s().K8)((()=>{var e;return null==A||null===(e=A.getSettings())||void 0===e?void 0:e.embedSettings}),[A]),M=(0,s().K8)((()=>i?(0,j().R)({store:i,embedded:!0,pageVisitSource:void 0}):""),[i]),B=(0,s().K8)((()=>M?`\n\t\t\t\t<iframe src="${M}"\n\t\t\t\t\twidth="100%"\n\t\t\t\t\theight="600"\n\t\t\t\t\tframeborder="0"\n\t\t\t\t\tallowfullscreen\n\t\t\t\t/>\n\t\t\t\t`.trim().replace(/\s+/g," "):""),[M]),R=n.useCallback((async()=>{const e=await u().R.clipboardActions.load();e.copyString({environment:t,stringValue:B,copiedMessage:e.clipboardMessages.copiedLinkToClipboard}),(0,p().u)({environment:t,event:{eventName:"copy_embed_code",eventProperties:{target_block_id:i.id}}})}),[B,t,i.id]),E=n.useCallback((()=>{A&&(0,y().E9)({environment:t,siteStore:A,embedSettings:{hideTitle:!(null!=T&&T.hideTitle)}})}),[A,null==T?void 0:T.hideTitle,t]),P=(0,s().K8)((()=>i.isFormBlock()?I.showFormTitle:I.showTitle),[i]),D=(0,a().IS)((e=>({copyIcon:{width:d().Ev.sm,height:d().Ev.sm,marginLeft:0,marginRight:6},primaryButton:{marginLeft:"auto",marginRight:0,width:"fit-content"},container:{paddingLeft:8,paddingRight:8}})),[]);return(0,w.jsxs)(g().Y1,{direction:"vertical",gap:14,style:D.container,children:[(0,w.jsx)(b().A,{renderTooltip:()=>f().A.formatMessage(I.showTitleTooltip),disableTooltip:!1,render:e=>(0,w.jsx)("div",{...e,children:(0,w.jsx)(_().O,{title:P,icon:r().a,right:(0,w.jsx)(S().A,{on:!Boolean(null==T?void 0:T.hideTitle),onClick:E}),disabled:!1,onClick:E,style:{marginBottom:-6}})}),placement:v().W.Bottom,alignment:x().C1.Center,textWrap:!0,style:{maxWidth:C().SITE_SETTINGS_TOOLTIP_WIDTH}}),(0,w.jsx)(h().A,{disabled:!0,textarea:!0,textareaSubmitOnEnter:!1,autosize:!0,autosizeMinHeight:50,showClearButton:!1,readOnly:!0,value:B,textareaElementAttributes:{cols:50}}),(0,w.jsx)(m().A,{size:"lg",onClick:R,style:D.primaryButton,iconLeading:e=>(0,l().V)({...e,...D.copyIcon}),children:(0,w.jsx)(c().sA,{id:"embedSettingsContent.copyEmbedCode",defaultMessage:"Copy code"})})]})}},439616:(e,t,i)=>{i.d(t,{A:()=>P});i(944114),i(581454);var n=i(296540),o=()=>i(662303),s=()=>i(484714),a=()=>i(56366),l=()=>i(401497),r=()=>i(869190),d=()=>i(68263),c=()=>i(959013),u=()=>i(720665),p=()=>i(760217),g=()=>i(406699),h=()=>i(928600),m=()=>i(939740),S=()=>i(8980),b=()=>i(89924),x=()=>i(125565),f=()=>i(573351),v=()=>i(662971),y=()=>i(186445),j=()=>i(722872),k=()=>i(700250),C=()=>i(991249),_=()=>i(118849),w=()=>i(807778),I=()=>i(134217),A=()=>i(404520),T=i(474848);function M(e,t){const{permissionItem:n,hideIcon:o,onChange:a,buttonStyle:l}=e,r=(0,s().Y0)();return(0,T.jsx)(i(811979).A,{...e,popupType:r.isMobile?g().z7.SlideUp:g().z7.Popup,renderOrigin:s=>(0,T.jsx)(i(585293).a,{...(0,i(553965).A)(e,s),ref:t,title:(0,T.jsx)(c().sA,{defaultMessage:"Link expires",id:"publishSiteSettings.linkExpiration.settingTitle"}),icon:!o&&(0,T.jsx)(S().I,{icon:i(274570).clockIcon,color:"secondary"}),right:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(B,{permissionItem:n}),(0,T.jsx)(S().I,{icon:i(324254).arrowChevronSingleDownSmallIcon,size:"sm",color:"tertiary"})]}),buttonStyle:l}),alignmentToOrigin:k().MY.End,placementToOrigin:k().UV.Bottom,render:e=>(0,T.jsx)(R,{value:n.expiration_timestamp,onChange:a,onClose:()=>{e.close()}})})}function B(e){const{permissionItem:t}=e,i=(0,c().tz)(),n=(0,l().IS)((e=>({container:{color:e.text.secondary}})),[]);if(!t.expiration_timestamp||(0,d().OA)(t))return(0,T.jsx)(x().A,{style:n.container,children:(0,T.jsx)(c().sA,{defaultMessage:"Never",id:"publishSiteSettings.linkExpiration.never"})});const s=r().jE(t.expiration_timestamp,o().locale,i);return(0,T.jsx)(x().A,{style:n.container,children:s})}function R(e){const{value:t,onChange:i,onClose:r}=e,d=(0,s().v3)(),g=d.device,S=(0,a().K8)((()=>(0,w().P4)()),[]),x=(0,a().K8)((()=>!I().qC()),[]),f=(0,a().K8)((()=>I().Si(d)),[d]),v=(0,n.useCallback)((e=>{void 0!==e&&e<=(new Date).getTime()||(i(e),r())}),[i,r]),y=(0,l().IS)((e=>({disabledContainer:{display:"flex",gap:6},disabledText:{color:e.text.tertiary}})),[]),k=function(){const e=Date.now(),t=e+u().pT,i=e+u().nD,n=e+7*u().nD;return[{key:"none",time:void 0,title:(0,T.jsx)(c().sA,{defaultMessage:"Never",id:"publishSiteSettings.linkExpiration.never"})},{key:"hour",time:t,title:(0,T.jsx)(c().sA,{defaultMessage:"In an hour",id:"publishSiteSettings.linkExpiration.oneHour"}),caption:new Intl.DateTimeFormat(o().locale,{hour:"numeric",minute:"numeric"}).format(t)},{key:"day",time:i,title:(0,T.jsx)(c().sA,{defaultMessage:"In a day",id:"publishSiteSettings.linkExpiration.oneDay"}),caption:new Intl.DateTimeFormat(o().locale,{day:"numeric",month:"long",hour:"numeric",minute:"numeric"}).format(i)},{key:"week",time:n,title:(0,T.jsx)(c().sA,{defaultMessage:"In a week",id:"publishSiteSettings.linkExpiration.oneWeek"}),caption:new Intl.DateTimeFormat(o().locale,{day:"numeric",month:"long",hour:"numeric",minute:"numeric"}).format(n)}]}().map((e=>({key:e.key,action:()=>{v(e.time)},render:t=>(0,T.jsx)(p().A,{...t,title:e.title,titleStyle:x?y.disabledText:{},caption:e.caption,captionStyle:x?y.disabledText:{},disabled:x})}))),M=[{key:"predefined-expiration",render:e=>(0,T.jsx)(b().A,{...e}),items:k},{key:"custom-expiration",render:e=>(0,T.jsx)(b().A,{...e,topBorder:!0}),items:[E(v,t,x,y.disabledText)]}];return f&&x&&!S&&M.push({key:"upgrade-for-expiration",render:e=>(0,T.jsx)(b().A,{...e,topBorder:!0}),items:[{key:"upsell",action:()=>{C().K(d,{from:"public_permission_item_expiration",upsell:{type:"product",product:f,limit:{type:"none"},trialability:"none"}})},render:e=>(0,T.jsx)(p().A,{...e,focused:e.focused,title:(0,T.jsxs)("div",{style:y.disabledContainer,children:[(0,T.jsx)(c().sA,{defaultMessage:"Unlock link expiration",id:"publishSiteSettings.linkExpiration.upgrade"}),(0,T.jsx)(_().A,{subscriptionTier:f,analyticsName:"public_permission_item_expiration"})]})})}]}),(0,T.jsxs)(h().A,{menuType:g.isMobile?j().gu.ActionSheet:j().gu.Popup,width:271,children:[S&&x&&f&&(0,T.jsx)("div",{style:{padding:"10px 10px 4px 10px"},children:(0,T.jsx)(A().R,{source:"public_permission_item_expiration",display:"button",upsell:{type:"product",product:f,limit:{type:"none"},trialability:"none"}})}),(0,T.jsx)(m().Ay,{type:m().Oh.Vertical,initialFocus:void 0,sections:M})]})}function E(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{key:"custom",action:()=>{window.parent.close()},render:(o,s)=>(0,T.jsx)(v().A,{...o,renderOrigin:e=>(0,T.jsx)(p().A,{...e,disabled:i,title:(0,T.jsx)(c().sA,{id:"publicPermissionItem.expiration.chooseDate",defaultMessage:"Choose date"}),titleStyle:i?n:{}}),onFocus:s.onFocus,disableDefaultClick:!0,renderExtension:(n,o)=>(0,T.jsx)("div",{style:{padding:"18px 14px 14px"},children:(0,T.jsx)(f().A,{...n,firstDayOfWeek:y().XX.state,value:t||Date.now(),onChange:t=>{e(t),o.close()},disabledDays:i||{before:new Date}})})})}}const P=n.forwardRef(M)},527580:(e,t,i)=>{i.d(t,{TK:()=>l,YC:()=>a,ui:()=>s});var n=()=>i(645873);const o={pageVerification:new(n().O2)("pageVerification",(()=>Promise.all([i.e(58550),i.e(11341),i.e(29252),i.e(94891)]).then(i.bind(i,80826)))),pageVerificationBadge:new(n().O2)("pageVerificationBadge",(()=>Promise.all([i.e(75134),i.e(58550),i.e(92845),i.e(84468),i.e(5605),i.e(48486),i.e(95794),i.e(13677),i.e(56952),i.e(25497),i.e(74562),i.e(27711),i.e(11341),i.e(30291),i.e(12913),i.e(6463),i.e(93449),i.e(29252),i.e(74357),i.e(41412)]).then(i.bind(i,161901)))),pageVerificationMenuRenderer:new(n().O2)("pageVerificationMenuRenderer",(()=>Promise.all([i.e(75134),i.e(58550),i.e(92845),i.e(84468),i.e(5605),i.e(48486),i.e(95794),i.e(13677),i.e(56952),i.e(25497),i.e(74562),i.e(27711),i.e(11341),i.e(30291),i.e(12913),i.e(6463),i.e(93449),i.e(29252),i.e(74357),i.e(26207)]).then(i.bind(i,196770))))},s=(0,n()._h)(o.pageVerification,(e=>e.PageAddVerificationButton)),a=(0,n()._h)(o.pageVerificationBadge,(e=>e.PageVerificationBadge)),l=(0,n()._h)(o.pageVerificationMenuRenderer,(e=>e.PageVerificationMenuRenderer))},558410:(e,t,i)=>{i.d(t,{A:()=>s});i(898992),i(354520);var n=()=>i(496603);class o extends(()=>i(757695))().Store{getInitialState(){return{sites:{},sortAscending:!0,sortColumn:void 0}}initializeSiteResultsForSpace(e,t){this.state.sites[e]=t,this.emit()}getSortedSitesForSpace(e,t){const{sortAscending:o,sortColumn:s}=this.state,a=this.state.sites[e];if(a)switch(s){case"page":return n().My(a,(e=>i(919709).q4_(e.store.getTitleValue()).toLowerCase()),o?"asc":"desc");case"published-by":return n().My(a,(e=>{const n=e.publishedMetadata.publishedBy,o=n?i(630116).sk.createChildStore(e.store,n):void 0;return null==o?void 0:o.getDisplayName(t).toLowerCase()}),o?"asc":"desc");case"published-date":return n().My(a,(e=>e.publishedMetadata.publishedTime),o?"asc":"desc");default:return a}}removeSiteFromSpace(e,t){const i=this.state.sites[e];i&&(this.state.sites[e]=i.filter((e=>e.store.id!==t)),this.emit())}resetSitesForSpace(e){this.state.sites[e]=void 0}}const s=new o},614364:(e,t,i)=>{i.d(t,{M:()=>o});i(296540);var n=i(474848);const o=(0,i(340498).wt)("whatsapp",{viewBox:"0 0 24 24",svg:(0,n.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})})},703875:(e,t,i)=>{i.d(t,{N:()=>s,V:()=>o});var n=()=>i(679924);function o(e){(0,n().v)(e,"view_public_site_click")}function s(e,t){(0,n().v)(e,"share_menu_tab_click",t)}},716979:(e,t,i)=>{i.d(t,{EL:()=>k,KD:()=>y,Ss:()=>f,l2:()=>C,n0:()=>j,rw:()=>v});i(16280),i(944114),i(898992),i(354520),i(296540);var n=()=>i(388821),o=()=>i(179034),s=()=>i(959013),a=()=>i(763824),l=()=>i(449506),r=()=>i(901389),d=()=>i(106628),c=()=>i(321172),u=()=>i(437487),p=()=>i(227440),g=()=>i(630116),h=()=>i(250484),m=()=>i(67805),S=()=>i(558410),b=i(474848);const x=50;function f(e){S().A.resetSitesForSpace(e.id)}async function v(e,t){const{spaceStore:i,currentUserId:s,limit:r}=t;if(!i.id)return;const[d]=await Promise.all([l().callApi({eventName:"getPublishedPagesForUser",environment:e,data:{spaceId:i.id,limit:r||x,fetchPublishedMetadata:!0}}),(0,a().wR)(1500)]);if("failed"===d.type)throw new Error("Failed to fetch published pages.");if(d.data.recordMap){const e=[],t=n().RecordMapWithRole.create(d.data.recordMap),a=d.data.publishedEdits;for(const{model:n}of t)if(n&&n.table===o().ev){const t=g().Bv.createChildStore(i,{table:o().ev,id:n.id}),s=a[t.id],l=s&&s.authors?s.authors[0]:void 0,r={publishedTime:null==s?void 0:s.timestamp,publishedBy:l};e.push({store:t,publishedMetadata:r})}let l=e;return s&&(l=m().X(e,s)),S().A.initializeSiteResultsForSpace(i.id,l),l}}async function y(e,t){const{spaceStore:i}=t,n=e.currentUser.id,o=await v(e,{spaceStore:i,currentUserId:n});return o?o.filter((e=>{var t;return(null===(t=e.publishedMetadata.publishedBy)||void 0===t?void 0:t.id)===n})):[]}function j(e){c().Tk(e),u().Ay.setState({...u().Ay.state,display:u().pP.Publish,tab:u().QC.Publish})}async function k(e){return new Promise(((t,i)=>{r().ui({message:(0,b.jsx)("div",{style:{textAlign:"center"},children:(0,b.jsx)(s().sA,{id:"sites.confirmUnpublish.title",defaultMessage:"Unpublish this site?"})}),description:(0,b.jsx)("div",{style:{textAlign:"center"},children:(0,b.jsx)(s().sA,{id:"sites.confirmUnpublish.caption",defaultMessage:"{pageTitle} will no longer be live on the web.",values:{pageTitle:e}})}),keepFocus:!0,items:[{label:(0,b.jsx)(s().sA,{id:"sites.confirmUnpublish.confirm",defaultMessage:"Unpublish"}),color:"red",onAccept:()=>t(!0)}],showCancel:!0})}))}async function C(e,t){if(!p().A.state.online)return[];const i=await d().T.searchActions.load();return await i.searchPublicPages({environment:t,query:e,source:"public_home_page_menu",limit:h().ZK})}},835755:(e,t,i)=>{i.d(t,{p:()=>o});i(296540);var n=i(474848);const o=(0,i(340498).wt)("collectionDescriptionSmall",{viewBox:"0 0 14 14",svg:(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 4.667C6.69049 4.667 6.39366 4.54405 6.17481 4.32519C5.95595 4.10634 5.833 3.80951 5.833 3.5C5.833 3.19049 5.95595 2.89366 6.17481 2.67481C6.39366 2.45595 6.69049 2.333 7 2.333C7.30951 2.333 7.60634 2.45595 7.82519 2.67481C8.04405 2.89366 8.167 3.19049 8.167 3.5C8.167 3.80951 8.04405 4.10634 7.82519 4.32519C7.60634 4.54405 7.30951 4.667 7 4.667V4.667ZM8 11C8 11.2652 7.89464 11.5196 7.70711 11.7071C7.51957 11.8946 7.26522 12 7 12C6.73478 12 6.48043 11.8946 6.29289 11.7071C6.10536 11.5196 6 11.2652 6 11V7C6 6.73478 6.10536 6.48043 6.29289 6.29289C6.48043 6.10536 6.73478 6 7 6C7.26522 6 7.51957 6.10536 7.70711 6.29289C7.89464 6.48043 8 6.73478 8 7V11ZM7 0C5.14348 0 3.36301 0.737498 2.05025 2.05025C0.737498 3.36301 0 5.14348 0 7C0 8.85652 0.737498 10.637 2.05025 11.9497C3.36301 13.2625 5.14348 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.14348 13.2625 3.36301 11.9497 2.05025C10.637 0.737498 8.85652 0 7 0V0Z"})})},888408:(e,t,i)=>{i.d(t,{G:()=>o});i(296540);var n=i(474848);const o=(0,i(340498).wt)("linkedin",{viewBox:"0 0 20 18",svg:(0,n.jsx)("path",{clipRule:"evenodd",d:"m2.0769 4.15379c1.14644 0 2.07689-.93045 2.07689-2.07689 0-1.14645-.93045-2.0769-2.07689-2.0769-1.14645 0-2.0769.93045-2.0769 2.0769 0 1.14644.93045 2.07689 2.0769 2.07689zm-2.0769 13.84621v-12.46143h4.15379v12.46143zm6.92371-12.46143h3.83119v1.96336h.0554c.533-.95675 1.8373-1.96336 3.7827-1.96336 4.0444 0 4.7921 2.5172 4.7921 5.79173v6.6697h-3.9946v-5.9123c0-1.4095-.0291-3.22471-2.0769-3.22471-2.0796 0-2.3981 1.53551-2.3981 3.12231v6.0147h-3.99179z",fillRule:"evenodd"})})}}]);