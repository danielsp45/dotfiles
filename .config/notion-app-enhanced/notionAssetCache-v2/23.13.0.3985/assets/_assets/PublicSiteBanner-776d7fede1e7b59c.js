"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[27942,46743],{129165:(e,n,t)=>{t.r(n),t.d(n,{PublicSiteBanner:()=>f,getBannerAndActionLabel:()=>y});var i=t(296540),o=()=>t(484714),a=()=>t(56366),r=()=>t(427704),l=()=>t(959013),s=()=>t(530216),c=()=>t(934839),d=()=>t(780054),u=()=>t(828634),g=()=>t(217429),p=()=>t(150193),m=()=>t(673912),h=()=>t(179030),x=()=>t(281401),b=t(474848);function y(e){switch(g().default.getEligibleGroup({experimentId:"notion_sites_upsell_banner",defaultGroup:"control"})){case"copy_variant_1":return{bannerLabel:e.formatMessage({id:"publicSiteBanner.label.v1",defaultMessage:"Ready to explore more? Create your own site with Notion today â€” it's free."}),actionLabel:e.formatMessage({id:"publicSiteBanner.getStartedActionLabel",defaultMessage:"Get started"})};case"copy_variant_2":return{bannerLabel:e.formatMessage({id:"publicSiteBanner.label.v2",defaultMessage:"Ready to explore more? Create your own site with Notion today."}),actionLabel:e.formatMessage({id:"publicSiteBanner.getStartedActionLabel",defaultMessage:"Get started"})};case"copy_variant_3":return{bannerLabel:e.formatMessage({id:"publicSiteBanner.label.v3",defaultMessage:"Create your own site with Notion today."}),actionLabel:e.formatMessage({id:"publicSiteBanner.getStartedActionLabel",defaultMessage:"Get started"})};default:return{bannerLabel:e.formatMessage({id:"publicSiteBanner.label.v4",defaultMessage:"Ready to explore more? Sign up to start building with Notion today."}),actionLabel:e.formatMessage({id:"publicSiteBanner.getStartedActionLabel",defaultMessage:"Get started"})}}}function f(){const e=(0,l().tz)(),n=(0,i.useRef)(null),t=(0,u().wY)(n),g=(0,o().v3)();(0,i.useEffect)((()=>{m().W.setHeight(null==t?void 0:t.height)}),[null==t?void 0:t.height]);const f=d().A.isMobile?p().A:m().W,{bannerLabel:j,actionLabel:w}=(0,a().K8)((()=>y(e)),[e]),v=[{label:w,onClick:()=>{x().C$({environment:g,route:r().JZ.signup,openInNewTab:!1})}}];return(0,b.jsx)("div",{ref:n,children:(0,b.jsx)(h().l,{label:j,display:"full-width",actions:v,tint:"gray",onDismiss:()=>{c().zA({bannerStore:f,id:"PublicSiteBanner"}),s().D8(g),m().P.setState("dismissed")}})})}},179030:(e,n,t)=>{t.d(n,{l:()=>i().lZ});var i=()=>t(661764)},281401:(e,n,t)=>{t.d(n,{C$:()=>C,Cy:()=>I,Im:()=>D,JK:()=>M,K6:()=>S,c8:()=>N,i_:()=>v,lE:()=>k,lY:()=>_,mz:()=>L,pF:()=>R});var i=()=>t(402014),o=()=>t(484714),a=()=>t(819121),r=()=>t(56366),l=()=>t(427704),s=()=>t(798880),c=()=>t(530216),d=()=>t(874913),u=()=>t(729283),g=()=>t(780054),p=()=>t(600871),m=()=>t(731320),h=()=>t(299545),x=()=>t(326589),b=()=>t(765957),y=()=>t(948914),f=()=>t(217429),j=()=>t(630116),w=()=>t(172079);function v(e){const{store:n,environment:t}=e,i=b().default.state.currentSpaceStore,o=!n||(0,h()._C)(n),{id:a}=t.currentUser,r=a&&i?j().LU.createChildStore(i,{table:s().oo,id:a}):void 0,l=!r||r.isReady();return o&&l}function S(e,n){return!g().A.isAdminMode&&(0,m().qb)(n,e)}function M(){return f().default.checkGate({gateName:"sites_deprecate_edit_and_comment_top_bar"})}l().JZ.signup,l().JZ.product;async function C(e){const{environment:n,route:t,openInNewTab:i}=e;c().Jn(n),await u().NT(n,{utmContent:"sites_banner_cta",nextRoute:t,openInNewTab:i})}async function I(e){const{environment:n,route:t,openInNewTab:i}=e;c().LT(n,{variant:"made_with_notion"}),await u().VE(n,{utmContent:"topbar_cta",nextRoute:t,openInNewTab:i})}async function _(e){const{environment:n,route:t,formId:i,spaceId:o,openInNewTab:a}=e;c().LT(n,{variant:"made_with_notion"}),await u()._q(n,{utmContent:"topbar_cta",nextRoute:t,formId:i,spaceId:o,openInNewTab:a})}function L(e){var n;e.target!==e.currentTarget||null!==(n=y().A.state.preferences)&&void 0!==n&&n.isAlwaysOnTabBarEnabled||y().A.state.isShowingTabBar||(0,i().SQ)({event:e,context:i().y$.EditorDoubleClick,callback:d().toggleMaximized})}function k(e){const n=e.target;n instanceof HTMLElement&&(0,a().p)(n)&&w().A.setState(!0)}function N(){w().A.setState(!1)}function R(e){let{device:n,route:t}=e;return"page"===t.name&&(0,p().aD)(n)}function D(e){const{store:n}=e,t=(0,o().v3)();return(0,r().K8)((()=>{if(!n)return{shouldRenderPublicPageTopbar:!1,shouldRenderPublicShareLinkTopbar:!1};const e=b().default.state.mainEditorCurrentBlockStore,i=!t.currentUser.isLoggedIn(),o=S(n,t),a=!!e&&(0,m().qb)(t,e),r=!!o&&(0,x().g)(),l=f().default.checkGate({gateName:"read_public_share_links_from_space_view"});return{shouldRenderPublicPageTopbar:Boolean(o&&!r),shouldRenderPublicShareLinkTopbar:Boolean(r&&(i||!l&&a))}}),[t,n])}},661764:(e,n,t)=>{t.d(n,{fT:()=>I,lZ:()=>D,pq:()=>j});t(581454),t(296540);var i=()=>t(484714),o=()=>t(401497),a=()=>t(246760),r=()=>t(995847),l=()=>t(340498),s=()=>t(959013),c=()=>t(84817),d=()=>t(285790),u=()=>t(864943),g=()=>t(859428),p=()=>t(460292),m=()=>t(554509),h=t(474848);const x=(0,s().YK)({learnMore:{id:"banner.learnMore",defaultMessage:"Learn more"},dismiss:{id:"banner.dismiss",defaultMessage:"Dismiss"}}),b={red:"uiRedPrimary",yellow:"uiYellowPrimary",blue:"uiBluePrimary",gray:"secondary"},y={red:"uiRedSecondary",yellow:"uiYellowSecondary",blue:"uiBlueSecondary",gray:"secondary"},f={red:e=>e.tint.uiRed,yellow:e=>e.tint.uiYellow,blue:e=>e.tint.uiBlue,gray:e=>e.surface.wash},j={red:e=>e.text.uiRedPrimary,blue:e=>e.text.uiBluePrimary,yellow:e=>e.text.uiYellowPrimary,gray:e=>"dark"===e.mode?e.text.primary:e.text.secondary},w={red:e=>e.icon.uiRedSecondary,blue:e=>e.icon.uiBlueSecondary,yellow:e=>e.icon.uiYellowSecondary,gray:e=>"dark"===e.mode?e.text.secondary:e.text.quaternary};function v(e,n){return(0,o().IS)((t=>({container:{backgroundColor:f[e](t),padding:"8px 12px"},icon:{width:l().Ev.sm,height:l().Ev.sm,fill:t.icon[n??b[e]]},content:{color:j[e](t)},learnMoreIcon:{fill:j[e](t)},titleIcon:{marginRight:8}})),[e,n])}function S(e){const{onDismiss:n}=e,t=(0,s().tz)();return n?(0,h.jsx)(d().A,{size:"xs",onClick:n,icon:r().xMarkSmallIcon,color:"primary",ariaLabel:t.formatMessage(x.dismiss)}):(0,h.jsx)("div",{})}function M(e){const{tint:n,iconGroup:t,style:i}=e;return t?(0,h.jsx)(p().Q,{iconGroup:t,variantName:"small",colorName:b[n],style:i}):null}function C(e){const{tint:n,iconGroup:t}=e;return t?(0,h.jsx)(p().Q,{iconGroup:t,variantName:"small",colorName:y[n]}):null}function I(e){const{tint:n,action:t}=e,{label:i,onClick:a,iconGroup:r}=t,l=(0,o().IS)((e=>({button:{color:"gray"===n?e.text.primary:j[n](e),borderWidth:1,borderStyle:"solid",borderColor:w[n](e),padding:r?"4px 10px 4px 8px":"4px 8px",height:"unset",gap:r&&4},buttonContent:{display:"flex",flexDirection:"row",alignItems:"center"}})),[n,r]);return(0,h.jsx)(u().A,{size:"lg",iconLeading:()=>(0,h.jsx)(C,{iconGroup:r,tint:n}),onClick:a,buttonStyle:l.button,children:(0,h.jsx)(m().D,{styleName:"UIRegular-14px/Medium",customStyles:l.buttonContent,children:i})})}function _(e){const{label:n,iconGroup:t,tint:i,onDismiss:o,actions:r,onLearnMoreClick:l}=e,u=v(i),g=(0,s().tz)();return(0,h.jsxs)(c().Y1,{style:u.container,gap:"auto",direction:"horizontal",align:"center",width:"fill",children:[(0,h.jsxs)(c().Y1,{style:u.content,direction:"horizontal",align:"center",width:"hug",children:[(0,h.jsx)(M,{tint:i,iconGroup:t,style:u.titleIcon}),(0,h.jsx)(m().D,{styleName:"UIRegular-14px/Medium",children:n}),l&&(0,h.jsx)(d().A,{onClick:l,icon:()=>(0,h.jsx)(p().Q,{iconGroup:a().G,variantName:"large",colorName:"secondary",style:u.learnMoreIcon}),ariaLabel:g.formatMessage(x.learnMore)})]}),(0,h.jsxs)(c().Y1,{direction:"horizontal",align:"center-right",gap:12,children:[(0,h.jsx)(c().Y1,{direction:"horizontal",align:"center",gap:8,width:"hug",children:null==r?void 0:r.map(((e,n)=>e.isCustom?e.render():(0,h.jsx)(I,{tint:i,action:e},n)))}),(0,h.jsx)(S,{onDismiss:o})]})]})}function L(e){const{label:n,iconGroup:t,staticIcon:i,iconColor:o,tint:r,onDismiss:l,actions:u,onLearnMoreClick:b}=e,y=v(r,o),f=(0,s().tz)(),j=t?(0,h.jsx)(M,{tint:r,iconGroup:t,style:y.titleIcon}):i?i({...y.icon,...y.titleIcon}):null;return(0,h.jsxs)(c().Y1,{style:y.container,gap:"auto",direction:"horizontal",align:"center",children:[(0,h.jsx)("div",{}),(0,h.jsxs)(c().Y1,{style:y.content,direction:"horizontal",align:"center",width:"hug",gap:24,children:[(0,h.jsxs)(c().Y1,{direction:"horizontal",align:"center",width:"hug",children:[j,(0,h.jsx)(m().D,{styleName:"UIRegular-14px/Medium",children:n}),b&&(0,h.jsx)(g().A,{renderTooltip:()=>f.formatMessage(x.learnMore),render:e=>(0,h.jsx)(d().A,{onClick:b,icon:()=>(0,h.jsx)(p().Q,{iconGroup:a().G,variantName:"large",colorName:"secondary",style:y.learnMoreIcon}),ariaLabel:f.formatMessage(x.learnMore),...e})})]}),u?(0,h.jsx)(c().Y1,{direction:"horizontal",gap:8,width:"hug",children:null==u?void 0:u.map(((e,n)=>e.isCustom?e.render():(0,h.jsx)(I,{tint:r,action:e},n)))}):null]}),(0,h.jsx)(S,{onDismiss:l})]})}function k(e){const{label:n,description:t,iconGroup:i,staticIcon:a,iconColor:r,tint:l,onDismiss:s,actions:d}=e,u=v(l,r),g=(0,o().IS)((e=>({container:{backgroundColor:f[l](e),padding:16,borderRadius:8},content:{color:j[l](e)},iconContainer:{height:20,display:"flex",alignItems:"center",justifyContent:"center"}})),[l]),p=i?(0,h.jsx)(M,{tint:l,iconGroup:i}):a?a(u.icon):null;return(0,h.jsxs)(c().Y1,{style:g.container,gap:8,direction:"horizontal",children:[p?(0,h.jsx)("div",{style:g.iconContainer,children:p}):null,(0,h.jsxs)(c().Y1,{style:g.content,gap:8,children:[(0,h.jsxs)(c().Y1,{gap:4,children:[(0,h.jsx)(m().D,{styleName:"UIRegular-14px/Medium",colorName:"gray"===l?"primary":void 0,children:n}),t?(0,h.jsx)(m().D,{styleName:"UIRegular-14px/Regular",children:t}):null]}),d?(0,h.jsx)(c().Y1,{direction:"horizontal",gap:8,children:null==d?void 0:d.map(((e,n)=>e.isCustom?e.render():(0,h.jsx)(I,{tint:l,action:e},n)))}):null]}),(0,h.jsx)(S,{onDismiss:s})]})}function N(e){const{label:n,staticIcon:t,tint:i,iconColor:a,onDismiss:r,actions:l}=e,s=v(i,a),d=(0,o().IS)((e=>({container:{backgroundColor:f[i](e),padding:"8px 8px 8px 12px",borderRadius:8},content:{color:j[i](e)},iconContainer:{height:20,display:"flex",alignItems:"center",justifyContent:"center"}})),[i]);return(0,h.jsxs)(c().Y1,{style:d.container,gap:8,direction:"horizontal",align:"center",children:[t?(0,h.jsx)("div",{style:d.iconContainer,children:t(s.icon)}):null,(0,h.jsxs)(c().Y1,{style:d.content,gap:"auto",direction:"horizontal",align:"center",children:[(0,h.jsx)(c().Y1,{gap:4,children:(0,h.jsx)(m().D,{styleName:"UIRegular-14px/Medium",children:n})}),l?(0,h.jsx)(c().Y1,{direction:"horizontal",gap:8,width:"hug",children:null==l?void 0:l.map(((e,n)=>e.isCustom?e.render():(0,h.jsx)(I,{tint:i,action:e},n)))}):null]}),(0,h.jsx)(S,{onDismiss:r})]})}function R(e){const{tint:n,onDismiss:t,content:i}=e,o=v(n);return(0,h.jsxs)(c().Y1,{style:o.container,align:"center",gap:8,direction:"horizontal",children:[(0,h.jsx)("div",{style:{flex:1,...o.content},children:i}),(0,h.jsx)(S,{onDismiss:t})]})}function D(e){const{display:n}=e,t=(0,i().v3)();switch(n){case"inline":return(0,h.jsx)(k,{...e});case"full-width":return t.device.isMobile?(0,h.jsx)(_,{...e}):(0,h.jsx)(L,{...e});case"full-width-no-content":return(0,h.jsx)(R,{...e});case"inline-compact":return(0,h.jsx)(N,{...e})}return(0,h.jsx)(h.Fragment,{})}},673912:(e,n,t)=>{t.d(n,{P:()=>a,W:()=>o});class i extends(()=>t(757695))().Store{getInitialState(){return{banners:[],height:void 0}}setHeight(e){this.setState({...this.state,height:e})}}const o=new i,a=new(t(178624).R)({key:"publicSiteBannerDismissed",namespace:"notion",important:!1,trackingType:"necessary"})},995847:(e,n,t)=>{t.r(n),t.d(n,{iconDefinition:()=>i,xMarkSmallIcon:()=>o});t(296540);const i={viewBox:"0 0 16 16",fittedViewBox:"3.17 3.17 9.66 9.66",svg:(0,t(474848).jsx)("path",{d:"M12.642 3.358a.625.625 0 0 0-.884 0L8 7.116 4.242 3.358a.625.625 0 1 0-.884.884L7.116 8l-3.758 3.758a.625.625 0 0 0 .884.884L8 8.884l3.758 3.758a.625.625 0 1 0 .884-.884L8.884 8l3.758-3.758a.625.625 0 0 0 0-.884"})},o=(0,t(340498).wt)("xMarkSmall",i)}}]);