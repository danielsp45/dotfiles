"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[51363],{43450:(e,t,s)=>{s.d(t,{R:()=>o});var n=()=>s(484714),r=()=>s(56366);function o(e){const t=(0,n().v3)();return(0,r().K8)((()=>{const s=t.currentUser.id;return!!(e&&e.isDefined()&&s)&&Boolean(e.isOwner(s))}),[t.currentUser.id,e])}},97835:(e,t,s)=>{s.d(t,{x:()=>o});s(296540);var n=s(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"3.68 2.37 15.82 17.13",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M10 2.375c-1.137 0-2.054.47-2.674 1.242-.608.757-.9 1.765-.9 2.824s.292 2.066.9 2.824c.62.772 1.537 1.241 2.674 1.241s2.055-.469 2.675-1.241c.608-.758.9-1.766.9-2.824 0-1.059-.292-2.067-.9-2.824-.62-.773-1.538-1.242-2.675-1.242M7.676 6.441c0-.842.233-1.554.624-2.042.38-.473.937-.774 1.7-.774s1.32.301 1.7.774c.391.488.624 1.2.624 2.042s-.233 1.554-.624 2.041c-.38.473-.937.774-1.7.774s-1.32-.3-1.7-.774c-.391-.487-.624-1.2-.624-2.041M10 11.63c-2.7 0-5.101 1.315-6.12 3.305-.361.706-.199 1.421.23 1.923.412.48 1.06.767 1.74.767h5.845a4.6 4.6 0 0 1-.28-1.25H5.85c-.342 0-.634-.148-.79-.33-.138-.162-.172-.336-.067-.54.761-1.488 2.672-2.626 5.007-2.626.83 0 1.605.144 2.294.395.269-.364.59-.688.952-.96A7.9 7.9 0 0 0 10 11.63"}),(0,n.jsx)("path",{d:"M16 19.5a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7m2.594-3.469a.625.625 0 0 0-.625-.625h-1.375v-1.375a.625.625 0 0 0-1.25 0v1.375h-1.375a.625.625 0 0 0 0 1.25h1.375v1.375a.625.625 0 1 0 1.25 0v-1.375h1.375c.345 0 .625-.28.625-.625"})]})},o=(0,s(340498).wt)("inviteMember",r)},211825:(e,t,s)=>{s.d(t,{G:()=>i});var n=()=>s(484714),r=()=>s(56366),o=()=>s(486130);function i(e){const t=(0,n().v3)().currentUser.id;return(0,r().K8)((()=>Boolean(void 0!==t&&e.isNonGuestMember(t,o()._.getSpacePermissionGroupIds({userId:t,spaceId:e.getSpaceId()})))),[t,e])}},212727:(e,t,s)=>{s.r(t),s.d(t,{gearIcon:()=>o,iconDefinition:()=>r});s(296540);var n=s(474848);const r={viewBox:"0 0 20 20",fittedViewBox:"2.19 2.19 15.58 15.6",svg:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M7.29 10c0 1.5 1.22 2.71 2.71 2.71 1.5 0 2.71-1.21 2.71-2.71S11.5 7.29 10 7.29 7.29 8.5 7.29 10m1.25 0c0-.81.66-1.46 1.46-1.46.81 0 1.46.65 1.46 1.46s-.65 1.46-1.46 1.46-1.46-.65-1.46-1.46"}),(0,n.jsx)("path",{d:"M8.49 17.64q.75.15 1.53.15v-.01c.47 0 .94-.04 1.41-.13.26-.05.46-.25.5-.51l.26-1.53.15-.06 1.28.91c.21.14.49.14.71 0 .41-.28.8-.61 1.18-.98.33-.33.63-.7.9-1.09.15-.21.15-.5 0-.71l-.9-1.27.06-.15 1.55-.27c.26-.05.46-.25.51-.5a7.8 7.8 0 0 0 .02-2.94.62.62 0 0 0-.51-.5l-1.53-.26-.06-.15.91-1.28c.14-.21.14-.49 0-.71a7.9 7.9 0 0 0-2.07-2.08.62.62 0 0 0-.71 0l-1.27.9-.15-.06-.27-1.55a.64.64 0 0 0-.5-.51c-.5-.1-1-.15-1.53-.15-.47 0-.95.04-1.41.13-.26.05-.46.25-.5.51l-.26 1.53-.15.06-1.28-.91a.65.65 0 0 0-.71 0 7.9 7.9 0 0 0-2.08 2.07c-.15.21-.15.5 0 .71l.9 1.27-.06.15-1.55.27c-.26.05-.46.25-.51.5-.1.5-.15 1-.15 1.53 0 .47.04.95.13 1.41.05.26.25.46.51.5l1.53.26.06.15-.91 1.28c-.14.21-.15.49 0 .71.29.42.61.81.98 1.18.34.34.7.65 1.09.91.21.15.5.15.71 0l1.27-.9.15.06.27 1.55c.05.26.25.46.5.51m2.29-1.15c-.53.07-1.09.07-1.63 0l-.25-1.47a.62.62 0 0 0-.42-.49 6 6 0 0 1-.68-.28.63.63 0 0 0-.65.04l-1.2.85a6.8 6.8 0 0 1-1.14-1.16l.86-1.21c.13-.19.15-.43.05-.64-.11-.22-.21-.45-.28-.68a.62.62 0 0 0-.49-.43l-1.45-.25a6.7 6.7 0 0 1 0-1.63l1.47-.25c.23-.04.42-.2.49-.42.07-.23.17-.46.28-.68.11-.21.09-.46-.04-.65l-.85-1.2A6.8 6.8 0 0 1 6.01 4.8l1.21.86c.19.13.43.15.64.05.22-.11.45-.21.68-.28s.39-.26.43-.49l.25-1.45c.53-.07 1.09-.07 1.63 0l.25 1.47c.04.23.2.42.42.49.23.07.46.17.68.28.21.11.46.09.65-.04l1.2-.85A6.8 6.8 0 0 1 15.19 6l-.86 1.21c-.13.19-.15.43-.05.64.11.22.21.45.28.68s.26.39.49.43l1.45.25a6.7 6.7 0 0 1 0 1.63l-1.47.25c-.23.04-.42.2-.49.42-.07.23-.17.46-.28.68-.11.21-.09.46.04.65l.85 1.2a6.8 6.8 0 0 1-1.16 1.14l-1.21-.86a.64.64 0 0 0-.64-.05c-.22.11-.45.21-.68.28s-.39.26-.43.49z"})]})},o=(0,s(340498).wt)("gear",r)},236190:(e,t,s)=>{s.d(t,{c:()=>r});s(296540);var n=s(474848);const r=(0,s(340498).wt)("minus",{viewBox:"0 0 16 16",svg:(0,n.jsx)("path",{d:"M3.037 8.844h9.92a.705.705 0 00.368-.103.825.825 0 00.28-.28.73.73 0 000-.773.752.752 0 00-.28-.28.705.705 0 00-.369-.102H3.037a.705.705 0 00-.369.102.824.824 0 00-.28.28.73.73 0 000 .772.914.914 0 00.28.281.705.705 0 00.37.103z"})})},418426:(e,t,s)=>{s.d(t,{$:()=>c});s(898992),s(354520),s(581454);var n=()=>s(484714),r=()=>s(56366),o=()=>s(468006),i=()=>s(605402),a=()=>s(486130);function c(e){const t=(0,n().v3)().currentUser.id;return(0,r().K8)((()=>{if(!e.isDefined())return[];return(0,o().ri)({rawMembers:e.getRawMembership(),groupsInSpace:i().A.state.permissionGroupsAndMemberCounts.map((e=>e.group))}).filter((s=>a()._.getSpacePermissionGroupIds({userId:t,spaceId:e.getSpaceId()}).has(s.getGroupId())))}),[t,e])}},536583:(e,t,s)=>{s.d(t,{d:()=>r});s(296540);const n={viewBox:"0 0 20 20",fittedViewBox:"2.88 2.32 14.24 15.36",svg:(0,s(474848).jsx)("path",{d:"M9.294 2.325h3.103c.484 0 .948.192 1.29.534l2.897 2.898c.343.342.535.806.535 1.29v5.903a1.825 1.825 0 0 1-1.825 1.825H12.53v1.075a1.825 1.825 0 0 1-1.825 1.825h-6A1.825 1.825 0 0 1 2.88 15.85v-8.8c0-1.008.817-1.825 1.825-1.825H7.47V4.15c0-1.008.817-1.825 1.825-1.825M9.1 5.76l2.897 2.897c.342.342.534.806.534 1.29v3.578h2.763a.575.575 0 0 0 .575-.575V7.3h-1.975a1.75 1.75 0 0 1-1.75-1.75V3.575h-2.85a.575.575 0 0 0-.575.575v1.318q.208.12.38.292m6.16.44-2.016-2.016V5.55c0 .359.29.65.65.65zm-10.554.275a.575.575 0 0 0-.575.575v8.8c0 .318.258.575.575.575h6a.575.575 0 0 0 .575-.575V10.2H9.306a1.75 1.75 0 0 1-1.75-1.75V6.475zm3.95.609V8.45c0 .359.291.65.65.65h1.366z"})},r=(0,s(340498).wt)("docOnDoc",n)},559044:(e,t,s)=>{s.d(t,{a:()=>r});s(296540);var n=s(474848);const r=(0,s(340498).wt)("plusWithBorder",{viewBox:"0 0 22 22",svg:(0,n.jsx)("path",{d:"M20.4336 1.61719C21.0273 2.21094 21.4023 2.92187 21.5586 3.75C21.7227 4.57031 21.8047 5.48047 21.8047 6.48047V15.5859C21.8047 16.5938 21.7227 17.5078 21.5586 18.3281C21.4023 19.1484 21.0273 19.8594 20.4336 20.4609C19.832 21.0547 19.1172 21.4336 18.2891 21.5977C17.4609 21.7617 16.5469 21.8438 15.5469 21.8438H6.44141C5.44141 21.8438 4.52734 21.7617 3.69922 21.5977C2.87891 21.4336 2.16797 21.0547 1.56641 20.4609C0.964844 19.8594 0.585938 19.1484 0.429688 18.3281C0.273438 17.5078 0.195312 16.5938 0.195312 15.5859V6.45703C0.195312 5.47266 0.273438 4.57031 0.429688 3.75C0.59375 2.92969 0.972656 2.21875 1.56641 1.61719C2.16797 1.02344 2.87891 0.644531 3.69922 0.480469C4.52734 0.316406 5.43359 0.234375 6.41797 0.234375H15.5469C16.5469 0.234375 17.4609 0.316406 18.2891 0.480469C19.1172 0.644531 19.832 1.02344 20.4336 1.61719ZM19.918 6.16406C19.918 5.5625 19.8633 4.97266 19.7539 4.39453C19.6445 3.81641 19.4102 3.35156 19.0508 3C18.6992 2.64062 18.2305 2.40625 17.6445 2.29688C17.0664 2.17969 16.4766 2.12109 15.875 2.12109H6.16016C5.54297 2.12109 4.9375 2.17969 4.34375 2.29688C3.75781 2.40625 3.28906 2.63672 2.9375 2.98828C2.58594 3.34766 2.35547 3.82031 2.24609 4.40625C2.13672 4.98438 2.08203 5.58203 2.08203 6.19922V15.9141C2.08203 16.5156 2.13672 17.1055 2.24609 17.6836C2.35547 18.2617 2.58594 18.7266 2.9375 19.0781C3.29688 19.4297 3.76562 19.6641 4.34375 19.7812C4.92969 19.8984 5.52344 19.957 6.125 19.957H15.875C16.4766 19.957 17.0664 19.8984 17.6445 19.7812C18.2305 19.6719 18.6992 19.4375 19.0508 19.0781C19.4023 18.7266 19.6328 18.2617 19.7422 17.6836C19.8594 17.1055 19.918 16.5156 19.918 15.9141V6.16406ZM5.57422 11.0391C5.57422 10.7422 5.66406 10.5039 5.84375 10.3242C6.03125 10.1367 6.27734 10.043 6.58203 10.043H10.0273V6.59766C10.0273 6.30078 10.1172 6.05859 10.2969 5.87109C10.4766 5.68359 10.707 5.58984 10.9883 5.58984C11.2852 5.58984 11.5234 5.68359 11.7031 5.87109C11.8906 6.05078 11.9844 6.29297 11.9844 6.59766V10.043H15.4414C15.7383 10.043 15.9766 10.1367 16.1562 10.3242C16.3438 10.5039 16.4375 10.7422 16.4375 11.0391C16.4375 11.3203 16.3438 11.5508 16.1562 11.7305C15.9766 11.9102 15.7383 12 15.4414 12H11.9844V15.457C11.9844 15.7539 11.8906 15.9961 11.7031 16.1836C11.5234 16.3633 11.2852 16.4531 10.9883 16.4531C10.707 16.4531 10.4766 16.3633 10.2969 16.1836C10.1172 15.9961 10.0273 15.7539 10.0273 15.457V12H6.58203C6.28516 12 6.04297 11.9102 5.85547 11.7305C5.66797 11.5508 5.57422 11.3203 5.57422 11.0391Z"})})},583273:(e,t,s)=>{s.r(t),s.d(t,{default:()=>O});s(296540);var n=()=>s(484714),r=()=>s(56366),o=()=>s(584262),i=()=>s(536583),a=()=>s(212727),c=()=>s(97835),l=()=>s(421559),d=()=>s(120739),m=()=>s(468006),u=()=>s(959013),p=()=>s(884107),v=()=>s(857783),h=()=>s(760217),C=()=>s(928600),g=()=>s(939740),S=()=>s(8980),M=()=>s(89924),b=()=>s(125565),I=()=>s(780054),x=()=>s(986863),w=()=>s(722872),y=()=>s(963589),f=()=>s(575301),A=()=>s(632709),j=()=>s(765957),T=()=>s(630116),V=()=>s(848237),k=()=>s(931956),B=()=>s(623241),H=()=>s(401497),_=()=>s(236190),P=()=>s(559044),G=()=>s(211825),U=()=>s(418426);var K=s(474848);function L(e){let{props:t,teamStore:s}=e;const o=(0,n().v3)(),i=(0,G().G)(s),a=(0,U().$)(s),c=(0,r().O$)(j().AppStoreCurrentSpaceStore),l=(0,f().T4)(),d=(0,H().IS)((()=>({icon:{width:16,height:16,marginLeft:2,marginRight:2}})),[]);return(0,K.jsx)(h().A,{...t,style:{...l.buttonMenuItem},pressedStyle:l.buttonMenuItemPressed,titleStyle:l.title,icon:i?(0,_().c)(d.icon):(0,P().a)(d.icon),onClick:async()=>await async function(e){const{environment:t,teamStore:s,userIsTeamMember:n,currentSpaceStore:r,userGroupsInTeam:o}=e;r&&(n?await V().JC({environment:t,teamStore:s,from:"team_home_topbar",userGroupsInTeam:o}):await V().e2({environment:t,currentSpaceStore:r,teamStore:s,from:"team_home_topbar",andNavigateToTeamHome:!1}))}({environment:o,teamStore:s,currentSpaceStore:c,userIsTeamMember:i,userGroupsInTeam:a}),title:i?(0,K.jsx)(u().sA,{defaultMessage:"Leave",id:"teamHome.toggleMembership.mobile.leave"}):(0,K.jsx)(u().sA,{defaultMessage:"Join",id:"teamHome.toggleMembership.mobile.join"})})}function O(e){let{mainMenuParent:t,teamStore:s,permissionsInviteStore:H}=e;const{isPhone:_}=(0,n().Y0)(),P=(0,n().v3)(),G=(0,f().T4)(),U=(0,r().O$)(j().AppStoreCurrentSpaceStore),O=(0,r().K8)((()=>{if(!U)return;const e=T().sk.createChildStore(U,{table:"block",id:s.id,spaceId:U.id});return e.isCollectionView()?e:void 0}),[U,s]),{isTeamMember:R}=(0,B().i)({teamStore:s}),F=(0,y().X)("posts_show_all_button_flag"),z=R&&F,W=(0,r().K8)((()=>(0,m().Sh)({archived_by:s.getArchivedBy()})),[s]),D=(0,k().X)(s),$=[{key:"all",render:e=>(0,K.jsx)(M().A,{...e,topBorder:!1,style:G.sectionMenuItem}),items:[..._?[{key:"toggleFollowSettings",render:e=>(0,K.jsx)(L,{props:e,teamStore:s}),action:()=>{}}]:[],...!W&&D&&H?[{key:"addMembers",render:e=>(0,K.jsx)(x().u,{permissionsInviteStore:H,store:s,origin:(0,K.jsx)(h().A,{...e,style:G.buttonMenuItem,pressedStyle:G.buttonMenuItemPressed,icon:(0,K.jsx)(S().I,{icon:c().x}),onClick:()=>{H.update((e=>({...e,modalOpen:!0})))},titleStyle:G.title,title:(0,K.jsx)(u().sA,{defaultMessage:"Add members",id:"sidebar.outlinerTeamToggleButton.addLabel"})})}),action:()=>{}}]:[],...!W&&R?[{key:"teamSettings",render:e=>(0,K.jsx)(h().A,{...e,style:G.buttonMenuItem,pressedStyle:G.buttonMenuItemPressed,icon:(0,K.jsx)(S().I,{icon:a().gearIcon}),onClick:()=>{V().F2({environment:P,teamId:s.id,tab:A().p.Members,from:"team_home_more_menu"}),t.close()},titleStyle:G.title,title:(0,K.jsx)(u().sA,{defaultMessage:"Teamspace settings",id:"sidebar.outlinerTeamToggleButton.ownerViewLabel"})}),action:()=>{}}]:[],{key:"copyLink",render:e=>{const n=!R;return(0,K.jsx)(h().A,{...e,style:{...G.buttonMenuItem,...n&&G.transparentButtonMenuItemBorder},pressedStyle:G.buttonMenuItemPressed,icon:(0,K.jsx)(S().I,{icon:i().d}),onClick:async()=>{const e=(0,d().a)({teamId:s.id,spaceId:null==U?void 0:U.id,baseUrl:I().A.domainBaseUrl}),n=await p().R.clipboardActions.load(),r=n.clipboardMessages.copiedTeamHomeLinkToClipboard;n.copyString({environment:P,stringValue:e,copiedMessage:r}),t.close()},titleStyle:G.title,title:(0,K.jsx)(u().sA,{defaultMessage:"Copy link",id:"teamHome.copyLinkTooltip.title"})})},action:()=>{}},...z?[{key:"showAll",render:e=>(0,K.jsx)(h().A,{...e,style:{...G.buttonMenuItem,...G.transparentButtonMenuItemBorder},pressedStyle:G.buttonMenuItemPressed,titleStyle:G.title,icon:(0,K.jsx)(S().I,{icon:l().T}),onClick:e=>{U&&O&&v().uK({environment:P,store:O,pageVisitSource:o().y8.TeamHomePage})},title:(0,K.jsx)(u().sA,{defaultMessage:"Show all",id:"teamHome.showAll.title"})}),action:()=>{}}]:[]]}];return(0,K.jsx)(C().A,{menuType:w().gu.Popup,height:_?"50vh":void 0,minWidth:250,maxWidth:_?"100vw":void 0,scrollerStyle:G.menuScroller,header:_&&(0,K.jsx)(b().A,{style:G.header,children:"Actions"}),children:(0,K.jsx)(g().Ay,{type:g().Oh.Vertical,sections:$,initialFocus:void 0})})}},623241:(e,t,s)=>{s.d(t,{i:()=>i});var n=()=>s(484714),r=()=>s(56366),o=()=>s(486130);function i(e){const{teamStore:t}=e,s=(0,n().v3)(),i=(0,r().K8)((()=>o()._.getSpacePermissionGroupIds({userId:s.currentUser.id,spaceId:null==t?void 0:t.getSpaceId()})),[s,t]),a=(0,r().K8)((()=>{if(t&&s.currentUser.id)return t.getTeamRoleForUser(s.currentUser.id,i)}),[t,s.currentUser.id,i]),c=(0,r().K8)((()=>!!t&&"open"===t.getTeamAccessLevel()),[t]),l="none"===a||!a,d=!l;return{isTeamMember:d,canViewPosts:d||c,canJoinTeam:l&&c,postingRestricted:(0,r().K8)((()=>{if(t)return!t.teamPermissionAllowsMembersToPost()&&!t.allowsUserToPost()}),[t])}}},931956:(e,t,s)=>{s.d(t,{X:()=>c});var n=()=>s(56366),r=()=>s(534177),o=()=>s(10984),i=()=>s(211825),a=()=>s(43450);function c(e){const t=(0,a().R)(e),s=(0,i().G)(e);return(0,n().K8)((()=>{if(!(0,o().El)())return!1;const n=e.getSetting("invite_access");switch(n){case void 0:return!1;case"team_members":return s;case"team_owners":return t;default:(0,r().HB)(n)}}),[e,t,s])}},986863:(e,t,s)=>{s.d(t,{u:()=>o});var n=()=>s(645873);const r=new(n().O2)("teamPermissionsInviteWithModal",(async()=>await Promise.all([s.e(75134),s.e(9304),s.e(16471),s.e(58550),s.e(44711),s.e(53321),s.e(90825),s.e(96346),s.e(55373),s.e(37353),s.e(29151),s.e(78191),s.e(62475),s.e(3151),s.e(98629),s.e(49889),s.e(97727),s.e(22900),s.e(85128),s.e(95555),s.e(14659),s.e(92845),s.e(84468),s.e(5605),s.e(48486),s.e(95794),s.e(13677),s.e(56952),s.e(48632),s.e(74562),s.e(27711),s.e(4422),s.e(11341),s.e(46414),s.e(95168),s.e(28271),s.e(34877),s.e(36908),s.e(17254),s.e(84185),s.e(32421),s.e(15315),s.e(24587),s.e(78708),s.e(43777),s.e(74752),s.e(91194),s.e(81197),s.e(98659),s.e(20502),s.e(6266),s.e(8184),s.e(83884),s.e(65881),s.e(99809),s.e(93282),s.e(43678),s.e(15019),s.e(90978),s.e(3910),s.e(77213),s.e(6912),s.e(21194),s.e(30291),s.e(39541),s.e(12913),s.e(45620),s.e(54220),s.e(19930),s.e(81768),s.e(58102),s.e(52836),s.e(26483),s.e(19687),s.e(6463),s.e(68137),s.e(50569),s.e(40925),s.e(24975),s.e(282),s.e(87250),s.e(93847),s.e(79928),s.e(7203),s.e(61349),s.e(55197),s.e(94256),s.e(76690),s.e(29669),s.e(24930),s.e(62573),s.e(33882),s.e(44763),s.e(1440),s.e(5044),s.e(31782),s.e(93449),s.e(63996),s.e(895),s.e(66559),s.e(35986),s.e(45683),s.e(78862),s.e(38536),s.e(92924),s.e(64819),s.e(67378),s.e(40186),s.e(97339),s.e(55717),s.e(63797),s.e(56352),s.e(52811),s.e(28398),s.e(21367),s.e(65351),s.e(22686),s.e(4112),s.e(31889),s.e(36009),s.e(81973),s.e(2600),s.e(77663),s.e(97832),s.e(75681)]).then(s.bind(s,487443)))),o=(0,n()._h)(r,(e=>e.TeamPermissionsInviteWithModal))}}]);