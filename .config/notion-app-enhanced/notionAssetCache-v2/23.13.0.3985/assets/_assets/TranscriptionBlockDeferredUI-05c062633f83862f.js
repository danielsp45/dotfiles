"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[30603],{13486:(e,t,n)=>{n.r(t),n.d(t,{TranscriptionBlockConsentActions:()=>m});var a=n(296540),s=()=>n(484714),o=()=>n(56366),i=()=>n(764781),r=()=>n(849615),l=()=>n(276600),c=()=>n(750505),d=()=>n(353890),u=()=>n(73768),p=()=>n(894368),h=n(474848);const f=(0,n(959013).YK)({playAudioButtonTooltip:{id:"TranscriptionBlockConsentActions.playAudio.tooltip",defaultMessage:"Play audio consent message"},playAudioDisabledButtonTooltip:{id:"TranscriptionBlockConsentActions.playAudio.disabled.tooltip",defaultMessage:"Audio is not supported on your device"},copyButtonTooltip:{id:"TranscriptionBlockConsentActions.copyMessage.tooltip",defaultMessage:"Copy consent message"}});function m(){const{currentUser:e}=(0,s().v3)(),t=(0,o().K8)((()=>(0,l().F)(e.id)),[e.id]),n=(0,a.useCallback)((()=>{(0,c().Vu)(e.id,t)}),[e.id,t]);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(g,{language:t}),(0,h.jsx)(p().X,{icon:i().V,label:f.copyButtonTooltip,onClick:n})]})}function g(e){const{store:t}=(0,d().s)(),{currentUser:n}=(0,s().v3)(),i=!(0,o().O$)(u().u),l=(0,a.useCallback)((()=>{(0,c().YW)({blockId:t.id,userId:n.id,language:e.language,showtime:!0})}),[t.id,n.id,e.language]);return(0,h.jsx)(p().X,{disabled:i,icon:r().B,label:i?f.playAudioDisabledButtonTooltip:f.playAudioButtonTooltip,onClick:l})}},73768:(e,t,n)=>{n.d(t,{u:()=>s});class a extends(()=>n(757695))().Store{getInitialState(){return"speechSynthesis"in window&&(speechSynthesis.getVoices(),!0)}}const s=new a},74e3:(e,t,n)=>{n.d(t,{$q:()=>o,u1:()=>s});var a=()=>n(805952);function s(){return Object.entries(a().Cu)}function o(e){return a().Cu[e][1]}},408197:(e,t,n)=>{n.d(t,{s:()=>s});n(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"2.68 1.82 14.63 14.4",svg:(0,n(474848).jsx)("path",{d:"M10.566 16.22a4.6 4.6 0 0 1-2.068-.487v-.01l-1.423-.487h-.122V7.498l1.76-1.876c.293-.375.576-.938.846-1.475.179-.355.352-.7.519-.972l.36-.74a1.29 1.29 0 0 1 1.551-.527c.624.243.955.916.77 1.56l-.507 1.774c-.099.343-.241.63-.384.917a5.6 5.6 0 0 0-.376.887.404.404 0 0 0 .39.517h4.095a1.22 1.22 0 0 1 1.218 1.218c0 .42-.224.78-.555.995a1.2 1.2 0 0 1-.147 2.213c.274.224.459.556.459.936a1.21 1.21 0 0 1-1.21 1.219 1.22 1.22 0 0 1-.868 2.077zM5.734 8.148H3.663a.975.975 0 0 0-.975.975v5.138c0 .538.436.975.974.975h2.072z"})},s=(0,n(340498).wt)("handThumbsUpFill",a)},436150:(e,t,n)=>{n.d(t,{v:()=>s});n(296540);const a={viewBox:"0 0 20 20",fittedViewBox:"2.68 3.77 14.63 14.4",svg:(0,n(474848).jsx)("path",{d:"m6.953 12.502 1.76 1.876c.293.375.576.938.846 1.475.179.356.352.7.519.972l.36.741c.322.527.976.741 1.551.527.624-.244.955-.917.77-1.56l-.507-1.775a5.3 5.3 0 0 0-.384-.917c-.138-.278-.276-.556-.376-.887a.404.404 0 0 1 .39-.517h4.095a1.22 1.22 0 0 0 1.218-1.218c0-.42-.224-.78-.555-.995.4-.195.672-.594.672-1.072a1.2 1.2 0 0 0-.819-1.141 1.21 1.21 0 0 0 .459-.936 1.21 1.21 0 0 0-1.21-1.219 1.22 1.22 0 0 0-.868-2.077h-4.308c-.722 0-1.424.166-2.068.488v.01l-1.423.487h-.122zM5.734 4.764v7.088H3.663a.975.975 0 0 1-.975-.975V5.74c0-.538.436-.975.974-.975z"})},s=(0,n(340498).wt)("handThumbsDownFill",a)},600255:(e,t,n)=>{n.r(t),n.d(t,{FeedbackButtons:()=>T});var a=n(296540),s=()=>n(484714),o=()=>n(401497),i=()=>n(436150),r=()=>n(408197),l=()=>n(959013),c=()=>n(284371),d=()=>n(285790),u=()=>n(297872),p=()=>n(623580),h=()=>n(676007),f=()=>n(864943),m=()=>n(204063),g=()=>n(376203),b=()=>n(449506);function y(e){const{environment:t,blockStore:n,feedback:a,comment:s}=e;b().callApi({eventName:"saveInferenceTranscriptFeedback",environment:t,data:{type:"summarize-transcript",traceId:n.id,feedbackType:a,userComment:s,spaceId:n.getSpaceId()}})}var v=()=>n(353890),x=n(474848);function T(){const e=(0,s().v3)(),t=(0,l().tz)(),n=(0,o().IS)((e=>({container:{display:"flex",alignItems:"center",gap:8,marginTop:12,color:e.text.tertiary,fontSize:14}})),[]),{store:c}=(0,v().s)(),[u,p]=(0,a.useState)(void 0);return(0,x.jsxs)("div",{style:n.container,children:[(0,x.jsx)(l().sA,{id:"TranscriptionBlockFeedbackMenu.feedback",defaultMessage:"Was this summary helpful?"}),(0,x.jsxs)("div",{children:[(0,x.jsx)(d().A,{icon:r().s,onClick:()=>p("thumbsUp"),ariaLabel:t.formatMessage(A.thumbsUpAriaLabel)}),(0,x.jsx)(d().A,{icon:i().v,onClick:()=>p("thumbsDown"),ariaLabel:t.formatMessage(A.thumbsDownAriaLabel)})]}),(0,x.jsx)(k,{state:u,onClose:()=>p(void 0),submit:t=>{let{feedback:n}=t;"thumbsUp"===u?y({environment:e,blockStore:c,feedback:"thumbs_up",comment:n}):"thumbsDown"===u&&y({environment:e,blockStore:c,feedback:"thumbs_down",comment:n})}})]})}function k(e){const{state:t,onClose:n,submit:s}=e,i=void 0!==t,[r,d]=(0,a.useState)(""),b=(0,l().tz)(),y=(0,g().B)(),v=(0,g().B)(),T=(0,o().IS)((e=>({wrap:{display:"flex",flexDirection:"column",minHeight:128},modalWrap:{width:"32rem",padding:24,fontSize:14,maxWidth:"100%"},modalTitle:{margin:0,fontSize:16,fontWeight:c().Wy.medium},modalSubtitle:{fontSize:13,color:e.text.tertiary},titleContainer:{marginBottom:12},buttonArea:{display:"flex",justifyContent:"flex-end",marginTop:18,gap:6},feedbackArea:{marginTop:17,padding:8}})),[]),k=(0,a.useCallback)((e=>{const t=e.target.value;d(t)}),[]),S=(0,a.useCallback)((()=>{n(),d("")}),[n]),M=(0,a.useCallback)((()=>{s({feedback:r}),S()}),[r,s,S]),w="thumbsUp"===t?A.feedbackPlaceholderThumbsUp:A.feedbackPlaceholderThumbsDown;return(0,x.jsx)(h().a,{open:i,ariaLabelledBy:y,ariaDescribedBy:v,onDismiss:S,render:()=>(0,x.jsx)(u().A,{capture:!0,allowUndo:!1,allowEsc:!0,allowTabUntab:!1,render:e=>(0,x.jsx)("div",{style:T.wrap,children:(0,x.jsxs)("div",{style:T.modalWrap,...e,children:[(0,x.jsxs)("div",{style:T.titleContainer,children:[(0,x.jsx)("h3",{id:y,style:T.modalTitle,children:(0,x.jsx)(l().sA,{...A.title})}),(0,x.jsx)("div",{id:v,style:T.modalSubtitle,children:(0,x.jsx)(l().sA,{...A.subtitle})})]}),(0,x.jsx)(p().A,{placeholder:b.formatMessage(w),value:r,onChange:k,focusInitial:!0,style:T.feedbackArea,textarea:!0,"aria-label":b.formatMessage(A.feedbackTextAreaAriaLabel)}),(0,x.jsxs)("div",{style:T.buttonArea,children:[(0,x.jsx)(f().A,{size:"lg",onClick:S,children:(0,x.jsx)(l().sA,{...A.cancel})}),(0,x.jsx)(m().A,{size:"lg",onClick:M,children:(0,x.jsx)(l().sA,{...A.submit})})]})]})})})})}const A=(0,l().YK)({title:{id:"TranscriptionBlockFeedbackModal.title",defaultMessage:"AI Meeting Notes feedback"},subtitle:{id:"TranscriptionBlockFeedbackModal.subtitle",defaultMessage:"Your feedback helps us improve meeting notes."},feedbackTextAreaAriaLabel:{id:"TranscriptionBlockFeedbackModal.input.ariaLabel",defaultMessage:"Feedback"},feedbackPlaceholderThumbsUp:{id:"TranscriptionBlockFeedbackModal.feedbackPlaceholderThumbsUp",defaultMessage:"What did you like about the summary or transcript?"},feedbackPlaceholderThumbsDown:{id:"TranscriptionBlockFeedbackModal.feedbackPlaceholderThumbsDown",defaultMessage:"What issues did you notice with the summary or transcript? Please be as specific as possible."},cancel:{id:"TranscriptionBlockFeedbackModal.cancel",defaultMessage:"Cancel"},submit:{id:"TranscriptionBlockFeedbackModal.submit",defaultMessage:"Submit feedback"},thumbsUpAriaLabel:{id:"TranscriptionBlockFeedbackModal.thumbsUpAriaLabel",defaultMessage:"Thumbs up"},thumbsDownAriaLabel:{id:"TranscriptionBlockFeedbackModal.thumbsDownAriaLabel",defaultMessage:"Thumbs down"}})},619019:(e,t,n)=>{n.d(t,{w:()=>s});var a=()=>n(496603);function s(){return(0,a().hS)(speechSynthesis.getVoices(),(e=>e.voiceURI))}},750505:(e,t,n)=>{n.d(t,{S$:()=>A,Vu:()=>S,YL:()=>w,YW:()=>j,se:()=>k,yo:()=>M});n(898992),n(672577);var a=()=>n(857639),s=()=>n(763884),o=()=>n(319625),i=()=>n(874913),r=()=>n(436572),l=()=>n(972435),c=()=>n(695237),d=()=>n(666429),u=()=>n(863163),p=()=>n(840385),h=()=>n(619019),f=()=>n(809328),m=()=>n(276600);const g="transcriptionConsentMessageV2",b="transcriptionConsentMessageVoice",y=25,v=(0,n(959013).YK)({copiedConsentToast:{defaultMessage:"Consent message copied to clipboard",id:"transcription.consentActions.copyToast.success"},copyConsentErrorToast:{defaultMessage:"Failed to copy consent message to clipboard",id:"transcription.consentActions.copyToast.failure"},playAudioMutedToast:{defaultMessage:"Your volume is muted",id:"transcription.consentActions.playAudioToast.testing.muted"},playAudioMutedWithInstructionsToast:{defaultMessage:"Your volume is muted. Turn it up so that all participants can hear the message.",id:"transcription.consentActions.playAudioToast.muted"},playAudioLowToast:{defaultMessage:"Your volume is low. Turn it up so that all participants can hear the message.",id:"transcription.consentActions.playAudioToast.lowVolume"}});function x(e){return s().K.get({userId:e,key:g})}function T(e){return s().K.get({userId:e,key:b})}function k(e,t){if(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2])){const n=x(e);if(null!=n&&n[t])return n[t]}const n=(0,p().v)(t);return n?(0,c().J)(n,u().f.defaultConsentMessage):l().A.getIntl().formatMessage(u().f.defaultConsentMessage)}const A=(0,n(496603).sg)(((e,t,n)=>{const a=x(e);s().K.set({userId:e,key:g,value:{...a,[t]:n}})}),1e3);async function S(e,t){try{await navigator.clipboard.writeText(k(e,t)),r().D6({label:l().A.getIntl().formatMessage(v.copiedConsentToast)})}catch{r().D6({label:l().A.getIntl().formatMessage(v.copyConsentErrorToast)})}}function M(e,t,n){const a=T(e);s().K.set({userId:e,key:b,value:{...a,[t]:n}})}function w(e,t){const n=function(e,t){const n=T(e);if(n)return n[t]}(e,t),a=(0,h().w)();if(!a.length)return;const s=a.find((e=>e.name===n));if(s)return s;const o=(0,p().b)(t),i=a.find((e=>e.default));if(i&&o.includes(i.lang))return i;const r=a.find((e=>o.includes(e.lang)&&(0,f().H)(e,t)));return r||a[0]}let C=!1;async function j(e){const{blockId:t,userId:n,language:a,showtime:s,voice:c}=e;if(!("speechSynthesis"in window))return void I({blockId:t,level:"warning",subType:"unsupportedDevice"});const u=await i().getDeviceVolume();if("number"==typeof u&&-1!==u){if(0===u)return void r().D6({label:s?l().A.getIntl().formatMessage(v.playAudioMutedWithInstructionsToast):l().A.getIntl().formatMessage(v.playAudioMutedToast),durationMs:d().LX});s&&u<=y&&r().D6({label:l().A.getIntl().formatMessage(v.playAudioLowToast),durationMs:d().LX})}try{C&&speechSynthesis.cancel(),C=!0;const e=k(n,a).replace(/AI/g,"A.I.").replace(/IA/g,"I.A."),t=new SpeechSynthesisUtterance(e);if(c)t.voice=c;else{const e=w(n,(0,m().F)(n));e&&(t.voice=e)}t.onstart=()=>C=!0,t.onend=()=>C=!1,t.onerror=()=>C=!1,speechSynthesis.speak(t)}catch(p){I({blockId:t,level:"error",subType:"speechSynthesisError",error:(0,o().A)(p)})}finally{C=!1}}function I(e){const{blockId:t,level:n,subType:s,error:o}=e;a().log({level:n,from:"transcriptionConsentActions",type:`playAudioConsentMessage:${s}`,error:o,data:{miscDataToConvertToString:{blockId:t}}})}},809328:(e,t,n)=>{n.d(t,{H:()=>i,t:()=>l});n(898992),n(430670);var a=()=>n(906065);function s(e){const t=["Aaron","Arthur","Catherine","Daniel","Gordon","Karen","Martha","Moira","Nicky","Rishi","Samantha","Tessa","Zarvox"];switch(e){case"Simplified_Chinese":case"Traditional_Chinese":return["Li-Mu","Meijia","Sinji","Tingting","Yu-shu"];case"Danish":return["Sara"];case"Dutch":return["Ellen","Xander"];case"English":default:return t;case"Finnish":return["Satu"];case"French":return["Amélie","Jacques","Marie","Thomas"];case"German":return["Anna","Helena","Martin"];case"Japanese":return["Hattori","Kyoko","O-Ren"];case"Korean":return["Yuna"];case"Norwegian":return["Nora"];case"Russian":return["Milena"];case"Portuguese":return["Joanna","Luciana"];case"Spanish":return["Mónica","Paulina"];case"Swedish":return["Alva"];case"Thai":return["Kanya"];case"Vietnamese":return["Linh"];case"Italian":return["Isabella","Giuseppe","Federica","Luca"]}}function o(e){return e.name.startsWith("Google ")||e.name.startsWith("Microsoft ")}function i(e,t){if(o(e))return!0;const n=(0,a().U)(e);return s(t).includes(n)}const r=(0,n(74e3).u1)().flatMap((e=>{let[t]=e;return s(t)}));function l(e){if(o(e))return!0;const t=(0,a().U)(e);return r.includes(t)}},906065:(e,t,n)=>{function a(e){if(e.name.startsWith("Google "))return e.name.trim();const t=e.name.startsWith("Microsoft ")?1:0;return e.name.split(" ")[t]}n.d(t,{U:()=>a})},955079:(e,t,n)=>{n.r(t),n.d(t,{TranscriptionBlockCalendarAttendeesList:()=>y});n(581454),n(296540);var a=()=>n(56366),s=()=>n(401497),o=()=>n(798880),i=()=>n(959013),r=()=>n(284371),l=()=>n(859428),c=()=>n(453697),d=()=>n(765957),u=()=>n(630116),p=n(474848);const h=(0,i().YK)({attendeesOverflowCount:{id:"transcriptionBlockCalendarHeader.attendeesOverflowCount",defaultMessage:"+{count}"},attendeesTooBigToShow:{id:"transcriptionBlockCalendarHeader.attendeesTooBigToShow",defaultMessage:"{count, plural, one {+1 person} other {+{count} people}}"}}),f=24,m=6,g=7,b=15;function y(e){const{calendarEvent:t}=e,{attendeeIds:n}=t,i=(0,s().IS)((()=>({container:{display:"flex",alignItems:"center",flexShrink:0,marginTop:5,marginLeft:m},avatarsList:{display:"flex",flexDirection:"row-reverse"},avatarWrapper:{marginLeft:-m}})),[]),{visibleUsers:r,hiddenUsers:l,totalCount:c}=(0,a().K8)((()=>{const{currentSpaceStore:e}=d().default.state;if(!e||!n||0===n.length)return{visibleUsers:[],hiddenUsers:[],totalCount:0};const t=n.slice(0,g+b).map((t=>u().LU.createChildStore(e,{table:o().oo,id:t})));return{visibleUsers:t.slice(0,g),hiddenUsers:t.slice(g),totalCount:n.length}}),[n]);if(0===r.length)return null;const h=[...r].reverse();return(0,p.jsxs)("div",{style:i.container,children:[(0,p.jsx)("div",{style:i.avatarsList,children:h.map((e=>(0,p.jsx)("div",{style:i.avatarWrapper,children:(0,p.jsx)(v,{userStore:e,hasTooltip:!0})},e.id)))}),l.length>0?(0,p.jsx)(x,{userStores:l,totalCount:c}):null]})}function v(e){const{userStore:t,hasTooltip:n,size:a=f}=e,o=k(t),i=(0,s().IS)((e=>({container:{cursor:"default",width:a,height:a,borderRadius:"50%",outlineStyle:"solid",outlineWidth:1,outlineColor:e.stroke.secondary},iconStyle:{outlineWidth:0},tooltipContent:{display:"flex",flexDirection:"column",alignItems:"flex-start"},tooltipEmail:{color:e.text.secondary,fontSize:12,fontWeight:r().Wy.regular}})),[a]);if(!o)return null;const d=(0,p.jsx)("div",{style:i.container,children:(0,p.jsx)(c().A,{userStore:t,size:a,iconStyle:i.iconStyle,avatarShouldShowShadow:!1})});return n?(0,p.jsx)(l().A,{renderTooltip:()=>(0,p.jsxs)("div",{style:i.tooltipContent,children:[(0,p.jsx)("span",{children:o.displayName}),o.email?(0,p.jsx)("span",{style:i.tooltipEmail,children:o.email}):null]}),render:e=>(0,p.jsx)("div",{...e,children:d})}):d}function x(e){const{userStores:t,totalCount:n}=e,a=n-g,o=(0,s().IS)((e=>({container:{fontSize:14,fontWeight:r().Wy.regular,color:e.text.tertiary,marginLeft:m,cursor:"default"},tooltipContent:{display:"flex",flexDirection:"column",alignItems:"flex-start",gap:8,padding:"4px 0"},tooBigToShow:{color:e.text.contrastSecondary,marginTop:2,paddingLeft:24}})),[]);return(0,p.jsx)(l().A,{allowHover:!0,renderTooltip:e=>(0,p.jsxs)("div",{...e,style:o.tooltipContent,children:[t.map((e=>(0,p.jsx)(T,{userStore:e},e.id))),a>b&&(0,p.jsx)("div",{style:o.tooBigToShow,children:(0,p.jsx)(i().sA,{...h.attendeesTooBigToShow,values:{count:a-b}})})]}),render:e=>(0,p.jsx)("div",{...e,style:o.container,children:(0,p.jsx)(i().sA,{...h.attendeesOverflowCount,values:{count:a}})})})}function T(e){const{userStore:t}=e,n=k(t),a=(0,s().IS)((e=>({container:{display:"flex",gap:4},userInfo:{display:"flex",flexDirection:"column",paddingTop:2},userEmail:{color:e.text.secondary,fontSize:12,fontWeight:r().Wy.regular}})),[]);return n?(0,p.jsxs)("div",{style:a.container,children:[(0,p.jsx)(v,{userStore:t,hasTooltip:!1,size:20}),(0,p.jsxs)("div",{style:a.userInfo,children:[(0,p.jsx)("span",{children:n.displayName}),(0,p.jsx)("span",{style:a.userEmail,children:n.email})]})]}):null}function k(e){const t=(0,i().tz)();return(0,a().K8)((()=>{if(e.isDefined())return{displayName:e.getDisplayName(t),email:e.getEmail()}}),[e,t])}}}]);