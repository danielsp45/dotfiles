"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[38025],{67775:(e,t,n)=>{n.d(t,{l:()=>g});n(296540);var i=()=>n(401497),o=()=>n(72135),r=()=>n(496603),s=()=>n(720665),a=()=>n(458366),l=()=>n(972435),c=()=>n(78901),d=()=>n(162010),u=n(474848);const p=21;function g(e){const{numberValue:t,numberFormat:n,numberPrecision:g,numberShowAs:m,shouldRenderTooltip:h,withComma:x,style:b,ringWidth:f,className:S,barHeight:y}=e,A=(0,i().DP)();if(r().yr(t)||s().pN(t))return null;const j=e.progressSize??p,w=(null==m?void 0:m.showValue)??!0,M=w&&o().ZV(t,n,l().A.getIntl(),void 0,g);let v;if("bar"===(null==m?void 0:m.type)||"ring"===(null==m?void 0:m.type)){const i=o().XK(t,m.maxValue),{filledColor:r,gapColor:s,unfilledColor:l}=function(e){let{theme:t,color:n}=e;const i="default"===n?t.selectLightGray:t.palette[n],o="dark"===t.mode?i[500]:i[400],r=i[50],s="dark"===t.mode?i[200]:t.selectLightGray[200];return{filledColor:o,gapColor:r,unfilledColor:s}}({theme:A,color:m.color}),p=h?a().lh({numberValue:t,numberFormat:n,numberShowAs:m}):void 0;v="bar"===m.type?(0,u.jsx)(c().z,{percentage:i,filledColor:r,gapColor:s,unfilledColor:l,height:y,style:{height:j,...e.barStyle,...w?{}:{flexBasis:"100%"}},tooltip:p}):(0,u.jsx)(d().C,{percentage:i,filledColor:r,gapColor:s,unfilledColor:l,size:j,ringWidth:f,tooltip:p})}return(0,u.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",gap:"6px 8px",...b},className:S,children:[M,v,x?", ":null]})}},160817:(e,t,n)=>{n.d(t,{h:()=>i});const i=(0,n(340498).xh)("plus",{default:{loader:()=>n.e(48760).then(n.bind(n,948760))},small:{loader:()=>n.e(29422).then(n.bind(n,129422))},mini:{loader:()=>n.e(1046).then(n.bind(n,701046))},large:{loader:()=>n.e(50150).then(n.bind(n,550150))}})},162010:(e,t,n)=>{n.d(t,{C:()=>l});n(296540);var i=()=>n(401497),o=()=>n(962730),r=()=>n(859428),s=n(474848);const a=2;function l(e){const{percentage:t,ringWidth:n,size:l,style:c,label:d}=e,u=(0,i().DP)(),p=n??3,g=l/2-p/2,m=2*Math.PI*g,h=l/2,x=e.filledColor??u.palette.gray[500],b=e.unfilledColor??u.palette.gray[100],f=e.gapColor??"transparent",S=Math.min(Math.max(t,0),100),y=S>a&&S+2*a<95&&(0,s.jsx)("circle",{r:g,cx:h,cy:h,strokeWidth:p,stroke:f,strokeLinecap:"round",strokeDasharray:`${m} ${m*(100-(S+2*a))/100}`,strokeDashoffset:""+m*(100-(S+a))/100,fill:"transparent"}),A=e=>(0,s.jsx)("div",{role:"progressbar","aria-valuenow":S,style:{height:l,width:l,...c,pointerEvents:"auto"},...e,children:(0,s.jsxs)("svg",{viewBox:`0 0 ${l} ${l}`,color:"transparent",style:{width:"100%",height:"100%",transform:"rotate(-90deg)",transformOrigin:"50% 50%"},children:[(0,s.jsx)("circle",{r:g,cx:h,cy:h,strokeWidth:p,stroke:b,strokeLinecap:"round",fill:"transparent"}),y,(0,s.jsx)("circle",{r:g,cx:h,cy:h,strokeWidth:p,stroke:x,strokeLinecap:"round",strokeDasharray:m,strokeDashoffset:m-S/100*m,fill:"transparent"}),(0,s.jsx)("text",{x:h,y:h,textAnchor:"middle",dominantBaseline:"middle",fill:u.text.secondary,fontSize:"0.75em",style:{transformOrigin:"50% 50%",transform:"rotate(90deg)"},children:d})]})});return e.tooltip?(0,s.jsx)(r().A,{placement:o().W.Top,renderTooltip:()=>e.tooltip,render:A}):A()}},323914:(e,t,n)=>{n.d(t,{c:()=>r,y:()=>o});var i=()=>n(463830);const o=new(i().A),r=new(i().A)},689877:(e,t,n)=>{n.d(t,{W:()=>j});n(16280),n(296540);var i=()=>n(484714),o=()=>n(852507),r=()=>n(56366),s=()=>n(401497),a=()=>n(959013),l=()=>n(530216),c=()=>n(537941),d=()=>n(760217),u=()=>n(406699),p=()=>n(780054),g=()=>n(38337),m=()=>n(997513),h=()=>n(215152),x=()=>n(20489),b=()=>n(227440),f=()=>n(323914),S=()=>n(214006),y=()=>n(998883),A=n(474848);function j(e){let{createType:t,icon:n,disableLoginLink:s,redirectURL:g,loginStore:m}=e;const j=(0,i().v3)(),v=(0,a().tz)(),I=(0,r().uB)(void 0,h().A),k=(0,r().uB)(m,x().A);(0,o().l)((()=>{"email"===k.state.loginType&&p().A.isMobile&&k.setState({...k.state,loginType:"google"})}));const L=(0,r().O$)(b().e),C=(0,r().K8)((()=>{var e;return null===(e=j.mobileNative)||void 0===e?void 0:e.supportsNativeHomeOnPhone()}),[j]),W=(0,y().CF)();return p().A.isMobile?(0,A.jsx)(u().Ay,{popupType:u().z7.SlideUp,hidesMobileNativeBottomBar:C,preventSlideUpTransition:C,buttonPopupStore:"add-account"===t?f().c:f().y,alignmentToOrigin:u().yP.Start,placementToOrigin:u().sx.Top,originGap:0,isFullWidthOnMobile:!0,render:e=>(I.setState({open:!0}),(0,A.jsx)(M,{intl:v,disableLoginLink:s,redirectURL:g,loginStore:k,loginModalStore:I,createType:t,onDismiss:()=>{C?c().navigateToHomeTab(j,e.close):e.close()}})),preventScaleTransition:!0,renderOrigin:e=>(0,A.jsx)(d().A,{textWrapperStyle:W.buttonWrapper,focused:!1,disabled:!L,title:(0,A.jsx)(w,{createType:t}),icon:n,...e})}):(0,A.jsxs)("div",{onClick:()=>{L&&(l().ff(j,{createType:t}),S().A.setState({...S().A.getState(),createType:t}),I.setState({open:!0}))},children:[(0,A.jsx)(d().A,{textWrapperStyle:W.buttonWrapper,focused:!1,disabled:!L,title:(0,A.jsx)(w,{createType:t}),icon:n}),(0,A.jsx)(M,{intl:v,disableLoginLink:s,redirectURL:g,loginStore:k,loginModalStore:I,createType:t})]})}function w(e){let{createType:t}=e;const n=(0,s().IS)((e=>({accountAction:{display:"flex",color:e.text.secondary,whiteSpace:"nowrap",fontSize:p().A.isMobile?16:12}})),[]);let i;switch(t){case"create-work":i=(0,A.jsx)(a().sA,{defaultMessage:"Create work account",id:"sidebarSwitcherMultiAccount.menuItem.createWorkAccountButton.label"});break;case"add-account":i=(0,A.jsx)(a().sA,{defaultMessage:"Add another account",id:"sidebarSwitcherMultiAccount.addAccountButton.label"})}return i?(0,A.jsx)("div",{style:n.accountAction,children:i}):null}function M(e){let{createType:t,onDismiss:n,intl:i,disableLoginLink:o,redirectURL:s,loginStore:l,loginModalStore:c}=e;const d=(0,r().uB)(c,h().A),u=(0,r().uB)(l,x().A);let p,b;switch(t){case"add-account":p=(0,A.jsx)(a().sA,{id:"sidebarSwitcherMultiAccount.addAccount.title",defaultMessage:"Add an account"}),b=(0,A.jsx)(a().sA,{id:"sidebarSwitcherMultiAccount.addAccount.description",defaultMessage:"Use an existing account, or sign up with a new email. Your current account will remain logged in."});break;case"create-work":p=(0,A.jsx)(a().sA,{id:"sidebarSwitcherMultiAccount.createWork.title",defaultMessage:"Create a work account"}),b=(0,A.jsx)(a().sA,{id:"sidebarSwitcherMultiAccount.createWork.description",defaultMessage:"We’ll check if your teammates are already on Notion. If not, we’ll create a new home for you and your team."});break;default:throw new Error(i.formatMessage({defaultMessage:"Unexpected createType in SidebarSwitcherMultiAccount",id:"sidebarSwitcherMultiAccount.errorMessage"}))}return(0,A.jsx)(m().z,{loginModalStore:d,loginStore:u,title:p,description:b,disableLoginLink:o,className:g().w7$,redirectURL:s,onDismiss:n})}},779181:(e,t,n)=>{n.d(t,{S:()=>r});n(296540);var i=n(474848);const o={viewBox:"0 0 16 16",fittedViewBox:"2.82 1.77 12.86 13.91",svg:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{d:"M8 1.775c-.947 0-1.717.392-2.237 1.04-.508.633-.747 1.47-.747 2.337 0 .869.239 1.705.747 2.338.52.648 1.29 1.04 2.237 1.04s1.717-.392 2.237-1.04c.508-.633.748-1.47.748-2.338s-.24-1.704-.748-2.337c-.52-.648-1.29-1.04-2.237-1.04M6.738 3.597c.28-.348.69-.572 1.262-.572s.983.224 1.263.572c.291.364.472.904.472 1.555 0 .652-.18 1.192-.472 1.556-.28.348-.69.572-1.263.572s-.982-.224-1.262-.572c-.292-.364-.472-.904-.472-1.556 0-.651.18-1.191.472-1.555M8 9.178c-2.196 0-4.166 1.07-5.007 2.713a1.48 1.48 0 0 0 .2 1.676c.356.414.91.658 1.487.658h4.293a.075.075 0 0 0 .07-.105 3.8 3.8 0 0 1-.286-1.079.075.075 0 0 0-.075-.066H4.68a.72.72 0 0 1-.537-.22.3.3 0 0 1-.07-.14.26.26 0 0 1 .033-.154c.583-1.14 2.062-2.033 3.894-2.033.437 0 .855.051 1.245.144a.075.075 0 0 0 .081-.033 3.9 3.9 0 0 1 .78-.896.075.075 0 0 0-.024-.128A6.5 6.5 0 0 0 8 9.178"}),(0,i.jsx)("path",{d:"M12.6 9.525a3.06 3.06 0 0 0-2.474 1.248 3.06 3.06 0 0 0-.566 2.288 3.074 3.074 0 0 0 3.04 2.614 3.075 3.075 0 1 0 0-6.15m-.425 1.408a.425.425 0 0 1 .85 0V12.1c0 .041.034.075.075.075h1.167a.425.425 0 0 1 0 .85H13.1a.075.075 0 0 0-.075.075v1.166a.425.425 0 0 1-.85 0V13.1a.075.075 0 0 0-.075-.075h-1.166a.425.425 0 0 1 0-.85H12.1a.075.075 0 0 0 .075-.075z"})]})},r=(0,n(340498).wt)("inviteMemberSmall",o)},969339:(e,t,n)=>{n.d(t,{C6:()=>s,HQ:()=>r,Yo:()=>a});var i=()=>n(645873);const o=new(i().O2)("login",(async()=>{const{default:e}=await Promise.all([n.e(44711),n.e(35837),n.e(19687),n.e(25049),n.e(30873),n.e(96966)]).then(n.bind(n,465209)),{default:t}=await Promise.all([n.e(44711),n.e(35837),n.e(19687),n.e(25049),n.e(30873),n.e(96966)]).then(n.bind(n,406370)),{default:i}=await Promise.all([n.e(44711),n.e(35837),n.e(19687),n.e(25049),n.e(30873),n.e(96966)]).then(n.bind(n,737515)),{default:o}=await Promise.all([n.e(44711),n.e(35837),n.e(19687),n.e(25049),n.e(30873),n.e(96966)]).then(n.bind(n,936419)),{default:r}=await Promise.all([n.e(44711),n.e(35837),n.e(19687),n.e(25049),n.e(30873),n.e(96966)]).then(n.bind(n,52542));return{LoginPage:e,LoginDesktop:t,LoginMobileNative:i,FrontLoginPage:o,LoginModalContent:r}})),r=(0,i()._h)(o,(e=>e.LoginPage)),s=(0,i()._h)(o,(e=>e.FrontLoginPage)),a=(0,i()._h)(o,(e=>e.LoginModalContent))},997513:(e,t,n)=>{n.d(t,{z:()=>g});var i=n(296540),o=()=>n(484714),r=()=>n(56366),s=()=>n(401497),a=()=>n(959013),l=()=>n(107683),c=()=>n(2143),d=()=>n(969339),u=()=>n(756279),p=n(474848);function g(e){let{loginModalStore:t,loginStore:n,title:s,description:a,isSignup:c,disableLoginLink:u,redirectURL:g,className:b,onDismiss:f,trustedDomain:S}=e;const y=(0,o().v3)(),A=(0,r().K8)((()=>t.state.open),[t]),j=(0,i.useId)(),w=(0,i.useId)(),M={loginStore:n,title:s,description:a,isSignup:c,redirectURL:g,disableLoginLink:u,titleAriaId:j,descriptionAriaId:w,trustedDomain:S};return(0,p.jsx)(l().s,{ariaLabelledBy:j,ariaDescribedBy:w,isOpen:A,onDismiss:()=>{x({loginModalStore:t,loginStore:n,onDismiss:f})},areaConstraint:{width:{type:"fixed",length:480},height:{type:"unlimited",scroll:"allow"}},deprecatedCompatibilityOverrides:{tabletsUsePhoneDisplayMode:!0},render:()=>(0,p.jsx)(m,{children:(0,p.jsxs)("div",{className:b,children:[!y.device.isMobile&&(0,p.jsx)(h,{loginModalStore:t,loginStore:n,onDismiss:f}),(0,p.jsx)(d().Yo,{...M})]})})})}function m(e){let{children:t}=e;return(0,o().v3)().device.isMobile?(0,p.jsx)(c().H,{type:u().A.Y,children:t}):t}function h(e){let{loginModalStore:t,loginStore:n,onDismiss:i}=e;const o=(0,s().DP)();return(0,p.jsx)("div",{style:{fontSize:14,color:o.text.secondary,position:"absolute",right:0,marginTop:16,marginRight:16,cursor:"pointer",zIndex:1},onClick:()=>{x({loginModalStore:t,loginStore:n,onDismiss:i})},children:(0,p.jsx)(a().sA,{defaultMessage:"Cancel",id:"sidebarSwitcherMultiAccount.addAccountModal.cancelButton.label"})})}function x(e){const{loginModalStore:t,loginStore:n,onDismiss:i}=e;n.reset(),t.setState({open:!1}),i&&i()}},998883:(e,t,n)=>{n.d(t,{Ay:()=>me,CF:()=>je});n(898992),n(354520),n(581454);var i=n(296540),o=()=>n(484714),r=()=>n(56366),s=()=>n(401497),a=()=>n(187174),l=()=>n(160817),c=()=>n(889154),d=()=>n(959013),u=()=>n(284371),p=()=>n(899963),g=()=>n(449506),m=()=>n(901389),h=()=>n(435009),x=()=>n(493823),b=()=>n(760217),f=()=>n(928600),S=()=>n(480095),y=()=>n(460292),A=()=>n(89924),j=()=>n(47373),w=()=>n(722872),M=()=>n(112799),v=()=>n(719431),I=()=>n(905654),k=()=>n(1130),L=()=>n(155959),C=()=>n(227440),W=()=>n(320460),z=()=>n(214006),B=()=>n(122555),P=()=>n(742117),T=()=>n(734459),N=()=>n(713996),U=()=>n(2220),D=()=>n(406699),O=()=>n(939740),R=()=>n(188409),_=()=>n(962730),F=()=>n(463830),E=n(474848);function H(e){const{spaceInfo:t}=e,n=(0,o().v3)(),i=e.organizationsInfo.filter((e=>"completed"===e.onboardingStatus)),r=i.map((e=>function(e){const{organizationInfo:t,isOnlyEntry:n}=e;return(0,E.jsx)(V,{url:(0,T().re)({organizationId:t.id,tabRoute:N().Vo}),label:n?(0,E.jsx)(d().sA,{id:"sidebarSwitcherMultiAccount.menuItem.organization.generic",defaultMessage:"Manage organization"}):(0,E.jsx)(d().sA,{id:"sidebarSwitcherMultiAccount.menuItem.organization.name",defaultMessage:"Manage {organizationName}",values:{organizationName:t.name}})})}({organizationInfo:e,isOnlyEntry:1===i.length&&0===t.length}))),s=t.map((e=>function(e){const{spaceInfo:t,isOnlyEntry:n,environment:i}=e;return(0,E.jsx)(V,{onFireAnalyticsEvent:()=>{(0,U().u)({environment:i,event:{eventName:"org_console_onboarding_navigate",eventProperties:{spaceId:t.spaceId,route:N()._P.name,from:"workspace-switcher"}}})},url:(0,T().re)({organizationId:T().Zf,tabRoute:N()._P,queryParams:{[R().ge]:t.spaceId}}),label:n?(0,E.jsx)(d().sA,{id:"sidebarSwitcherMultiAccount.menuItem.organization.setup.generic",defaultMessage:"Set up organization"}):(0,E.jsx)(d().sA,{id:"sidebarSwitcherMultiAccount.menuItem.organization.setup.name",defaultMessage:"Set up {spaceName}",values:{spaceName:t.spaceName}})})}({spaceInfo:e,isOnlyEntry:1===t.length&&0===i.length,environment:n}))),a=[...s,...r];return a.length>0?(0,E.jsx)(A().A,{topBorder:!0,children:(0,E.jsx)(G,{allMenuItems:a})}):null}function G(e){const t=(0,r().uB)(void 0,F().A),{allMenuItems:n}=e;if(0===n.length)return null;if(1===n.length)return n[0];const i=n.map(((e,t)=>({key:t,render:()=>e,action:()=>{}})));return(0,E.jsx)(D().Ay,{placementToOrigin:_().W.Right,popupType:D().z7.Popup,buttonPopupStore:t,renderOrigin:e=>(0,E.jsx)(V,{events:e,label:(0,E.jsx)(d().sA,{id:"sidebarSwitcherMultiAccount.menuItem.organization.manage",defaultMessage:"Manage organizations"}),alternateIconFunc:P().V}),render:()=>{const e={menuType:w().gu.Popup,width:250};return(0,E.jsx)(f().A,{...e,children:(0,E.jsx)(O().Ay,{type:O().Oh.Vertical,initialFocus:0,sections:[{key:"organizations-management",render:e=>(0,E.jsx)(A().A,{...e}),items:i}]})})}})}function V(e){const{url:t,label:n,events:i,alternateIconFunc:r,onFireAnalyticsEvent:a}=e,l=(0,o().v3)(),c=(0,s().IS)((e=>({accountAction:{display:"flex",justifyContent:"space-between",alignItems:"center",color:e.text.secondary,whiteSpace:"nowrap",fontSize:12,paddingLeft:0},iconStyle:{height:12,width:12,fill:"current"},arrowIconStyle:{marginTop:3,transform:"rotate(90deg)"}})),[]),d=je();return(0,E.jsx)(b().A,{onClick:t?()=>{a&&a(),h().oo({environment:l,openInNew:"tab",makeTabActive:!0,url:t})}:void 0,textWrapperStyle:d.buttonWrapper,focused:!1,title:(0,E.jsxs)("div",{style:c.accountAction,children:[(0,E.jsx)("div",{style:u().RC,children:n}),r?r(c.iconStyle):(0,B().p)({...c.iconStyle,...c.arrowIconStyle})]}),...i})}var K=()=>n(343916),Y=()=>n(779181),$=()=>n(385527),q=()=>n(846899),Q=()=>n(381349),J=()=>n(134696),X=()=>n(209660),Z=()=>n(864943),ee=()=>n(187820),te=()=>n(125565),ne=()=>n(640653),ie=()=>n(751348),oe=()=>n(765957),re=()=>n(766343),se=()=>n(807778),ae=()=>n(786667);function le(e){let{permissionsInviteStore:t}=e;const i=(0,o().v3)(),a=(0,r().O$)(oe().AppStoreCurrentSpaceStore),l=(0,s().IS)((e=>({container:{padding:12,background:"dark"===e.mode?e.palette.gray[200]:e.white,display:"flex",flexDirection:"column",gap:12}})),[]);return!a||i.device.isMobile?null:(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{style:l.container,children:[(0,E.jsx)(ce,{spaceStore:a}),(0,E.jsx)(de,{permissionsInviteStore:t})]}),(0,E.jsx)(n(802790).A,{size:1})]})}function ce(e){const{spaceStore:t}=e,n=(0,o().v3)(),i=(0,d().tz)(),a=(0,ie().n)(t),l=(0,r().K8)((()=>(0,se().Le)()),[]),{spaceName:c,spaceIcon:p,spaceSubtitle:g}=(0,r().K8)((()=>{if(!t)return{};const e=(0,ne().IL)(t),o=i.formatMessage({id:"sidebarSwitcherMultiAccount.guestWorkspaceSubtitle",defaultMessage:"Guest"});return{spaceName:(0,ne().GK)(n,t),spaceIcon:(0,ne().c2)(n,t),spaceSubtitle:e?o:(0,ae().rY)(n,i,t,l).subtitle}}),[n,i,t,l]),m=(0,r().K8)((()=>{const{currentUserRootStore:e}=oe().default.state;return(a&&(null==e?void 0:e.getSpaceViewStores().map((e=>null==e?void 0:e.getSpaceStore())).filter(ne().IL).length))??1}),[a]),h=(0,s().IS)((e=>({metadata:{display:"flex",flexDirection:"row",gap:10,alignItems:"center"},title:{fontWeight:u().Wy.medium},labels:{display:"flex",flexDirection:"column",...u().RC},externalPagesIconWrapper:{height:36,width:36,background:e.surface.wash,borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center"}})),[]);return a?(0,E.jsxs)("div",{style:h.metadata,children:[(0,E.jsx)("div",{style:h.externalPagesIconWrapper,children:(0,E.jsx)(y().Q,{colorName:"graySecondary",iconGroup:K().i,variantName:"default",style:{width:24,height:24}})}),(0,E.jsxs)("div",{style:h.labels,children:[(0,E.jsx)(te().A,{style:h.title,children:(0,E.jsx)(d().sA,{defaultMessage:"External Pages",id:"sidebarSwitcher.header.externalPages.title"})}),(0,E.jsx)(te().A,{isSmall:!0,children:(0,E.jsx)(d().sA,{defaultMessage:"{count, plural, one {{count} guest workspace} other {{count} guest workspaces}}",id:"sidebarSwitcher.header.externalPages.subtitle",values:{count:m}})})]})]}):(0,E.jsxs)("div",{style:h.metadata,children:[(0,E.jsx)(ee().B6,{isLarge:!0,largeIcon:!0,disabled:!0,icon:p,isEmptyPage:!1,title:c,size:36,iconRecordCategory:"workspace"}),(0,E.jsxs)("div",{style:h.labels,children:[(0,E.jsx)(te().A,{style:h.title,className:"notranslate",children:c}),(0,E.jsx)(te().A,{isSmall:!0,children:g})]})]})}function de(e){let{permissionsInviteStore:t}=e;const n=(0,o().v3)(),{currentSpaceStore:a,currentUserStore:l}=(0,r().K8)((()=>{const{currentSpaceStore:e,currentUserStore:t}=oe().default.state;return{currentSpaceStore:e,currentUserStore:t}}),[]),{membersButton:c,canRequestMembers:u}=(0,r().K8)((()=>{if(!a||(0,ne().IL)(a))return{membersButton:"none",canRequestMembers:!1};const e=!a.canEditMembership()&&!a.getDisableMembershipRequests()&&(0,j().x3)();let t="none";return t=a.canEditMembership()||e?"invite_members":"settings_members",{membersButton:t,canRequestMembers:e}}),[a]),p=(0,r().K8)((()=>(0,j().bW)(n)),[n]),g=(0,i.useCallback)((()=>{X().Ow({openedFrom:"space_switcher",currentTab:"user_settings"}),W().A.reset()}),[]),m=(0,i.useCallback)((()=>{a&&"none"!==c&&(a.canEditMembership()&&(t.setState({...t.state,modalOpen:!0}),J().vX(n,{type:"invite",from:"space_switcher"})),u&&(re().A.setState({open:!0,focus:"none"}),J().vX(n,{type:"request",from:"space_switcher"})),W().A.reset())}),[u,a,n,c,t]),h=(0,i.useCallback)((()=>{X().Ow({openedFrom:"space_switcher",currentTab:"members"}),W().A.reset()}),[]),x=(0,s().IS)((e=>{const t="dark"===e.mode?Q().Tj.whiteWithAlpha(.81):e.text.secondary;return{container:{display:"inline-flex",gap:8},button:{color:t,fontSize:12},icon:{fill:t}}}),[]);return a?(0,E.jsxs)("div",{style:x.container,children:[l&&(0,E.jsx)(Z().A,{size:"md",onClick:g,iconLeading:q().B,iconStyle:x.icon,style:x.button,children:(0,E.jsx)(d().sA,{defaultMessage:"Settings",id:"sidebarSwitcherMultiAccount.menuItem.settingsButton.label"})}),"invite_members"===c&&(0,E.jsx)(Z().A,{size:"md",iconLeading:Y().S,iconStyle:x.icon,style:x.button,onClick:m,children:(0,E.jsx)(d().sA,{defaultMessage:"Invite members",id:"sidebarSwitcherMultiAccount.menuItem.inviteButton.label"})}),"settings_members"===c&&(0,E.jsx)(Z().A,{size:"md",iconLeading:$().h,iconStyle:x.icon,style:x.button,onClick:h,children:p?(0,E.jsx)(d().sA,{defaultMessage:"People",id:"sidebarSwitcherMultiAccount.menuItem.peopleButton.label"}):(0,E.jsx)(d().sA,{defaultMessage:"Members",id:"sidebarSwitcherMultiAccount.menuItem.membersButton.label"})})]}):null}const ue=i.memo(le);var pe=()=>n(689877),ge=()=>n(575104);function me(e){const{parent:t,redirectURL:n,disableLoginLink:i,onSpaceClick:l,loginStore:c,loginPermissionsStore:u,organizationEntryPointProps:m,permissionsInviteStore:h,shouldShowCreateOrJoinWorkspaceButtonInFooter:x,isEnterpriseWorkspaceAccessRestriction:b}=e;let y;const A=(0,o().v3)(),M=(0,o().Y0)(),v=A.currentUser.loggedInUserIds,I=(0,E.jsx)(he,{redirectURL:n,disableLoginLink:i,loginStore:c,loginPermissionsStore:u,organizationEntryPointProps:m,shouldShowCreateOrJoinWorkspaceButtonInFooter:x});y=M.isMobile?{menuType:w().gu.Modal,title:(0,E.jsx)(d().sA,{defaultMessage:"Accounts & Workspaces",id:"sidebarSwitcherMultiAccount.mobileMenu.title"}),right:(0,E.jsx)(S().DoneMenuText,{}),onClickRight:t.close}:{menuType:w().gu.Popup,minWidth:ge().QH,maxWidth:ge().QH,maxHeight:"min(60vh, 420px)",footer:I};const k=(0,s().IS)((e=>({container:{background:e.surface.elevated,height:"100%"}})),[]),[{value:L}]=(0,a().Yb)((async()=>{const e=await g().callApi({eventName:"validateUserCanCreateWorkspace",environment:A,data:{}});return"success"!==e.type||e.data.canUserCreateSpace}),[A]),C=(0,r().K8)((()=>!x&&(!1!==Boolean(L)&&(!!(0,j().IW)()&&(!(v.length>1)||("multi_cta"===(0,j().SH)()||"blue_text_and_multi_cta"===(0,j().SH)()))))),[v,x,L]);return(0,E.jsxs)("div",{style:k.container,children:[!b&&(0,E.jsx)(ue,{permissionsInviteStore:h}),(0,E.jsxs)(f().A,{...y,children:[v.map(((e,t)=>(0,E.jsx)(ae().ti,{userId:e,isLastUser:t===v.length-1,shouldShowNewWorkspaceButtonInUserSpaceView:C,onSpaceClick:async e=>{await l(e),p().Bw(A)},close:Ae},e))),M.isMobile&&I]})]})}function he(e){const{redirectURL:t,disableLoginLink:n,loginStore:i,organizationEntryPointProps:a,shouldShowCreateOrJoinWorkspaceButtonInFooter:l}=e,c=(0,o().v3)(),d=(0,o().Y0)().isMobile,p=(0,s().IS)((e=>({footer:{background:d?void 0:e.surface.elevated,fontWeight:u().Wy.medium}})),[d]),g=(0,r().K8)((()=>z().A.hasAtLeastOneTeamPlan(c)),[c]),m=(0,E.jsxs)(E.Fragment,{children:[!g&&(0,E.jsx)(pe().W,{createType:"create-work",redirectURL:t,disableLoginLink:n,loginStore:i}),!(0,L().T)("supportsNativeHome")&&(0,E.jsx)(pe().W,{createType:"add-account",redirectURL:t,disableLoginLink:n,loginStore:i})]});return(0,E.jsxs)("div",{style:p.footer,children:[(0,E.jsx)(H,{organizationsInfo:a.organizationsInfo,spaceInfo:a.spaceInfo}),l&&(0,E.jsx)(xe,{}),(0,E.jsxs)(A().A,{topBorder:!0,children:[I().T_(c)&&m,(0,E.jsx)(be,{})]}),!d&&(0,E.jsx)(A().A,{topBorder:!0,children:(0,E.jsx)(ye,{})})]})}function xe(){const e=(0,s().IS)((e=>({createWorkspaceButton:{background:e.tint.regular,alignItems:"center",justifyContent:"center",gap:4,lineHeight:1,display:"flex",margin:"0px 14px 16px"}})),[]),t=(0,o().v3)();return(0,E.jsxs)(x().p,{onClick:async()=>{const e=window.location.pathname;await k().sy(t,{type:"create-or-join",redirectUrl:e,source:"public_share_link"})},style:e.createWorkspaceButton,children:[(0,E.jsx)(y().Q,{colorName:"graySecondary",iconGroup:l().h,variantName:"small"}),(0,E.jsx)(d().sA,{id:"sidebarSwitcherMultiAccount.singleAccountMenu.footer.createOrJoinWorkspace.label",defaultMessage:"Create workspace"})]})}function be(){const e=(0,r().O$)(C().e),t=(0,o().v3)(),n=t.device.isMobile,a=t.currentUser.loggedInUserIds.length>1,l=(0,s().IS)((e=>({iconStyle:{width:24,height:24,fill:e.icon.primary},accountAction:{display:"flex",color:e.text.secondary,whiteSpace:"nowrap",fontSize:n?16:12,paddingLeft:0},modalContent:{display:"flex",flexDirection:"column",gap:8,alignItems:"center",justifyContent:"center"},description:{textAlign:"center"}})),[n]),g=je(),h=(0,i.useCallback)((async()=>{const{online:e}=C().A.state,n=(0,E.jsxs)("div",{style:l.modalContent,children:[(0,c().G)(l.iconStyle),(0,E.jsx)(d().sA,{id:"sidebarSwitcherMultiAccount.menuItem.logoutAllButton.confirmationMessage",defaultMessage:"{isLoggedIntoMultipleAccounts, select, true {<bold>Log out of all your accounts?</bold>} other {<bold>Log out of your account?</bold>}}",values:{isLoggedIntoMultipleAccounts:a,bold:e=>(0,E.jsx)("span",{style:{fontWeight:u().Wy.medium,fontSize:18},children:e})}})]}),i=(0,E.jsx)(d().sA,{id:"sidebarSwitcherMultiAccount.menuItem.logoutAllButton.acceptLabel",defaultMessage:"{isLoggedIntoMultipleAccounts, select, true {Log out all accounts} other {Log out}}",values:{isLoggedIntoMultipleAccounts:a}}),o=(0,E.jsx)(d().sA,{id:"sidebarSwitcherMultiAccount.menuItem.logoutAllButton.cancelLabel",defaultMessage:"Cancel"}),r=(0,E.jsx)("div",{style:l.description,children:(0,E.jsx)(d().sA,{id:"sidebarSwitcherMultiAccount.menuItem.logoutAllButton.description",defaultMessage:"You will need to log back in to access your Notion workspaces."})}),{accept:s}=await m().Gh({message:n,acceptLabel:i,cancelLabel:o,description:r});s&&e&&(W().A.setState({...W().A.state,open:!1}),p().Pz(t),v().logout(t))}),[t,a,l.modalContent,l.description,l.iconStyle]);return(0,E.jsx)(b().A,{onClick:h,focused:!1,disabled:!e,textWrapperStyle:g.buttonWrapper,title:(0,E.jsx)("div",{style:l.accountAction,children:(0,E.jsx)(d().sA,{defaultMessage:"{isLoggedIntoMultipleAccounts, select, true {Log out all accounts} other {Log out}}",id:"sidebarSwitcherMultiAccount.menuItem.logoutAllButton.label",values:{isLoggedIntoMultipleAccounts:a}})})})}function fe(){const e=(0,o().Y0)(),t=(0,o().v3)(),n=(0,s().IS)((e=>({title:{color:e.text.secondary,fontSize:12}})),[]),r=je(),a=(0,M().E)(),l=(0,i.useCallback)((()=>{a.current&&(h().oo({environment:t,url:a.current,openInNew:"tab"}),Ae())}),[t,a]);return(0,E.jsx)(b().A,{external:!0,onClick:l,textWrapperStyle:r.buttonWrapper,focused:!1,title:(0,E.jsx)("div",{style:n.title,children:e.isWindows?(0,E.jsx)(d().sA,{defaultMessage:"Get Windows app",id:"sidebarMultiSwitcher.windowsAppButton.text"}):(0,E.jsx)(d().sA,{defaultMessage:"Get Mac app",id:"sidebarMultiSwitcher.macAppButton.text"})})})}function Se(){const e=(0,s().IS)((e=>({title:{color:e.text.secondary,fontSize:12}})),[]),t=je();return(0,E.jsx)(b().A,{external:!0,href:"https://www.notion.com/mobile",onClick:Ae,textWrapperStyle:t.buttonWrapper,focused:!1,title:(0,E.jsx)("div",{style:e.title,children:(0,E.jsx)(d().sA,{defaultMessage:"Get iOS & Android app",id:"sidebarMultiSwitcher.desktopAppGetMobileApp.prompt"})})})}function ye(){return(0,o().Y0)().isElectron?(0,E.jsx)(Se,{}):(0,E.jsx)(fe,{})}function Ae(){W().A.setState({...W().A.state,open:!1})}function je(){const e=(0,o().v3)(),{isMobile:t}=e.device;return(0,s().IS)((()=>({buttonWrapper:{marginLeft:t?12:0}})),[t])}}}]);