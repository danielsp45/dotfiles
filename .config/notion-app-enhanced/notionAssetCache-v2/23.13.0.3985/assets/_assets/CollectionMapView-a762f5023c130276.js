"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[2411,5834,34208,51680],{124056:(e,t,o)=>{o.d(t,{S:()=>a});var r=o(296540),n=o(474848);const a=r.forwardRef((function(e,t){const a="dark"===(0,o(401497).eP)(),{onDrag:i,onDragEnd:l,...s}=e,[c,u]=(0,r.useState)(!1),d=(0,r.useCallback)((e=>{u(!0),null==i||i(e)}),[i]),p=(0,r.useCallback)((e=>{u(!1),null==l||l(e)}),[l]);return(0,n.jsx)(o(976487).T5,{ref:t,mapStyle:a?"https://tiles.openfreemap.org/styles/dark":"https://tiles.openfreemap.org/styles/liberty",style:{width:"100%",height:"100%",borderRadius:6,overflow:"hidden",display:"flex",cursor:"pointer"},cursor:c?"move":"default",onDrag:d,onDragEnd:p,...s})}))},128336:(e,t,o)=>{o.d(t,{s:()=>a});o(296540);var r=()=>o(401497),n=o(474848);function a(){const e=(0,r().IS)((e=>({markerWrapper:{filter:"drop-shadow(0px 0px 4px rgba(0,0,0,0.35))"}})),[]);return(0,n.jsx)("svg",{style:e.markerWrapper,width:"20",height:"25",viewBox:"0 0 20 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("path",{d:"M10 1C14.9706 1 19 5.02944 19 10C19 11.939 17.9809 13.9819 16.4062 16.1699C15.6293 17.2495 14.7449 18.3284 13.833 19.415C12.929 20.4922 11.989 21.5878 11.1396 22.6621C10.6036 23.3398 9.39641 23.3398 8.86035 22.6621C8.01089 21.5877 7.07106 20.4913 6.16699 19.4141C5.25511 18.3275 4.37061 17.2494 3.59375 16.1699C2.01914 13.9819 1 11.939 1 10C1 5.02944 5.02944 1 10 1Z",fill:"#2383E2",stroke:"white",strokeWidth:"2"})})}},197730:(e,t,o)=>{o.d(t,{Sk:()=>i,we:()=>a,yQ:()=>n});var r=()=>o(534177);const n=["small","medium","large","extra_large"];function a(e){switch(e){case"small":return 300;case"medium":return 400;case"large":return 600;case"extra_large":return 800;default:(0,r().HB)(e)}}function i(e){var t;return(null==e||null===(t=e.map_config)||void 0===t?void 0:t.height)||"medium"}},232636:(e,t,o)=>{o.d(t,{Mj:()=>C,WQ:()=>h});var r=()=>o(584262),n=()=>o(96330),a=()=>o(919709),i=()=>o(970330),l=()=>o(612008),s=()=>o(857783),c=()=>o(281948),u=()=>o(319975),d=()=>o(751156),p=()=>o(357643),g=()=>o(519839),v=()=>o(476492),m=()=>o(611371);function C(e){const{environment:t,place:o,collectionContextStore:n,query:a,schema:u,isFullScreen:C,store:y}=e,f="map_add_item";d().createAndCommit({userAction:"CollectionMapView.handleClick",environment:t,canUndo:!0,perform:e=>{const d=function(e){const{environment:t,transaction:o,place:n,query:a,isFullScreen:i,groupFormat:u,collectionContextStore:d,from:v}=e;if(!(0,m().EF)(t))return;const C=u?[u]:[],y=d.groupsStore.getGroupState(C);if(!y)return;d.searchQueryStore.state&&(0,p().S)({searchQuery:"",collectionContextStore:d,isFullScreen:i});const f=(0,l().Q)({environment:t,collectionContextStore:d,groupsPointer:C,shouldCoerce:!0,templateStore:d.defaultPageTemplateStore.state,transaction:o,from:{createBlock:v},inMemoryRecordCache:t.defaultRecordCache.inMemoryRecordCache});if(!f)return;const S=f.newStore,w=a.map_by;if(!w)return;h({environment:t,store:S,property:w,place:n,transaction:o}),t.device.isMobile?s().uK({environment:t,store:S,pageVisitSource:r().y8.Create}):c().VU({environment:t,store:S,peekMode:(0,g().hH)(d),resultsStore:null==y?void 0:y.resultsStore,collectionContextStore:d,pageVisitSource:r().y8.Create});return S}({environment:t,transaction:e,store:y,query:a,schema:u,place:o,isFullScreen:C,groupFormat:void 0,collectionContextStore:n,from:f});i().v(t,{from:f,type:"page",new_page_id:null==d?void 0:d.id,creating_block_id:null==d?void 0:d.id,...(0,v().sl)(n)})}})}function h(e){const{environment:t,store:o,place:r,transaction:i,property:l}=e,s=o.getAssociatedCollectionStore(),c=(null==s?void 0:s.getMappedProperty(l))??l,d=o.getPropertyStore(c),p=o.getTitleStore(),g=(null==r?void 0:r.name)??(null==r?void 0:r.address),v=null==p?void 0:p.getValue(),m=(0,n().e)(d.getValue()),C=(null==m?void 0:m.name)??(null==m?void 0:m.address),h=!v&&g||(0,a().AGB)(v,[[String(C)]]);return p&&h&&u().R9({environment:t,store:p,value:g?[[g]]:void 0,transaction:i}),u().R9({environment:t,store:d,value:(0,n().t)(r),transaction:i}),o}},253447:(e,t,o)=>{o.d(t,{F:()=>n});var r=()=>o(963575);function n(e,t){if(e)return e;switch(t){case"large":return r().A.card.desktop.large.height;case"small":return r().A.card.desktop.small.height;default:return r().A.card.desktop.medium.height}}},270058:(e,t,o)=>{o.r(t),o.d(t,{CollectionMapView:()=>k});o(898992),o(581454),o(908872);var r=o.n(o(553066)),n=o(296540),a=()=>o(976487),i=()=>o(484714),l=()=>o(56366),s=()=>o(584262),c=()=>o(197730),u=()=>o(96330),d=()=>o(519839),p=()=>o(492414),g=()=>o(79043),v=()=>o(736173),m=()=>o(962730),C=()=>o(765957),h=()=>o(758740),y=()=>o(859428),f=()=>o(791194),S=()=>o(42425),w=()=>o(232636),x=()=>o(128336),b=()=>o(124056),M=o(474848);function k(e){const{collectionContextStore:t,query:o,paddingLeft:a,paddingRight:s,format:d,renderGroupResults:p,schema:m,store:C}=e,h=(0,i().v3)(),[y,f]=(0,n.useState)(!1),S=(0,l().K8)((()=>{const e=(0,c().Sk)(d);return(0,c().we)(e)}),[d]),x=(0,g().A)(!0),k=(0,n.useRef)(null),V=(0,l().K8)((()=>{var e;const r=(null==t||null===(e=t.groupsStore.getGroupState([]))||void 0===e?void 0:e.resultsStore.state)||[],n=o.map_by;return n?r.map((e=>{const t=n?e.getProperties()[n]:void 0;return(0,u().e)(t)})):[]}),[t,o.map_by]),j=(0,n.useCallback)((()=>{f(!0)}),[]);(0,n.useEffect)((()=>{if(y)return;const e=V.reduce((function(e,t){return t?e.extend(t):e}),new(r().LngLatBounds));var t;e.isEmpty()||(null===(t=k.current)||void 0===t||t.getMap().fitBounds(e,{padding:25,animate:!1}))}),[y,V]);const P=(0,n.useCallback)((async e=>{const r=await(0,v().Yr)(e.lngLat.lat,e.lngLat.lng);(0,w().Mj)({environment:h,place:r,collectionContextStore:t,query:o,schema:m,isFullScreen:t.isFullScreenStore.state,store:C})}),[h,t,o,m,C]);return(0,M.jsx)("div",{style:{marginTop:8,paddingLeft:a,paddingRight:s,height:S},...x,children:(0,M.jsx)(b().S,{ref:k,onDrag:j,initialViewState:{longitude:-100,latitude:40,zoom:3.5},onClick:P,attributionControl:!1,children:p({disabled:!1,canDrag:!1,canDrop:!1,collectionContextStore:t,format:d,groupsPointer:[],shouldShowHoverMenu:!1,resultProps:{mapByProperty:o.map_by,disabled:!1,environment:h,collectionContextStore:t},resultComponent:H,emptyDroppableSize:0,analyticsName:"map"})})})}function H(e){const{mapByProperty:t,store:o,handleOpenPeekPage:r,environment:c,collectionContextStore:g}=e,v=(0,i().Y0)().isMobile,{place:w,title:b,url:k,peekUrl:H}=(0,l().K8)((()=>{const e=t?o.getProperties()[t]:void 0,r=o.getProperties().title,n=C().default.state.mainEditorCurrentBlockStore;return{place:(0,u().e)(e),title:r,url:(0,p().J8)({store:o,fullyQualified:!1,pageVisitSource:s().y8.LinkInPage}),peekUrl:(0,d().wy)({environment:c,store:o,mainEditorCurrentBlockStore:n,collectionContextStore:g,fullyQualified:!1})}}),[t,o,c,g]),V=(0,n.useCallback)((e=>(0,M.jsx)(f().yf,{store:o,events:e})),[o]);return w?(0,M.jsx)(a().pH,{longitude:w.lon,latitude:w.lat,anchor:"bottom",children:(0,M.jsx)(y().A,{originGap:6,alignment:S().C1.Center,placement:m().W.Top,renderTooltip:V,closeDelay:0,noStyle:!0,textWrap:!0,render:e=>(0,M.jsx)(h().A,{...e,style:{cursor:"pointer"},onClick:e=>{r(),e.stopPropagation()},href:k,metaHref:v?k:H,children:(0,M.jsx)(x().s,{})})})},null==b?void 0:b.toString()):null}},271232:(e,t,o)=>{o.d(t,{t:()=>a});var r=o(296540),n=o(474848);const a=r.memo((function(e){const{coverHeight:t,coverSizeFormat:r,emptyGalleryCoverStyle:a}=e,i=(0,o(401497).IS)((()=>({container:{height:(0,o(253447).F)(t,r),...a}})),[t,r,a]);return(0,n.jsx)("div",{style:i.container})}))},328347:(e,t,o)=>{o.d(t,{h:()=>n});o(296540);var r=o(474848);const n=(0,o(340498).wt)("globe2",{viewBox:"0 0 16 16",svg:(0,r.jsx)("path",{d:"M8 15.126C11.8623 15.126 15.0615 11.9336 15.0615 8.06445C15.0615 4.20215 11.8623 1.00293 7.99316 1.00293C4.13086 1.00293 0.938477 4.20215 0.938477 8.06445C0.938477 11.9336 4.1377 15.126 8 15.126ZM3.88477 3.76465C4.56836 3.11523 5.39551 2.61621 6.31836 2.34277C5.83301 2.82812 5.42285 3.51172 5.11523 4.3457C4.63672 4.19531 4.22656 3.99707 3.88477 3.76465ZM9.68848 2.34961C10.6045 2.62305 11.4316 3.11523 12.1084 3.76465C11.7734 4.00391 11.3633 4.19531 10.8848 4.35254C10.5771 3.51172 10.167 2.82812 9.68848 2.34961ZM8.47852 2.56836C9.0459 2.8418 9.56543 3.58008 9.93457 4.58496C9.4834 4.66699 8.99805 4.71484 8.47852 4.73535V2.56836ZM6.06543 4.58496C6.44141 3.58008 6.9541 2.8418 7.52148 2.56836V4.73535C7.00195 4.71484 6.5166 4.66699 6.06543 4.58496ZM2.05273 7.58594C2.14844 6.42383 2.58594 5.35059 3.25586 4.46875C3.67285 4.77637 4.21289 5.04297 4.8418 5.24121C4.66406 5.95215 4.54785 6.74512 4.51367 7.58594H2.05273ZM11.4863 7.58594C11.4521 6.74512 11.3359 5.95215 11.1582 5.24121C11.7871 5.04297 12.3271 4.7832 12.7373 4.46875C13.4141 5.35059 13.8516 6.42383 13.9473 7.58594H11.4863ZM5.49121 7.58594C5.52539 6.84082 5.62793 6.12988 5.78516 5.4873C6.33203 5.59668 6.91309 5.66504 7.52148 5.69238V7.58594H5.49121ZM8.47852 7.58594V5.69238C9.08691 5.66504 9.66797 5.59668 10.2148 5.4873C10.3721 6.12988 10.4746 6.84082 10.5088 7.58594H8.47852ZM2.05273 8.54297H4.51367C4.54785 9.39746 4.66406 10.1973 4.8418 10.915C4.21973 11.1133 3.68652 11.373 3.27637 11.6807C2.59277 10.792 2.14844 9.71191 2.05273 8.54297ZM5.49121 8.54297H7.52148V10.4707C6.91992 10.498 6.33203 10.5664 5.79199 10.6689C5.62793 10.0195 5.51855 9.29492 5.49121 8.54297ZM8.47852 10.4707V8.54297H10.5088C10.4814 9.29492 10.3721 10.0195 10.208 10.6689C9.66797 10.5664 9.08691 10.498 8.47852 10.4707ZM11.1582 10.915C11.3428 10.1973 11.4521 9.39746 11.4863 8.54297H13.9473C13.8516 9.71191 13.4072 10.792 12.7236 11.6807C12.3135 11.373 11.7803 11.1133 11.1582 10.915ZM8.47852 11.4277C8.99121 11.4482 9.47656 11.4961 9.9209 11.5781C9.55176 12.5625 9.03906 13.2939 8.47852 13.5605V11.4277ZM6.0791 11.5781C6.52344 11.4961 7.00879 11.4482 7.52148 11.4277V13.5605C6.96094 13.2939 6.44824 12.5625 6.0791 11.5781ZM3.90527 12.3848C4.24023 12.1523 4.65039 11.9609 5.12207 11.8105C5.42969 12.6309 5.83301 13.3008 6.30469 13.7793C5.40234 13.5059 4.58203 13.0205 3.90527 12.3848ZM10.8779 11.8105C11.3496 11.9609 11.7598 12.1523 12.0947 12.3848C11.418 13.0205 10.5977 13.5059 9.69531 13.7793C10.167 13.3008 10.5703 12.6309 10.8779 11.8105Z"})})},358006:(e,t,o)=>{o.d(t,{z:()=>i});o(296540);var r=()=>o(645873),n=o(474848);const a=new(r().O2)("CollectionItemCover",(async()=>{const{CollectionItemCover:e}=await o.e(79883).then(o.bind(o,873718));return{CollectionItemCover:e}})),i=(0,r()._h)(a,(e=>e.CollectionItemCover),{renderLoading:(e,t)=>{const{coverHeight:r,coverSizeFormat:a,emptyGalleryCoverStyle:i,showEmptyGalleryCover:l}=t;return l?(0,n.jsx)(o(271232).t,{coverHeight:r,coverSizeFormat:a,emptyGalleryCoverStyle:i}):null}})},526278:(e,t,o)=>{o.d(t,{w:()=>n});o(296540);const r={viewBox:"0 0 20 20",fittedViewBox:"2.37 3.97 15.26 12.06",directional:!0,svg:(0,o(474848).jsx)("path",{d:"M2.411 9.79a.6.6 0 0 1 .147-.232l5.4-5.4a.625.625 0 1 1 .884.884L4.509 9.375H17a.625.625 0 1 1 0 1.25H4.509l4.333 4.333a.625.625 0 1 1-.884.884l-5.4-5.4a.62.62 0 0 1-.147-.651"})},n=(0,o(340498).wt)("arrowStraightLeft",r)},701751:(e,t,o)=>{o.d(t,{p:()=>a});o(296540);var r=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"3.97 1.94 14.91 15.66",svg:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{d:"M10.55 12.808a1.35 1.35 0 1 0-1.1 0v1.242a.55.55 0 1 0 1.1 0z"}),(0,r.jsx)("path",{d:"M15.4 1.95a3.48 3.48 0 0 0-3.48 3.48v1.92H6.4a2.425 2.425 0 0 0-2.425 2.425v5.4A2.425 2.425 0 0 0 6.4 17.6h7.2a2.425 2.425 0 0 0 2.425-2.425v-5.4A2.425 2.425 0 0 0 13.6 7.35h-.43V5.43a2.23 2.23 0 1 1 4.46 0v2.095a.625.625 0 1 0 1.25 0V5.43a3.48 3.48 0 0 0-3.48-3.48M5.225 9.775c0-.649.526-1.175 1.175-1.175h7.2c.649 0 1.175.526 1.175 1.175v5.4c0 .649-.526 1.175-1.175 1.175H6.4a1.175 1.175 0 0 1-1.175-1.175z"})]})},a=(0,o(340498).wt)("lockOpen",n)},735790:(e,t,o)=>{o.d(t,{M:()=>a});o(296540);var r=o(474848);const n={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.25 15.25 11.5",svg:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("path",{d:"M3 7.375h6.829a2.501 2.501 0 0 0 4.842 0H17a.625.625 0 1 0 0-1.25h-2.329a2.501 2.501 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25M12.25 5.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M7.75 15.75a2.5 2.5 0 0 0 2.421-1.875H17a.625.625 0 1 0 0-1.25h-6.829a2.5 2.5 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25h2.329A2.5 2.5 0 0 0 7.75 15.75m0-1.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"})]})},a=(0,o(340498).wt)("sliders",n)},736173:(e,t,o)=>{o.d(t,{Lu:()=>c,VW:()=>s,Yr:()=>u,i8:()=>d});o(16280),o(581454);var r=()=>o(857639),n=()=>o(496603),a=()=>o(502800);const i=new(o(754869).aH)({apiKey:o(780054).A.google.mapsApiKey,version:"weekly"});let l;async function s(e){const t={input:e,sessionToken:l},o=await async function(){const e=await i.importLibrary("places");return l||(l=new e.AutocompleteSessionToken),e}(),{suggestions:r}=await o.AutocompleteSuggestion.fetchAutocompleteSuggestions(t);return r}async function c(){let e;try{e=await new Promise(((e,t)=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(e,t,{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}):t(new Error("Geolocation is not supported by this browser"))}))}catch(t){r().log({level:"error",from:"LocationService",type:"getCurrentPosition",error:(0,a().convertErrorToLog)(t)})}return e?{lat:e.coords.latitude,lon:e.coords.longitude}:void 0}async function u(e,t){var o,n;const l=new((await async function(){return await i.importLibrary("geocoding")}()).Geocoder);let s;try{var c;s=null===(c=(await l.geocode({location:{lat:e,lng:t}})).results)||void 0===c?void 0:c[0]}catch(u){r().log({level:"error",from:"LocationService",type:"geocodeCoordinate",error:(0,a().convertErrorToLog)(u)})}return{lat:e,lon:t,address:null===(o=s)||void 0===o?void 0:o.formatted_address,googlePlaceId:null===(n=s)||void 0===n?void 0:n.place_id}}function d(e){return`https://www.google.com/maps/search/?api=1&query=${n().oE([e.name,e.address]).map((e=>encodeURIComponent(e))).join(",")}`}},777092:(e,t,o)=>{o.d(t,{JQ:()=>u,d5:()=>d,vt:()=>c});var r=()=>o(764880),n=()=>o(310442),a=()=>o(824862),i=()=>o(798880),l=()=>o(534177),s=()=>o(630116);function c(e){const{parentStore:t,pointer:o}=e,n=(0,s().Oo)(t,o).getValue();if(n)return(0,r().D3)({table:o.table,value:n})}function u(e){const{parentStore:t,pointer:o}=e;return o.table===a().GP?s().vK.createChildStore(t,o):o.table===i().oo?s().LU.createChildStore(t,o):o.table===n().yj?s().pH.createChildStore(t,o):void(0,l().HB)(o)}function d(e){return e.table===a().GP?(0,r().oC)(e.getValue()):e.table===i().oo?(0,r().MR)(e.getValue()):e.table===n().yj?(0,r().w2)(e.getValue()):void(0,l().HB)(e)}}}]);