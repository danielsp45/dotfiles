"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[9066],{6027:(e,t,i)=>{i.d(t,{F:()=>G});var o=()=>i(662303),n=()=>i(825237),s=()=>i(945778),r=()=>i(142748),a=()=>i(919709),l=()=>i(751735),d=()=>i(496603),c=()=>i(284371),g=()=>i(780054),u=()=>i(972435),p=()=>i(108944),h=()=>i(613735),m=()=>i(337567),x=()=>i(896628),f=()=>i(751156),y=()=>i(892632);const S=630,C=1200,b=(0,i(381349).O4)({theme:"light"}),j=240,v="white",A=200,k=96,w=150,I=184,B=100,L=145,R=23,T=347,M=24,E=100,_=100,P=100,W="black",z=96,H=68,D=b.text.tertiary,K=40,U=(0,i(959013).YK)({builtWithNotion:{id:"socialMediaPreview.madeWithNotion",defaultMessage:"Made with Notion"}}),N='"Apple Color Emoji","Segoe UI Emoji",NotoColorEmoji,"Noto Color Emoji","Segoe UI Symbol","Android Emoji",EmojiSymbols';function V(e){return new Promise(((t,i)=>{const o=new Image;o.onload=()=>t(o),o.onerror=i,o.crossOrigin="anonymous",o.src=e}))}function F(e,t){return`${c().Wy.bold} ${t}px ${c().xf({pageFont:e,locale:o().locale})}`}function O(e){const t=c().Wy.medium,i=c().xf({pageFont:e,locale:o().locale});return`${t} ${K}px ${i}`}function Z(e){let{context:t,text:i,font:o,color:n,x:s,y:r}=e;t.font=o,t.textAlign="left",t.textBaseline="top",t.fillStyle=n,t.fillText(i,s,r)}async function G(e){var t;let{store:i,environment:o}=e;if(i.pathIsDead()||!(0,r().ot)(p().E(i))||(0,m().dL)(i)||i.inMemoryRecordCache.recordHasOverride({pointer:i.pointer,userId:o.currentUser.id}))return;const c=a().q4_(i.getTitleValue())||"",K=null===(t=i.getIcon())||void 0===t?void 0:t.icon,G=function(e,t){var i;const o=null===(i=t.getCover())||void 0===i?void 0:i.cover;if(o)return n().wY({url:o,width:C,permissionRecord:t.pointer,stripGoogleIconQuery:!0,baseUrl:g().A.domainBaseUrl,fullyQualified:!1,userId:e.currentUser.id})}(o,i),Y=i.getFormat(),$=new OffscreenCanvas(C,S),Q=$.getContext("2d"),[q,X]=function(e,t){const i=document.createElement("div");i.style.width="auto",i.style.position="absolute",i.style.whiteSpace="nowrap",i.style.font=F(t,z),i.style.top="110vh",i.innerText=e;const o=C-E-_,n=document.body;if(n.appendChild(i),i.clientWidth<o)return n.removeChild(i),[e,z];if(i.style.font=F(t,H),i.clientWidth<o)return n.removeChild(i),[e,H];let s=e;for(;i.clientWidth>o;)s=s.substring(0,s.length-1),i.innerText=`${s}…`;return n.removeChild(i),[`${s}…`,H]}(c,Y.page_font),J=F(Y.page_font,X),ee=T+(K?R:0),te=ee+M+X;if(Q){!function(e){e.fillStyle=v,e.fillRect(0,0,C,S)}(Q),await async function(e){let{context:t,coverImageUrl:i,icon:o,coverPosition:n=.5}=e;if(i){const e=await V(i),o=e.width*(j/C),s=((0,d().Et)(n)?1-n:.5)*(e.height-o);t.drawImage(e,0,s,e.width,o,0,0,C,j)}else{const e=(0,h().b)({icon:o,theme:b}),i=e?(0,l().X4)(e,.1):b.home.cards.coverPhoto.base;t.fillStyle=i,t.fillRect(0,0,C,j),t.fillStyle="rgb(0,0,0,1)"}}({context:Q,coverImageUrl:G,icon:K,coverPosition:Y.page_cover_position}),await async function(e){let{context:t,store:i,icon:o}=e;if(o)if((0,s().A)(o))t.font=`${A}px ${N}`,t.textAlign="left",t.textBaseline="top",t.fillText(o,k,w);else{const e=n().wY({url:o,baseUrl:g().A.domainBaseUrl,fullyQualified:!0,permissionRecord:i.pointer,width:I,userId:void 0}),s=await V(e);t.drawImage(s,B,L,I,I)}}({context:Q,store:i,icon:K}),Z({context:Q,text:q,font:J,color:W,x:E,y:ee}),Z({context:Q,text:u().A.formatMessage(U.builtWithNotion),font:O(Y.page_font),color:D,x:P,y:te});const e=await $.convertToBlob();!function(e){let{store:t,file:i,environment:o}=e;y().QM({environment:o,file:i,bucket:"secure",record:t.pointer,isFileBlock:!1,onComplete:e=>{f().createAndCommit({userAction:"SocialMediaPreviewImageUploadStore.updateSocialMediaPreviewImage",environment:o,canUndo:!1,perform:i=>{x().lm({store:t,url:e,transaction:i})}})},retryWhenOffline:!0})}({store:i,environment:o,file:new File([e],"SocialMediaPreviewImage.png",{type:"image/png"})})}}},115552:(e,t,i)=>{i.d(t,{A:()=>d});i(581454),i(296540);var o=()=>i(401497),n=()=>i(284371),s=()=>i(115512),r=()=>i(704152),a=i(474848);const l={tall:80,short:50};function d(e){const{disabled:t,options:i,selectedOption:d,onOptionSelected:c,height:g}=e,u=(0,o().IS)((e=>({cardContainer:{paddingLeft:8,paddingRight:8,display:"flex",justifyContent:"space-between",alignItems:"center",columnGap:8},cardUnselected:{display:"flex",flexDirection:"column",alignItems:"center",flexGrow:1,flexBasis:82,minWidth:0,color:e.palette.gray[500]},cardSelected:{display:"flex",flexDirection:"column",alignItems:"center",flexGrow:1,flexBasis:82,minWidth:0,color:e.palette.gray[500]},cardButtonBase:{height:l[g],width:"100%",borderRadius:6,borderStyle:"solid",transition:"border-color 0.3s, box-shadow 0.3s",display:"flex",justifyContent:"center",alignItems:"center",color:t?e.icon.tertiary:void 0,background:e.surface.elevated},cardButtonHovered:{background:e.surface.elevated,...(0,s().nl)({width:2,color:e.stroke.uiBlueSecondary})},cardButtonSelected:(0,s().nl)({width:2,color:e.blueColor}),cardButtonUnselected:(0,s().nl)({width:1,color:"dark"===e.mode?e.palette.gray[400]:e.palette.gray[100]}),cardLabelBase:{...n().RC,marginTop:6,fontSize:12,lineHeight:"14px",maxWidth:"100%",color:t?e.icon.tertiary:void 0},cardLabelSelected:{fontWeight:n().Wy.semibold,color:e.palette.gray[900]},iconBase:{height:24,width:24,color:t?void 0:e.icon.secondary},iconSelected:{color:e.blueColor,fill:e.blueColor},imageBase:{maxHeight:l[g],opacity:t?.5:1},imageSelected:{opacity:1}})),[t,g]),p=i.available.map((e=>{const o=i.appearance[e],n=e===d;return(0,a.jsxs)("div",{style:n?u.cardSelected:u.cardUnselected,children:[(0,a.jsx)(r().A,{style:{...u.cardButtonBase,...n?u.cardButtonSelected:u.cardButtonUnselected},hoveredStyle:u.cardButtonHovered,pressedStyle:u.cardButtonHovered,ignoreLocalHoverState:n,disabled:t,onClick:()=>{c(e)},children:o.icon?o.icon.function({...u.iconBase,height:o.icon.size,width:o.icon.size,...n?u.iconSelected:{}}):(0,a.jsx)("img",{src:o.image.src,style:{width:o.image.width,height:o.image.height,...u.imageBase,...n?u.imageSelected:{}}})}),(0,a.jsx)("div",{style:{...u.cardLabelBase,...n?u.cardLabelSelected:{}},children:o.label})]},e)}));return(0,a.jsx)("div",{style:u.cardContainer,children:p})}},192855:(e,t,i)=>{i.d(t,{L:()=>n});i(296540);var o=i(474848);const n=(0,i(340498).wt)("notionLogoBlockMonoWhite",{viewBox:"0 0 381 396",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M235.875 0.868913L42.2191 15.1299L42.0716 15.1427C29.2402 16.2539 17.5452 21.4575 9.54377 31.7056C2.00788 41.3575 0 52.6286 0 61.8081V273.61C0 290.004 6.39474 302.931 16.1515 315.934L16.2408 316.053L61.92 375.319L61.9886 375.407C67.4438 382.345 74.2617 388.53 83.9092 392.051C92.764 395.282 101.803 395.406 109.715 395.029L109.86 395.022L335.006 381.426L335.127 381.417C347.547 380.535 360.717 376.889 370.12 366.212C379.335 355.75 380.958 342.967 380.958 333.359V95.0753C380.958 86.7983 378.898 78.5009 372.39 70.965C368.595 66.5704 363.178 62.6545 359.406 59.9283C358.887 59.5528 358.398 59.1998 357.95 58.8713L357.768 58.7383L295.914 15.2639C287.833 9.40276 279.51 4.11203 268.519 1.62123C258.306 -0.693516 247.597 -0.133719 235.875 0.868913ZM44.056 38.0569L237.701 23.7967C239.187 23.6692 240.605 23.5551 241.959 23.4557C262.28 21.965 268.533 23.8019 282.545 33.9806L344.359 77.4261C344.891 77.8156 345.404 78.1905 345.899 78.5522C354.904 85.1258 357.958 87.3558 357.958 95.0753V333.359C357.958 347.359 353.177 355.996 336.907 358.134C335.822 358.277 334.687 358.391 333.498 358.475L108.619 372.055C94.3416 372.736 87.5464 370.701 80.0693 361.191L34.5487 302.131C34.0389 301.451 33.5477 300.782 33.0748 300.123C25.9812 290.237 23 282.531 23 273.61V61.8081C23 60.2816 23.085 58.7867 23.2643 57.3368C23.7339 53.5393 24.8501 50.0501 26.7789 47.1082C26.814 47.0547 26.8493 47.0014 26.8849 46.9483C26.9254 46.8879 26.9662 46.8277 27.0074 46.7677C30.2624 42.0312 35.7039 38.7802 44.056 38.0569Z",fill:"white"}),(0,o.jsx)("path",{d:"M80.7599 84.2182C91.6206 93.0413 95.6948 92.3681 116.088 91.0076L308.351 79.463C312.429 79.463 309.038 75.3949 307.678 74.7188L275.747 51.6355C269.629 46.8857 261.478 41.446 245.855 42.8066L59.6871 56.3852C52.8978 57.0584 51.5415 60.453 54.2457 63.1742L80.7599 84.2182Z",fill:"white"}),(0,o.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M92.3031 331.318V129.025C92.3031 120.201 95.021 116.125 103.169 115.44L323.977 102.546C331.466 101.868 334.857 106.623 334.857 115.44V316.376C334.857 325.208 333.495 332.686 321.261 333.359L109.964 345.585C97.7361 346.257 92.3031 342.191 92.3031 331.318ZM294.768 152.79C300.894 152.102 302.249 145.992 300.894 139.876L254.001 142.606C247.206 143.279 241.778 148.708 243.135 156.184L260.804 158.213V251.899L191.501 145.995L141.221 149.384C131.703 150.068 128.311 158.886 129.672 165.002L146.654 166.363V300.099L134.424 303.489C129.67 304.848 128.308 311.631 129.67 314.35L176.538 311.631C193.54 311.631 193.54 299.418 193.54 299.418L172.467 294.662V193.514L239.06 298.057C247.206 308.234 249.929 311.631 260.804 311.631C267.596 311.631 275.747 308.915 284.586 304.164V154.818L294.768 152.79Z",fill:"white"})]})})},235721:(e,t,i)=>{i.d(t,{A:()=>C});i(944114),i(898992),i(803949),i(296540);var o=()=>i(56366),n=()=>i(401497),s=()=>i(49621),r=()=>i(212439),a=()=>i(568625),l=()=>i(426388),d=()=>i(192855),c=()=>i(173019),g=()=>i(381138),u=()=>i(86465),p=()=>i(179034),h=()=>i(959013),m=()=>i(284371),x=()=>i(187820),f=()=>i(16006),y=()=>i(630116),S=i(474848);function C(e){const{spaceStore:t,keys:i,size:o,showCustomHeaderPages:l,left:d,style:p}=e,h=(0,n().IS)((e=>{const t=v(o),i=function(e){return"small"===e?10:16}(o);return{topbarContainer:{display:"flex",alignItems:"center",marginLeft:8,marginRight:12,...p},actionsContainer:{display:"flex",flexDirection:"row",gap:i,alignItems:"center"},icon:{height:t,width:t,fill:e.icon.primary},searchIcon:{height:t-2,width:t-2,fill:e.icon.primary}}}),[o,p]),m=[];return i.forEach((e=>{"duplicate"===e?m.push((0,S.jsx)("div",{children:(0,r().V)(h.icon)},"duplicate")):"comment"===e?m.push((0,S.jsx)("div",{children:(0,s().h)(h.icon)},"comment")):"edit"===e?m.push((0,S.jsx)("div",{children:(0,c().r)(h.icon)},"edit")):"more"===e?m.push((0,S.jsx)("div",{children:(0,a().L)(h.icon)},"more")):"search"===e?m.push((0,S.jsx)("div",{children:(0,g().q)(h.searchIcon)},"search")):"share"===e?m.push((0,S.jsx)("div",{children:(0,u().N)(h.icon)},"share")):"signUpOrLogIn"===e?m.push((0,S.jsx)(b,{size:o},"signUpOrLogIn")):t&&l&&m.push((0,S.jsx)(j,{spaceStore:t,blockId:e},e))})),(0,S.jsxs)("div",{style:h.topbarContainer,children:[d,(0,S.jsx)("div",{style:{flex:1}}),(0,S.jsx)("div",{style:h.actionsContainer,children:m})]})}function b(e){const{size:t}=e,i=(0,n().IS)((e=>{const i=v(t),o=function(e){return"small"===e?{paddingTop:2,paddingBottom:2,paddingLeft:6,paddingRight:6}:"large"===e?{paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10}:{paddingTop:4,paddingBottom:4,paddingLeft:8,paddingRight:8}}(t);return{signUpContainer:{display:"flex",alignItems:"center",gap:4,border:`1px solid ${e.darkDividerColor}`,borderRadius:4,fontSize:A(t),fontWeight:m().Wy.medium,whiteSpace:"nowrap",...o},icon:{height:i-2,width:i-2,fill:e.icon.primary}}}),[t]),o=(0,n().DP)();return(0,S.jsxs)("div",{style:i.signUpContainer,children:[(0,S.jsx)(h().sA,{defaultMessage:"Made with",id:"publishSiteSettings.topbar.madeWithPreview"}),"light"===o.mode?(0,l().S)(i.icon):(0,d().L)(i.icon)]})}function j(e){const{spaceStore:t,blockId:i}=e,{store:s,icon:r,isEmptyPage:a}=(0,o().K8)((()=>{const e=y().Bv.createChildStore(t,{table:p().ev,id:i});return{store:e,icon:e.getIcon(),isEmptyPage:e.isEmptyPage()}}),[t,i]),l=(0,n().IS)((()=>({container:{display:"flex",alignItems:"center",gap:4},pageTitle:{fontSize:14,wordBreak:"break-word",marginRight:4}})),[]);return(0,S.jsxs)("div",{style:l.container,children:[r&&(0,S.jsx)(x().B6,{icon:r,store:s,disabled:!0,size:14,isEmptyPage:a,emojiSize:20,style:{marginRight:4}}),(0,S.jsx)(f().A,{store:s,style:l.pageTitle,maxLength:24})]})}function v(e){return"small"===e?12:16}function A(e){return"small"===e?9:"large"===e?14:12}},242565:(e,t,i)=>{i.r(t),i.d(t,{SITE_SETTINGS_TOOLTIP_WIDTH:()=>jt,SiteSettingsLayoutEditor:()=>vt});var o=i.n(i(32485)),n=i(296540),s=()=>i(560198),r=()=>i(484714),a=()=>i(56366),l=()=>i(401497),d=()=>i(212050),c=()=>i(133033),g=()=>i(175947),u=()=>i(959013),p=()=>i(284371),h=()=>i(493823),m=()=>i(204063),x=()=>i(16006),f=()=>i(2143),y=()=>i(859428),S=()=>i(21140),C=()=>i(299772),b=()=>i(38337),j=()=>i(347199),v=()=>i(447934),A=()=>i(263711),k=()=>i(962730),w=()=>i(756279),I=()=>i(948914),B=()=>i(217429),L=()=>i(548821),R=()=>i(329304),T=()=>i(525700),M=()=>i(435212),E=()=>i(578872),_=()=>i(300451),P=()=>i(680984),W=()=>i(235721),z=(i(898992),i(354520),()=>i(187820)),H=()=>i(108944),D=()=>i(630116),K=i(474848);function U(e){const{store:t,siteRootBlockStore:i}=e,{rootStore:o,showEllipsis:n}=function(e,t){return(0,a().K8)((()=>{let i=!1;const o=H().fU(e).filter((e=>!(e instanceof D().h4)&&(!i&&(e instanceof D().Bv?(i=e.id===t.id,!0):void 0))));return{rootStore:o[o.length-1].id===e.id?void 0:o[o.length-1],showEllipsis:o.length>2}}),[e,t])}(t,i),s=(0,l().IS)((e=>({ellipsis:{color:e.text.secondary}})),[]),r=n?(0,K.jsx)("span",{style:s.ellipsis,children:"/ ... /"}):o?(0,K.jsx)("span",{style:s.ellipsis,children:"/"}):null;return(0,K.jsxs)(S().Ye,{gap:4,children:[o&&(0,K.jsx)(N,{store:o}),r,(0,K.jsx)(N,{store:t})]})}function N(e){const{store:t}=e,{icon:i,isEmptyPage:o}=(0,a().K8)((()=>({icon:t.getIcon(),isEmptyPage:t.isEmptyPage()})),[t]),n=(0,l().IS)((e=>({container:{display:"flex",alignItems:"center",gap:6,color:e.text.secondary,fontSize:14,lineHeight:1.42},title:{maxWidth:240}})),[]);return(0,K.jsxs)("div",{style:n.container,children:[i&&(0,K.jsx)(z().B6,{disabled:!0,icon:i,isEmptyPage:o,disableShrinking:!0,size:16,emojiSize:16,style:{marginRight:4}}),(0,K.jsx)(x().A,{style:n.title,shouldWrap:!1,maxLines:1,store:t})]})}var V=()=>i(189048),F=()=>i(285790),O=()=>i(112698),Z=()=>i(500128),G=()=>i(381349),Y=()=>i(496603),$=()=>i(623580),Q=()=>i(545805),q=()=>i(125565);const X=/^[A-Za-z0-9]+$/;function J(e){const{disabled:t}=e,[i,o]=(0,n.useState)(!1),[s,r]=(0,n.useState)(!1),d=(0,a().K8)((()=>_().A.getState().googleAnalyticsId),[]),[c,g]=(0,n.useState)(d),h=(0,l().IS)((e=>({container:{display:"flex",gap:24,marginLeft:8,marginRight:8},description:{color:e.text.secondary},inputGroup:{gap:6},inputLabel:{fontWeight:p().Wy.medium,fontSize:12,lineHeight:1.2,color:e.text.secondary},inputContainer:{background:t?e.surface.wash:e.surface.page,borderRadius:4,boxShadow:s?"0px 0px 0px 1px #2383E2 inset, 0px 0px 0px 2px rgba(35, 131, 226, 0.35)":`${e.regularDividerColor} 0px 0px 0px 1px inset`,height:28,padding:8,fontWeight:p().Wy.regular,fontSize:14,lineHeight:1.3,color:e.text.secondary},input:{marginLeft:-6,paddingLeft:0,color:e.text.primary},errorContainer:{fontSize:12,width:"100%",color:G().Ay.red}})),[s,t]);return(0,K.jsxs)(S().wt,{style:h.container,children:[(0,K.jsx)(q().A,{isSmall:!0,isMultiline:!0,style:h.description,children:(0,K.jsx)(u().sA,{id:"siteSettingsEditor.googleAnalytics.description",defaultMessage:"Add your Google Analytics measurement ID and publish changes to start tracking your site"})}),(0,K.jsxs)(S().wt,{style:h.inputGroup,children:[(0,K.jsx)("div",{style:h.inputLabel,children:(0,K.jsx)(u().sA,{id:"siteSettingsEditor.googleAnalytics.inputLabel",defaultMessage:"Measurement ID"})}),(0,K.jsx)(Q().A,{debugName:"InputMenuItem",capture:!0,onUntab:Y().D_,onTab:Y().D_,onSelectAll:Y().D_,onRedo:Y().D_,onUndo:Y().D_,onToggleBold:Y().D_,onToggleItalics:Y().D_,onToggleCode:Y().D_,onCut:Y().D_,onCopy:Y().D_,onPaste:Y().D_,onKeypress:Y().D_,onLeft:Y().D_,onRight:Y().D_,onDelete:Y().D_,onBackspace:Y().D_,children:(0,K.jsx)($().A,{type:"text",style:h.inputContainer,inputStyle:h.input,value:c,onChange:e=>{const t=e.target.value;if(t){const e=X.test(t);g(t),o(!e),e&&T().Nf(t)}else g(void 0),T().Nf(t)},format:$().C.Transparent,onFocus:()=>r(!0),onBlur:()=>r(!1),left:"G-",disabled:t})}),i&&(0,K.jsx)("div",{style:h.errorContainer,children:(0,K.jsx)(u().sA,{id:"siteSettingsEditor.googleAnalytics.validationError",defaultMessage:"Only alphanumeric characters allowed"})})]})]})}var ee=()=>i(340498);const te=(0,ee().wt)("breadcrumb",{viewBox:"0 0 14 12",svg:(0,K.jsx)("path",{d:"M9.813 11.33c-.395 0-.637-.241-.637-.578 0-.1.018-.2.035-.265l2.69-9.263c.113-.378.313-.555.668-.555.377 0 .63.242.63.602a.875.875 0 0 1-.029.242l-2.702 9.299c-.106.348-.313.519-.655.519ZM7.283 9.252a.888.888 0 0 1-.899-.9c0-.499.393-.899.9-.899.499 0 .892.4.892.9 0 .505-.393.899-.893.899ZM4.491 9.252a.888.888 0 0 1-.899-.9c0-.499.393-.899.9-.899.499 0 .892.4.892.9 0 .505-.393.899-.893.899ZM1.7 9.252a.888.888 0 0 1-.9-.9c0-.499.394-.898.9-.898.499 0 .892.4.892.899 0 .505-.393.899-.893.899Z"})}),ie=(0,ee().wt)("contentSearch",{viewBox:"0 0 16 16",svg:(0,K.jsx)("path",{d:"M0.25293 5.82031C0.25293 8.88965 2.74805 11.3848 5.81738 11.3848C6.95898 11.3848 8.00488 11.0361 8.87988 10.4414L12.0244 13.5859C12.2158 13.7842 12.4824 13.873 12.749 13.873C13.3301 13.873 13.7471 13.4355 13.7471 12.8682C13.7471 12.5947 13.6514 12.3418 13.4668 12.1504L10.3428 9.01953C10.9922 8.12402 11.3818 7.0166 11.3818 5.82031C11.3818 2.75098 8.88672 0.255859 5.81738 0.255859C2.74805 0.255859 0.25293 2.75098 0.25293 5.82031ZM1.70215 5.82031C1.70215 3.55078 3.54102 1.70508 5.81738 1.70508C8.08691 1.70508 9.93262 3.55078 9.93262 5.82031C9.93262 8.08984 8.08691 9.93555 5.81738 9.93555C3.54102 9.93555 1.70215 8.08984 1.70215 5.82031Z"})});var oe=()=>i(939740),ne=()=>i(89924),se=()=>i(946548),re=()=>i(553965),ae=()=>i(801494),le=()=>i(585293),de=()=>i(887146),ce=()=>i(179034),ge=()=>i(439264),ue=()=>i(689094),pe=()=>i(704152),he=(i(581454),()=>i(187174)),me=()=>i(381138),xe=()=>i(331542),fe=()=>i(897119),ye=()=>i(958378),Se=()=>i(377586);const Ce=10;function be(e){const{siteRootBlockStore:t,onSelection:i,onResetInput:o}=e,[s,r]=(0,n.useState)(""),[a,d]=(0,n.useState)(!1),c=(0,l().IS)((()=>({resultsPopup:{width:264}})),[]),g=(0,n.useCallback)((e=>{i(e),d(!1),r("")}),[i,d]),u=(0,n.useCallback)((()=>{d(!1)}),[d]),p=(0,n.useCallback)((()=>{a||o()}),[a,o]);return(0,K.jsx)(fe().Ay,{alignmentToOrigin:k().C.Start,origin:(0,K.jsx)(je,{query:s,setQuery:r,setShowResults:d,onBlurInput:p}),originGap:3,open:a,popupType:Se().n.Popup,style:c.resultsPopup,render:()=>(0,K.jsx)(ve,{siteRootBlockStore:t,query:s,onSelection:g}),onDismiss:u,trapFocus:!1})}function je(e){const{query:t,setQuery:i,setShowResults:o,onBlurInput:s}=e,r=(0,u().tz)(),a=(0,l().IS)((e=>({input:{display:"flex",flex:1,paddingLeft:4,marginTop:8,marginLeft:8,marginRight:8,fontSize:14,width:"auto"},icon:{fill:e.icon.tertiary,width:14,height:14,marginLeft:4}})),[]),d=(0,n.useCallback)((e=>{i(e.target.value),o(!0)}),[i,o]),c=(0,n.useCallback)((()=>{o(!0)}),[o]),g=(0,n.useCallback)((e=>{"Escape"===e.key&&(s(),o(!1))}),[s,o]);return(0,K.jsx)($().A,{type:"text",focusInitial:!0,disabled:!1,onChange:d,onFocus:c,onBlur:s,onKeyDown:g,style:a.input,value:t,left:(0,me().q)(a.icon),placeholder:r.formatMessage({id:"sites.siteHeaderSearchInput.placeholder",defaultMessage:"Select a page"})})}function ve(e){const{siteRootBlockStore:t,query:i,onSelection:o}=e,n=(0,r().v3)(),s=(0,a().K8)((()=>t.getSpaceStore()),[t]),d=(0,a().K8)((()=>_().A.getState().customHeaderBlockIds),[]),c=(0,l().IS)((()=>({loadingSpinner:{textAlign:"center",visibility:"visible",display:"inline",marginLeft:8}})),[]),[{value:g,status:p}]=(0,he().Yb)((()=>T().j4({environment:n,spaceStore:t.getSpaceStore(),query:i,siteRootBlockId:t.id})),[n,i,t]),h=(0,a().K8)((()=>{if(!s)return[];if("idle"===p||"pending"===p)return[{key:"sites-search-results",render:e=>(0,K.jsx)(ne().A,{...e}),items:[{key:"sites-loading-search-results",render:()=>(0,K.jsx)(xe().A,{style:c.loadingSpinner}),action:()=>{}}]}];const e=(null==g?void 0:g.results)||[];if((!e||0===e.length)&&i.length>0)return[{key:"sites-no-results",render:e=>(0,K.jsx)(ne().A,{...e}),items:[{key:"sites-no-results",render:()=>(0,K.jsx)(q().A,{isSmall:!0,style:{paddingLeft:8,paddingTop:4,paddingBottom:4},children:(0,K.jsx)(u().sA,{id:"siteSettingsEditor.siteHeaderSearchInput.noResults",defaultMessage:"No pages found"})}),action:()=>{}}]}];const n=(0,Y().oE)(e.map((e=>{if(d.includes(e.id))return;if(e.id===t.id)return;const i=D().Bv.createChildStore(s,{table:ce().ev,id:e.id});return{key:i.id,render:e=>(0,K.jsx)(ye().A,{store:i,hidePath:!0,...e}),action:()=>{o(i.id)}}})));return 0===n.length?[Ae(!1)]:""===i?n.length>=Ce?[{key:"sites-suggested-search-results",render:e=>(0,K.jsx)(ne().A,{...e}),items:n.splice(0,Ce)}]:[{key:"sites-suggested-search-results",render:e=>(0,K.jsx)(ne().A,{...e}),items:n.splice(0,Ce)},Ae(!0)]:[{key:"sites-search-results",render:e=>(0,K.jsx)(ne().A,{...e}),items:n}]}),[s,g,d,t,o,c,p,i]);return(0,K.jsx)(oe().Ay,{type:oe().Oh.Vertical,sections:h,initialFocus:void 0})}function Ae(e){return{key:"sites-exhausted-results",render:t=>(0,K.jsx)(ne().A,{...t,topBorder:e}),items:[{key:"sites-exhausted-results",render:()=>(0,K.jsx)(q().A,{isSmall:!0,isMultiline:!0,style:{paddingLeft:8,paddingTop:4,paddingBottom:4},children:(0,K.jsx)(u().sA,{id:"siteSettingsEditor.siteHeaderSearchInput.noNewResults",defaultMessage:"When you have other published pages on this site, they will appear here"})}),action:()=>{}}]}}function ke(e){const{siteRootBlockStore:t,disabled:i,customHeaderBlocks:o}=e,[s,r]=(0,n.useState)(!1),a=(0,l().IS)((e=>({button:{display:"flex",justifyContent:"center",alignItems:"center",gap:8,marginTop:8,marginLeft:8,marginRight:8,padding:4,background:e.tint.uiBlue,fontSize:14,color:i?e.text.uiBlueTertiary:e.text.uiBluePrimary,borderRadius:6},hoverContainer:{background:e.tint.uiBlueHover},addIcon:{height:14,width:14,fill:i?e.text.uiBlueTertiary:e.text.uiBluePrimary}})),[i]);return s?(0,K.jsx)(be,{siteRootBlockStore:t,onSelection:e=>{T().aN(e),r(!1)},onResetInput:()=>r(!1)}):(0,K.jsx)(y().A,{renderTooltip:()=>(0,K.jsx)(u().sA,{id:"siteSettingsEditor.header.addLinkToPageDisabledTooltip",defaultMessage:"Maximum {maximumLinks} page shortcuts",values:{maximumLinks:we}}),disableTooltip:o.length<we,render:e=>(0,K.jsxs)(pe().A,{...e,disabled:i||o.length>=we,onClick:()=>r(!0),style:a.button,hoveredStyle:a.hoverContainer,children:[(0,ue().W)(a.addIcon),(0,K.jsx)(u().sA,{id:"siteSettingsEditor.header.addLinkToPage",defaultMessage:"Add page"})]}),placement:k().W.Bottom,alignment:k().C.Center,textWrap:!0})}const we=5,Ie=(0,u().YK)({removeCustomHeaderPage:{id:"siteSettingsEditor.headerCustomBlockNav.removeTitle",defaultMessage:"Remove linked page"},tooltipMessage:{defaultMessage:"Add up to {maximumLinks} pages in the header",id:"siteSettingsEditor.header.addLinkToPagesHelp"}});function Be(){const e=(0,l().IS)((e=>({helpIcon:{marginLeft:4,marginTop:1,width:14,height:14,color:e.icon.tertiary,cursor:"default"}})),[]),t={maximumLinks:we};return(0,K.jsx)(y().A,{renderTooltip:()=>(0,K.jsx)(u().sA,{...Ie.tooltipMessage,values:t}),render:t=>(0,K.jsx)("div",{...t,children:(0,c().$)(e.helpIcon)}),placement:k().W.Bottom,alignment:k().C.Center})}function Le(e){const{siteRootBlockStore:t,disabled:i}=e,o=(0,a().K8)((()=>t.getSpaceStore()),[t]),s=(0,a().K8)((()=>_().A.state.customHeaderBlockIds),[]),r=(0,n.useCallback)((e=>{_().A.setState({..._().A.state,customHeaderBlockIds:e})}),[]),d=(0,l().IS)((e=>({container:{flex:1},title:{fontWeight:p().Wy.semibold,marginBottom:8,marginLeft:8,marginRight:8,display:"flex"},description:{color:e.text.secondary,paddingBottom:4,marginLeft:8,marginRight:8}})),[]);return(0,K.jsxs)("div",{style:d.container,children:[(0,K.jsxs)(q().A,{isSmall:!0,style:d.title,children:[(0,K.jsx)(u().sA,{id:"siteSettingsEditor.customHeader.title",defaultMessage:"Navigation"}),(0,K.jsx)(Be,{})]}),(0,K.jsx)(q().A,{isSmall:!0,isMultiline:!0,style:d.description,children:(0,K.jsx)(u().sA,{id:"siteSettingsEditor.customHeader.description",defaultMessage:"Allow users to easily navigate to other pages on this site"})}),(0,K.jsx)(ge().Ay,{direction:"vertical",keys:s,renderKey:e=>function(e,t,i){return t?(0,K.jsx)(Re,{blockId:e,spaceStore:t,disabled:i},e):null}(e,o,i),onDrop:r,disableHorizontalEdgeScroll:!1,style:{marginTop:8},disabled:i}),(0,K.jsx)(ke,{siteRootBlockStore:t,disabled:i,customHeaderBlocks:s})]})}function Re(e){const{blockId:t,spaceStore:i,disabled:o}=e,s=(0,u().tz)(),{store:r,icon:c,isEmptyPage:g}=(0,a().K8)((()=>{const e=D().Bv.createChildStore(i,{table:ce().ev,id:t});return{store:e,icon:e.getIcon(),isEmptyPage:e.isEmptyPage()}}),[i,t]),[p,h]=(0,n.useState)(!1),m=(0,n.useCallback)((()=>{h(!0)}),[]),f=(0,n.useCallback)((()=>{h(!1)}),[]),y=(0,l().IS)((e=>({container:{display:"flex",flex:1,minWidth:"100%",gap:8,alignItems:"center",justifyContent:"center",paddingLeft:6,paddingRight:6,paddingTop:4,paddingBottom:4,fontSize:14},hoverContainer:{background:e.buttonHoveredBackground,borderRadius:4},pageTitle:{wordBreak:"break-word"},closeIcon:{height:12,width:12,fill:e.icon.secondary},dragIcon:{height:12,width:12,color:e.icon.secondary},filler:{flex:1}})),[]),S=p?{...y.container,...y.hoverContainer}:y.container;return(0,K.jsxs)("div",{style:S,onMouseEnter:m,onMouseLeave:f,children:[(0,de().i)(y.dragIcon),c&&(0,K.jsx)(z().B6,{icon:c,store:r,disabled:!0,size:14,isEmptyPage:g,emojiSize:14,style:{marginTop:1}}),(0,K.jsx)(q().A,{style:y.filler,children:(0,K.jsx)(x().A,{store:r,style:y.pageTitle})}),!o&&(0,K.jsx)(F().A,{icon:d().u,iconStyle:y.closeIcon,onClick:()=>T().JI(t),ariaLabel:s.formatMessage(Ie.removeCustomHeaderPage),disabled:o})]})}function Te(e){const{siteRootBlockStore:t,disabled:i}=e,o=(0,l().IS)((()=>({container:{paddingTop:0,paddingBottom:0,gap:0}})),[]),n=(0,a().K8)((()=>function(e){const{siteRootBlockStore:t,disabled:i}=e,o="on"===B().default.getEligibleGroup({experimentId:"public_site_topbar_share_button",defaultGroup:"control"})&&"on"===B().default.getEligibleGroup({experimentId:"public_site_topbar_mobile_share_button",defaultGroup:"control"}),n=(0,Y().oE)([{key:"breadcrumbSetting",render:e=>(0,K.jsx)(Me,{...e,disabled:i}),action:()=>{T().DD(!_().A.state.hideBreadcrumbs)}},{key:"searchSetting",render:e=>(0,K.jsx)(Ee,{...e,disabled:i}),action:()=>{T().XL(!_().A.state.hideSearch)}},...o?[{key:"shareSetting",render:e=>(0,K.jsx)(Pe,{...e,disabled:i}),action:()=>{T().sd(!_().A.state.hideShare)}}]:[],{key:"duplicateAsTemplateSetting",render:e=>(0,K.jsx)(ae().A,{...e,disabled:i,value:_().A.state.enableDuplicateAsTemplate}),action:()=>{T().d7(!_().A.state.enableDuplicateAsTemplate)}},{key:"watermarkSetting",render:e=>(0,K.jsx)(_e,{...e,disabled:i,siteRootBlockStore:t}),action:()=>{T().Xz(!_().A.state.hideWatermark)}}]);return n}({siteRootBlockStore:t,disabled:i})),[t,i]),s=(0,Y().oE)([{key:0,render:e=>(0,K.jsx)(ne().A,{style:o.container,...e}),items:n}]);return(0,K.jsxs)(S().wt,{gap:24,children:[(0,K.jsx)(oe().Ay,{type:oe().Oh.Vertical,sections:s,initialFocus:void 0,resetFocusOnMouseOut:!0,resetInitialFocusOnSectionChangeAlways:!0}),(0,K.jsx)(Le,{siteRootBlockStore:t,disabled:i})]})}const Me=n.forwardRef(((e,t)=>{const{disabled:i}=e,o=(0,a().K8)((()=>!_().A.state.hideBreadcrumbs),[]),n=(0,l().IS)((e=>({icon:{margin:0,height:16,width:16,fill:e.icon.secondary}})),[]);return(0,K.jsx)(y().A,{renderTooltip:()=>(0,K.jsx)(u().sA,{id:"siteSettingsEditor.headerBreadcrumbsSetting.tooltip",defaultMessage:"Show page breadcrumbs on the top left section of the header"}),disableTooltip:!1,render:s=>(0,K.jsx)(le().a,{...(0,re().A)(e,s),ref:t,title:(0,K.jsx)(u().sA,{defaultMessage:"Breadcrumbs",id:"siteSettingsEditor.headerBreadcrumbsSetting.title"}),icon:te(n.icon),right:(0,K.jsx)(se().A,{...e,on:o,disabled:i})}),placement:k().W.Bottom,alignment:k().C.Center,textWrap:!0,style:{maxWidth:jt}})}));Me.displayName="BreadcrumbSetting";const Ee=n.forwardRef(((e,t)=>{const{disabled:i}=e,o=(0,a().K8)((()=>!_().A.state.hideSearch),[]),n=(0,l().IS)((e=>({icon:{margin:0,height:16,width:16,fill:e.icon.secondary}})),[]);return(0,K.jsx)(y().A,{renderTooltip:()=>(0,K.jsx)(u().sA,{id:"siteSettingsEditor.headerSearchSetting.tooltip",defaultMessage:"Allow users to search for content on your site"}),disableTooltip:!1,render:s=>(0,K.jsx)(le().a,{...(0,re().A)(e,s),ref:t,title:(0,K.jsx)(u().sA,{defaultMessage:"Search",id:"siteSettingsEditor.headerSearchSetting.title"}),icon:ie(n.icon),right:(0,K.jsx)(se().A,{...e,on:o,disabled:i})})})}));Ee.displayName="SearchSetting";const _e=n.forwardRef(((e,t)=>{const{siteRootBlockStore:o,disabled:n}=e,s=(0,a().K8)((()=>!_().A.state.hideWatermark),[]),r=(0,a().K8)((()=>{var e;const t=null===(e=o.getSiteStore())||void 0===e?void 0:e.getDomainId(),n=i(562800).Ue(o.getSpaceStore(),t);return"custom"===(null==n?void 0:n.getDomainType())}),[o]),d=(0,l().IS)((e=>({icon:{margin:0,height:16,width:16,fill:e.icon.secondary}})),[]);return(0,K.jsx)(y().A,{renderTooltip:()=>r?(0,K.jsx)(u().sA,{id:"siteSettingsEditor.headerWatermarkSetting.tooltip",defaultMessage:"Show 'Built with Notion' button"}):(0,K.jsx)(u().sA,{id:"siteSettingsEditor.headerWatermarkSetting.disabledTooltip",defaultMessage:"Disable Notion watermark on sites published on custom domains"}),disableTooltip:!1,render:o=>(0,K.jsx)("div",{...o,children:(0,K.jsx)(le().a,{...(0,re().A)(e,o),disabled:n||!r,ref:t,title:(0,K.jsx)(u().sA,{defaultMessage:"Notion watermark",id:"siteSettingsEditor.headerWatermarkSetting.title"}),icon:(0,i(426388).S)(d.icon),right:(0,K.jsx)(se().A,{...e,on:s,disabled:n||!r})})}),placement:k().W.Bottom,alignment:k().C.Center,textWrap:!0,style:{maxWidth:jt}})}));_e.displayName="WatermarkSetting";const Pe=n.forwardRef(((e,t)=>{const{disabled:o}=e,n=(0,a().K8)((()=>!_().A.state.hideShare),[]),s=(0,l().IS)((e=>({icon:{margin:0,height:16,width:16,fill:e.icon.secondary}})),[]);return(0,K.jsx)(y().A,{renderTooltip:()=>(0,K.jsx)(u().sA,{id:"siteSettingsEditor.headerShareSetting.tooltip",defaultMessage:"Allow users to share your site"}),disableTooltip:!1,render:r=>(0,K.jsx)(le().a,{...(0,re().A)(e,r),ref:t,title:(0,K.jsx)(u().sA,{defaultMessage:"Share",id:"siteSettingsEditor.headerShareSetting.title"}),icon:(0,i(86465).N)(s.icon),right:(0,K.jsx)(se().A,{...e,on:n,disabled:o})})})}));Pe.displayName="ShareSetting";var We=()=>i(963589);i(944114);const ze=(0,ee().wt)("arrowUpLine",{viewBox:"0 0 16 16",svg:(0,K.jsx)("path",{d:"M13.2944 7.53857C13.2944 7.74821 13.2261 7.92139 13.0894 8.05811C12.9526 8.19482 12.7817 8.26318 12.5767 8.26318C12.4718 8.26318 12.3739 8.24495 12.2827 8.2085C12.1916 8.16748 12.1118 8.11279 12.0435 8.04443L10.4917 6.51318L8.21533 3.97705L8.6665 3.75146L8.74854 5.97998V14.4702C8.74854 14.6935 8.6779 14.8758 8.53662 15.0171C8.3999 15.1584 8.22217 15.229 8.00342 15.229C7.78011 15.229 7.59782 15.1584 7.45654 15.0171C7.31982 14.8758 7.25146 14.6935 7.25146 14.4702V5.97998L7.3335 3.75146L7.7915 3.97705L5.5083 6.51318L3.95654 8.04443C3.88818 8.11279 3.80843 8.16748 3.71729 8.2085C3.62614 8.24495 3.52816 8.26318 3.42334 8.26318C3.21826 8.26318 3.04736 8.19482 2.91064 8.05811C2.77393 7.92139 2.70557 7.74821 2.70557 7.53857C2.70557 7.33805 2.78304 7.15804 2.93799 6.99854L7.44287 2.48682C7.52035 2.40479 7.60693 2.34554 7.70264 2.30908C7.79834 2.26807 7.8986 2.24756 8.00342 2.24756C8.10368 2.24756 8.20166 2.26807 8.29736 2.30908C8.39762 2.34554 8.48421 2.40479 8.55713 2.48682L13.062 6.99854C13.217 7.15804 13.2944 7.33805 13.2944 7.53857ZM13.2944 1.50928C13.2944 1.71891 13.2261 1.89437 13.0894 2.03564C12.9526 2.17692 12.7817 2.24756 12.5767 2.24756H3.43701C3.22282 2.24756 3.04736 2.17692 2.91064 2.03564C2.77393 1.89437 2.70557 1.71891 2.70557 1.50928C2.70557 1.29964 2.77393 1.12419 2.91064 0.98291C3.04736 0.841634 3.22282 0.770996 3.43701 0.770996H12.5767C12.7817 0.770996 12.9526 0.841634 13.0894 0.98291C13.2261 1.12419 13.2944 1.29964 13.2944 1.50928Z"})});var He=()=>i(742117),De=()=>i(901389),Ke=()=>i(84817),Ue=()=>i(760217),Ne=()=>i(406699),Ve=()=>i(928600),Fe=()=>i(864943),Oe=()=>i(429145),Ze=()=>i(972435),Ge=()=>i(722872),Ye=()=>i(700250),$e=()=>i(991249),Qe=()=>i(885400);const qe=(0,u().YK)({uploadError:{defaultMessage:"Failed to upload favicon",id:"publishSiteSettings.favicon.uploadError"}});function Xe(e,t){const{blockStore:o,siteRootBlockStore:n}=e,s=(0,r().Y0)(),{icon:d,isEmptyPage:c}=(0,a().K8)((()=>({icon:o.getIcon(),isEmptyPage:o.isEmptyPage()})),[o]),g=(0,l().IS)((e=>({chevronIcon:{height:12,width:12,fill:e.icon.tertiary,transform:"rotate(90deg)"}})),[]),p=(0,a().K8)((()=>!n.canAdmin()),[n]),h=(0,a().K8)((()=>_().A.state.faviconUrl),[]);return(0,K.jsx)(i(811979).A,{...e,disabled:p||e.disabled,popupType:s.isMobile?Ne().z7.SlideUp:Ne().z7.Popup,renderOrigin:i=>(0,K.jsx)(le().a,{...(0,re().A)(e,i),ref:t,title:(0,K.jsx)(u().sA,{defaultMessage:"Favicon",id:"publishSiteSettings.favicon.settingTitle"}),right:(0,K.jsxs)(K.Fragment,{children:[h?(0,K.jsx)(z().B6,{disabled:!0,icon:{icon:h,pointer:n.pointer},isEmptyPage:c,disableShrinking:!0,size:16,emojiSize:16}):d?(0,K.jsx)(z().B6,{disabled:!0,icon:d,isEmptyPage:!1,disableShrinking:!0,size:16,emojiSize:16}):(0,K.jsx)(Qe().A,{}),(0,He().V)(g.chevronIcon)]})}),alignmentToOrigin:Ye().MY.End,placementToOrigin:Ye().UV.Bottom,render:e=>(0,K.jsx)(Je,{blockStore:o,siteRootBlockStore:n,onClose:()=>{e.close()}})})}function Je(e){const{blockStore:t,siteRootBlockStore:i,onClose:o}=e,{spaceId:n,userId:s}=(0,a().K8)((()=>({spaceId:t.getSpaceId(),userId:t.userId})),[t]),{icon:d,isEmptyPage:c}=(0,a().K8)((()=>({icon:t.getIcon(),isEmptyPage:t.isEmptyPage()})),[t]),g=(0,a().K8)((()=>_().A.state.faviconUrl),[]),{uploadFile:h,isUploading:m}=function(e){const t=(0,r().v3)();return(0,Oe().lN)({environment:t,bucket:"secure",record:e.pointer,onSuccess:e=>{T().pu(e)},onError:e=>{De().f1(e.message??Ze().A.formatMessage(qe.uploadError))}})}(i),x=(0,R()._X)({name:"custom_image_upload_favicon",spaceId:n,userId:s}),f=null==x?void 0:x.upsell,y=(0,l().IS)((e=>({icon:{height:16,width:16,fill:e.icon.secondary},uploadButtonStyle:{width:"auto",marginTop:8,marginLeft:10,marginRight:10,display:"flex",..."dark"===e.mode&&{border:`1px solid ${e.darkTextColor}`}},uploadButtonHoveredStyle:{background:e.buttonHoveredBackground},uploadCaptionStyle:{fontSize:12,lineHeight:1.25,color:e.text.secondary,fontWeight:p().Wy.regular,textAlign:"center"}})),[]),S=(0,r().v3)(),C=[];if(d?C.push({key:"default",action:()=>{T().pu(null),o()},render:e=>(0,K.jsx)(Ue().A,{...e,title:(0,K.jsx)(u().sA,{defaultMessage:"Page icon",id:"publishSiteSettings.faviconPageIcon.title"}),left:(0,K.jsx)(z().B6,{disabled:!0,icon:d,isEmptyPage:c,disableShrinking:!0,size:16,emojiSize:16,style:{marginRight:4}}),isChecked:!g&&!m})}):C.push({key:"notion-logo",action:()=>{T().pu(null),o()},render:e=>(0,K.jsx)(Ue().A,{...e,title:(0,K.jsx)(u().sA,{defaultMessage:"Notion logo",id:"publishSiteSettings.notionLogo.title"}),left:(0,K.jsx)(Qe().A,{style:{marginRight:4}}),isChecked:!g&&!m})}),m||g){const e=m?(0,K.jsx)(xe().A,{style:{marginLeft:2}}):g?(0,K.jsx)(z().B6,{disabled:!0,icon:{icon:g,pointer:i.pointer},isEmptyPage:!1,disableShrinking:!0,size:16,emojiSize:16}):ze(y.icon);C.push({key:"custom",action:()=>{},render:t=>(0,K.jsx)(Ue().A,{...t,disabled:!0,title:(0,K.jsx)(u().sA,{defaultMessage:"Custom",id:"publishSiteSettings.faviconCustom.title"}),icon:e,isChecked:!0})})}"available"===(null==x?void 0:x.type)&&(C.push({key:"uploadFile",action:async()=>{await h()},render:e=>(0,K.jsx)(Fe().A,{...e,size:"lg",style:y.uploadButtonStyle,hoveredStyle:y.uploadButtonHoveredStyle,children:(0,K.jsx)(u().sA,{defaultMessage:"Upload image",id:"publishSiteSettings.favicon.uploadTitle"})})}),C.push({key:"uploadFileCaption",action:()=>{},render:e=>(0,K.jsx)(Ue().A,{...e,disabled:!0,title:(0,K.jsx)(u().sA,{defaultMessage:"Recommended size is 32 x 32",id:"publishSiteSettings.favicon.uploadCaption"}),textWrapperStyle:y.uploadCaptionStyle})}));const b=[{key:"favicon",render:e=>(0,K.jsx)(ne().A,{...e}),items:C}];return f&&"product"===f.type&&b.push({key:"upgrade-for-favicon",render:e=>(0,K.jsx)(ne().A,{...e,topBorder:!0}),items:[{key:"upsell",action:()=>{null!=x&&x.upsell&&$e().K(S,{from:"site_favicon",upsell:f})},render:e=>(0,K.jsx)(Ue().A,{...e,focused:e.focused,title:(0,K.jsxs)(Ke().Y1,{gap:6,direction:"horizontal",align:"center-left",children:[(0,K.jsx)(u().sA,{defaultMessage:"Upload custom favicons",id:"publishSiteSettings.favicon.upgrade"}),(0,K.jsx)(Z().K,{display:"icon",upsell:f,source:"site_favicon",children:(0,K.jsx)(O().B,{upsell:f,analyticsName:"site_favicon"})})]})})}]}),(0,K.jsx)(Ve().A,{menuType:Ge().gu.Popup,width:276,children:(0,K.jsx)(oe().Ay,{type:oe().Oh.Vertical,initialFocus:void 0,sections:b})})}const et=n.forwardRef(Xe);function tt(e,t){const i=(0,a().K8)((()=>_().A.getState().googleAnalyticsId),[]),o=(0,l().IS)((e=>({chevronIcon:{height:12,width:12,fill:e.icon.tertiary},rightStyle:{gap:4}})),[]);return(0,K.jsx)(le().a,{...e,ref:t,title:(0,K.jsx)(u().sA,{defaultMessage:"Google Analytics",id:"publishSiteSettings.googleAnalytics.settingTitle"}),right:(0,K.jsxs)(K.Fragment,{children:[i?(0,K.jsx)(u().sA,{defaultMessage:"Added",id:"publishSiteSettings.googleAnalytics.customValue"}):(0,K.jsx)(u().sA,{defaultMessage:"Off",id:"publishSiteSettings.googleAnalytics.defaultValue"}),(0,He().V)(o.chevronIcon)]}),rightStyle:o.rightStyle})}const it=n.forwardRef(tt);function ot(e,t){const i=(0,a().K8)((()=>_().A.state.hideBreadcrumbs||_().A.state.hideSearch||_().A.state.hideShare||_().A.state.hideWatermark||!1===_().A.state.enableDuplicateAsTemplate||_().A.state.customHeaderBlockIds.length>0),[]),o=(0,l().IS)((e=>({valueContainer:{display:"flex",alignItems:"center",gap:4,color:e.text.secondary},icon:{height:12,width:12,fill:e.icon.tertiary}})),[]);return(0,K.jsx)(le().a,{...e,ref:t,title:(0,K.jsx)(u().sA,{defaultMessage:"Header",id:"publishSiteSettings.header.settingTitle"}),right:(0,K.jsxs)("div",{style:o.valueContainer,children:[i?(0,K.jsx)(u().sA,{defaultMessage:"Custom",id:"publishSiteSettings.header.customValue"}):(0,K.jsx)(u().sA,{defaultMessage:"Default",id:"publishSiteSettings.header.defaultValue"}),(0,He().V)(o.icon)]})})}const nt=n.forwardRef(ot);var st=()=>i(678553);const rt=(0,u().YK)({uploadError:{defaultMessage:"Failed to upload s preview image",id:"publishSiteSettings.linkPreview.uploadError"}}),at=n.forwardRef(((e,t)=>{const{blockStore:o,siteRootBlockStore:s,focused:d,disabled:c}=e,g=(0,r().v3)(),h=(0,a().K8)((()=>_().A.state.previewImageUrl),[]),m=(0,a().K8)((()=>{if(o.isReady())return o.getFormat().social_media_image_preview_url}),[o]),x=Boolean(h);(0,n.useEffect)((()=>{o.isReady()&&!m&&i(6027).F({environment:g,store:o})}),[g,o,m]);const f=(0,n.useCallback)((e=>{T().yF(e)}),[]),{uploadFile:y,isUploading:C}=(0,Oe().lN)({onError:e=>{De().f1(e.message??Ze().A.formatMessage(rt.uploadError))},onSuccess:f,environment:g,bucket:"secure",record:s.pointer}),b=(0,l().IS)((e=>({container:{padding:0,marginTop:4,marginBottom:24},imageContainer:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:8,marginLeft:8,marginRight:8,background:e.surface.elevated,border:`1px solid ${e.stroke.primary}`,borderRadius:6},title:{lineHeight:1.2,marginTop:0,marginBottom:8,paddingLeft:8,color:e.text.secondary,fontWeight:p().Wy.medium,fontSize:12},buttonContainer:{position:"relative",background:"transparent"},buttonRow:{position:"absolute",right:16,top:-130,background:e.surface.elevated,borderRadius:4,boxShadow:e.shadowSM},button:{padding:6,fontSize:12,lineHeight:1.25,fontWeight:p().Wy.medium,color:e.text.secondary,background:e.surface.elevated},resetButton:{borderTopLeftRadius:4,borderBottomLeftRadius:4,borderRight:`1px solid ${e.stroke.secondary}`},uploadButton:{borderTopRightRadius:4,borderBottomRightRadius:4,...!x&&{borderTopLeftRadius:4,borderBottomLeftRadius:4}}})),[x]);return(0,K.jsx)(st().Ay,{...e,ref:t,title:(0,K.jsxs)(S().Ye,{children:[(0,K.jsx)(u().sA,{id:"publishSite.linkPreview.title",defaultMessage:"Share preview"}),(0,K.jsx)(dt,{})]}),titleStyle:b.title,style:b.container,itemMarginLeft:0,itemMarginRight:0,body:(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)("div",{style:b.imageContainer,children:(0,K.jsx)(lt,{blockStore:h?s:o,url:C?void 0:h??m})}),d&&!c&&!C&&(0,K.jsx)("div",{style:b.buttonContainer,children:(0,K.jsxs)(S().Ye,{style:b.buttonRow,children:[x&&(0,K.jsx)(pe().A,{style:{...b.button,...b.resetButton},onClick:()=>f(null),disabled:c,children:(0,K.jsx)(u().sA,{id:"publishSite.linkPreview.resetImage",defaultMessage:"Reset"})}),(0,K.jsx)(pe().A,{style:{...b.button,...b.uploadButton},onClick:y,disabled:c,children:(0,K.jsx)(u().sA,{id:"publishSite.linkPreview.uploadImage",defaultMessage:"Upload image"})})]})})]})})}));function lt(e){const{blockStore:t,url:o}=e,s=(0,a().K8)((()=>t.pointer),[t]),[r,d]=(0,n.useState)(!1),c=(0,l().IS)((()=>({image:{height:136,width:"100%",borderRadius:5},spinner:{display:"flex",justifyContent:"center",alignItems:"center",height:136}})),[]);return o?(0,K.jsx)(i(360083).A,{url:o,isAuthenticated:!0,permissionRecord:s,width:240,onFinishedLoadingProxyUrl:()=>d(!0),render:(e,t)=>t&&r?(0,K.jsx)(i(807683).Ay,{style:c.image,src:t,loading:"lazy"}):(0,K.jsx)(xe().A,{legacySize:136,style:c.spinner})}):(0,K.jsx)("div",{style:{...c.spinner,width:"100%"},children:(0,K.jsx)(xe().A,{})})}function dt(){const e=(0,l().IS)((e=>({helpIcon:{marginLeft:4,marginTop:1,width:14,height:14,color:e.icon.tertiary,cursor:"default"}})),[]);return(0,K.jsx)(y().A,{renderTooltip:()=>(0,K.jsx)(u().sA,{id:"publishSiteSettings.linkPreview.tooltip",defaultMessage:"The preview image of your site link when you share on social media, such as X and LinkedIn"}),render:t=>(0,K.jsx)("div",{...t,children:(0,c().$)(e.helpIcon)}),placement:k().W.Bottom,alignment:k().C.Center,textWrap:!0,style:{width:jt}})}function ct(e,t){const{enableQna:i}=e;return(0,K.jsx)(y().A,{renderTooltip:()=>(0,K.jsx)(u().sA,{id:"siteSettingsEditor.headerQnASetting.tooltip",defaultMessage:"Allow users to chat with AI about content on your site"}),disableTooltip:!1,render:o=>(0,K.jsx)(le().a,{...(0,re().A)(e,o),ref:t,title:(0,K.jsx)(u().sA,{id:"siteSettingsEditor.initialSettings.enableQna",defaultMessage:"Enable QnA"}),right:(0,K.jsx)(se().A,{...e,on:i})}),placement:k().W.Bottom,alignment:k().C.Center,textWrap:!0,style:{maxWidth:jt}})}at.displayName="PreviewImageSetting";const gt=n.forwardRef(ct),ut=(0,ee().wt)("themeDark",{viewBox:"0 0 18 19",svg:(0,K.jsx)("path",{d:"M13.8779 11.9844C14.2178 11.9844 14.5518 11.9668 14.8799 11.9316C15.2139 11.8906 15.5273 11.8379 15.8203 11.7734C16.1191 11.7031 16.3799 11.6182 16.6025 11.5186C16.7314 11.4658 16.8398 11.4307 16.9277 11.4131C17.0215 11.3955 17.1123 11.3867 17.2002 11.3867C17.376 11.3867 17.5342 11.4512 17.6748 11.5801C17.8213 11.709 17.8945 11.8848 17.8945 12.1074C17.8945 12.1719 17.8828 12.2598 17.8594 12.3711C17.8418 12.4824 17.8037 12.6055 17.7451 12.7402C17.2646 13.8418 16.6084 14.791 15.7764 15.5879C14.9502 16.3906 13.9893 17.0059 12.8936 17.4336C11.7979 17.8672 10.6172 18.084 9.35156 18.084C8.00977 18.084 6.77637 17.8525 5.65137 17.3896C4.52637 16.9326 3.54785 16.291 2.71582 15.4648C1.88965 14.6328 1.24805 13.6543 0.791016 12.5293C0.333984 11.4043 0.105469 10.1709 0.105469 8.8291C0.105469 7.59277 0.342773 6.41211 0.817383 5.28711C1.29199 4.15625 1.94824 3.16309 2.78613 2.30762C3.62988 1.44629 4.59961 0.792969 5.69531 0.347656C5.83594 0.289062 5.95312 0.250977 6.04688 0.233398C6.14648 0.209961 6.22266 0.198242 6.27539 0.198242C6.50391 0.198242 6.68848 0.277344 6.8291 0.435547C6.96973 0.59375 7.04004 0.766602 7.04004 0.954102C7.04004 1.05957 7.02539 1.16211 6.99609 1.26172C6.97266 1.35547 6.92285 1.47266 6.84668 1.61328C6.68262 1.92969 6.55078 2.35742 6.45117 2.89648C6.35742 3.43555 6.31055 4.02734 6.31055 4.67188C6.31055 6.17773 6.61816 7.47852 7.2334 8.57422C7.84863 9.66406 8.72168 10.5049 9.85254 11.0967C10.9834 11.6885 12.3252 11.9844 13.8779 11.9844ZM1.80176 8.77637C1.80176 9.88379 1.98926 10.9004 2.36426 11.8262C2.73926 12.752 3.2666 13.5576 3.94629 14.2432C4.63184 14.9229 5.4375 15.4502 6.36328 15.8252C7.28906 16.2061 8.2998 16.3965 9.39551 16.3965C10.251 16.3965 11.0713 16.2705 11.8564 16.0186C12.6475 15.7666 13.3623 15.4033 14.001 14.9287C14.6455 14.4541 15.1816 13.8887 15.6094 13.2324C15.3047 13.3438 14.9854 13.4229 14.6514 13.4697C14.3232 13.5166 13.9688 13.54 13.5879 13.54C11.7422 13.54 10.1572 13.1943 8.83301 12.5029C7.51465 11.8057 6.50098 10.8096 5.79199 9.51465C5.08887 8.21973 4.7373 6.66992 4.7373 4.86523C4.7373 4.43164 4.7666 4.01855 4.8252 3.62598C4.88965 3.22754 4.98047 2.84961 5.09766 2.49219C4.41797 2.94922 3.83203 3.50879 3.33984 4.1709C2.84766 4.83301 2.4668 5.55957 2.19727 6.35059C1.93359 7.1416 1.80176 7.9502 1.80176 8.77637Z"})}),pt=(0,ee().wt)("themeLight",{viewBox:"0 0 20 21",svg:(0,K.jsx)("path",{d:"M10 14.874C9.34961 14.874 8.74023 14.751 8.17188 14.5049C7.60352 14.2588 7.09961 13.9189 6.66016 13.4854C6.22656 13.0518 5.88672 12.5508 5.64062 11.9824C5.40039 11.4082 5.28027 10.7988 5.28027 10.1543C5.28027 9.50391 5.40039 8.89453 5.64062 8.32617C5.88672 7.75195 6.22656 7.24805 6.66016 6.81445C7.09961 6.38086 7.60352 6.04102 8.17188 5.79492C8.74023 5.54883 9.34961 5.42578 10 5.42578C10.6445 5.42578 11.251 5.54883 11.8193 5.79492C12.3877 6.04102 12.8887 6.38086 13.3223 6.81445C13.7617 7.24805 14.1016 7.75195 14.3418 8.32617C14.5879 8.89453 14.7109 9.50391 14.7109 10.1543C14.7109 10.7988 14.5879 11.4082 14.3418 11.9824C14.1016 12.5508 13.7617 13.0518 13.3223 13.4854C12.8887 13.9189 12.3877 14.2588 11.8193 14.5049C11.251 14.751 10.6445 14.874 10 14.874ZM10 13.0283C10.5215 13.0283 10.999 12.8994 11.4326 12.6416C11.8662 12.3779 12.2119 12.0293 12.4697 11.5957C12.7334 11.1562 12.8652 10.6758 12.8652 10.1543C12.8652 9.63281 12.7334 9.15527 12.4697 8.72168C12.2119 8.28223 11.8662 7.93066 11.4326 7.66699C10.999 7.40332 10.5215 7.27148 10 7.27148C9.47266 7.27148 8.99219 7.40332 8.55859 7.66699C8.125 7.93066 7.77637 8.28223 7.5127 8.72168C7.25488 9.15527 7.12598 9.63281 7.12598 10.1543C7.12598 10.6758 7.25488 11.1562 7.5127 11.5957C7.77637 12.0293 8.125 12.3779 8.55859 12.6416C8.99219 12.8994 9.47266 13.0283 10 13.0283ZM10 3.87891C9.73633 3.87891 9.50781 3.78516 9.31445 3.59766C9.12695 3.4043 9.0332 3.17578 9.0332 2.91211V1.13672C9.0332 0.873047 9.12695 0.644531 9.31445 0.451172C9.50781 0.257812 9.73633 0.161133 10 0.161133C10.2637 0.161133 10.4893 0.257812 10.6768 0.451172C10.8701 0.644531 10.9668 0.873047 10.9668 1.13672V2.91211C10.9668 3.17578 10.8701 3.4043 10.6768 3.59766C10.4893 3.78516 10.2637 3.87891 10 3.87891ZM14.4297 5.74219C14.248 5.55469 14.1543 5.32617 14.1484 5.05664C14.1484 4.78711 14.2393 4.56152 14.4209 4.37988L15.6953 3.10547C15.877 2.92383 16.1025 2.83301 16.3721 2.83301C16.6416 2.82715 16.8672 2.91504 17.0488 3.09668C17.2363 3.28418 17.3301 3.51563 17.3301 3.79102C17.3359 4.06055 17.2451 4.28613 17.0576 4.46777L15.8008 5.7334C15.6133 5.9209 15.3848 6.01465 15.1152 6.01465C14.8457 6.01465 14.6172 5.92383 14.4297 5.74219ZM16.2666 10.1543C16.2666 9.89062 16.3604 9.66504 16.5479 9.47754C16.7412 9.28418 16.9697 9.1875 17.2334 9.1875H19.0176C19.2754 9.1875 19.498 9.28418 19.6855 9.47754C19.8789 9.66504 19.9756 9.89062 19.9756 10.1543C19.9756 10.4121 19.8789 10.6377 19.6855 10.8311C19.498 11.0186 19.2754 11.1123 19.0176 11.1123H17.2334C16.9697 11.1123 16.7412 11.0186 16.5479 10.8311C16.3604 10.6377 16.2666 10.4121 16.2666 10.1543ZM14.4209 14.584C14.6084 14.4023 14.8369 14.3115 15.1064 14.3115C15.376 14.3057 15.6016 14.3936 15.7832 14.5752L17.0576 15.8408C17.2451 16.0283 17.3389 16.2539 17.3389 16.5176C17.3389 16.7871 17.248 17.0156 17.0664 17.2031C16.8789 17.3789 16.6504 17.4697 16.3809 17.4756C16.1113 17.4814 15.8857 17.3936 15.7041 17.2119L14.4297 15.9375C14.248 15.7559 14.1543 15.5332 14.1484 15.2695C14.1484 15 14.2393 14.7715 14.4209 14.584ZM10 16.4297C10.2637 16.4297 10.4893 16.5234 10.6768 16.7109C10.8701 16.9043 10.9668 17.1299 10.9668 17.3877V19.1719C10.9668 19.4355 10.8701 19.6611 10.6768 19.8486C10.4893 20.042 10.2637 20.1387 10 20.1387C9.73633 20.1387 9.50781 20.042 9.31445 19.8486C9.12695 19.6611 9.0332 19.4355 9.0332 19.1719V17.3877C9.0332 17.1299 9.12695 16.9043 9.31445 16.7109C9.50781 16.5234 9.73633 16.4297 10 16.4297ZM5.5791 14.584C5.75488 14.7715 5.83984 15 5.83398 15.2695C5.83398 15.5332 5.74316 15.7559 5.56152 15.9375L4.2959 17.2119C4.1084 17.3877 3.87988 17.4727 3.61035 17.4668C3.34082 17.4668 3.1123 17.376 2.9248 17.1943C2.74316 17.0068 2.65234 16.7783 2.65234 16.5088C2.6582 16.2451 2.75488 16.0195 2.94238 15.832L4.20801 14.5752C4.38965 14.3936 4.61523 14.3057 4.88477 14.3115C5.16016 14.3115 5.3916 14.4023 5.5791 14.584ZM3.7334 10.1543C3.7334 10.4121 3.63672 10.6377 3.44336 10.8311C3.25586 11.0186 3.02734 11.1123 2.75781 11.1123H0.982422C0.724609 11.1123 0.499023 11.0186 0.305664 10.8311C0.118164 10.6377 0.0244141 10.4121 0.0244141 10.1543C0.0244141 9.89062 0.118164 9.66504 0.305664 9.47754C0.499023 9.28418 0.724609 9.1875 0.982422 9.1875H2.75781C3.02734 9.1875 3.25586 9.28418 3.44336 9.47754C3.63672 9.66504 3.7334 9.89062 3.7334 10.1543ZM5.56152 5.74219C5.37402 5.92383 5.14551 6.01465 4.87598 6.01465C4.60645 6.00879 4.38086 5.91504 4.19922 5.7334L2.93359 4.45898C2.75781 4.2832 2.66992 4.06055 2.66992 3.79102C2.66992 3.51563 2.76367 3.28418 2.95117 3.09668C3.13281 2.91504 3.3584 2.82715 3.62793 2.83301C3.89746 2.83301 4.12598 2.92383 4.31348 3.10547L5.5791 4.37988C5.75488 4.56152 5.83984 4.79004 5.83398 5.06543C5.83398 5.33496 5.74316 5.56055 5.56152 5.74219Z"})}),ht=(0,ee().wt)("themeSystem",{viewBox:"0 0 26 16",svg:(0,K.jsx)("path",{d:"M0.0537109 14.3945C0.0537109 14.084 0.162109 13.8203 0.378906 13.6035C0.595703 13.3809 0.859375 13.2695 1.16992 13.2695H3.0332V2.90723C3.0332 2.22754 3.2207 1.70898 3.5957 1.35156C3.9707 0.994141 4.48633 0.81543 5.14258 0.81543H20.8486C21.5342 0.81543 22.0557 0.994141 22.4131 1.35156C22.7764 1.70898 22.958 2.22754 22.958 2.90723V13.2695H24.8213C25.1318 13.2695 25.3955 13.3809 25.6123 13.6035C25.8291 13.8203 25.9375 14.084 25.9375 14.3945C25.9375 14.6992 25.8291 14.9629 25.6123 15.1855C25.3955 15.4082 25.1318 15.5195 24.8213 15.5195H1.16992C0.859375 15.5195 0.595703 15.4082 0.378906 15.1855C0.162109 14.9629 0.0537109 14.6992 0.0537109 14.3945ZM4.75586 13.2695H21.2354V3.36426C21.2354 3.08301 21.165 2.875 21.0244 2.74023C20.8896 2.60547 20.6875 2.53809 20.418 2.53809H5.57324C5.30371 2.53809 5.09863 2.60547 4.95801 2.74023C4.82324 2.875 4.75586 3.08301 4.75586 3.36426V13.2695Z"})});const mt={available:["system","light","dark"],appearance:{system:{label:(0,K.jsx)(u().sA,{id:"themeSetting.system.label",defaultMessage:"System"}),icon:{function:ht,size:24}},light:{label:(0,K.jsx)(u().sA,{id:"themeSetting.light.label",defaultMessage:"Light"}),icon:{function:pt,size:22}},dark:{label:(0,K.jsx)(u().sA,{id:"themeSetting.dark.label",defaultMessage:"Dark"}),icon:{function:ut,size:20}}}},xt=n.forwardRef(((e,t)=>{const{disabled:o}=e,s=(0,a().K8)((()=>_().A.state.theme??"system"),[]),r=(0,l().IS)((e=>({container:{padding:0,marginBottom:24},innerContainer:{marginLeft:0,marginRight:0,display:"flex",flexDirection:"column",gap:1},title:{lineHeight:1.2,marginTop:0,marginBottom:8,paddingLeft:8,color:e.text.secondary,fontWeight:p().Wy.medium,fontSize:12},cardContainer:{marginTop:0}})),[]),d=(0,n.useCallback)((e=>{T().V_(e)}),[]);return(0,K.jsx)(st().Ay,{...e,ref:t,title:(0,K.jsx)(u().sA,{id:"themeSetting.title",defaultMessage:"Theme"}),titleStyle:r.title,style:r.container,textWrapperStyle:r.innerContainer,body:(0,K.jsx)(i(115552).A,{disabled:Boolean(o),options:mt,selectedOption:s,onOptionSelected:d,height:"short"}),bodyStyle:r.cardContainer})}));function ft(e){const{store:t,siteRootBlockStore:i,disabled:o}=e,n=(0,We().X)("enable_public_qna"),s=(0,a().K8)((()=>Boolean(_().A.state.enableQna)),[]),r=(0,l().IS)((()=>({container:{paddingTop:0,paddingBottom:0,gap:0}})),[]),d=(0,Y().oE)([{key:"previewImageSetting",render:e=>(0,K.jsx)(at,{...e,disabled:o,blockStore:t,siteRootBlockStore:i}),action:()=>{}},{key:"themeSetting",render:e=>(0,K.jsx)(xt,{disabled:o,...e}),action:()=>{}},{key:"faviconSetting",render:e=>(0,K.jsx)(et,{...e,blockStore:t,siteRootBlockStore:i}),action:()=>{}},{key:"headerSetting",render:e=>(0,K.jsx)(nt,{...e}),action:()=>{T().aD("header")}},{key:"googleAnalyticsSetting",render:e=>(0,K.jsx)(it,{...e}),action:()=>{T().aD("google_analytics")}},n&&{key:"qnaSetting",render:e=>(0,K.jsx)(gt,{...e,disabled:o,enableQna:s,onClick:()=>(0,T().P8)(!s)}),action:()=>{(0,T().P8)(!s)}}]),c=(0,Y().oE)([{key:0,render:e=>(0,K.jsx)(ne().A,{style:r.container,...e}),items:d}]);return(0,K.jsx)(oe().Ay,{type:oe().Oh.Vertical,sections:c,initialFocus:void 0,resetFocusOnMouseOut:!0,resetInitialFocusOnSectionChangeAlways:!0})}xt.displayName="ThemeSetting";const yt=312,St=(0,u().YK)({goBack:{id:"siteSettingsEditor.setting.back",defaultMessage:"Go back"},initialSettingsTitle:{id:"siteSettingsEditor.sidebar.title",defaultMessage:"Settings"},initialSettingsSubTitle:{id:"siteSettingsEditor.sidebar.subtitle",defaultMessage:"Unlock full customization"},headerSettingsTitle:{id:"siteSettingsEditor.header.title",defaultMessage:"Header"},googleSettingsTitle:{id:"siteSettingsEditor.googleAnalytics.title",defaultMessage:"Google Analytics"}});function Ct(e){const{store:t,siteRootBlockStore:i}=e,{spaceId:o,userId:n}=(0,a().K8)((()=>({spaceId:t.getSpaceId(),userId:t.userId})),[t]),s=(0,R()._X)({name:"custom_public_sites_layout",spaceId:o,userId:n}),r=null==s?void 0:s.upsell,d=(0,a().K8)((()=>!i.canAdmin()||Boolean(r)),[i,r]),c=(0,a().K8)((()=>_().A.getState().settingOpen),[]),g=(0,l().IS)((()=>({container:{minWidth:yt,width:yt},sidebarContainer:{flex:1,paddingLeft:16,paddingRight:16}})),[]);let u;return u="header"===c?(0,K.jsx)(bt,{upsell:r,title:St.headerSettingsTitle,subtitle:St.initialSettingsSubTitle,content:(0,K.jsx)(Te,{siteRootBlockStore:i,disabled:d}),showGoBack:!0}):"google_analytics"===c?(0,K.jsx)(bt,{upsell:r,title:St.googleSettingsTitle,subtitle:St.initialSettingsSubTitle,content:(0,K.jsx)(J,{disabled:d}),showGoBack:!0}):(0,K.jsx)(bt,{upsell:r,title:St.initialSettingsTitle,subtitle:St.initialSettingsSubTitle,content:(0,K.jsx)(ft,{store:t,siteRootBlockStore:i,disabled:d}),showGoBack:!1}),(0,K.jsx)(S().wt,{style:g.container,children:(0,K.jsx)(S().wt,{gap:8,style:g.sidebarContainer,children:u})})}function bt(e){const{title:t,subtitle:i,content:o,showGoBack:n,upsell:s}=e,r=(0,u().tz)(),a=(0,l().IS)((e=>({sidebarContainer:{flex:1},titleContainer:{fontWeight:p().Wy.semibold,fontSize:17,lineHeight:1.3,marginTop:16,marginBottom:28,marginLeft:n?4:8,marginRight:n?0:8,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",gap:4},subtitleContainer:{display:"flex",paddingRight:16,alignItems:"center",gap:6,flex:1,paddingLeft:n?4:0},subtitleText:{color:e.text.secondary,fontSize:12,fontWeight:400,lineHeight:"16px"},icon:{fill:e.icon.tertiary,transform:"rotate(90deg)"}})),[n]);return(0,K.jsxs)(S().wt,{style:a.sidebarContainer,children:[(0,K.jsxs)(S().Ye,{gap:8,style:a.titleContainer,children:[(0,K.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:8},children:[n&&(0,K.jsx)(F().A,{icon:V().u,style:{width:20,height:20},iconStyle:a.icon,ariaLabel:r.formatMessage(St.goBack),onClick:T().wl}),(0,K.jsx)(u().sA,{...t})]}),s&&"product"===s.type&&(0,K.jsxs)("div",{style:a.subtitleContainer,children:[(0,K.jsx)("div",{style:a.subtitleText,children:(0,K.jsx)(u().sA,{...i})}),(0,K.jsx)(Z().K,{upsell:s,source:"customize_site_settings",display:"icon",children:(0,K.jsx)(O().B,{upsell:s,analyticsName:"customize_site_settings"})})]})]}),o]})}const jt=220;function vt(){const e=(0,r().v3)(),t=(0,l().IS)((e=>({container:{width:"100%",background:e.sitesBuilderBackground},bodyContainer:{paddingLeft:24,height:"100%"}})),[]),i=(0,a().K8)((()=>{const t=_().A.state.theme??"system";return"system"===t?(0,s().VD)(e):t}),[e]),o=(0,a().K8)((()=>A().g.getState()),[A().g]);if(!o.isOpen||"site-settings-editor"!==o.mode)return null;const{pageStore:n,siteRootBlockStore:d}=o;return n?(0,K.jsxs)(S().wt,{style:t.container,children:[(0,K.jsx)(At,{store:n,siteRootBlockStore:d}),(0,K.jsxs)(S().Ye,{style:t.bodyContainer,children:[(0,K.jsx)(s().wX,{mode:i,children:(0,K.jsx)(kt,{store:n,siteRootBlockStore:d})}),(0,K.jsx)(Ct,{store:n,siteRootBlockStore:d})]})]}):null}function At(e){const{store:t,siteRootBlockStore:i}=e,[s,f]=(0,n.useState)(!1),C=(0,r().v3)(),{isElectron:j,isElectronMac:A}=C.device,w=(0,a().O$)(I().b),B=j&&!w,L=(0,a().K8)((()=>(0,g().ek)(A)),[A]),{spaceId:E,userId:P}=(0,a().K8)((()=>({spaceId:t.getSpaceId(),userId:t.userId})),[t]),W=(0,R().P9)({name:"custom_public_sites_layout",spaceId:E,userId:P}),z=(0,a().K8)((()=>{var e;if(W)return!1;const t=_().A.getState();return(null===(e=t.permissionItem)||void 0===e?void 0:e.allow_duplicate)===t.enableDuplicateAsTemplate}),[W]),H=(0,l().IS)((e=>({container:{padding:"12px 24px 12px 24px"},topbarPlaceholder:{minHeight:L,background:e.onboardingPreviewBackground,borderBottom:`1px solid ${e.stroke.secondary}`},title:{fontSize:14,fontWeight:p().Wy.semibold},helpIcon:{width:14,height:14,color:e.icon.tertiary}})),[L]),D=(0,n.useCallback)((()=>{T().wl(),v().Fv({environment:C}),(0,M().Sc)(C)}),[C]),U=(0,n.useCallback)((async()=>{f(!0),await T().uH({environment:C,store:t,siteRootBlockStore:i}),f(!1),D()}),[C,t,i,D]);return(0,K.jsxs)(K.Fragment,{children:[B&&(0,K.jsx)("div",{style:H.topbarPlaceholder,className:o()({[b().N_7]:!0,[b().sbV]:!0})}),(0,K.jsxs)(S().Ye,{style:H.container,alignItems:"center",justifyContent:"space-between",children:[(0,K.jsx)(h().p,{onClick:D,iconLeading:d().u,size:"lg",children:(0,K.jsx)(u().sA,{id:"siteSettingsEditor.topbar.cancel",defaultMessage:"Cancel"})}),(0,K.jsxs)(S().Ye,{justifyContent:"center",alignItems:"center",gap:4,children:[(0,K.jsx)(x().A,{shouldWrap:!1,maxLines:1,store:i,style:H.title}),(0,K.jsx)(y().A,{renderTooltip:()=>(0,K.jsx)(u().sA,{id:"siteSettingsEditor.topbar.caption",defaultMessage:"Changes will apply to all pages within this site"}),render:e=>(0,K.jsx)("div",{...e,children:(0,c().$)(H.helpIcon)})})]}),(0,K.jsx)(y().A,{disableTooltip:!z,renderTooltip:()=>(0,K.jsx)(u().sA,{defaultMessage:"Upgrade to unlock full customization",id:"siteSettingsEditor.topbar.publishTooltip"}),render:e=>(0,K.jsx)(m().A,{...e,onClick:U,size:"lg",disabled:z,isLoading:s,children:(0,K.jsx)(u().sA,{id:"siteSettingsEditor.topbar.publish",defaultMessage:"Publish changes"})}),placement:k().W.Bottom,alignment:k().C.Center})]})]})}function kt(e){const{store:t,siteRootBlockStore:i}=e,[o,s]=(0,n.useState)(!1),r=(0,n.useCallback)((()=>{s(!0)}),[]),d=(0,n.useCallback)((()=>{s(!1)}),[]),c=(0,a().K8)((()=>i.getSpaceStore()),[i]),{isHeaderSettingOpen:g,showBreadcrumbs:u,headerItemKeys:p}=(0,a().K8)((()=>{const e=_().A.getState(),t="on"!==B().default.getEligibleGroup({experimentId:"public_site_topbar_share_button",defaultGroup:"control"})||"on"!==B().default.getEligibleGroup({experimentId:"public_site_topbar_mobile_share_button",defaultGroup:"control"});return{isHeaderSettingOpen:"header"===e.settingOpen,showBreadcrumbs:!e.hideBreadcrumbs,headerItemKeys:e.permissionItem?E().ue(e.permissionItem,!1!==e.enableDuplicateAsTemplate,e.hideSearch,e.hideShare||t,e.hideWatermark,e.customHeaderBlockIds):[]}}),[]),h=o||g,m="light"===(0,l().DP)().mode?b().fRh:b().Rsl,x=(0,l().IS)((e=>({container:{height:"100%",background:e.contentBackground,color:e.text.primary,flexGrow:3,borderRadius:"12px 12px 0 0",boxShadow:e.shadowSM,cursor:"default",borderBottom:0,overflow:"hidden"},topBarContainer:{marginTop:2,marginBottom:10,marginLeft:12,marginRight:12,paddingTop:12,paddingBottom:12,paddingLeft:8,paddingRight:8,boxShadow:It({isThick:h,colorInHex:g?e.blueColor:e.stroke.uiBlueSecondary}),transition:"box-shadow 0.3s",borderRadius:12,cursor:"pointer"}})),[h,g]);return(0,K.jsxs)("div",{style:x.container,className:m,children:[(0,K.jsx)(P().A,{store:t,siteRootBlockStore:i,location:"site_builder_preview",showAddressBar:!0}),(0,K.jsx)("div",{style:x.topBarContainer,onMouseEnter:r,onMouseLeave:d,onClick:()=>T().aD("header"),children:(0,K.jsx)(W().A,{spaceStore:c,keys:p,size:"large",showCustomHeaderPages:!0,left:u&&(0,K.jsx)(U,{store:t,siteRootBlockStore:i}),style:{minHeight:31}})}),(0,K.jsx)(wt,{store:t})]})}function wt(e){const{store:t}=e,i=(0,l().IS)((()=>({pagePreview:{cursor:"default"},overlay:{position:"absolute",width:"100% ",height:"100%",top:204,right:280,cursor:"default",zIndex:999}})),[]),o=(0,n.useCallback)((e=>{j().A.PageScroller=e}),[]);return(0,K.jsxs)(K.Fragment,{children:[(0,K.jsx)(f().H,{ref:o,type:w().A.Y,style:{flex:1,height:"100%",overflowY:"auto"},children:(0,K.jsx)(C().Ay,{context:L().Rr.SitePreview,style:i.pagePreview,store:t,paddingBottom:0,disabled:!0})}),(0,K.jsx)("div",{style:i.overlay,onClick:()=>T().wl()})]})}function It(e){let{isThick:t,colorInHex:i}=e;return t?`0px 0px 0px 1.5px ${i}, inset 0px 0px 0px 1.5px ${i}`:`0px 0px 0px 0px ${i}, inset 0px 0px 0px 1px ${i}`}},585293:(e,t,i)=>{i.d(t,{a:()=>s});var o=i(296540),n=i(474848);const s=o.forwardRef(((e,t)=>{const o=(0,i(401497).IS)((t=>({buttonStyle:{paddingLeft:8,paddingRight:8,paddingTop:2,paddingBottom:2,width:"100%",marginLeft:0,background:"transparent",...e.buttonStyle},menuItemStyle:{gap:6,background:"transparent",...e.style},innerContainer:{marginLeft:0,paddingLeft:0,minWidth:"auto",color:e.disabled?t.text.secondary:void 0,background:"transparent"},desktopIconStyle:{margin:0},rightStyle:{display:"flex",alignItems:"center",gap:6,color:t.text.secondary,margin:0,...e.rightStyle}})),[e.disabled,e.rightStyle,e.buttonStyle,e.style]);return(0,n.jsx)(i(760217).A,{role:"button",...e,ref:t,style:o.menuItemStyle,buttonStyle:o.buttonStyle,textWrapperStyle:o.innerContainer,desktopIconStyle:o.desktopIconStyle,rightStyle:o.rightStyle})}));s.displayName="SiteSettingButtonMenuItem"},613735:(e,t,i)=>{i.d(t,{b:()=>r});i(517642),i(658004),i(733853),i(845876),i(432475),i(515024),i(731698);var o=()=>i(278238),n=()=>i(945778),s=()=>i(267419);function r(e){let{icon:t,theme:i}=e;if(t)return(0,n().A)(t)?s().A.state.emojiByColorProcessed[t]:(0,o().T8)(t)?function(e){var t;let{uri:i,theme:n}=e;const s=null===(t=i.match(/\/icons\/[\w\-]*_(.+)\.svg/))||void 0===t?void 0:t[1];if(!function(e){if(!e)return!1;return a.has(e)}(s))return;return o().l8[n.mode][s]}({uri:t,theme:i}):void 0}const a=new Set((0,i(534177).uv)(o().l8.light))},680984:(e,t,i)=>{i.d(t,{A:()=>x});i(296540);var o=()=>i(484714),n=()=>i(56366),s=()=>i(401497),r=i(474848);const a=(0,i(340498).wt)("windowsControls",{viewBox:"0 0 51 9",svg:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("rect",{width:"6",height:".75",x:"1.5",y:"4.625",rx:".375"}),(0,r.jsx)("path",{d:"M22.875 1.25c-.621 0-1.125.504-1.125 1.125v5.25c0 .621.504 1.125 1.125 1.125h5.25c.621 0 1.125-.504 1.125-1.125v-5.25c0-.621-.504-1.125-1.125-1.125h-5.25Zm0 .75h5.25c.207 0 .375.168.375.375v5.25a.375.375 0 0 1-.375.375h-5.25a.375.375 0 0 1-.375-.375v-5.25c0-.207.168-.375.375-.375ZM43.566 2.162l.044-.052a.375.375 0 0 1 .478-.043l.052.043 2.36 2.36 2.36-2.36a.375.375 0 0 1 .53.53L47.03 5l2.36 2.36c.13.13.145.332.044.478l-.044.052a.375.375 0 0 1-.478.044l-.052-.044-2.36-2.36-2.36 2.36a.375.375 0 1 1-.53-.53L45.97 5l-2.36-2.36a.375.375 0 0 1-.044-.478l.044-.052-.044.052Z"})]})});var l=()=>i(187820),d=()=>i(21140),c=()=>i(562800),g=()=>i(300451),u=()=>i(885400);const p={small:4,regular:8},h={small:{height:22,paddingLeft:8,paddingRight:10},regular:{height:42,paddingTop:10,paddingLeft:20,paddingRight:20,paddingBottom:8}},m={small:{height:28,paddingLeft:8,paddingRight:12},regular:{paddingTop:12,paddingLeft:16,paddingRight:16,paddingBottom:2}};function x(e){const{isMac:t}=(0,o().Y0)();return t?(0,r.jsx)(f,{...e}):(0,r.jsx)(S,{...e})}function f(e){const{store:t,siteRootBlockStore:i,size:o,location:n,showAddressBar:a}=e,l=p[o??"regular"],c=(0,s().IS)((e=>({container:{borderTopRightRadius:6,borderTopLeftRadius:6,backgroundColor:"publish_preview"===n?e.palette.gray[75]:"transparent",...h[o??"regular"]},contentContainer:{flex:1}})),[n,o]),g=a&&t&&i;return(0,r.jsxs)(d().Ye,{alignItems:"center",gap:l,style:c.container,children:[(0,r.jsx)(y,{size:o}),g&&(0,r.jsx)(d().Ye,{justifyContent:"center",alignItems:"center",style:c.contentContainer,children:(0,r.jsx)(b,{store:t,siteRootBlockStore:i})})]})}function y(e){const{size:t}=e,i=(0,s().IS)((e=>{const i="small"===t?6:10;return{circle:{borderRadius:"50%",height:i,width:i,background:e.icon.quaternary}}}),[t]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{style:i.circle}),(0,r.jsx)("div",{style:i.circle}),(0,r.jsx)("div",{style:i.circle})]})}function S(e){const{store:t,siteRootBlockStore:i,size:o,location:n,showAddressBar:a}=e,l=p[o??"regular"],c=(0,s().IS)((e=>({container:{width:"100%",borderTopRightRadius:6,borderTopLeftRadius:6,backgroundColor:"publish_preview"===n?e.sitesPagePreviewWindowsChromeBar:"transparent",...m[o??"regular"]},windowsButtons:{paddingRight:2}})),[n,o]),g=a&&t&&i;return(0,r.jsxs)(d().Ye,{alignItems:"center",justifyContent:g?"center":"flex-end",gap:l,style:c.container,children:[g&&(0,r.jsx)(b,{store:t,siteRootBlockStore:i}),(0,r.jsx)(C,{size:o,style:c.windowsButtons})]})}function C(e){const{size:t,style:i}=e,o=(0,s().IS)((e=>({icon:{height:"small"===t?9:24,width:"small"===t?51:70,color:e.icon.tertiary}})),[t]);return(0,r.jsx)("div",{style:i,children:a(o.icon)})}function b(e){const{store:t,siteRootBlockStore:i}=e,{isMac:a}=(0,o().Y0)(),{icon:p,isEmptyPage:h,publicDomainName:m}=(0,n().K8)((()=>{const e=g().A.getState().faviconUrl;let o;const n=i.getSiteStore(),s=c().Ix({spaceStore:t.getSpaceStore(),domainId:null==n?void 0:n.getDomainId()});return o=e?{pointer:i.pointer,icon:e}:t.getIcon(),{icon:o,isEmptyPage:t.isEmptyPage(),publicDomainName:s}}),[t,i]),x=(0,s().IS)((e=>({container:{paddingLeft:a?120:12,paddingRight:a?120:12,paddingTop:4,paddingBottom:4,background:e.contentBackground,borderRadius:a?16:20,border:`1px solid ${e.stroke.secondary}`,width:a?"auto":"100%",color:e.text.secondary,fontSize:12}})),[a]),f=p?(0,r.jsx)(l().B6,{disabled:!0,icon:p,isEmptyPage:h,disableShrinking:!0,size:16,emojiSize:16,style:{marginRight:4}}):(0,r.jsx)(u().A,{});return(0,r.jsxs)(d().Ye,{alignItems:"center",gap:4,style:x.container,children:[a&&f,m]})}},801494:(e,t,i)=>{i.d(t,{A:()=>l});var o=i(296540),n=()=>i(959013),s=()=>i(962730),r=i(474848);function a(e,t){const{value:o}=e,a=!1!==o,l=(0,i(56366).K8)((()=>{var e;return Boolean((null===(e=i(765957).default.state.currentSpaceStore)||void 0===e?void 0:e.getDisableMoveToSpace())&&!a)}),[a]);return(0,r.jsx)(i(859428).A,{renderTooltip:()=>l?(0,r.jsx)(n().sA,{id:"publishSiteSettings.duplicateAsTemplate.moveToSpaceDisabledTooltip",defaultMessage:"Move to space is disabled for this workspace"}):(0,r.jsx)(n().sA,{id:"publishSiteSettings.duplicateAsTemplate.tooltip",defaultMessage:"Allow others to duplicate your page"}),render:o=>(0,r.jsx)(i(585293).a,{...(0,i(553965).A)(e,o),ref:t,title:(0,r.jsx)(n().sA,{defaultMessage:"Duplicate as template",id:"publishSiteSettings.duplicateAsTemplate.settingTitle"}),icon:(0,r.jsx)(i(8980).I,{icon:i(764781).V,color:"secondary"}),right:(0,r.jsx)(i(946548).A,{...e,on:a,disabled:e.disabled||l})}),placement:s().W.Bottom,alignment:s().C.Center,textWrap:!0,style:{maxWidth:i(242565).SITE_SETTINGS_TOOLTIP_WIDTH}})}const l=o.forwardRef(a)},885400:(e,t,i)=>{i.d(t,{A:()=>r});var o=()=>i(401497),n=()=>i(426388),s=()=>i(192855);function r(e){const{style:t}=e,i=(0,o().DP)(),r=(0,o().IS)((e=>({notionLogo:{height:14,width:14,fill:e.icon.primary,...t}})),[t]);return"light"===i.mode?(0,n().S)(r.notionLogo):(0,s().L)(r.notionLogo)}}}]);