"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[81197],{140828:(e,t,n)=>{n.d(t,{A:()=>f});n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520),n(581454),n(296540);var o=()=>n(484714),r=()=>n(56366),i=()=>n(764880),s=()=>n(798880),a=()=>n(695608),c=()=>n(959013),l=()=>n(106628),d=()=>n(630116),u=()=>n(448693),p=()=>n(848401),m=()=>n(297401),h=()=>n(457688),g=n(474848);const f=function(e){let{mode:t,title:r,userIds:i,onChange:s,disabled:a,focused:d,onMenuDismiss:u,onMenuOpen:p,parentStore:m}=e;const h=(0,o().v3)(),f=(0,c().tz)();return(0,g.jsx)(n(821879).A,{mode:t,title:r,icon:n(91451).z,iconStyles:x(h).recordIcon,items:i,onChange:s,disabled:a,focused:d,renderFilter:(e,t)=>(0,g.jsx)(w,{item:e,args:t,parentStore:m}),renderToken:(e,t)=>(0,g.jsx)(S,{item:e,handlers:t,userIds:i,parentStore:m}),renderItemForSummary:e=>(0,g.jsx)(y,{item:e,parentStore:m}),addItemLabel:(0,g.jsx)(c().sA,{defaultMessage:"Add a person",id:"search.filterMenu.addAPersonButton.label"}),labelText:{title:r,tokenInputPlaceholder:f.formatMessage({defaultMessage:"Search people",id:"search.filterMenu.searchPeople.placeholder"}),componentDebugName:"SearchPersonFilter"},performRequest:e=>async function(e,t){let{query:n,current:o}=e;const r=new Set(o),i=await l().T.searchActions.load(),s=await i.searchSpaceUsers({environment:t,query:n,membersOnly:!1,limit:20+r.size,shouldUseEdgeCacheRollout:!0});return s.filter((e=>!r.has(e.id))).slice(0,20).map((e=>e.id))}(e,h),renderResultMenuItem:(e,t)=>(0,g.jsx)(v,{item:e,props:t,parentStore:m}),onMenuDismiss:u,onMenuOpen:p,hasItemsSelected:(null==i?void 0:i.length)>0})};function b(e,t){const n=function(e,t){return d().LU.createChildStore(t,{table:s().oo,id:e})}(e,t);return n.getValue()}function y(e){let{item:t,parentStore:n}=e;const o=(0,c().tz)(),i=(0,r().K8)((()=>b(t,n)),[t,n]);return(0,g.jsx)(g.Fragment,{children:(0,a().c6)(o,i)})}function S(e){let{item:t,handlers:n,userIds:s,parentStore:a}=e;const c=(0,o().v3)(),l=1===s.length,d=(0,r().K8)((()=>b(t,a)),[t,a]);return d?(0,g.jsx)(u().Ay,{format:c.device.isMobile?p().mI.Large:p().mI.Small,showRemoveButton:!0,isSingle:l,onClickRemove:n.onRemove,actor:(0,i().MR)(d),shouldShrink:!0,style:{background:"transparent"},hasPersonHoverCard:!1},t):null}function v(e){let{item:t,props:n,parentStore:o}=e;const s=(0,r().K8)((()=>b(t,o)),[t,o]);return(0,g.jsx)(h().A,{...n,actor:(0,i().MR)(s)})}function x(e){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},menuItemTitle:{width:"100%"},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginRight:12},recordIcon:{marginRight:2,fill:"currentColor"}}}function w(e){let{item:t,args:n,parentStore:s}=e;const{disabled:a,onRemove:c,onClick:l}=n,d=x((0,o().v3)()),u=(0,r().K8)((()=>b(t,s)),[t,s]),p=(0,g.jsx)(m().A,{disabled:a,onClick:c});return(0,g.jsx)(h().A,{disabled:a,focused:!1,actor:(0,i().MR)(u),right:p,style:d.menuItem,desktopTitleStyle:d.menuItemTitle,onClick:l},t)}},171347:(e,t,n)=>{n.d(t,{A:()=>a,g:()=>i});n(296540);var o=n(474848);const r={display:"inline-flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:16,height:16,fontSize:10,textAlign:"center",fontWeight:n(284371).Wy.semibold,borderRadius:4,color:n(381349).Ay.white,position:"static",marginLeft:6,WebkitFontSmoothing:"auto"};let i=function(e){return e[e.Red=0]="Red",e}({});function s(e){return!!e&&e>0}const a=function(e){let{count:t,color:a,style:l,numberStyle:d,fadeIn:u}=e;const p=a===i.Red,m=(0,n(401497).IS)((e=>({badge:{...r,...l,...(t??0)>99&&{width:void 0,padding:2},background:p?e.redBadgeBackground:e.icon.tertiary,...u&&{transition:"opacity 0.1s",opacity:s(t)?1:0}}})),[t,u,p,l]);return u||s(t)?(0,o.jsx)("div",{style:m.badge,children:(0,o.jsx)(c,{count:t,numberStyle:d})}):null};function c(e){let{count:t,numberStyle:n}=e;return t?1===t?(0,o.jsx)("span",{style:{marginLeft:-.5,...n},children:"1"}):t>99?(0,o.jsx)("span",{style:{letterSpacing:-.5,...n},children:"99+"}):t>9?(0,o.jsx)("span",{style:{letterSpacing:-.5,marginLeft:-.5,...n},children:t}):(0,o.jsx)("span",{style:{...n},children:t}):null}},213962:(e,t,n)=>{n.d(t,{s:()=>r});n(296540);var o=n(474848);const r=(0,n(340498).wt)("circleCross",{viewBox:"0 0 30 30",svg:(0,o.jsx)("path",{d:"M15 28.354c7.305 0 13.354-6.049 13.354-13.354 0-7.292-6.062-13.354-13.367-13.354C7.695 1.646 1.646 7.708 1.646 15c0 7.305 6.062 13.354 13.354 13.354zm0-2.226A11.075 11.075 0 013.885 15c0-6.166 4.922-11.128 11.102-11.128 6.18 0 11.128 4.962 11.141 11.128A11.078 11.078 0 0115 26.128zm-4.477-5.577a.99.99 0 00.746-.327l3.718-3.731 3.731 3.73c.197.197.445.328.747.328.576 0 1.047-.484 1.047-1.06a.979.979 0 00-.314-.747l-3.718-3.718 3.73-3.744c.223-.223.315-.445.315-.733 0-.59-.471-1.048-1.047-1.048-.275 0-.498.092-.72.315l-3.771 3.744-3.744-3.731c-.184-.21-.432-.301-.72-.301-.577 0-1.048.445-1.048 1.034a.97.97 0 00.314.733l3.719 3.731-3.719 3.732a.951.951 0 00-.314.733c0 .576.471 1.06 1.048 1.06z"})})},240562:(e,t,n)=>{n.d(t,{p:()=>i});var o=()=>n(645873);const r=new(o().O2)("HelpButtonContent",(async()=>await n.e(42481).then(n.bind(n,398591)))),i=(0,o()._h)(r,(e=>e.HelpButtonContent))},374693:(e,t,n)=>{n.d(t,{_:()=>o});const o=(0,n(340498).xh)("notion",{default:{loader:()=>n.e(60858).then(n.bind(n,558687))},darkMode:{loader:()=>n.e(60858).then(n.bind(n,633137))}})},394783:(e,t,n)=>{n.d(t,{A:()=>a});n(296540);var o=()=>n(284371),r=()=>n(722872),i=()=>n(406699),s=n(474848);const a=function(e){let{emailAddress:t,disabled:a,accountActions:c,prefix:l}=e;const d=(0,n(484714).v3)(),{device:u}=d,p=(0,n(56366).uB)(void 0,n(463830).A);let m;m=u.isMobile?{menuType:r().gu.ActionSheet}:{menuType:r().gu.Popup};const h=(0,n(401497).IS)((e=>({container:{height:u.isMobile?24:20,marginTop:l?1:u.isMobile?20:8,marginLeft:12,marginRight:12,display:"flex",alignItems:"center",justifyContent:"space-between",color:e.text.secondary,transition:"opacity 150ms ease"},text:{fontSize:(0,n(115512).ny)(d,"UISmall"),lineHeight:o().K_.UISmall.desktop,fontWeight:o().Wy.medium,marginRight:6},button:{display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:u.isMobile?24:20,height:u.isMobile?24:20,borderRadius:4},buttonIcon:{width:u.isMobile?18:12,height:u.isMobile?18:12},prefix:{textAlign:"right",height:u.isMobile?16:18,marginTop:u.isMobile?8:4,marginLeft:12,marginRight:18,color:e.text.secondary,transition:"opacity 150ms ease"}})),[u.isMobile,d,l]);return(0,s.jsxs)(s.Fragment,{children:[l&&(0,s.jsx)("div",{style:h.prefix,children:l}),(0,s.jsxs)("div",{style:h.container,children:[(0,s.jsx)(n(265665).j,{style:h.text,children:t}),(0,s.jsx)(i().Ay,{popupType:u.isMobile?i().z7.SlideUp:i().z7.Popup,buttonPopupStore:p,renderOrigin:e=>{if(!a)return(0,s.jsx)(n(704152).A,{...e,style:h.button,children:(0,n(30626)._)(h.buttonIcon)})},render:()=>(0,s.jsx)(n(928600).A,{...m,children:(0,s.jsx)(n(452558).A,{sections:[{key:"option section",render:e=>(0,s.jsx)(n(89924).A,{...e}),actions:c}],context:{environment:d,blocks:[],publicEditMode:void 0}})})})]})]})}},405425:(e,t,n)=>{n.d(t,{Q:()=>m});n(898992),n(354520),n(581454);var o=()=>n(484714),r=()=>n(56366),i=()=>n(179034),s=()=>n(534177),a=()=>n(744766),c=()=>n(540758),l=()=>n(670631),d=()=>n(765957),u=()=>n(630116),p=()=>n(46986);function m(e){const{searchQuery:t,filterCategory:n,availableOffline:m=!1}=e,h=(0,o().v3)(),g=(0,p().x6)(),f=(0,r().K8)((()=>{const e=l().A.state.offlinePages??{};return Object.keys(e).map((o=>{var r;const l=e[o];if(void 0===l)return;const{isExplicitlyOfflinedOrigin:p,isAutosyncedOrigin:f}=l;if(!p&&!f)return;if(m&&!(0,c().Bd)(o))return;if(!function(e){const{filterCategory:t,isExplicitlyOfflinedOrigin:n,isAutosyncedOrigin:o}=e;switch(t){case"all":return!0;case"manual":return n;case"autosynced":return o;default:(0,s().HB)(t)}}({filterCategory:n,isExplicitlyOfflinedOrigin:p,isAutosyncedOrigin:f}))return;const b=new(u().Bv)(h,{table:i().ev,id:o});if(Boolean(t)&&!function(e){const{pageBlockStore:t,searchQuery:n,isWorkflowsContainerWithCreationEnabled:o}=e,{displayTitle:r}=(0,a().tL)({blockStore:t,isWorkflowsContainerWithCreationEnabled:o});if(void 0===r)return!1;return r.toLowerCase().includes(n.toLowerCase())}({pageBlockStore:b,searchQuery:t,isWorkflowsContainerWithCreationEnabled:g}))return;if((null===(r=d().default.state.currentSpaceStore)||void 0===r?void 0:r.id)!==b.getSpaceId())return;const y=b.getLastEditedTime();return{id:o,downloadStatus:l.downloadStatus,isClickable:!1,lastModifiedTime:y,pageBlockStore:b,showOptions:p&&!f}})).filter(s().O9)}),[m,n,h,t,g]);return f}},563253:(e,t,n)=>{n.d(t,{Vd:()=>k,np:()=>g,z_:()=>w});n(944114),n(517642),n(658004),n(733853),n(845876),n(432475),n(515024),n(731698),n(898992),n(354520);var o=n(296540),r=()=>n(588165),i=()=>n(484714),s=()=>n(56366),a=()=>n(401497),c=()=>n(959013),l=()=>n(496603),d=()=>n(724368),u=()=>n(623580),p=n(474848);const m=["control+t","control+shift+n","control+shift+t","control+w","control+shift+w","control+r","control+shift+r","control+shift+i","control+\\","control+=","control+-","control+0","control+[","control+]","control+shift+tab","control+tab","control+1","control+2","control+3","control+4","control+5","control+6","control+7","control+8","control+9"],h=["command+,","command+t","command+shift+n","command+shift+t","command+w","command+shift+w","command+r","command+shift+r","alt+command+i","command+\\","command+=","command+-","command+0","command+[","command+]","control+shift+tab","control+tab","command+option+left","command+option+right","command+shift+[","command+shift+]","command+1","command+2","command+3","command+4","command+5","command+6","command+7","command+8","command+9"];function g(e){function t(){return e.shortcut?w(e.shortcut,e.isMac):void 0}const{isMac:n,isWindows:g}=(0,i().Y0)(),A=(0,s().K8)((()=>d().getKeyboardShortcuts()),[]),[C,j]=(0,o.useState)(t()),[M,I]=(0,o.useState)(new Set([])),[L,R]=(0,o.useState)(),[B,O]=(0,o.useState)(!1),W=(0,o.useRef)(!1),T=(0,o.useRef)(!1),_=(0,o.useRef)(!1),z=(0,a().IS)((e=>({container:{display:"flex",flexDirection:"column",gap:10,alignItems:"flex-end"},takenShortcutError:{color:e.palette.red[500],fontSize:12}})),[]);function K(){if(C&&_.current)if(C.key)if(n?C.control||C.option||C.command:C.control||C.option)if(function(e,t,n){for(const i of Object.values((0,r().a)(e)))for(const e of i)if(l().n4(w(e,n),t))return!0;const o=n?h:m;for(const r of o)if(l().n4(w(r,n),t))return!0;return!1}(A,C,n)||function(e,t,n){for(const o of t)if(l().n4(w(o,n),e))return!0;return!1}(C,e.conflictingShortcuts||[],n)){j(t());const e=k(C,n);R((0,p.jsx)(c().sA,{id:"desktopQuickSearch.error.shortcutAlreadyUsed",defaultMessage:"{reservedShortcut} is already used",values:{reservedShortcut:e}}))}else{const t=function(e,t){const n=[];e.shift&&n.push("shift");e.control&&(t?n.push("control"):n.push("ctrl"));e.option&&(t?n.push("option"):n.push("alt"));e.command&&(t?n.push("command"):n.push("meta"));e.enter&&n.push("enter");e.key&&n.push(e.key.toLowerCase());return n.join("+")}(C,n);e.onChange(t)}else j(t()),R(n?(0,p.jsx)(c().sA,{id:"desktopQuickSearch.error.macModifierRequired",defaultMessage:"Use one of Option, Control, or Command for global keyboard shortcuts"}):(0,p.jsx)(c().sA,{id:"desktopQuickSearch.error.windowsModifierRequired",defaultMessage:"Use one of Control or Alt for global keyboard shortcuts"}));else j(void 0);else _.current||j(t());W.current=!0,O(!1),_.current=!1}function P(e){if(g&&e.startsWith("Meta"))return;const t=new Set([...M,e]),n=function(e){const t={};for(const o of e)o.startsWith(b)?t.command=!0:o.startsWith(S)?t.option=!0:o.startsWith(y)?t.shift=!0:o.startsWith(v)?t.control=!0:o.startsWith(x)?t.enter=!0:o.startsWith("Key")?t.key=o.substring(3).toLowerCase():o.startsWith("Digit")?t.key=o.substring(5):f[o]&&(t.key=f[o]);const n=0===Object.values(t).filter((e=>!l().b0(e))).length;return n?void 0:t}(t);I(t),j(n),R(void 0),_.current=!0}return(0,p.jsxs)("div",{style:z.container,children:[(0,p.jsx)(u().A,{onKeyDown:function(e){T.current=!0,"Escape"===e.key?e.currentTarget.blur():"Tab"!==e.key&&(e.preventDefault(),e.stopPropagation(),P(e.code))},onKeyUp:function(e){T.current&&function(e){const t=new Set([...M]);if(t.delete(e),e.startsWith("Meta"))for(const n of t)n.startsWith(y)||n.startsWith(S)||n.startsWith(v)||t.delete(n);I(t),0===t.size&&K()}(e.code)},onFocus:function(e){j(void 0),O(!0)},onBlur:function(e){W.current||K(),W.current=!1,T.current=!1,I(new Set),O(!1)},focus:B,readOnly:!0,inputStyle:{textAlign:"center",caretColor:"transparent"},value:C&&k(C,n)}),L?(0,p.jsx)("div",{style:z.takenShortcutError,children:L}):void 0]})}const f={ArrowDown:"down",ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",Backquote:"`",Backslash:"\\",Backspace:"backspace",BracketLeft:"[",BracketRight:"]",Comma:",",Delete:"delete",Enter:"return",Equal:"=",Minus:"-",Period:".",Quote:"'",Semicolon:";",Slash:"/",Space:"space"},b="Meta",y="Shift",S="Alt",v="Control",x="Return";function w(e,t){const n={};for(let o of e.split("+"))o=o.toLowerCase(),"command"===o||"meta"===o?n.command=!0:"option"===o||"alt"===o?n.option=!0:"shift"===o?n.shift=!0:"control"===o||"ctrl"===o?n.control=!0:"cmdorctrl"===o||"commandorcontrol"===o?t?n.command=!0:n.control=!0:"enter"===o||"return"===o?n.enter=!0:n.key=o;return n}function k(e,t){const n=[];if(e.shift&&(t?n.push("shift"):n.push("Shift")),e.control&&(t?n.push("control"):n.push("Ctrl")),e.option&&(t?n.push("option"):n.push("Alt")),e.command&&(t?n.push("⌘"):n.push("Win")),e.enter&&(t?n.push("enter"):n.push("Return")),e.key){const t=1===e.key.length?e.key.toUpperCase():e.key;n.push(t)}return n.join("+")}},665638:(e,t,n)=>{n.d(t,{$:()=>l,S:()=>d});var o=()=>n(56366),r=()=>n(401497),i=()=>n(186445),s=()=>n(644914),a=()=>n(661179),c=()=>n(965833);function l(e){const{environment:t,rightEdgeDistance:n,isInPeekRenderer:l}=e,u=e.width??36,p=(0,o().K8)((()=>(0,s().zo)(t,l)-(0,s().Ql)(t)),[t,l]),m=(0,o().K8)((()=>d(t,16+a().A.state)),[t]),h=(0,o().K8)((()=>n+a().A.state),[n]),g=(0,o().K8)((()=>i().$o.state?0:1),[]);return(0,r().IS)((e=>({buttonPositionStyle:{display:"flex",position:"absolute",bottom:m,right:h,opacity:g,transform:`translateX(-${p}px) translateZ(0)`,transition:`\n\t\t\t\t\topacity ${c().L}ms,\n\t\t\t\t\tcolor ${c().L}ms,\n\t\t\t\t\ttransform 200ms\n\t\t\t\t`,alignItems:"center",gap:10},roundButtonStyle:{display:"flex",alignItems:"center",justifyContent:"center",background:e.whiteButtonBackground,width:u,height:u,borderRadius:"100%",fontSize:20,boxShadow:e.shadowSM}})),[p,m,h,u,g])}function d(e,t){return e.WindowSizeStore.getSafePaddingBottomCSS(t+(e.device.isTablet?-12:0))}},709438:(e,t,n)=>{n.d(t,{m:()=>a});n(296540);var o=()=>n(401497),r=()=>n(959013),i=n(474848);const s=8;function a(e){let{color:t,size:n,style:a}=e;const c=(0,r().tz)(),l=(0,o().IS)((e=>({dot:{height:n||s,width:n||s,background:t||e.blueColor,flexShrink:0,borderRadius:"100%",pointerEvents:"none",...a}})),[n,t,a]);return(0,i.jsx)("div",{role:"img","aria-label":c.formatMessage({id:"statusDot.ariaLabel",defaultMessage:"New"}),style:l.dot})}},786667:(e,t,n)=>{n.d(t,{ti:()=>me,rY:()=>Se,rK:()=>ye});n(944114),n(898992),n(354520),n(672577),n(581454);var o=n(296540),r=()=>n(484714),i=()=>n(56366),s=()=>n(401497),a=()=>n(452540),c=()=>n(617668),l=()=>n(696706),d=()=>n(84520),u=()=>n(294712),p=()=>n(762433),m=()=>n(979340),h=()=>n(959013),g=()=>n(496603),f=()=>n(213962),b=n(474848);const y=(0,n(340498).wt)("squarePlus",{viewBox:"0 0 30 30",svg:(0,b.jsx)("path",{d:"M7.059 27.052H22.94c2.75 0 4.11-1.361 4.11-4.059V7.007c0-2.697-1.36-4.059-4.11-4.059H7.059c-2.736 0-4.111 1.349-4.111 4.059v15.986c0 2.71 1.375 4.06 4.11 4.06zm.026-2.108c-1.31 0-2.03-.694-2.03-2.055V7.112c0-1.362.72-2.056 2.03-2.056h15.83c1.296 0 2.029.694 2.029 2.056v15.777c0 1.361-.733 2.055-2.03 2.055H7.085zm7.895-3.758c.707 0 1.113-.484 1.113-1.243V16.08h4.111c.733 0 1.231-.392 1.231-1.086 0-.707-.471-1.113-1.23-1.113h-4.112V9.769c0-.759-.406-1.243-1.113-1.243-.694 0-1.073.51-1.073 1.243v4.112H9.822c-.773 0-1.257.405-1.257 1.112 0 .694.523 1.087 1.257 1.087h4.085v3.863c0 .733.38 1.243 1.073 1.243z"})});var S=()=>n(243020),v=()=>n(899963),x=()=>n(840153),w=()=>n(719431),k=()=>n(1130),A=()=>n(320460),C=()=>n(227440),j=()=>n(416726);const M=(0,h().YK)({joinOrCreateWorkspace:{id:"sidebarSwitcherMultiAccount.singleAccountMenu.joinOrCreateWorkspace.label",defaultMessage:"Join or create workspace"},logOut:{id:"sidebarSwitcherMultiAccount.singleAccountMenu.logOut.label",defaultMessage:"Log out"}});function I(e){return(0,j().Ls)({key:"join or create a workspace",displayName:M.joinOrCreateWorkspace,analyticsName:M.joinOrCreateWorkspace.defaultMessage,svg:y,validators:[],closeParentMenu:!0,action:t=>{let{environment:n}=t;A().A.reset(),n.currentUser.id!==e?x().T({environment:n,newCurrentUserId:e}).then((e=>{k().Ig(e,"space_switcher")})):k().Ig(n,"space_switcher")}})}function L(e){return(0,j().Ls)({key:"log out of a single account",displayName:M.logOut,analyticsName:M.logOut.defaultMessage,svg:f().s,validators:[],closeParentMenu:!0,action:t=>{let{environment:n}=t;const{online:o}=C().A.state;o&&(w().logoutSingleAccount({environment:n,userId:e,logoutOrigin:S().d.SpaceSwitcher}),v().Pz(n))}})}var R=()=>n(530216),B=()=>n(679924),O=()=>n(217429);var W=()=>n(901389),T=()=>n(426116),_=()=>n(72234),z=()=>n(751156),K=()=>n(704152),P=()=>n(439264),V=()=>n(919172),U=()=>n(939740),E=()=>n(89924),D=()=>n(125565),H=()=>n(394783),N=()=>n(47373),F=()=>n(972435),Q=()=>n(640653),$=()=>n(477293),q=()=>n(765957),G=()=>n(869360),Z=()=>n(968172),Y=()=>n(151059),J=()=>n(630116),X=()=>n(596513),ee=()=>n(807778),te=()=>n(10984),ne=()=>n(644914),oe=()=>n(179534),re=()=>n(214006),ie=()=>n(645873);const se=(0,ie().jQ)(new(ie().O2)("SidebarSwitcherExternalPagesButton",(async()=>await n.e(22903).then(n.bind(n,95052)))),(e=>e.SidebarSwitcherExternalPagesButton));n(908872);var ae=()=>n(187820),ce=()=>n(171347),le=()=>n(159588);const de=function(e){let{id:t,focused:i,title:a,memberCount:c,subscriptionTierLabel:l,disabled:d,isCheck:u,isRightArrow:p,icon:m,spaceName:g,unreadMentions:f,menuListItemProps:y,hideDragHandle:S,hasEnterpriseWorkspaceAccessRestriction:v}=e;const x=(0,r().v3)(),[w,k]=(0,o.useState)(!1),{device:A}=x,C=(0,o.useCallback)((()=>k(!0)),[]),j=(0,o.useCallback)((()=>k(!1)),[]),{isMenuListFocusVisible:M}=(0,o.useContext)(U().VU),I=(0,s().IS)((e=>({button:{display:"flex",flexDirection:"row",width:"100%",height:32,alignItems:"center",padding:"4px 8px",gap:8,transition:"background 150ms ease",...!d&&i&&M&&{boxShadow:e.buttonBlueFocusRing},borderRadius:6},iconContainer:{display:"grid",justifyContent:"center",alignItems:"center"},dragHandle:{width:20,gridColumn:1,gridRow:1,opacity:w?1:0,transition:`opacity ${le().bM}`},spaceIcon:{gridColumn:1,gridRow:1,opacity:w&&!S?0:1,transition:`opacity ${le().bM}`},checkIcon:{width:14,height:14,marginLeft:"auto"},chevronRightIcon:{width:12,height:12,marginLeft:"auto",marginRight:6},tooltip:{display:"flex",flexDirection:"column"},tooltipCaption:{color:e.text.contrastSecondary}})),[d,i,M,w,S]),L=(0,b.jsxs)("div",{style:I.tooltip,children:[l,(0,b.jsx)("div",{style:I.tooltipCaption,children:(0,b.jsx)(h().sA,{id:"sidebarSwitcherMenuItem.spaceSubscriptionTier.tooltipMessage",defaultMessage:"{memberCount, plural, one {{memberCount} member} other {{memberCount} members}}",values:{memberCount:c}})})]});return(0,b.jsx)(n(859428).A,{renderTooltip:()=>L,disableTooltip:!l||!c,placement:n(962730).W.Right,render:e=>(0,b.jsxs)(K().A,{...[y??{},e,{onMouseMove:C,onMouseLeave:j}].reduce(n(553965).A),hovered:i||w,disabled:d,style:I.button,children:[(0,b.jsxs)("div",{style:I.iconContainer,children:[!S&&(0,b.jsx)(n(57232).A,{iconSize:10,style:I.dragHandle}),(0,b.jsx)("div",{style:I.spaceIcon,children:(0,b.jsx)(ue,{id:t,icon:m,size:20,spaceName:g,unreadMentions:f})})]}),(0,b.jsx)(D().A,{className:"notranslate",isMobile:A.isMobile,children:a}),v&&(0,b.jsx)("div",{style:I.iconContainer,children:(0,n(642557).O)({width:20,height:20})}),u&&(0,n(413267).b)(I.checkIcon),p&&(0,n(742117).V)(I.chevronRightIcon)]})},`sidebarswitchermenuitem-tooltip-${t}`)};function ue(e){let{id:t,icon:n,size:o,spaceName:r,unreadMentions:i}=e;return(0,b.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,b.jsxs)("div",{style:{position:"relative"},children:[t&&(0,b.jsx)(ae().B6,{disabled:!0,icon:n,isEmptyPage:!1,title:r,size:o,isLarge:!0,iconRecordCategory:"workspace"}),i?(0,b.jsx)(pe,{}):(0,b.jsx)(ce().A,{color:ce().g.Red,count:i,style:{position:"absolute",top:-5,right:-5}})]})})}function pe(){const e=(0,s().IS)((e=>({unreadBadge:{backgroundColor:e.redBadgeBackground,position:"absolute",top:-3,right:-4,width:8,height:8,borderRadius:4,border:`1px solid ${e.surface.wash}`}})),[]);return(0,b.jsx)("div",{style:e.unreadBadge})}function me(e){const{userId:t,isLastUser:n,shouldShowNewWorkspaceButtonInUserSpaceView:o,onSpaceClick:c,close:l,disableAccountActions:d,disableDrag:u}=e,p=(0,r().v3)(),m=(0,r().Y0)(),f=(0,s().IS)((()=>({menuList:m.isMobile?{paddingTop:10}:{},bottomGap:{paddingBottom:8}})),[m.isMobile]),y=(0,$().r)("sharing_collaboration_sidebar_guest_aggregation"),[S,v]=(0,i().K8)((()=>{const e=re().A.getSpaceViewStores(p,t);return"external_pages_sidebar"===y?g().jB(e,(e=>!(0,Q().IL)(e.getSpaceStore()))):[e]}),[p,t,y]),x=(0,i().K8)((()=>[...S.map((e=>e.pointer)).map((e=>({id:e.id,spaceId:e.spaceId||""}))).map(a().sZ),"create-workspace-row",..."external_pages_sidebar"===y?["external-pages"]:[]]),[S,y]),{currentUserRootStore:w,currentSpaceStore:k}=(0,i().K8)((()=>{const{currentUserRootStore:e,currentSpaceStore:t}=q().default.state;return{currentUserRootStore:e,currentSpaceStore:t}}),[]),A=(0,h().tz)(),C=(0,i().K8)((()=>(0,ee().Le)()),[]),j=(0,i().uB)(G().z),M=(0,i().K8)((()=>{if(!w)return[];const e=[];for(const[n,o]of S.entries()){const n=o.getSpaceStore();if(!n)continue;if(we(o))continue;const r=t===w.id&&n.id===(null==k?void 0:k.id),{results:i}=oe().A.state,s=i.find((e=>e.spaceId===n.id)),a=(0,Q().GK)(p,n),d=ye(p,n),{memberCount:m,subscriptionTierLabel:h}=Se(p,A,n,C),g=j.hasAccessRestrictionForWorkspace(n.id);e.push({key:o.id,render:e=>{const{focused:o}=e;return(0,b.jsx)(de,{id:n.id,menuListItemProps:e,focused:o,icon:(0,Q().c2)(p,n),spaceName:a,title:d,memberCount:m,subscriptionTierLabel:h,isCheck:r,unreadMentions:t===p.currentUser.id&&s&&s.spaceId!==(null==k?void 0:k.id)&&s.unread.mentions>0?s.unread.mentions:void 0,disabled:ve(p,t),hideDragHandle:u,hasEnterpriseWorkspaceAccessRestriction:g})},action:async e=>{let{event:n}=e;l();const i=(0,Q().vb)({userId:t,spaceViewStore:o});(0,re().t)(o)&&i.isLoaded&&!i.isTeamGuestInSpace?be({environment:p,spaceViewStore:o}):r||await c({event:n,spaceViewStore:o})}})}if("external_pages_sidebar"===y&&v&&v.length>0){const n=v.filter((e=>!(0,re().t)(e)||(0,Q().vb)({userId:t,spaceViewStore:e})));n&&n.length>0&&e.push({key:"external-pages",render:e=>(0,b.jsx)(se,{...e,userId:t}),action:async e=>{let{event:o}=e;l();const r=g().Ul(n,(e=>{const t=Z().A.get(e.getSpaceId());return null!=t&&t.length?-t[0].visitedAt:0}))[0],i=r.getSpaceStore();t===w.id&&(null==i?void 0:i.id)===(null==k?void 0:k.id)||await c({event:o,spaceViewStore:r})}})}return e}),[w,y,v,S,t,null==k?void 0:k.id,p,A,u,l,C,c,j]),I=0===M.length?[]:[{key:"spaces",render:e=>(0,b.jsx)(E().A,{...e,disableMobilePadding:!0,topBorder:m.isMobile,children:m.isMobile?e.children:(0,b.jsx)(P().Ay,{direction:"vertical",keys:x,renderKey:t=>e.children[x.indexOf(t)],onDrop:xe({userId:t,environment:p,appendSpaceViewStores:v}),style:{marginBottom:1},disabled:u}),style:o?{paddingBottom:0}:void 0}),items:M},...o?[{key:"new-workspace-section",render:e=>(0,b.jsx)(E().A,{...e,disableMobilePadding:!0,style:{paddingTop:0}}),items:[{key:"new-workspace",render:()=>(0,b.jsx)(ge,{}),action:()=>{}}]}]:[]],L=0===M.length;return(0,b.jsxs)("div",{style:L&&n?f.bottomGap:{},children:[(0,b.jsx)(he,{userId:t,disableAccountActions:d}),I.length>0?(0,b.jsx)("div",{style:f.menuList,children:(0,b.jsx)(U().Ay,{type:U().Oh.Vertical,sections:I,initialFocus:void 0,captureKeyboardOnlyWhenFocused:!0})}):null]},t)}function he(e){const{userId:t,disableAccountActions:n=!1}=e,o=(0,i().O$)(C().e),s=(0,r().v3)(),a=(0,i().K8)((()=>re().A.getUserEmailAddress(s,t)),[s,t]);if(!a)return null;const c=n?[]:[I(t),L(t)];return(0,b.jsx)(H().A,{emailAddress:a,userId:t,disabled:!o||n,accountActions:c})}function ge(){const e=(0,r().v3)(),t=(0,i().K8)((()=>{const e=(0,N().SH)();return"blue_text"===e||"blue_text_and_multi_cta"===e}),[]),n=(0,s().IS)((e=>({button:{display:"flex",flexDirection:"row",height:32,alignItems:"center",padding:"4px 8px",gap:8,transition:"background 150ms ease",borderRadius:6},plusIconContainer:{display:"grid",justifyContent:"center",alignItems:"center",width:20,height:20},plusIcon:{fill:t?e.text.uiBluePrimary:e.icon.secondary,width:14,height:14},label:{color:t?e.text.uiBluePrimary:e.text.secondary}})),[t]);return(0,b.jsxs)(K().A,{style:n.button,onClick:()=>{A().A.reset(),k().Ig(e,"sidebar_switcher"),function(e){(0,B().v)(e,"quick_workspace_creation_click"),O().default.logEvent("quick_workspace_creation_click")}(e)},children:[(0,b.jsx)("div",{style:n.plusIconContainer,children:(0,c().plusIcon)(n.plusIcon)}),(0,b.jsx)(D().A,{style:n.label,children:(0,b.jsx)(h().sA,{id:"sidebarSwitcherMultiAccount.singleAccountMenu.userSpaceViewList.newWorkspace.label",defaultMessage:"New workspace"})})]})}const fe=(0,h().YK)({noAccessAsGuest:{defaultMessage:"You no longer have access to this workspace.",id:"UserSpaceViewList.noAccessAsGuest.label"}});function be(e){let{environment:t,spaceViewStore:n}=e;W().rG({message:F().A.formatMessage(fe.noAccessAsGuest),onAccept:()=>{_().kg({environment:t,spaceViewStore:n})}})}function ye(e,t){const n=(0,Q().GK)(e,t),o=Y().A.getData(e,{spaceId:t.id,userId:t.userId});return o&&"none"===o.role?(0,b.jsxs)("div",{style:{display:"flex"},children:[(0,b.jsx)("span",{style:{flexShrink:1,textOverflow:"ellipsis",overflow:"hidden"},children:n}),(0,b.jsx)("div",{style:{marginLeft:"8px",alignSelf:"center"},children:(0,b.jsx)(V().Q,{})})]}):n}function Se(e,t,n,o){const r=Y().A.getData(e,{spaceId:n.id});if(!r||"none"===r.role)return{subtitle:void 0,subscriptionTier:void 0,memberCount:void 0};const i=X().t.getData(e,{spaceId:n.id}),s=(0,p().TB)(i),a=(0,p().AI)(i),c=(0,te().kg)({subscriptionTier:a,currentSubscriptionTier:a,salesStatus:(0,p().N8)(null==i?void 0:i.subscription)?"sales_assisted":"self_serve",packagingChangesEnabled:o}),l=(0,m().bQ)({tier:c,intl:t,isTrialing:s}),d=t.formatNumber(r.memberCount);return{subtitle:t.formatMessage(ne().EN.workspaceSubtitleWithMembers,{numberOfWorkspaceMembers:d,planType:l}),subscriptionTierLabel:l,memberCount:d}}function ve(e,t){const{online:n}=C().A.state;return!n&&e.currentUser.id!==t}function xe(e){const{userId:t,environment:n,prependSpaceViewStores:o,appendSpaceViewStores:r}=e;return function(e){const i=[...o?o.map((e=>e.pointer)):[],...e.filter((e=>"create-workspace-row"!==e&&"guest-workspaces"!==e)).map(a().gK).map((e=>l().L3.fromSpaceShardRecordId(e,d().mu))),...r?r.map((e=>e.pointer)):[]],s=new(J().dZ)(n,{table:u().GD,id:t},{userId:t});z().createAndCommit({userAction:"SidebarSwitcherMultiAccount.handleDraggableListDrop",environment:n,canUndo:!0,perform:e=>{T().M1({userRootStore:s,transaction:e,spaceViewIds:i.map((e=>e.id)),spaceViewPointers:i})},userId:t}),R().p(n,{workspace_count:e.length})}}function we(e){return e.getPublicShareLinkPages().length>0&&!e.getJoined()}},793565:(e,t,n)=>{n.d(t,{V:()=>r});n(296540);var o=n(474848);const r=(0,n(340498).wt)("settingsUpgrade",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M9.969 17.938c4.36 0 7.969-3.618 7.969-7.97C17.938 5.61 14.32 2 9.96 2 5.609 2 2 5.61 2 9.969c0 4.351 3.617 7.969 7.969 7.969zm0-1.329a6.609 6.609 0 01-6.633-6.64 6.602 6.602 0 016.625-6.64 6.627 6.627 0 016.648 6.64 6.61 6.61 0 01-6.64 6.64zm0-2.734a.562.562 0 00.586-.586V9.383l-.063-1.656.797.945.922.937a.52.52 0 00.414.172c.32 0 .57-.242.57-.562a.566.566 0 00-.164-.406L10.43 6.219c-.149-.149-.29-.227-.461-.227-.164 0-.297.07-.453.227l-2.61 2.593a.555.555 0 00-.148.407c0 .32.242.562.562.562a.572.572 0 00.414-.172l.93-.937.781-.938-.062 1.649v3.906c0 .344.25.586.586.586z"})})},926329:(e,t,n)=>{n.d(t,{b:()=>r});n(296540);var o=n(474848);const r=(0,n(340498).wt)("templates",{viewBox:"0 0 20 20",svg:(0,o.jsxs)("g",{children:[(0,o.jsx)("path",{d:"M6.39733 5.67853C5.89764 5.50234 5.36002 5.40649 4.8 5.40649C2.14904 5.40649 0 7.55432 0 10.2038C0 12.8533 2.14904 15.0011 4.8 15.0011C6.52165 15.0011 8.0316 14.0952 8.87867 12.7343L5.26487 12.0975L6.39733 5.67853Z"}),(0,o.jsx)("path",{d:"M17.3126 3.66609L7.85843 2L6.19141 11.4489L10.6545 12.2354L14.3998 5.81854L16.3449 9.15116L17.3126 3.66609Z"}),(0,o.jsx)("path",{d:"M8.80078 17L14.4008 7.4054L20.0008 17H8.80078Z"})]})})},982615:(e,t,n)=>{n.d(t,{$:()=>r});n(296540);var o=n(474848);const r=(0,n(340498).wt)("checkmark",{viewBox:"0 0 20 20",svg:(0,o.jsx)("path",{d:"M10.0693 18.166C14.7759 18.166 18.6606 14.2812 18.6606 9.58301C18.6606 4.88477 14.7676 1 10.061 1C5.36279 1 1.48633 4.88477 1.48633 9.58301C1.48633 14.2812 5.37109 18.166 10.0693 18.166ZM9.13965 13.6836C8.82422 13.6836 8.56689 13.5508 8.33447 13.2437L6.30078 10.7783C6.15137 10.5874 6.07666 10.3965 6.07666 10.189C6.07666 9.75732 6.41699 9.40869 6.84863 9.40869C7.10596 9.40869 7.30518 9.5 7.521 9.77393L9.11475 11.791L12.5347 6.3125C12.7173 6.02197 12.9497 5.88086 13.2153 5.88086C13.6387 5.88086 14.0205 6.17139 14.0205 6.61133C14.0205 6.80225 13.9209 7.00977 13.8047 7.19238L9.91162 13.2437C9.729 13.5342 9.45508 13.6836 9.13965 13.6836Z"})})}}]);