"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[4412],{101209:(e,t,i)=>{i.d(t,{v:()=>n});i(296540);var o=i(474848);const n=(0,i(340498).wt)("boltFilled",{svg:(0,o.jsx)("path",{d:"M0 12.117c0 .38.293.664.703.664h5.518l-2.91 7.91c-.381 1.006.664 1.543 1.318.723l8.877-11.094c.166-.205.254-.4.254-.625 0-.371-.293-.664-.703-.664H7.539l2.91-7.91C10.83.115 9.785-.422 9.131.408L.254 11.492c-.166.215-.254.41-.254.625z"}),viewBox:"0 0 14 22"})},129546:(e,t,i)=>{i.d(t,{Xc:()=>u,Yc:()=>v,rL:()=>p});i(16280);var o=()=>i(604995),n=()=>i(161479),s=()=>i(496603),a=()=>i(12974),r=()=>i(765957),l=()=>i(449506);const d=20,c=20;async function u(e,t){const{store:i,activityIds:o,spaceId:r,filterActivityTypes:u,filterDateRange:p,navigableBlockId:v,collectionId:m,authorId:f,source:h}=t,y=s().$1(o),b=(0,a().u$)(),x="person_profile"===h&&f&&b?await l().callApi({eventName:"getRecentActivityFeed",environment:e,data:{spaceId:r,authorId:f,limit:c}}):await l().callApi({eventName:"getActivityLog",environment:e,data:{spaceId:r,navigableBlock:v?{id:v,spaceId:(0,n().e)(void 0)}:void 0,collection:m?{id:m,spaceId:(0,n().e)(void 0)}:void 0,endingBeforeId:y,limit:d,activityTypes:u,...g(p),authorId:f}});if("failed"===x.type)throw x.error;const I=x.data.activityIds;i.update((e=>({...e,shouldLoadNewerActivities:!1,activityIds:I.concat(o)})))}async function p(e,t){const{store:i,activityIds:o,spaceId:r,filterActivityTypes:u,filterDateRange:p,navigableBlockId:v,collectionId:m,authorId:f,source:h}=t,y=s().HV(o),b=(0,a().u$)(),x="person_profile"===h&&f&&b?await l().callApi({eventName:"getRecentActivityFeed",environment:e,data:{spaceId:r,startingAfterId:y,authorId:f,limit:c}}):await l().callApi({eventName:"getActivityLog",environment:e,data:{spaceId:r,navigableBlock:v?{id:v,spaceId:(0,n().e)(void 0)}:void 0,collection:m?{id:m,spaceId:(0,n().e)(void 0)}:void 0,startingAfterId:y,limit:d,activityTypes:u,...g(p),authorId:f}});if("failed"===x.type)throw x.error;const I=x.data.activityIds;i.update((e=>({...e,shouldLoadOlderActivities:!1,activityIds:o.concat(I),hasOlderActivities:I.length>0})))}async function v(e,t){var i;const{store:o,activityIds:n}=t,s=null===(i=r().default.state.currentSpaceViewStore)||void 0===i?void 0:i.id;if(!s)throw new Error("No space view id");const a=await l().callApi({eventName:"getActivityFeedForHomePrototypeDoNotUse",environment:e,data:{spaceViewId:s}});if("failed"===a.type)throw a.error;const d=a.data.activityIds;o.update((e=>({...e,shouldLoadOlderActivities:!1,activityIds:n.concat(d),hasOlderActivities:!1})))}function g(e){var t,i;const n=null!==(t=e.ending)&&void 0!==t&&t.start_date?o().C6.isoToUnixMs(e.ending.start_date):void 0;return{startingAfterTimeMs:null!==(i=e.starting)&&void 0!==i&&i.start_date?o().C6.isoToUnixMs(e.starting.start_date):void 0,endingBeforeTimeMs:n?o().K1({date:n,daysToAdd:1}):void 0}}},131533:(e,t,i)=>{i.d(t,{A:()=>J});i(581454);var o=i(296540),n=()=>i(484714),s=()=>i(56366),a=()=>i(401497),r=()=>i(187174),l=()=>i(563884),d=()=>i(281067),c=()=>i(921997),u=()=>i(801634),p=()=>i(959013),v=()=>i(496603),g=()=>i(720665),m=()=>i(129546),f=()=>i(848259),h=()=>i(675700),y=()=>i(299545),b=()=>i(37433),x=()=>i(721273),I=()=>i(963589),C=()=>i(941541),A=()=>i(423817),S=()=>i(155959),j=()=>i(224239),k=()=>i(765957),M=()=>i(463830),w=()=>i(227440);class T extends(()=>i(757695))().Store{getInitialState(){return{selectedItems:[]}}}const L=T;var D=()=>i(606846),R=(i(944114),()=>i(17022)),_=(i(16280),i(898992),i(354520),()=>i(397682)),B=i(474848);const U=function(e){const{batch:t,rootStore:r,tabArgs:l,isLast:d}=e,c=(0,n().v3)(),u=(0,p().tz)(),v=(0,a().IS)((e=>({details:{color:e.text.secondary,fontSize:12,marginLeft:15,marginTop:9,marginBottom:10},hr:{border:"none",height:1,backgroundColor:e.tableDividerColor}})),[]),g=(0,o.useMemo)((()=>R().e.withListenerIgnored((()=>t.activities.map((e=>{if("block-edited"===e.type)return{type:"block-edited",end_time:parseInt(e.end_time),edits:(0,i(191278).E)(e.getEdits())};if("commented"===e.type){const t=r.getRecordStore(r,{table:i(197959).$Y,id:e.discussion_id,spaceId:e.space_id});if(!t.isDefined())return;const o=(0,_().s6)(e.getEdits(),l.source,t);if(!(0,_().Aj)(o)||0===o.length)return;return{type:"comment-created",end_time:parseInt(e.end_time),edits:o,discussion_id:e.discussion_id,space_id:e.space_id}}throw new Error("Unsupported activity type")})).filter(i(534177).O9)))),[t,r,l.source]),m=(0,s().K8)((()=>{if(0===g.length)return;const e=g[0].edits[0];return e&&i(630116).Bv.createChildStore(r,{table:i(179034).ev,id:e.navigable_block_id})}),[g,r]),f=(0,s().K8)((()=>m&&(0,i(71304).Qe)(m,u,c,!0)),[c,u,m]);return 0!==g.length&&m?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(i(302925).Ay,{batch:g,rootStore:r,activityTime:g[0].end_time,source:l.source,pageTitleElem:(0,B.jsx)(i(423213).A,{titledRecordStore:m,activity:t.activities[0],tabArgs:l,getRecordModel:r.getRecordModel}),currentPageTitle:f??"No page title"}),(0,B.jsx)("details",{style:v.details,open:!1,children:t.activities.map((e=>(0,B.jsx)(h().h,{activity:e,rootStore:r,tabArgs:l,isLast:d},e.id)))}),(0,B.jsx)("hr",{style:v.hr})]}):null};const P=function(e){let{activities:t,rootStore:i}=e;const n=(0,o.useMemo)((()=>R().e.withListenerIgnored((()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;const i=[],o={};for(const n of e){const e=n.navigable_block_id;if(!e)continue;if(!o[e]){o[e]=[n];continue}const s=o[e][o[e].length-1];Math.abs((Number(s.end_time)-parseInt(n.end_time))/36e5)<=t?o[e].push(n):(o[e].sort(((e,t)=>parseInt(t.end_time)-parseInt(e.end_time))),i.push({page:e,activities:o[e],latest_activity_end_time:parseInt(o[e][0].end_time)}),o[e]=[n])}for(const n in o)o[n].length>0&&(o[n].sort(((e,t)=>parseInt(t.end_time)-parseInt(e.end_time))),i.push({page:n,activities:o[n],latest_activity_end_time:parseInt(o[n][0].end_time)}));return i.sort(((e,t)=>t.latest_activity_end_time-e.latest_activity_end_time)),i}(t).slice(0,20)))),[t]);return(0,B.jsx)("section",{role:"feed","aria-label":"Recent updates",children:n.map(((e,t)=>(0,B.jsx)(U,{batch:e,rootStore:i,isLast:t===e.activities.length-1,tabArgs:{tab:"homeTile",source:"home_tile"}},t)))})};var F=()=>i(331542),O=()=>i(228927),H=()=>i(125565),N=()=>i(575695),K=()=>i(760217),V=()=>i(297401),E=()=>i(821879);const z=function(e){let{mode:t,title:i,onChange:n,disabled:a,focused:r,onMenuDismiss:l,items:d,addItemLabel:c,tokenInputPlaceholder:u,resultSectionTitle:p,componentDebugName:v,icon:g,getItemLabel:m,options:f,store:h}=e;const y=(0,s().uB)(h,L),b=(0,s().O$)(y);return(0,o.useEffect)((()=>{y.setState({selectedItems:d})}),[d,y]),(0,B.jsx)(E().A,{mode:t,hasItemsSelected:b.selectedItems.length>0,title:i,icon:g,items:d,onChange:e=>{n(e)},disabled:a,focused:r,renderFilter:(e,t)=>(0,B.jsx)(W,{getItemLabel:m,item:e,args:t}),renderToken:e=>(0,B.jsx)(X,{item:e}),renderItemForSummary:e=>(0,B.jsx)($,{item:e}),addItemLabel:c,labelText:{title:i,tokenInputPlaceholder:u,resultSectionTitle:p,componentDebugName:v},performRequest:e=>function(e,t){let{query:i}=e;return Promise.resolve(t.filter((e=>e.includes(i))))}(e,f),renderResultMenuItem:(e,i)=>(0,B.jsx)(Y,{getItemLabel:m,mode:t,store:y,item:e,props:i}),onMenuDismiss:l})};function $(e){let{item:t}=e;return(0,B.jsx)(B.Fragment,{children:`hello${t}`})}function X(e){let{item:t}=e;return(0,B.jsx)(B.Fragment,{children:t})}function W(e){let{item:t,args:i,getItemLabel:o}=e;const{disabled:s,onRemove:a,onClick:r}=i,l=function(e){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},menuItemTitle:{width:"100%"},labeledMenuItemTitle:{display:"inline-flex",alignItems:"center"},menuItemLabel:{marginRight:12},recordIcon:{marginRight:4}}}((0,n().v3)()),d=(0,B.jsx)(V().A,{disabled:s,onClick:a});return(0,B.jsx)(K().A,{title:(null==o?void 0:o(t))||t,disabled:s,focused:!1,right:d,style:l.menuItem,desktopTitleStyle:l.menuItemTitle,onClick:r})}function Y(e){let{item:t,props:i,getItemLabel:n,mode:a,store:r}=e;const l=(0,s().uB)(r,L),d=(0,s().K8)((()=>l.state.selectedItems),[l]);return(0,o.createElement)(K().A,{...i,key:t,title:(null==n?void 0:n(t))||t,isChecked:a===E().C.Pill&&d.includes(t)})}function J(e){var t;const{spaceId:i,navigableBlockStore:l,collectionId:d,authorId:u,source:f}=e,T=null==l?void 0:l.id,L=(0,n().v3)(),R=(0,s().uB)(void 0,j().L),_=(0,s().uB)(void 0,M().A),U=(0,a().IS)((e=>({placeholderContent:Q(L,e),banner:{padding:"12px 10px"}})),[L]),F=(0,o.useMemo)((()=>v().nF((e=>function(e,t){t.update((e=>({...e,shouldLoadNewerActivities:!0})))}(0,R)),1e3)),[R]),N=(0,o.useMemo)((()=>g().Hg(F)),[F]);(0,o.useEffect)((()=>{let e,t,i;if(T){const t=(0,c().O$)(T);e=C().Ay.addListener(t,void 0,N,void 0,L)}if(d){const e=(0,c().zB)(d);t=C().Ay.addListener(e,void 0,N,void 0,L)}if(u){const e=(0,c().Ii)(u);i=C().Ay.addListener(e,void 0,N,void 0,L)}return()=>{e&&C().Ay.removeListener(e,L),t&&C().Ay.removeListener(t,L),i&&C().Ay.removeListener(i,L)}}),[d,L,N,T,u]);const K=(0,s().O$)(w().e),V=(0,s().K8)((()=>{const e=R.state;return 0===e.filterActivityTypes.length&&void 0===e.filterDateRange.ending&&void 0===e.filterDateRange.starting}),[R]),E=(0,s().K8)(b().XL,[]),z=(0,I().X)("updates_ai"),{currentUserStore:$,currentSpaceStore:X}=(0,s().K8)((()=>{const{currentUserStore:e,currentSpaceStore:t}=k().default.state;return{currentUserStore:e,currentSpaceStore:t}}),[]),{shouldLoadOlderActivities:W,shouldLoadNewerActivities:Y,filterActivityTypes:J,filterDateRange:q,activityIds:ie,hasOlderActivities:oe}=(0,s().K8)((()=>{const{shouldLoadOlderActivities:e,shouldLoadNewerActivities:t,filterActivityTypes:i,filterDateRange:o,activityIds:n,hasOlderActivities:s}=R.state;return{shouldLoadOlderActivities:e,shouldLoadNewerActivities:t,filterActivityTypes:i,filterDateRange:o,activityIds:n,hasOlderActivities:s}}),[R]),[ne]=(0,r().Yb)((async()=>{if(!K||!$||!X)return;const e=D().Ay.startLoading();Y?await m().Xc(L,{store:R,activityIds:ie,spaceId:i,filterActivityTypes:J,filterDateRange:q,navigableBlockId:T,collectionId:d,authorId:u,source:f}):W&&oe&&("home_tile"===f?await m().Yc(L,{store:R,activityIds:ie,spaceId:i,filterActivityTypes:J,filterDateRange:q,navigableBlockId:T,collectionId:d,source:f}):await m().rL(L,{store:R,activityIds:ie,spaceId:i,filterActivityTypes:J,filterDateRange:q,navigableBlockId:T,collectionId:d,authorId:u,source:f})),D().Ay.endLoading(e)}),[ie,R,d,X,$,L,J,q,oe,K,T,Y,W,i,f,u]),se=ne.error,ae="resolved"===ne.status,re=(0,s().K8)((()=>{if(!$)return[];const e=$.id,t=(0,S().T)("supportsNativeHome"),o={spaceId:i,userId:e,navigableBlockId:T,collectionId:d,filterDateRange:q,filterActivityTypes:J,authorId:u},n=t&&0===ie.length&&!ae?x().oV(o):ie;return t&&ae&&x().tK(o,ie),function(e){return v().oE(e.map((e=>function(e){const{currentUserStore:t,currentSpaceStore:i}=k().default.state;if(!t||!i)return;const o=(0,y().jA)(i,e,i.id),n=o.getModel();return n&&!n.invalid?n:null}(e))))}(n)}),[ie,d,$,J,q,u,T,ae,i]);if(!K)return(0,B.jsx)(ee,{});if(!$||!X)return null;const le=0===re.length&&!oe&&ae,de=X;if(se)return(0,B.jsx)("div",{style:U.placeholderContent,children:(0,B.jsx)(p().sA,{defaultMessage:"Something went wrong.",id:"activityUpdate.unknownErrorLoadingActivities.message"})});if(0===re.length&&!ae)return(0,B.jsxs)("div",{children:[E?(0,B.jsx)(Z,{collectionId:d,source:f,activityUpdatesStore:R,filterPopupStore:_}):void 0,(0,B.jsx)(A().J,{areaHeight:window.innerHeight})]});const ce=(0,B.jsx)(H().A,{isSecondaryColor:!0,isMultiline:!0,children:(0,B.jsxs)("div",{style:{paddingTop:"15px",paddingRight:"10px",marginBottom:"-8px",paddingLeft:"10px"},children:["We're testing out AI summaries of updates on suggested pages. AI can make mistakes. Please leave feedback ",(0,B.jsx)("a",{href:"https://dev.notion.so/notion/Home-feed-with-AI-summary-feedback-doc-fffb35e6e67f8083b14ecc64c6ed465d",children:"here"}),"!"]})}),ue=(0,B.jsxs)("div",{style:{...U.banner,marginTop:"-10px"},children:["Did you read to the end? Please let us know ",(0,B.jsx)("a",{href:"https://dev.notion.so/notion/Home-feed-with-AI-summary-feedback-doc-fffb35e6e67f8083b14ecc64c6ed465d",children:"here"}),", particularly if anything was helpful or unhelpful!"]});return(0,B.jsxs)("div",{children:[z&&"home_tile"===f?ce:void 0,E?(0,B.jsx)(Z,{collectionId:d,source:f,activityUpdatesStore:R,filterPopupStore:_}):void 0,(0,B.jsxs)("div",{style:le?U.placeholderContent:G(L,f),className:le?"":"notranslate",children:[le?null===(t=e.empty)||void 0===t?void 0:t.call(e,{hasFiltersOn:!V}):null,z&&"home_tile"===f?(0,B.jsx)(P,{activities:re,rootStore:de}):(0,B.jsx)("section",{role:"feed",children:re.map(((e,t,i)=>{const o=i.length-1===t,n="notifications_tab"===f?{tab:"all",source:f}:"updates_sidebar"===f?{tab:"pageUpdatesSidebar",source:f}:"person_profile"===f?{tab:"personProfile",source:f}:{tab:"homeTile",source:f};return(0,B.jsx)(h().h,{activity:e,rootStore:de,isLast:o,tabArgs:n},e.id)}))}),(0,B.jsx)(O().A,{onChange:e=>{e<200&&ae&&!W&&oe&&(V||re.length>0)&&R.update((e=>({...e,shouldLoadOlderActivities:!0})))},children:!ae&&oe?(0,B.jsx)(te,{isPaginated:!0}):null})]}),z?"home_tile"===f?(0,B.jsx)(H().A,{isSecondaryColor:!0,isMultiline:!0,children:ue}):null:void 0]})}function Z(e){const{collectionId:t,source:i,activityUpdatesStore:o,filterPopupStore:n}=e,{currentUserStore:a,currentSpaceStore:r}=(0,s().K8)((()=>{const{currentUserStore:e,currentSpaceStore:t}=k().default.state;return{currentUserStore:e,currentSpaceStore:t}}),[]),l=(0,s().K8)((()=>o.state.filterActivityTypes.length>0||o.state.filterDateRange.ending||o.state.filterDateRange.starting),[o]);return a&&r?(0,B.jsxs)("div",{style:{display:"flex",flexDirection:"row",padding:"12px 10px",width:"100%",gap:6},children:[(0,B.jsx)(q,{collectionId:t,source:i,filterPopupStore:n,activityUpdatesStore:o}),(0,B.jsx)(ae,{source:e.source,activityUpdatesStore:o,filterPopupStore:n}),l?(0,B.jsx)(se,{source:e.source,activityUpdatesStore:o}):void 0]}):null}function q(e){const{collectionId:t,source:i,activityUpdatesStore:a,filterPopupStore:r}=e,l=(0,p().tz)(),c=(0,n().v3)(),v=t?u().Fv:u().IP,g=(0,s().uB)(void 0,L),m=(0,s().K8)((()=>a.state.filterActivityTypes),[a]),f=(0,o.useCallback)((()=>{oe(r)}),[r]);return(0,B.jsx)(z,{store:g,focused:!1,icon:d().v,options:[...v].sort(),items:m,mode:E().C.Pill,title:(0,B.jsx)(p().sA,{id:"activityUpdates.filterMenu.byType.title",defaultMessage:"Activity type"}),tokenInputPlaceholder:l.formatMessage({id:"activityUpdates.filterMenu.byType.search",defaultMessage:"Search for a type"}),resultSectionTitle:l.formatMessage({id:"activityUpdates.filterMenu.byType.resultSectionTitle",defaultMessage:"Activity Types"}),addItemLabel:l.formatMessage({id:"activityUpdates.filterMenu.byType.addItemLabel",defaultMessage:"Add an activity type"}),componentDebugName:"ActivityUpdatesSearchEditTypesFilter",onChange:e=>ne((()=>a.update((t=>({...t,filterActivityTypes:e,activityIds:[],hasOlderActivities:!0,shouldLoadOlderActivities:!0,shouldLoadNewerActivities:!1})))),c,i,a),onMenuDismiss:f,getItemLabel:e=>e.split("-").map((e=>e.replace(/(^.)/,(e=>e.toUpperCase())))).join(" ")})}function G(e,t){return{minHeight:e.device.isMobile?void 0:"75vh",padding:t&&"home_tile"===t?"10px":void 0}}function Q(e,t){const{device:i}=e;return{...G(e),paddingTop:i.isMobile?32:void 0,paddingBottom:i.isMobile?32:void 0,minHeight:i.isMobile?void 0:220,display:"flex",textAlign:"center",alignItems:"center",justifyContent:"center",fontSize:14,color:t.text.secondary,flexDirection:"column",flex:"1 1 0%"}}function ee(){const e=(0,n().v3)(),t=(0,a().IS)((t=>({offlineMessage:Q(e,t)})),[e]);return(0,B.jsx)("div",{style:t.offlineMessage,children:(0,B.jsx)(p().sA,{defaultMessage:"Please go online to view updates.",id:"activityUpdates.offlineMessage"})})}function te(e){let{isPaginated:t}=e;const i=(0,n().v3)(),o=(0,a().IS)((e=>({spinner:{...Q(i,e),minHeight:t?64:220}})),[i,t]);return(0,B.jsx)("div",{style:o.spinner,children:(0,B.jsx)(F().A,{})})}function ie(e){var t,i;const{filterActivityTypes:o,filterDateRange:n}=e.state;return{activityTypes:o,dateRange:{start:null===(t=n.starting)||void 0===t?void 0:t.start_date,end:null===(i=n.ending)||void 0===i?void 0:i.start_date}}}function oe(e){e.setState({...e.state,open:!1})}function ne(e,t,i,o){const n=ie(o);e();const s=ie(o);f().Xl({environment:t,activityUpdatesSource:i,filters:s,prevFilters:n})}function se(e){let{source:t,activityUpdatesStore:i}=e;const o=(0,n().v3)(),s=(0,a().IS)((e=>({clearButton:{flexGrow:1,textAlign:"right",cursor:"pointer",fontSize:14,color:e.text.secondary,marginRight:8}})),[]);return(0,B.jsx)("div",{style:s.clearButton,onClick:()=>ne((()=>i.reset()),o,t,i),children:(0,B.jsx)(p().sA,{defaultMessage:"Clear",id:"activityUpdates.clearFilters"})})}function ae(e){let{source:t,activityUpdatesStore:i,filterPopupStore:a}=e;const r=(0,n().v3)(),d=(0,o.useCallback)((()=>oe(a)),[a]),c=(0,s().K8)((()=>i.state.filterDateRange),[i]);return(0,B.jsx)(N().A,{mode:E().C.Pill,focused:!1,showButtons:!0,title:(0,B.jsx)(p().sA,{id:"activityUpdates.filterMenu.byDate",defaultMessage:"Date Range"}),icon:l().k,value:c,onMenuDismiss:d,onChange:e=>ne((()=>i.update((t=>({...t,filterDateRange:e,activityIds:[],hasOlderActivities:!0,shouldLoadOlderActivities:!0})))),r,t,i)})}},224239:(e,t,i)=>{i.d(t,{L:()=>o});class o extends(()=>i(757695))().Store{getInitialState(){return{activityIds:[],shouldLoadNewerActivities:!1,shouldLoadOlderActivities:!0,hasOlderActivities:!0,filterActivityTypes:[],filterDateRange:{starting:void 0,ending:void 0}}}}},423817:(e,t,i)=>{i.d(t,{J:()=>a});i(581454),i(296540);var o=()=>i(401497),n=()=>i(710149),s=i(474848);function a(e){let t=Math.floor(e.areaHeight/124);0===t&&(t=1);const i=(0,o().IS)((e=>({skeletonRect:{height:8,borderRadius:4,margin:10,backgroundColor:e.lightDividerColor},skeletonCircle:{display:"flex",width:28,height:28,marginRight:8,backgroundColor:e.lightDividerColor,borderRadius:20},skeletonSection:{display:"flex",width:"100%",margin:20,flexDirection:"row"}})),[8,10,20]),a=[...Array(t)].map(((e,t)=>(0,s.jsxs)("div",{style:i.skeletonSection,children:[(0,s.jsx)(n().A,{style:i.skeletonCircle}),(0,s.jsxs)("div",{style:{width:"80%"},children:[(0,s.jsx)(n().A,{style:{width:"80%",...i.skeletonRect,marginTop:0}}),(0,s.jsx)(n().A,{style:{width:"50%",...i.skeletonRect}}),(0,s.jsx)(n().A,{style:{width:"60%",...i.skeletonRect}}),(0,s.jsx)(n().A,{style:{width:"50%",...i.skeletonRect}})]})]},t)));return(0,s.jsx)("div",{children:a})}},555555:(e,t,i)=>{i.d(t,{n:()=>n});i(296540);var o=i(474848);const n=(0,i(340498).wt)("import",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M13.291 14.5723C13.291 14.1484 12.9902 13.834 12.5732 13.834H8.06836C8.24609 13.8203 8.42383 13.7314 8.56055 13.5947L13.0586 9.08301C13.2158 8.91895 13.291 8.74121 13.291 8.54297C13.291 8.12598 12.9902 7.81836 12.5801 7.81836C12.3682 7.81836 12.1836 7.90039 12.0469 8.03711L10.4951 9.56836L8.69043 11.585L8.75195 10.1084V1.61133C8.75195 1.16016 8.44434 0.852539 8 0.852539C7.5625 0.852539 7.25488 1.16016 7.25488 1.61133V10.1084L7.30957 11.5781L5.50488 9.56836L3.95312 8.03711C3.82324 7.90039 3.63184 7.81836 3.42676 7.81836C3.0166 7.81836 2.70898 8.12598 2.70898 8.54297C2.70898 8.74121 2.78418 8.91895 2.94141 9.08301L7.44629 13.5947C7.58301 13.7314 7.75391 13.8203 7.93848 13.834H3.44043C3.0166 13.834 2.70898 14.1484 2.70898 14.5723C2.70898 14.9893 3.0166 15.3037 3.44043 15.3037H12.5732C12.9902 15.3037 13.291 14.9893 13.291 14.5723Z"})})},575695:(e,t,i)=>{i.d(t,{A:()=>j});var o=i(296540),n=()=>i(484714),s=()=>i(56366),a=()=>i(401497),r=()=>i(563884),l=()=>i(959013),d=()=>i(534177),c=()=>i(56394),u=()=>i(780865),p=()=>i(962730),v=()=>i(377586),g=()=>i(493823),m=()=>i(760217),f=()=>i(545805),h=()=>i(897119),y=()=>i(204063),b=()=>i(427711),x=()=>i(297401),I=()=>i(978625),C=()=>i(806754),A=()=>i(821879),S=i(474848);const j=function(e){let{onChange:t,onMenuDismiss:o,showButtons:a,title:r,value:l,disabled:d,dateFormat:c,icon:u,mode:p,focused:v}=e;const g=(0,n().v3)(),m=(0,s().uB)(void 0,i(35394).A);(0,i(852507).l)((()=>{_({value:l},m)}));const{device:f}=g;return f.isMobile?(0,S.jsx)(K,{onChange:t,onMenuDismiss:o,showButtons:a,title:r,value:l,disabled:d,dateFormat:c,icon:u,mode:p,store:m}):(0,S.jsx)(N,{onChange:t,onMenuDismiss:o,showButtons:a,title:r,value:l,disabled:d,dateFormat:c,focused:v,icon:u,mode:p,store:m})};function k(e){const{device:t}=e;return t.isMobile?v().n.SlideUp:v().n.Popup}function M(e){return{buttonMenuItem:{color:e.text.secondary},activeMenuItem:{color:e.text.primary}}}function w(e){e.preventDefault&&e.preventDefault()}function T(e){e({starting:void 0,ending:void 0})}function L(e){return{menuItem:{minHeight:void 0,paddingTop:e.device.isMobile?12:4,paddingBottom:e.device.isMobile?12:4},icon:{height:14,width:14,fill:"currentColor"},iconActiveDesktop:{height:14,width:14,fill:"currentColor",alignSelf:"flex-start",marginTop:2,marginRight:2},iconActiveDesktopWrapper:{marginTop:0},iconActiveMobile:{height:14,width:14,fill:"currentColor",marginTop:1,marginRight:6},popup:{paddingTop:12,paddingBottom:8},menuItemTitleDesktop:{width:"100%"},sectionMenuItem:{display:"flex"},summary:{display:"inline-flex"}}}function D(e,t){t||e.setState({...e.state,isOpen:!0,focus:"starting"})}function R(e,t,i,o,n){const{temporaryDateRange:s}=i.state;u().a9(e)||(n||t(s),i.setState({...i.state,isOpen:!1,temporaryDateRange:{starting:void 0,ending:void 0}}),o&&o())}function _(e,t){if(!e.error)return t.setState({...t.state,temporaryDateRange:{...t.state.temporaryDateRange,...e.value}})}function B(e){let{disabled:t,icon:i,title:s,store:a}=e;const r=(0,n().v3)(),l=(0,o.useCallback)((()=>D(a,t)),[a,t]),d=L(r);return(0,S.jsx)(m().A,{disabled:t,focused:!1,icon:i(d.icon),title:s,onClick:l})}function U(e){let{disabled:t,title:i,value:s,dateFormat:a,onChange:d,store:c}=e;const p=(0,l().tz)(),v=(0,n().v3)(),g=(0,o.useCallback)((()=>D(c,t)),[c,t]),m=L(v),f=(0,S.jsxs)("div",{style:m.summary,children:[(0,r().k)(m.iconActiveMobile),u().tX(s,p,a)]});return(0,S.jsx)(I().A,{disabled:t,onClick:g,onClickClear:()=>T(d),label:i,title:f})}function P(e){let{disabled:t,value:i,dateFormat:s,focused:d,onChange:c,store:p}=e;const v=(0,l().tz)(),g=(0,a().DP)(),f=(0,n().v3)(),h=(0,o.useCallback)((()=>D(p,t)),[p,t]),y=L(f),b=M(g),I={...y.menuItem,...b.activeMenuItem},C=u().tX(i,v,s),A=(0,S.jsx)(x().A,{onClick:()=>T(c),disabled:t});return(0,S.jsx)(m().A,{focused:d,disabled:t,icon:(0,r().k)(y.iconActiveDesktop),title:C,right:A,isTokenTitle:!0,alignIconTop:!0,onClick:h,desktopTitleStyle:y.menuItemTitleDesktop,desktopIconStyle:y.iconActiveDesktopWrapper,style:I})}function F(e){let{disabled:t,title:i,icon:s,focused:r,mode:l,store:d}=e;const c=(0,a().DP)(),u=(0,n().v3)(),p=(0,o.useCallback)((()=>D(d,t)),[d,t]),v=L(u),g=M(c),f={...v.menuItem,...g.buttonMenuItem,...l===A().C.Pill?{width:"fit-content",border:"solid 1px",paddingLeft:0,paddingRight:0,borderRadius:20,fontSize:12}:{}};return(0,S.jsx)(m().A,{focused:r,disabled:t,icon:s(v.icon),title:i,onClick:p,style:f})}function O(e){let{disabled:t,value:i,title:n,store:s}=e;const a=(0,o.useCallback)((()=>D(s,t)),[s,t]);return(0,S.jsx)(c().A,{on:Boolean(i.starting||i.ending),icon:(0,r().k)({width:16,marginRight:6,fill:"currentColor"}),title:(0,S.jsx)("span",{children:n}),onClick:a})}function H(e){let{onChange:t,onMenuDismiss:i,showButtons:n,title:a,value:r,store:d}=e;const c=(0,o.useCallback)((e=>R(e,t,d,i,n)),[t,d,i,n]),u=(0,o.useCallback)((e=>_(e,d)),[d]),p=(0,s().K8)((()=>function(e,t){const{temporaryDateRange:i}=t.state;return{...e,...i}}(r,d)),[d,r]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(b().A,{title:a,value:p,onUpdate:u,store:d,onDismiss:c}),n&&(0,S.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",width:"100%",padding:"0px 10px"},children:[(0,S.jsx)(g().p,{isGray:!0,style:{marginLeft:"auto",marginRight:8},onClick:c,children:(0,S.jsx)(l().sA,{defaultMessage:"Cancel",id:"searchDateFilter.cancelButton.label"})}),(0,S.jsx)(y().A,{onClick:()=>t(d.state.temporaryDateRange),children:(0,S.jsx)(l().sA,{defaultMessage:"Accept",id:"searchDateFilter.acceptButton.label"})})]})]})}function N(e){let{mode:t,onChange:i,onMenuDismiss:a,showButtons:r,title:l,value:c,disabled:u,dateFormat:v,focused:g,icon:m,store:y}=e;const b=(0,n().v3)(),x=(0,o.useCallback)((e=>R(e,i,y,a,r)),[i,y,a,r]),I=(0,o.useCallback)((()=>(0,S.jsx)(H,{onChange:i,onMenuDismiss:a,showButtons:r,title:l,value:c,store:y})),[i,a,r,l,c,y]),j=L(b),M=t===A().C.Section,T=M?l:void 0,D=t===A().C.Section?(0,S.jsx)(P,{disabled:u,value:c,dateFormat:v,focused:g,onChange:i,store:y}):t===A().C.Button?(0,S.jsx)(F,{disabled:u,title:l,icon:m,focused:g,mode:t,store:y}):t===A().C.Pill?(0,S.jsx)(O,{disabled:u,value:c,title:l,store:y}):void(0,d().HB)(t),_=(0,s().K8)((()=>y.state.isOpen),[y]);return(0,S.jsx)(C().A,{title:T,marginAfter:M,children:(0,S.jsx)(f().A,{debugName:"SearchDateFilter",capture:_,onUp:w,onDown:w,onEnter:w,children:(0,S.jsx)(h().Ay,{popupType:k(b),open:_,origin:D,render:I,onDismiss:x,placementToOrigin:p().W.Bottom,alignmentToOrigin:p().C.Start,keepFocus:!0,style:j.popup})})})}function K(e){let{mode:t,onChange:i,onMenuDismiss:n,showButtons:a,title:r,value:l,disabled:d,dateFormat:c,icon:u,store:p}=e;const g=(0,s().K8)((()=>p.state.isOpen),[p]),m=(0,o.useCallback)((e=>R(e,i,p,n,a)),[i,p,n,a]),f=(0,o.useCallback)((()=>(0,S.jsx)(H,{onChange:i,onMenuDismiss:n,showButtons:a,title:r,value:l,store:p})),[i,n,a,r,l,p]),y=t===A().C.Section?(0,S.jsx)(U,{disabled:d,title:r,value:l,dateFormat:c,onChange:i,store:p}):(0,S.jsx)(B,{disabled:d,icon:u,title:r,store:p});return(0,S.jsx)(h().Ay,{popupType:v().n.SlideUp,open:g,origin:y,render:f,onDismiss:m,preventScaleTransition:!0})}},674020:(e,t,i)=>{i.d(t,{y:()=>n});i(296540);var o=i(474848);const n=(0,i(340498).wt)("export",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M3.0625 15.8174C2.32422 15.8174 1.76595 15.6305 1.3877 15.2568C1.00944 14.8831 0.820312 14.3294 0.820312 13.5957V6.86914C0.820312 6.13997 1.00944 5.58854 1.3877 5.21484C1.76595 4.83659 2.32422 4.64746 3.0625 4.64746H4.92871V5.99414H3.14453C2.82552 5.99414 2.58171 6.07845 2.41309 6.24707C2.24902 6.41113 2.16699 6.65951 2.16699 6.99219V13.4795C2.16699 13.8122 2.24902 14.0605 2.41309 14.2246C2.58171 14.3932 2.82552 14.4775 3.14453 14.4775H10.8486C11.1631 14.4775 11.4046 14.3932 11.5732 14.2246C11.7464 14.0605 11.833 13.8122 11.833 13.4795V6.99219C11.833 6.65951 11.7464 6.41113 11.5732 6.24707C11.4046 6.07845 11.1631 5.99414 10.8486 5.99414H9.07812V4.64746H10.9375C11.6758 4.64746 12.234 4.83659 12.6123 5.21484C12.9906 5.58854 13.1797 6.13997 13.1797 6.86914V13.5957C13.1797 14.3249 12.9906 14.8763 12.6123 15.25C12.234 15.6283 11.6758 15.8174 10.9375 15.8174H3.0625ZM7 11.3877C6.91797 11.3877 6.83822 11.374 6.76074 11.3467C6.68327 11.3148 6.60124 11.2578 6.51465 11.1758L4.21777 8.96094C4.10384 8.84245 4.04688 8.70801 4.04688 8.55762C4.04688 8.39811 4.09928 8.26823 4.2041 8.16797C4.31348 8.06771 4.44792 8.01758 4.60742 8.01758C4.7806 8.01758 4.92188 8.0791 5.03125 8.20215L5.98828 9.2207L6.43262 9.71973L6.36426 8.70117V1.61914C6.36426 1.45052 6.42578 1.30469 6.54883 1.18164C6.67643 1.05859 6.82682 0.99707 7 0.99707C7.17318 0.99707 7.32129 1.05859 7.44434 1.18164C7.57194 1.30469 7.63574 1.45052 7.63574 1.61914V8.70117L7.56738 9.71973L8.00488 9.2207L8.96191 8.20215C9.07585 8.0791 9.21712 8.01758 9.38574 8.01758C9.54069 8.01758 9.67285 8.06771 9.78223 8.16797C9.89616 8.26823 9.95312 8.39811 9.95312 8.55762C9.95312 8.70801 9.89388 8.84245 9.77539 8.96094L7.47852 11.1758C7.39648 11.2578 7.31673 11.3148 7.23926 11.3467C7.16178 11.374 7.08203 11.3877 7 11.3877Z"})})},721273:(e,t,i)=>{i.d(t,{Cn:()=>n,oV:()=>r,tK:()=>a});i(581454);var o=()=>i(534177);let n=function(e){return e[e.Sidebar=0]="Sidebar",e[e.SidebarMobile=1]="SidebarMobile",e[e.MobileBottomBarPhone=2]="MobileBottomBarPhone",e[e.MobileBottomBarTablet=3]="MobileBottomBarTablet",e[e.TopbarMobile=4]="TopbarMobile",e[e.RenderAsPage=5]="RenderAsPage",e}({});const s=new Map;function a(e,t){s.set(l(e),t)}function r(e){return s.get(l(e))??[]}function l(e){return(0,o().uv)(e).sort().map((t=>{const i=e[t];return JSON.stringify(i)})).join("-")}}}]);