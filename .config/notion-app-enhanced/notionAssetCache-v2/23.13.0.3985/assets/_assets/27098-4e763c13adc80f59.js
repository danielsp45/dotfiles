"use strict";(globalThis.webpackChunknotion_next=globalThis.webpackChunknotion_next||[]).push([[2411,5834,27098,34208,67608],{346:(e,t,n)=>{n.d(t,{MG:()=>m,T1:()=>g,a1:()=>S,dt:()=>f,kg:()=>h,lC:()=>x,n_:()=>v});var o=n(296540),i=()=>n(484714),r=()=>n(56366),a=()=>n(187174),s=()=>n(645873),l=()=>n(941463),d=()=>n(441199),c=()=>n(749687),u=()=>n(737230),p=()=>n(756114);const g=new(s().O2)("PerformanceToolbar",(()=>Promise.all([n.e(16471),n.e(92845),n.e(84468),n.e(48632),n.e(75078),n.e(95168),n.e(36908),n.e(21194),n.e(23930),n.e(61347),n.e(45624)]).then(n.bind(n,462407)))),m=(0,s()._h)(g,(e=>e.PerformanceToolbar)),f=(0,s()._h)(g,(e=>e.PerformanceToolbarSettings));function h(){const e=(0,i().v3)();return(0,r().K8)((()=>(0,p().D)(e,e.RouterStore.state)),[e])}function v(){const e=(0,i().v3)(),t=b("PerformanceToolbarStore"),n=b("isPerformanceToolbarVisible");return(0,r().K8)((()=>!(!t||!n)&&n(e,e.RouterStore.state,t.state)),[n,e,t])}function x(){const e=b("PerformanceToolbarStore");return(0,r().K8)((()=>!!e&&e.state.isPerformanceToolbarMounted),[e])}function S(){const e=(0,i().v3)(),t=b("createPerformanceToolbarMouseListeners"),n=b("PerformanceToolbarStore"),{sidebarExpanded:a,sidebarWidth:s,secondarySidebarExpanded:p,secondarySidebarWidth:g,updateSidebarExpanded:m,updateSidebarWidth:f}=(0,r().K8)((()=>({sidebarExpanded:c().sidebarExpandedStore.state,sidebarWidth:c().sidebarWidthStore.state,secondarySidebarExpanded:d().default.isOpen(),secondarySidebarWidth:l().Ay.getWidth(),updateSidebarExpanded:u().Ay.state.expanded,updateSidebarWidth:u().Ay.state.width})),[]);return(0,o.useEffect)((()=>{if(n&&t)return t(e,(e=>n.update((t=>({...t,isMouseNearPerformanceToolbar:e})))),a,s,p,g,m,f)}),[t,e,n,a,s,p,g,m,f])}function b(e){const t=h(),[{value:n}]=(0,a().Yb)((()=>t?g.load().then((t=>t[e])):Promise.resolve(void 0)),[e,t]);return n}},29037:(e,t,n)=>{n.r(t),n.d(t,{checkmarkIcon:()=>i,iconDefinition:()=>o});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"3.92 3.91 12.17 12.18",svg:(0,n(474848).jsx)("path",{d:"M15.784 4.002a.625.625 0 0 1 .214.857L9.445 15.784a.625.625 0 0 1-1.01.085l-4.37-5.098a.625.625 0 0 1 .948-.814l3.806 4.44 6.109-10.181a.625.625 0 0 1 .857-.214"})},i=(0,n(340498).wt)("checkmark",o)},59400:(e,t,n)=>{n.d(t,{nR:()=>c,m$:()=>s,m4:()=>l,Dy:()=>d,FZ:()=>p});n(296540);var o=()=>n(645873),i=n(474848);function r(e){const{shouldShowSpinner:t,collectionSettingsProps:o}=e;return(0,i.jsx)(n(735695).Ay,{collectionSettingsStore:o.collectionSettingsStore,fullHeight:o.fullHeight,hideDesktopHeader:o.hideDesktopHeader,children:t&&(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",overflow:"hidden",paddingBottom:20},children:(0,i.jsx)(n(331542).A,{})})})}const a=new(o().O2)("collectionSettings",(()=>Promise.all([n.e(75134),n.e(16471),n.e(58550),n.e(44711),n.e(53321),n.e(90825),n.e(96346),n.e(55373),n.e(37353),n.e(29151),n.e(78191),n.e(62475),n.e(3151),n.e(98629),n.e(92845),n.e(84468),n.e(5605),n.e(48486),n.e(95794),n.e(13677),n.e(56952),n.e(48632),n.e(75078),n.e(25497),n.e(74562),n.e(27711),n.e(4422),n.e(11341),n.e(46414),n.e(95168),n.e(28271),n.e(34877),n.e(36908),n.e(17254),n.e(84185),n.e(32421),n.e(15315),n.e(24587),n.e(78708),n.e(43777),n.e(74752),n.e(91194),n.e(81197),n.e(98659),n.e(20502),n.e(6266),n.e(8184),n.e(83884),n.e(65881),n.e(99809),n.e(93282),n.e(43678),n.e(15019),n.e(90978),n.e(3910),n.e(77213),n.e(6912),n.e(30291),n.e(19930),n.e(58102),n.e(26483),n.e(6463),n.e(40925),n.e(282),n.e(61349),n.e(62573),n.e(1440),n.e(63996),n.e(66559),n.e(35986),n.e(92924),n.e(64819),n.e(97339),n.e(55717),n.e(63797),n.e(21367),n.e(22686),n.e(99108)]).then(n.bind(n,409198)))),s=(0,o()._h)(a,(e=>e.CollectionSettings),{renderLoading:(e,t)=>(0,i.jsx)(r,{shouldShowSpinner:e,collectionSettingsProps:t})}),l=(0,o()._h)(a,(e=>e.CollectionSettingsButtonOptions)),d=(0,o()._h)(a,(e=>e.CollectionSettingsPropertyTypeMenuItem)),c=(0,o()._h)(a,(e=>e.CollectionEditButtonAutomationOption)),u=new(o().O2)("TableHeaderPropertyCreationMenu",(()=>Promise.all([n.e(75134),n.e(16471),n.e(58550),n.e(44711),n.e(53321),n.e(90825),n.e(96346),n.e(55373),n.e(37353),n.e(29151),n.e(78191),n.e(92845),n.e(84468),n.e(5605),n.e(48486),n.e(95794),n.e(13677),n.e(56952),n.e(48632),n.e(75078),n.e(25497),n.e(74562),n.e(27711),n.e(4422),n.e(11341),n.e(46414),n.e(95168),n.e(28271),n.e(34877),n.e(36908),n.e(17254),n.e(84185),n.e(32421),n.e(15315),n.e(24587),n.e(78708),n.e(43777),n.e(74752),n.e(91194),n.e(81197),n.e(98659),n.e(20502),n.e(6266),n.e(8184),n.e(83884),n.e(65881),n.e(99809),n.e(93282),n.e(43678),n.e(15019),n.e(90978),n.e(3910),n.e(77213),n.e(61349),n.e(35986),n.e(43935)]).then(n.bind(n,908800)))),p=(0,o()._h)(u,(e=>e.TableHeaderPropertyCreationMenu))},63467:(e,t,n)=>{n.d(t,{y:()=>c});var o=()=>n(637997),i=()=>n(267419);const r={ko:()=>n.e(2268).then(n.bind(n,224434)),es:()=>n.e(95264).then(n.bind(n,196425)),de:()=>n.e(35390).then(n.bind(n,653703)),fr:()=>n.e(3272).then(n.bind(n,94677)),pt:()=>n.e(27315).then(n.bind(n,766869)),zh:()=>n.e(69945).then(n.bind(n,516814)),ja:()=>n.e(77757).then(n.bind(n,824432)),da:()=>n.e(9423).then(n.bind(n,440761)),fi:()=>n.e(59337).then(n.bind(n,462135)),nb:()=>n.e(2040).then(n.bind(n,937314)),nl:()=>n.e(51106).then(n.bind(n,530897)),sv:()=>n.e(53631).then(n.bind(n,895222)),id:()=>n.e(69945).then(n.bind(n,516814)),th:()=>n.e(69945).then(n.bind(n,516814)),vi:()=>n.e(69945).then(n.bind(n,516814))};let a=!1,s=!1;async function l(e){for(const[n,i]of Object.entries(e.emojiLocaleKeywords)){var t;o().fB[n]={...o().fB[n],keywords:[...i,...(null===(t=o().fB[n])||void 0===t?void 0:t.keywords)||[]]}}await i().A.waitUntilLoaded(),i().A.update((t=>{let{emojiByName:n,...o}=t;return{...o,emojiByName:{...n,...e.emojiByName}}}))}async function d(){if(a)return;const[e]=n(662303).locale.split("-");e in r&&(await l(await r[e]()),a=!0)}const c=(0,n(279900).A)((async()=>{await async function(){s||(await l(await n.e(51872).then(n.bind(n,443716))),s=!0)}(),await d()}))},73223:(e,t,n)=>{n.r(t),n.d(t,{dismissTutorial:()=>c,resetTutorials:()=>u,tutorialAdvanceToStep:()=>p,tutorialAdvanceToStepAfter:()=>g,tutorialGoToNextStep:()=>l,tutorialGoToPrevStep:()=>d});var o=()=>n(541235),i=()=>n(751156),r=()=>n(755199),a=()=>n(739135),s=()=>n(765957);function l(e,t){var n;const{currentUserSettingsStore:o}=s().default.state;if(!o)return;const i=null===(n=o.getSettings())||void 0===n?void 0:n.tutorials;m({userAction:"TutorialActions.nextStep",environment:e,perform:e=>{r().mJ({userSettingsStore:o,transaction:e,data:{tutorials:{...i,[t]:(0,a().i9)(o,t)}}})},userId:o.id})}function d(e,t){var n;const{currentUserSettingsStore:o}=s().default.state;if(!o)return;const i=null===(n=o.getSettings())||void 0===n?void 0:n.tutorials;m({userAction:"TutorialActions.prevStep",environment:e,perform:e=>{r().mJ({userSettingsStore:o,transaction:e,data:{tutorials:{...i,[t]:(0,a().KD)(o,t)}}})},userId:o.id})}function c(e,t){var n;const{currentUserSettingsStore:i}=s().default.state;if(!i)return;const a=null===(n=i.getSettings())||void 0===n?void 0:n.tutorials;(null==a?void 0:a[t])!==o().YD&&m({userAction:"TutorialActions.dismissTutorial",environment:e,perform:e=>{r().mJ({userSettingsStore:i,transaction:e,data:{tutorials:{...a,[t]:o().YD}}})},userId:i.id})}function u(e){const{currentUserSettingsStore:t}=s().default.state;t&&m({userAction:"TutorialActions.resetTutorialsDebug",environment:e,perform:e=>{r().mJ({userSettingsStore:t,transaction:e,data:{tutorials:{}}})},userId:t.id})}function p(e,t,n){var i;const{currentUserSettingsStore:l}=s().default.state;if(!l||(0,a().x$)(l,t))return;const d=(0,a().gt)(l,t);o().c$[t].steps.findIndex((e=>e.id===d))>=o().c$[t].steps.findIndex((e=>e.id===n))||r().mJ({userSettingsStore:l,transaction:e,data:{tutorials:{...null===(i=l.getSettings())||void 0===i?void 0:i.tutorials,[t]:n}}})}function g(e,t,n){if((0,a().ll)(n))return;const o=(0,a().tb)(t,n);o&&p(e,t,o)}function m(e){return i().createAndCommit({...e,canUndo:!1})}},77279:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){return{discussionIdToExpansionStartPointMap:{}}}}const i=new o},85082:(e,t,n)=>{n.d(t,{J:()=>d});n(296540);var o=()=>n(959013);const i=n.p+"a7e5ea83ae6a4462.gif",r=n.p+"7dfc0055539fbdc2.gif",a=n.p+"9a2487c01dfc5636.gif";var s=n(474848);const l=(0,o().YK)({altText:{id:"aiChatModeGifFace.altText",defaultMessage:"Notion AI animated face"}});function d(e){const{configType:t,size:n=60}=e,d=(0,o().tz)();let c;return c="researcher"===t||"formulas"===t?a:"setup-generator"===t?r:i,(0,s.jsx)("img",{src:c,style:{width:n,height:n},alt:d.formatMessage(l.altText)})}},97059:(e,t,n)=>{n.d(t,{W:()=>f,w:()=>m});n(944114);var o=()=>n(585515),i=()=>n(577449),r=()=>n(161479),a=()=>n(545285),s=()=>n(763824),l=()=>n(780054),d=()=>n(870618),c=()=>n(670631),u=()=>n(227440),p=()=>n(217429),g=()=>n(540758);async function m(e){const{environment:t}=e;return(await s().lX(Object.keys(c().A.state.offlinePages||{}),100,(e=>async function(e){const{environment:t,pageId:n}=e,s={page:{id:n,spaceId:(0,r().e)(void 0)},baseUrl:l().A.domainBaseUrl,publicDomainName:l().A.publicDomainName,shouldTraverseToggleBlocks:!0,limit:1/0,cursor:{stack:[]},verticalColumns:!1},c=[];return await o().T(s,i().h.sideEffect((e=>((0,a().u)(e)&&c.push(e.id),Promise.resolve())),i().h.fromMonomorphicFunctionUnsafe((async e=>{const n=await d().h7({environment:t,pointer:e,useInMemoryCacheOnly:!1,skipAccessWrites:!0});return null==n?void 0:n.model})))),c}({environment:t,pageId:e})))).flat()}function f(e,t){return!u().A.state.online&&(e.device.isElectron||e.device.isMobileNative)&&p().default.checkGate({gateName:"download_for_offline"})&&!(0,g().Bd)(t)}},105819:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>o,pencilLineIcon:()=>i});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.63 4.12 14.99 11.76",svg:(0,n(474848).jsx)("path",{d:"m13.987 5.682-.684.684-1.288-1.288.692-.691a.91.91 0 0 1 1.28 0c.35.35.35.93 0 1.28zm-9.433 9.433 7.914-7.914-1.289-1.289-7.92 7.908c-.122.122-.214.29-.274.457l-.336 1.082c-.06.229.153.442.366.366l1.082-.335q.252-.07.457-.275m12.446.76H5.61l1.25-1.25H17a.625.625 0 1 1 0 1.25"})},i=(0,n(340498).wt)("pencilLine",o)},115562:(e,t,n)=>{n.d(t,{W:()=>l});n(296540);var o=()=>n(819121),i=()=>n(401497),r=()=>n(955825),a=()=>n(677195),s=n(474848);function l(e){const{selectorSize:t="normal",...n}=e,{disabled:l,checked:d}=n,[c,u]=(0,o().A)(),p=function(e){const{checked:t,disabled:n,isFocusVisible:o,selectorSize:r}=e;return(0,i().IS)((e=>({root:{position:"absolute",display:"flex",width:"large"===r?15:11,height:"large"===r?15:11,margin:1.5,justifyContent:"center",alignItems:"center",flexShrink:0,borderRadius:"large"===r?2:1,transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${n?e.tint.regular:e.blueColor}`,background:n?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${n?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...o&&{boxShadow:e.buttonBlueFocusRing}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"large"===r?18:void 0,height:"large"===r?18:void 0,...n?{pointerEvents:"none"}:{cursor:"pointer"}},icon:{color:e.text.contrastPrimary,width:"large"===r?12:10,height:"large"===r?12:10,ariaHidden:!0}})),[r,t,n,o])}({checked:d,disabled:l,selectorSize:t,isFocusVisible:u});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{ref:c,type:"checkbox",style:p.input,...n}),(0,s.jsx)("span",{...(0,r().AH)(p.root,l?{}:{pseudoActive:p.active}),children:d&&(0,a().R)(p.icon)})]})}},132855:(e,t,n)=>{n.r(t),n.d(t,{arrowInCircleUpFillIcon:()=>i,iconDefinition:()=>o});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.25 15.26",svg:(0,n(474848).jsx)("path",{d:"M10 17.625a7.625 7.625 0 1 0 0-15.25 7.625 7.625 0 0 0 0 15.25m3.042-8.07a.625.625 0 0 1-.884 0L10.625 8.02v5.466a.625.625 0 1 1-1.25 0V8.021L7.842 9.554a.625.625 0 1 1-.884-.883l2.6-2.6a.625.625 0 0 1 .884 0l2.6 2.6a.625.625 0 0 1 0 .883"})},i=(0,n(340498).wt)("arrowInCircleUpFill",o)},173019:(e,t,n)=>{n.d(t,{r:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("pencil",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M3.926 13.307H14.11c.183 0 .34-.066.472-.199a.644.644 0 00.198-.471.652.652 0 00-.198-.479.644.644 0 00-.472-.198H5.272l-1.346 1.347zm-.704-.636l7.683-7.684-1.312-1.319-7.69 7.684-.67 1.606c-.037.1-.017.191.06.273.083.082.174.105.274.069l1.655-.63zm8.34-8.326l.738-.732c.182-.187.278-.376.287-.567.009-.192-.068-.374-.232-.547l-.267-.267c-.169-.168-.351-.246-.547-.232-.196.014-.385.11-.567.287l-.739.732 1.327 1.326z"})})},207207:(e,t,n)=>{n.d(t,{J:()=>i});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"2.62 2.62 15.26 15.26",svg:(0,n(474848).jsx)("path",{d:"M8.875 2.625a6.25 6.25 0 1 0 3.955 11.09l3.983 3.982a.625.625 0 1 0 .884-.884l-3.983-3.982a6.25 6.25 0 0 0-4.84-10.205m-5 6.25a5 5 0 1 1 10 0 5 5 0 0 1-10 0"})},i=(0,n(340498).wt)("magnifyingGlass",o)},223955:(e,t,n)=>{n.d(t,{L:()=>H});var o=()=>n(244641),i=n(296540),r=()=>n(484714),a=()=>n(56366),s=()=>n(401497),l=()=>n(919709),d=()=>n(959013),c=()=>n(534177),u=()=>n(284371),p=()=>n(765957),g=()=>n(854094),m=()=>n(493823),f=()=>n(962730),h=()=>n(319975),v=()=>n(725614),x=()=>n(751156);class S extends(()=>n(757695))().Store{getInitialState(){return{open:!1}}}const b=new S;function y(e){let{environment:t}=e;b.reset(),v().clear({environment:t})}var C=()=>n(928600),A=()=>n(125565),k=()=>n(524702),w=()=>n(792540),j=()=>n(722872),T=()=>n(115512),M=()=>n(377586),P=n(474848);function B(e){let{origin:t}=e;const o=(0,r().v3)(),i=(0,a().K8)((()=>b.state.open),[]),s=(0,a().K8)((()=>p().default.state.currentUserSettingsStore),[]),l=(0,r().WS)();return s?(0,P.jsx)(n(897119).Ay,{popupType:l?M().n.SlideUp:M().n.Popup,open:i,origin:t,placementToOrigin:f().W.Bottom,alignmentToOrigin:f().C.Center,originGap:4,onDismiss:()=>y({environment:o}),render:()=>(0,P.jsx)(I,{userSettingsStore:s})}):null}function I(e){let{userSettingsStore:t}=e;const[n,o]=(0,i.useState)(!1),l=(0,r().v3)(),c=(0,d().tz)(),u=(0,a().K8)((()=>{var e;return null===(e=p().default.state.currentUserStore)||void 0===e?void 0:e.getDisplayName(c)}),[c]),g=(0,r().WS)(),m=(0,i.useCallback)((()=>o(!0)),[]),f=(0,i.useCallback)((()=>o(!1)),[]),v=(0,i.useCallback)((()=>y({environment:l})),[l]),S=(0,i.useCallback)((()=>function(e){let{environment:t}=e;const n=b.state;if(!n.open)return;const o=n.originalNickname;y({environment:t});const{currentUserSettingsStore:i}=p().default.state;if(!i)return;const r=i.getNicknameStore();x().createAndCommit({environment:t,userAction:"nicknameMenuActions.revertToOldNickname",canUndo:!0,perform:e=>{h().R9({environment:t,store:r,value:o,transaction:e})}})}({environment:l})),[l]),M=(0,s().IS)((e=>({menuContainer:{paddingTop:12,paddingBottom:12,paddingLeft:14,paddingRight:14},inputContainer:{display:"flex",alignItems:"center",color:e.text.primary,fontSize:(0,T().ny)(l,"UIRegular")},input:{display:"block",flexGrow:1,fontSize:14,lineHeight:"20px",width:"100%",borderRadius:4,boxShadow:n?e.buttonBlueFocusRing:e.inputBoxShadow,background:e.inputBackground,cursor:"text",position:"relative",marginTop:8,paddingTop:4,paddingBottom:4,paddingLeft:10,paddingRight:10}})),[l,n]),B=(0,a().K8)((()=>t.getSettingsStore().getKeyStore("nickname")),[t]);let I;return I=g?{menuType:j().gu.ActionSheet}:{menuType:j().gu.Popup,width:300},(0,P.jsx)(C().A,{...I,children:(0,P.jsxs)("div",{style:M.menuContainer,children:[(0,P.jsx)(A().A,{isSecondaryColor:!0,children:(0,P.jsx)(d().sA,{id:"personalHomeRenamePopup.title",defaultMessage:"Edit nickname"})}),(0,P.jsx)("div",{style:M.inputContainer,children:(0,P.jsx)(k().A,{style:M.input,store:B,disabled:!1,onEsc:S,onFocus:m,onBlur:f,onEnter:v,placeholder:u,pasteBehavior:"inline",disableEmojiCommands:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableSlashCommands:!0,disableComment:!0,disableMentions:!0,disableDrag:!0,disableEmbedMenu:!0,disableEquationInteraction:!0,disableMobileActionBar:!0,disableShiftEnter:!0,disableSelectAllBlocks:!0,disableSelectionDrag:!0,inPageFind:w().Os.none})})]})})}const D=i.memo(B);function R(e){var t;let{nickname:o}=e;const c=(0,r().v3)(),h=(0,s().DP)(),x=i.useRef(null),S=i.useRef();S.current=null===(t=x.current)||void 0===t?void 0:t.getBoundingClientRect();const y=(0,a().K8)((()=>b.state.open),[]),C=(0,a().K8)((()=>{var e;return null===(e=p().default.state.currentUserSettingsStore)||void 0===e?void 0:e.getNicknameStore()}),[]),A=(0,a().K8)((()=>{var e;const t=p().default.state.currentUserSettingsStore,i=null===(e=p().default.state.currentSpaceStore)||void 0===e?void 0:e.id;if(t&&i)return(0,n(921855).S5)({environment:c,textValue:o&&i?{value:o,spaceId:i}:void 0,parentStore:t,disableLinks:!0,disableHover:!1,disableStyleAnnotations:!1,disableInsertedDeletedAnnotations:!1,disableDateStyleAnnotations:!1,disableSuggestionAnnotations:!1,disabled:!0,theme:h,emojiType:(0,n(712030).FN)(c),katex:void 0,formulaValueTypes:[],stopLinkPropagation:!0})}),[c,o,h]),k=(0,i.useMemo)((()=>({height:"100%",flexShrink:1,fontSize:"inherit",fontWeight:"inherit",display:"flow",paddingTop:2,paddingBottom:2,marginLeft:-6,marginRight:-6,marginTop:-2,marginBottom:2,paddingLeft:6,paddingRight:6,...u().RC,color:void 0,lineHeight:void 0})),[]),w=(0,s().IS)((()=>({hiddenButton:{...k,width:0,overflow:void 0,pointerEvents:"none",color:"transparent",marginLeft:0,marginRight:0,paddingLeft:0,paddingRight:0},visibleButton:{...k,textShadow:"none"}})),[k]);return C?(0,P.jsx)(D,{origin:(0,P.jsx)(n(859428).A,{originRect:S.current,placement:f().W.Bottom,render:e=>(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(m().p,{hovered:!1,style:w.hiddenButton,children:A}),(0,P.jsx)(m().p,{...e,ref:x,hovered:y,style:w.visibleButton,onClick:()=>function(e){let{originalNicknameStore:t}=e;v().setSelection({store:t,selection:{startIndex:0,endIndex:(0,l().qAZ)(t.getValue()).length}}),b.setState({open:!0,originalNickname:t.getValue()})}({originalNicknameStore:C}),onMouseEnter:t=>{var n;null===(n=e.onMouseEnter)||void 0===n||n.call(e,t),g().A.setState({isHovered:!1})},children:A})]}),renderTooltip:()=>(0,P.jsx)(d().sA,{id:"personalHomeHeader.changeNameTooltip",defaultMessage:"Edit nickname"})})}):null}const L=i.memo(R);function _(e){let{marginTop:t,marginHorizontal:l,allPanelsLoaded:m,showWelcomeAnimation:f,clientStore:h}=e;const[v,x]=i.useState(!1),S=(0,d().tz)(),b=(0,r().WS)(),y=(0,a().K8)((()=>n(430483).zD.isAiHomeModuleEnabled()),[]),C=(0,a().K8)((()=>{var e;return null===(e=h.state.configForNewTranscripts)||void 0===e?void 0:e.type}),[h]),{name:A,loaded:k}=(0,a().K8)((()=>function(e){let{currentUserStore:t,currentUserSettingsStore:n,intl:o}=e;if(null==n||!n.isReady())return{name:void 0,loaded:!1};const i=n.getNickname();if(i&&E(i))return{name:i,loaded:!0};const r=null==t?void 0:t.getDisplayName(o),a=Boolean(null==t?void 0:t.isReady());return{name:r?[[r]]:void 0,loaded:a}}({currentUserStore:p().default.state.currentUserStore,currentUserSettingsStore:p().default.state.currentUserSettingsStore,intl:S})),[S]),w=(0,a().K8)((()=>{var e;return(null===(e=p().default.state.currentSpaceStore)||void 0===e?void 0:e.isReady())??!1}),[]);(0,i.useEffect)((()=>{const e=setTimeout((()=>{f&&!v&&x(!0)}),500);return()=>{clearTimeout(e)}}),[v,f]);const j=k&&w,T=function(e){let{timeOfDay:t,name:n}=e;if("morning"===t)return n?(0,P.jsx)(d().sA,{id:"personalHomeHeader.goodMorningUserName",defaultMessage:"<NoShrink>Good morning,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,P.jsx)(P.Fragment,{children:" "}),NoShrink:e=>(0,P.jsx)("span",{style:{flexShrink:0},children:e}),userName:n}}):(0,P.jsx)(d().sA,{id:"personalHomeHeader.goodMorningNoUserName",defaultMessage:"Good morning"});if("afternoon"===t)return n?(0,P.jsx)(d().sA,{id:"personalHomeHeader.goodAfternoonUserName",defaultMessage:"<NoShrink>Good afternoon,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,P.jsx)(P.Fragment,{children:" "}),NoShrink:e=>(0,P.jsx)("span",{style:{flexShrink:0},children:e}),userName:n}}):(0,P.jsx)(d().sA,{id:"personalHomeHeader.goodAfternoonNoUserName",defaultMessage:"Good afternoon"});if("evening"===t)return n?(0,P.jsx)(d().sA,{id:"personalHomeHeader.goodEveningUserName",defaultMessage:"<NoShrink>Good evening,</NoShrink>{nbsp}{userName}",values:{nbsp:(0,P.jsx)(P.Fragment,{children:" "}),NoShrink:e=>(0,P.jsx)("span",{style:{flexShrink:0},children:e}),userName:n}}):(0,P.jsx)(d().sA,{id:"personalHomeHeader.goodEveningNoUserName",defaultMessage:"Good evening"});(0,c().HB)(t)}({timeOfDay:function(){const e=o().c9.now().hour;return e>=19||e<2?"evening":e<12?"morning":"afternoon"}(),name:E(A)?(0,P.jsx)(L,{nickname:A}):void 0}),M=(0,P.jsx)(d().sA,{id:"personalHomeHeader.initialWelcomeText",defaultMessage:"Welcome home"}),B=(0,s().IS)((e=>{const n={width:"100%",height:"100%",marginTop:t,zIndex:1,paddingLeft:2*l,paddingRight:2*l,pointerEvents:"none",transition:"all 0.5s ease-in-out 2.75s",display:"flex",alignItems:"center",justifyContent:"center"},o=f&&!m;return{container:{width:"100%",height:"100%",display:"flex",position:"relative",flexDirection:"column",alignItems:"center",justifyContent:"center",opacity:v||!f?1:0,transition:"opacity 0.5s ease-in-out"},greetingTextContainer:{...n,opacity:o?0:1,transform:o?"translateY(12px)":"translateY(0px)"},welcomeTextContainer:{...n,opacity:o?1:0,transform:o?"translateY(0px)":"translateY(-12px)",position:"absolute"},headerText:{width:"100%",height:"100%",fontSize:b||y?24:30,lineHeight:1.2,fontWeight:u().Wy.semibold,color:e.text.primary,display:"flex",alignItems:"center",justifyContent:"center"},greetingTextSpan:{display:"flex",pointerEvents:"all",maxWidth:"100%"},mobileGreetingContainer:{display:"flex",flexDirection:"column"},gifFaceContainer:{marginTop:2,marginRight:6}}}),[t,l,m,f,v,b,y]),I=(0,P.jsxs)("div",{style:B.headerText,children:[y&&(0,P.jsx)("div",{style:B.gifFaceContainer,children:(0,P.jsx)(n(85082).J,{configType:C})}),(0,P.jsx)("span",{style:B.greetingTextSpan,children:T})]}),D=(0,P.jsx)("div",{style:B.mobileGreetingContainer,children:(0,P.jsx)("div",{style:B.headerText,children:(0,P.jsx)("span",{style:B.greetingTextSpan,children:T})})}),R=(0,P.jsx)("div",{style:B.greetingTextContainer,children:b?D:I}),_=(0,P.jsx)("div",{style:B.welcomeTextContainer,children:(0,P.jsx)("div",{style:B.headerText,children:M})});return j?(0,P.jsxs)("div",{style:B.container,onMouseEnter:()=>g().A.setState({isHovered:!0}),onMouseLeave:()=>g().A.setState({isHovered:!1}),children:[R,_]}):null}function E(e){return!!(0,c().O9)(e)&&0!==(0,l().qAZ)(e).length}const H=i.memo(_)},240865:(e,t,n)=>{n.d(t,{V:()=>r});var o=()=>n(56366),i=()=>n(765957);function r(e){return(0,o().K8)((()=>{var t;return e?e.getMemberCountFromPublicSpaceData()??void 0:(null===(t=i().default.state.currentSpaceStore)||void 0===t?void 0:t.getMemberCountFromPublicSpaceData())??void 0}),[e])}},271084:(e,t,n)=>{n.d(t,{k:()=>i});n(581454);class o extends(()=>n(757695))().Store{getInitialState(){}waitUntilLoaded(){return this.waitUntil((()=>Boolean(this.state)))}getSortedUserIds(){return Object.entries(this.state||{}).sort(((e,t)=>{let[n,o]=e,[i,r]=t;return r-o})).map((e=>{let[t,n]=e;return t}))}}const i=new o;(0,n(604341).exposeDebugValue)("UserSimilarityStore",i)},279900:(e,t,n)=>{function o(e){let t,n,o;return async function(){for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t?(o=r,n||(n=t.then((()=>(n=void 0,t=e(...o),t))),n)):(t=e(...r),t)}}n.d(t,{A:()=>o})},320865:(e,t,n)=>{n.d(t,{A:()=>i});n(296540);var o=n(474848);const i=function(){return(0,o.jsx)(n(678553).Ay,{title:(0,o.jsx)(n(331542).A,{})})}},380048:(e,t,n)=>{n.d(t,{I:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("chevronLeft",{viewBox:"0 0 16 16",directional:!0,svg:(0,o.jsx)("path",{d:"M3.61816 8.06445C3.61816 8.29688 3.70703 8.49512 3.8916 8.67285L9.22363 13.8887C9.36719 14.0391 9.55859 14.1143 9.77734 14.1143C10.2217 14.1143 10.5703 13.7725 10.5703 13.3213C10.5703 13.1025 10.4814 12.9043 10.3311 12.7539L5.52539 8.06445L10.3311 3.375C10.4814 3.21777 10.5703 3.01953 10.5703 2.80078C10.5703 2.35645 10.2217 2.01465 9.77734 2.01465C9.55859 2.01465 9.36719 2.08984 9.22363 2.24023L3.8916 7.45605C3.70703 7.63379 3.625 7.83203 3.61816 8.06445Z"})})},381138:(e,t,n)=>{n.d(t,{q:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("search",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M.281 6.438c0-.875.164-1.696.492-2.461a6.484 6.484 0 011.375-2.032A6.237 6.237 0 016.64.078 6.2 6.2 0 019.11.57c.77.328 1.447.787 2.03 1.375a6.374 6.374 0 011.368 2.032c.333.765.5 1.586.5 2.46 0 .688-.107 1.342-.32 1.961a6.28 6.28 0 01-.868 1.696l3.563 3.578c.11.104.19.226.242.367.057.14.086.29.086.445 0 .22-.05.417-.149.594a1.122 1.122 0 01-1 .57c-.156 0-.307-.028-.453-.086a1.058 1.058 0 01-.382-.25l-3.586-3.585c-.5.333-1.047.596-1.641.789a6.089 6.089 0 01-1.86.28 6.237 6.237 0 01-2.468-.491 6.4 6.4 0 01-2.024-1.367A6.509 6.509 0 01.773 8.913a6.256 6.256 0 01-.492-2.476zm1.664 0c0 .65.12 1.26.36 1.828a4.775 4.775 0 001.015 1.5c.433.427.933.763 1.5 1.007a4.548 4.548 0 001.82.368c.652 0 1.261-.123 1.829-.368a4.747 4.747 0 002.508-2.507 4.567 4.567 0 00.367-1.829c0-.645-.123-1.252-.367-1.82a4.776 4.776 0 00-1.016-1.5A4.578 4.578 0 008.469 2.11a4.567 4.567 0 00-1.828-.367c-.646 0-1.253.123-1.82.367a4.667 4.667 0 00-1.5 1.008c-.433.432-.772.932-1.016 1.5a4.633 4.633 0 00-.36 1.82z"})})},406533:(e,t,n)=>{n.r(t),n.d(t,{iconDefinition:()=>i,questionMarkCircleIcon:()=>r});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"2.37 2.37 15.26 15.25",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M9.978 7.154c-.804 0-1.333.456-1.438.874a.625.625 0 0 1-1.213-.303c.28-1.121 1.44-1.82 2.65-1.82 1.365 0 2.714.905 2.714 2.298 0 .812-.49 1.477-1.13 1.872l-.755.516a.84.84 0 0 0-.381.677.625.625 0 1 1-1.25 0c0-.688.36-1.318.921-1.706l.003-.002.784-.535.014-.008c.374-.228.544-.537.544-.814 0-.459-.517-1.049-1.463-1.049m.662 6.336a.8.8 0 1 1-1.6 0 .8.8 0 0 1 1.6 0"}),(0,o.jsx)("path",{d:"M2.375 10a7.625 7.625 0 1 1 15.25 0 7.625 7.625 0 0 1-15.25 0M10 3.625a6.375 6.375 0 1 0 0 12.75 6.375 6.375 0 0 0 0-12.75"})]})},r=(0,n(340498).wt)("questionMarkCircle",i)},413267:(e,t,n)=>{n.d(t,{b:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("thinCheck",{viewBox:"0 0 16 16",svg:(0,o.jsx)("path",{d:"M6.385 14.162c.362 0 .642-.15.84-.444L13.652 3.71c.144-.226.205-.417.205-.602 0-.485-.341-.82-.833-.82-.335 0-.54.123-.746.444l-5.926 9.4-3.042-3.903c-.205-.267-.417-.376-.718-.376-.492 0-.848.348-.848.827 0 .212.075.417.253.629l3.541 4.416c.24.3.492.437.848.437z"})})},454531:(e,t,n)=>{n.d(t,{W:()=>f});var o=()=>n(780054),i=()=>n(972435),r=()=>n(867772),a=()=>n(681810),s=()=>n(901389),l=()=>n(896628),d=()=>n(383594),c=()=>n(675925),u=()=>n(751156),p=()=>n(892632);const g=1500,m=(0,n(959013).YK)({pageCover:{defaultMessage:"Page cover",id:"pageCover.title"},fileTypeCaption:{defaultMessage:"Images wider than {idealImageWidth} pixels work best.",id:"pageCover.fileType.caption"},uploadFailed:{defaultMessage:"Upload failed",id:"pageCover.errorDialogMessage.uploadFailed"},preparing:{defaultMessage:"Preparing...",id:"pageCover.status.preparing"},downloading:{defaultMessage:"Downloading...",id:"pageCover.status.downloading"},embedTitle:{defaultMessage:"Link",id:"pageCover.embedType.title"},embedPlaceholder:{defaultMessage:"Paste an image link…",id:"pageCover.embedType.placeholder"},embedCaption:{defaultMessage:"Works with any image from the web.",id:"pageCover.embedType.caption"},embedSubmit:{defaultMessage:"Submit",id:"pageCover.embedType.buttonText"}});function f(e){let{environment:t,intl:n,store:o,rect:i,from:r}=e;d().W(t,{originGap:3,originRect:i,isSmallWidth:!1,popupWidth:540,maxHeight:485,title:n.formatMessage(m.pageCover),onDelete:()=>{!function(e){let{environment:t,store:n}=e;d().I(),u().createAndCommit({userAction:"PageCover.handleDelete",environment:t,canUndo:!0,perform:e=>{l().PT({store:n,transaction:e})}})}({environment:t,store:o})},currentTab:"gallery",tabs:[{type:"gallery",onChange:e=>{let{url:n,position:i}=e;(0,c().o)(t,{action:"edit_cover",block_type:"page",from:r},(e=>{v({environment:t,store:o,url:{originUrl:n},position:i}),e()}))}},{type:"file",fileUpload:!1,imageUpload:!0,videoUpload:!1,caption:n.formatMessage(m.fileTypeCaption,{idealImageWidth:g}),onUpload:e=>{(0,c().o)(t,{action:"edit_cover",block_type:"page",from:r},(i=>{var r;d().I(),p().QM({environment:t,file:e[0],bucket:"secure",record:(null===(r=o.getCoverStore())||void 0===r?void 0:r.pointer)??o.pointer,isFileBlock:!1,reportRichUploadMetrics:!0,onStart:x,onProgress:S,onComplete:e=>{var n;n={environment:t,store:o,url:{originUrl:e}},h({...n,position:.5})},onError:()=>{s().f1(n.formatMessage(m.uploadFailed))}}),i()}))}},{type:"embed",title:n.formatMessage(m.embedTitle),inputPlaceholder:n.formatMessage(m.embedPlaceholder),caption:n.formatMessage(m.embedCaption),buttonText:n.formatMessage(m.embedSubmit),onChange:e=>{(0,c().o)(t,{action:"edit_cover",block_type:"page",from:r},(n=>{var i;i={environment:t,store:o,url:e},h({...i,position:.5}),d().I(),n()}))}},{type:"unsplash",onChange:e=>{let{url:n,position:i}=e;(0,c().o)(t,{action:"edit_cover",block_type:"page",from:r},(e=>{v({environment:t,store:o,url:{originUrl:n},position:i}),e()}))}}]})}async function h(e){const{environment:t,store:n,url:o,position:s}=e,{serverCommitResult:d}=u().createAndCommit({userAction:"PageCover.updatePageCover",environment:t,canUndo:!0,perform:e=>{l().fg({store:n,url:o,position:s||.5,transaction:e})}});await d,a().A.state.loadingMode===r().vS&&a().A.setState({loadingMode:r().Gi,dataURL:a().A.state.dataURL,uploadProgress:t.device.isMobileNative?void 0:100,progressText:i().A.formatMessage(m.downloading)})}function v(e){h(e),o().A.isMobile&&d().I()}function x(e){const{file:t,name:n,size:o}=e;if(d().I(),a().A.setState({loadingMode:r().Wc,file:t,name:n,size:o}),t.type.indexOf("image")>=0)if(t instanceof File){const e=new FileReader;e.onload=e=>{a().A.state.loadingMode===r().Wc&&a().A.setState({...a().A.state,loadingMode:r().vS,uploadProgress:0,dataURL:e.target.result})},e.readAsDataURL(t)}else a().A.state.loadingMode===r().Wc&&a().A.setState({...a().A.state,loadingMode:r().vS,dataURL:t.dataURL,progressText:i().A.formatMessage(m.preparing)});else a().A.state.loadingMode===r().Wc&&a().A.setState({...a().A.state,loadingMode:r().vS,progressText:i().A.formatMessage(m.preparing)})}function S(e){const{progressPercent:t,progressText:n}=e;a().A.state.loadingMode===r().vS&&a().A.setState({...a().A.state,uploadProgress:t,progressText:n})}},458366:(e,t,n)=>{n.d(t,{B2:()=>P,F1:()=>k,Kc:()=>C,NN:()=>M,UY:()=>y,br:()=>T,lA:()=>w,lh:()=>A,pi:()=>x,w_:()=>b,zP:()=>S});n(898992),n(737550);var o=()=>n(584262),i=()=>n(443239),r=()=>n(970013),a=()=>n(713998),s=()=>n(882262),l=()=>n(415566),d=()=>n(177256),c=()=>n(72135),u=()=>n(919709),p=()=>n(496603),g=()=>n(534177),m=()=>n(939768),f=()=>n(720665),h=()=>n(492414),v=()=>n(972435);function x(e){return Boolean(e.state.isOpen&&e.state.collectionsBulkActionsToolbarStore)}function S(e){switch(e){case"table":return"table";case"board":return"board";case"list":return"list";case"gallery":return"gallery";case"feed":return"feed";case"relation":case"relation_section":return"relation_section";case"timeline":return"timeline";case"calendar":return"calendar";case"page":return"page_properties";case"compact_page":return"compact_page";case"mini":return"mini_peek";case"form_editor":case"form_viewer":case"property_module":return"property_module";default:(0,g().HB)(e)}}function b(e){return{backgroundImage:`linear-gradient(\n\t\tto right,\n\t\t${e.darkDividerColor} 0%,\n\t\t${e.darkDividerColor} 100%\n\t)`,backgroundRepeat:"repeat-x",backgroundPosition:"0 100%",backgroundSize:"100% 1px"}}function y(e){const{store:t,property:n,propertySchema:i}=e,r=null==i?void 0:i.type;if("title"===r)return(0,h().Ay)({store:t,fullyQualified:!1,pageVisitSource:o().y8.LinkInPage});{const e=t.getPropertyValue(n);return a().UY(r,e)}}function C(e){let t=(0,u().k4p)(e);if(!t||""===t.trim()||t.trim().includes(" "))return{domain:void 0,restOfUrl:void 0};t=t.trim();let n=m().qg(t),o=n.host;if(n.protocol&&o||(n=m().qg(`http://${t}`),o=n.host),!o)return{domain:void 0,restOfUrl:void 0};o&&(o=o.replace(/^www./i,""));const i=t.toLowerCase().indexOf(o.toLowerCase());if(-1===i)return{domain:void 0,restOfUrl:void 0};o=t.slice(i,i+o.length);return{domain:o,restOfUrl:t.slice(i+o.length)}}function A(e){const{numberValue:t,numberFormat:n,numberShowAs:o}=e;if(!(p().yr(t)||f().pN(t)||"bar"!==(null==o?void 0:o.type)&&"ring"!==(null==o?void 0:o.type))){const e=v().A.getIntl();return"percent"===n?c().ZV(t,"percent",e):`${t} / ${o.maxValue}`}}function k(e){const{property:t,collectionStore:n}=e,o=n.isSyncedCollection();return Boolean(o)&&(0,i().u)(t)}function w(e,t){switch(e){case"side_peek":return{icon:d().A,tooltip:v().A.formatMessage(j.openInSidePeekTooltip),caption:t?"":v().A.formatMessage(j.openAsPageTitle)};case"center_peek":return{icon:l().q,tooltip:v().A.formatMessage(j.openInCenterPeekTooltip),caption:t?"":v().A.formatMessage(j.openAsPageTitle)};case"full_page":return{icon:s().m,tooltip:v().A.formatMessage(j.openAsPageTooltip),caption:t?"":v().A.formatMessage(j.openAsPageTitle)};default:(0,g().HB)(e)}}const j=(0,n(959013).YK)({openAsPageTitle:{defaultMessage:"Open",id:"database.actionButton.openAsPageTitle"},openAsPageTooltip:{defaultMessage:"Open as page",id:"database.actionButton.openAsPageTooltip"},openInCenterPeekTooltip:{defaultMessage:"Open in center peek",id:"database.actionButton.openInCenterPeekTooltip"},openInSidePeekTooltip:{defaultMessage:"Open in side peek",id:"database.actionButton.openInSidePeekTooltip"}});function T(e){const{store:t,additionalStores:n,collectionContextStore:o}=e,i=t.getAssociatedCollectionStore();return!("collectionTypedView"!==(null==o?void 0:o.contextType)||!i)&&n.some((e=>{var t;return(null===(t=e.getAssociatedCollectionStore())||void 0===t?void 0:t.id)!==i.id}))}function M(e){return"form_editor"===e||"form_viewer"===e}function P(e){return Boolean(e&&!r().dA.includes(e.type))}},465364:(e,t,n)=>{n.d(t,{$N:()=>B,D5:()=>I,GB:()=>T,M9:()=>w,Pt:()=>P,eW:()=>M,jo:()=>R,v7:()=>j});n(944114),n(898992),n(803949),n(581454);var o=()=>n(244641),i=()=>n(787626),r=()=>n(713998),a=()=>n(597777),s=()=>n(604995),l=()=>n(416504),d=()=>n(519831),c=()=>n(496603),u=()=>n(534177),p=()=>n(299709),g=()=>n(317001),m=()=>n(520861),f=()=>n(878060),h=()=>n(44729),v=()=>n(246826),x=()=>n(319975),S=()=>n(519839),b=()=>n(695625),y=()=>n(397248),C=()=>n(217429),A=()=>n(630116),k=()=>n(747671);function w(e){const{environment:t,droppedStores:n,duplicate:r,calendarBy:c,transaction:u,collectionContextStore:f,duplicateActions:v}=e,x=o().c9.fromMillis(e.startOfDay);let b=!0;for(const o of n){const t=e.collectionStore?e.collectionStore:(0,S().Dj)({store:o,collectionContextStore:f});if(o.getParentTable()===d().Vl||!t){b=!1;break}h().X$({childStore:o,parentStore:t,transaction:u})||(b=!1)}const y=(0,m().T)({environment:t,droppedStores:n,duplicate:r,transaction:u,collectionStore:e.collectionStore,duplicateActions:v});for(const o of y){const n=e.collectionStore?e.collectionStore:(0,S().Dj)({store:o,collectionContextStore:f});if(!n)continue;const r=n.getMappedProperty(c),d=o.getPropertyStore(r),m=(0,i().b)(d.getValue())||s().Ec((0,l().P)()),h=s().kW(m,(0,l().P)()),v=x.toFormat(s().tr);let y;if("date"===h.type||"datetime"===h.type)y={...h,start_date:v};else{const e=s().AA(h,(0,l().P)());if(!e.end)return;const t={...h,start_date:v},n=s().AA(t,(0,l().P)()).start.diff(e.start,"days"),o=e.end.plus(n).toFormat(s().tr);y={...h,start_date:v,end_date:o}}const C=s().kW(y,a().$K(m)||(0,l().P)());(0,g().j)({environment:t,store:o,collectionStore:n,collectionContextStore:f,shouldCoerce:!0,groupsPointer:[],transaction:u,alreadyMovedToCollection:b}),I({environment:t,type:"dateValue",propertyId:r,store:o,transaction:u,dateValue:C}),(0,p().E)({environment:t,collectionContextStore:f,block_id:o.id,property:r,property_type:"date",from:"calendar"})}}function j(e){const{calendarStore:t,direction:n,targetStore:o}=e;t.setState({...t.state,isDragging:!0,targetStore:o,direction:n,temporaryValue:void 0})}function T(e){const{calendarStore:t,x:n,y:r,calendarBy:d}=e,u=t.state;if(u.isDragging){const e=(0,i().b)(u.targetStore.getPropertyStore(d).getValue());if(!e)return;const p=s().kW(e,(0,l().P)()),g=u.temporaryValue||e,m=s().kW(g,(0,l().P)()),f=[];u.dayStoreMap.forEach(((e,t)=>{f.push({store:e,timestamp:t})}));const h=f.find((e=>{let{store:t}=e;const o=b().T.getRectFromStore(t);return Boolean(o&&y().ux(o,n,r))}));let v;if(h){const e=o().c9.fromMillis(h.timestamp),t=e.endOf("day"),n=e.toFormat(s().tr);if(p){const i=s().AA(p,(0,l().P)());if(u.direction===k().Q.Left)if(o().IX.fromDateTimes(e,t).contains(i.start))v=p;else{let e;e="datetimerange"===p.type||"daterange"===p.type?{...p,start_date:n,end_date:p.end_date}:"datetime"===p.type?{type:"datetimerange",start_date:n,start_time:p.start_time,end_date:p.start_date,end_time:p.start_time,time_zone:p.time_zone,reminder:p.reminder}:{type:"daterange",start_date:n,end_date:p.start_date,reminder:p.reminder};const t=s().AA(e,(0,l().P)());v=!i.end&&t.start>i.start||i.end&&t.start>i.end?m:e}else if(i.end?o().IX.fromDateTimes(e,t).contains(i.end):o().IX.fromDateTimes(e,t).contains(i.start))v=p;else{let e;e="date"===p.type?{...p,type:"daterange",end_date:n}:"datetime"===p.type?{...p,type:"datetimerange",end_date:n,end_time:"00:00"}:{...p,end_date:n};const t=s().AA(e,(0,l().P)());v=t.end&&t.end<t.start?m:e}}}if(v&&!c().n4(m,v)){const e=s().kW(v,a().$K(g)||(0,l().P)());t.setState({...u,temporaryValue:e})}}}function M(e){const{environment:t,calendarStore:n,calendarBy:o,transaction:i}=e,r=n.state;r.isDragging&&r.temporaryValue&&(I({type:"dateValue",environment:t,dateValue:r.temporaryValue,propertyId:o,store:r.targetStore,transaction:i}),n.setState({...n.state,isDragging:!1}))}function P(e){const{calendarStore:t}=e,n=t.state;n.isDragging&&t.setState({...n,isDragging:!1})}function B(e){const{environment:t,store:n,collectionStore:i,collectionContextStore:a,startDayOfWeek:d,transaction:c}=e,u=a.dateRangeStartStore.state,p=(0,l().P)(),m=a.normalizedQueryStore.state;if(!m||!m.calendar_by)return;const f=(null==i?void 0:i.getMappedProperty(m.calendar_by))??m.calendar_by,h=s().hp(u,d,p),x=h.startOf("month"),S=h.endOf("month"),b=o().c9.now().startOf("day");let y;return y=o().IX.fromDateTimes(x,S).contains(b)?s().p6(b.valueOf(),p):s().p6(s().iB(u,d,p).valueOf(),p),v().zv({store:n.getPropertiesStore(),data:{[f]:r().m5(y)},transaction:c}),(0,g().j)({environment:t,store:n,collectionStore:i,collectionContextStore:a,shouldCoerce:!0,groupsPointer:[],transaction:c}),n}function I(e){const{environment:t,store:n,propertyId:o,transaction:i}=e;let a;"timestamp"===e.type?a=s().p6(e.timestampMs.valueOf(),(0,l().P)()):"dateValue"===e.type?a=e.dateValue:(0,u().HB)(e);const d=n.getPropertyValue(o);if(a&&function(e){const{propertyId:t,oldDateValue:n,newPersistedDate:o,store:i}=e;if(n||!o||void 0!==o.reminder)return!1;if(!C().default.checkGate({gateName:"adoption_reminder_collection_default"}))return!1;const r=D(t,i);if(void 0===r)return!1;return!0}({propertyId:o,oldDateValue:d,newPersistedDate:a,store:n})){const e=D(o,n);void 0!==e&&(a={...a,reminder:e})}const c=r().m5(a);v().zv({store:n.getPropertiesStore(),data:{[o]:c},transaction:i}),f().O({environment:t,store:n,dateProperty:{id:o,oldValue:d,newValue:c}})}function D(e,t){const n=t.getAssociatedCollectionStore();if(!n)return;const o=n.getSchema();if(!o)return;const i=o[e];return i&&"date"===i.type?i.default_reminder:void 0}function R(e){const{environment:t,collectionStore:n,calendarBy:o,store:i,insertStores:r,collectionContextStore:a,transaction:s}=e,l=i.getPropertyStore(o).getValue();for(const d of r)(0,g().j)({environment:t,store:d,collectionStore:n,collectionContextStore:a,shouldCoerce:!0,groupsPointer:[],transaction:s}),x().R9({environment:t,store:d.getPropertyStore(o),value:l,transaction:s});return r.map((e=>A().Bv.createChildStore(n,e.pointer)))}},477293:(e,t,n)=>{n.d(t,{r:()=>r});var o=()=>n(56366),i=()=>n(217429);function r(e){let{disableExposureLogging:t,disableEventTrailLogging:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,o().K8)((()=>i().default.getEligibleGroup({experimentId:e,defaultGroup:"control",disableExposureLogging:t,disableEventTrailLogging:n})),[e,t,n])}},505108:(e,t,n)=>{n.d(t,{a:()=>g});var o=n(296540),i=()=>n(401497),r=()=>n(534177),a=()=>n(284371),s=()=>n(84817),l=()=>n(819121),d=()=>n(955825),c=n(474848);function u(e){const{disabled:t,checked:n,selectorSize:o}=e,[r,a]=(0,l().A)(),s=function(e){const{checked:t,disabled:n,isFocusVisible:o,selectorSize:r}=e;return(0,i().IS)((e=>({root:{position:"absolute",display:"flex",width:15,height:15,padding:5,margin:1.5,justifyContent:"center",alignItems:"center",gap:8,flexShrink:0,borderRadius:"50%",transition:"background 100ms ease-out",...t?{boxShadow:`0 0 0 1.5px ${n?e.tint.regular:e.blueColor}`,background:n?e.tint.regular:e.blueColor}:{boxShadow:`0 0 0 1.5px ${n?e.icon.quaternary:e.stroke.input}`,background:e.surface.page},...o&&{boxShadow:e.buttonBlueFocusRing}},active:{background:t?e.blueButtonPressedBackground:e.buttonHoveredBackground},input:{opacity:0,width:"small"===r?14:18,height:"small"===r?14:18,...n?{pointerEvents:"none"}:{cursor:"pointer"}}})),[t,n,o,r])}({checked:n,disabled:t,isFocusVisible:a,selectorSize:o});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("input",{ref:r,type:"radio",style:s.input,className:"radio-button",...e}),(0,c.jsx)("span",{...(0,d().AH)("custom-radio-button",s.root,t?{}:{pseudoActive:s.active})})]})}var p=()=>n(554509);const g=o.forwardRef((function(e,t){let{additionalContent:n,description:r,isDisabled:l,isSelected:d,label:u,name:p,onChange:g,width:h="fill",selectorSize:v="normal",selectAlignXAxis:x="left",selectAlignYAxis:S="center",selectType:b="checkbox",style:y,supportText:C,value:A,colorName:k,alignAdditionalContent:w,...j}=e;const T=(0,o.useId)(),M=function(e){const{isSelected:t,isDisabled:n,selectAlignYAxis:o,alignAdditionalContent:r}=e;return(0,i().IS)((e=>{const i=t&&!n?e.blueColor:e.selectorBorderUnselected;return{container:{display:"flex",alignItems:r??"center",gap:12,userSelect:"none",padding:"9px 16px 10px 10px",borderRadius:6,border:`1px solid ${i}`,...!n&&{cursor:"pointer"}},title:{fontWeight:a().Wy.medium,fontSize:14,userSelect:"none",lineHeight:18},additionalContentWrapper:{flexShrink:0},selectorWrapper:{display:"flex",..."top"===o?{marginTop:2}:{}},rightAlignSelectorWrapper:{display:"flex"}}}),[t,n,o,r])}({isSelected:d,isDisabled:l,selectAlignYAxis:S,alignAdditionalContent:w}),P=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===S?"top-left":"center-left",gap:12,width:h,children:[(0,c.jsx)("div",{style:M.selectorWrapper,children:(0,c.jsx)(f,{id:T,selectType:b,name:p,value:A,onChange:g,isSelected:d,selectorSize:v,isDisabled:l,...j})}),(0,c.jsx)(m,{colorName:k,description:r,label:u,selectorSize:v,supportText:C,isDisabled:l})]}),B=(0,c.jsxs)(s().Y1,{direction:"horizontal",align:"top"===S?"top-center":"center",gap:12,children:[(0,c.jsx)(m,{colorName:k,description:r,label:u,selectorSize:v,supportText:C,isDisabled:l}),(0,c.jsx)("div",{style:{...M.selectorWrapper,...M.rightAlignSelectorWrapper},children:(0,c.jsx)(f,{id:T,selectType:b,name:p,value:A,onChange:g,selectorSize:v,isSelected:d,isDisabled:l,...j})})]}),I=n?(0,c.jsx)("div",{style:M.additionalContentWrapper,children:n}):null;return(0,c.jsx)("label",{ref:t,style:{...M.container,...y},htmlFor:T,children:"left"===x?(0,c.jsxs)(c.Fragment,{children:[P,I]}):(0,c.jsxs)(c.Fragment,{children:[I,B]})})}));function m(e){const{description:t,label:n,supportText:o,selectorSize:i,isDisabled:a,colorName:l}=e;let d;return"large"===i?d="Page-Content/Text-Block":"normal"===i||void 0===i?d="Body-13px/Medium":"small"===i?d="Body-12px/Regular":(0,r().HB)(i),(0,c.jsxs)(s().Y1,{gap:4,children:[(0,c.jsxs)(s().Y1,{gap:2,children:[(0,c.jsx)(p().D,{styleName:d,colorName:l||(a?"quaternary":"primary"),children:n}),t?(0,c.jsx)(p().D,{styleName:"Caption-12px/Regular",colorName:a?"quaternary":"secondary",children:t}):null]}),o?(0,c.jsx)(p().D,{styleName:"Caption-12px/Medium",colorName:"tertiary",children:o}):null]})}function f(e){const{selectType:t,selectorSize:o="normal",id:a,name:s,value:l,onChange:d,isSelected:p,isDisabled:g,...m}=e,f=(0,i().IS)((()=>({checkboxWrapper:{minWidth:18,display:"flex",justifyContent:"center"}})),[]);switch(t){case"radio":return(0,c.jsx)(u,{id:a,name:s,value:l,onChange:d,checked:p,disabled:g,selectorSize:o,...m});case"checkbox":return(0,c.jsx)("div",{style:f.checkboxWrapper,children:(0,c.jsx)(n(115562).W,{id:a,name:s,value:l,onChange:d,checked:p,disabled:g,selectorSize:o,...m})});case"none":return null;default:(0,r().HB)(t)}}},520861:(e,t,n)=>{n.d(t,{T:()=>i});n(944114),n(898992),n(908872);var o=()=>n(415651);function i(e){const{environment:t,collectionStore:n,duplicate:i,droppedStores:r,transaction:a,duplicateActions:s}=e,{movedStores:l,reparentedStores:d}=r.reduce(((e,t)=>(i||t.getAssociatedCollectionId()!==(null==n?void 0:n.id)?e.reparentedStores.push(t):e.movedStores.push(t),e)),{movedStores:[],reparentedStores:[]});return[...l,...o().MS({environment:t,droppedStores:d,duplicate:i,transaction:a,resolveTemplateVariables:!1,duplicateActions:s})]}},541235:(e,t,n)=>{n.d(t,{YD:()=>r,c$:()=>o,q_:()=>i});const o={"sprints-onboarding":{steps:[{id:"current-sprint-view-tooltip"},{id:"sprint-task-tooltip"},{id:"complete-sprint-button-tooltip"}]},"enhanced-qna-onboarding":{steps:[{id:"find-in-tooltip"},{id:"mention-tooltip"}]},"jira-sync-onboarding":{steps:[{id:"all-projects-tooltip"},{id:"all-issues-tooltip"},{id:"database-views-and-filters-tooltip"},{id:"settings-to-setup-projects-and-issues"}]},"project-management-import-onboarding":{steps:[{id:"your-teamspace-tooltip"},{id:"all-projects-tooltip"},{id:"navigate-to-project-tasks-tooltip"},{id:"project-customization-tooltip"},{id:"related-tasks-database-views-tooltip"}]},"ai-comment-onboarding":{steps:[{id:"ai-comment-onboarding-tooltip"}]}},i="completed",r="dismissed"},544862:(e,t,n)=>{n.d(t,{A:()=>A});var o=n(296540),i=()=>n(484714),r=()=>n(56366),a=()=>n(959013),s=()=>n(896628),l=()=>n(454531),d=()=>n(751156),c=()=>n(478726),u=()=>n(227440),p=()=>n(867772),g=()=>n(681810),m=()=>n(608581),f=()=>n(145214),h=()=>n(704152),v=()=>n(807683),x=()=>n(401497),S=()=>n(534177),b=n(474848);function y(e){let{src:t,placeholderSrc:n,placeholderBehavior:i,imageStyle:r,containerStyle:a,onLoadComplete:s,testId:l}=e;const[d,c]=(0,o.useState)(!0);let u;switch(i){case"force-show-placeholder":u=!0;break;case"force-show-src":u=!1;break;case"show-placeholder-if-loading-src":u=!!n&&(d||void 0===t);break;default:(0,S().HB)(i)}const p=(0,x().IS)((()=>{const e={gridColumn:1,gridRow:1};return{container:{display:"grid",...a},srcWrapper:{...u&&{display:"none"},...e},placeholderWrapper:{pointerEvents:"none",...e}}}),[a,u]);(0,o.useEffect)((()=>{void 0!==t&&c(!0)}),[t]);const g=(0,o.useCallback)((e=>{c(!1),null==s||s()}),[s]);return(0,b.jsxs)("div",{style:p.container,children:[(0,b.jsx)(v().Ay,{src:t,onLoad:g,style:r,placeholderStyle:p.srcWrapper,placeholderLoadedStyle:p.srcWrapper,testId:l}),n&&(0,b.jsx)(v().Ay,{src:n,style:r,placeholderStyle:p.placeholderWrapper,placeholderLoadedStyle:p.placeholderWrapper})]})}var C=()=>n(453101);const A=function(e){let{store:t,disabled:a,paddingRight:l,paddingLeft:c,height:u,proxyWidth:m}=e;const f=(0,i().v3)(),h=(0,i().Y0)(),x=(0,r().uB)(void 0,n(454305).A),S=(0,r().K8)((()=>a||"suggest"===n(77246).Uv.getMode(t)||(0,n(600871).aD)(h)),[a,t,h]),C=(0,r().K8)((()=>t.getCover()),[t]),A=(0,r().O$)(g().A),[j,T]=(0,o.useState)(void 0);if(!C)return null;const M=A.loadingMode!==p().pF&&A.loadingMode!==p().Wc;return(0,b.jsx)(n(801678).A,{mouseStore:x,onFlushTemporaryPosition:e=>function(e,t,n){const{imagePosition:o,reset:i}=e;d().createAndCommit({userAction:"PageCover.handleFlushTemporaryPosition",environment:n,canUndo:!0,perform:e=>{s().yY({store:t,coverPosition:o,transaction:e}),i()}})}(e,t,f),renderControl:e=>{let{handleRepositionClick:n,handleSavePositionClick:o,handleCancelClick:i,isVisible:r,isRepositioning:a}=e;return(0,b.jsx)(w,{handleRepositionClick:n,handleSavePositionClick:o,handleCancelClick:i,isVisible:r,isRepositioning:a,lastProxiedUrl:j,store:t,disabled:S,paddingRight:l,paddingLeft:c,mouseStore:x})},source:"page",store:t,style:{display:"flex",flexDirection:"column",alignItems:"center",height:u,maxHeight:280,cursor:"default"},preventClickPropagation:!0,render:e=>(0,b.jsxs)(o.Fragment,{children:[(0,b.jsx)(n(360083).A,{url:C.cover,isAuthenticated:!0,permissionRecord:C.pointer,width:m,onFinishedLoadingProxyUrl:T,render:(t,n)=>{const o={width:"100%",height:u,maxHeight:280,objectFit:"cover",opacity:M?.5:1,objectPosition:`center ${100*(1-(e.imagePosition||0))}%`,borderRadius:0},i={width:"100%",height:u,maxHeight:280};return(0,b.jsx)(y,{src:n,placeholderSrc:M?A.dataURL:void 0,placeholderBehavior:M?"force-show-placeholder":"show-placeholder-if-loading-src",containerStyle:i,imageStyle:o,onLoadComplete:k,testId:"pageCover"})}}),M&&(0,b.jsxs)("div",{style:v().fd,children:[(0,b.jsx)(n(331542).A,{size:"md",style:{marginRight:4}}),(0,b.jsx)("div",{style:{minWidth:30,textAlign:"right"},children:void 0!==A.uploadProgress?(0,b.jsx)(n(773382).A,{percentage:A.uploadProgress}):A.progressText?(0,b.jsx)("span",{children:A.progressText}):null})]})]})})};function k(){g().A.reset()}function w(e){let{isVisible:t,isRepositioning:n,handleCancelClick:s,handleRepositionClick:d,handleSavePositionClick:v,lastProxiedUrl:x,store:S,disabled:y,paddingRight:A,paddingLeft:k,mouseStore:w}=e;const j=(0,i().v3)(),T=(0,a().tz)(),M=(0,o.useCallback)((e=>function(e,t,n,o,i){i.reset();const r=e.target.getBoundingClientRect();l().W({environment:t,intl:n,store:o,rect:r,from:"page_header"})}(e,j,T,S,w)),[j,T,S,w]),P=(0,r().K8)((()=>g().A.state.loadingMode),[]),B=(0,r().K8)((()=>function(e){let t;return t=Boolean(e.isFullWidth())?"100%":c().x6,t}(S)),[S]),{device:I}=j,D=(0,r().O$)(u().e);if(y||P!==p().pF||!D)return null;const{isMobile:R}=I;return(0,b.jsx)(f().A,{animate:{width:B,opacity:t?1:0},style:{position:"absolute",pointerEvents:t?"auto":"none",maxWidth:"100%",top:48},children:(0,b.jsxs)(m().A,{isVisible:t,position:"bottom",style:{marginRight:A,marginLeft:k},children:[!n&&(0,b.jsx)(h().A,{style:{borderRight:R?"none":void 0,...C().k},onClick:M,children:(0,b.jsx)(a().sA,{defaultMessage:"Change cover",id:"pageCover.changeCover.text"})}),!n&&!R&&(0,b.jsx)(h().A,{style:{...C().k,borderRight:"none"},onClick:e=>d(e,x),children:(0,b.jsx)(a().sA,{defaultMessage:"Reposition",id:"pageCover.reposition.text"})}),n&&!R&&(0,b.jsx)(h().A,{style:C().k,onClick:v,children:(0,b.jsx)(a().sA,{defaultMessage:"Save position",id:"pageCover.savePosition.text"})}),n&&!R&&(0,b.jsx)(h().A,{style:{...C().k,borderRight:"none"},onClick:s,children:(0,b.jsx)(a().sA,{defaultMessage:"Cancel",id:"pageCover.reposition.cancelText"})})]})})}},555267:(e,t,n)=>{n.d(t,{A:()=>l});var o=n(296540),i=()=>n(401497),r=()=>n(62856),a=()=>n(331542),s=n(474848);function l(e){let{loadingMessage:t}=e;const n=(0,i().DP)(),l=(0,r().A)(!0,400);return(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},children:l?(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)(a().A,{}),t?(0,s.jsx)("div",{style:{marginLeft:8,color:n.text.secondary},children:t}):void 0]}):void 0})}},567121:(e,t,n)=>{n.d(t,{EG:()=>a,K5:()=>r,RH:()=>i,Yi:()=>s,ls:()=>o});const o=32,i=202,r=1e3,a="Want to add a metric? Look for 'src/client/performanceToolbar/config.ts' in notion-next.",s="To disable the toolbar entirely, go to the 'Experiments' panel and look for the 'performance_debugging_toolbar' flag."},578194:(e,t,n)=>{n.d(t,{r:()=>o});const o=(0,n(583835).Dv)("importEvernote")},608581:(e,t,n)=>{n.d(t,{A:()=>u});n(898992),n(354520),n(581454),n(941795);var o=n(296540),i=()=>n(401497),r=()=>n(955825),a=()=>n(284371),s=()=>n(780054),l=()=>n(963575),d=n(474848);function c(e){const{button:t,isLast:n}=e,s=(0,i().IS)((e=>({button:{display:"flex",alignItems:"center",padding:"4px 6px",fontWeight:a().Wy.medium,borderRight:`1px solid ${e.regularDividerColor}`,color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor},buttonLast:{borderRight:"none"},buttonHovered:{background:e.whiteButtonHoveredBackground},buttonPressed:{background:e.whiteButtonPressedBackground}})),[]);return o.cloneElement(t,{...(0,r().AH)(t.props.style,s.button,n&&s.buttonLast),hoveredStyle:(0,r().AH)(s.buttonHovered,n&&s.buttonLast).style,pressedStyle:s.buttonPressed})}const u=function(e){let{children:t,isVisible:u,position:p,style:g}=e;const m=(0,i().IS)((e=>({container:{color:e.actionMenuButtonTextColor,fill:e.actionMenuButtonTextColor,fontSize:12,background:e.whiteButtonBackground,boxShadow:e.shadowSM,display:"flex",whiteSpace:"nowrap",borderRadius:l().A.borderRadius,maxWidth:"calc(100% - 16px)",minHeight:24,overflow:"hidden",pointerEvents:s().A.isMobile?"auto":"none",opacity:s().A.isMobile?1:0,fontFamily:a().vc(n(662303).locale).sans,position:"absolute",right:l().A.horizontal.small,bottom:l().A.vertical.small,zIndex:2},containerHover:{pointerEvents:"auto",opacity:1},containerTop:{top:l().A.vertical.small,bottom:void 0}})),[]),f=o.Children.toArray(t).filter(n(534177).O9),h=f.length;return(0,d.jsx)(n(145214).A,{animate:{opacity:u?1:0},...(0,r().AH)(m.container,g,u&&m.containerHover,"top"===p&&m.containerTop),children:f.map(((e,t)=>{const i=t===h-1;if(e&&"object"==typeof e&&"type"in e){if(e.type===n(859428).A&&o.isValidElement(e))return o.cloneElement(e,{render:(t,n)=>{const o=e.props.render(t,n);return(0,d.jsx)(c,{isLast:i,button:o},e.key)}});if(e.type===n(704152).A&&o.isValidElement(e))return(0,d.jsx)(c,{isLast:i,button:e},e.key)}}))})}},677195:(e,t,n)=>{n.d(t,{R:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("verificationCheck",{viewBox:"0 0 6 7",svg:(0,o.jsx)("path",{d:"M2.84245 6.11619C2.71116 6.30644 2.53392 6.40156 2.31072 6.40156C2.20131 6.40156 2.10066 6.37881 2.00875 6.33332C1.92123 6.28782 1.83589 6.21545 1.75274 6.11619L0.150985 4.25515C0.0503282 4.12694 0 3.99874 0 3.87053C0 3.73406 0.04814 3.61826 0.14442 3.52314C0.245077 3.42388 0.365427 3.37425 0.50547 3.37425C0.597374 3.37425 0.680525 3.39286 0.754923 3.43008C0.833698 3.46317 0.912473 3.52934 0.991247 3.6286L2.28446 5.21049L5.00875 1.07896C5.13129 0.892857 5.28446 0.799805 5.46827 0.799805C5.60394 0.799805 5.72648 0.841161 5.83589 0.923874C5.9453 1.00659 6 1.11618 6 1.25266C6 1.32297 5.98249 1.39327 5.94748 1.46358C5.91685 1.52975 5.88184 1.59178 5.84245 1.64968L2.84245 6.11619Z"})})},681810:(e,t,n)=>{n.d(t,{A:()=>o});const o=new(n(867772).Ay)},735790:(e,t,n)=>{n.d(t,{M:()=>r});n(296540);var o=n(474848);const i={viewBox:"0 0 20 20",fittedViewBox:"2.37 4.25 15.25 11.5",svg:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("path",{d:"M3 7.375h6.829a2.501 2.501 0 0 0 4.842 0H17a.625.625 0 1 0 0-1.25h-2.329a2.501 2.501 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25M12.25 5.5a1.25 1.25 0 1 1 0 2.5 1.25 1.25 0 0 1 0-2.5"}),(0,o.jsx)("path",{fillRule:"evenodd",d:"M7.75 15.75a2.5 2.5 0 0 0 2.421-1.875H17a.625.625 0 1 0 0-1.25h-6.829a2.5 2.5 0 0 0-4.842 0H3a.625.625 0 1 0 0 1.25h2.329A2.5 2.5 0 0 0 7.75 15.75m0-1.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5",clipRule:"evenodd"})]})},r=(0,n(340498).wt)("sliders",i)},739135:(e,t,n)=>{n.d(t,{KD:()=>d,gt:()=>c,i9:()=>l,ll:()=>a,tb:()=>s,x$:()=>r});var o=()=>n(541235),i=()=>n(496603);function r(e,t){return a(c(e,t))}function a(e){return void 0!==e&&(e===o().q_||e===o().YD)}function s(e,t){if(a(t))return;const n=o().c$[e],i=n.steps.findIndex((e=>e.id===t));return-1===i?n.steps[0].id:i===n.steps.length-1?o().q_:n.steps[i+1].id}function l(e,t){const n=c(e,t);if(n&&!a(n))return s(t,n)}function d(e,t){const n=c(e,t);if(n)return function(e,t){const n=o().c$[e];var r;if(a(t))return null===(r=(0,i().HV)(n.steps))||void 0===r?void 0:r.id;const s=n.steps.findIndex((e=>e.id===t));return-1!==s&&0!==s?n.steps[s-1].id:void 0}(t,n)}function c(e,t){var n;if(!e)return;const i=((null===(n=e.getSettings())||void 0===n?void 0:n.tutorials)||{})[t];return void 0===i?o().c$[t].steps[0].id:i}},742117:(e,t,n)=>{n.d(t,{V:()=>i});n(296540);var o=n(474848);const i=(0,n(340498).wt)("chevronRight",{viewBox:"0 0 16 16",directional:!0,svg:(0,o.jsx)("path",{d:"M12.375 8.06445C12.375 7.83203 12.2861 7.63379 12.1084 7.45605L6.77637 2.24023C6.62598 2.08984 6.44141 2.01465 6.22266 2.01465C5.77832 2.01465 5.42285 2.35645 5.42285 2.80078C5.42285 3.01953 5.51172 3.21777 5.66211 3.375L10.4746 8.06445L5.66211 12.7539C5.51855 12.9043 5.42285 13.1025 5.42285 13.3213C5.42285 13.7725 5.77832 14.1143 6.22266 14.1143C6.44141 14.1143 6.62598 14.0391 6.77637 13.8887L12.1084 8.67285C12.293 8.49512 12.375 8.29688 12.375 8.06445Z"})})},747671:(e,t,n)=>{n.d(t,{Q:()=>o,a:()=>i});let o=function(e){return e[e.Left=0]="Left",e[e.Right=1]="Right",e}({});class i extends(()=>n(757695))().Store{getInitialState(){return{dayStoreMap:new Map,isDragging:!1,startingMonth:0}}}},756114:(e,t,n)=>{n.d(t,{D:()=>o});function o(e,t){t.route.name;return!1}},764756:(e,t,n)=>{n.d(t,{m:()=>i});class o extends(()=>n(757695))().Store{getInitialState(){return{type:"initial"}}}const i=new o},801678:(e,t,n)=>{n.d(t,{A:()=>m});var o=n(296540),i=()=>n(662303),r=()=>n(56366),a=()=>n(959013),s=()=>n(381349),l=()=>n(496603),d=()=>n(284371),c=()=>n(720665),u=()=>n(145214),p=n(474848);const g={isRepositioning:!1};const m=function(e){const t=(0,o.useRef)(null),i=(0,n(484714).v3)(),[a,s]=(0,o.useState)(g),d=(0,o.useCallback)((()=>{s(g)}),[]),{renderControl:u,onFlushTemporaryPosition:m,style:h,source:v,store:x}=e,{isRepositioning:S,image:b,startDragRenderedPosition:y,startDragImageScreenHeight:C}=a,A=(0,r().K8)((()=>0===n(502438).default.state.stores.length),[]),[k,w]=(0,o.useState)(!1),j=(0,r().uB)(e.mouseStore,n(454305).A),T=(0,r().K8)((()=>j.state.mouseEntered),[j]),M=(0,n(401497).IS)((()=>({dragContainer:{width:"100%",cursor:S?"move":"inherit"},container:{position:"relative",width:"100%",zIndex:1}})),[S]),P=(0,r().K8)((()=>function(e,t,n){return(0,l().Et)(n)?n:function(e,t){if("gallery"===e||"board"===e){const e=t.getFormat().card_cover_position;if((0,l().Et)(e))return e}const n=.5;if(t.isCollectionView()){const e=t.getCollectionStore();if(e){const t=e.getFormat().collection_cover_position;return(0,c().pN)(t)?n:t}}const o=t.getFormat(),i=o.page_cover_position;if((0,l().Et)(i))return i;return n}(e,t)}(v,x,a.temporaryPosition)),[a.temporaryPosition,v,x]);(0,o.useEffect)((()=>{const e=e=>{const n=t.current;n&&!n.contains(e.target)&&S&&m({imagePosition:P,reset:()=>{j.reset(),d()}})};return window.addEventListener("mousedown",e),()=>window.removeEventListener("mousedown",e)}),[P,S,j,m,d]),S&&!A&&d();const B=(0,o.useMemo)((()=>(0,l().nF)((e=>{j.setState({...j.state,mouseEntered:!0})}),100)),[j]),I=(0,o.useMemo)((()=>(0,l().sg)((e=>{j.setState({...j.state,mouseEntered:!1})}),100)),[j]),D=(0,o.useCallback)(((e,t)=>{n(778417).IU({environment:i});const o=new Image;o.onload=()=>{s((e=>({...e,isRepositioning:!0,image:o})))},t&&(o.src=t)}),[i]),R=(0,o.useCallback)((e=>{m({imagePosition:P,reset:()=>{d()}})}),[P,m,d]),L=(0,o.useCallback)((e=>{const t=e.target;void 0!==t&&t instanceof HTMLElement&&(0,n(819121).p)(t)&&w(!0)}),[]),_=(0,o.useCallback)((()=>{w(!0)}),[]),E=(0,o.useCallback)((e=>{if(b&&S){const e=t.current;if(e&&e instanceof Element){const t=e.getBoundingClientRect().width/b.width*b.height;s((e=>({...e,startDragImageScreenHeight:t,startDragRenderedPosition:P})))}}}),[b,P,S]),H=(0,o.useCallback)((e=>{if(S){const t=e.diffY/(C||0)+(y||0);s((e=>({...e,temporaryPosition:(0,l().LI)((0,n(40845).A)(t,0,1),4)})))}}),[S,C,y]),W=(0,o.useCallback)((()=>{s((e=>({...e,startDragImageScreenHeight:void 0,startDragRenderedPosition:void 0})))}),[]),N=(0,r().K8)((()=>u({handleRepositionClick:D,handleSavePositionClick:R,handleCancelClick:d,isVisible:T||k||S,isRepositioning:S})),[D,R,k,S,T,u,d]),U=(0,n(79043).A)(Boolean(e.preventClickPropagation));return(0,p.jsxs)("div",{ref:t,onFocus:L,onBlur:_,onMouseEnter:B,onMouseMove:B,onMouseLeave:I,...U,...(0,n(955825).AH)(M.container,h),children:[(0,p.jsx)(n(603820).A,{onDraggableDragStart:E,onDraggableDragMove:H,onDraggableDragEnd:W,onDraggableDragCancel:W,disabled:!S,render:t=>(0,p.jsx)("div",{style:M.dragContainer,...t,children:e.render({imagePosition:P,isRepositioning:S})})}),(0,p.jsx)(f,{small:e.small,isRepositioning:S}),N]})};function f(e){let{small:t,isRepositioning:n}=e;if(t)return null;const o={background:s().Ay.blackWithAlpha(.4),borderRadius:4,color:s().Ay.white,fontSize:12,fontFamily:d().vc(i().locale).sans,width:180,left:"calc(50% - 90px)",padding:"0.3em 1.5em 0.3em",pointerEvents:"none",position:"absolute",top:"calc(50% - 10px)",textAlign:"center"};return(0,p.jsx)(u().A,{visible:n,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},style:o,children:(0,p.jsx)(a().sA,{defaultMessage:"Drag image to reposition",id:"withImageRepositioning.dragImage.text"})})}},843189:(e,t,n)=>{n.d(t,{E:()=>a});var o=n(296540),i=()=>n(960715),r=n(474848);const a=o.forwardRef(((e,t)=>{let{children:o,color:a,disabled:s,iconLeading:l,iconStyle:d,iconTrailing:c,isLoading:u,shape:p="default",size:g="md",style:m,...f}=e;const h=(0,n(963589).X)("nds_button_gap")||Boolean(c),v=(0,n(401497).IS)((e=>{const t=a?`${a}Primary`:"primary",r=a||"regular",c=a?`${a}Hover`:"primaryHover",f=a?`${a}Pressed`:"primaryPressed";return{button:{...(0,i().qq)({shape:p,size:g,hasIconOnly:Boolean(l)&&!o,isButtonGapEnabled:h}),justifyContent:"center",color:e.text[t],background:e.tint[r],opacity:s||u?.3:1,fontWeight:n(284371).Wy.medium,...m},hovered:{background:s?e.tint[r]:e.tint[c]},pressed:{background:s?e.tint[r]:e.tint[f]},icon:{...(0,i().D3)({size:g,hasIconOnly:!o,isButtonGapEnabled:h}),...d}}}),[o,a,s,l,d,h,u,p,g,m]);return(0,r.jsxs)(n(197190).A,{ref:t,style:v.button,hoveredStyle:v.hovered,pressedStyle:v.pressed,disabled:s||u,...f,children:[u?(0,r.jsx)(n(331542).A,{style:{marginRight:4}}):null,l?l(v.icon):null,o,c?c(v.icon):null]})}));a.displayName="TintButton"},867772:(e,t,n)=>{n.d(t,{Ay:()=>l,Gi:()=>r,Wc:()=>o,pF:()=>a,vS:()=>i});const o="loadingLocalImage",i="uploading",r="downloading",a="loaded";class s extends(()=>n(757695))().Store{getInitialState(){return{loadingMode:a}}}const l=s},882262:(e,t,n)=>{n.d(t,{m:()=>i});n(296540);const o={viewBox:"0 0 20 20",fittedViewBox:"3.23 3.23 13.54 13.53",svg:(0,n(474848).jsx)("path",{d:"M4.485 8.86V5.369l4.073 4.073a.625.625 0 0 0 .884-.884L5.369 4.485h3.49a.625.625 0 1 0 0-1.25h-5a.625.625 0 0 0-.624.625v5a.625.625 0 0 0 1.25 0m10.146 6.655-4.07-4.07a.625.625 0 0 1 .884-.884l4.07 4.07V11.14a.625.625 0 1 1 1.25 0v5c0 .345-.28.625-.625.625h-5a.625.625 0 1 1 0-1.25z"})},i=(0,n(340498).wt)("arrowExpandDiagonal",o)},937199:(e,t,n)=>{n.d(t,{LH:()=>r,Op:()=>i,bi:()=>l,sf:()=>s,v$:()=>a});n(16280);var o=n(296540);const i=(0,o.createContext)(null);function r(){const e=(0,o.useContext)(i);if(!e)throw new Error("usePageLayoutEditorContext must be used inside BaseLayoutEditorContext.Provider");return e}function a(){return(0,o.useContext)(i)}i.displayName="BaseLayoutEditorContext";const s=(0,o.createContext)(null);function l(){const e=(0,o.useContext)(s);if(!e)throw new Error("usePageLayoutEditorContext must be used inside PageLayoutEditorContextProvider");return e}s.displayName="PageLayoutEditorContext"}}]);